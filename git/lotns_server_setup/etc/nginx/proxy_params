# Sets the HTTP protocol version for proxying. By default, version 1.0 is used. Version 1.1 is recommended for
# use with keepalive connections and NTLM authentication.
# Default: proxy_http_version 1.0;
proxy_http_version 1.1;

# Allows redefining or appending fields to the request header passed to the proxied server. The value can
# contain text, variables, and their combinations. These directives are inherited from the previous configuration
# level if and only if there are no proxy_set_header directives defined on the current level.
# Default: proxy_set_header Host $proxy_host; proxy_set_header Connection close;
proxy_set_header Host $host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_set_header X-Forwarded-Protocol $scheme;
proxy_set_header X-Forwarded-Host $http_host;

# Determines whether proxied responses with codes greater than or equal to 300 should be passed to a client or
# be intercepted and redirected to nginx for processing with the error_page directive.
# Default: proxy_intercept_errors off;
proxy_intercept_errors off;

# Includes another file, or files matching the specified mask, into configuration. Included files should consist of
# syntactically correct directives and blocks.
include snippets/headers.conf;
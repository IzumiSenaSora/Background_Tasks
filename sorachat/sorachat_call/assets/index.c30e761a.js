var Gae=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var kMe=Gae((IMe,fp)=>{function Wae(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Yae=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};Yae();var Sy=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Xae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zae(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}function Jae(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WX={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Sy,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function s(O,M){var A=O[M];if(typeof A.bind=="function")return A.bind(O);try{return Function.prototype.bind.call(A,O)}catch{return function(){return Function.prototype.apply.apply(A,[O,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(O){return O==="debug"&&(O="log"),typeof console===n?!1:O==="trace"&&r?o:console[O]!==void 0?s(console,O):console.log!==void 0?s(console,"log"):e}function d(O,M){for(var A=0;A<i.length;A++){var D=i[A];this[D]=A<O?e:this.methodFactory(D,O,M)}this.log=this.debug}function h(O,M,A){return function(){typeof console!==n&&(d.call(this,M,A),this[O].apply(this,arguments))}}function f(O,M,A){return l(O)||h.apply(this,arguments)}function v(O,M,A){var D=this,U;M=M==null?"WARN":M;var R="loglevel";typeof O=="string"?R+=":"+O:typeof O=="symbol"&&(R=void 0);function X(Z){var ie=(i[Z]||"silent").toUpperCase();if(!(typeof window===n||!R)){try{window.localStorage[R]=ie;return}catch{}try{window.document.cookie=encodeURIComponent(R)+"="+ie+";"}catch{}}}function H(){var Z;if(!(typeof window===n||!R)){try{Z=window.localStorage[R]}catch{}if(typeof Z===n)try{var ie=window.document.cookie,se=ie.indexOf(encodeURIComponent(R)+"=");se!==-1&&(Z=/^([^;]+)/.exec(ie.slice(se))[1])}catch{}return D.levels[Z]===void 0&&(Z=void 0),Z}}function K(){if(!(typeof window===n||!R)){try{window.localStorage.removeItem(R);return}catch{}try{window.document.cookie=encodeURIComponent(R)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}D.name=O,D.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},D.methodFactory=A||f,D.getLevel=function(){return U},D.setLevel=function(Z,ie){if(typeof Z=="string"&&D.levels[Z.toUpperCase()]!==void 0&&(Z=D.levels[Z.toUpperCase()]),typeof Z=="number"&&Z>=0&&Z<=D.levels.SILENT){if(U=Z,ie!==!1&&X(Z),d.call(D,Z,O),typeof console===n&&Z<D.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+Z},D.setDefaultLevel=function(Z){M=Z,H()||D.setLevel(Z,!1)},D.resetLevel=function(){D.setLevel(M,!1),K()},D.enableAll=function(Z){D.setLevel(D.levels.TRACE,Z)},D.disableAll=function(Z){D.setLevel(D.levels.SILENT,Z)};var W=H();W==null&&(W=M),D.setLevel(W,!1)}var w=new v,E={};w.getLogger=function(M){if(typeof M!="symbol"&&typeof M!="string"||M==="")throw new TypeError("You must supply a name when creating a logger.");var A=E[M];return A||(A=E[M]=new v(M,w.getLevel(),w.methodFactory)),A};var C=typeof window!==n?window.log:void 0;return w.noConflict=function(){return typeof window!==n&&window.log===w&&(window.log=C),w},w.getLoggers=function(){return E},w.default=w,w})})(WX);var ZS=WX.exports;const YX="matrix";ZS.methodFactory=function(t,e,n){return function(...r){return this.prefix&&r.unshift(this.prefix),t==="error"||t==="warn"||t==="trace"||t==="info"?console[t](...r):console.log(...r)}};const V=ZS.getLogger(YX);V.setLevel(ZS.levels.DEBUG,!1);function XX(t){t.withPrefix=function(e){const n=this.prefix||"";return Qae(n+e)}}XX(V);function Qae(t){const e=ZS.getLogger(`${YX}-${t}`);return e.prefix!==t&&(XX(e),e.prefix=t,e.setLevel(ZS.levels.DEBUG,!1)),e}const ele="l",tle="rn";var nle={0:"O",1:"l","\u05AD":"\u0596","\u05AE":"\u0598","\u05A8":"\u0599","\u05A4":"\u059A","\u1AB4":"\u06DB","\u20DB":"\u06DB","\u0619":"\u0313","\u08F3":"\u0313","\u0343":"\u0313","\u0315":"\u0313","\u064F":"\u0313","\u065D":"\u0314","\u059C":"\u0301","\u059D":"\u0301","\u0618":"\u0301","\u0747":"\u0301","\u0341":"\u0301","\u0954":"\u0301","\u064E":"\u0301","\u0340":"\u0300","\u0953":"\u0300","\u030C":"\u0306","\uA67C":"\u0306","\u0658":"\u0306","\u065A":"\u0306","\u036E":"\u0306","\u06E8":"\u0306\u0307","\u0310":"\u0306\u0307","\u0901":"\u0306\u0307","\u0981":"\u0306\u0307","\u0A81":"\u0306\u0307","\u0B01":"\u0306\u0307","\u0C00":"\u0306\u0307","\u0C81":"\u0306\u0307","\u0D01":"\u0306\u0307","\u{114BF}":"\u0306\u0307","\u1CD0":"\u0302","\u0311":"\u0302","\u065B":"\u0302","\u07EE":"\u0302","\uA6F0":"\u0302","\u05AF":"\u030A","\u06DF":"\u030A","\u17D3":"\u030A","\u309A":"\u030A","\u0652":"\u030A","\u0B82":"\u030A","\u1036":"\u030A","\u17C6":"\u030A","\u{11300}":"\u030A","\u0E4D":"\u030A","\u0ECD":"\u030A","\u0366":"\u030A","\u2DEA":"\u030A","\u08EB":"\u0308","\u07F3":"\u0308","\u064B":"\u030B","\u08F0":"\u030B","\u0342":"\u0303","\u0653":"\u0303","\u05C4":"\u0307","\u06EC":"\u0307","\u0740":"\u0307","\u08EA":"\u0307","\u0741":"\u0307","\u0358":"\u0307","\u05B9":"\u0307","\u05BA":"\u0307","\u05C2":"\u0307","\u05C1":"\u0307","\u07ED":"\u0307","\u0902":"\u0307","\u0A02":"\u0307","\u0A82":"\u0307","\u0BCD":"\u0307","\u0337":"\u0338","\u1AB7":"\u0328","\u0322":"\u0328","\u0345":"\u0328","\u1CD2":"\u0304","\u0305":"\u0304","\u0659":"\u0304","\u07EB":"\u0304","\uA6F1":"\u0304","\u1CDA":"\u030E","\u0657":"\u0312","\u0357":"\u0350","\u08FF":"\u0350","\u08F8":"\u0350","\u0900":"\u0352","\u1CED":"\u0316","\u1CDC":"\u0329","\u0656":"\u0329","\u1CD5":"\u032B","\u0347":"\u0333","\u08F9":"\u0354","\u08FA":"\u0355","\u309B":"\uFF9E","\u309C":"\uFF9F","\u0336":"\u0335","\u302C":"\u0309","\u05C5":"\u0323","\u08ED":"\u0323","\u1CDD":"\u0323","\u05B4":"\u0323","\u065C":"\u0323","\u093C":"\u0323","\u09BC":"\u0323","\u0A3C":"\u0323","\u0ABC":"\u0323","\u0B3C":"\u0323","\u{111CA}":"\u0323","\u{114C3}":"\u0323","\u{10A3A}":"\u0323","\u08EE":"\u0324","\u1CDE":"\u0324","\u0F37":"\u0325","\u302D":"\u0325","\u0327":"\u0326","\u0321":"\u0326","\u0339":"\u0326","\u1CD9":"\u032D","\u1CD8":"\u032E","\u0952":"\u0331","\u0320":"\u0331","\u08F1":"\u064C","\u08E8":"\u064C","\u08E5":"\u064C",\uFC5E:"\uFE72\u0651","\u08F2":"\u064D",\uFC5F:"\uFE74\u0651",\uFCF2:"\uFE77\u0651",\uFC60:"\uFE76\u0651",\uFCF3:"\uFE79\u0651",\uFC61:"\uFE78\u0651","\u061A":"\u0650","\u0317":"\u0650",\uFCF4:"\uFE7B\u0651",\uFC62:"\uFE7A\u0651",\uFC63:"\uFE7C\u0670","\u065F":"\u0655","\u030D":"\u0670","\u0742":"\u073C","\u0A03":"\u0983","\u0C03":"\u0983","\u0C83":"\u0983","\u0D03":"\u0983","\u0D83":"\u0983","\u1038":"\u0983","\u{114C1}":"\u0983","\u17CB":"\u0E48","\u0EC8":"\u0E48","\u0EC9":"\u0E49","\u0ECA":"\u0E4A","\u0ECB":"\u0E4B","\uA66F":"\u20E9","\u2028":" ","\u2029":" ","\u1680":" ","\u2000":" ","\u2001":" ","\u2002":" ","\u2003":" ","\u2004":" ","\u2005":" ","\u2006":" ","\u2008":" ","\u2009":" ","\u200A":" ","\u205F":" ","\xA0":" ","\u2007":" ","\u202F":" ","\u07FA":"_","\uFE4D":"_","\uFE4E":"_","\uFE4F":"_","\u2010":"-","\u2011":"-","\u2012":"-","\u2013":"-","\uFE58":"-","\u06D4":"-","\u2043":"-","\u02D7":"-","\u2212":"-","\u2796":"-","\u2CBA":"-","\u2A29":"-\u0313","\u2E1A":"-\u0308","\uFB29":"-\u0307","\u2238":"-\u0307","\u2A2A":"-\u0323","\uA4FE":"-.","\uFF5E":"\u301C","\u060D":",","\u066B":",","\u201A":",","\xB8":",","\uA4F9":",","\u2E32":"\u060C","\u066C":"\u060C","\u037E":";","\u2E35":"\u061B","\u0903":":","\u0A83":":","\uFF1A":":","\u0589":":","\u0703":":","\u0704":":","\u16EC":":","\uFE30":":","\u1803":":","\u1809":":","\u205A":":","\u05C3":":","\u02F8":":","\uA789":":","\u2236":":",\u02D0:":","\uA4FD":":","\u2A74":"::=","\u29F4":":\u2192","\uFF01":"!",\u01C3:"!","\u2D51":"!","\u203C":"!!","\u2049":"!?",\u0294:"?","\u0241":"?","\u097D":"?",\u13AE:"?","\uA6EB":"?","\u2048":"?!","\u2047":"??","\u2E2E":"\u061F","\u{1D16D}":".","\u2024":".","\u0701":".","\u0702":".","\uA60E":".","\u{10A50}":".","\u0660":".","\u06F0":".","\uA4F8":".","\uA4FB":".,","\u2025":"..","\uA4FA":"..","\u2026":"...","\uA6F4":"\uA6F3\uA6F3","\u30FB":"\xB7","\uFF65":"\xB7","\u16EB":"\xB7","\u0387":"\xB7","\u2E31":"\xB7","\u{10101}":"\xB7","\u2022":"\xB7","\u2027":"\xB7","\u2219":"\xB7","\u22C5":"\xB7","\uA78F":"\xB7",\u1427:"\xB7","\u22EF":"\xB7\xB7\xB7","\u2D48":"\xB7\xB7\xB7",\u1444:"\xB7<","\u22D7":"\xB7>",\u1437:"\xB7>",\u1440:"\xB7>",\u152F:"\xB74",\u147E:"\xB7b",\u1480:"\xB7b\u0307",\u147A:"\xB7d",\u1498:"\xB7J",\u14B6:"\xB7L",\u1476:"\xB7P",\u1457:"\xB7U",\u143A:"\xB7V",\u143C:"\xB7\u0245",\u14AE:"\xB7\u0393",\u140E:"\xB7\u0394",\u1459:"\xB7\u0548",\u140C:"\xB7\u1401",\u1410:"\xB7\u1404",\u1412:"\xB7\u1405",\u1414:"\xB7\u1406",\u1417:"\xB7\u140A",\u1419:"\xB7\u140B",\u143E:"\xB7\u1432",\u1442:"\xB7\u1434",\u1446:"\xB7\u1439",\u145B:"\xB7\u144F",\u1454:"\xB7\u1450",\u145D:"\xB7\u1450",\u145F:"\xB7\u1451",\u1461:"\xB7\u1455",\u1463:"\xB7\u1456",\u1474:"\xB7\u146B",\u1478:"\xB7\u146E",\u147C:"\xB7\u1470",\u1492:"\xB7\u1489",\u1494:"\xB7\u148B",\u1496:"\xB7\u148C",\u149A:"\xB7\u148E",\u149C:"\xB7\u1490",\u149E:"\xB7\u1491",\u14AC:"\xB7\u14A3",\u14B0:"\xB7\u14A6",\u14B2:"\xB7\u14A7",\u14B4:"\xB7\u14A8",\u14B8:"\xB7\u14AB",\u14C9:"\xB7\u14C0","\u18C6":"\xB7\u14C2","\u18C8":"\xB7\u14C3","\u18CA":"\xB7\u14C4","\u18CC":"\xB7\u14C5",\u14CB:"\xB7\u14C7",\u14CD:"\xB7\u14C8",\u14DC:"\xB7\u14D3",\u14DE:"\xB7\u14D5",\u14E0:"\xB7\u14D6",\u14E2:"\xB7\u14D7",\u14E4:"\xB7\u14D8",\u14E6:"\xB7\u14DA",\u14E8:"\xB7\u14DB",\u14F6:"\xB7\u14ED",\u14F8:"\xB7\u14EF",\u14FA:"\xB7\u14F0",\u14FC:"\xB7\u14F1",\u14FE:"\xB7\u14F2",\u1500:"\xB7\u14F4",\u1502:"\xB7\u14F5",\u1517:"\xB7\u1510",\u1519:"\xB7\u1511",\u151B:"\xB7\u1512",\u151D:"\xB7\u1513",\u151F:"\xB7\u1514",\u1521:"\xB7\u1515",\u1523:"\xB7\u1516",\u1531:"\xB7\u1528",\u1533:"\xB7\u1529",\u1535:"\xB7\u152A",\u1537:"\xB7\u152B",\u1539:"\xB7\u152D",\u153B:"\xB7\u152E","\u18CE":"\xB7\u1543","\u18CF":"\xB7\u1546","\u18D0":"\xB7\u1547","\u18D1":"\xB7\u1548","\u18D2":"\xB7\u1549","\u18D3":"\xB7\u154B",\u154E:"\xB7\u154C",\u155B:"\xB7\u155A",\u1568:"\xB7\u1567","\u18B3":"\xB7\u18B1","\u18B6":"\xB7\u18B4","\u18B9":"\xB7\u18B8","\u18C2":"\xB7\u18C0","\uA830":"\u0964","\u0965":"\u0964\u0964","\u1C3C":"\u1C3B\u1C3B","\u104B":"\u104A\u104A","\u1AA9":"\u1AA8\u1AA8","\u1AAB":"\u1AAA\u1AA8","\u1B5F":"\u1B5E\u1B5E","\u{10A57}":"\u{10A56}\u{10A56}","\u{1144C}":"\u{1144B}\u{1144B}","\u{11642}":"\u{11641}\u{11641}","\u{11C42}":"\u{11C41}\u{11C41}","\u1C7F":"\u1C7E\u1C7E","\u055D":"'","\uFF07":"'","\u2018":"'","\u2019":"'","\u201B":"'","\u2032":"'","\u2035":"'","\u055A":"'","\u05F3":"'","`":"'","\u1FEF":"'","\uFF40":"'","\xB4":"'","\u0384":"'","\u1FFD":"'","\u1FBD":"'","\u1FBF":"'","\u1FFE":"'","\u02B9":"'","\u0374":"'","\u02C8":"'","\u02CA":"'","\u02CB":"'","\u02F4":"'",\u02BB:"'",\u02BD:"'",\u02BC:"'",\u02BE:"'","\uA78C":"'",\u05D9:"'","\u07F4":"'","\u07F5":"'",\u144A:"'",\u16CC:"'","\u{16F51}":"'","\u{16F52}":"'","\u1CD3":"''",'"':"''","\uFF02":"''","\u201C":"''","\u201D":"''","\u201F":"''","\u2033":"''","\u2036":"''","\u3003":"''","\u05F4":"''","\u02DD":"''","\u02BA":"''","\u02F6":"''",\u02EE:"''",\u05F2:"''","\u2034":"'''","\u2037":"'''","\u2057":"''''",\u0181:"'B",\u018A:"'D",\u0149:"'n",\u01A4:"'P",\u01AC:"'T",\u01B3:"'Y","\uFF3B":"(","\u2768":"(","\u2772":"(","\u3014":"(","\uFD3E":"(","\u2E28":"((","\u3220":"(\u30FC)","\u2475":"(2)","\u2487":"(2O)","\u2476":"(3)","\u2477":"(4)","\u2478":"(5)","\u2479":"(6)","\u247A":"(7)","\u247B":"(8)","\u247C":"(9)","\u249C":"(a)","\u{1F110}":"(A)","\u249D":"(b)","\u{1F111}":"(B)","\u249E":"(c)","\u{1F112}":"(C)","\u249F":"(d)","\u{1F113}":"(D)","\u24A0":"(e)","\u{1F114}":"(E)","\u24A1":"(f)","\u{1F115}":"(F)","\u24A2":"(g)","\u{1F116}":"(G)","\u24A3":"(h)","\u{1F117}":"(H)","\u24A4":"(i)","\u24A5":"(j)","\u{1F119}":"(J)","\u24A6":"(k)","\u{1F11A}":"(K)","\u2474":"(l)","\u{1F118}":"(l)","\u24A7":"(l)","\u{1F11B}":"(L)","\u247F":"(l2)","\u2480":"(l3)","\u2481":"(l4)","\u2482":"(l5)","\u2483":"(l6)","\u2484":"(l7)","\u2485":"(l8)","\u2486":"(l9)","\u247E":"(ll)","\u247D":"(lO)","\u{1F11C}":"(M)","\u24A9":"(n)","\u{1F11D}":"(N)","\u24AA":"(o)","\u{1F11E}":"(O)","\u24AB":"(p)","\u{1F11F}":"(P)","\u24AC":"(q)","\u{1F120}":"(Q)","\u24AD":"(r)","\u{1F121}":"(R)","\u24A8":"(rn)","\u24AE":"(s)","\u{1F122}":"(S)","\u{1F12A}":"(S)","\u24AF":"(t)","\u{1F123}":"(T)","\u24B0":"(u)","\u{1F124}":"(U)","\u24B1":"(v)","\u{1F125}":"(V)","\u24B2":"(w)","\u{1F126}":"(W)","\u24B3":"(x)","\u{1F127}":"(X)","\u24B4":"(y)","\u{1F128}":"(Y)","\u24B5":"(z)","\u{1F129}":"(Z)","\u3200":"(\u1100)","\u320E":"(\uAC00)","\u3201":"(\u1102)","\u320F":"(\uB098)","\u3202":"(\u1103)","\u3210":"(\uB2E4)","\u3203":"(\u1105)","\u3211":"(\uB77C)","\u3204":"(\u1106)","\u3212":"(\uB9C8)","\u3205":"(\u1107)","\u3213":"(\uBC14)","\u3206":"(\u1109)","\u3214":"(\uC0AC)","\u3207":"(\u110B)","\u3215":"(\uC544)","\u321D":"(\uC624\uC804)","\u321E":"(\uC624\uD6C4)","\u3208":"(\u110C)","\u3216":"(\uC790)","\u321C":"(\uC8FC)","\u3209":"(\u110E)","\u3217":"(\uCC28)","\u320A":"(\u110F)","\u3218":"(\uCE74)","\u320B":"(\u1110)","\u3219":"(\uD0C0)","\u320C":"(\u1111)","\u321A":"(\uD30C)","\u320D":"(\u1112)","\u321B":"(\uD558)","\u3226":"(\u4E03)","\u3222":"(\u4E09)","\u{1F241}":"(\u4E09)","\u3228":"(\u4E5D)","\u3221":"(\u4E8C)","\u{1F242}":"(\u4E8C)","\u3224":"(\u4E94)","\u3239":"(\u4EE3)","\u323D":"(\u4F01)","\u3241":"(\u4F11)","\u3227":"(\u516B)","\u3225":"(\u516D)","\u3238":"(\u52B4)","\u{1F247}":"(\u52DD)","\u3229":"(\u5341)","\u323F":"(\u5354)","\u3234":"(\u540D)","\u323A":"(\u547C)","\u3223":"(\u56DB)","\u322F":"(\u571F)","\u323B":"(\u5B66)","\u{1F243}":"(\u5B89)","\u{1F245}":"(\u6253)","\u{1F248}":"(\u6557)","\u3230":"(\u65E5)","\u322A":"(\u6708)","\u3232":"(\u6709)","\u322D":"(\u6728)","\u{1F240}":"(\u672C)","\u3231":"(\u682A)","\u322C":"(\u6C34)","\u322B":"(\u706B)","\u{1F244}":"(\u70B9)","\u3235":"(\u7279)","\u{1F246}":"(\u76D7)","\u323C":"(\u76E3)","\u3233":"(\u793E)","\u3237":"(\u795D)","\u3240":"(\u796D)","\u3242":"(\u81EA)","\u3243":"(\u81F3)","\u3236":"(\u8CA1)","\u323E":"(\u8CC7)","\u322E":"(\u91D1)","\uFF3D":")","\u2769":")","\u2773":")","\u3015":")","\uFD3F":")","\u2E29":"))","\u2774":"{","\u{1D114}":"{","\u2775":"}","\u301A":"\u27E6","\u301B":"\u27E7","\u27E8":"\u276C","\u2329":"\u276C","\u3008":"\u276C","\u31DB":"\u276C",\u304F:"\u276C","\u{21FE8}":"\u276C","\u27E9":"\u276D","\u232A":"\u276D","\u3009":"\u276D","\uFF3E":"\uFE3F","\u2E3F":"\xB6","\u204E":"*","\u066D":"*","\u2217":"*","\u{1031F}":"*","\u1735":"/","\u2041":"/","\u2215":"/","\u2044":"/","\u2571":"/","\u27CB":"/","\u29F8":"/","\u{1D23A}":"/","\u31D3":"/",\u3033:"/","\u2CC6":"/",\u30CE:"/",\u4E3F:"/","\u2F03":"/","\u29F6":"/\u0304","\u2AFD":"//","\u2AFB":"///","\uFF3C":"\\","\uFE68":"\\","\u2216":"\\","\u27CD":"\\","\u29F5":"\\","\u29F9":"\\","\u{1D20F}":"\\","\u{1D23B}":"\\","\u31D4":"\\",\u4E36:"\\","\u2F02":"\\","\u2CF9":"\\\\","\u244A":"\\\\","\u27C8":"\\\u1455","\uA778":"&","\u0AF0":"\u0970","\u{110BB}":"\u0970","\u{111C7}":"\u0970","\u26AC":"\u0970","\u{111DB}":"\uA8FC","\u17D9":"\u0E4F","\u17D5":"\u0E5A","\u17DA":"\u0E5B","\u0F0C":"\u0F0B","\u0F0E":"\u0F0D\u0F0D","\u02C4":"^","\u02C6":"^","\uA67E":"\u02C7","\u02D8":"\u02C7","\u203E":"\u02C9","\uFE49":"\u02C9","\uFE4A":"\u02C9","\uFE4B":"\u02C9","\uFE4C":"\u02C9","\xAF":"\u02C9","\uFFE3":"\u02C9","\u2594":"\u02C9",\u044A:"\u02C9b","\uA651":"\u02C9bi","\u0375":"\u02CF","\u02FB":"\u02EA","\uA716":"\u02EA","\uA714":"\u02EB","\u3002":"\u02F3","\u2E30":"\xB0","\u02DA":"\xB0","\u2218":"\xB0","\u25CB":"\xB0","\u25E6":"\xB0","\u235C":"\xB0\u0332","\u2364":"\xB0\u0308","\u2103":"\xB0C","\u2109":"\xB0F","\u0BF5":"\u0BF3","\u0F1B":"\u0F1A\u0F1A","\u0F1F":"\u0F1A\u0F1D","\u0FCE":"\u0F1D\u0F1A","\u0F1E":"\u0F1D\u0F1D","\u24B8":"\xA9","\u24C7":"\xAE","\u24C5":"\u2117","\u{1D21B}":"\u2144","\u2BEC":"\u219E","\u2BED":"\u219F","\u2BEE":"\u21A0","\u2BEF":"\u21A1","\u21B5":"\u21B2","\u2965":"\u21C3\u21C2","\u296F":"\u21C3\u16DA","\u{1D6DB}":"\u2202","\u{1D715}":"\u2202","\u{1D74F}":"\u2202","\u{1D789}":"\u2202","\u{1D7C3}":"\u2202","\u{1E8CC}":"\u2202","\u{1E8CD}":"\u2202\u0335",\u00F0:"\u2202\u0335","\u2300":"\u2205","\u{1D6C1}":"\u2207","\u{1D6FB}":"\u2207","\u{1D735}":"\u2207","\u{1D76F}":"\u2207","\u{1D7A9}":"\u2207","\u{118A8}":"\u2207","\u2362":"\u2207\u0308","\u236B":"\u2207\u0334","\u2588":"\u220E","\u25A0":"\u220E","\u2A3F":"\u2210","\u16ED":"+","\u2795":"+","\u{1029B}":"+","\u2A23":"+\u0302","\u2A22":"+\u030A","\u2A24":"+\u0303","\u2214":"+\u0307","\u2A25":"+\u0323","\u2A26":"+\u0330","\u2A27":"+\u2082","\u2797":"\xF7","\u2039":"<","\u276E":"<","\u02C2":"<","\u{1D236}":"<",\u1438:"<",\u16B2:"<","\u22D6":"<\xB7","\u2CB4":"<\xB7",\u1445:"<\xB7","\u226A":"<<","\u22D8":"<<<","\u1400":"=","\u2E40":"=","\u30A0":"=","\uA4FF":"=","\u225A":"=\u0306","\u2259":"=\u0302","\u2257":"=\u030A","\u2250":"=\u0307","\u2251":"=\u0307\u0323","\u2A6E":"=\u20F0","\u2A75":"==","\u2A76":"===","\u225E":"=\u036B","\u203A":">","\u276F":">","\u02C3":">","\u{1D237}":">",\u1433:">","\u{16F3F}":">",\u1441:">\xB7","\u2AA5":"><","\u226B":">>","\u2A20":">>","\u22D9":">>>","\u2053":"~","\u02DC":"~","\u1FC0":"~","\u223C":"~","\u2368":"~\u0308","\u2E1E":"~\u0307","\u2A6A":"~\u0307","\u2E1F":"~\u0323","\u{1E8C8}":"\u2220","\u22C0":"\u2227","\u222F":"\u222E\u222E","\u2230":"\u222E\u222E\u222E","\u2E2B":"\u2234","\u2E2A":"\u2235","\u2E2C":"\u2237","\u{111DE}":"\u2248","\u264E":"\u224F","\u{1F75E}":"\u224F","\u2263":"\u2261","\u2A03":"\u228D","\u2A04":"\u228E","\u{1D238}":"\u228F","\u{1D239}":"\u2290","\u2A05":"\u2293","\u2A06":"\u2294","\u2A02":"\u2297","\u235F":"\u229B","\u{1F771}":"\u22A0","\u{1F755}":"\u22A1","\u25C1":"\u22B2","\u25B7":"\u22B3","\u2363":"\u22C6\u0308","\uFE34":"\u2307","\u25E0":"\u2312","\u2A3D":"\u2319","\u2325":"\u2324","\u29C7":"\u233B","\u25CE":"\u233E","\u29BE":"\u233E","\u29C5":"\u2342","\u29B0":"\u2349","\u23C3":"\u234B","\u23C2":"\u234E","\u23C1":"\u2355","\u23C6":"\u236D","\u2638":"\u2388","\uFE35":"\u23DC","\uFE36":"\u23DD","\uFE37":"\u23DE","\uFE38":"\u23DF","\uFE39":"\u23E0","\uFE3A":"\u23E1","\u25B1":"\u23E5","\u23FC":"\u23FB","\uFE31":"\u2502","\uFF5C":"\u2502","\u2503":"\u2502","\u250F":"\u250C","\u2523":"\u251C","\u2590":"\u258C","\u2597":"\u2596","\u259D":"\u2598","\u2610":"\u25A1","\uFFED":"\u25AA","\u25B8":"\u25B6","\u25BA":"\u25B6","\u2CE9":"\u2627","\u{1F70A}":"\u2629","\u{1F312}":"\u263D","\u{1F319}":"\u263D","\u23FE":"\u263E","\u{1F318}":"\u263E","\u29D9":"\u299A","\u{1F73A}":"\u29DF","\u2A3E":"\u2A1F","\u{101A0}":"\u2CE8","\u2669":"\u{1D158}\u{1D165}","\u266A":"\u{1D158}\u{1D165}\u{1D16E}","\u24EA":"\u{1F10D}","\u21BA":"\u{1F10E}","\u02D9":"\u0971","\u0D4E":"\u0971","\uFF0D":"\u30FC","\u2014":"\u30FC","\u2015":"\u30FC","\u2500":"\u30FC","\u2501":"\u30FC","\u31D0":"\u30FC","\uA7F7":"\u30FC",\u1173:"\u30FC",\u3161:"\u30FC",\u4E00:"\u30FC","\u2F00":"\u30FC",\u1196:"\u30FC\u30FC","\uD7B9":"\u30FC\u1161","\uD7BA":"\u30FC\u1165","\uD7BB":"\u30FC\u1165\u4E28","\uD7BC":"\u30FC\u1169",\u1195:"\u30FC\u116E",\u1174:"\u30FC\u4E28",\u3162:"\u30FC\u4E28",\u1197:"\u30FC\u4E28\u116E","\u{1F10F}":"$\u20E0","\u20A4":"\xA3","\u3012":"\u20B8","\u3036":"\u20B8","\u1B5C":"\u1B50","\uA9C6":"\uA9D0","\u{114D1}":"\u09E7","\u0CE7":"\u0C67","\u1065":"\u1041","\u2460":"\u2780","\u2469":"\u2789","\u23E8":"\u2081\u2080","\u{1D7D0}":"2","\u{1D7DA}":"2","\u{1D7E4}":"2","\u{1D7EE}":"2","\u{1D7F8}":"2","\u{1FBF2}":"2","\uA75A":"2",\u01A7:"2",\u03E8:"2","\uA644":"2",\u14BF:"2","\uA6EF":"2","\uA9CF":"\u0662","\u06F2":"\u0662","\u0AE8":"\u0968","\u{114D2}":"\u09E8","\u0CE8":"\u0C68","\u2461":"\u2781",\u01BB:"2\u0335","\u{1F103}":"2,","\u2489":"2.","\u33F5":"22\u65E5","\u336E":"22\u70B9","\u33F6":"23\u65E5","\u336F":"23\u70B9","\u33F7":"24\u65E5","\u3370":"24\u70B9","\u33F8":"25\u65E5","\u33F9":"26\u65E5","\u33FA":"27\u65E5","\u33FB":"28\u65E5","\u33FC":"29\u65E5","\u33F4":"2l\u65E5","\u336D":"2l\u70B9","\u249B":"2O.","\u33F3":"2O\u65E5","\u336C":"2O\u70B9","\u0DE9":"\u0DE8\u0DCF","\u0DEF":"\u0DE8\u0DD3","\u33E1":"2\u65E5","\u32C1":"2\u6708","\u335A":"2\u70B9","\u{1D206}":"3","\u{1D7D1}":"3","\u{1D7DB}":"3","\u{1D7E5}":"3","\u{1D7EF}":"3","\u{1D7F9}":"3","\u{1FBF3}":"3","\uA7AB":"3",\u021C:"3",\u01B7:"3","\uA76A":"3","\u2CCC":"3",\u0417:"3",\u04E0:"3","\u{16F3B}":"3","\u{118CA}":"3","\u06F3":"\u0663","\u{1E8C9}":"\u0663","\u0AE9":"\u0969","\u2462":"\u2782",\u0498:"3\u0326","\u{1F104}":"3,","\u248A":"3.","\u33FE":"3l\u65E5","\u33FD":"3O\u65E5","\u33E2":"3\u65E5","\u32C2":"3\u6708","\u335B":"3\u70B9","\u{1D7D2}":"4","\u{1D7DC}":"4","\u{1D7E6}":"4","\u{1D7F0}":"4","\u{1D7FA}":"4","\u{1FBF4}":"4",\u13CE:"4","\u{118AF}":"4","\u06F4":"\u0664","\u0AEA":"\u096A","\u2463":"\u2783","\u{1F105}":"4,","\u248B":"4.",\u1530:"4\xB7","\u33E3":"4\u65E5","\u32C3":"4\u6708","\u335C":"4\u70B9","\u{1D7D3}":"5","\u{1D7DD}":"5","\u{1D7E7}":"5","\u{1D7F1}":"5","\u{1D7FB}":"5","\u{1FBF5}":"5",\u01BC:"5","\u{118BB}":"5","\u2464":"\u2784","\u{1F106}":"5,","\u248C":"5.","\u33E4":"5\u65E5","\u32C4":"5\u6708","\u335D":"5\u70B9","\u{1D7D4}":"6","\u{1D7DE}":"6","\u{1D7E8}":"6","\u{1D7F2}":"6","\u{1D7FC}":"6","\u{1FBF6}":"6","\u2CD2":"6",\u0431:"6",\u13EE:"6","\u{118D5}":"6","\u06F6":"\u0666","\u{114D6}":"\u09EC","\u2465":"\u2785","\u{1F107}":"6,","\u248D":"6.","\u33E5":"6\u65E5","\u32C5":"6\u6708","\u335E":"6\u70B9","\u{1D212}":"7","\u{1D7D5}":"7","\u{1D7DF}":"7","\u{1D7E9}":"7","\u{1D7F3}":"7","\u{1D7FD}":"7","\u{1FBF7}":"7","\u{104D2}":"7","\u{118C6}":"7","\u2466":"\u2786","\u{1F108}":"7,","\u248E":"7.","\u33E6":"7\u65E5","\u32C6":"7\u6708","\u335F":"7\u70B9","\u0B03":"8","\u09EA":"8","\u0A6A":"8","\u{1E8CB}":"8","\u{1D7D6}":"8","\u{1D7E0}":"8","\u{1D7EA}":"8","\u{1D7F4}":"8","\u{1D7FE}":"8","\u{1FBF8}":"8",\u0223:"8",\u0222:"8","\u{1031A}":"8","\u0AEE":"\u096E","\u2467":"\u2787","\u{1F109}":"8,","\u248F":"8.","\u33E7":"8\u65E5","\u32C7":"8\u6708","\u3360":"8\u70B9","\u0A67":"9","\u0B68":"9","\u09ED":"9","\u0D6D":"9","\u{1D7D7}":"9","\u{1D7E1}":"9","\u{1D7EB}":"9","\u{1D7F5}":"9","\u{1D7FF}":"9","\u{1FBF9}":"9","\uA76E":"9","\u2CCA":"9","\u{118CC}":"9","\u{118AC}":"9","\u{118D6}":"9","\u0967":"\u0669","\u{118E4}":"\u0669","\u06F9":"\u0669","\u0CEF":"\u0C6F","\u2468":"\u2788","\u{1F10A}":"9,","\u2490":"9.","\u33E8":"9\u65E5","\u32C8":"9\u6708","\u3361":"9\u70B9","\u237A":"a",\uFF41:"a","\u{1D41A}":"a","\u{1D44E}":"a","\u{1D482}":"a","\u{1D4B6}":"a","\u{1D4EA}":"a","\u{1D51E}":"a","\u{1D552}":"a","\u{1D586}":"a","\u{1D5BA}":"a","\u{1D5EE}":"a","\u{1D622}":"a","\u{1D656}":"a","\u{1D68A}":"a",\u0251:"a",\u03B1:"a","\u{1D6C2}":"a","\u{1D6FC}":"a","\u{1D736}":"a","\u{1D770}":"a","\u{1D7AA}":"a",\u0430:"a","\u2DF6":"\u0363",\uFF21:"A","\u{1D400}":"A","\u{1D434}":"A","\u{1D468}":"A","\u{1D49C}":"A","\u{1D4D0}":"A","\u{1D504}":"A","\u{1D538}":"A","\u{1D56C}":"A","\u{1D5A0}":"A","\u{1D5D4}":"A","\u{1D608}":"A","\u{1D63C}":"A","\u{1D670}":"A",\u0391:"A","\u{1D6A8}":"A","\u{1D6E2}":"A","\u{1D71C}":"A","\u{1D756}":"A","\u{1D790}":"A",\u0410:"A",\u13AA:"A",\u15C5:"A","\uA4EE":"A","\u{16F40}":"A","\u{102A0}":"A","\u2376":"a\u0332",\u01CE:"\u0103",\u01CD:"\u0102",\u0227:"\xE5",\u0226:"\xC5",\u1E9A:"\u1EA3","\u2100":"a/c","\u2101":"a/s","\uA733":"aa","\uA732":"AA",\u00E6:"ae",\u04D5:"ae",\u00C6:"AE",\u04D4:"AE","\uA735":"ao","\uA734":"AO","\u{1F707}":"AR","\uA737":"au","\uA736":"AU","\uA739":"av","\uA73B":"av","\uA738":"AV","\uA73A":"AV","\uA73D":"ay","\uA73C":"AY","\uAB7A":"\u1D00","\u2200":"\u2C6F","\u{1D217}":"\u2C6F",\u15C4:"\u2C6F","\uA4EF":"\u2C6F","\u{1041F}":"\u2C70","\u{1D41B}":"b","\u{1D44F}":"b","\u{1D483}":"b","\u{1D4B7}":"b","\u{1D4EB}":"b","\u{1D51F}":"b","\u{1D553}":"b","\u{1D587}":"b","\u{1D5BB}":"b","\u{1D5EF}":"b","\u{1D623}":"b","\u{1D657}":"b","\u{1D68B}":"b",\u0184:"b",\u042C:"b",\u13CF:"b",\u1472:"b",\u15AF:"b",\uFF22:"B",\u212C:"B","\u{1D401}":"B","\u{1D435}":"B","\u{1D469}":"B","\u{1D4D1}":"B","\u{1D505}":"B","\u{1D539}":"B","\u{1D56D}":"B","\u{1D5A1}":"B","\u{1D5D5}":"B","\u{1D609}":"B","\u{1D63D}":"B","\u{1D671}":"B","\uA7B4":"B",\u0392:"B","\u{1D6A9}":"B","\u{1D6E3}":"B","\u{1D71D}":"B","\u{1D757}":"B","\u{1D791}":"B",\u0412:"B",\u13F4:"B",\u15F7:"B","\uA4D0":"B","\u{10282}":"B","\u{102A1}":"B","\u{10301}":"B",\u0253:"b\u0314",\u1473:"b\u0307",\u0183:"b\u0304",\u0182:"b\u0304",\u0411:"b\u0304",\u0180:"b\u0335",\u048D:"b\u0335",\u048C:"b\u0335",\u0463:"b\u0335",\u0462:"b\u0335",\u147F:"b\xB7",\u1481:"b\u0307\xB7",\u1488:"b'",\u042B:"bl",\u0432:"\u0299","\u13FC":"\u0299",\uFF43:"c","\u217D":"c","\u{1D41C}":"c","\u{1D450}":"c","\u{1D484}":"c","\u{1D4B8}":"c","\u{1D4EC}":"c","\u{1D520}":"c","\u{1D554}":"c","\u{1D588}":"c","\u{1D5BC}":"c","\u{1D5F0}":"c","\u{1D624}":"c","\u{1D658}":"c","\u{1D68C}":"c","\u1D04":"c",\u03F2:"c","\u2CA5":"c",\u0441:"c","\uABAF":"c","\u{1043D}":"c","\u2DED":"\u0368","\u{1F74C}":"C","\u{118F2}":"C","\u{118E9}":"C",\uFF23:"C","\u216D":"C",\u2102:"C",\u212D:"C","\u{1D402}":"C","\u{1D436}":"C","\u{1D46A}":"C","\u{1D49E}":"C","\u{1D4D2}":"C","\u{1D56E}":"C","\u{1D5A2}":"C","\u{1D5D6}":"C","\u{1D60A}":"C","\u{1D63E}":"C","\u{1D672}":"C","\u03F9":"C","\u2CA4":"C",\u0421:"C",\u13DF:"C","\uA4DA":"C","\u{102A2}":"C","\u{10302}":"C","\u{10415}":"C","\u{1051C}":"C","\xA2":"c\u0338","\u023C":"c\u0338","\u20A1":"C\u20EB","\u{1F16E}":"C\u20E0",\u00E7:"c\u0326",\u04AB:"c\u0326",\u00C7:"C\u0326",\u04AA:"C\u0326",\u0187:"C'","\u2105":"c/o","\u2106":"c/u","\u{1F16D}":"\u33C4	\u20DD","\u22F4":"\uA793",\u025B:"\uA793",\u03B5:"\uA793","\u03F5":"\uA793","\u{1D6C6}":"\uA793","\u{1D6DC}":"\uA793","\u{1D700}":"\uA793","\u{1D716}":"\uA793","\u{1D73A}":"\uA793","\u{1D750}":"\uA793","\u{1D774}":"\uA793","\u{1D78A}":"\uA793","\u{1D7AE}":"\uA793","\u{1D7C4}":"\uA793","\u2C89":"\uA793",\u0454:"\uA793","\u0511":"\uA793","\uAB9B":"\uA793","\u{118CE}":"\uA793","\u{10429}":"\uA793","\u20AC":"\uA792","\u2C88":"\uA792",\u0404:"\uA792","\u2377":"\uA793\u0332","\u037D":"\uA73F","\u03FF":"\uA73E","\u217E":"d","\u2146":"d","\u{1D41D}":"d","\u{1D451}":"d","\u{1D485}":"d","\u{1D4B9}":"d","\u{1D4ED}":"d","\u{1D521}":"d","\u{1D555}":"d","\u{1D589}":"d","\u{1D5BD}":"d","\u{1D5F1}":"d","\u{1D625}":"d","\u{1D659}":"d","\u{1D68D}":"d","\u0501":"d",\u13E7:"d",\u146F:"d","\uA4D2":"d","\u216E":"D","\u2145":"D","\u{1D403}":"D","\u{1D437}":"D","\u{1D46B}":"D","\u{1D49F}":"D","\u{1D4D3}":"D","\u{1D507}":"D","\u{1D53B}":"D","\u{1D56F}":"D","\u{1D5A3}":"D","\u{1D5D7}":"D","\u{1D60B}":"D","\u{1D63F}":"D","\u{1D673}":"D",\u13A0:"D",\u15DE:"D",\u15EA:"D","\uA4D3":"D",\u0257:"d\u0314",\u0256:"d\u0328",\u018C:"d\u0304",\u0111:"d\u0335",\u0110:"D\u0335",\u00D0:"D\u0335",\u0189:"D\u0335","\u20AB":"d\u0335\u0331","\uA77A":"\uA779",\u147B:"d\xB7",\u1487:"d'",\u02A4:"d\u021D",\u01F3:"dz",\u02A3:"dz",\u01F2:"Dz",\u01F1:"DZ",\u01C6:"d\u017E",\u01C5:"D\u017E",\u01C4:"D\u017D",\u02A5:"d\u0291","\uAB70":"\u1D05","\u2E39":"\u1E9F",\u03B4:"\u1E9F","\u{1D6C5}":"\u1E9F","\u{1D6FF}":"\u1E9F","\u{1D739}":"\u1E9F","\u{1D773}":"\u1E9F","\u{1D7AD}":"\u1E9F",\u056E:"\u1E9F",\u1577:"\u1E9F","\u212E":"e",\uFF45:"e",\u212F:"e","\u2147":"e","\u{1D41E}":"e","\u{1D452}":"e","\u{1D486}":"e","\u{1D4EE}":"e","\u{1D522}":"e","\u{1D556}":"e","\u{1D58A}":"e","\u{1D5BE}":"e","\u{1D5F2}":"e","\u{1D626}":"e","\u{1D65A}":"e","\u{1D68E}":"e","\uAB32":"e",\u0435:"e",\u04BD:"e","\u2DF7":"\u0364","\u22FF":"E",\uFF25:"E",\u2130:"E","\u{1D404}":"E","\u{1D438}":"E","\u{1D46C}":"E","\u{1D4D4}":"E","\u{1D508}":"E","\u{1D53C}":"E","\u{1D570}":"E","\u{1D5A4}":"E","\u{1D5D8}":"E","\u{1D60C}":"E","\u{1D640}":"E","\u{1D674}":"E",\u0395:"E","\u{1D6AC}":"E","\u{1D6E6}":"E","\u{1D720}":"E","\u{1D75A}":"E","\u{1D794}":"E",\u0415:"E","\u2D39":"E",\u13AC:"E","\uA4F0":"E","\u{118A6}":"E","\u{118AE}":"E","\u{10286}":"E",\u011B:"\u0115",\u011A:"\u0114","\u0247":"e\u0338","\u0246":"E\u0338",\u04BF:"e\u0328","\uAB7C":"\u1D07",\u0259:"\u01DD",\u04D9:"\u01DD","\u2203":"\u018E","\u2D3A":"\u018E","\uA4F1":"\u018E",\u025A:"\u01DD\u02DE","\u1D14":"\u01DDo","\uAB41":"\u01DDo\u0338","\uAB42":"\u01DDo\u0335",\u04D8:"\u018F","\u{1D221}":"\u0190",\u2107:"\u0190","\u0510":"\u0190",\u13CB:"\u0190","\u{16F2D}":"\u0190","\u{10401}":"\u0190","\u1D9F":"\u1D4B","\u1D08":"\u025C",\u0437:"\u025C",\u0499:"\u025C\u0326","\u{10442}":"\u025E","\uA79D":"\u029A","\u{1042A}":"\u029A","\u{1D41F}":"f","\u{1D453}":"f","\u{1D487}":"f","\u{1D4BB}":"f","\u{1D4EF}":"f","\u{1D523}":"f","\u{1D557}":"f","\u{1D58B}":"f","\u{1D5BF}":"f","\u{1D5F3}":"f","\u{1D627}":"f","\u{1D65B}":"f","\u{1D68F}":"f","\uAB35":"f","\uA799":"f",\u017F:"f","\u1E9D":"f",\u0584:"f","\u{1D213}":"F",\u2131:"F","\u{1D405}":"F","\u{1D439}":"F","\u{1D46D}":"F","\u{1D4D5}":"F","\u{1D509}":"F","\u{1D53D}":"F","\u{1D571}":"F","\u{1D5A5}":"F","\u{1D5D9}":"F","\u{1D60D}":"F","\u{1D641}":"F","\u{1D675}":"F","\uA798":"F",\u03DC:"F","\u{1D7CA}":"F",\u15B4:"F","\uA4DD":"F","\u{118C2}":"F","\u{118A2}":"F","\u{10287}":"F","\u{102A5}":"F","\u{10525}":"F",\u0192:"f\u0326",\u0191:"F\u0326","\u1D6E":"f\u0334","\u213B":"FAX",\uFB00:"ff",\uFB03:"ffi",\uFB04:"ffl",\uFB01:"fi",\uFB02:"fl",\u02A9:"f\u014B",\u15B5:"\u2132","\uA4DE":"\u2132","\u{1D230}":"\uA7FB",\u15B7:"\uA7FB",\uFF47:"g",\u210A:"g","\u{1D420}":"g","\u{1D454}":"g","\u{1D488}":"g","\u{1D4F0}":"g","\u{1D524}":"g","\u{1D558}":"g","\u{1D58C}":"g","\u{1D5C0}":"g","\u{1D5F4}":"g","\u{1D628}":"g","\u{1D65C}":"g","\u{1D690}":"g",\u0261:"g","\u1D83":"g",\u018D:"g",\u0581:"g","\u{1D406}":"G","\u{1D43A}":"G","\u{1D46E}":"G","\u{1D4A2}":"G","\u{1D4D6}":"G","\u{1D50A}":"G","\u{1D53E}":"G","\u{1D572}":"G","\u{1D5A6}":"G","\u{1D5DA}":"G","\u{1D60E}":"G","\u{1D642}":"G","\u{1D676}":"G","\u050C":"G",\u13C0:"G",\u13F3:"G","\uA4D6":"G","\u1DA2":"\u1D4D",\u0260:"g\u0314",\u01E7:"\u011F",\u01E6:"\u011E",\u01F5:"\u0123",\u01E5:"g\u0335",\u01E4:"G\u0335",\u0193:"G'","\u050D":"\u0262","\uAB90":"\u0262","\u13FB":"\u0262",\uFF48:"h",\u210E:"h","\u{1D421}":"h","\u{1D489}":"h","\u{1D4BD}":"h","\u{1D4F1}":"h","\u{1D525}":"h","\u{1D559}":"h","\u{1D58D}":"h","\u{1D5C1}":"h","\u{1D5F5}":"h","\u{1D629}":"h","\u{1D65D}":"h","\u{1D691}":"h",\u04BB:"h",\u0570:"h",\u13C2:"h",\uFF28:"H",\u210B:"H",\u210C:"H",\u210D:"H","\u{1D407}":"H","\u{1D43B}":"H","\u{1D46F}":"H","\u{1D4D7}":"H","\u{1D573}":"H","\u{1D5A7}":"H","\u{1D5DB}":"H","\u{1D60F}":"H","\u{1D643}":"H","\u{1D677}":"H",\u0397:"H","\u{1D6AE}":"H","\u{1D6E8}":"H","\u{1D722}":"H","\u{1D75C}":"H","\u{1D796}":"H","\u2C8E":"H",\u041D:"H",\u13BB:"H",\u157C:"H","\uA4E7":"H","\u{102CF}":"H","\u1D78":"\u1D34",\u0266:"h\u0314","\uA695":"h\u0314",\u13F2:"h\u0314","\u2C67":"H\u0329",\u04A2:"H\u0329",\u0127:"h\u0335",\u210F:"h\u0335",\u045B:"h\u0335",\u0126:"H\u0335","\u04C9":"H\u0326",\u04C7:"H\u0326",\u043D:"\u029C","\uAB8B":"\u029C",\u04A3:"\u029C\u0329","\u04CA":"\u029C\u0326",\u04C8:"\u029C\u0326","\u050A":"\u01F6","\uAB80":"\u2C76","\u0370":"\u2C75",\u13A8:"\u2C75",\u13B0:"\u2C75","\uA6B1":"\u2C75","\uA795":"\uA727","\u02DB":"i","\u2373":"i",\uFF49:"i","\u2170":"i",\u2139:"i","\u2148":"i","\u{1D422}":"i","\u{1D456}":"i","\u{1D48A}":"i","\u{1D4BE}":"i","\u{1D4F2}":"i","\u{1D526}":"i","\u{1D55A}":"i","\u{1D58E}":"i","\u{1D5C2}":"i","\u{1D5F6}":"i","\u{1D62A}":"i","\u{1D65E}":"i","\u{1D692}":"i",\u0131:"i","\u{1D6A4}":"i",\u026A:"i",\u0269:"i",\u03B9:"i",\u1FBE:"i",\u037A:"i","\u{1D6CA}":"i","\u{1D704}":"i","\u{1D73E}":"i","\u{1D778}":"i","\u{1D7B2}":"i",\u0456:"i","\uA647":"i","\u04CF":"i","\uAB75":"i",\u13A5:"i","\u{118C3}":"i","\u24DB":"\u24BE","\u2378":"i\u0332",\u01D0:"\u012D",\u01CF:"\u012C",\u0268:"i\u0335","\u1D7B":"i\u0335","\u1D7C":"i\u0335","\u2171":"ii","\u2172":"iii",\u0133:"ij","\u2173":"iv","\u2178":"ix",\uFF4A:"j","\u2149":"j","\u{1D423}":"j","\u{1D457}":"j","\u{1D48B}":"j","\u{1D4BF}":"j","\u{1D4F3}":"j","\u{1D527}":"j","\u{1D55B}":"j","\u{1D58F}":"j","\u{1D5C3}":"j","\u{1D5F7}":"j","\u{1D62B}":"j","\u{1D65F}":"j","\u{1D693}":"j",\u03F3:"j",\u0458:"j",\uFF2A:"J","\u{1D409}":"J","\u{1D43D}":"J","\u{1D471}":"J","\u{1D4A5}":"J","\u{1D4D9}":"J","\u{1D50D}":"J","\u{1D541}":"J","\u{1D575}":"J","\u{1D5A9}":"J","\u{1D5DD}":"J","\u{1D611}":"J","\u{1D645}":"J","\u{1D679}":"J","\uA7B2":"J","\u037F":"J",\u0408:"J",\u13AB:"J",\u148D:"J","\uA4D9":"J","\u0249":"j\u0335","\u0248":"J\u0335",\u1499:"J\xB7","\u{1D6A5}":"\u0237",\u0575:"\u0237","\uAB7B":"\u1D0A","\u{1D424}":"k","\u{1D458}":"k","\u{1D48C}":"k","\u{1D4C0}":"k","\u{1D4F4}":"k","\u{1D528}":"k","\u{1D55C}":"k","\u{1D590}":"k","\u{1D5C4}":"k","\u{1D5F8}":"k","\u{1D62C}":"k","\u{1D660}":"k","\u{1D694}":"k",\u212A:"K",\uFF2B:"K","\u{1D40A}":"K","\u{1D43E}":"K","\u{1D472}":"K","\u{1D4A6}":"K","\u{1D4DA}":"K","\u{1D50E}":"K","\u{1D542}":"K","\u{1D576}":"K","\u{1D5AA}":"K","\u{1D5DE}":"K","\u{1D612}":"K","\u{1D646}":"K","\u{1D67A}":"K",\u039A:"K","\u{1D6B1}":"K","\u{1D6EB}":"K","\u{1D725}":"K","\u{1D75F}":"K","\u{1D799}":"K","\u2C94":"K",\u041A:"K",\u13E6:"K",\u16D5:"K","\uA4D7":"K","\u{10518}":"K",\u0199:"k\u0314","\u2C69":"K\u0329",\u049A:"K\u0329","\u20AD":"K\u0335","\uA740":"K\u0335",\u049E:"K\u0335",\u0198:"K'","\u05C0":"l","|":"l","\u2223":"l","\u23FD":"l","\uFFE8":"l","\u0661":"l","\u06F1":"l","\u{10320}":"l","\u{1E8C7}":"l","\u{1D7CF}":"l","\u{1D7D9}":"l","\u{1D7E3}":"l","\u{1D7ED}":"l","\u{1D7F7}":"l","\u{1FBF1}":"l",I:ele,\uFF29:"l","\u2160":"l",\u2110:"l",\u2111:"l","\u{1D408}":"l","\u{1D43C}":"l","\u{1D470}":"l","\u{1D4D8}":"l","\u{1D540}":"l","\u{1D574}":"l","\u{1D5A8}":"l","\u{1D5DC}":"l","\u{1D610}":"l","\u{1D644}":"l","\u{1D678}":"l",\u0196:"l",\uFF4C:"l","\u217C":"l",\u2113:"l","\u{1D425}":"l","\u{1D459}":"l","\u{1D48D}":"l","\u{1D4C1}":"l","\u{1D4F5}":"l","\u{1D529}":"l","\u{1D55D}":"l","\u{1D591}":"l","\u{1D5C5}":"l","\u{1D5F9}":"l","\u{1D62D}":"l","\u{1D661}":"l","\u{1D695}":"l",\u01C0:"l",\u0399:"l","\u{1D6B0}":"l","\u{1D6EA}":"l","\u{1D724}":"l","\u{1D75E}":"l","\u{1D798}":"l","\u2C92":"l",\u0406:"l",\u04C0:"l",\u05D5:"l",\u05DF:"l",\u0627:"l","\u{1EE00}":"l","\u{1EE80}":"l",\uFE8E:"l",\uFE8D:"l","\u07CA":"l","\u2D4F":"l",\u16C1:"l","\uA4F2":"l","\u{16F28}":"l","\u{1028A}":"l","\u{10309}":"l","\u{1D22A}":"L","\u216C":"L",\u2112:"L","\u{1D40B}":"L","\u{1D43F}":"L","\u{1D473}":"L","\u{1D4DB}":"L","\u{1D50F}":"L","\u{1D543}":"L","\u{1D577}":"L","\u{1D5AB}":"L","\u{1D5DF}":"L","\u{1D613}":"L","\u{1D647}":"L","\u{1D67B}":"L","\u2CD0":"L",\u13DE:"L",\u14AA:"L","\uA4E1":"L","\u{16F16}":"L","\u{118A3}":"L","\u{118B2}":"L","\u{1041B}":"L","\u{10526}":"L",\uFD3C:"l\u030B",\uFD3D:"l\u030B",\u0142:"l\u0338",\u0141:"L\u0338",\u026D:"l\u0328",\u0197:"l\u0335",\u019A:"l\u0335",\u026B:"l\u0334",\u0625:"l\u0655",\uFE88:"l\u0655",\uFE87:"l\u0655",\u0673:"l\u0655",\u0140:"l\xB7",\u013F:"l\xB7",\u14B7:"l\xB7","\u{1F102}":"l,","\u2488":"l.",\u05F1:"l'","\u2493":"l2.","\u33EB":"l2\u65E5","\u32CB":"l2\u6708","\u3364":"l2\u70B9","\u2494":"l3.","\u33EC":"l3\u65E5","\u3365":"l3\u70B9","\u2495":"l4.","\u33ED":"l4\u65E5","\u3366":"l4\u70B9","\u2496":"l5.","\u33EE":"l5\u65E5","\u3367":"l5\u70B9","\u2497":"l6.","\u33EF":"l6\u65E5","\u3368":"l6\u70B9","\u2498":"l7.","\u33F0":"l7\u65E5","\u3369":"l7\u70B9","\u2499":"l8.","\u33F1":"l8\u65E5","\u336A":"l8\u70B9","\u249A":"l9.","\u33F2":"l9\u65E5","\u336B":"l9\u70B9",\u01C9:"lj",\u0132:"lJ",\u01C8:"Lj",\u01C7:"LJ","\u2016":"ll","\u2225":"ll","\u2161":"ll",\u01C1:"ll",\u05F0:"ll","\u{10199}":"l\u0335l\u0335","\u2492":"ll.","\u2162":"lll","\u{10198}":"l\u0335l\u0335S\u0335","\u33EA":"ll\u65E5","\u32CA":"ll\u6708","\u3363":"ll\u70B9",\u042E:"lO","\u2491":"lO.","\u33E9":"lO\u65E5","\u32C9":"lO\u6708","\u3362":"lO\u70B9",\u02AA:"ls","\u20B6":"lt","\u2163":"lV","\u2168":"lX",\u026E:"l\u021D",\u02AB:"lz",\u0623:"l\u0674",\uFE84:"l\u0674",\uFE83:"l\u0674",\u0672:"l\u0674",\u0675:"l\u0674",\uFDF3:"l\u0643\u0628\u0631",\uFDF2:"l\u0644\u0644\u0651\u0670o","\u33E0":"l\u65E5","\u32C0":"l\u6708","\u3359":"l\u70B9","\u2CD1":"\u029F","\uABAE":"\u029F","\u{10443}":"\u029F",\uFF2D:"M","\u216F":"M",\u2133:"M","\u{1D40C}":"M","\u{1D440}":"M","\u{1D474}":"M","\u{1D4DC}":"M","\u{1D510}":"M","\u{1D544}":"M","\u{1D578}":"M","\u{1D5AC}":"M","\u{1D5E0}":"M","\u{1D614}":"M","\u{1D648}":"M","\u{1D67C}":"M",\u039C:"M","\u{1D6B3}":"M","\u{1D6ED}":"M","\u{1D727}":"M","\u{1D761}":"M","\u{1D79B}":"M","\u03FA":"M","\u2C98":"M",\u041C:"M",\u13B7:"M",\u15F0:"M",\u16D6:"M","\uA4DF":"M","\u{102B0}":"M","\u{10311}":"M","\u04CD":"M\u0326","\u{1F76B}":"MB","\u2DE8":"\u1DDF","\u{1D427}":"n","\u{1D45B}":"n","\u{1D48F}":"n","\u{1D4C3}":"n","\u{1D4F7}":"n","\u{1D52B}":"n","\u{1D55F}":"n","\u{1D593}":"n","\u{1D5C7}":"n","\u{1D5FB}":"n","\u{1D62F}":"n","\u{1D663}":"n","\u{1D697}":"n",\u0578:"n",\u057C:"n",\uFF2E:"N",\u2115:"N","\u{1D40D}":"N","\u{1D441}":"N","\u{1D475}":"N","\u{1D4A9}":"N","\u{1D4DD}":"N","\u{1D511}":"N","\u{1D579}":"N","\u{1D5AD}":"N","\u{1D5E1}":"N","\u{1D615}":"N","\u{1D649}":"N","\u{1D67D}":"N",\u039D:"N","\u{1D6B4}":"N","\u{1D6EE}":"N","\u{1D728}":"N","\u{1D762}":"N","\u{1D79C}":"N","\u2C9A":"N","\uA4E0":"N","\u{10513}":"N","\u{1018E}":"N\u030A",\u0273:"n\u0328",\u019E:"n\u0329",\u03B7:"n\u0329","\u{1D6C8}":"n\u0329","\u{1D702}":"n\u0329","\u{1D73C}":"n\u0329","\u{1D776}":"n\u0329","\u{1D7B0}":"n\u0329",\u019D:"N\u0326","\u1D70":"n\u0334",\u01CC:"nj",\u01CB:"Nj",\u01CA:"NJ","\u2116":"No","\u0377":"\u1D0E",\u0438:"\u1D0E","\u{1044D}":"\u1D0E",\u0146:"\u0272","\u0C02":"o","\u0C82":"o","\u0D02":"o","\u0D82":"o","\u0966":"o","\u0A66":"o","\u0AE6":"o","\u0BE6":"o","\u0C66":"o","\u0CE6":"o","\u0D66":"o","\u0E50":"o","\u0ED0":"o","\u1040":"o","\u0665":"o","\u06F5":"o",\uFF4F:"o",\u2134:"o","\u{1D428}":"o","\u{1D45C}":"o","\u{1D490}":"o","\u{1D4F8}":"o","\u{1D52C}":"o","\u{1D560}":"o","\u{1D594}":"o","\u{1D5C8}":"o","\u{1D5FC}":"o","\u{1D630}":"o","\u{1D664}":"o","\u{1D698}":"o","\u1D0F":"o","\u1D11":"o","\uAB3D":"o",\u03BF:"o","\u{1D6D0}":"o","\u{1D70A}":"o","\u{1D744}":"o","\u{1D77E}":"o","\u{1D7B8}":"o",\u03C3:"o","\u{1D6D4}":"o","\u{1D70E}":"o","\u{1D748}":"o","\u{1D782}":"o","\u{1D7BC}":"o","\u2C9F":"o",\u043E:"o","\u10FF":"o",\u0585:"o",\u05E1:"o",\u0647:"o","\u{1EE24}":"o","\u{1EE64}":"o","\u{1EE84}":"o",\uFEEB:"o",\uFEEC:"o",\uFEEA:"o",\uFEE9:"o",\u06BE:"o",\uFBAC:"o",\uFBAD:"o",\uFBAB:"o",\uFBAA:"o",\u06C1:"o",\uFBA8:"o",\uFBA9:"o",\uFBA7:"o",\uFBA6:"o",\u06D5:"o",\u0D20:"o",\u101D:"o","\u{104EA}":"o","\u{118C8}":"o","\u{118D7}":"o","\u{1042C}":"o","\u07C0":"O","\u09E6":"O","\u0B66":"O","\u3007":"O","\u{114D0}":"O","\u{118E0}":"O","\u{1D7CE}":"O","\u{1D7D8}":"O","\u{1D7E2}":"O","\u{1D7EC}":"O","\u{1D7F6}":"O","\u{1FBF0}":"O",\uFF2F:"O","\u{1D40E}":"O","\u{1D442}":"O","\u{1D476}":"O","\u{1D4AA}":"O","\u{1D4DE}":"O","\u{1D512}":"O","\u{1D546}":"O","\u{1D57A}":"O","\u{1D5AE}":"O","\u{1D5E2}":"O","\u{1D616}":"O","\u{1D64A}":"O","\u{1D67E}":"O",\u039F:"O","\u{1D6B6}":"O","\u{1D6F0}":"O","\u{1D72A}":"O","\u{1D764}":"O","\u{1D79E}":"O","\u2C9E":"O",\u041E:"O",\u0555:"O","\u2D54":"O",\u12D0:"O",\u0B20:"O","\u{104C2}":"O","\uA4F3":"O","\u{118B5}":"O","\u{10292}":"O","\u{102AB}":"O","\u{10404}":"O","\u{10516}":"O","\u2070":"\xBA","\u1D52":"\xBA",\u01D2:"\u014F",\u01D1:"\u014E","\u06FF":"o\u0302",\u0150:"\xD6",\u00F8:"o\u0338","\uAB3E":"o\u0338",\u00D8:"O\u0338","\u2D41":"O\u0338",\u01FE:"O\u0338\u0301",\u0275:"o\u0335","\uA74B":"o\u0335",\u04E9:"o\u0335",\u0473:"o\u0335","\uAB8E":"o\u0335","\uABBB":"o\u0335","\u2296":"O\u0335","\u229D":"O\u0335","\u236C":"O\u0335","\u{1D21A}":"O\u0335","\u{1F714}":"O\u0335",\u019F:"O\u0335","\uA74A":"O\u0335",\u03B8:"O\u0335",\u03D1:"O\u0335","\u{1D6C9}":"O\u0335","\u{1D6DD}":"O\u0335","\u{1D703}":"O\u0335","\u{1D717}":"O\u0335","\u{1D73D}":"O\u0335","\u{1D751}":"O\u0335","\u{1D777}":"O\u0335","\u{1D78B}":"O\u0335","\u{1D7B1}":"O\u0335","\u{1D7C5}":"O\u0335",\u0398:"O\u0335","\u03F4":"O\u0335","\u{1D6AF}":"O\u0335","\u{1D6B9}":"O\u0335","\u{1D6E9}":"O\u0335","\u{1D6F3}":"O\u0335","\u{1D723}":"O\u0335","\u{1D72D}":"O\u0335","\u{1D75D}":"O\u0335","\u{1D767}":"O\u0335","\u{1D797}":"O\u0335","\u{1D7A1}":"O\u0335",\u04E8:"O\u0335",\u0472:"O\u0335","\u2D31":"O\u0335",\u13BE:"O\u0335",\u13EB:"O\u0335","\uAB74":"o\u031B",\uFCD9:"o\u0670","\u{1F101}":"O,","\u{1F100}":"O.",\u01A1:"o'",\u01A0:"O'",\u13A4:"O'","%":"\xBA/\u2080","\u066A":"\xBA/\u2080","\u2052":"\xBA/\u2080","\u2030":"\xBA/\u2080\u2080","\u0609":"\xBA/\u2080\u2080","\u2031":"\xBA/\u2080\u2080\u2080","\u060A":"\xBA/\u2080\u2080\u2080",\u0153:"oe",\u0152:"OE",\u0276:"o\u1D07","\u221E":"oo","\uA74F":"oo","\uA699":"oo","\uA74E":"OO","\uA698":"OO",\uFCD7:"o\u062C",\uFC51:"o\u062C",\uFCD8:"o\u0645",\uFC52:"o\u0645",\uFD93:"o\u0645\u062C",\uFD94:"o\u0645\u0645",\uFC53:"o\u0649",\uFC54:"o\u0649","\u0D5F":"o\u0D30o",\u1010:"o\u102C","\u3358":"O\u70B9","\u2184":"\u0254","\u1D10":"\u0254","\u037B":"\u0254","\u{1044B}":"\u0254","\u2183":"\u0186","\u03FD":"\u0186","\uA4DB":"\u0186","\u{10423}":"\u0186","\uAB3F":"\u0254\u0338","\uAB62":"\u0254e","\u{1043F}":"\u0277","\u2374":"p",\uFF50:"p","\u{1D429}":"p","\u{1D45D}":"p","\u{1D491}":"p","\u{1D4C5}":"p","\u{1D4F9}":"p","\u{1D52D}":"p","\u{1D561}":"p","\u{1D595}":"p","\u{1D5C9}":"p","\u{1D5FD}":"p","\u{1D631}":"p","\u{1D665}":"p","\u{1D699}":"p",\u03C1:"p",\u03F1:"p","\u{1D6D2}":"p","\u{1D6E0}":"p","\u{1D70C}":"p","\u{1D71A}":"p","\u{1D746}":"p","\u{1D754}":"p","\u{1D780}":"p","\u{1D78E}":"p","\u{1D7BA}":"p","\u{1D7C8}":"p","\u2CA3":"p",\u0440:"p",\uFF30:"P",\u2119:"P","\u{1D40F}":"P","\u{1D443}":"P","\u{1D477}":"P","\u{1D4AB}":"P","\u{1D4DF}":"P","\u{1D513}":"P","\u{1D57B}":"P","\u{1D5AF}":"P","\u{1D5E3}":"P","\u{1D617}":"P","\u{1D64B}":"P","\u{1D67F}":"P",\u03A1:"P","\u{1D6B8}":"P","\u{1D6F2}":"P","\u{1D72C}":"P","\u{1D766}":"P","\u{1D7A0}":"P","\u2CA2":"P",\u0420:"P",\u13E2:"P",\u146D:"P","\uA4D1":"P","\u{10295}":"P",\u01A5:"p\u0314","\u1D7D":"p\u0335",\u1477:"p\xB7",\u1486:"P'","\u1D29":"\u1D18","\uABB2":"\u1D18",\u03C6:"\u0278",\u03D5:"\u0278","\u{1D6D7}":"\u0278","\u{1D6DF}":"\u0278","\u{1D711}":"\u0278","\u{1D719}":"\u0278","\u{1D74B}":"\u0278","\u{1D753}":"\u0278","\u{1D785}":"\u0278","\u{1D78D}":"\u0278","\u{1D7BF}":"\u0278","\u{1D7C7}":"\u0278","\u2CAB":"\u0278",\u0444:"\u0278","\u{1D42A}":"q","\u{1D45E}":"q","\u{1D492}":"q","\u{1D4C6}":"q","\u{1D4FA}":"q","\u{1D52E}":"q","\u{1D562}":"q","\u{1D596}":"q","\u{1D5CA}":"q","\u{1D5FE}":"q","\u{1D632}":"q","\u{1D666}":"q","\u{1D69A}":"q","\u051B":"q",\u0563:"q",\u0566:"q",\u211A:"Q","\u{1D410}":"Q","\u{1D444}":"Q","\u{1D478}":"Q","\u{1D4AC}":"Q","\u{1D4E0}":"Q","\u{1D514}":"Q","\u{1D57C}":"Q","\u{1D5B0}":"Q","\u{1D5E4}":"Q","\u{1D618}":"Q","\u{1D64C}":"Q","\u{1D680}":"Q","\u2D55":"Q",\u02A0:"q\u0314","\u{1F700}":"QE","\u1D90":"\u024B","\u1D0B":"\u0138",\u03BA:"\u0138",\u03F0:"\u0138","\u{1D6CB}":"\u0138","\u{1D6DE}":"\u0138","\u{1D705}":"\u0138","\u{1D718}":"\u0138","\u{1D73F}":"\u0138","\u{1D752}":"\u0138","\u{1D779}":"\u0138","\u{1D78C}":"\u0138","\u{1D7B3}":"\u0138","\u{1D7C6}":"\u0138","\u2C95":"\u0138",\u043A:"\u0138","\uABB6":"\u0138",\u049B:"\u0138\u0329",\u049F:"\u0138\u0335","\u{1D42B}":"r","\u{1D45F}":"r","\u{1D493}":"r","\u{1D4C7}":"r","\u{1D4FB}":"r","\u{1D52F}":"r","\u{1D563}":"r","\u{1D597}":"r","\u{1D5CB}":"r","\u{1D5FF}":"r","\u{1D633}":"r","\u{1D667}":"r","\u{1D69B}":"r","\uAB47":"r","\uAB48":"r","\u1D26":"r","\u2C85":"r",\u0433:"r","\uAB81":"r","\u{1D216}":"R",\u211B:"R",\u211C:"R",\u211D:"R","\u{1D411}":"R","\u{1D445}":"R","\u{1D479}":"R","\u{1D4E1}":"R","\u{1D57D}":"R","\u{1D5B1}":"R","\u{1D5E5}":"R","\u{1D619}":"R","\u{1D64D}":"R","\u{1D681}":"R",\u01A6:"R",\u13A1:"R",\u13D2:"R","\u{104B4}":"R",\u1587:"R","\uA4E3":"R","\u{16F35}":"R",\u027D:"r\u0328",\u027C:"r\u0329","\u024D":"r\u0335",\u0493:"r\u0335","\u1D72":"r\u0334",\u0491:"r'","\u{118E3}":"rn",m:tle,"\u217F":"rn","\u{1D426}":"rn","\u{1D45A}":"rn","\u{1D48E}":"rn","\u{1D4C2}":"rn","\u{1D4F6}":"rn","\u{1D52A}":"rn","\u{1D55E}":"rn","\u{1D592}":"rn","\u{1D5C6}":"rn","\u{1D5FA}":"rn","\u{1D62E}":"rn","\u{1D662}":"rn","\u{1D696}":"rn","\u{11700}":"rn","\u20A5":"rn\u0338",\u0271:"rn\u0326","\u1D6F":"rn\u0334","\u20A8":"Rs","\uAB71":"\u0280","\uABA2":"\u0280",\u044F:"\u1D19","\u1D73":"\u027E\u0334","\u2129":"\u027F",\uFF53:"s","\u{1D42C}":"s","\u{1D460}":"s","\u{1D494}":"s","\u{1D4C8}":"s","\u{1D4FC}":"s","\u{1D530}":"s","\u{1D564}":"s","\u{1D598}":"s","\u{1D5CC}":"s","\u{1D600}":"s","\u{1D634}":"s","\u{1D668}":"s","\u{1D69C}":"s","\uA731":"s",\u01BD:"s",\u0455:"s","\uABAA":"s","\u{118C1}":"s","\u{10448}":"s",\uFF33:"S","\u{1D412}":"S","\u{1D446}":"S","\u{1D47A}":"S","\u{1D4AE}":"S","\u{1D4E2}":"S","\u{1D516}":"S","\u{1D54A}":"S","\u{1D57E}":"S","\u{1D5B2}":"S","\u{1D5E6}":"S","\u{1D61A}":"S","\u{1D64E}":"S","\u{1D682}":"S",\u0405:"S",\u054F:"S",\u13D5:"S",\u13DA:"S","\uA4E2":"S","\u{16F3A}":"S","\u{10296}":"S","\u{10420}":"S",\u0282:"s\u0328","\u1D74":"s\u0334","\uA7B5":"\xDF",\u03B2:"\xDF",\u03D0:"\xDF","\u{1D6C3}":"\xDF","\u{1D6FD}":"\xDF","\u{1D737}":"\xDF","\u{1D771}":"\xDF","\u{1D7AB}":"\xDF",\u13F0:"\xDF","\u{1F75C}":"sss",\uFB06:"st","\u222B":"\u0283","\uAB4D":"\u0283","\u2211":"\u01A9","\u2140":"\u01A9",\u03A3:"\u01A9","\u{1D6BA}":"\u01A9","\u{1D6F4}":"\u01A9","\u{1D72E}":"\u01A9","\u{1D768}":"\u01A9","\u{1D7A2}":"\u01A9","\u2D49":"\u01A9","\u222C":"\u0283\u0283","\u222D":"\u0283\u0283\u0283","\u2A0C":"\u0283\u0283\u0283\u0283","\u{1D42D}":"t","\u{1D461}":"t","\u{1D495}":"t","\u{1D4C9}":"t","\u{1D4FD}":"t","\u{1D531}":"t","\u{1D565}":"t","\u{1D599}":"t","\u{1D5CD}":"t","\u{1D601}":"t","\u{1D635}":"t","\u{1D669}":"t","\u{1D69D}":"t","\u22A4":"T","\u27D9":"T","\u{1F768}":"T",\uFF34:"T","\u{1D413}":"T","\u{1D447}":"T","\u{1D47B}":"T","\u{1D4AF}":"T","\u{1D4E3}":"T","\u{1D517}":"T","\u{1D54B}":"T","\u{1D57F}":"T","\u{1D5B3}":"T","\u{1D5E7}":"T","\u{1D61B}":"T","\u{1D64F}":"T","\u{1D683}":"T",\u03A4:"T","\u{1D6BB}":"T","\u{1D6F5}":"T","\u{1D72F}":"T","\u{1D769}":"T","\u{1D7A3}":"T","\u2CA6":"T",\u0422:"T",\u13A2:"T","\uA4D4":"T","\u{16F0A}":"T","\u{118BC}":"T","\u{10297}":"T","\u{102B1}":"T","\u{10315}":"T",\u01AD:"t\u0314","\u2361":"T\u0308","\u023E":"T\u0338",\u021A:"\u0162",\u01AE:"T\u0328",\u04AC:"T\u0329","\u20AE":"T\u20EB",\u0167:"t\u0335",\u0166:"T\u0335","\u1D75":"t\u0334",\u10A0:"\uA786","\uA728":"T3",\u02A8:"t\u0255","\u2121":"TEL","\uA777":"tf",\u02A6:"ts",\u02A7:"t\u0283","\uA729":"t\u021D",\u03C4:"\u1D1B","\u{1D6D5}":"\u1D1B","\u{1D70F}":"\u1D1B","\u{1D749}":"\u1D1B","\u{1D783}":"\u1D1B","\u{1D7BD}":"\u1D1B",\u0442:"\u1D1B","\uAB72":"\u1D1B",\u04AD:"\u1D1B\u0329",\u0163:"\u01AB",\u021B:"\u01AB",\u13BF:"\u01AB","\u{1D42E}":"u","\u{1D462}":"u","\u{1D496}":"u","\u{1D4CA}":"u","\u{1D4FE}":"u","\u{1D532}":"u","\u{1D566}":"u","\u{1D59A}":"u","\u{1D5CE}":"u","\u{1D602}":"u","\u{1D636}":"u","\u{1D66A}":"u","\u{1D69E}":"u","\uA79F":"u","\u1D1C":"u","\uAB4E":"u","\uAB52":"u",\u028B:"u",\u03C5:"u","\u{1D6D6}":"u","\u{1D710}":"u","\u{1D74A}":"u","\u{1D784}":"u","\u{1D7BE}":"u",\u057D:"u","\u{104F6}":"u","\u{118D8}":"u","\u222A":"U","\u22C3":"U","\u{1D414}":"U","\u{1D448}":"U","\u{1D47C}":"U","\u{1D4B0}":"U","\u{1D4E4}":"U","\u{1D518}":"U","\u{1D54C}":"U","\u{1D580}":"U","\u{1D5B4}":"U","\u{1D5E8}":"U","\u{1D61C}":"U","\u{1D650}":"U","\u{1D684}":"U",\u054D:"U",\u1200:"U","\u{104CE}":"U",\u144C:"U","\uA4F4":"U","\u{16F42}":"U","\u{118B8}":"U",\u01D4:"\u016D",\u01D3:"\u016C","\u1D7E":"u\u0335","\uAB9C":"u\u0335","\u0244":"U\u0335",\u13CC:"U\u0335",\u1458:"U\xB7",\u1467:"U'","\u1D6B":"ue","\uAB63":"uo",\u1E43:"\uAB51",\u057A:"\u0270",\u1223:"\u0270","\u2127":"\u01B1",\u162E:"\u01B1",\u1634:"\u01B1","\u1D7F":"\u028A\u0335","\u2228":"v","\u22C1":"v",\uFF56:"v","\u2174":"v","\u{1D42F}":"v","\u{1D463}":"v","\u{1D497}":"v","\u{1D4CB}":"v","\u{1D4FF}":"v","\u{1D533}":"v","\u{1D567}":"v","\u{1D59B}":"v","\u{1D5CF}":"v","\u{1D603}":"v","\u{1D637}":"v","\u{1D66B}":"v","\u{1D69F}":"v","\u1D20":"v",\u03BD:"v","\u{1D6CE}":"v","\u{1D708}":"v","\u{1D742}":"v","\u{1D77C}":"v","\u{1D7B6}":"v",\u0475:"v",\u05D8:"v","\u{11706}":"v","\uABA9":"v","\u{118C0}":"v","\u{1D20D}":"V","\u0667":"V","\u06F7":"V","\u2164":"V","\u{1D415}":"V","\u{1D449}":"V","\u{1D47D}":"V","\u{1D4B1}":"V","\u{1D4E5}":"V","\u{1D519}":"V","\u{1D54D}":"V","\u{1D581}":"V","\u{1D5B5}":"V","\u{1D5E9}":"V","\u{1D61D}":"V","\u{1D651}":"V","\u{1D685}":"V",\u0474:"V","\u2D38":"V",\u13D9:"V",\u142F:"V","\uA6DF":"V","\uA4E6":"V","\u{16F08}":"V","\u{118A0}":"V","\u{1051D}":"V","\u{10197}":"V\u0335",\u143B:"V\xB7","\u{1F76C}":"VB","\u2175":"vi","\u2176":"vii","\u2177":"viii","\u2165":"Vl","\u2166":"Vll","\u2167":"Vlll","\u{1F708}":"V\u1DE4","\u1D27":"\u028C","\u{104D8}":"\u028C","\u0668":"\u0245","\u06F8":"\u0245",\u039B:"\u0245","\u{1D6B2}":"\u0245","\u{1D6EC}":"\u0245","\u{1D726}":"\u0245","\u{1D760}":"\u0245","\u{1D79A}":"\u0245",\u041B:"\u0245","\u2D37":"\u0245","\u{104B0}":"\u0245",\u1431:"\u0245","\uA6CE":"\u0245","\uA4E5":"\u0245","\u{16F3D}":"\u0245","\u{1028D}":"\u0245","\u04C5":"\u0245\u0326",\u143D:"\u0245\xB7",\u026F:"w","\u{1D430}":"w","\u{1D464}":"w","\u{1D498}":"w","\u{1D4CC}":"w","\u{1D500}":"w","\u{1D534}":"w","\u{1D568}":"w","\u{1D59C}":"w","\u{1D5D0}":"w","\u{1D604}":"w","\u{1D638}":"w","\u{1D66C}":"w","\u{1D6A0}":"w","\u1D21":"w",\u0461:"w","\u051D":"w",\u0561:"w","\u{1170A}":"w","\u{1170E}":"w","\u{1170F}":"w","\uAB83":"w","\u{118EF}":"W","\u{118E6}":"W","\u{1D416}":"W","\u{1D44A}":"W","\u{1D47E}":"W","\u{1D4B2}":"W","\u{1D4E6}":"W","\u{1D51A}":"W","\u{1D54E}":"W","\u{1D582}":"W","\u{1D5B6}":"W","\u{1D5EA}":"W","\u{1D61E}":"W","\u{1D652}":"W","\u{1D686}":"W","\u051C":"W",\u13B3:"W",\u13D4:"W","\uA4EA":"W",\u047D:"w\u0486\u0487","\u{114C5}":"w\u0307","\u20A9":"W\u0335","\uA761":"w\u0326","\u1D0D":"\u028D",\u043C:"\u028D","\uAB87":"\u028D","\u04CE":"\u028D\u0326","\u166E":"x","\xD7":"x","\u292B":"x","\u292C":"x","\u2A2F":"x",\uFF58:"x","\u2179":"x","\u{1D431}":"x","\u{1D465}":"x","\u{1D499}":"x","\u{1D4CD}":"x","\u{1D501}":"x","\u{1D535}":"x","\u{1D569}":"x","\u{1D59D}":"x","\u{1D5D1}":"x","\u{1D605}":"x","\u{1D639}":"x","\u{1D66D}":"x","\u{1D6A1}":"x",\u0445:"x",\u1541:"x",\u157D:"x","\u2DEF":"\u036F","\u166D":"X","\u2573":"X","\u{10322}":"X","\u{118EC}":"X",\uFF38:"X","\u2169":"X","\u{1D417}":"X","\u{1D44B}":"X","\u{1D47F}":"X","\u{1D4B3}":"X","\u{1D4E7}":"X","\u{1D51B}":"X","\u{1D54F}":"X","\u{1D583}":"X","\u{1D5B7}":"X","\u{1D5EB}":"X","\u{1D61F}":"X","\u{1D653}":"X","\u{1D687}":"X","\uA7B3":"X",\u03A7:"X","\u{1D6BE}":"X","\u{1D6F8}":"X","\u{1D732}":"X","\u{1D76C}":"X","\u{1D7A6}":"X","\u2CAC":"X",\u0425:"X","\u2D5D":"X",\u16B7:"X","\uA4EB":"X","\u{10290}":"X","\u{102B4}":"X","\u{10317}":"X","\u{10527}":"X","\u2A30":"x\u0307",\u04B2:"X\u0329","\u{10196}":"X\u0335","\u217A":"xi","\u217B":"xii","\u216A":"Xl","\u216B":"Xll",\u0263:"y","\u1D8C":"y",\uFF59:"y","\u{1D432}":"y","\u{1D466}":"y","\u{1D49A}":"y","\u{1D4CE}":"y","\u{1D502}":"y","\u{1D536}":"y","\u{1D56A}":"y","\u{1D59E}":"y","\u{1D5D2}":"y","\u{1D606}":"y","\u{1D63A}":"y","\u{1D66E}":"y","\u{1D6A2}":"y",\u028F:"y","\u1EFF":"y","\uAB5A":"y",\u03B3:"y","\u213D":"y","\u{1D6C4}":"y","\u{1D6FE}":"y","\u{1D738}":"y","\u{1D772}":"y","\u{1D7AC}":"y",\u0443:"y",\u04AF:"y",\u10E7:"y","\u{118DC}":"y",\uFF39:"Y","\u{1D418}":"Y","\u{1D44C}":"Y","\u{1D480}":"Y","\u{1D4B4}":"Y","\u{1D4E8}":"Y","\u{1D51C}":"Y","\u{1D550}":"Y","\u{1D584}":"Y","\u{1D5B8}":"Y","\u{1D5EC}":"Y","\u{1D620}":"Y","\u{1D654}":"Y","\u{1D688}":"Y",\u03A5:"Y",\u03D2:"Y","\u{1D6BC}":"Y","\u{1D6F6}":"Y","\u{1D730}":"Y","\u{1D76A}":"Y","\u{1D7A4}":"Y","\u2CA8":"Y",\u0423:"Y",\u04AE:"Y",\u13A9:"Y",\u13BD:"Y","\uA4EC":"Y","\u{16F43}":"Y","\u{118A4}":"Y","\u{102B2}":"Y",\u01B4:"y\u0314","\u024F":"y\u0335",\u04B1:"y\u0335","\xA5":"Y\u0335","\u024E":"Y\u0335",\u04B0:"Y\u0335",\u0292:"\u021D","\uA76B":"\u021D","\u2CCD":"\u021D",\u04E1:"\u021D",\u10F3:"\u021D","\u{1D433}":"z","\u{1D467}":"z","\u{1D49B}":"z","\u{1D4CF}":"z","\u{1D503}":"z","\u{1D537}":"z","\u{1D56B}":"z","\u{1D59F}":"z","\u{1D5D3}":"z","\u{1D607}":"z","\u{1D63B}":"z","\u{1D66F}":"z","\u{1D6A3}":"z","\u1D22":"z","\uAB93":"z","\u{118C4}":"z","\u{102F5}":"Z","\u{118E5}":"Z",\uFF3A:"Z",\u2124:"Z",\u2128:"Z","\u{1D419}":"Z","\u{1D44D}":"Z","\u{1D481}":"Z","\u{1D4B5}":"Z","\u{1D4E9}":"Z","\u{1D585}":"Z","\u{1D5B9}":"Z","\u{1D5ED}":"Z","\u{1D621}":"Z","\u{1D655}":"Z","\u{1D689}":"Z",\u0396:"Z","\u{1D6AD}":"Z","\u{1D6E7}":"Z","\u{1D721}":"Z","\u{1D75B}":"Z","\u{1D795}":"Z",\u13C3:"Z","\uA4DC":"Z","\u{118A9}":"Z",\u0290:"z\u0328",\u01B6:"z\u0335",\u01B5:"Z\u0335",\u0225:"z\u0326",\u0224:"Z\u0326","\u1D76":"z\u0334",\u01BF:"\xFE","\u03F8":"\xFE","\u03F7":"\xDE","\u{104C4}":"\xDE","\u2079":"\uA770","\u1D24":"\u01A8",\u03E9:"\u01A8","\uA645":"\u01A8",\u044C:"\u0185","\uAB9F":"\u0185",\u044B:"\u0185i","\uAB7E":"\u0242",\u02E4:"\u02C1","\uA6CD":"\u02A1","\u2299":"\u0298","\u2609":"\u0298","\u2A00":"\u0298","\uA668":"\u0298","\u2D59":"\u0298","\u{104C3}":"\u0298","\u213E":"\u0393","\u{1D6AA}":"\u0393","\u{1D6E4}":"\u0393","\u{1D71E}":"\u0393","\u{1D758}":"\u0393","\u{1D792}":"\u0393","\u2C84":"\u0393",\u0413:"\u0393",\u13B1:"\u0393",\u14A5:"\u0393","\u{16F07}":"\u0393",\u0492:"\u0393\u0335",\u14AF:"\u0393\xB7",\u0490:"\u0393'","\u2206":"\u0394","\u25B3":"\u0394","\u{1F702}":"\u0394","\u{1D6AB}":"\u0394","\u{1D6E5}":"\u0394","\u{1D71F}":"\u0394","\u{1D759}":"\u0394","\u{1D793}":"\u0394","\u2C86":"\u0394","\u2D60":"\u0394",\u1403:"\u0394","\u{16F1A}":"\u0394","\u{10285}":"\u0394","\u{102A3}":"\u0394","\u2359":"\u0394\u0332",\u140F:"\u0394\xB7",\u142C:"\u0394\u1420","\u{1D7CB}":"\u03DD","\u{1D6C7}":"\u03B6","\u{1D701}":"\u03B6","\u{1D73B}":"\u03B6","\u{1D775}":"\u03B6","\u{1D7AF}":"\u03B6","\u2CE4":"\u03D7","\u{1D6CC}":"\u03BB","\u{1D706}":"\u03BB","\u{1D740}":"\u03BB","\u{1D77A}":"\u03BB","\u{1D7B4}":"\u03BB","\u2C96":"\u03BB","\u{104DB}":"\u03BB",\u00B5:"\u03BC","\u{1D6CD}":"\u03BC","\u{1D707}":"\u03BC","\u{1D741}":"\u03BC","\u{1D77B}":"\u03BC","\u{1D7B5}":"\u03BC","\u{1D6CF}":"\u03BE","\u{1D709}":"\u03BE","\u{1D743}":"\u03BE","\u{1D77D}":"\u03BE","\u{1D7B7}":"\u03BE","\u{1D6B5}":"\u039E","\u{1D6EF}":"\u039E","\u{1D729}":"\u039E","\u{1D763}":"\u039E","\u{1D79D}":"\u039E",\u03D6:"\u03C0","\u213C":"\u03C0","\u{1D6D1}":"\u03C0","\u{1D6E1}":"\u03C0","\u{1D70B}":"\u03C0","\u{1D71B}":"\u03C0","\u{1D745}":"\u03C0","\u{1D755}":"\u03C0","\u{1D77F}":"\u03C0","\u{1D78F}":"\u03C0","\u{1D7B9}":"\u03C0","\u{1D7C9}":"\u03C0","\u1D28":"\u03C0",\u043F:"\u03C0","\u220F":"\u03A0","\u213F":"\u03A0","\u{1D6B7}":"\u03A0","\u{1D6F1}":"\u03A0","\u{1D72B}":"\u03A0","\u{1D765}":"\u03A0","\u{1D79F}":"\u03A0","\u2CA0":"\u03A0",\u041F:"\u03A0","\uA6DB":"\u03A0","\u{102AD}":"\u03D8","\u{10312}":"\u03D8",\u03DB:"\u03C2","\u{1D6D3}":"\u03C2","\u{1D70D}":"\u03C2","\u{1D747}":"\u03C2","\u{1D781}":"\u03C2","\u{1D7BB}":"\u03C2","\u{1D6BD}":"\u03A6","\u{1D6F7}":"\u03A6","\u{1D731}":"\u03A6","\u{1D76B}":"\u03A6","\u{1D7A5}":"\u03A6","\u2CAA":"\u03A6",\u0424:"\u03A6",\u0553:"\u03A6",\u1240:"\u03A6","\u16F0":"\u03A6","\u{102B3}":"\u03A6","\uAB53":"\u03C7","\uAB55":"\u03C7","\u{1D6D8}":"\u03C7","\u{1D712}":"\u03C7","\u{1D74C}":"\u03C7","\u{1D786}":"\u03C7","\u{1D7C0}":"\u03C7","\u2CAD":"\u03C7","\u{1D6D9}":"\u03C8","\u{1D713}":"\u03C8","\u{1D74D}":"\u03C8","\u{1D787}":"\u03C8","\u{1D7C1}":"\u03C8",\u0471:"\u03C8","\u{104F9}":"\u03C8","\u{1D6BF}":"\u03A8","\u{1D6F9}":"\u03A8","\u{1D733}":"\u03A8","\u{1D76D}":"\u03A8","\u{1D7A7}":"\u03A8","\u2CAE":"\u03A8",\u0470:"\u03A8","\u{104D1}":"\u03A8",\u16D8:"\u03A8","\u{102B5}":"\u03A8","\u2375":"\u03C9","\uA7B7":"\u03C9","\u{1D6DA}":"\u03C9","\u{1D714}":"\u03C9","\u{1D74E}":"\u03C9","\u{1D788}":"\u03C9","\u{1D7C2}":"\u03C9","\u2CB1":"\u03C9","\uA64D":"\u03C9",\u2126:"\u03A9","\u{1D6C0}":"\u03A9","\u{1D6FA}":"\u03A9","\u{1D734}":"\u03A9","\u{1D76E}":"\u03A9","\u{1D7A8}":"\u03A9",\u162F:"\u03A9",\u1635:"\u03A9","\u{102B6}":"\u03A9","\u2379":"\u03C9\u0332",\u1F7D:"\u1FF4","\u2630":"\u2CB6","\u2CDC":"\u03EC",\u0497:"\u0436\u0329",\u0496:"\u0416\u0329","\u{1D20B}":"\u0418","\u0376":"\u0418","\uA6A1":"\u0418","\u{10425}":"\u0418",\u0419:"\u040D","\u048A":"\u040D\u0326",\u045D:"\u0439","\u048B":"\u0439\u0326","\u{104BC}":"\u04C3","\u1D2B":"\u043B","\u04C6":"\u043B\u0326","\uAB60":"\u0459","\u{104EB}":"\uA669","\u1DEE":"\u2DEC","\u{104CD}":"\u040B","\u{1D202}":"\u04FE","\u{1D222}":"\u0460",\u13C7:"\u0460",\u15EF:"\u0460",\u047C:"\u0460\u0486\u0487","\u18ED":"\u0460\xB7","\uA7B6":"\uA64C",\u04CC:"\u04B7",\u04CB:"\u04B6",\u04BE:"\u04BC\u0328","\u2CBD":"\u0448","\u2CBC":"\u0428","\uA650":"\u042Al","\u2108":"\u042D","\u{1F701}":"\uA658","\u{16F1C}":"\uA658","\uA992":"\u2C3F",\u0587:"\u0565\u0582",\u1294:"\u0571",\uFB14:"\u0574\u0565",\uFB15:"\u0574\u056B",\uFB17:"\u0574\u056D",\uFB13:"\u0574\u0576","\u2229":"\u0548","\u22C2":"\u0548","\u{1D245}":"\u0548",\u1260:"\u0548",\u144E:"\u0548","\uA4F5":"\u0548",\u145A:"\u0548\xB7",\u1468:"\u0548'",\uFB16:"\u057E\u0576","\u20BD":"\u0554","\u02D3":"\u0559",\u02BF:"\u0559",\u2135:"\u05D0",\uFB21:"\u05D0",\uFB2F:"\uFB2E",\uFB30:"\uFB2E",\uFB4F:"\u05D0\u05DC",\u2136:"\u05D1",\u2137:"\u05D2",\u2138:"\u05D3",\uFB22:"\u05D3",\uFB23:"\u05D4",\uFB39:"\uFB1D",\uFB24:"\u05DB",\uFB25:"\u05DC",\uFB26:"\u05DD",\uFB20:"\u05E2",\uFB27:"\u05E8",\uFB2B:"\uFB2A",\uFB49:"\uFB2A",\uFB2D:"\uFB2C",\uFB28:"\u05EA",\uFE80:"\u0621","\u06FD":"\u0621\u0348",\uFE82:"\u0622",\uFE81:"\u0622",\uFB51:"\u0671",\uFB50:"\u0671","\u{1EE01}":"\u0628","\u{1EE21}":"\u0628","\u{1EE61}":"\u0628","\u{1EE81}":"\u0628","\u{1EEA1}":"\u0628",\uFE91:"\u0628",\uFE92:"\u0628",\uFE90:"\u0628",\uFE8F:"\u0628","\u0751":"\u0628\u06DB","\u08B6":"\u0628\u06E2","\u08A1":"\u0628\u0654",\uFCA0:"\u0628o",\uFCE2:"\u0628o",\uFC9C:"\u0628\u062C",\uFC05:"\u0628\u062C",\uFC9D:"\u0628\u062D",\uFC06:"\u0628\u062D",\uFDC2:"\u0628\u062D\u0649",\uFC9E:"\u0628\u062E",\uFC07:"\u0628\u062E",\uFCD2:"\u0628\u062E",\uFC4B:"\u0628\u062E",\uFD9E:"\u0628\u062E\u0649",\uFC6A:"\u0628\u0631",\uFC6B:"\u0628\u0632",\uFC9F:"\u0628\u0645",\uFCE1:"\u0628\u0645",\uFC6C:"\u0628\u0645",\uFC08:"\u0628\u0645",\uFC6D:"\u0628\u0646",\uFC6E:"\u0628\u0649",\uFC09:"\u0628\u0649",\uFC6F:"\u0628\u0649",\uFC0A:"\u0628\u0649",\uFB54:"\u067B",\uFB55:"\u067B",\uFB53:"\u067B",\uFB52:"\u067B",\u06D0:"\u067B",\uFBE6:"\u067B",\uFBE7:"\u067B",\uFBE5:"\u067B",\uFBE4:"\u067B",\uFB5C:"\u0680",\uFB5D:"\u0680",\uFB5B:"\u0680",\uFB5A:"\u0680","\u08A9":"\u0754","\u0767":"\u0754","\u2365":"\u0629",\u00F6:"\u0629",\uFE94:"\u0629",\uFE93:"\u0629",\u06C3:"\u0629","\u{1EE15}":"\u062A","\u{1EE35}":"\u062A","\u{1EE75}":"\u062A","\u{1EE95}":"\u062A","\u{1EEB5}":"\u062A",\uFE97:"\u062A",\uFE98:"\u062A",\uFE96:"\u062A",\uFE95:"\u062A",\uFCA5:"\u062Ao",\uFCE4:"\u062Ao",\uFCA1:"\u062A\u062C",\uFC0B:"\u062A\u062C",\uFD50:"\u062A\u062C\u0645",\uFDA0:"\u062A\u062C\u0649",\uFD9F:"\u062A\u062C\u0649",\uFCA2:"\u062A\u062D",\uFC0C:"\u062A\u062D",\uFD52:"\u062A\u062D\u062C",\uFD51:"\u062A\u062D\u062C",\uFD53:"\u062A\u062D\u0645",\uFCA3:"\u062A\u062E",\uFC0D:"\u062A\u062E",\uFD54:"\u062A\u062E\u0645",\uFDA2:"\u062A\u062E\u0649",\uFDA1:"\u062A\u062E\u0649",\uFC70:"\u062A\u0631",\uFC71:"\u062A\u0632",\uFCA4:"\u062A\u0645",\uFCE3:"\u062A\u0645",\uFC72:"\u062A\u0645",\uFC0E:"\u062A\u0645",\uFD55:"\u062A\u0645\u062C",\uFD56:"\u062A\u0645\u062D",\uFD57:"\u062A\u0645\u062E",\uFDA4:"\u062A\u0645\u0649",\uFDA3:"\u062A\u0645\u0649",\uFC73:"\u062A\u0646",\uFC74:"\u062A\u0649",\uFC0F:"\u062A\u0649",\uFC75:"\u062A\u0649",\uFC10:"\u062A\u0649",\uFB60:"\u067A",\uFB61:"\u067A",\uFB5F:"\u067A",\uFB5E:"\u067A",\uFB64:"\u067F",\uFB65:"\u067F",\uFB63:"\u067F",\uFB62:"\u067F","\u{1EE02}":"\u062C","\u{1EE22}":"\u062C","\u{1EE42}":"\u062C","\u{1EE62}":"\u062C","\u{1EE82}":"\u062C","\u{1EEA2}":"\u062C",\uFE9F:"\u062C",\uFEA0:"\u062C",\uFE9E:"\u062C",\uFE9D:"\u062C",\uFCA7:"\u062C\u062D",\uFC15:"\u062C\u062D",\uFDA6:"\u062C\u062D\u0649",\uFDBE:"\u062C\u062D\u0649",\uFDFB:"\u062C\u0644 \u062C\u0644l\u0644o",\uFCA8:"\u062C\u0645",\uFC16:"\u062C\u0645",\uFD59:"\u062C\u0645\u062D",\uFD58:"\u062C\u0645\u062D",\uFDA7:"\u062C\u0645\u0649",\uFDA5:"\u062C\u0645\u0649",\uFD1D:"\u062C\u0649",\uFD01:"\u062C\u0649",\uFD1E:"\u062C\u0649",\uFD02:"\u062C\u0649",\uFB78:"\u0683",\uFB79:"\u0683",\uFB77:"\u0683",\uFB76:"\u0683",\uFB74:"\u0684",\uFB75:"\u0684",\uFB73:"\u0684",\uFB72:"\u0684",\uFB7C:"\u0686",\uFB7D:"\u0686",\uFB7B:"\u0686",\uFB7A:"\u0686",\uFB80:"\u0687",\uFB81:"\u0687",\uFB7F:"\u0687",\uFB7E:"\u0687","\u{1EE07}":"\u062D","\u{1EE27}":"\u062D","\u{1EE47}":"\u062D","\u{1EE67}":"\u062D","\u{1EE87}":"\u062D","\u{1EEA7}":"\u062D",\uFEA3:"\u062D",\uFEA4:"\u062D",\uFEA2:"\u062D",\uFEA1:"\u062D",\u0685:"\u062D\u06DB",\u0681:"\u062D\u0654","\u0772":"\u062D\u0654",\uFCA9:"\u062D\u062C",\uFC17:"\u062D\u062C",\uFDBF:"\u062D\u062C\u0649",\uFCAA:"\u062D\u0645",\uFC18:"\u062D\u0645",\uFD5B:"\u062D\u0645\u0649",\uFD5A:"\u062D\u0645\u0649",\uFD1B:"\u062D\u0649",\uFCFF:"\u062D\u0649",\uFD1C:"\u062D\u0649",\uFD00:"\u062D\u0649","\u{1EE17}":"\u062E","\u{1EE37}":"\u062E","\u{1EE57}":"\u062E","\u{1EE77}":"\u062E","\u{1EE97}":"\u062E","\u{1EEB7}":"\u062E",\uFEA7:"\u062E",\uFEA8:"\u062E",\uFEA6:"\u062E",\uFEA5:"\u062E",\uFCAB:"\u062E\u062C",\uFC19:"\u062E\u062C",\uFC1A:"\u062E\u062D",\uFCAC:"\u062E\u0645",\uFC1B:"\u062E\u0645",\uFD1F:"\u062E\u0649",\uFD03:"\u062E\u0649",\uFD20:"\u062E\u0649",\uFD04:"\u062E\u0649","\u{102E1}":"\u062F","\u{1EE03}":"\u062F","\u{1EE83}":"\u062F","\u{1EEA3}":"\u062F",\uFEAA:"\u062F",\uFEA9:"\u062F",\u0688:"\u062F\u0615",\uFB89:"\u062F\u0615",\uFB88:"\u062F\u0615",\u068E:"\u062F\u06DB",\uFB87:"\u062F\u06DB",\uFB86:"\u062F\u06DB","\u06EE":"\u062F\u0302","\u08AE":"\u062F\u0324\u0323","\u{1EE18}":"\u0630","\u{1EE98}":"\u0630","\u{1EEB8}":"\u0630",\uFEAC:"\u0630",\uFEAB:"\u0630",\uFC5B:"\u0630\u0670",\u068B:"\u068A\u0615",\uFB85:"\u068C",\uFB84:"\u068C",\uFB83:"\u068D",\uFB82:"\u068D","\u{1EE13}":"\u0631","\u{1EE93}":"\u0631","\u{1EEB3}":"\u0631",\uFEAE:"\u0631",\uFEAD:"\u0631",\u0691:"\u0631\u0615",\uFB8D:"\u0631\u0615",\uFB8C:"\u0631\u0615",\u0698:"\u0631\u06DB",\uFB8B:"\u0631\u06DB",\uFB8A:"\u0631\u06DB",\u0692:"\u0631\u0306","\u08B9":"\u0631\u0306\u0307","\u06EF":"\u0631\u0302","\u076C":"\u0631\u0654",\uFC5C:"\u0631\u0670",\uFDF6:"\u0631\u0633\u0648\u0644","\uFDFC":"\u0631\u0649l\u0644","\u{1EE06}":"\u0632","\u{1EE86}":"\u0632","\u{1EEA6}":"\u0632",\uFEB0:"\u0632",\uFEAF:"\u0632","\u08B2":"\u0632\u0302","\u0771":"\u0697\u0615","\u{1EE0E}":"\u0633","\u{1EE2E}":"\u0633","\u{1EE4E}":"\u0633","\u{1EE6E}":"\u0633","\u{1EE8E}":"\u0633","\u{1EEAE}":"\u0633",\uFEB3:"\u0633",\uFEB4:"\u0633",\uFEB2:"\u0633",\uFEB1:"\u0633",\u0634:"\u0633\u06DB","\u{1EE14}":"\u0633\u06DB","\u{1EE34}":"\u0633\u06DB","\u{1EE54}":"\u0633\u06DB","\u{1EE74}":"\u0633\u06DB","\u{1EE94}":"\u0633\u06DB","\u{1EEB4}":"\u0633\u06DB",\uFEB7:"\u0633\u06DB",\uFEB8:"\u0633\u06DB",\uFEB6:"\u0633\u06DB",\uFEB5:"\u0633\u06DB","\u077E":"\u0633\u0302",\uFD31:"\u0633o",\uFCE8:"\u0633o",\uFD32:"\u0633\u06DBo",\uFCEA:"\u0633\u06DBo",\uFCAD:"\u0633\u062C",\uFD34:"\u0633\u062C",\uFC1C:"\u0633\u062C",\uFD2D:"\u0633\u06DB\u062C",\uFD37:"\u0633\u06DB\u062C",\uFD25:"\u0633\u06DB\u062C",\uFD09:"\u0633\u06DB\u062C",\uFD5D:"\u0633\u062C\u062D",\uFD5E:"\u0633\u062C\u0649",\uFD69:"\u0633\u06DB\u062C\u0649",\uFCAE:"\u0633\u062D",\uFD35:"\u0633\u062D",\uFC1D:"\u0633\u062D",\uFD2E:"\u0633\u06DB\u062D",\uFD38:"\u0633\u06DB\u062D",\uFD26:"\u0633\u06DB\u062D",\uFD0A:"\u0633\u06DB\u062D",\uFD5C:"\u0633\u062D\u062C",\uFD68:"\u0633\u06DB\u062D\u0645",\uFD67:"\u0633\u06DB\u062D\u0645",\uFDAA:"\u0633\u06DB\u062D\u0649",\uFCAF:"\u0633\u062E",\uFD36:"\u0633\u062E",\uFC1E:"\u0633\u062E",\uFD2F:"\u0633\u06DB\u062E",\uFD39:"\u0633\u06DB\u062E",\uFD27:"\u0633\u06DB\u062E",\uFD0B:"\u0633\u06DB\u062E",\uFDA8:"\u0633\u062E\u0649",\uFDC6:"\u0633\u062E\u0649",\uFD2A:"\u0633\u0631",\uFD0E:"\u0633\u0631",\uFD29:"\u0633\u06DB\u0631",\uFD0D:"\u0633\u06DB\u0631",\uFCB0:"\u0633\u0645",\uFCE7:"\u0633\u0645",\uFC1F:"\u0633\u0645",\uFD30:"\u0633\u06DB\u0645",\uFCE9:"\u0633\u06DB\u0645",\uFD28:"\u0633\u06DB\u0645",\uFD0C:"\u0633\u06DB\u0645",\uFD61:"\u0633\u0645\u062C",\uFD60:"\u0633\u0645\u062D",\uFD5F:"\u0633\u0645\u062D",\uFD6B:"\u0633\u06DB\u0645\u062E",\uFD6A:"\u0633\u06DB\u0645\u062E",\uFD63:"\u0633\u0645\u0645",\uFD62:"\u0633\u0645\u0645",\uFD6D:"\u0633\u06DB\u0645\u0645",\uFD6C:"\u0633\u06DB\u0645\u0645",\uFD17:"\u0633\u0649",\uFCFB:"\u0633\u0649",\uFD18:"\u0633\u0649",\uFCFC:"\u0633\u0649",\uFD19:"\u0633\u06DB\u0649",\uFCFD:"\u0633\u06DB\u0649",\uFD1A:"\u0633\u06DB\u0649",\uFCFE:"\u0633\u06DB\u0649","\u{102F2}":"\u0635","\u{1EE11}":"\u0635","\u{1EE31}":"\u0635","\u{1EE51}":"\u0635","\u{1EE71}":"\u0635","\u{1EE91}":"\u0635","\u{1EEB1}":"\u0635",\uFEBB:"\u0635",\uFEBC:"\u0635",\uFEBA:"\u0635",\uFEB9:"\u0635",\u069E:"\u0635\u06DB","\u08AF":"\u0635\u0324\u0323",\uFCB1:"\u0635\u062D",\uFC20:"\u0635\u062D",\uFD65:"\u0635\u062D\u062D",\uFD64:"\u0635\u062D\u062D",\uFDA9:"\u0635\u062D\u0649",\uFCB2:"\u0635\u062E",\uFD2B:"\u0635\u0631",\uFD0F:"\u0635\u0631",\uFDF5:"\u0635\u0644\u0639\u0645",\uFDF9:"\u0635\u0644\u0649",\uFDF0:"\u0635\u0644\u0649",\uFDFA:"\u0635\u0644\u0649 l\u0644\u0644o \u0639\u0644\u0649o \u0648\u0633\u0644\u0645",\uFCB3:"\u0635\u0645",\uFC21:"\u0635\u0645",\uFDC5:"\u0635\u0645\u0645",\uFD66:"\u0635\u0645\u0645",\uFD21:"\u0635\u0649",\uFD05:"\u0635\u0649",\uFD22:"\u0635\u0649",\uFD06:"\u0635\u0649","\u{1EE19}":"\u0636","\u{1EE39}":"\u0636","\u{1EE59}":"\u0636","\u{1EE79}":"\u0636","\u{1EE99}":"\u0636","\u{1EEB9}":"\u0636",\uFEBF:"\u0636",\uFEC0:"\u0636",\uFEBE:"\u0636",\uFEBD:"\u0636",\uFCB4:"\u0636\u062C",\uFC22:"\u0636\u062C",\uFCB5:"\u0636\u062D",\uFC23:"\u0636\u062D",\uFD6E:"\u0636\u062D\u0649",\uFDAB:"\u0636\u062D\u0649",\uFCB6:"\u0636\u062E",\uFC24:"\u0636\u062E",\uFD70:"\u0636\u062E\u0645",\uFD6F:"\u0636\u062E\u0645",\uFD2C:"\u0636\u0631",\uFD10:"\u0636\u0631",\uFCB7:"\u0636\u0645",\uFC25:"\u0636\u0645",\uFD23:"\u0636\u0649",\uFD07:"\u0636\u0649",\uFD24:"\u0636\u0649",\uFD08:"\u0636\u0649","\u{102E8}":"\u0637","\u{1EE08}":"\u0637","\u{1EE68}":"\u0637","\u{1EE88}":"\u0637","\u{1EEA8}":"\u0637",\uFEC3:"\u0637",\uFEC4:"\u0637",\uFEC2:"\u0637",\uFEC1:"\u0637",\u069F:"\u0637\u06DB",\uFCB8:"\u0637\u062D",\uFC26:"\u0637\u062D",\uFD33:"\u0637\u0645",\uFD3A:"\u0637\u0645",\uFC27:"\u0637\u0645",\uFD72:"\u0637\u0645\u062D",\uFD71:"\u0637\u0645\u062D",\uFD73:"\u0637\u0645\u0645",\uFD74:"\u0637\u0645\u0649",\uFD11:"\u0637\u0649",\uFCF5:"\u0637\u0649",\uFD12:"\u0637\u0649",\uFCF6:"\u0637\u0649","\u{1EE1A}":"\u0638","\u{1EE7A}":"\u0638","\u{1EE9A}":"\u0638","\u{1EEBA}":"\u0638",\uFEC7:"\u0638",\uFEC8:"\u0638",\uFEC6:"\u0638",\uFEC5:"\u0638",\uFCB9:"\u0638\u0645",\uFD3B:"\u0638\u0645",\uFC28:"\u0638\u0645","\u060F":"\u0639","\u{1EE0F}":"\u0639","\u{1EE2F}":"\u0639","\u{1EE4F}":"\u0639","\u{1EE6F}":"\u0639","\u{1EE8F}":"\u0639","\u{1EEAF}":"\u0639",\uFECB:"\u0639",\uFECC:"\u0639",\uFECA:"\u0639",\uFEC9:"\u0639",\uFCBA:"\u0639\u062C",\uFC29:"\u0639\u062C",\uFDC4:"\u0639\u062C\u0645",\uFD75:"\u0639\u062C\u0645",\uFDF7:"\u0639\u0644\u0649o",\uFCBB:"\u0639\u0645",\uFC2A:"\u0639\u0645",\uFD77:"\u0639\u0645\u0645",\uFD76:"\u0639\u0645\u0645",\uFD78:"\u0639\u0645\u0649",\uFDB6:"\u0639\u0645\u0649",\uFD13:"\u0639\u0649",\uFCF7:"\u0639\u0649",\uFD14:"\u0639\u0649",\uFCF8:"\u0639\u0649","\u{1EE1B}":"\u063A","\u{1EE3B}":"\u063A","\u{1EE5B}":"\u063A","\u{1EE7B}":"\u063A","\u{1EE9B}":"\u063A","\u{1EEBB}":"\u063A",\uFECF:"\u063A",\uFED0:"\u063A",\uFECE:"\u063A",\uFECD:"\u063A",\uFCBC:"\u063A\u062C",\uFC2B:"\u063A\u062C",\uFCBD:"\u063A\u0645",\uFC2C:"\u063A\u0645",\uFD79:"\u063A\u0645\u0645",\uFD7B:"\u063A\u0645\u0649",\uFD7A:"\u063A\u0645\u0649",\uFD15:"\u063A\u0649",\uFCF9:"\u063A\u0649",\uFD16:"\u063A\u0649",\uFCFA:"\u063A\u0649","\u{1EE10}":"\u0641","\u{1EE30}":"\u0641","\u{1EE70}":"\u0641","\u{1EE90}":"\u0641","\u{1EEB0}":"\u0641",\uFED3:"\u0641",\uFED4:"\u0641",\uFED2:"\u0641",\uFED1:"\u0641",\u06A7:"\u0641",\uFCBE:"\u0641\u062C",\uFC2D:"\u0641\u062C",\uFCBF:"\u0641\u062D",\uFC2E:"\u0641\u062D",\uFCC0:"\u0641\u062E",\uFC2F:"\u0641\u062E",\uFD7D:"\u0641\u062E\u0645",\uFD7C:"\u0641\u062E\u0645",\uFCC1:"\u0641\u0645",\uFC30:"\u0641\u0645",\uFDC1:"\u0641\u0645\u0649",\uFC7C:"\u0641\u0649",\uFC31:"\u0641\u0649",\uFC7D:"\u0641\u0649",\uFC32:"\u0641\u0649","\u{1EE1E}":"\u06A1","\u{1EE7E}":"\u06A1","\u08BB":"\u06A1","\u066F":"\u06A1","\u{1EE1F}":"\u06A1","\u{1EE5F}":"\u06A1","\u08BC":"\u06A1",\u06A4:"\u06A1\u06DB",\uFB6C:"\u06A1\u06DB",\uFB6D:"\u06A1\u06DB",\uFB6B:"\u06A1\u06DB",\uFB6A:"\u06A1\u06DB",\u06A8:"\u06A1\u06DB","\u08A4":"\u06A2\u06DB",\uFB70:"\u06A6",\uFB71:"\u06A6",\uFB6F:"\u06A6",\uFB6E:"\u06A6","\u{1EE12}":"\u0642","\u{1EE32}":"\u0642","\u{1EE52}":"\u0642","\u{1EE72}":"\u0642","\u{1EE92}":"\u0642","\u{1EEB2}":"\u0642",\uFED7:"\u0642",\uFED8:"\u0642",\uFED6:"\u0642",\uFED5:"\u0642",\uFCC2:"\u0642\u062D",\uFC33:"\u0642\u062D",\uFDF1:"\u0642\u0644\u0649",\uFCC3:"\u0642\u0645",\uFC34:"\u0642\u0645",\uFDB4:"\u0642\u0645\u062D",\uFD7E:"\u0642\u0645\u062D",\uFD7F:"\u0642\u0645\u0645",\uFDB2:"\u0642\u0645\u0649",\uFC7E:"\u0642\u0649",\uFC35:"\u0642\u0649",\uFC7F:"\u0642\u0649",\uFC36:"\u0642\u0649","\u{1EE0A}":"\u0643","\u{1EE2A}":"\u0643","\u{1EE6A}":"\u0643",\uFEDB:"\u0643",\uFEDC:"\u0643",\uFEDA:"\u0643",\uFED9:"\u0643",\u06A9:"\u0643",\uFB90:"\u0643",\uFB91:"\u0643",\uFB8F:"\u0643",\uFB8E:"\u0643",\u06AA:"\u0643",\u06AD:"\u0643\u06DB",\uFBD5:"\u0643\u06DB",\uFBD6:"\u0643\u06DB",\uFBD4:"\u0643\u06DB",\uFBD3:"\u0643\u06DB","\u0763":"\u0643\u06DB",\uFC80:"\u0643l",\uFC37:"\u0643l",\uFCC4:"\u0643\u062C",\uFC38:"\u0643\u062C",\uFCC5:"\u0643\u062D",\uFC39:"\u0643\u062D",\uFCC6:"\u0643\u062E",\uFC3A:"\u0643\u062E",\uFCC7:"\u0643\u0644",\uFCEB:"\u0643\u0644",\uFC81:"\u0643\u0644",\uFC3B:"\u0643\u0644",\uFCC8:"\u0643\u0645",\uFCEC:"\u0643\u0645",\uFC82:"\u0643\u0645",\uFC3C:"\u0643\u0645",\uFDC3:"\u0643\u0645\u0645",\uFDBB:"\u0643\u0645\u0645",\uFDB7:"\u0643\u0645\u0649",\uFC83:"\u0643\u0649",\uFC3D:"\u0643\u0649",\uFC84:"\u0643\u0649",\uFC3E:"\u0643\u0649","\u0762":"\u06AC",\uFB94:"\u06AF",\uFB95:"\u06AF",\uFB93:"\u06AF",\uFB92:"\u06AF","\u08B0":"\u06AF",\u06B4:"\u06AF\u06DB",\uFB9C:"\u06B1",\uFB9D:"\u06B1",\uFB9B:"\u06B1",\uFB9A:"\u06B1",\uFB98:"\u06B3",\uFB99:"\u06B3",\uFB97:"\u06B3",\uFB96:"\u06B3","\u{1EE0B}":"\u0644","\u{1EE2B}":"\u0644","\u{1EE4B}":"\u0644","\u{1EE8B}":"\u0644","\u{1EEAB}":"\u0644",\uFEDF:"\u0644",\uFEE0:"\u0644",\uFEDE:"\u0644",\uFEDD:"\u0644",\u06B7:"\u0644\u06DB",\u06B5:"\u0644\u0306",\uFEFC:"\u0644l",\uFEFB:"\u0644l",\uFEFA:"\u0644l\u0655",\uFEF9:"\u0644l\u0655",\uFEF8:"\u0644l\u0674",\uFEF7:"\u0644l\u0674",\uFCCD:"\u0644o",\uFEF6:"\u0644\u0622",\uFEF5:"\u0644\u0622",\uFCC9:"\u0644\u062C",\uFC3F:"\u0644\u062C",\uFD83:"\u0644\u062C\u062C",\uFD84:"\u0644\u062C\u062C",\uFDBA:"\u0644\u062C\u0645",\uFDBC:"\u0644\u062C\u0645",\uFDAC:"\u0644\u062C\u0649",\uFCCA:"\u0644\u062D",\uFC40:"\u0644\u062D",\uFDB5:"\u0644\u062D\u0645",\uFD80:"\u0644\u062D\u0645",\uFD82:"\u0644\u062D\u0649",\uFD81:"\u0644\u062D\u0649",\uFCCB:"\u0644\u062E",\uFC41:"\u0644\u062E",\uFD86:"\u0644\u062E\u0645",\uFD85:"\u0644\u062E\u0645",\uFCCC:"\u0644\u0645",\uFCED:"\u0644\u0645",\uFC85:"\u0644\u0645",\uFC42:"\u0644\u0645",\uFD88:"\u0644\u0645\u062D",\uFD87:"\u0644\u0645\u062D",\uFDAD:"\u0644\u0645\u0649",\uFC86:"\u0644\u0649",\uFC43:"\u0644\u0649",\uFC87:"\u0644\u0649",\uFC44:"\u0644\u0649","\u{1EE0C}":"\u0645","\u{1EE2C}":"\u0645","\u{1EE6C}":"\u0645","\u{1EE8C}":"\u0645","\u{1EEAC}":"\u0645",\uFEE3:"\u0645",\uFEE4:"\u0645",\uFEE2:"\u0645",\uFEE1:"\u0645","\u08A7":"\u0645\u06DB","\u06FE":"\u0645\u0348",\uFC88:"\u0645l",\uFCCE:"\u0645\u062C",\uFC45:"\u0645\u062C",\uFD8C:"\u0645\u062C\u062D",\uFD92:"\u0645\u062C\u062E",\uFD8D:"\u0645\u062C\u0645",\uFDC0:"\u0645\u062C\u0649",\uFCCF:"\u0645\u062D",\uFC46:"\u0645\u062D",\uFD89:"\u0645\u062D\u062C",\uFD8A:"\u0645\u062D\u0645",\uFDF4:"\u0645\u062D\u0645\u062F",\uFD8B:"\u0645\u062D\u0649",\uFCD0:"\u0645\u062E",\uFC47:"\u0645\u062E",\uFD8E:"\u0645\u062E\u062C",\uFD8F:"\u0645\u062E\u0645",\uFDB9:"\u0645\u062E\u0649",\uFCD1:"\u0645\u0645",\uFC89:"\u0645\u0645",\uFC48:"\u0645\u0645",\uFDB1:"\u0645\u0645\u0649",\uFC49:"\u0645\u0649",\uFC4A:"\u0645\u0649","\u{1EE0D}":"\u0646","\u{1EE2D}":"\u0646","\u{1EE4D}":"\u0646","\u{1EE6D}":"\u0646","\u{1EE8D}":"\u0646","\u{1EEAD}":"\u0646",\uFEE7:"\u0646",\uFEE8:"\u0646",\uFEE6:"\u0646",\uFEE5:"\u0646","\u0768":"\u0646\u0615","\u0769":"\u0646\u0306",\uFCD6:"\u0646o",\uFCEF:"\u0646o",\uFDB8:"\u0646\u062C\u062D",\uFDBD:"\u0646\u062C\u062D",\uFD98:"\u0646\u062C\u0645",\uFD97:"\u0646\u062C\u0645",\uFD99:"\u0646\u062C\u0649",\uFDC7:"\u0646\u062C\u0649",\uFCD3:"\u0646\u062D",\uFC4C:"\u0646\u062D",\uFD95:"\u0646\u062D\u0645",\uFD96:"\u0646\u062D\u0649",\uFDB3:"\u0646\u062D\u0649",\uFCD4:"\u0646\u062E",\uFC4D:"\u0646\u062E",\uFC8A:"\u0646\u0631",\uFC8B:"\u0646\u0632",\uFCD5:"\u0646\u0645",\uFCEE:"\u0646\u0645",\uFC8C:"\u0646\u0645",\uFC4E:"\u0646\u0645",\uFD9B:"\u0646\u0645\u0649",\uFD9A:"\u0646\u0645\u0649",\uFC8D:"\u0646\u0646",\uFC8E:"\u0646\u0649",\uFC4F:"\u0646\u0649",\uFC8F:"\u0646\u0649",\uFC50:"\u0646\u0649",\u06C2:"\u06C0",\uFBA5:"\u06C0",\uFBA4:"\u06C0","\u{102E4}":"\u0648","\u{1EE05}":"\u0648","\u{1EE85}":"\u0648","\u{1EEA5}":"\u0648",\uFEEE:"\u0648",\uFEED:"\u0648","\u08B1":"\u0648",\u06CB:"\u0648\u06DB",\uFBDF:"\u0648\u06DB",\uFBDE:"\u0648\u06DB",\u06C7:"\u0648\u0313",\uFBD8:"\u0648\u0313",\uFBD7:"\u0648\u0313",\u06C6:"\u0648\u0306",\uFBDA:"\u0648\u0306",\uFBD9:"\u0648\u0306",\u06C9:"\u0648\u0302",\uFBE3:"\u0648\u0302",\uFBE2:"\u0648\u0302",\u06C8:"\u0648\u0670",\uFBDC:"\u0648\u0670",\uFBDB:"\u0648\u0670",\u0624:"\u0648\u0674",\uFE86:"\u0648\u0674",\uFE85:"\u0648\u0674",\u0676:"\u0648\u0674",\u0677:"\u0648\u0313\u0674",\uFBDD:"\u0648\u0313\u0674",\uFDF8:"\u0648\u0633\u0644\u0645",\uFBE1:"\u06C5",\uFBE0:"\u06C5","\u066E":"\u0649","\u{1EE1C}":"\u0649","\u{1EE7C}":"\u0649",\u06BA:"\u0649","\u{1EE1D}":"\u0649","\u{1EE5D}":"\u0649",\uFB9F:"\u0649",\uFB9E:"\u0649","\u08BD":"\u0649",\uFBE8:"\u0649",\uFBE9:"\u0649",\uFEF0:"\u0649",\uFEEF:"\u0649",\u064A:"\u0649","\u{1EE09}":"\u0649","\u{1EE29}":"\u0649","\u{1EE49}":"\u0649","\u{1EE69}":"\u0649","\u{1EE89}":"\u0649","\u{1EEA9}":"\u0649",\uFEF3:"\u0649",\uFEF4:"\u0649",\uFEF2:"\u0649",\uFEF1:"\u0649",\u06CC:"\u0649",\uFBFE:"\u0649",\uFBFF:"\u0649",\uFBFD:"\u0649",\uFBFC:"\u0649",\u06D2:"\u0649",\uFBAF:"\u0649",\uFBAE:"\u0649",\u0679:"\u0649\u0615",\uFB68:"\u0649\u0615",\uFB69:"\u0649\u0615",\uFB67:"\u0649\u0615",\uFB66:"\u0649\u0615",\u06BB:"\u0649\u0615",\uFBA2:"\u0649\u0615",\uFBA3:"\u0649\u0615",\uFBA1:"\u0649\u0615",\uFBA0:"\u0649\u0615",\u067E:"\u0649\u06DB",\uFB58:"\u0649\u06DB",\uFB59:"\u0649\u06DB",\uFB57:"\u0649\u06DB",\uFB56:"\u0649\u06DB",\u062B:"\u0649\u06DB","\u{1EE16}":"\u0649\u06DB","\u{1EE36}":"\u0649\u06DB","\u{1EE76}":"\u0649\u06DB","\u{1EE96}":"\u0649\u06DB","\u{1EEB6}":"\u0649\u06DB",\uFE9B:"\u0649\u06DB",\uFE9C:"\u0649\u06DB",\uFE9A:"\u0649\u06DB",\uFE99:"\u0649\u06DB",\u06BD:"\u0649\u06DB",\u06D1:"\u0649\u06DB","\u063F":"\u0649\u06DB","\u08B7":"\u0649\u06DB\u06E2","\u0756":"\u0649\u0306",\u06CE:"\u0649\u0306","\u08BA":"\u0649\u0306\u0307","\u063D":"\u0649\u0302","\u08A8":"\u0649\u0654",\uFC90:"\u0649\u0670",\uFC5D:"\u0649\u0670",\uFCDE:"\u0649o",\uFCF1:"\u0649o",\uFCE6:"\u0649\u06DBo",\u0626:"\u0649\u0674",\uFE8B:"\u0649\u0674",\uFE8C:"\u0649\u0674",\uFE8A:"\u0649\u0674",\uFE89:"\u0649\u0674",\u0678:"\u0649\u0674",\uFBEB:"\u0649\u0674l",\uFBEA:"\u0649\u0674l",\uFC9B:"\u0649\u0674o",\uFCE0:"\u0649\u0674o",\uFBED:"\u0649\u0674o",\uFBEC:"\u0649\u0674o",\uFBF8:"\u0649\u0674\u067B",\uFBF7:"\u0649\u0674\u067B",\uFBF6:"\u0649\u0674\u067B",\uFC97:"\u0649\u0674\u062C",\uFC00:"\u0649\u0674\u062C",\uFC98:"\u0649\u0674\u062D",\uFC01:"\u0649\u0674\u062D",\uFC99:"\u0649\u0674\u062E",\uFC64:"\u0649\u0674\u0631",\uFC65:"\u0649\u0674\u0632",\uFC9A:"\u0649\u0674\u0645",\uFCDF:"\u0649\u0674\u0645",\uFC66:"\u0649\u0674\u0645",\uFC02:"\u0649\u0674\u0645",\uFC67:"\u0649\u0674\u0646",\uFBEF:"\u0649\u0674\u0648",\uFBEE:"\u0649\u0674\u0648",\uFBF1:"\u0649\u0674\u0648\u0313",\uFBF0:"\u0649\u0674\u0648\u0313",\uFBF3:"\u0649\u0674\u0648\u0306",\uFBF2:"\u0649\u0674\u0648\u0306",\uFBF5:"\u0649\u0674\u0648\u0670",\uFBF4:"\u0649\u0674\u0648\u0670",\uFBFB:"\u0649\u0674\u0649",\uFBFA:"\u0649\u0674\u0649",\uFC68:"\u0649\u0674\u0649",\uFBF9:"\u0649\u0674\u0649",\uFC03:"\u0649\u0674\u0649",\uFC69:"\u0649\u0674\u0649",\uFC04:"\u0649\u0674\u0649",\uFCDA:"\u0649\u062C",\uFC55:"\u0649\u062C",\uFC11:"\u0649\u06DB\u062C",\uFDAF:"\u0649\u062C\u0649",\uFCDB:"\u0649\u062D",\uFC56:"\u0649\u062D",\uFDAE:"\u0649\u062D\u0649",\uFCDC:"\u0649\u062E",\uFC57:"\u0649\u062E",\uFC91:"\u0649\u0631",\uFC76:"\u0649\u06DB\u0631",\uFC92:"\u0649\u0632",\uFC77:"\u0649\u06DB\u0632",\uFCDD:"\u0649\u0645",\uFCF0:"\u0649\u0645",\uFC93:"\u0649\u0645",\uFC58:"\u0649\u0645",\uFCA6:"\u0649\u06DB\u0645",\uFCE5:"\u0649\u06DB\u0645",\uFC78:"\u0649\u06DB\u0645",\uFC12:"\u0649\u06DB\u0645",\uFD9D:"\u0649\u0645\u0645",\uFD9C:"\u0649\u0645\u0645",\uFDB0:"\u0649\u0645\u0649",\uFC94:"\u0649\u0646",\uFC79:"\u0649\u06DB\u0646",\uFC95:"\u0649\u0649",\uFC59:"\u0649\u0649",\uFC96:"\u0649\u0649",\uFC5A:"\u0649\u0649",\uFC7A:"\u0649\u06DB\u0649",\uFC13:"\u0649\u06DB\u0649",\uFC7B:"\u0649\u06DB\u0649",\uFC14:"\u0649\u06DB\u0649",\uFBB1:"\u06D3",\uFBB0:"\u06D3","\u{102B8}":"\u2D40","\u205E":"\u2D42","\u2E3D":"\u2D42","\u2999":"\u2D42","\uFE19":"\u2D57","\u205D":"\u2D57","\u22EE":"\u2D57",\u0544:"\u1206",\u054C:"\u1261",\u053B:"\u12AE",\u054A:"\u1323",\u0906:"\u0905\u093E",\u0912:"\u0905\u093E\u0946",\u0913:"\u0905\u093E\u0947",\u0914:"\u0905\u093E\u0948","\u0904":"\u0905\u0946",\u0911:"\u0905\u0949",\u090D:"\u090F\u0945",\u090E:"\u090F\u0946",\u0910:"\u090F\u0947",\u0908:"\u0930\u094D\u0907",\u0ABD:"\u093D","\u{111DC}":"\uA8FB","\u{111CB}":"\u093A","\u0AC1":"\u0941","\u0AC2":"\u0942","\u0A4B":"\u0946","\u0A4D":"\u094D","\u0ACD":"\u094D",\u0986:"\u0985\u09BE",\u09E0:"\u098B\u09C3",\u09E1:"\u098B\u09C3","\u{11492}":"\u0998","\u{11494}":"\u099A","\u{11496}":"\u099C","\u{11498}":"\u099E","\u{11499}":"\u099F","\u{1149B}":"\u09A1","\u{114AA}":"\u09A3","\u{1149E}":"\u09A4","\u{1149F}":"\u09A5","\u{114A0}":"\u09A6","\u{114A1}":"\u09A7","\u{114A2}":"\u09A8","\u{114A3}":"\u09AA","\u{114A9}":"\u09AC","\u{114A7}":"\u09AE","\u{114A8}":"\u09AF","\u{114AB}":"\u09B0","\u{1149D}":"\u09B2","\u{114AD}":"\u09B7","\u{114AE}":"\u09B8","\u{114C4}":"\u09BD","\u{114B0}":"\u09BE","\u{114B1}":"\u09BF","\u{114B9}":"\u09C7","\u{114BC}":"\u09CB","\u{114BE}":"\u09CC","\u{114C2}":"\u09CD","\u{114BD}":"\u09D7",\u0A09:"\u0A73\u0A41",\u0A0A:"\u0A73\u0A42",\u0A06:"\u0A05\u0A3E",\u0A10:"\u0A05\u0A48",\u0A14:"\u0A05\u0A4C",\u0A07:"\u0A72\u0A3F",\u0A08:"\u0A72\u0A40",\u0A0F:"\u0A72\u0A47",\u0A86:"\u0A85\u0ABE",\u0A91:"\u0A85\u0ABE\u0AC5",\u0A93:"\u0A85\u0ABE\u0AC7",\u0A94:"\u0A85\u0ABE\u0AC8",\u0A8D:"\u0A85\u0AC5",\u0A8F:"\u0A85\u0AC7",\u0A90:"\u0A85\u0AC8",\u0B06:"\u0B05\u0B3E","\u0BEE":"\u0B85",\u0BB0:"\u0B88","\u0BBE":"\u0B88","\u0BEB":"\u0B88\u0BC1","\u0BE8":"\u0B89",\u0D09:"\u0B89",\u0B8A:"\u0B89\u0BB3",\u0D0A:"\u0B89\u0D57","\u0BED":"\u0B8E","\u0BF7":"\u0B8E\u0BB5",\u0B9C:"\u0B90",\u0D1C:"\u0B90","\u0BE7":"\u0B95","\u0BEA":"\u0B9A","\u0BEC":"\u0B9A\u0BC1","\u0BF2":"\u0B9A\u0BC2","\u0D3A":"\u0B9F\u0BBF",\u0D23:"\u0BA3","\u0BFA":"\u0BA8\u0BC0","\u0BF4":"\u0BAE\u0BC0","\u0BF0":"\u0BAF",\u0D34:"\u0BB4","\u0BD7":"\u0BB3","\u0BC8":"\u0BA9",\u0D36:"\u0BB6","\u0BF8":"\u0BB7","\u0D3F":"\u0BBF","\u0D40":"\u0BBF","\u0BCA":"\u0BC6\u0B88","\u0BCC":"\u0BC6\u0BB3","\u0BCB":"\u0BC7\u0B88",\u0C85:"\u0C05",\u0C86:"\u0C06",\u0C87:"\u0C07",\u0C60:"\u0C0B\u0C3E",\u0C61:"\u0C0C\u0C3E",\u0C92:"\u0C12",\u0C14:"\u0C12\u0C4C",\u0C94:"\u0C12\u0C4C",\u0C13:"\u0C12\u0C55",\u0C93:"\u0C12\u0C55",\u0C9C:"\u0C1C",\u0C9E:"\u0C1E",\u0C22:"\u0C21\u0323",\u0CA3:"\u0C23",\u0C25:"\u0C27\u05BC",\u0C2D:"\u0C2C\u0323",\u0CAF:"\u0C2F",\u0C20:"\u0C30\u05BC",\u0CB1:"\u0C31",\u0CB2:"\u0C32",\u0C37:"\u0C35\u0323",\u0C39:"\u0C35\u0C3E",\u0C2E:"\u0C35\u0C41","\u0C42":"\u0C41\u0C3E","\u0C44":"\u0C43\u0C3E",\u0CE1:"\u0C8C\u0CBE",\u0D08:"\u0D07\u0D57",\u0D10:"\u0D0E\u0D46",\u0D13:"\u0D12\u0D3E",\u0D14:"\u0D12\u0D57",\u0D61:"\u0D1E","\u0D6B":"\u0D26\u0D4D\u0D30","\u0D79":"\u0D28\u0D41",\u0D0C:"\u0D28\u0D41",\u0D19:"\u0D28\u0D41","\u0D6F":"\u0D28\u0D4D","\u0D7B":"\u0D28\u0D4D","\u0D6C":"\u0D28\u0D4D\u0D28","\u0D5A":"\u0D28\u0D4D\u0D2E",\u0D31:"\u0D30","\u0D6A":"\u0D30\u0D4D","\u0D7C":"\u0D30\u0D4D","\u0D6E":"\u0D35\u0D4D\u0D30","\u0D76":"\u0D39\u0D4D\u0D2E","\u0D42":"\u0D41","\u0D43":"\u0D41","\u0D48":"\u0D46\u0D46","\u0DEA":"\u0DA2","\u0DEB":"\u0DAF","\u{11413}":"\u{11434}\u{11442}\u{11412}","\u{11419}":"\u{11434}\u{11442}\u{11418}","\u{11424}":"\u{11434}\u{11442}\u{11423}","\u{1142A}":"\u{11434}\u{11442}\u{11429}","\u{1142D}":"\u{11434}\u{11442}\u{1142C}","\u{1142F}":"\u{11434}\u{11442}\u{1142E}","\u{115D8}":"\u{11582}","\u{115D9}":"\u{11582}","\u{115DA}":"\u{11583}","\u{115DB}":"\u{11584}","\u{115DC}":"\u{115B2}","\u{115DD}":"\u{115B3}",\u0E03:"\u0E02",\u0E14:"\u0E04",\u0E15:"\u0E04",\u0E21:"\u0E06",\u0E88:"\u0E08",\u0E0B:"\u0E0A",\u0E0F:"\u0E0E",\u0E17:"\u0E11",\u0E9A:"\u0E1A",\u0E9B:"\u0E1B",\u0E9D:"\u0E1D",\u0E9E:"\u0E1E",\u0E9F:"\u0E1F",\u0E26:"\u0E20",\u0E8D:"\u0E22","\u17D4":"\u0E2F",\u0E45:"\u0E32",\u0E33:"\u030A\u0E32","\u17B7":"\u0E34","\u17B8":"\u0E35","\u17B9":"\u0E36","\u17BA":"\u0E37","\u0EB8":"\u0E38","\u0EB9":"\u0E39",\u0E41:"\u0E40\u0E40",\u0EDC:"\u0EAB\u0E99",\u0EDD:"\u0EAB\u0EA1",\u0EB3:"\u030A\u0EB2","\u0F02":"\u0F60\u0F74\u0F82\u0F7F","\u0F03":"\u0F60\u0F74\u0F82\u0F14",\u0F6A:"\u0F62",\u0F00:"\u0F68\u0F7C\u0F7E","\u0F77":"\u0FB2\u0F71\u0F80","\u0F79":"\u0FB3\u0F71\u0F80","\u{11CB2}":"\u{11CAA}","\u1081":"\u1002\u103E",\u1000:"\u1002\u102C","\u1070":"\u1003\u103E","\u1066":"\u1015\u103E",\u101F:"\u1015\u102C","\u106F":"\u1015\u102C\u103E","\u107E":"\u107D\u103E",\u1029:"\u101E\u103C",\u102A:"\u101E\u103C\u1031\u102C\u103A","\u109E":"\u1083\u030A",\u17A3:"\u17A2","\u19D0":"\u199E","\u19D1":"\u19B1","\u1A80":"\u1A45","\u1A90":"\u1A45","\uAA53":"\uAA01","\uAA56":"\uAA23","\u1B52":"\u1B0D","\u1B53":"\u1B11","\u1B58":"\u1B28","\uA9A3":"\uA99D",\u1896:"\u185C",\u1855:"\u1835",\u1FF6:"\u13EF",\u140D:"\u1401\xB7",\u142B:"\u1401\u1420",\u1411:"\u1404\xB7",\u1413:"\u1405\xB7",\u142D:"\u1405\u1420",\u1415:"\u1406\xB7",\u1418:"\u140A\xB7",\u142E:"\u140A\u1420",\u141A:"\u140B\xB7","\u18DD":"\u141E\u18DF",\u14D1:"\u1421",\u1540:"\u1429",\u143F:"\u1432\xB7",\u1443:"\u1434\xB7","\u2369":"\u1435",\u1447:"\u1439\xB7",\u145C:"\u144F\xB7","\u2E27":"\u1450","\u2283":"\u1450",\u145E:"\u1450\xB7",\u1469:"\u1450'","\u27C9":"\u1450/","\u2AD7":"\u1450\u1455",\u1460:"\u1451\xB7","\u2E26":"\u1455","\u2282":"\u1455",\u1462:"\u1455\xB7",\u146A:"\u1455'",\u1464:"\u1456\xB7",\u1475:"\u146B\xB7",\u1485:"\u146B'",\u1479:"\u146E\xB7",\u147D:"\u1470\xB7",\u1603:"\u1489",\u1493:"\u1489\xB7",\u1495:"\u148B\xB7",\u1497:"\u148C\xB7",\u149B:"\u148E\xB7",\u1602:"\u1490",\u149D:"\u1490\xB7",\u149F:"\u1491\xB7",\u14AD:"\u14A3\xB7",\u14B1:"\u14A6\xB7",\u14B3:"\u14A7\xB7",\u14B5:"\u14A8\xB7",\u14B9:"\u14AB\xB7",\u14CA:"\u14C0\xB7","\u18C7":"\u14C2\xB7","\u18C9":"\u14C3\xB7","\u18CB":"\u14C4\xB7","\u18CD":"\u14C5\xB7",\u14CC:"\u14C7\xB7",\u14CE:"\u14C8\xB7",\u1604:"\u14D3",\u14DD:"\u14D3\xB7",\u14DF:"\u14D5\xB7",\u14E1:"\u14D6\xB7",\u14E3:"\u14D7\xB7",\u14E5:"\u14D8\xB7",\u1607:"\u14DA",\u14E7:"\u14DA\xB7",\u14E9:"\u14DB\xB7",\u14F7:"\u14ED\xB7",\u14F9:"\u14EF\xB7",\u14FB:"\u14F0\xB7",\u14FD:"\u14F1\xB7",\u14FF:"\u14F2\xB7",\u1501:"\u14F4\xB7",\u1503:"\u14F5\xB7",\u150C:"\u150B<",\u150E:"\u150Bb",\u150D:"\u150B\u1455",\u150F:"\u150B\u1490",\u1518:"\u1510\xB7",\u151A:"\u1511\xB7",\u151C:"\u1512\xB7",\u151E:"\u1513\xB7",\u1520:"\u1514\xB7",\u1522:"\u1515\xB7",\u1524:"\u1516\xB7",\u1532:"\u1528\xB7",\u1534:"\u1529\xB7",\u1536:"\u152A\xB7",\u1538:"\u152B\xB7",\u153A:"\u152D\xB7",\u153C:"\u152E\xB7",\u1622:"\u1543","\u18E0":"\u1543\xB7",\u1623:"\u1546",\u1624:"\u154A",\u154F:"\u154C\xB7",\u1583:"\u1550b",\u1584:"\u1550b\u0307",\u1581:"\u1550d",\u157F:"\u1550P",\u166F:"\u1550\u146B",\u157E:"\u1550\u146C",\u1580:"\u1550\u146E",\u1582:"\u1550\u1470",\u1585:"\u1550\u1483",\u155C:"\u155A\xB7","\u18E3":"\u155E\xB7","\u18E4":"\u1566\xB7",\u1569:"\u1567\xB7","\u18E5":"\u156B\xB7","\u18E8":"\u1586\xB7",\u1591:"\u1595J",\u1670:"\u1595\u1489",\u158E:"\u1595\u148A",\u158F:"\u1595\u148B",\u1590:"\u1595\u148C",\u1592:"\u1595\u148E",\u1593:"\u1595\u1490",\u1594:"\u1595\u1491",\u1673:"\u1596J",\u1671:"\u1596\u148B",\u1672:"\u1596\u148C",\u1674:"\u1596\u148E",\u1675:"\u1596\u1490",\u1676:"\u1596\u1491","\u18EA":"\u1597\xB7","\u1677":"\u15A7\xB7","\u1678":"\u15A8\xB7","\u1679":"\u15A9\xB7","\u167A":"\u15AA\xB7","\u167B":"\u15AB\xB7","\u167C":"\u15AC\xB7","\u167D":"\u15AD\xB7","\u2AAB":"\u15D2","\u2AAA":"\u15D5","\uA4F7":"\u15E1","\u18F0":"\u15F4\xB7","\u18F2":"\u161B\xB7","\u1DBB":"\u1646","\uA4ED":"\u1660","\u1DBA":"\u18D4","\u1D3E":"\u18D6","\u18DC":"\u18DF\u141E",\u02E1:"\u18F3",\u02B3:"\u18F4",\u02E2:"\u18F5","\u18DB":"\u18F5","\uA6B0":"\u16B9",\u16E1:"\u16BC","\u237F":"\u16BD",\u16C2:"\u16BD","\u{1D23F}":"\u16CB","\u2191":"\u16CF","\u21BF":"\u16D0","\u296E":"\u16D0\u21C2","\u2963":"\u16D0\u16DA","\u2D63":"\u16EF","\u21BE":"\u16DA","\u2A21":"\u16DA","\u22C4":"\u16DC","\u25C7":"\u16DC","\u25CA":"\u16DC","\u2662":"\u16DC","\u{1F754}":"\u16DC","\u{118B7}":"\u16DC","\u{10294}":"\u16DC","\u235A":"\u16DC\u0332","\u22C8":"\u16DE","\u2A1D":"\u16DE","\u{104D0}":"\u16E6","\u2195":"\u16E8","\u{10CFC}":"\u{10C82}","\u{10CFA}":"\u{10CA5}",\u3131:"\u1100",\u11A8:"\u1100",\u1101:"\u1100\u1100",\u3132:"\u1100\u1100",\u11A9:"\u1100\u1100","\u11FA":"\u1100\u1102","\u115A":"\u1100\u1103",\u11C3:"\u1100\u1105","\u11FB":"\u1100\u1107",\u11AA:"\u1100\u1109",\u3133:"\u1100\u1109",\u11C4:"\u1100\u1109\u1100","\u11FC":"\u1100\u110E","\u11FD":"\u1100\u110F","\u11FE":"\u1100\u1112",\u3134:"\u1102",\u11AB:"\u1102",\u1113:"\u1102\u1100",\u11C5:"\u1102\u1100",\u1114:"\u1102\u1102",\u3165:"\u1102\u1102","\u11FF":"\u1102\u1102",\u1115:"\u1102\u1103",\u3166:"\u1102\u1103",\u11C6:"\u1102\u1103","\uD7CB":"\u1102\u1105",\u1116:"\u1102\u1107","\u115B":"\u1102\u1109",\u11C7:"\u1102\u1109",\u3167:"\u1102\u1109","\u115C":"\u1102\u110C",\u11AC:"\u1102\u110C",\u3135:"\u1102\u110C","\uD7CC":"\u1102\u110E",\u11C9:"\u1102\u1110","\u115D":"\u1102\u1112",\u11AD:"\u1102\u1112",\u3136:"\u1102\u1112",\u11C8:"\u1102\u1140",\u3168:"\u1102\u1140",\u3137:"\u1103",\u11AE:"\u1103",\u1117:"\u1103\u1100",\u11CA:"\u1103\u1100",\u1104:"\u1103\u1103",\u3138:"\u1103\u1103","\uD7CD":"\u1103\u1103","\uD7CE":"\u1103\u1103\u1107","\u115E":"\u1103\u1105",\u11CB:"\u1103\u1105","\uA960":"\u1103\u1106","\uA961":"\u1103\u1107","\uD7CF":"\u1103\u1107","\uA962":"\u1103\u1109","\uD7D0":"\u1103\u1109","\uD7D1":"\u1103\u1109\u1100","\uA963":"\u1103\u110C","\uD7D2":"\u1103\u110C","\uD7D3":"\u1103\u110E","\uD7D4":"\u1103\u1110",\u3139:"\u1105",\u11AF:"\u1105","\uA964":"\u1105\u1100",\u11B0:"\u1105\u1100",\u313A:"\u1105\u1100","\uA965":"\u1105\u1100\u1100","\uD7D5":"\u1105\u1100\u1100",\u11CC:"\u1105\u1100\u1109",\u3169:"\u1105\u1100\u1109","\uD7D6":"\u1105\u1100\u1112",\u1118:"\u1105\u1102",\u11CD:"\u1105\u1102","\uA966":"\u1105\u1103",\u11CE:"\u1105\u1103",\u316A:"\u1105\u1103","\uA967":"\u1105\u1103\u1103",\u11CF:"\u1105\u1103\u1112",\u1119:"\u1105\u1105",\u11D0:"\u1105\u1105","\uD7D7":"\u1105\u1105\u110F","\uA968":"\u1105\u1106",\u11B1:"\u1105\u1106",\u313B:"\u1105\u1106",\u11D1:"\u1105\u1106\u1100",\u11D2:"\u1105\u1106\u1109","\uD7D8":"\u1105\u1106\u1112","\uA969":"\u1105\u1107",\u11B2:"\u1105\u1107",\u313C:"\u1105\u1107","\uD7D9":"\u1105\u1107\u1103","\uA96A":"\u1105\u1107\u1107",\u11D3:"\u1105\u1107\u1109",\u316B:"\u1105\u1107\u1109","\uA96B":"\u1105\u1107\u110B",\u11D5:"\u1105\u1107\u110B","\uD7DA":"\u1105\u1107\u1111",\u11D4:"\u1105\u1107\u1112","\uA96C":"\u1105\u1109",\u11B3:"\u1105\u1109",\u313D:"\u1105\u1109",\u11D6:"\u1105\u1109\u1109",\u111B:"\u1105\u110B","\uD7DD":"\u1105\u110B","\uA96D":"\u1105\u110C","\uA96E":"\u1105\u110F",\u11D8:"\u1105\u110F",\u11B4:"\u1105\u1110",\u313E:"\u1105\u1110",\u11B5:"\u1105\u1111",\u313F:"\u1105\u1111",\u111A:"\u1105\u1112",\u3140:"\u1105\u1112",\u113B:"\u1105\u1112",\u11B6:"\u1105\u1112","\uD7F2":"\u1105\u1112",\u11D7:"\u1105\u1140",\u316C:"\u1105\u1140","\uD7DB":"\u1105\u114C",\u11D9:"\u1105\u1159",\u316D:"\u1105\u1159","\uD7DC":"\u1105\u1159\u1112",\u3141:"\u1106",\u11B7:"\u1106","\uA96F":"\u1106\u1100",\u11DA:"\u1106\u1100","\uD7DE":"\u1106\u1102","\uD7DF":"\u1106\u1102\u1102","\uA970":"\u1106\u1103",\u11DB:"\u1106\u1105","\uD7E0":"\u1106\u1106",\u111C:"\u1106\u1107",\u316E:"\u1106\u1107",\u11DC:"\u1106\u1107","\uD7E1":"\u1106\u1107\u1109","\uA971":"\u1106\u1109",\u11DD:"\u1106\u1109",\u316F:"\u1106\u1109",\u11DE:"\u1106\u1109\u1109",\u111D:"\u1106\u110B",\u3171:"\u1106\u110B",\u11E2:"\u1106\u110B","\uD7E2":"\u1106\u110C",\u11E0:"\u1106\u110E",\u11E1:"\u1106\u1112",\u11DF:"\u1106\u1140",\u3170:"\u1106\u1140",\u3142:"\u1107",\u11B8:"\u1107",\u111E:"\u1107\u1100",\u3172:"\u1107\u1100",\u111F:"\u1107\u1102",\u1120:"\u1107\u1103",\u3173:"\u1107\u1103","\uD7E3":"\u1107\u1103",\u11E3:"\u1107\u1105","\uD7E4":"\u1107\u1105\u1111","\uD7E5":"\u1107\u1106",\u1108:"\u1107\u1107",\u3143:"\u1107\u1107","\uD7E6":"\u1107\u1107",\u112C:"\u1107\u1107\u110B",\u3179:"\u1107\u1107\u110B",\u1121:"\u1107\u1109",\u3144:"\u1107\u1109",\u11B9:"\u1107\u1109",\u1122:"\u1107\u1109\u1100",\u3174:"\u1107\u1109\u1100",\u1123:"\u1107\u1109\u1103",\u3175:"\u1107\u1109\u1103","\uD7E7":"\u1107\u1109\u1103",\u1124:"\u1107\u1109\u1107",\u1125:"\u1107\u1109\u1109",\u1126:"\u1107\u1109\u110C","\uA972":"\u1107\u1109\u1110",\u112B:"\u1107\u110B",\u3178:"\u1107\u110B",\u11E6:"\u1107\u110B",\u1127:"\u1107\u110C",\u3176:"\u1107\u110C","\uD7E8":"\u1107\u110C",\u1128:"\u1107\u110E","\uD7E9":"\u1107\u110E","\uA973":"\u1107\u110F",\u1129:"\u1107\u1110",\u3177:"\u1107\u1110",\u112A:"\u1107\u1111",\u11E4:"\u1107\u1111","\uA974":"\u1107\u1112",\u11E5:"\u1107\u1112",\u3145:"\u1109",\u11BA:"\u1109",\u112D:"\u1109\u1100",\u317A:"\u1109\u1100",\u11E7:"\u1109\u1100",\u112E:"\u1109\u1102",\u317B:"\u1109\u1102",\u112F:"\u1109\u1103",\u317C:"\u1109\u1103",\u11E8:"\u1109\u1103",\u1130:"\u1109\u1105",\u11E9:"\u1109\u1105",\u1131:"\u1109\u1106","\uD7EA":"\u1109\u1106",\u1132:"\u1109\u1107",\u317D:"\u1109\u1107",\u11EA:"\u1109\u1107",\u1133:"\u1109\u1107\u1100","\uD7EB":"\u1109\u1107\u110B",\u110A:"\u1109\u1109",\u3146:"\u1109\u1109",\u11BB:"\u1109\u1109","\uD7EC":"\u1109\u1109\u1100","\uD7ED":"\u1109\u1109\u1103","\uA975":"\u1109\u1109\u1107",\u1134:"\u1109\u1109\u1109",\u1135:"\u1109\u110B",\u1136:"\u1109\u110C",\u317E:"\u1109\u110C","\uD7EF":"\u1109\u110C",\u1137:"\u1109\u110E","\uD7F0":"\u1109\u110E",\u1138:"\u1109\u110F",\u1139:"\u1109\u1110","\uD7F1":"\u1109\u1110",\u113A:"\u1109\u1111","\uD7EE":"\u1109\u1140",\u3147:"\u110B",\u11BC:"\u110B",\u1141:"\u110B\u1100",\u11EC:"\u110B\u1100",\u11ED:"\u110B\u1100\u1100",\u1142:"\u110B\u1103","\uA976":"\u110B\u1105",\u1143:"\u110B\u1106",\u1144:"\u110B\u1107",\u1145:"\u110B\u1109",\u11F1:"\u110B\u1109",\u3182:"\u110B\u1109",\u1147:"\u110B\u110B",\u3180:"\u110B\u110B",\u11EE:"\u110B\u110B",\u1148:"\u110B\u110C",\u1149:"\u110B\u110E",\u11EF:"\u110B\u110F",\u114A:"\u110B\u1110",\u114B:"\u110B\u1111","\uA977":"\u110B\u1112",\u1146:"\u110B\u1140",\u11F2:"\u110B\u1140",\u3183:"\u110B\u1140",\u3148:"\u110C",\u11BD:"\u110C","\uD7F7":"\u110C\u1107","\uD7F8":"\u110C\u1107\u1107",\u114D:"\u110C\u110B",\u110D:"\u110C\u110C",\u3149:"\u110C\u110C","\uD7F9":"\u110C\u110C","\uA978":"\u110C\u110C\u1112",\u314A:"\u110E",\u11BE:"\u110E",\u1152:"\u110E\u110F",\u1153:"\u110E\u1112",\u314B:"\u110F",\u11BF:"\u110F",\u314C:"\u1110",\u11C0:"\u1110","\uA979":"\u1110\u1110",\u314D:"\u1111",\u11C1:"\u1111",\u1156:"\u1111\u1107",\u11F3:"\u1111\u1107","\uD7FA":"\u1111\u1109",\u1157:"\u1111\u110B",\u3184:"\u1111\u110B",\u11F4:"\u1111\u110B","\uD7FB":"\u1111\u1110","\uA97A":"\u1111\u1112",\u314E:"\u1112",\u11C2:"\u1112",\u11F5:"\u1112\u1102",\u11F6:"\u1112\u1105",\u11F7:"\u1112\u1106",\u11F8:"\u1112\u1107","\uA97B":"\u1112\u1109",\u1158:"\u1112\u1112",\u3185:"\u1112\u1112",\u113D:"\u113C\u113C",\u113F:"\u113E\u113E",\u317F:"\u1140",\u11EB:"\u1140","\uD7F3":"\u1140\u1107","\uD7F4":"\u1140\u1107\u110B",\u3181:"\u114C",\u11F0:"\u114C","\uD7F5":"\u114C\u1106","\uD7F6":"\u114C\u1112",\u114F:"\u114E\u114E",\u1151:"\u1150\u1150",\u3186:"\u1159",\u11F9:"\u1159","\uA97C":"\u1159\u1159",\u3164:"\u1160",\u314F:"\u1161","\u11A3":"\u1161\u30FC",\u1176:"\u1161\u1169",\u1177:"\u1161\u116E",\u1162:"\u1161\u4E28",\u3150:"\u1161\u4E28",\u3151:"\u1163",\u1178:"\u1163\u1169",\u1179:"\u1163\u116D","\u11A4":"\u1163\u116E",\u1164:"\u1163\u4E28",\u3152:"\u1163\u4E28",\u3153:"\u1165",\u117C:"\u1165\u30FC",\u117A:"\u1165\u1169",\u117B:"\u1165\u116E",\u1166:"\u1165\u4E28",\u3154:"\u1165\u4E28",\u3155:"\u1167","\u11A5":"\u1167\u1163",\u117D:"\u1167\u1169",\u117E:"\u1167\u116E",\u1168:"\u1167\u4E28",\u3156:"\u1167\u4E28",\u3157:"\u1169",\u116A:"\u1169\u1161",\u3158:"\u1169\u1161",\u116B:"\u1169\u1161\u4E28",\u3159:"\u1169\u1161\u4E28","\u11A6":"\u1169\u1163","\u11A7":"\u1169\u1163\u4E28",\u117F:"\u1169\u1165",\u1180:"\u1169\u1165\u4E28","\uD7B0":"\u1169\u1167",\u1181:"\u1169\u1167\u4E28",\u1182:"\u1169\u1169","\uD7B1":"\u1169\u1169\u4E28",\u1183:"\u1169\u116E",\u116C:"\u1169\u4E28",\u315A:"\u1169\u4E28",\u315B:"\u116D","\uD7B2":"\u116D\u1161","\uD7B3":"\u116D\u1161\u4E28",\u1184:"\u116D\u1163",\u3187:"\u116D\u1163",\u1186:"\u116D\u1163",\u1185:"\u116D\u1163\u4E28",\u3188:"\u116D\u1163\u4E28","\uD7B4":"\u116D\u1165",\u1187:"\u116D\u1169",\u1188:"\u116D\u4E28",\u3189:"\u116D\u4E28",\u315C:"\u116E",\u1189:"\u116E\u1161",\u118A:"\u116E\u1161\u4E28",\u116F:"\u116E\u1165",\u315D:"\u116E\u1165",\u118B:"\u116E\u1165\u30FC",\u1170:"\u116E\u1165\u4E28",\u315E:"\u116E\u1165\u4E28","\uD7B5":"\u116E\u1167",\u118C:"\u116E\u1167\u4E28",\u118D:"\u116E\u116E",\u1171:"\u116E\u4E28",\u315F:"\u116E\u4E28","\uD7B6":"\u116E\u4E28\u4E28",\u3160:"\u1172",\u118E:"\u1172\u1161","\uD7B7":"\u1172\u1161\u4E28",\u118F:"\u1172\u1165",\u1190:"\u1172\u1165\u4E28",\u1191:"\u1172\u1167",\u318A:"\u1172\u1167",\u1192:"\u1172\u1167\u4E28",\u318B:"\u1172\u1167\u4E28","\uD7B8":"\u1172\u1169",\u1193:"\u1172\u116E",\u1194:"\u1172\u4E28",\u318C:"\u1172\u4E28",\u318D:"\u119E","\uD7C5":"\u119E\u1161",\u119F:"\u119E\u1165","\uD7C6":"\u119E\u1165\u4E28",\u11A0:"\u119E\u116E",\u11A2:"\u119E\u119E",\u11A1:"\u119E\u4E28",\u318E:"\u119E\u4E28",\u30D8:"\u3078","\u2341":"\u303C","\u29C4":"\u303C","\uA49E":"\uA04A","\uA4AC":"\uA050","\uA49C":"\uA0C0","\uA4A8":"\uA132","\uA4BF":"\uA259","\uA4BE":"\uA2B1","\uA494":"\uA2CD","\uA4C0":"\uA3AB","\uA4C2":"\uA3B5","\uA4BA":"\uA3BF","\uA4B0":"\uA3C2","\uA4A7":"\uA458","\u22A5":"\uA4D5","\u27C2":"\uA4D5","\u{1D21C}":"\uA4D5","\uA7B1":"\uA4D5","\uA79E":"\uA4E4","\u2141":"\uA4E8","\u2142":"\uA4F6","\u{1D215}":"\uA4F6","\u{1D22B}":"\uA4F6","\u{16F26}":"\uA4F6","\u{10411}":"\uA4F6","\u2143":"\u{16F00}","\u{11AE6}":"\u{11AE5}\u{11AEF}","\u{11AE8}":"\u{11AE5}\u{11AE5}","\u{11AE9}":"\u{11AE5}\u{11AE5}\u{11AEF}","\u{11AEA}":"\u{11AE5}\u{11AE5}\u{11AF0}","\u{11AE7}":"\u{11AE5}\u{11AF0}","\u{11AF4}":"\u{11AF3}\u{11AEF}","\u{11AF6}":"\u{11AF3}\u{11AF3}","\u{11AF7}":"\u{11AF3}\u{11AF3}\u{11AEF}","\u{11AF8}":"\u{11AF3}\u{11AF3}\u{11AF0}","\u{11AF5}":"\u{11AF3}\u{11AF0}","\u{11AEC}":"\u{11AEB}\u{11AEF}","\u{11AED}":"\u{11AEB}\u{11AEB}","\u{11AEE}":"\u{11AEB}\u{11AEB}\u{11AEF}","\u2295":"\u{102A8}","\u2A01":"\u{102A8}","\u{1F728}":"\u{102A8}","\uA69A":"\u{102A8}","\u25BD":"\u{102BC}","\u{1D214}":"\u{102BC}","\u{1F704}":"\u{102BC}","\u29D6":"\u{102C0}","\uA79B":"\u{1043A}","\uA79A":"\u{10412}","\u{104A0}":"\u{10486}","\u{103D1}":"\u{10382}","\u{103D3}":"\u{10393}","\u{12038}":"\u{1039A}","\u2625":"\u{1099E}","\u{132F9}":"\u{1099E}","\u3039":"\u5344",\uF967:"\u4E0D","\u{2F800}":"\u4E3D","\uFA70":"\u4E26","\u239C":"\u4E28","\u239F":"\u4E28","\u23A2":"\u4E28","\u23A5":"\u4E28","\u23AA":"\u4E28","\u23AE":"\u4E28","\u31D1":"\u4E28",\u1175:"\u4E28",\u3163:"\u4E28","\u2F01":"\u4E28",\u119C:"\u4E28\u30FC",\u1198:"\u4E28\u1161",\u1199:"\u4E28\u1163","\uD7BD":"\u4E28\u1163\u1169","\uD7BE":"\u4E28\u1163\u4E28","\uD7BF":"\u4E28\u1167","\uD7C0":"\u4E28\u1167\u4E28",\u119A:"\u4E28\u1169","\uD7C1":"\u4E28\u1169\u4E28","\uD7C2":"\u4E28\u116D",\u119B:"\u4E28\u116E","\uD7C3":"\u4E28\u1172",\u119D:"\u4E28\u119E","\uD7C4":"\u4E28\u4E28",\uF905:"\u4E32","\u{2F801}":"\u4E38",\uF95E:"\u4E39","\u{2F802}":"\u4E41","\u31E0":"\u4E59","\u2F04":"\u4E59","\u31DF":"\u4E5A","\u2E83":"\u4E5A","\u31D6":"\u4E5B","\u2E82":"\u4E5B","\u2EF2":"\u4E80",\uF91B:"\u4E82","\u31DA":"\u4E85","\u2F05":"\u4E85",\uF9BA:"\u4E86",\u30CB:"\u4E8C","\u2F06":"\u4E8C","\u{2F803}":"\u{20122}","\u2F07":"\u4EA0",\uF977:"\u4EAE","\u2F08":"\u4EBA",\u30A4:"\u4EBB","\u2E85":"\u4EBB",\uF9FD:"\u4EC0","\u{2F819}":"\u4ECC",\uF9A8:"\u4EE4","\u{2F804}":"\u4F60",\u5002:"\u4F75","\u{2F807}":"\u4F75","\uFA73":"\u4F80",\uF92D:"\u4F86",\uF9B5:"\u4F8B","\uFA30":"\u4FAE","\u{2F805}":"\u4FAE","\u{2F806}":"\u4FBB",\uF965:"\u4FBF",\u503C:"\u5024",\uF9D4:"\u502B","\u{2F808}":"\u507A","\u{2F809}":"\u5099","\u{2F80B}":"\u50CF",\uF9BB:"\u50DA","\uFA31":"\u50E7","\u{2F80A}":"\u50E7","\u{2F80C}":"\u349E","\u2F09":"\u513F",\uFA0C:"\u5140","\u2E8E":"\u5140","\uFA74":"\u5145","\uFA32":"\u514D","\u{2F80E}":"\u514D","\u{2F80F}":"\u5154","\u{2F810}":"\u5164","\u2F0A":"\u5165","\u{2F814}":"\u5167","\uFA72":"\u5168",\uF978:"\u5169",\u30CF:"\u516B","\u2F0B":"\u516B",\uF9D1:"\u516D","\u{2F811}":"\u5177","\u{2F812}":"\u{2051C}","\u{2F91B}":"\u{20525}","\uFA75":"\u5180","\u{2F813}":"\u34B9","\u2F0C":"\u5182","\u{2F815}":"\u518D","\u{2F816}":"\u{2054B}","\u{2F8D2}":"\u5192","\u{2F8D3}":"\u5195","\u{2F9CA}":"\u34BB","\u{2F8D4}":"\u6700","\u2F0D":"\u5196","\u{2F817}":"\u5197","\u{2F818}":"\u51A4","\u2F0E":"\u51AB","\u{2F81A}":"\u51AC","\uFA71":"\u51B5","\u{2F81B}":"\u51B5",\uF92E:"\u51B7",\uF979:"\u51C9",\uF955:"\u51CC",\uF954:"\u51DC",\uFA15:"\u51DE","\u2F0F":"\u51E0","\u{2F80D}":"\u{2063A}","\u{2F81D}":"\u51F5","\u2F10":"\u51F5","\u2F11":"\u5200","\u2E89":"\u5202","\u{2F81E}":"\u5203",\uFA00:"\u5207","\u{2F850}":"\u5207",\uF99C:"\u5217",\uF9DD:"\u5229","\u{2F81F}":"\u34DF",\uF9FF:"\u523A","\u{2F820}":"\u523B","\u{2F821}":"\u5246","\u{2F822}":"\u5272","\u{2F823}":"\u5277",\uF9C7:"\u5289","\u{2F9D9}":"\u{20804}",\u30AB:"\u529B",\uF98A:"\u529B","\u2F12":"\u529B",\uF99D:"\u52A3","\u{2F824}":"\u3515","\u{2F992}":"\u52B3","\uFA76":"\u52C7","\u{2F825}":"\u52C7","\uFA33":"\u52C9","\u{2F826}":"\u52C9",\uF952:"\u52D2",\uF92F:"\u52DE","\uFA34":"\u52E4","\u{2F827}":"\u52E4",\uF97F:"\u52F5","\u2F13":"\u52F9","\uFA77":"\u52FA","\u{2F828}":"\u52FA","\u{2F829}":"\u5305","\u{2F82A}":"\u5306","\u{2F9DD}":"\u{208DE}","\u2F14":"\u5315",\uF963:"\u5317","\u{2F82B}":"\u5317","\u2F15":"\u531A","\u2F16":"\u5338",\uF9EB:"\u533F","\u2F17":"\u5341","\u3038":"\u5341","\u303A":"\u5345","\u{2F82C}":"\u5349","\u0FD6":"\u534D","\u0FD5":"\u5350","\uFA35":"\u5351","\u{2F82D}":"\u5351","\u{2F82E}":"\u535A",\u30C8:"\u535C","\u2F18":"\u535C","\u2F19":"\u5369","\u2E8B":"\u353E","\u{2F82F}":"\u5373",\uF91C:"\u5375","\u{2F830}":"\u537D","\u{2F831}":"\u537F","\u{2F832}":"\u537F","\u{2F833}":"\u537F","\u2F1A":"\u5382","\u{2F834}":"\u{20A2C}","\u2F1B":"\u53B6",\uF96B:"\u53C3","\u2F1C":"\u53C8","\u{2F836}":"\u53CA","\u{2F837}":"\u53DF","\u{2F838}":"\u{20B63}",\u30ED:"\u53E3","\u2F1D":"\u53E3",\u56D7:"\u53E3","\u2F1E":"\u53E3",\uF906:"\u53E5","\u{2F839}":"\u53EB","\u{2F83A}":"\u53F1","\u{2F83B}":"\u5406",\uF9DE:"\u540F",\uF9ED:"\u541D","\u{2F83D}":"\u5438",\uF980:"\u5442","\u{2F83E}":"\u5448","\u{2F83F}":"\u5468","\u{2F83C}":"\u549E","\u{2F840}":"\u54A2",\uF99E:"\u54BD",\u439B:"\u3588","\u{2F841}":"\u54F6","\u{2F842}":"\u5510","\u{2F843}":"\u5553",\u555F:"\u5553","\uFA79":"\u5555","\u{2F844}":"\u5563","\u{2F845}":"\u5584","\u{2F846}":"\u5584",\uF90B:"\u5587","\uFA7A":"\u5599","\u{2F847}":"\u5599","\uFA36":"\u559D","\uFA78":"\u559D","\u{2F848}":"\u55AB","\u{2F849}":"\u55B3",\uFA0D:"\u55C0","\u{2F84A}":"\u55C2","\uFA7B":"\u55E2","\uFA37":"\u5606","\u{2F84C}":"\u5606","\u{2F84E}":"\u5651","\u{2F84F}":"\u5674","\uFA38":"\u5668",\uF9A9:"\u56F9","\u{2F84B}":"\u5716","\u{2F84D}":"\u5717","\u2F1F":"\u571F",\u58EB:"\u571F","\u2F20":"\u571F","\u{2F855}":"\u578B","\u{2F852}":"\u57CE",\u39B3:"\u363D","\u{2F853}":"\u57F4","\u{2F854}":"\u580D","\u{2F857}":"\u5831","\u{2F856}":"\u5832","\uFA39":"\u5840",\uFA10:"\u585A","\uFA7C":"\u585A",\uF96C:"\u585E",\u586B:"\u5861",\u58FF:"\u58AB","\u{2F858}":"\u58AC","\uFA7D":"\u58B3",\uF94A:"\u58D8",\uF942:"\u58DF","\u{2F859}":"\u{214E4}","\u{2F851}":"\u58EE","\u{2F85A}":"\u58F2","\u{2F85B}":"\u58F7","\u2F21":"\u5902","\u{2F85C}":"\u5906","\u2F22":"\u590A",\u30BF:"\u5915","\u2F23":"\u5915","\u{2F85D}":"\u591A","\u{2F85E}":"\u5922","\u2F24":"\u5927","\uFA7E":"\u5944",\uF90C:"\u5948",\uF909:"\u5951","\uFA7F":"\u5954","\u{2F85F}":"\u5962",\uF981:"\u5973","\u2F25":"\u5973","\u{2F860}":"\u{216A8}","\u{2F861}":"\u{216EA}","\u{2F865}":"\u59D8","\u{2F862}":"\u59EC","\u{2F863}":"\u5A1B","\u{2F864}":"\u5A27","\uFA80":"\u5A62","\u{2F866}":"\u5A66",\u5B00:"\u5AAF","\u{2F867}":"\u36EE","\u{2F868}":"\u36FC","\u{2F986}":"\u5AB5","\u{2F869}":"\u5B08","\uFA81":"\u5B28","\u{2F86A}":"\u5B3E","\u{2F86B}":"\u5B3E","\u2F26":"\u5B50","\u2F27":"\u5B80",\uFA04:"\u5B85","\u{2F86C}":"\u{219C8}","\u{2F86D}":"\u5BC3","\u{2F86E}":"\u5BD8",\uF95F:"\u5BE7",\uF9AA:"\u5BE7","\u{2F86F}":"\u5BE7",\uF9BC:"\u5BEE","\u{2F870}":"\u5BF3","\u{2F871}":"\u{21B18}","\u2F28":"\u5BF8","\u{2F872}":"\u5BFF","\u{2F873}":"\u5C06","\u2F29":"\u5C0F","\u{2F875}":"\u5C22","\u2E90":"\u5C22","\u2F2A":"\u5C22","\u2E8F":"\u5C23","\u{2F876}":"\u3781","\u2F2B":"\u5C38",\uF9BD:"\u5C3F","\u{2F877}":"\u5C60",\uF94B:"\u5C62","\uFA3B":"\u5C64",\uF9DF:"\u5C65","\uFA3C":"\u5C6E","\u{2F878}":"\u5C6E","\u2F2C":"\u5C6E","\u{2F8F8}":"\u{21D0B}","\u2F2D":"\u5C71","\u{2F879}":"\u5CC0","\u{2F87A}":"\u5C8D","\u{2F87B}":"\u{21DE4}","\u{2F87D}":"\u{21DE6}",\uF9D5:"\u5D19","\u{2F87C}":"\u5D43",\uF921:"\u5D50","\u{2F87F}":"\u5D6B","\u{2F87E}":"\u5D6E","\u{2F880}":"\u5D7C","\u{2F9F4}":"\u5DB2",\uF9AB:"\u5DBA","\u2F2E":"\u5DDB","\u{2F882}":"\u5DE2",\u30A8:"\u5DE5","\u2F2F":"\u5DE5","\u2F30":"\u5DF1","\u2E92":"\u5DF3","\u{2F883}":"\u382F","\u{2F884}":"\u5DFD","\u2F31":"\u5DFE",\u5E32:"\u5E21","\u{2F885}":"\u5E28","\u{2F886}":"\u5E3D","\u{2F887}":"\u5E69","\u{2F888}":"\u3862","\u{2F889}":"\u{22183}","\u2F32":"\u5E72",\uF98E:"\u5E74","\u{2F939}":"\u{2219F}","\u2E93":"\u5E7A","\u2F33":"\u5E7A","\u2F34":"\u5E7F",\uFA01:"\u5EA6","\u{2F88A}":"\u387C","\u{2F88B}":"\u5EB0","\u{2F88C}":"\u5EB3","\u{2F88D}":"\u5EB6",\uF928:"\u5ECA","\u{2F88E}":"\u5ECA",\uF9A2:"\u5EC9","\uFA82":"\u5ED2",\uFA0B:"\u5ED3","\uFA83":"\u5ED9",\uF982:"\u5EEC","\u2F35":"\u5EF4","\u{2F890}":"\u5EFE","\u2F36":"\u5EFE","\u{2F891}":"\u{22331}","\u{2F892}":"\u{22331}",\uF943:"\u5F04","\u2F37":"\u5F0B","\u2F38":"\u5F13","\u{2F894}":"\u5F22","\u{2F895}":"\u5F22","\u2F39":"\u5F50","\u2E94":"\u5F51","\u{2F874}":"\u5F53","\u{2F896}":"\u38C7","\u2F3A":"\u5F61","\u{2F899}":"\u5F62","\uFA84":"\u5F69","\u{2F89A}":"\u5F6B","\u2F3B":"\u5F73",\uF9D8:"\u5F8B","\u{2F89B}":"\u38E3","\u{2F89C}":"\u5F9A",\uF966:"\u5FA9","\uFA85":"\u5FAD","\u2F3C":"\u5FC3","\u2E96":"\u5FC4","\u2E97":"\u38FA","\u{2F89D}":"\u5FCD","\u{2F89E}":"\u5FD7",\uF9A3:"\u5FF5","\u{2F89F}":"\u5FF9",\uF960:"\u6012",\uF9AC:"\u601C","\uFA6B":"\u6075","\u{2F8A2}":"\u391C","\u{2F8A1}":"\u393A","\u{2F8A0}":"\u6081","\uFA3D":"\u6094","\u{2F8A3}":"\u6094","\u{2F8A5}":"\u60C7","\uFA86":"\u60D8",\uF9B9:"\u60E1","\u{2F8A4}":"\u{226D4}","\uFA88":"\u6108","\uFA3E":"\u6168",\uF9D9:"\u6144","\u{2F8A6}":"\u6148","\u{2F8A7}":"\u614C","\u{2F8A9}":"\u614C","\uFA87":"\u614E","\u{2F8A8}":"\u614E","\uFA8A":"\u6160","\u{2F8AA}":"\u617A","\uFA3F":"\u618E","\uFA89":"\u618E","\u{2F8AB}":"\u618E",\uF98F:"\u6190","\u{2F8AD}":"\u61A4","\u{2F8AE}":"\u61AF","\u{2F8AC}":"\u61B2","\uFAD0":"\u{22844}","\uFACF":"\u{2284A}","\u{2F8AF}":"\u61DE","\uFA40":"\u61F2","\uFA8B":"\u61F2","\u{2F8B0}":"\u61F2",\uF90D:"\u61F6","\u{2F8B1}":"\u61F6",\uF990:"\u6200","\u2F3D":"\u6208","\u{2F8B2}":"\u6210","\u{2F8B3}":"\u621B",\uF9D2:"\u622E","\uFA8C":"\u6234","\u2F3E":"\u6236",\u6238:"\u6236","\u2F3F":"\u624B","\u2E98":"\u624C","\u{2F8B4}":"\u625D","\u{2F8B5}":"\u62B1",\uF925:"\u62C9",\uF95B:"\u62CF",\uFA02:"\u62D3","\u{2F8B6}":"\u62D4","\u{2F8BA}":"\u62FC",\uF973:"\u62FE","\u{2F8B8}":"\u{22B0C}","\u{2F8B9}":"\u633D","\u{2F8B7}":"\u6350","\u{2F8BB}":"\u6368",\uF9A4:"\u637B","\u{2F8BC}":"\u6383",\uF975:"\u63A0","\u{2F8C1}":"\u63A9","\uFA8D":"\u63C4","\u{2F8BD}":"\u63E4","\uFA8F":"\u6452","\u{2F8BE}":"\u{22BF1}","\uFA8E":"\u641C","\u{2F8BF}":"\u6422","\u{2F8C0}":"\u63C5","\u{2F8C3}":"\u6469","\u{2F8C6}":"\u6477","\u{2F8C4}":"\u647E","\u{2F8C2}":"\u3A2E",\u6409:"\u3A41",\uF991:"\u649A","\u{2F8C5}":"\u649D",\uF930:"\u64C4","\u{2F8C7}":"\u3A6C","\u2F40":"\u652F","\u2F41":"\u6534","\u2E99":"\u6535","\uFA41":"\u654F","\u{2F8C8}":"\u654F","\uFA90":"\u6556","\u{2F8C9}":"\u656C",\uF969:"\u6578","\u{2F8CA}":"\u{2300A}","\u2F42":"\u6587","\u2EEB":"\u6589","\u2F43":"\u6597",\uF9BE:"\u6599","\u2F44":"\u65A4","\u2F45":"\u65B9",\uF983:"\u65C5","\u2F46":"\u65E0","\u2E9B":"\u65E1","\uFA42":"\u65E2","\u{2F8CB}":"\u65E3","\u2F47":"\u65E5",\uF9E0:"\u6613",\u66F6:"\u3ADA","\u{2F8D1}":"\u3AE4","\u{2F8CD}":"\u6649",\u6669:"\u665A",\uFA12:"\u6674","\uFA91":"\u6674","\uFA43":"\u6691","\u{2F8CF}":"\u6691",\uF9C5:"\u6688","\u{2F8D0}":"\u3B08","\u{2F8D5}":"\u669C",\uFA06:"\u66B4",\uF98B:"\u66C6","\u{2F8CE}":"\u3B19","\u{2F897}":"\u{232B8}","\u2F48":"\u66F0",\uF901:"\u66F4","\u{2F8CC}":"\u66F8","\u2F49":"\u6708","\u{2F980}":"\u{2335F}",\u80A6:"\u670C",\u80D0:"\u670F",\u80CA:"\u6710",\u8101:"\u6713",\u80F6:"\u3B35",\uF929:"\u6717","\uFA92":"\u6717","\u{2F8D8}":"\u6717",\u8127:"\u6718","\uFA93":"\u671B","\u{2F8D9}":"\u671B",\u5E50:"\u3B3A",\u4420:"\u3B3B","\u{2F989}":"\u{23393}",\u81A7:"\u6723","\u{2F98A}":"\u{2339C}","\u2F4A":"\u6728",\uF9E1:"\u674E","\u{2F8DC}":"\u6753","\uFA94":"\u6756","\u{2F8DB}":"\u675E","\u{2F8DD}":"\u{233C3}",\u67FF:"\u676E",\uF9C8:"\u677B","\u{2F8E0}":"\u6785",\uF9F4:"\u6797","\u{2F8DE}":"\u3B49","\uFAD1":"\u{233D5}",\uF9C9:"\u67F3","\u{2F8DF}":"\u67FA",\uF9DA:"\u6817","\u{2F8E5}":"\u681F","\u{2F8E1}":"\u6852","\u{2F8E3}":"\u{2346D}",\uF97A:"\u6881","\uFA44":"\u6885","\u{2F8E2}":"\u6885","\u{2F8E4}":"\u688E",\uF9E2:"\u68A8","\u{2F8E6}":"\u6914","\u{2F8E8}":"\u6942","\uFAD2":"\u3B9D","\u{2F8E7}":"\u3B9D",\u69E9:"\u3BA3",\u6A27:"\u699D","\u{2F8E9}":"\u69A3","\u{2F8EA}":"\u69EA",\uF914:"\u6A02",\uF95C:"\u6A02",\uF9BF:"\u6A02",\uF94C:"\u6A13","\u{2F8EC}":"\u{236A3}","\u{2F8EB}":"\u6AA8",\uF931:"\u6AD3","\u{2F8ED}":"\u6ADB",\uF91D:"\u6B04","\u{2F8EE}":"\u3C18","\u2F4B":"\u6B20","\u{2F8EF}":"\u6B21","\u{2F8F0}":"\u{238A7}","\u{2F8F1}":"\u6B54","\u{2F8F2}":"\u3C4E","\u2F4C":"\u6B62","\u2EED":"\u6B6F","\u{2F8F3}":"\u6B72",\uF98C:"\u6B77","\uFA95":"\u6B79","\u2F4D":"\u6B79","\u2E9E":"\u6B7A","\u{2F8F4}":"\u6B9F",\uF9A5:"\u6BAE","\u2F4E":"\u6BB3",\uF970:"\u6BBA","\uFA96":"\u6BBA","\u{2F8F5}":"\u6BBA","\u{2F8F6}":"\u6BBB","\u{2F8F7}":"\u{23A8D}","\u2F4F":"\u6BCB","\u2E9F":"\u6BCD","\u{2F8F9}":"\u{23AFA}","\u2F50":"\u6BD4","\u2F51":"\u6BDB","\u2F52":"\u6C0F","\u2EA0":"\u6C11","\u2F53":"\u6C14","\u2F54":"\u6C34","\u2EA1":"\u6C35","\u2EA2":"\u6C3A","\u{2F8FA}":"\u6C4E","\u{2F8FE}":"\u6C67",\uF972:"\u6C88","\u{2F8FC}":"\u6CBF",\uF968:"\u6CCC","\u{2F8FD}":"\u6CCD",\uF9E3:"\u6CE5","\u{2F8FB}":"\u{23CBC}",\uF915:"\u6D1B",\uFA05:"\u6D1E","\u{2F907}":"\u6D34","\u{2F900}":"\u6D3E",\uF9CA:"\u6D41","\uFA97":"\u6D41","\u{2F902}":"\u6D41","\u{2F8FF}":"\u6D16","\u{2F903}":"\u6D69",\uF92A:"\u6D6A","\uFA45":"\u6D77","\u{2F901}":"\u6D77","\u{2F904}":"\u6D78","\u{2F905}":"\u6D85","\u{2F906}":"\u{23D1E}",\uF9F5:"\u6DCB",\uF94D:"\u6DDA",\uF9D6:"\u6DEA","\u{2F90E}":"\u6DF9","\uFA46":"\u6E1A","\u{2F908}":"\u6E2F","\u{2F909}":"\u6E6E",\u6F59:"\u6E88","\uFA99":"\u6ECB","\u{2F90B}":"\u6ECB",\uF9CB:"\u6E9C",\uF9EC:"\u6EBA","\u{2F90C}":"\u6EC7",\uF904:"\u6ED1","\uFA98":"\u6EDB","\u{2F90A}":"\u3D33",\uF94E:"\u6F0F","\uFA47":"\u6F22","\uFA9A":"\u6F22",\uF992:"\u6F23","\u{2F90D}":"\u{23ED1}","\u{2F90F}":"\u6F6E","\u{2F910}":"\u{23F5E}","\u{2F911}":"\u{23F8E}","\u{2F912}":"\u6FC6",\uF922:"\u6FEB",\uF984:"\u6FFE","\u{2F915}":"\u701B","\uFA9B":"\u701E","\u{2F914}":"\u701E","\u{2F913}":"\u7039","\u{2F917}":"\u704A","\u{2F916}":"\u3D96","\u2F55":"\u706B","\u2EA3":"\u706C","\u{2F835}":"\u7070","\u{2F919}":"\u7077","\u{2F918}":"\u707D",\uF9FB:"\u7099","\u{2F91A}":"\u70AD",\uF99F:"\u70C8",\uF916:"\u70D9","\uFA48":"\u716E","\uFA9C":"\u716E","\u{2F91D}":"\u{24263}","\u{2F91C}":"\u7145",\uF993:"\u7149","\uFA6C":"\u{242EE}","\u{2F91E}":"\u719C",\uF9C0:"\u71CE",\uF9EE:"\u71D0","\u{2F91F}":"\u{243AB}",\uF932:"\u7210",\uF91E:"\u721B","\u{2F920}":"\u7228","\u2F56":"\u722A","\uFA49":"\u722B","\u2EA4":"\u722B","\uFA9E":"\u7235","\u{2F921}":"\u7235","\u2F57":"\u7236","\u2F58":"\u723B","\u2EA6":"\u4E2C","\u2F59":"\u723F","\u2F5A":"\u7247","\u{2F922}":"\u7250","\u2F5B":"\u7259","\u{2F923}":"\u{24608}","\u2F5C":"\u725B",\uF946:"\u7262","\u{2F924}":"\u7280","\u{2F925}":"\u7295","\u2F5D":"\u72AC","\u2EA8":"\u72AD","\uFA9F":"\u72AF",\uF9FA:"\u72C0","\u{2F926}":"\u{24735}",\uF92B:"\u72FC",\uFA16:"\u732A","\uFAA0":"\u732A","\u{2F927}":"\u{24814}",\uF9A7:"\u7375","\u{2F928}":"\u737A","\u2F5E":"\u7384",\uF961:"\u7387",\uF9DB:"\u7387","\u2F5F":"\u7389","\u{2F929}":"\u738B","\u{2F92A}":"\u3EAC","\u{2F92B}":"\u73A5",\uF9AD:"\u73B2","\u{2F92C}":"\u3EB8","\u{2F92D}":"\u3EB8",\uF917:"\u73DE",\uF9CC:"\u7409",\uF9E4:"\u7406","\uFA4A":"\u7422","\u{2F92E}":"\u7447","\u{2F92F}":"\u745C",\uF9AE:"\u7469","\uFAA1":"\u7471","\u{2F930}":"\u7471","\u{2F931}":"\u7485",\uF994:"\u7489",\uF9EF:"\u7498","\u{2F932}":"\u74CA","\u2F60":"\u74DC","\u2F61":"\u74E6","\u{2F933}":"\u3F1B","\uFAA2":"\u7506","\u2F62":"\u7518","\u2F63":"\u751F","\u{2F934}":"\u7524","\u2F64":"\u7528","\u2F65":"\u7530","\uFAA3":"\u753B","\u{2F936}":"\u753E","\u{2F935}":"\u{24C36}",\uF9CD:"\u7559",\uF976:"\u7565",\uF962:"\u7570","\u{2F938}":"\u7570","\u{2F937}":"\u{24C92}","\u2F66":"\u758B","\u2F67":"\u7592",\uF9E5:"\u75E2","\u{2F93A}":"\u7610","\uFAA5":"\u761F","\uFAA4":"\u761D",\uF9C1:"\u7642",\uF90E:"\u7669","\u2F68":"\u7676","\u2F69":"\u767D","\u{2F93B}":"\u{24FA1}","\u{2F93C}":"\u{24FB8}","\u2F6A":"\u76AE","\u2F6B":"\u76BF","\u{2F93D}":"\u{25044}","\u{2F93E}":"\u3FFC",\uFA17:"\u76CA","\uFAA6":"\u76CA","\uFAA7":"\u76DB",\uF933:"\u76E7","\u{2F93F}":"\u4008","\u2F6C":"\u76EE","\uFAA8":"\u76F4","\u{2F940}":"\u76F4","\u{2F942}":"\u{250F2}","\u{2F941}":"\u{250F3}",\uF96D:"\u7701","\uFAD3":"\u4018","\u{2F943}":"\u{25119}","\u{2F945}":"\u771E","\u{2F946}":"\u771F","\u{2F947}":"\u771F","\u{2F944}":"\u{25133}","\uFAAA":"\u7740","\uFAA9":"\u774A","\u{2F948}":"\u774A","\u9FC3":"\u4039","\uFAD4":"\u4039","\u{2F949}":"\u4039",\u6663:"\u403F","\u{2F94B}":"\u4046","\u{2F94A}":"\u778B","\uFAD5":"\u{25249}","\uFA9D":"\u77A7","\u2F6D":"\u77DB","\u2F6E":"\u77E2","\u2F6F":"\u77F3","\u{2F94C}":"\u4096","\u{2F94D}":"\u{2541D}",\u784F:"\u7814","\u{2F94E}":"\u784E",\uF9CE:"\u786B",\uF93B:"\u788C","\u{2F94F}":"\u788C","\uFA4B":"\u7891",\uF947:"\u78CA","\uFAAB":"\u78CC","\u{2F950}":"\u78CC",\uF964:"\u78FB","\u{2F951}":"\u40E3",\uF985:"\u792A","\u2F70":"\u793A","\u2EAD":"\u793B",\uFA18:"\u793C","\uFA4C":"\u793E","\uFA4E":"\u7948","\uFA4D":"\u7949","\u{2F952}":"\u{25626}","\uFA4F":"\u7950","\uFA50":"\u7956","\u{2F953}":"\u7956","\uFA51":"\u795D",\uFA19:"\u795E",\uFA1A:"\u7965","\uFA61":"\u8996","\uFAB8":"\u8996",\uF93C:"\u797F","\u{2F954}":"\u{2569A}","\uFA52":"\u798D","\uFA53":"\u798E",\uFA1B:"\u798F","\u{2F956}":"\u798F","\u{2F955}":"\u{256C5}",\uF9B6:"\u79AE","\u2F71":"\u79B8","\u2F72":"\u79BE",\uF995:"\u79CA","\u{2F958}":"\u412F","\u{2F957}":"\u79EB",\uF956:"\u7A1C","\u{2F95A}":"\u7A4A","\uFA54":"\u7A40","\u{2F959}":"\u7A40","\u{2F95B}":"\u7A4F","\u2F73":"\u7A74","\uFA55":"\u7A81","\u{2F95C}":"\u{2597C}","\uFAAC":"\u7AB1",\uF9F7:"\u7ACB","\u2F74":"\u7ACB","\u2EEF":"\u7ADC","\u{2F95D}":"\u{25AA7}","\u{2F95E}":"\u{25AA7}","\u{2F95F}":"\u7AEE","\u2F75":"\u7AF9",\uF9F8:"\u7B20","\uFA56":"\u7BC0","\uFAAD":"\u7BC0","\u{2F960}":"\u4202","\u{2F961}":"\u{25BAB}","\u{2F962}":"\u7BC6","\u{2F964}":"\u4227","\u{2F963}":"\u7BC9","\u{2F965}":"\u{25C80}","\uFAD6":"\u{25CD0}",\uF9A6:"\u7C3E",\uF944:"\u7C60","\u2F76":"\u7C73","\uFAAE":"\u7C7B",\uF9F9:"\u7C92",\uFA1D:"\u7CBE","\u{2F966}":"\u7CD2",\uFA03:"\u7CD6","\u{2F968}":"\u7CE8","\u{2F967}":"\u42A0","\u{2F969}":"\u7CE3",\uF97B:"\u7CE7","\u2F77":"\u7CF8","\u2EAF":"\u7CF9","\u{2F96B}":"\u{25F86}","\u{2F96A}":"\u7D00",\uF9CF:"\u7D10",\uF96A:"\u7D22",\uF94F:"\u7D2F",\u7D76:"\u7D55","\u{2F96C}":"\u7D63","\uFAAF":"\u7D5B",\uF93D:"\u7DA0",\uF957:"\u7DBE","\u{2F96E}":"\u7DC7",\uF996:"\u7DF4","\uFA57":"\u7DF4","\uFAB0":"\u7DF4","\u{2F96F}":"\u7E02","\u{2F96D}":"\u4301","\uFA58":"\u7E09",\uF950:"\u7E37","\uFA59":"\u7E41","\u{2F970}":"\u7E45","\u{2F898}":"\u{261DA}","\u{2F971}":"\u4334","\u2F78":"\u7F36","\u{2F972}":"\u{26228}","\uFAB1":"\u7F3E","\u{2F973}":"\u{26247}","\u2F79":"\u7F51","\u2EAB":"\u7F52","\u2EB2":"\u7F52","\u2EB1":"\u7F53","\u{2F974}":"\u4359","\uFA5A":"\u7F72","\u{2F975}":"\u{262D9}",\uF9E6:"\u7F79","\u{2F976}":"\u7F7A",\uF90F:"\u7F85","\u{2F977}":"\u{2633E}","\u2F7A":"\u7F8A","\u{2F978}":"\u7F95",\uF9AF:"\u7F9A",\uFA1E:"\u7FBD","\u2F7B":"\u7FBD","\u{2F979}":"\u7FFA",\uF934:"\u8001","\u2F7C":"\u8001","\u2EB9":"\u8002","\uFA5B":"\u8005","\uFAB2":"\u8005","\u{2F97A}":"\u8005","\u2F7D":"\u800C","\u{2F97B}":"\u{264DA}","\u2F7E":"\u8012","\u{2F97C}":"\u{26523}","\u2F7F":"\u8033",\uF9B0:"\u8046","\u{2F97D}":"\u8060","\u{2F97E}":"\u{265A8}",\uF997:"\u806F","\u{2F97F}":"\u8070",\uF945:"\u807E","\u2F80":"\u807F","\u2EBA":"\u8080","\u2F81":"\u8089",\uF953:"\u808B","\u{2F8D6}":"\u80AD","\u{2F982}":"\u80B2","\u{2F981}":"\u43D5","\u{2F8D7}":"\u43D9",\u8141:"\u80FC","\u{2F983}":"\u8103","\u{2F985}":"\u813E","\u{2F984}":"\u440B","\u{2F8DA}":"\u6721","\u{2F987}":"\u{267A7}","\u{2F988}":"\u{267B5}",\u6726:"\u4443",\uF926:"\u81D8","\u2F82":"\u81E3",\uF9F6:"\u81E8","\u2F83":"\u81EA","\uFA5C":"\u81ED","\u2F84":"\u81F3","\u2F85":"\u81FC","\u{2F893}":"\u8201","\u{2F98B}":"\u8201","\u{2F98C}":"\u8204","\u2F86":"\u820C","\uFA6D":"\u8218","\u2F87":"\u821B","\u2F88":"\u821F","\u{2F98E}":"\u446B","\u2F89":"\u826E",\uF97C:"\u826F","\u2F8A":"\u8272","\u2F8B":"\u8278","\uFA5D":"\u8279","\uFA5E":"\u8279","\u2EBE":"\u8279","\u2EBF":"\u8279","\u2EC0":"\u8279","\u{2F990}":"\u828B","\u{2F98F}":"\u8291","\u{2F991}":"\u829D","\u{2F993}":"\u82B1","\u{2F994}":"\u82B3","\u{2F995}":"\u82BD",\uF974:"\u82E5","\u{2F998}":"\u82E5","\u{2F996}":"\u82E6","\u{2F997}":"\u{26B3C}",\uF9FE:"\u8336","\uFAB3":"\u8352","\u{2F99A}":"\u8363","\u{2F999}":"\u831D","\u{2F99C}":"\u8323","\u{2F99D}":"\u83BD","\u{2F9A0}":"\u8353",\uF93E:"\u83C9","\u{2F9A1}":"\u83CA","\u{2F9A2}":"\u83CC","\u{2F9A3}":"\u83DC","\u{2F99E}":"\u83E7","\uFAB4":"\u83EF",\uF958:"\u83F1","\uFA5F":"\u8457","\u{2F99F}":"\u8457","\u{2F9A4}":"\u{26C36}","\u{2F99B}":"\u83AD",\uF918:"\u843D",\uF96E:"\u8449",\u853F:"\u848D","\u{2F9A6}":"\u{26CD5}","\u{2F9A5}":"\u{26D6B}",\uF999:"\u84EE","\u{2F9A8}":"\u84F1","\u{2F9A9}":"\u84F3",\uF9C2:"\u84FC","\u{2F9AA}":"\u8516","\u{2F9A7}":"\u452B","\u{2F9AC}":"\u8564","\u{2F9AD}":"\u{26F2C}",\uF923:"\u85CD","\u{2F9AE}":"\u455D","\u{2F9B0}":"\u{26FB1}","\u{2F9AF}":"\u4561",\uF9F0:"\u85FA",\uF935:"\u8606","\u{2F9B2}":"\u456B",\uFA20:"\u8612",\uF91F:"\u862D","\u{2F9B1}":"\u{270D2}",\u8641:"\u8637",\uF910:"\u863F","\u2F8C":"\u864D","\u2EC1":"\u864E","\u{2F9B3}":"\u8650",\uF936:"\u865C","\u{2F9B4}":"\u865C","\u{2F9B5}":"\u8667","\u{2F9B6}":"\u8669","\u2F8D":"\u866B","\u{2F9B7}":"\u86A9","\u{2F9B8}":"\u8688","\u{2F9BA}":"\u86E2","\u{2F9B9}":"\u870E","\u{2F9BC}":"\u8728","\u{2F9BD}":"\u876B","\u{2F9C0}":"\u87E1","\uFAB5":"\u8779","\u{2F9BB}":"\u8779","\u{2F9BE}":"\u8786","\u{2F9BF}":"\u45D7","\u{2F9AB}":"\u{273CA}",\uF911:"\u87BA","\u{2F9C1}":"\u8801","\u{2F9C2}":"\u45F9",\uF927:"\u881F","\u2F8E":"\u8840",\uFA08:"\u884C","\u2F8F":"\u884C","\u{2F9C3}":"\u8860","\u{2F9C4}":"\u8863","\u2F90":"\u8863","\u2EC2":"\u8864",\uF9A0:"\u88C2","\u{2F9C5}":"\u{27667}",\uF9E7:"\u88CF","\u{2F9C6}":"\u88D7","\u{2F9C7}":"\u88DE",\uF9E8:"\u88E1",\uF912:"\u88F8","\u{2F9C9}":"\u88FA","\u{2F9C8}":"\u4635","\uFA60":"\u8910","\uFAB6":"\u8941",\uF924:"\u8964","\u2F91":"\u897E","\u2EC4":"\u897F","\u2EC3":"\u8980","\uFAB7":"\u8986",\uFA0A:"\u898B","\u2F92":"\u898B","\u{2F9CB}":"\u{278AE}","\u2EC5":"\u89C1","\u2F93":"\u89D2","\u2F94":"\u8A00","\u{2F9CC}":"\u{27966}",\u8A7D:"\u8A2E",\u8A1E:"\u46B6","\u{2F9CD}":"\u46BE","\u{2F9CE}":"\u46C7","\u{2F9CF}":"\u8AA0",\uF96F:"\u8AAA",\uF9A1:"\u8AAA","\uFAB9":"\u8ABF","\uFABB":"\u8ACB",\uF97D:"\u8AD2",\uF941:"\u8AD6","\uFABE":"\u8AED","\u{2F9D0}":"\u8AED",\uFA22:"\u8AF8","\uFABA":"\u8AF8",\uF95D:"\u8AFE","\uFABD":"\u8AFE","\uFA62":"\u8B01","\uFABC":"\u8B01","\uFA63":"\u8B39","\uFABF":"\u8B39",\uF9FC:"\u8B58",\uF95A:"\u8B80",\u8B8F:"\u8B86","\uFAC0":"\u8B8A","\u{2F9D1}":"\u8B8A","\u2EC8":"\u8BA0","\u2F95":"\u8C37","\u2F96":"\u8C46",\uF900:"\u8C48","\u{2F9D2}":"\u8C55","\u2F97":"\u8C55",\u8C63:"\u8C5C","\u2F98":"\u8C78","\u{2F9D3}":"\u{27CA8}","\u2F99":"\u8C9D","\u{2F9D4}":"\u8CAB","\u{2F9D5}":"\u8CC1",\uF948:"\u8CC2",\uF903:"\u8CC8","\uFA64":"\u8CD3","\uFA65":"\u8D08","\uFAC1":"\u8D08","\u{2F9D6}":"\u8D1B","\u2EC9":"\u8D1D","\u2F9A":"\u8D64","\u2F9B":"\u8D70","\u{2F9D7}":"\u8D77",\u8D86:"\u8D7F","\uFAD7":"\u{27ED3}","\u{2F9D8}":"\u{27F2F}","\u2F9C":"\u8DB3","\u{2F9DA}":"\u8DCB","\u{2F9DB}":"\u8DBC",\u8DFA:"\u8DE5",\uF937:"\u8DEF","\u{2F9DC}":"\u8DF0",\u8E9B:"\u8E97","\u2F9D":"\u8EAB",\uF902:"\u8ECA","\u2F9E":"\u8ECA","\u{2F9DE}":"\u8ED4",\u8F27:"\u8EFF",\uF998:"\u8F26",\uF9D7:"\u8F2A","\uFAC2":"\u8F38","\u{2F9DF}":"\u8F38",\uFA07:"\u8F3B",\uF98D:"\u8F62","\u2ECB":"\u8F66","\u2F9F":"\u8F9B","\u{2F98D}":"\u8F9E",\uF971:"\u8FB0","\u2FA0":"\u8FB0","\u2FA1":"\u8FB5","\uFA66":"\u8FB6","\u2ECC":"\u8FB6","\u2ECD":"\u8FB6","\u{2F881}":"\u5DE1",\uF99A:"\u9023",\uFA25:"\u9038","\uFA67":"\u9038","\uFAC3":"\u9072",\uF9C3:"\u907C","\u{2F9E0}":"\u{285D2}","\u{2F9E1}":"\u{285ED}",\uF913:"\u908F","\u2FA2":"\u9091","\u{2F9E2}":"\u9094",\uF92C:"\u90CE",\u90DE:"\u90CE","\uFA2E":"\u90CE","\u{2F9E3}":"\u90F1",\uFA26:"\u90FD","\u{2F9E5}":"\u{2872E}","\u{2F9E4}":"\u9111","\u{2F9E6}":"\u911B","\u2FA3":"\u9149",\uF919:"\u916A","\uFAC4":"\u9199",\uF9B7:"\u91B4","\u2FA4":"\u91C6",\uF9E9:"\u91CC","\u2FA5":"\u91CC",\uF97E:"\u91CF",\uF90A:"\u91D1","\u2FA6":"\u91D1",\uF9B1:"\u9234","\u{2F9E7}":"\u9238","\uFAC5":"\u9276","\u{2F9E8}":"\u92D7","\u{2F9E9}":"\u92D8","\u{2F9EA}":"\u927C",\uF93F:"\u9304",\uF99B:"\u934A",\u93AE:"\u93AD","\u{2F9EB}":"\u93F9","\u{2F9EC}":"\u9415","\u{2F9ED}":"\u{28BFA}","\u2ED0":"\u9485","\u2ED1":"\u9577","\u2FA7":"\u9577","\u2ED2":"\u9578","\u2ED3":"\u957F","\u2FA8":"\u9580","\u{2F9EE}":"\u958B","\u{2F9EF}":"\u4995",\uF986:"\u95AD","\u{2F9F0}":"\u95B7","\u{2F9F1}":"\u{28D77}","\u2ED4":"\u95E8","\u2FA9":"\u961C","\u2ECF":"\u961D","\u2ED6":"\u961D",\uF9C6:"\u962E",\uF951:"\u964B",\uFA09:"\u964D",\uF959:"\u9675",\uF9D3:"\u9678","\uFAC6":"\u967C",\uF9DC:"\u9686",\uF9F1:"\u96A3","\u{2F9F2}":"\u49E6","\u2FAA":"\u96B6","\uFA2F":"\u96B7",\u96B8:"\u96B7",\uF9B8:"\u96B7","\u2FAB":"\u96B9","\u{2F9F3}":"\u96C3",\uF9EA:"\u96E2","\uFA68":"\u96E3","\uFAC7":"\u96E3","\u2FAC":"\u96E8",\uF9B2:"\u96F6",\uF949:"\u96F7","\u{2F9F5}":"\u9723","\u{2F9F6}":"\u{29145}",\uF938:"\u9732",\uF9B3:"\u9748","\u2FAD":"\u9751","\u2ED8":"\u9752",\uFA1C:"\u9756","\uFAC8":"\u9756","\u{2F81C}":"\u{291DF}","\u2FAE":"\u975E","\u2FAF":"\u9762","\u{2F9F7}":"\u{2921A}","\u2FB0":"\u9769","\u{2F9F8}":"\u4A6E","\u{2F9F9}":"\u4A76","\u2FB1":"\u97CB","\uFAC9":"\u97DB","\u{2F9FA}":"\u97E0","\u2ED9":"\u97E6","\u2FB2":"\u97ED","\u{2F9FB}":"\u{2940A}","\u2FB3":"\u97F3","\uFA69":"\u97FF","\uFACA":"\u97FF","\u2FB4":"\u9801","\u{2F9FC}":"\u4AB2","\uFACB":"\u980B","\u{2F9FE}":"\u980B","\u{2F9FF}":"\u980B",\uF9B4:"\u9818","\u{2FA00}":"\u9829","\u{2F9FD}":"\u{29496}","\uFA6A":"\u983B","\uFACC":"\u983B",\uF9D0:"\u985E","\u2EDA":"\u9875","\u2FB5":"\u98A8","\u{2FA01}":"\u{295B6}","\u2EDB":"\u98CE","\u2FB6":"\u98DB","\u2EDC":"\u98DE","\u2EDD":"\u98DF","\u2FB7":"\u98DF","\u2EDF":"\u98E0","\u{2FA02}":"\u98E2",\uFA2A:"\u98EF",\uFA2B:"\u98FC","\u{2FA03}":"\u4B33",\uFA2C:"\u9928","\u{2FA04}":"\u9929","\u2EE0":"\u9963","\u2FB8":"\u9996","\u2FB9":"\u9999","\u{2FA05}":"\u99A7","\u2FBA":"\u99AC","\u{2FA06}":"\u99C2",\uF91A:"\u99F1","\u{2FA07}":"\u99FE",\uF987:"\u9A6A","\u2EE2":"\u9A6C","\u2FBB":"\u9AA8","\u{2FA08}":"\u4BCE","\u2FBC":"\u9AD8","\u2FBD":"\u9ADF","\u{2FA09}":"\u{29B30}","\uFACD":"\u9B12","\u{2FA0A}":"\u9B12","\u2FBE":"\u9B25","\u2FBF":"\u9B2F","\u2FC0":"\u9B32","\u2FC1":"\u9B3C","\u2EE4":"\u9B3C","\u2FC2":"\u9B5A",\uF939:"\u9B6F","\u{2FA0B}":"\u9C40",\uF9F2:"\u9C57","\u2EE5":"\u9C7C","\u2FC3":"\u9CE5","\u{2FA0C}":"\u9CFD","\u{2FA0D}":"\u4CCE","\u{2FA0F}":"\u9D67","\u{2FA0E}":"\u4CED","\u{2FA10}":"\u{2A0CE}",\uFA2D:"\u9DB4","\u{2FA12}":"\u{2A105}","\u{2FA11}":"\u4CF8",\uF93A:"\u9DFA","\u{2FA13}":"\u{2A20E}",\uF920:"\u9E1E",\u9E43:"\u9E42","\u2FC4":"\u9E75",\uF940:"\u9E7F","\u2FC5":"\u9E7F","\u{2FA14}":"\u{2A291}",\uF988:"\u9E97",\uF9F3:"\u9E9F","\u2FC6":"\u9EA5","\u2EE8":"\u9EA6","\u{2FA15}":"\u9EBB","\u2FC7":"\u9EBB","\u{2F88F}":"\u{2A392}","\u2FC8":"\u9EC3","\u2EE9":"\u9EC4","\u2FC9":"\u9ECD",\uF989:"\u9ECE","\u{2FA16}":"\u4D56","\u2FCA":"\u9ED1",\u9ED2:"\u9ED1","\uFA3A":"\u58A8","\u{2FA17}":"\u9EF9","\u2FCB":"\u9EF9","\u2FCC":"\u9EFD","\u{2FA19}":"\u9F05","\u{2FA18}":"\u9EFE","\u2FCD":"\u9F0E","\u{2FA1A}":"\u9F0F","\u2FCE":"\u9F13","\u{2FA1B}":"\u9F16","\u2FCF":"\u9F20","\u{2FA1C}":"\u9F3B","\u2FD0":"\u9F3B","\uFAD8":"\u9F43","\u2FD1":"\u9F4A","\u2EEC":"\u9F50","\u2FD2":"\u9F52","\u{2FA1D}":"\u{2A600}","\u2EEE":"\u9F7F",\uF9C4:"\u9F8D","\u2FD3":"\u9F8D","\uFAD9":"\u9F8E","\u2EF0":"\u9F99",\uF907:"\u9F9C",\uF908:"\u9F9C","\uFACE":"\u9F9C","\u2FD4":"\u9F9C","\u2EF3":"\u9F9F","\u2FD5":"\u9FA0"},ZX=nle;function rle(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var ile=RegExp(Object.keys(ZX).map(rle).join("|"),"g");function sle(t){return ZX[t]}function ole(t){return t.replace(ile,sle)}var ale=ole,KR={exports:{}},JX={};function pu(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var lle=pu;pu.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};pu.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};pu.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};pu.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};pu.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};pu.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};pu.prototype.start=pu.prototype.try;pu.prototype.errors=function(){return this._errors};pu.prototype.attempts=function(){return this._attempts};pu.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=n&&(e=i,n=o)}return e};(function(t){var e=lle;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<r.retries;o++)s.push(this.createTimeout(o,r));return n&&n.forever&&!s.length&&s.push(this.createTimeout(o,r)),s.sort(function(l,d){return l-d}),s},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return s=Math.min(s,r.maxTimeout),s},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in n)typeof n[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var l=i[o],d=n[l];n[l]=function(f){var v=t.operation(r),w=Array.prototype.slice.call(arguments,1),E=w.pop();w.push(function(C){v.retry(C)||(C&&(arguments[0]=v.mainError()),E.apply(this,arguments))}),v.attempt(function(){f.apply(n,w)})}.bind(n,d),n[l].options=r}}})(JX);var cle=JX;const ule=cle,dle=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class QX extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const fle=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t},hle=t=>dle.includes(t),eZ=(t,e)=>new Promise((n,r)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=ule.operation(e);i.attempt(async s=>{try{n(await t(s))}catch(o){if(!(o instanceof Error)){r(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof QX)i.stop(),r(o.originalError);else if(o instanceof TypeError&&!hle(o.message))i.stop(),r(o);else{fle(o,s,e);try{await e.onFailedAttempt(o)}catch(l){r(l);return}i.retry(o)||r(i.mainError())}}})});KR.exports=eZ;KR.exports.default=eZ;KR.exports.AbortError=QX;var tZ=KR.exports;class nZ{constructor(e,n){if(this.stable=e,this.unstable=n,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}get name(){return this.stable?this.stable:this.unstable}get altName(){return this.stable?this.unstable:null}get names(){const e=[this.name],n=this.altName;return n&&e.push(n),e}matches(e){return this.name===e||this.altName===e}findIn(e){let n;return this.name&&(n=e==null?void 0:e[this.name]),!n&&this.altName&&(n=e==null?void 0:e[this.altName]),n}includedIn(e){let n=!1;return this.name&&(n=e.includes(this.name)),!n&&this.altName&&(n=e.includes(this.altName)),n}}class zR extends nZ{constructor(){super(...arguments),this.preferUnstable=!1}setPreferUnstable(e){this.preferUnstable=e}get name(){return this.stable&&!this.preferUnstable?this.stable:this.unstable}}class js extends nZ{constructor(e,n){if(super(e,n),!this.unstable)throw new Error("Unstable value must be supplied")}get name(){return this.unstable}get altName(){return this.stable}}var P3=(t=>(t.Self="m.self",t.Pin="m.pin",t))(P3||{});const qR=new js("m.asset","org.matrix.msc3488.asset"),nv=new js("m.ts","org.matrix.msc3488.ts"),VR=new js("m.location","org.matrix.msc3488.location");var Cc=(t=>(t.Read="m.read",t.FullyRead="m.fully_read",t.ReadPrivate="m.read.private",t))(Cc||{});const hD=new Map;function pD(t){return t instanceof String&&(t=t.toString()),hD.has(t)||hD.set(t,t),hD.get(t)}function mS(t,e){const n=e!=null?e:new URLSearchParams;for(const[r,i]of Object.entries(t))i!=null&&(Array.isArray(i)?i.forEach(s=>{n.append(r,String(s))}):n.append(r,String(i)));return n}function Zn(t,e){for(const n in e)!e.hasOwnProperty(n)||(t=t.replace(n,encodeURIComponent(e[n])));return t}function SI(t,e,n){let r;if(n){for(r=t.length-1;r>=0;r--)if(e(t[r],r,t))return t.splice(r,1),!0}else for(r=0;r<t.length;r++)if(e(t[r],r,t))return t.splice(r,1),!0;return!1}function rZ(t,e){for(let n=0;n<e.length;n++)if(!t.hasOwnProperty(e[n]))throw new Error("Missing required key: "+e[n])}function GR(t){return JSON.parse(JSON.stringify(t))}function D3(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="number"&&isNaN(t)&&isNaN(e))return!0;if(t===null||e===null)return t===e;if(!(t instanceof Object)||t.constructor!==e.constructor||t.prototype!==e.prototype)return!1;if(t instanceof RegExp||t instanceof Date)return t.toString()===e.toString();if(t instanceof Array){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!D3(t[n],e[n]))return!1}else{for(const n in e)if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;for(const n in t)if(e.hasOwnProperty(n)!==t.hasOwnProperty(n)||!D3(t[n],e[n]))return!1}return!0}function kB(t){if(typeof t!="object"||t==null||Array.isArray(t))return t;const e=[];for(const[n,r]of Object.entries(t))e.push([n,kB(r)]);return e.sort((n,r)=>$C(n[0],r[0])),e}function YK(t){return typeof t=="number"&&isFinite(t)}function xy(t){return typeof t=="string"?ale(t.normalize("NFD").replace(gle,"")):""}function TB(t){return typeof t=="string"?t.replace(/[\u202d-\u202e]/g,""):""}function ple(t){return xy(t.toLowerCase()).replace(/[\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~\u2000-\u206f\u2e00-\u2e7f]/g,"").toLowerCase()}const gle=/[\u2000-\u200F\u202A-\u202F\u0300-\u036F\uFEFF\u061C\u2800\u2062-\u2063\s]/g;function iZ(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sZ(t,e=!1){return[[/\\\*/g,".*"],[/\?/g,"."],!e&&[/\\\[(!|)(.*)\\]/g,(r,i,s)=>["[",i?"^":"",s.replace(/\\-/,"-"),"]"].join("")]].reduce((r,i)=>i?r.replace(i[0],i[1]):r,iZ(t))}function gD(t){return t&&t.endsWith("/")?t.slice(0,-1):t}function N3(t,e){return new Promise(n=>{setTimeout(n,t,e)})}function oZ(t){return t==null}function rv(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return{resolve:t,reject:e,promise:n}}async function oy(t,e){for(const n of t)await e(await n)}function ny(t){return Promise.resolve(t())}async function mle(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(...await Promise.all(t.slice(r,r+e).map(i=>i())));return n}function yle(t){return tZ(e=>t(e),{forever:!0,factor:2,minTimeout:3e3,maxTimeout:15e3})}const Ug=(()=>{let t="";for(let e=32;e<=126;e++)t+=String.fromCharCode(e);return t})();function XK(t,e,n=Ug){return t.padEnd(e,n[0])}function JS(t,e=Ug){var s;const n=BigInt(e.length);if(t<=n)return(s=e[Number(t)-1])!=null?s:"";let r=t/n,i=Number(t%n)-1;return i<0&&(r-=BigInt(Math.abs(i)),i=Number(n)-1),JS(r,e)+e[i]}function xI(t,e=Ug){const n=BigInt(e.length);let r=BigInt(0);for(let i=t.length-1,s=BigInt(0);i>=0;i--,s++){const o=t.charCodeAt(i)-e.charCodeAt(0);r+=BigInt(1+o)*n**s}return r}function vle(t,e,n=Ug){const r=Math.max(t.length,e.length),i=xI(XK(t,r,n),n),s=xI(XK(e,r,n),n),o=(i+s)/BigInt(2);return o===i||o==s?JS(o,n)+n[0]:JS(o,n)}function dE(t,e=Ug){return JS(xI(t,e)+BigInt(1),e)}function ZK(t,e=Ug){return JS(xI(t,e)-BigInt(1),e)}function $C(t,e){return t<e?-1:t>e?1:0}const ble=new Intl.Collator;function _le(t,e){return ble.compare(t,e)}function aZ(t,e,n=!1){for(const[r,i]of Object.entries(e)){if(t[r]instanceof Object&&i){aZ(t[r],i);continue}if(i!=null||!n){t[r]=i;continue}}return t}function JK(t){var e;return(e=nv.findIn(t.getContent()))!=null?e:-1}function wle(t,e){return JK(e)-JK(t)}function yU(t){return[Cc.Read,Cc.ReadPrivate].includes(t)}class qx{constructor(){this.outgoingRoomKeyRequests=[],this.account=null,this.crossSigningKeys=null,this.privateKeys={},this.sessions={},this.sessionProblems={},this.notifiedErrorDevices={},this.inboundGroupSessions={},this.inboundGroupSessionsWithheld={},this.deviceData=null,this.rooms={},this.sessionsNeedingBackup={},this.sharedHistoryInboundGroupSessions={},this.parkedSharedHistory=new Map}async startup(){return this}deleteAllData(){return Promise.resolve()}getOrAddOutgoingRoomKeyRequest(e){const n=e.requestBody;return ny(()=>{const r=this._getOutgoingRoomKeyRequest(n);return r?(V.log(`already have key request outstanding for ${n.room_id} / ${n.session_id}: not sending another`),r):(V.log(`enqueueing key request for ${n.room_id} / `+n.session_id),this.outgoingRoomKeyRequests.push(e),e)})}getOutgoingRoomKeyRequest(e){return Promise.resolve(this._getOutgoingRoomKeyRequest(e))}_getOutgoingRoomKeyRequest(e){for(const n of this.outgoingRoomKeyRequests)if(D3(n.requestBody,e))return n;return null}getOutgoingRoomKeyRequestByState(e){for(const n of this.outgoingRoomKeyRequests)for(const r of e)if(n.state===r)return Promise.resolve(n);return Promise.resolve(null)}getAllOutgoingRoomKeyRequestsByState(e){return Promise.resolve(this.outgoingRoomKeyRequests.filter(n=>n.state==e))}getOutgoingRoomKeyRequestsByTarget(e,n,r){const i=[];for(const s of this.outgoingRoomKeyRequests)for(const o of r)s.state===o&&s.recipients.some(l=>l.userId===e&&l.deviceId===n)&&i.push(s);return Promise.resolve(i)}updateOutgoingRoomKeyRequest(e,n,r){for(const i of this.outgoingRoomKeyRequests)if(i.requestId===e)return i.state!==n?(V.warn(`Cannot update room key request from ${n} as it was already updated to ${i.state}`),Promise.resolve(null)):(Object.assign(i,r),Promise.resolve(i));return Promise.resolve(null)}deleteOutgoingRoomKeyRequest(e,n){for(let r=0;r<this.outgoingRoomKeyRequests.length;r++){const i=this.outgoingRoomKeyRequests[r];if(i.requestId===e)return i.state!=n?(V.warn(`Cannot delete room key request in state ${i.state} (expected ${n})`),Promise.resolve(null)):(this.outgoingRoomKeyRequests.splice(r,1),Promise.resolve(i))}return Promise.resolve(null)}getAccount(e,n){n(this.account)}storeAccount(e,n){this.account=n}getCrossSigningKeys(e,n){n(this.crossSigningKeys)}getSecretStorePrivateKey(e,n,r){const i=this.privateKeys[r];n(i||null)}storeCrossSigningKeys(e,n){this.crossSigningKeys=n}storeSecretStorePrivateKey(e,n,r){this.privateKeys[n]=r}countEndToEndSessions(e,n){n(Object.keys(this.sessions).length)}getEndToEndSession(e,n,r,i){const s=this.sessions[e]||{};i(s[n]||null)}getEndToEndSessions(e,n,r){r(this.sessions[e]||{})}getAllEndToEndSessions(e,n){Object.entries(this.sessions).forEach(([r,i])=>{Object.entries(i).forEach(([s,o])=>{n({...o,deviceKey:r,sessionId:s})})})}storeEndToEndSession(e,n,r,i){let s=this.sessions[e];s===void 0&&(s={},this.sessions[e]=s),s[n]=r}async storeEndToEndSessionProblem(e,n,r){const i=this.sessionProblems[e]=this.sessionProblems[e]||[];i.push({type:n,fixed:r,time:Date.now()}),i.sort((s,o)=>s.time-o.time)}async getEndToEndSessionProblem(e,n){const r=this.sessionProblems[e]||[];if(!r.length)return null;const i=r[r.length-1];for(const s of r)if(s.time>n)return Object.assign({},s,{fixed:i.fixed});return i.fixed?null:i}async filterOutNotifiedErrorDevices(e){const n=this.notifiedErrorDevices,r=[];for(const i of e){const{userId:s,deviceInfo:o}=i;s in n?o.deviceId in n[s]||(r.push(i),n[s][o.deviceId]=!0):(r.push(i),n[s]={[o.deviceId]:!0})}return r}getEndToEndInboundGroupSession(e,n,r,i){const s=e+"/"+n;i(this.inboundGroupSessions[s]||null,this.inboundGroupSessionsWithheld[s]||null)}getAllEndToEndInboundGroupSessions(e,n){for(const r of Object.keys(this.inboundGroupSessions))n({senderKey:r.slice(0,43),sessionId:r.slice(44),sessionData:this.inboundGroupSessions[r]});n(null)}addEndToEndInboundGroupSession(e,n,r,i){const s=e+"/"+n;this.inboundGroupSessions[s]===void 0&&(this.inboundGroupSessions[s]=r)}storeEndToEndInboundGroupSession(e,n,r,i){this.inboundGroupSessions[e+"/"+n]=r}storeEndToEndInboundGroupSessionWithheld(e,n,r,i){const s=e+"/"+n;this.inboundGroupSessionsWithheld[s]=r}getEndToEndDeviceData(e,n){n(this.deviceData)}storeEndToEndDeviceData(e,n){this.deviceData=e}storeEndToEndRoom(e,n,r){this.rooms[e]=n}getEndToEndRooms(e,n){n(this.rooms)}getSessionsNeedingBackup(e){const n=[];for(const r in this.sessionsNeedingBackup)if(this.inboundGroupSessions[r]&&(n.push({senderKey:r.slice(0,43),sessionId:r.slice(44),sessionData:this.inboundGroupSessions[r]}),e&&r.length>=e))break;return Promise.resolve(n)}countSessionsNeedingBackup(){return Promise.resolve(Object.keys(this.sessionsNeedingBackup).length)}unmarkSessionsNeedingBackup(e){for(const n of e){const r=n.senderKey+"/"+n.sessionId;delete this.sessionsNeedingBackup[r]}return Promise.resolve()}markSessionsNeedingBackup(e){for(const n of e){const r=n.senderKey+"/"+n.sessionId;this.sessionsNeedingBackup[r]=!0}return Promise.resolve()}addSharedHistoryInboundGroupSession(e,n,r){const i=this.sharedHistoryInboundGroupSessions[e]||[];i.push([n,r]),this.sharedHistoryInboundGroupSessions[e]=i}getSharedHistoryInboundGroupSessions(e){return Promise.resolve(this.sharedHistoryInboundGroupSessions[e]||[])}addParkedSharedHistory(e,n){var i;const r=(i=this.parkedSharedHistory.get(e))!=null?i:[];r.push(n),this.parkedSharedHistory.set(e,r)}takeParkedSharedHistory(e){var r;const n=(r=this.parkedSharedHistory.get(e))!=null?r:[];return this.parkedSharedHistory.delete(e),Promise.resolve(n)}doTxn(e,n,r){return Promise.resolve(r(null))}}var iv={exports:{}},d3=typeof Reflect=="object"?Reflect:null,QK=d3&&typeof d3.apply=="function"?d3.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},FC;d3&&typeof d3.ownKeys=="function"?FC=d3.ownKeys:Object.getOwnPropertySymbols?FC=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:FC=function(e){return Object.getOwnPropertyNames(e)};function Ele(t){console&&console.warn&&console.warn(t)}var lZ=Number.isNaN||function(e){return e!==e};function Gi(){Gi.init.call(this)}iv.exports=Gi;iv.exports.once=Tle;Gi.EventEmitter=Gi;Gi.prototype._events=void 0;Gi.prototype._eventsCount=0;Gi.prototype._maxListeners=void 0;var ez=10;function WR(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Gi,"defaultMaxListeners",{enumerable:!0,get:function(){return ez},set:function(t){if(typeof t!="number"||t<0||lZ(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ez=t}});Gi.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Gi.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||lZ(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function cZ(t){return t._maxListeners===void 0?Gi.defaultMaxListeners:t._maxListeners}Gi.prototype.getMaxListeners=function(){return cZ(this)};Gi.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var d=s[e];if(d===void 0)return!1;if(typeof d=="function")QK(d,this,n);else for(var h=d.length,f=pZ(d,h),r=0;r<h;++r)QK(f[r],this,n);return!0};function uZ(t,e,n,r){var i,s,o;if(WR(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=cZ(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,Ele(l)}return t}Gi.prototype.addListener=function(e,n){return uZ(this,e,n,!1)};Gi.prototype.on=Gi.prototype.addListener;Gi.prototype.prependListener=function(e,n){return uZ(this,e,n,!0)};function Sle(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dZ(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Sle.bind(r);return i.listener=n,r.wrapFn=i,i}Gi.prototype.once=function(e,n){return WR(n),this.on(e,dZ(this,e,n)),this};Gi.prototype.prependOnceListener=function(e,n){return WR(n),this.prependListener(e,dZ(this,e,n)),this};Gi.prototype.removeListener=function(e,n){var r,i,s,o,l;if(WR(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():xle(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Gi.prototype.off=Gi.prototype.removeListener;Gi.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function fZ(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?kle(i):pZ(i,i.length)}Gi.prototype.listeners=function(e){return fZ(this,e,!0)};Gi.prototype.rawListeners=function(e){return fZ(this,e,!1)};Gi.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):hZ.call(t,e)};Gi.prototype.listenerCount=hZ;function hZ(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Gi.prototype.eventNames=function(){return this._eventsCount>0?FC(this._events):[]};function pZ(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function xle(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function kle(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Tle(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}gZ(t,e,s,{once:!0}),e!=="error"&&Cle(t,i,{once:!0})})}function Cle(t,e,n){typeof t.on=="function"&&gZ(t,"error",e,n)}function gZ(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ile=iv.exports,mZ=(t=>(t.NewListener="newListener",t.RemoveListener="removeListener",t.Error="error",t))(mZ||{});class Do extends iv.exports.EventEmitter{addListener(e,n){return super.addListener(e,n)}emit(e,...n){return super.emit(e,...n)}eventNames(){return super.eventNames()}listenerCount(e){return super.listenerCount(e)}listeners(e){return super.listeners(e)}off(e,n){return super.off(e,n)}on(e,n){return super.on(e,n)}once(e,n){return super.once(e,n)}prependListener(e,n){return super.prependListener(e,n)}prependOnceListener(e,n){return super.prependOnceListener(e,n)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,n){return super.removeListener(e,n)}rawListeners(e){return super.rawListeners(e)}}var Ic=(t=>(t.DisplayName="User.displayName",t.AvatarUrl="User.avatarUrl",t.Presence="User.presence",t.CurrentlyActive="User.currentlyActive",t.LastPresenceTs="User.lastPresenceTs",t))(Ic||{});class aw extends Do{constructor(e){super(),this.userId=e,this.presenceStatusMsg=null,this.presence="offline",this.lastActiveAgo=0,this.lastPresenceTs=0,this.currentlyActive=!1,this.events={presence:null,profile:null},this.displayName=e,this.rawDisplayName=e,this.avatarUrl=null,this.updateModifiedTime()}setPresenceEvent(e){if(e.getType()!=="m.presence")return;const n=this.events.presence===null;this.events.presence=e;const r=[];(e.getContent().presence!==this.presence||n)&&r.push("User.presence"),e.getContent().avatar_url&&e.getContent().avatar_url!==this.avatarUrl&&r.push("User.avatarUrl"),e.getContent().displayname&&e.getContent().displayname!==this.displayName&&r.push("User.displayName"),e.getContent().currently_active!==void 0&&e.getContent().currently_active!==this.currentlyActive&&r.push("User.currentlyActive"),this.presence=e.getContent().presence,r.push("User.lastPresenceTs"),e.getContent().status_msg&&(this.presenceStatusMsg=e.getContent().status_msg),e.getContent().displayname&&(this.displayName=e.getContent().displayname),e.getContent().avatar_url&&(this.avatarUrl=e.getContent().avatar_url),this.lastActiveAgo=e.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=e.getContent().currently_active,this.updateModifiedTime();for(let i=0;i<r.length;i++)this.emit(r[i],e,this)}setDisplayName(e){const n=this.displayName;typeof e=="string"?this.displayName=e:this.displayName=void 0,e!==n&&this.updateModifiedTime()}setRawDisplayName(e){typeof e=="string"?this.rawDisplayName=e:this.rawDisplayName=void 0}setAvatarUrl(e){const n=this.avatarUrl;this.avatarUrl=e,e!==n&&this.updateModifiedTime()}updateModifiedTime(){this.modified=Date.now()}getLastModifiedTime(){return this.modified}getLastActiveTs(){return this.lastPresenceTs-this.lastActiveAgo}}function YR(t,e,n,r,i,s=!1){if(typeof e!="string"||!e)return"";if(e.indexOf("mxc://")!==0)return s?e:"";let o=e.slice(6),l="/_matrix/media/r0/download/";const d={};n&&(d.width=Math.round(n).toString()),r&&(d.height=Math.round(r).toString()),i&&(d.method=i),Object.keys(d).length>0&&(l="/_matrix/media/r0/thumbnail/");const h=o.indexOf("#");let f="";h>=0&&(f=o.slice(h),o=o.slice(0,h));const v=Object.keys(d).length===0?"":"?"+mS(d);return t+l+o+v+f}var Ot=(t=>(t.RoomCanonicalAlias="m.room.canonical_alias",t.RoomCreate="m.room.create",t.RoomJoinRules="m.room.join_rules",t.RoomMember="m.room.member",t.RoomThirdPartyInvite="m.room.third_party_invite",t.RoomPowerLevels="m.room.power_levels",t.RoomName="m.room.name",t.RoomTopic="m.room.topic",t.RoomAvatar="m.room.avatar",t.RoomPinnedEvents="m.room.pinned_events",t.RoomEncryption="m.room.encryption",t.RoomHistoryVisibility="m.room.history_visibility",t.RoomGuestAccess="m.room.guest_access",t.RoomServerAcl="m.room.server_acl",t.RoomTombstone="m.room.tombstone",t.RoomAliases="m.room.aliases",t.SpaceChild="m.space.child",t.SpaceParent="m.space.parent",t.RoomRedaction="m.room.redaction",t.RoomMessage="m.room.message",t.RoomMessageEncrypted="m.room.encrypted",t.Sticker="m.sticker",t.CallInvite="m.call.invite",t.CallCandidates="m.call.candidates",t.CallAnswer="m.call.answer",t.CallHangup="m.call.hangup",t.CallReject="m.call.reject",t.CallSelectAnswer="m.call.select_answer",t.CallNegotiate="m.call.negotiate",t.CallSDPStreamMetadataChanged="m.call.sdp_stream_metadata_changed",t.CallSDPStreamMetadataChangedPrefix="org.matrix.call.sdp_stream_metadata_changed",t.CallReplaces="m.call.replaces",t.CallAssertedIdentity="m.call.asserted_identity",t.CallAssertedIdentityPrefix="org.matrix.call.asserted_identity",t.KeyVerificationRequest="m.key.verification.request",t.KeyVerificationStart="m.key.verification.start",t.KeyVerificationCancel="m.key.verification.cancel",t.KeyVerificationMac="m.key.verification.mac",t.KeyVerificationDone="m.key.verification.done",t.RoomMessageFeedback="m.room.message.feedback",t.Reaction="m.reaction",t.Typing="m.typing",t.Receipt="m.receipt",t.Presence="m.presence",t.FullyRead="m.fully_read",t.Tag="m.tag",t.SpaceOrder="org.matrix.msc3230.space_order",t.PushRules="m.push_rules",t.Direct="m.direct",t.IgnoredUserList="m.ignored_user_list",t.RoomKey="m.room_key",t.RoomKeyRequest="m.room_key_request",t.ForwardedRoomKey="m.forwarded_room_key",t.Dummy="m.dummy",t.GroupCallPrefix="org.matrix.msc3401.call",t.GroupCallMemberPrefix="org.matrix.msc3401.call.member",t))(Ot||{}),Fs=(t=>(t.Annotation="m.annotation",t.Replace="m.replace",t.Reference="m.reference",t.Thread="m.thread",t))(Fs||{}),Xl=(t=>(t.Text="m.text",t.Emote="m.emote",t.Notice="m.notice",t.Image="m.image",t.File="m.file",t.Audio="m.audio",t.Location="m.location",t.Video="m.video",t.KeyVerificationRequest="m.key.verification.request",t))(Xl||{});const kI="type";var ky=(t=>(t.Space="m.space",t.UnstableCall="org.matrix.msc3417.call",t.ElementVideo="io.element.video",t))(ky||{});const CB=new js("m.room.purpose","org.matrix.msc3088.purpose"),IB=new js("m.enabled","org.matrix.msc3088.enabled"),RB=new js("m.data_tree","org.matrix.msc3089.data_tree"),yZ=new js("m.leaf","org.matrix.msc3089.leaf"),sp=new js("m.branch","org.matrix.msc3089.branch"),vZ=new js("m.room.marker","org.matrix.msc2716.marker"),bZ=new js("io.element.functional_members","io.element.functional_members"),hy=new js("m.visibility","org.matrix.msc3531.visibility"),MB=new js("enabled","org.matrix.msc3881.enabled"),Rle=new js("device_id","org.matrix.msc3881.device_id"),_Z=new js("m.local_notification_settings","org.matrix.msc3890.local_notification_settings");var Mc=(t=>(t.Membership="RoomMember.membership",t.Name="RoomMember.name",t.PowerLevel="RoomMember.powerLevel",t.Typing="RoomMember.typing",t))(Mc||{});class TI extends Do{constructor(e,n){super(),this.roomId=e,this.userId=n,this._isOutOfBand=!1,this.typing=!1,this.powerLevel=0,this.powerLevelNorm=0,this.user=null,this.membership=null,this.disambiguate=!1,this.events={member:null},this.name=n,this.rawDisplayName=n,this.updateModifiedTime()}markOutOfBand(){this._isOutOfBand=!0}isOutOfBand(){return this._isOutOfBand}setMembershipEvent(e,n){const r=e.getDirectionalContent().displayname;if(e.getType()!==Ot.RoomMember)return;this._isOutOfBand=!1,this.events.member=e;const i=this.membership;this.membership=e.getDirectionalContent().membership,this.membership===void 0&&V.trace(`membership event with membership undefined (forwardLooking: ${e.forwardLooking})!`,e.getContent(),"prevcontent is ",e.getPrevContent()),this.disambiguate=Lle(this.userId,r,n);const s=this.name;this.name=Ale(this.userId,r,n,this.disambiguate),this.rawDisplayName=TB(e.getDirectionalContent().displayname),(!this.rawDisplayName||!xy(this.rawDisplayName))&&(this.rawDisplayName=this.userId),i!==this.membership&&(this.updateModifiedTime(),this.emit("RoomMember.membership",e,this,i)),s!==this.name&&(this.updateModifiedTime(),this.emit("RoomMember.name",e,this,s))}setPowerLevelEvent(e){if(e.getType()!=="m.room.power_levels")return;const n=e.getDirectionalContent();let r=n.users_default||0;const i=n.users||{};Object.values(i).forEach(function(l){r=Math.max(r,l)});const s=this.powerLevel,o=this.powerLevelNorm;i[this.userId]!==void 0&&Number.isInteger(i[this.userId])?this.powerLevel=i[this.userId]:n.users_default!==void 0?this.powerLevel=n.users_default:this.powerLevel=0,this.powerLevelNorm=0,r>0&&(this.powerLevelNorm=this.powerLevel*100/r),(s!==this.powerLevel||o!==this.powerLevelNorm)&&(this.updateModifiedTime(),this.emit("RoomMember.powerLevel",e,this))}setTypingEvent(e){if(e.getType()!=="m.typing")return;const n=this.typing;this.typing=!1;const r=e.getContent().user_ids;!Array.isArray(r)||(r.indexOf(this.userId)!==-1&&(this.typing=!0),n!==this.typing&&(this.updateModifiedTime(),this.emit("RoomMember.typing",e,this)))}updateModifiedTime(){this._modified=Date.now()}getLastModifiedTime(){return this._modified}isKicked(){return this.membership==="leave"&&this.events.member.getSender()!==this.events.member.getStateKey()}getDMInviter(){if(this.events.member){const e=this.events.member;let n=e.getContent(),r=e.getSender();if(n.membership==="join"&&(n=e.getPrevContent(),r=e.getUnsigned().prev_sender),n.membership==="invite"&&n.is_direct)return r}}getAvatarUrl(e,n,r,i,s=!0,o){const l=this.getMxcAvatarUrl();if(!l&&!s)return null;const d=YR(e,l,n,r,i,o);return d||null}getMxcAvatarUrl(){return this.events.member?this.events.member.getDirectionalContent().avatar_url:this.user?this.user.avatarUrl:null}}const Mle=/@.+:.+/,Ole=/[\u200E\u200F\u202A-\u202F]/;function Lle(t,e,n){return!e||e===t||!xy(e)||!n?!1:!!(Mle.test(e)||Ole.test(e)||n.getUserIdsWithDisplayName(e).some(i=>i!==t))}function Ale(t,e,n,r){return r?TB(e)+" ("+t+")":!e||e===t||!xy(e)?t:TB(e)}var bf={},XR={},Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});Vx.NamespacedMap=void 0;function Ple(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Dle(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,l;return{s:function(){n=n.call(t)},n:function(){var h=n.next();return s=h.done,h},e:function(h){o=!0,l=h},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}}}function Dle(t,e){if(!!t){if(typeof t=="string")return tz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tz(t,e)}}function tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ble(t,e,n){return e&&nz(t.prototype,e),n&&nz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fle=function(){function t(e){if(Nle(this,t),$le(this,"internalMap",new Map),e){var n=Ple(e),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;this.set(i[0],i[1])}}catch(s){n.e(s)}finally{n.f()}}}return Ble(t,[{key:"get",value:function(n){return n.name&&this.internalMap.has(n.name)?this.internalMap.get(n.name):n.altName&&this.internalMap.has(n.altName)?this.internalMap.get(n.altName):null}},{key:"set",value:function(n,r){n.name&&this.internalMap.set(n.name,r),n.altName&&this.internalMap.set(n.altName,r)}},{key:"has",value:function(n){return!!this.get(n)}},{key:"delete",value:function(n){n.name&&this.internalMap.delete(n.name),n.altName&&this.internalMap.delete(n.altName)}},{key:"hasNamespaced",value:function(n){return this.internalMap.has(n)}},{key:"getNamespaced",value:function(n){return this.internalMap.get(n)}}]),t}();Vx.NamespacedMap=Fle;var wp={};function OB(t){return OB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OB(t)}Object.defineProperty(wp,"__esModule",{value:!0});wp.InvalidEventError=void 0;function rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ule(t,e,n){return e&&rz(t.prototype,e),n&&rz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}function Kle(t){var e=wZ();return function(){var r=ex(t),i;if(e){var s=ex(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return zle(this,i)}}function zle(t,e){if(e&&(OB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qle(t)}function qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LB(t){var e=typeof Map=="function"?new Map:void 0;return LB=function(r){if(r===null||!Vle(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return UC(r,arguments,ex(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),QS(i,r)},LB(t)}function UC(t,e,n){return wZ()?UC=Reflect.construct:UC=function(i,s,o){var l=[null];l.push.apply(l,s);var d=Function.bind.apply(i,l),h=new d;return o&&QS(h,o.prototype),h},UC.apply(null,arguments)}function wZ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vle(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function QS(t,e){return QS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},QS(t,e)}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}var Gle=function(t){jle(n,t);var e=Kle(n);function n(r){return Hle(this,n),e.call(this,r)}return Ule(n)}(LB(Error));wp.InvalidEventError=Gle;var lw={},If={},Xg={};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.ExtensibleEvent=void 0;function Wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yle(t,e,n){return e&&iz(t.prototype,e),n&&iz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Xle=function(){function t(e){Wle(this,t),this.wireFormat=e}return Yle(t,[{key:"wireContent",get:function(){return this.wireFormat.content}}]),t}();Xg.ExtensibleEvent=Xle;var Gx={};Object.defineProperty(Gx,"__esModule",{value:!0});Gx.isOptionalAString=Zle;Gx.isProvided=EZ;function Zle(t){return EZ(t)&&typeof t=="string"}function EZ(t){return t!=null}var Qs={},yd={};function AB(t){return AB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AB(t)}Object.defineProperty(yd,"__esModule",{value:!0});yd.UnstableValue=yd.NamespacedValue=void 0;function Jle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PB(t,e)}function PB(t,e){return PB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},PB(t,e)}function Qle(t){var e=nce();return function(){var r=CI(t),i;if(e){var s=CI(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ece(this,i)}}function ece(t,e){if(e&&(AB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tce(t)}function tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function CI(t){return CI=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},CI(t)}function SZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xZ(t,e,n){return e&&sz(t.prototype,e),n&&sz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var kZ=function(){function t(e,n){if(SZ(this,t),this.stable=e,this.unstable=n,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}return xZ(t,[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"matches",value:function(n){return!!this.name&&this.name===n||!!this.altName&&this.altName===n}},{key:"findIn",value:function(n){var r;return this.name&&(r=n==null?void 0:n[this.name]),!r&&this.altName&&(r=n==null?void 0:n[this.altName]),r}},{key:"includedIn",value:function(n){var r=!1;return this.name&&(r=n.includes(this.name)),!r&&this.altName&&(r=n.includes(this.altName)),r}}]),t}();yd.NamespacedValue=kZ;var rce=function(t){Jle(n,t);var e=Qle(n);function n(r,i){var s;if(SZ(this,n),s=e.call(this,r,i),!s.unstable)throw new Error("Unstable value must be supplied");return s}return xZ(n,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}]),n}(kZ);yd.UnstableValue=rce;Object.defineProperty(Qs,"__esModule",{value:!0});Qs.M_TEXT=Qs.M_NOTICE=Qs.M_MESSAGE=Qs.M_HTML=Qs.M_EMOTE=void 0;var Wx=yd,ice=new Wx.UnstableValue("m.message","org.matrix.msc1767.message");Qs.M_MESSAGE=ice;var sce=new Wx.UnstableValue("m.text","org.matrix.msc1767.text");Qs.M_TEXT=sce;var oce=new Wx.UnstableValue("m.html","org.matrix.msc1767.html");Qs.M_HTML=oce;var ace=new Wx.UnstableValue("m.emote","org.matrix.msc1767.emote");Qs.M_EMOTE=ace;var lce=new Wx.UnstableValue("m.notice","org.matrix.msc1767.notice");Qs.M_NOTICE=lce;var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.isEventTypeSame=cce;function cce(t,e){if(typeof t=="string")return typeof e=="string"?e===t:e.matches(t);if(typeof e=="string")return t.matches(e);var n=e,r=t;return n.matches(r.name)||n.matches(r.altName)}function DB(t){return DB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DB(t)}Object.defineProperty(If,"__esModule",{value:!0});If.MessageEvent=void 0;var uce=Xg,fE=Gx,mD=wp,Sc=Qs,dce=Ep;function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){ng(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hce(t,e,n){return e&&lz(t.prototype,e),n&&lz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NB(t,e)}function NB(t,e){return NB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},NB(t,e)}function gce(t){var e=yce();return function(){var r=II(t),i;if(e){var s=II(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mce(this,i)}}function mce(t,e){if(e&&(DB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HC(t)}function HC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function II(t){return II=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},II(t)}function ng(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vce=function(t){pce(n,t);var e=gce(n);function n(r){var i;fce(this,n),i=e.call(this,r),ng(HC(i),"text",void 0),ng(HC(i),"html",void 0),ng(HC(i),"renderings",void 0);var s=Sc.M_MESSAGE.findIn(i.wireContent),o=Sc.M_TEXT.findIn(i.wireContent),l=Sc.M_HTML.findIn(i.wireContent);if((0,fE.isProvided)(s)){if(!Array.isArray(s))throw new mD.InvalidEventError("m.message contents must be an array");var d=s.find(function(f){return!(0,fE.isProvided)(f.mimetype)||f.mimetype==="text/plain"}),h=s.find(function(f){return f.mimetype==="text/html"});if(!d)throw new mD.InvalidEventError("m.message is missing a plain text representation");i.text=d.body,i.html=h==null?void 0:h.body,i.renderings=s}else if((0,fE.isOptionalAString)(o))i.text=o,i.html=l,i.renderings=[{body:o,mimetype:"text/plain"}],i.html&&i.renderings.push({body:i.html,mimetype:"text/html"});else throw new mD.InvalidEventError("Missing textual representation for event");return i}return hce(n,[{key:"isEmote",get:function(){return Sc.M_EMOTE.matches(this.wireFormat.type)||(0,fE.isProvided)(Sc.M_EMOTE.findIn(this.wireFormat.content))}},{key:"isNotice",get:function(){return Sc.M_NOTICE.matches(this.wireFormat.type)||(0,fE.isProvided)(Sc.M_NOTICE.findIn(this.wireFormat.content))}},{key:"isEquivalentTo",value:function(i){return(0,dce.isEventTypeSame)(i,Sc.M_MESSAGE)}},{key:"serializeMMessageOnly",value:function(){var i=ng({},Sc.M_MESSAGE.name,this.renderings);if(this.renderings.length===1){var s=this.renderings[0].mimetype;(s===void 0||s==="text/plain")&&(i=ng({},Sc.M_TEXT.name,this.renderings[0].body))}return i}},{key:"serialize",value:function(){var i;return{type:"m.room.message",content:az(az({},this.serializeMMessageOnly()),{},{body:this.text,msgtype:"m.text",format:this.html?"org.matrix.custom.html":void 0,formatted_body:(i=this.html)!==null&&i!==void 0?i:void 0})}}}],[{key:"from",value:function(i,s){var o;return new n({type:Sc.M_MESSAGE.name,content:(o={},ng(o,Sc.M_TEXT.name,i),ng(o,Sc.M_HTML.name,s),o)})}}]),n}(uce.ExtensibleEvent);If.MessageEvent=vce;var cw={};function BB(t){return BB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BB(t)}Object.defineProperty(cw,"__esModule",{value:!0});cw.NoticeEvent=void 0;var bce=If,MT=Qs,_ce=Ep;function cz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ece(t,e,n){return e&&uz(t.prototype,e),n&&uz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yS(){return typeof Reflect!="undefined"&&Reflect.get?yS=Reflect.get:yS=function(e,n,r){var i=Sce(e,n);if(!!i){var s=Object.getOwnPropertyDescriptor(i,n);return s.get?s.get.call(arguments.length<3?e:r):s.value}},yS.apply(this,arguments)}function Sce(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Py(t),t!==null););return t}function xce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$B(t,e)}function $B(t,e){return $B=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$B(t,e)}function kce(t){var e=Ice();return function(){var r=Py(t),i;if(e){var s=Py(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Tce(this,i)}}function Tce(t,e){if(e&&(BB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(t)}function Cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ice(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Py(t)}var Rce=function(t){xce(n,t);var e=kce(n);function n(r){return wce(this,n),e.call(this,r)}return Ece(n,[{key:"isNotice",get:function(){return!0}},{key:"isEquivalentTo",value:function(i){return(0,_ce.isEventTypeSame)(i,MT.M_NOTICE)||yS(Py(n.prototype),"isEquivalentTo",this).call(this,i)}},{key:"serialize",value:function(){var i=yS(Py(n.prototype),"serialize",this).call(this);return i.content.msgtype="m.notice",i}}],[{key:"from",value:function(i,s){var o;return new n({type:MT.M_NOTICE.name,content:(o={},cz(o,MT.M_TEXT.name,i),cz(o,MT.M_HTML.name,s),o)})}}]),n}(bce.MessageEvent);cw.NoticeEvent=Rce;var uw={};function FB(t){return FB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FB(t)}Object.defineProperty(uw,"__esModule",{value:!0});uw.EmoteEvent=void 0;var Mce=If,OT=Qs,Oce=Ep;function dz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ace(t,e,n){return e&&fz(t.prototype,e),n&&fz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vS(){return typeof Reflect!="undefined"&&Reflect.get?vS=Reflect.get:vS=function(e,n,r){var i=Pce(e,n);if(!!i){var s=Object.getOwnPropertyDescriptor(i,n);return s.get?s.get.call(arguments.length<3?e:r):s.value}},vS.apply(this,arguments)}function Pce(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Dy(t),t!==null););return t}function Dce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UB(t,e)}function UB(t,e){return UB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},UB(t,e)}function Nce(t){var e=Fce();return function(){var r=Dy(t),i;if(e){var s=Dy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Bce(this,i)}}function Bce(t,e){if(e&&(FB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ce(t)}function $ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dy(t){return Dy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Dy(t)}var Uce=function(t){Dce(n,t);var e=Nce(n);function n(r){return Lce(this,n),e.call(this,r)}return Ace(n,[{key:"isEmote",get:function(){return!0}},{key:"isEquivalentTo",value:function(i){return(0,Oce.isEventTypeSame)(i,OT.M_EMOTE)||vS(Dy(n.prototype),"isEquivalentTo",this).call(this,i)}},{key:"serialize",value:function(){var i=vS(Dy(n.prototype),"serialize",this).call(this);return i.content.msgtype="m.emote",i}}],[{key:"from",value:function(i,s){var o;return new n({type:OT.M_EMOTE.name,content:(o={},dz(o,OT.M_TEXT.name,i),dz(o,OT.M_HTML.name,s),o)})}}]),n}(Mce.MessageEvent);uw.EmoteEvent=Uce;Object.defineProperty(lw,"__esModule",{value:!0});lw.LEGACY_M_ROOM_MESSAGE=void 0;lw.parseMRoomMessage=qce;var hz=If,Hce=cw,jce=uw,Kce=yd,J1=Qs;function pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(n),!0).forEach(function(r){ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ry(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zce=new Kce.NamespacedValue("m.room.message");lw.LEGACY_M_ROOM_MESSAGE=zce;function qce(t){var e,n,r;if(J1.M_MESSAGE.findIn(t.content)||J1.M_TEXT.findIn(t.content))return new hz.MessageEvent(t);var i=(e=t.content)===null||e===void 0?void 0:e.msgtype,s=(n=t.content)===null||n===void 0?void 0:n.body,o=((r=t.content)===null||r===void 0?void 0:r.format)==="org.matrix.custom.html"?t.content.formatted_body:null;if(i==="m.text"){var l;return new hz.MessageEvent(eu(eu({},t),{},{content:eu(eu({},t.content),{},(l={},ry(l,J1.M_TEXT.name,s),ry(l,J1.M_HTML.name,o),l))}))}else if(i==="m.notice"){var d;return new Hce.NoticeEvent(eu(eu({},t),{},{content:eu(eu({},t.content),{},(d={},ry(d,J1.M_TEXT.name,s),ry(d,J1.M_HTML.name,o),d))}))}else if(i==="m.emote"){var h;return new jce.EmoteEvent(eu(eu({},t),{},{content:eu(eu({},t.content),{},(h={},ry(h,J1.M_TEXT.name,s),ry(h,J1.M_HTML.name,o),h))}))}else return null}var ZR={};Object.defineProperty(ZR,"__esModule",{value:!0});ZR.parseMMessage=Yce;var Vce=If,gz=Qs,Gce=uw,Wce=cw;function Yce(t){return gz.M_EMOTE.matches(t.type)?new Gce.EmoteEvent(t):gz.M_NOTICE.matches(t.type)?new Wce.NoticeEvent(t):new Vce.MessageEvent(t)}var ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.M_POLL_START=ya.M_POLL_RESPONSE=ya.M_POLL_KIND_UNDISCLOSED=ya.M_POLL_KIND_DISCLOSED=ya.M_POLL_END=void 0;var Yx=yd,Xce=new Yx.UnstableValue("m.poll.disclosed","org.matrix.msc3381.poll.disclosed");ya.M_POLL_KIND_DISCLOSED=Xce;var Zce=new Yx.UnstableValue("m.poll.undisclosed","org.matrix.msc3381.poll.undisclosed");ya.M_POLL_KIND_UNDISCLOSED=Zce;var Jce=new Yx.UnstableValue("m.poll.start","org.matrix.msc3381.poll.start");ya.M_POLL_START=Jce;var Qce=new Yx.UnstableValue("m.poll.response","org.matrix.msc3381.poll.response");ya.M_POLL_RESPONSE=Qce;var eue=new Yx.UnstableValue("m.poll.end","org.matrix.msc3381.poll.end");ya.M_POLL_END=eue;var JR={},Ny={};function HB(t){return HB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HB(t)}Object.defineProperty(Ny,"__esModule",{value:!0});Ny.PollStartEvent=Ny.PollAnswerSubevent=void 0;var jh=ya,TZ=If,QE=Qs,jC=wp,tue=yd,nue=Ep,rue=Xg;function iue(t){return lue(t)||aue(t)||oue(t)||sue()}function sue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oue(t,e){if(!!t){if(typeof t=="string")return jB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jB(t,e)}}function aue(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lue(t){if(Array.isArray(t))return jB(t)}function jB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(n),!0).forEach(function(r){Kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IZ(t,e,n){return e&&yz(t.prototype,e),n&&yz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KB(t,e)}function KB(t,e){return KB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},KB(t,e)}function MZ(t){var e=due();return function(){var r=RI(t),i;if(e){var s=RI(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uue(this,i)}}function uue(t,e){if(e&&(HB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ay(t)}function ay(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function due(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RI(t){return RI=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},RI(t)}function Kl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var OZ=function(t){RZ(n,t);var e=MZ(n);function n(r){var i;CZ(this,n),i=e.call(this,r),Kl(ay(i),"id",void 0);var s=r.content.id;if(!s||typeof s!="string")throw new jC.InvalidEventError("Answer ID must be a non-empty string");return i.id=s,i}return IZ(n,[{key:"serialize",value:function(){return{type:"org.matrix.sdk.poll.answer",content:cue({id:this.id},this.serializeMMessageOnly())}}}],[{key:"from",value:function(i,s){return new n({type:"org.matrix.sdk.poll.answer",content:Kl({id:i},QE.M_TEXT.name,s)})}}]),n}(TZ.MessageEvent);Ny.PollAnswerSubevent=OZ;var fue=function(t){RZ(n,t);var e=MZ(n);function n(r){var i;CZ(this,n),i=e.call(this,r),Kl(ay(i),"question",void 0),Kl(ay(i),"kind",void 0),Kl(ay(i),"rawKind",void 0),Kl(ay(i),"maxSelections",void 0),Kl(ay(i),"answers",void 0);var s=jh.M_POLL_START.findIn(i.wireContent);if(!s.question)throw new jC.InvalidEventError("A question is required");if(i.question=new TZ.MessageEvent({type:"org.matrix.sdk.poll.question",content:s.question}),i.rawKind=s.kind,jh.M_POLL_KIND_DISCLOSED.matches(i.rawKind)?i.kind=jh.M_POLL_KIND_DISCLOSED:i.kind=jh.M_POLL_KIND_UNDISCLOSED,i.maxSelections=Number.isFinite(s.max_selections)&&s.max_selections>0?s.max_selections:1,!Array.isArray(s.answers))throw new jC.InvalidEventError("Poll answers must be an array");var o=s.answers.slice(0,20).map(function(l){return new OZ({type:"org.matrix.sdk.poll.answer",content:l})});if(o.length<=0)throw new jC.InvalidEventError("No answers available");return i.answers=o,i}return IZ(n,[{key:"isEquivalentTo",value:function(i){return(0,nue.isEventTypeSame)(i,jh.M_POLL_START)}},{key:"serialize",value:function(){var i;return{type:jh.M_POLL_START.name,content:(i={},Kl(i,jh.M_POLL_START.name,{question:this.question.serialize().content,kind:this.rawKind,max_selections:this.maxSelections,answers:this.answers.map(function(s){return s.serialize().content})}),Kl(i,QE.M_TEXT.name,"".concat(this.question.text,`
`).concat(this.answers.map(function(s,o){return"".concat(o+1,". ").concat(s.text)}).join(`
`))),i)}}}],[{key:"from",value:function(i,s,o){var l,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;return new n({type:jh.M_POLL_START.name,content:(l={},Kl(l,QE.M_TEXT.name,i),Kl(l,jh.M_POLL_START.name,{question:Kl({},QE.M_TEXT.name,i),kind:o instanceof tue.NamespacedValue?o.name:o,max_selections:d,answers:s.map(function(h){return Kl({id:hue()},QE.M_TEXT.name,h)})}),l)})}}]),n}(rue.ExtensibleEvent);Ny.PollStartEvent=fue;var vz="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function hue(){return iue(Array(16)).map(function(){return vz.charAt(Math.floor(Math.random()*vz.length))}).join("")}var Xx={},dw={};Object.defineProperty(dw,"__esModule",{value:!0});dw.REFERENCE_RELATION=void 0;var pue=yd,gue=new pue.NamespacedValue("m.reference");dw.REFERENCE_RELATION=gue;function zB(t){return zB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zB(t)}Object.defineProperty(Xx,"__esModule",{value:!0});Xx.PollResponseEvent=void 0;var mue=Xg,g_=ya,yue=wp,yD=dw,vue=Ep;function bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _ue(t,e,n){return e&&bz(t.prototype,e),n&&bz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qB(t,e)}function qB(t,e){return qB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qB(t,e)}function Eue(t){var e=xue();return function(){var r=MI(t),i;if(e){var s=MI(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Sue(this,i)}}function Sue(t,e){if(e&&(zB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KC(t)}function KC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xue(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function MI(t){return MI=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},MI(t)}function hE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kue=function(t){wue(n,t);var e=Eue(n);function n(r){var i;bue(this,n),i=e.call(this,r),hE(KC(i),"internalAnswerIds",void 0),hE(KC(i),"internalSpoiled",void 0),hE(KC(i),"pollEventId",void 0);var s=i.wireContent["m.relates_to"];if(!yD.REFERENCE_RELATION.matches(s==null?void 0:s.rel_type)||typeof(s==null?void 0:s.event_id)!="string")throw new yue.InvalidEventError("Relationship must be a reference to an event");return i.pollEventId=s.event_id,i.validateAgainst(null),i}return _ue(n,[{key:"answerIds",get:function(){return this.internalAnswerIds}},{key:"spoiled",get:function(){return this.internalSpoiled}},{key:"validateAgainst",value:function(i){var s=g_.M_POLL_RESPONSE.findIn(this.wireContent);if(!Array.isArray(s==null?void 0:s.answers)){this.internalSpoiled=!0,this.internalAnswerIds=[];return}var o=s.answers;if(o.some(function(l){return typeof l!="string"})||o.length===0){this.internalSpoiled=!0,this.internalAnswerIds=[];return}if(i){if(o.some(function(l){return!i.answers.some(function(d){return d.id===l})})){this.internalSpoiled=!0,this.internalAnswerIds=[];return}o=o.slice(0,i.maxSelections)}this.internalAnswerIds=o,this.internalSpoiled=!1}},{key:"isEquivalentTo",value:function(i){return(0,vue.isEventTypeSame)(i,g_.M_POLL_RESPONSE)}},{key:"serialize",value:function(){return{type:g_.M_POLL_RESPONSE.name,content:hE({"m.relates_to":{rel_type:yD.REFERENCE_RELATION.name,event_id:this.pollEventId}},g_.M_POLL_RESPONSE.name,{answers:this.spoiled?void 0:this.answerIds})}}}],[{key:"from",value:function(i,s){return new n({type:g_.M_POLL_RESPONSE.name,content:hE({"m.relates_to":{rel_type:yD.REFERENCE_RELATION.name,event_id:s}},g_.M_POLL_RESPONSE.name,{answers:i})})}}]),n}(mue.ExtensibleEvent);Xx.PollResponseEvent=kue;var Zx={};function VB(t){return VB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VB(t)}Object.defineProperty(Zx,"__esModule",{value:!0});Zx.PollEndEvent=void 0;var pE=ya,Tue=wp,vD=dw,Cue=If,Iue=Qs,Rue=Ep,Mue=Xg;function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){j_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Aue(t,e,n){return e&&wz(t.prototype,e),n&&wz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GB(t,e)}function GB(t,e){return GB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},GB(t,e)}function Due(t){var e=Bue();return function(){var r=OI(t),i;if(e){var s=OI(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Nue(this,i)}}function Nue(t,e){if(e&&(VB(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WB(t)}function WB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bue(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OI(t){return OI=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},OI(t)}function j_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $ue=function(t){Pue(n,t);var e=Due(n);function n(r){var i;Lue(this,n),i=e.call(this,r),j_(WB(i),"pollEventId",void 0),j_(WB(i),"closingMessage",void 0);var s=i.wireContent["m.relates_to"];if(!vD.REFERENCE_RELATION.matches(s==null?void 0:s.rel_type)||typeof(s==null?void 0:s.event_id)!="string")throw new Tue.InvalidEventError("Relationship must be a reference to an event");return i.pollEventId=s.event_id,i.closingMessage=new Cue.MessageEvent(i.wireFormat),i}return Aue(n,[{key:"isEquivalentTo",value:function(i){return(0,Rue.isEventTypeSame)(i,pE.M_POLL_END)}},{key:"serialize",value:function(){return{type:pE.M_POLL_END.name,content:Oue(j_({"m.relates_to":{rel_type:vD.REFERENCE_RELATION.name,event_id:this.pollEventId}},pE.M_POLL_END.name,{}),this.closingMessage.serialize().content)}}}],[{key:"from",value:function(i,s){var o;return new n({type:pE.M_POLL_END.name,content:(o={"m.relates_to":{rel_type:vD.REFERENCE_RELATION.name,event_id:i}},j_(o,pE.M_POLL_END.name,{}),j_(o,Iue.M_TEXT.name,s),o)})}}]),n}(Mue.ExtensibleEvent);Zx.PollEndEvent=$ue;Object.defineProperty(JR,"__esModule",{value:!0});JR.parseMPoll=jue;var bD=ya,Fue=Ny,Uue=Xx,Hue=Zx;function jue(t){return bD.M_POLL_START.matches(t.type)?new Fue.PollStartEvent(t):bD.M_POLL_RESPONSE.matches(t.type)?new Uue.PollResponseEvent(t):bD.M_POLL_END.matches(t.type)?new Hue.PollEndEvent(t):null}Object.defineProperty(XR,"__esModule",{value:!0});XR.ExtensibleEvents=void 0;var Kue=Vx,zue=wp,Ez=lw,_D=ZR,LT=Qs,wD=ya,ED=JR;function que(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Vue(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,l;return{s:function(){n=n.call(t)},n:function(){var h=n.next();return s=h.done,h},e:function(h){o=!0,l=h},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}}}function Vue(t,e){if(!!t){if(typeof t=="string")return Sz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sz(t,e)}}function Sz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wue(t,e,n){return e&&xz(t.prototype,e),n&&xz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XB=function(){function t(){Gue(this,t),YB(this,"interpreters",new Kue.NamespacedMap([[Ez.LEGACY_M_ROOM_MESSAGE,Ez.parseMRoomMessage],[LT.M_MESSAGE,_D.parseMMessage],[LT.M_EMOTE,_D.parseMMessage],[LT.M_NOTICE,_D.parseMMessage],[wD.M_POLL_START,ED.parseMPoll],[wD.M_POLL_RESPONSE,ED.parseMPoll],[wD.M_POLL_END,ED.parseMPoll]])),YB(this,"_unknownInterpretOrder",[LT.M_MESSAGE])}return Wue(t,[{key:"unknownInterpretOrder",get:function(){var n;return(n=this._unknownInterpretOrder)!==null&&n!==void 0?n:[]},set:function(n){this._unknownInterpretOrder=n}},{key:"registerInterpreter",value:function(n,r){this.interpreters.set(n,r)}},{key:"parse",value:function(n){try{if(this.interpreters.hasNamespaced(n.type))return this.interpreters.getNamespaced(n.type)(n);var r=que(this.unknownInterpretOrder),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.interpreters.has(s)){var o=this.interpreters.get(s)(n);if(o)return o}}}catch(l){r.e(l)}finally{r.f()}return null}catch(l){if(l instanceof zue.InvalidEventError)return null;throw l}}}],[{key:"defaultInstance",get:function(){return t._defaultInstance}},{key:"unknownInterpretOrder",get:function(){return t.defaultInstance.unknownInterpretOrder},set:function(n){t.defaultInstance.unknownInterpretOrder=n}},{key:"registerInterpreter",value:function(n,r){t.defaultInstance.registerInterpreter(n,r)}},{key:"parse",value:function(n){return t.defaultInstance.parse(n)}}]),t}();XR.ExtensibleEvents=XB;YB(XB,"_defaultInstance",new XB);var LZ={};Object.defineProperty(LZ,"__esModule",{value:!0});var fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.LegacyMsgType=void 0;fw.isEventLike=Yue;var SD=Qs,f3;fw.LegacyMsgType=f3;(function(t){t.Text="m.text",t.Notice="m.notice",t.Emote="m.emote"})(f3||(fw.LegacyMsgType=f3={}));function Yue(t,e){var n=t.content;return e===f3.Text?SD.M_MESSAGE.matches(t.type)||t.type==="m.room.message"&&(n==null?void 0:n.msgtype)==="m.text":e===f3.Emote?SD.M_EMOTE.matches(t.type)||t.type==="m.room.message"&&(n==null?void 0:n.msgtype)==="m.emote":e===f3.Notice?SD.M_NOTICE.matches(t.type)||t.type==="m.room.message"&&(n==null?void 0:n.msgtype)==="m.notice":!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=XR;Object.keys(e).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===e[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return e[H]}})});var n=LZ;Object.keys(n).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===n[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return n[H]}})});var r=wp;Object.keys(r).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===r[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return r[H]}})});var i=yd;Object.keys(i).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===i[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return i[H]}})});var s=Vx;Object.keys(s).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===s[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return s[H]}})});var o=Gx;Object.keys(o).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===o[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return o[H]}})});var l=fw;Object.keys(l).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===l[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return l[H]}})});var d=Ep;Object.keys(d).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===d[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return d[H]}})});var h=lw;Object.keys(h).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===h[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return h[H]}})});var f=ZR;Object.keys(f).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===f[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return f[H]}})});var v=JR;Object.keys(v).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===v[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return v[H]}})});var w=dw;Object.keys(w).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===w[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return w[H]}})});var E=Xg;Object.keys(E).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===E[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return E[H]}})});var C=Qs;Object.keys(C).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===C[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return C[H]}})});var O=If;Object.keys(O).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===O[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return O[H]}})});var M=uw;Object.keys(M).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===M[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return M[H]}})});var A=cw;Object.keys(A).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===A[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return A[H]}})});var D=ya;Object.keys(D).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===D[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return D[H]}})});var U=Ny;Object.keys(U).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===U[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return U[H]}})});var R=Xx;Object.keys(R).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===R[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return R[H]}})});var X=Zx;Object.keys(X).forEach(function(H){H==="default"||H==="__esModule"||H in t&&t[H]===X[H]||Object.defineProperty(t,H,{enumerable:!0,get:function(){return X[H]}})})})(bf);class AZ{constructor(e){this.target=e,this.reEmitters=new Map}reEmit(e,n){let r=this.reEmitters.get(e);r||(r=new Map,this.reEmitters.set(e,r));for(const i of n){const s=(...o)=>{i==="error"&&this.target.listenerCount("error")===0||this.target.emit(i,...o,e)};e.on(i,s),r.set(i,s)}}stopReEmitting(e,n){const r=this.reEmitters.get(e);if(!!r){for(const i of n)e.off(i,r.get(i)),r.delete(i);r.size===0&&this.reEmitters.delete(e)}}}class hw extends AZ{constructor(e){super(e)}reEmit(e,n){super.reEmit(e,n)}stopReEmitting(e,n){super.stopReEmitting(e,n)}}var as=(t=>(t.Backward="b",t.Forward="f",t))(as||{});const Ju=class{constructor(t){var e,n;this.eventTimelineSet=t,this.events=[],this.baseIndex=0,this.paginationRequests={b:null,f:null},this.roomId=(n=(e=t.room)==null?void 0:e.roomId)!=null?n:null,this.startState=new rx(this.roomId),this.startState.paginationToken=null,this.endState=new rx(this.roomId),this.endState.paginationToken=null,this.prevTimeline=null,this.nextTimeline=null,this.paginationRequests={b:null,f:null},this.name=this.roomId+":"+new Date().toISOString()}static setEventMetadata(t,e,n){var r,i,s,o;(i=(r=t.sender)==null?void 0:r.events)!=null&&i.member||(t.sender=e.getSentinelMember(t.getSender())),!((o=(s=t.target)==null?void 0:s.events)!=null&&o.member)&&t.getType()===Ot.RoomMember&&(t.target=e.getSentinelMember(t.getStateKey())),t.isState()&&n&&(t.forwardLooking=!1)}initialiseState(t,{timelineWasEmpty:e}={}){if(this.events.length>0)throw new Error("Cannot initialise state after events are added");for(const n of t)Object.freeze(n);this.startState.setStateEvents(t,{timelineWasEmpty:e}),this.endState.setStateEvents(t,{timelineWasEmpty:e})}forkLive(t){const e=this.getState(t),n=new Ju(this.eventTimelineSet);return n.startState=e.clone(),n.endState=e,this.endState=e.clone(),n}fork(t){const e=this.getState(t),n=new Ju(this.eventTimelineSet);return n.startState=e.clone(),n.endState=e.clone(),n}getRoomId(){return this.roomId}getFilter(){return this.eventTimelineSet.getFilter()}getTimelineSet(){return this.eventTimelineSet}getBaseIndex(){return this.baseIndex}getEvents(){return this.events}getState(t){if(t==Ju.BACKWARDS)return this.startState;if(t==Ju.FORWARDS)return this.endState;throw new Error("Invalid direction '"+t+"'")}getPaginationToken(t){return this.getState(t).paginationToken}setPaginationToken(t,e){this.getState(e).paginationToken=t}getNeighbouringTimeline(t){if(t==Ju.BACKWARDS)return this.prevTimeline;if(t==Ju.FORWARDS)return this.nextTimeline;throw new Error("Invalid direction '"+t+"'")}setNeighbouringTimeline(t,e){if(this.getNeighbouringTimeline(e))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+e+")");if(e==Ju.BACKWARDS)this.prevTimeline=t;else if(e==Ju.FORWARDS)this.nextTimeline=t;else throw new Error("Invalid direction '"+e+"'");this.setPaginationToken(null,e)}addEvent(t,e,n){let r=!!e,i;typeof e=="object"?{toStartOfTimeline:r,roomState:n,timelineWasEmpty:i}=e:e!==void 0&&V.warn("Overload deprecated: `EventTimeline.addEvent(event, toStartOfTimeline, roomState?)` is deprecated in favor of the overload with `EventTimeline.addEvent(event, IAddEventOptions)`"),n||(n=r?this.startState:this.endState);const s=this.getTimelineSet();s.room&&(Ju.setEventMetadata(t,n,r),t.isState()&&s.room.getUnfilteredTimelineSet()===s&&(n.setStateEvents([t],{timelineWasEmpty:i}),(!t.sender||t.getType()==="m.room.member"&&!r)&&Ju.setEventMetadata(t,n,r)));let o;r?o=0:o=this.events.length,this.events.splice(o,0,t),r&&this.baseIndex++}removeEvent(t){for(let e=this.events.length-1;e>=0;e--){const n=this.events[e];if(n.getId()==t)return this.events.splice(e,1),e<this.baseIndex&&this.baseIndex--,n}return null}toString(){return this.name}};let pr=Ju;pr.BACKWARDS="b";pr.FORWARDS="f";var Tr=(t=>(t.NOT_SENT="not_sent",t.ENCRYPTING="encrypting",t.SENDING="sending",t.QUEUED="queued",t.SENT="sent",t.CANCELLED="cancelled",t))(Tr||{});class PZ{constructor(e,n){this.roomId=e}}const B3=new zR("unread_thread_notifications","org.matrix.msc3773.unread_thread_notifications");function Xue(t,e){if(e.endsWith("*")){const n=e.slice(0,-1);return t.slice(0,n.length)===n}else return t===e}class kz{constructor(e,n){this.filterJson=e,this.userId=n}check(e){var s,o;const n=((s=e.getUnsigned())==null?void 0:s["m.relations"])||{},r=Object.keys(n),i=[];return this.userId&&((o=n==null?void 0:n[Ro.name])==null?void 0:o.current_user_participated)&&i.push(this.userId),this.checkFields(e.getRoomId(),e.getSender(),e.getType(),e.getContent()?e.getContent().url!==void 0:!1,r,i)}toJSON(){return{types:this.filterJson.types||null,not_types:this.filterJson.not_types||[],rooms:this.filterJson.rooms||null,not_rooms:this.filterJson.not_rooms||[],senders:this.filterJson.senders||null,not_senders:this.filterJson.not_senders||[],contains_url:this.filterJson.contains_url||null,[ES.name]:this.filterJson[ES.name]||[],[SS.name]:this.filterJson[SS.name]||[]}}checkFields(e,n,r,i,s,o){const l={rooms:function(v){return e===v},senders:function(v){return n===v},types:function(v){return Xue(r,v)}};for(let v=0;v<Object.keys(l).length;v++){const w=Object.keys(l)[v],E=l[w],C="not_"+w,O=this.filterJson[C];if(O!=null&&O.some(E))return!1;const M=this.filterJson[w];if(M&&!M.some(E))return!1}const d=this.filterJson.contains_url;if(d!==void 0&&d!==i)return!1;const h=this.filterJson[SS.name];if(h!==void 0&&!this.arrayMatchesFilter(h,s))return!1;const f=this.filterJson[ES.name];return!(f!==void 0&&!this.arrayMatchesFilter(f,o))}arrayMatchesFilter(e,n){return n.length>0&&e.every(r=>n.includes(r))}filter(e){return e.filter(this.check,this)}limit(){return this.filterJson.limit!==void 0?this.filterJson.limit:10}}function xD(t,e,n){const r=e.split(".");let i=t;for(let s=0;s<r.length-1;s++)i[r[s]]||(i[r[s]]={}),i=i[r[s]];i[r[r.length-1]]=n}const DZ=class{constructor(t,e){this.userId=t,this.filterId=e,this.definition={}}static fromJson(t,e,n){const r=new DZ(t,e);return r.setDefinition(n),r}getFilterId(){return this.filterId}getDefinition(){return this.definition}setDefinition(t){this.definition=t;const e=t.room,n={};e&&(e.rooms&&(n.rooms=e.rooms),e.rooms&&(n.not_rooms=e.not_rooms)),this.roomFilter=new kz(n,this.userId),this.roomTimelineFilter=new kz((e==null?void 0:e.timeline)||{},this.userId)}getRoomTimelineFilterComponent(){return this.roomTimelineFilter}filterRoomTimeline(t){return this.roomTimelineFilter.filter(this.roomFilter.filter(t))}setTimelineLimit(t){xD(this.definition,"room.timeline.limit",t)}setUnreadThreadNotifications(t){var e,n,r;this.definition={...this.definition,room:{...(e=this.definition)==null?void 0:e.room,timeline:{...(r=(n=this.definition)==null?void 0:n.room)==null?void 0:r.timeline,[B3.name]:!!t}}}}setLazyLoadMembers(t){xD(this.definition,"room.state.lazy_load_members",!!t)}setIncludeLeaveRooms(t){xD(this.definition,"room.include_leave",t)}};let cf=DZ;cf.LAZY_LOADING_MESSAGES_FILTER={lazy_load_members:!0};var Eg=(t=>(t.DontNotify="dont_notify",t.Notify="notify",t.Coalesce="coalesce",t))(Eg||{}),vU=(t=>(t.Highlight="highlight",t.Sound="sound",t))(vU||{}),NZ=(t=>(t.ExactEquals="==",t.LessThan="<",t.GreaterThan=">",t.GreaterThanOrEqual=">=",t.LessThanOrEqual="<=",t))(NZ||{});const Zue="2";function Jue(t){return t==="==2"||t==="2"}var Tc=(t=>(t.EventMatch="event_match",t.ContainsDisplayName="contains_display_name",t.RoomMemberCount="room_member_count",t.SenderNotificationPermission="sender_notification_permission",t))(Tc||{}),pa=(t=>(t.Override="override",t.ContentSpecific="content",t.RoomSpecific="room",t.SenderSpecific="sender",t.Underride="underride",t))(pa||{}),BZ=(t=>(t.Master=".m.rule.master",t.ContainsDisplayName=".m.rule.contains_display_name",t.ContainsUserName=".m.rule.contains_user_name",t.AtRoomNotification=".m.rule.roomnotif",t.DM=".m.rule.room_one_to_one",t.EncryptedDM=".m.rule.encrypted_room_one_to_one",t.Message=".m.rule.message",t.EncryptedMessage=".m.rule.encrypted",t.InviteToSelf=".m.rule.invite_for_me",t.MemberEvent=".m.rule.member_event",t.IncomingCall=".m.rule.call",t.SuppressNotices=".m.rule.suppress_notices",t.Tombstone=".m.rule.tombstone",t))(BZ||{});const kD=[pa.Override,pa.ContentSpecific,pa.RoomSpecific,pa.SenderSpecific,pa.Underride],Que=[{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:Tc.EventMatch,key:"type",pattern:"m.reaction"}],actions:[Eg.DontNotify]},{rule_id:".org.matrix.msc3786.rule.room.server_acl",default:!0,enabled:!0,conditions:[{kind:Tc.EventMatch,key:"type",pattern:Ot.RoomServerAcl},{kind:Tc.EventMatch,key:"state_key",pattern:""}],actions:[]},{rule_id:".org.matrix.msc3401.rule.room.call",default:!0,enabled:!0,conditions:[{kind:Tc.EventMatch,key:"type",pattern:"org.matrix.msc3401.call"}],actions:[Eg.Notify,{set_tweak:vU.Sound,value:"default"}]}],K_=class{constructor(t){this.client=t}static actionListToActionsObject(t){const e={notify:!1,tweaks:{}};for(let n=0;n<t.length;++n){const r=t[n];r===Eg.Notify?e.notify=!0:typeof r=="object"&&(r.value===void 0&&(r.value=!0),e.tweaks[r.set_tweak]=r.value)}return e}static rewriteDefaultRules(t){let e=JSON.parse(JSON.stringify(t));e||(e={}),e.global||(e.global={}),e.global.override||(e.global.override=[]);const n=e.global.override;for(const r of Que){const i=n.find(s=>s.rule_id===r.rule_id);if(i)i.default=r.default,i.conditions=r.conditions,i.actions=r.actions;else{const s=r.rule_id;V.warn(`Adding default global override for ${s}`),n.push(r)}}return e}matchingRuleFromKindSet(t,e){for(let n=0;n<kD.length;++n){const r=kD[n],i=e[r];if(!!i)for(let s=0;s<i.length;++s){const o=i[s];if(!o.enabled)continue;const l=this.templateRuleToRaw(r,o);if(!!l&&this.ruleMatchesEvent(l,t))return{...o,kind:r}}}return null}templateRuleToRaw(t,e){const n={rule_id:e.rule_id,actions:e.actions,conditions:[]};switch(t){case pa.Underride:case pa.Override:n.conditions=e.conditions;break;case pa.RoomSpecific:if(!e.rule_id)return null;n.conditions.push({kind:Tc.EventMatch,key:"room_id",value:e.rule_id});break;case pa.SenderSpecific:if(!e.rule_id)return null;n.conditions.push({kind:Tc.EventMatch,key:"user_id",value:e.rule_id});break;case pa.ContentSpecific:if(!e.pattern)return null;n.conditions.push({kind:Tc.EventMatch,key:"content.body",pattern:e.pattern});break}return n}eventFulfillsCondition(t,e){switch(t.kind){case Tc.EventMatch:return this.eventFulfillsEventMatchCondition(t,e);case Tc.ContainsDisplayName:return this.eventFulfillsDisplayNameCondition(t,e);case Tc.RoomMemberCount:return this.eventFulfillsRoomMemberCountCondition(t,e);case Tc.SenderNotificationPermission:return this.eventFulfillsSenderNotifPermCondition(t,e)}return!1}eventFulfillsSenderNotifPermCondition(t,e){const n=t.key;if(!n)return!1;const r=this.client.getRoom(e.getRoomId());return r!=null&&r.currentState?r.currentState.mayTriggerNotifOfType(n,e.getSender()):!1}eventFulfillsRoomMemberCountCondition(t,e){if(!t.is)return!1;const n=this.client.getRoom(e.getRoomId());if(!n||!n.currentState||!n.currentState.members)return!1;const r=n.currentState.getJoinedMemberCount(),i=t.is.match(/^([=<>]*)(\d*)$/);if(!i)return!1;const s=i[1],o=parseInt(i[2]);if(isNaN(o))return!1;switch(s){case"":case"==":return r==o;case"<":return r<o;case">":return r>o;case"<=":return r<=o;case">=":return r>=o;default:return!1}}eventFulfillsDisplayNameCondition(t,e){let n=e.getContent();if(e.isEncrypted()&&e.getClearContent()&&(n=e.getClearContent()),!n||!n.body||typeof n.body!="string")return!1;const r=this.client.getRoom(e.getRoomId());if(!r||!r.currentState||!r.currentState.members||!r.currentState.getMember(this.client.credentials.userId))return!1;const i=r.currentState.getMember(this.client.credentials.userId).name,s=new RegExp("(^|\\W)"+iZ(i)+"(\\W|$)","i");return n.body.search(s)>-1}eventFulfillsEventMatchCondition(t,e){if(!t.key)return!1;const n=this.valueForDottedKey(t.key,e);if(typeof n!="string")return!1;if(t.value)return t.value===n;if(typeof t.pattern!="string")return!1;const r=t.key==="content.body"?this.createCachedRegex("(^|\\W)",t.pattern,"(\\W|$)"):this.createCachedRegex("^",t.pattern,"$");return!!n.match(r)}createCachedRegex(t,e,n){return K_.cachedGlobToRegex[e]||(K_.cachedGlobToRegex[e]=new RegExp(t+sZ(e)+n,"i")),K_.cachedGlobToRegex[e]}valueForDottedKey(t,e){const n=t.split(".");let r;const i=n[0];for(i==="content"?(r=e.getContent(),n.shift()):i==="type"?(r=e.getType(),n.shift()):r=e.event;n.length>0;){const s=n.shift();if(oZ(r[s]))return null;r=r[s]}return r}matchingRuleForEventWithRulesets(t,e){return!e||t.getSender()===this.client.credentials.userId?null:this.matchingRuleFromKindSet(t,e.global)}pushActionsForEventAndRulesets(t,e){const n=this.matchingRuleForEventWithRulesets(t,e);if(!n)return{};let r=K_.actionListToActionsObject(n.actions);return r.tweaks.highlight===void 0&&(r.tweaks.highlight=n.kind==pa.ContentSpecific),r=this.performCustomEventHandling(t,r),r}performCustomEventHandling(t,e){switch(t.getType()){case"m.call":case"org.matrix.msc3401.call":(t.getContent()["m.intent"]==="m.room"||"m.terminated"in t.getContent()||!("m.terminated"in t.getPrevContent())&&!D3(t.getPrevContent(),{}))&&(e.notify=!1,e.tweaks={})}return e}ruleMatchesEvent(t,e){var r;if(!((r=t.conditions)!=null&&r.length))return!0;let n=!0;for(let i=0;i<t.conditions.length;++i){const s=t.conditions[i];n&=this.eventFulfillsCondition(s,e)}return n}actionsForEvent(t){return this.pushActionsForEventAndRulesets(t,this.client.pushRules)}getPushRuleById(t){for(const e of["global"])if(this.client.pushRules[e]!==void 0){for(const n of kD)if(this.client.pushRules[e][n]!==void 0){for(const r of this.client.pushRules[e][n])if(r.rule_id===t)return r}}return null}};let h3=K_;h3.cachedGlobToRegex={};function $3(t,e){const n=`Store is invalid because ${t}, please stop the client, delete all data and start the client again`,r=Reflect.construct(Error,[n]);return Reflect.setPrototypeOf(r,Reflect.getPrototypeOf(this)),r.reason=t,r.value=e,r}$3.TOGGLED_LAZY_LOADING="TOGGLED_LAZY_LOADING";$3.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}});Reflect.setPrototypeOf($3,Error);function F3(t){const e=`Crypto store is invalid because ${t}, please stop the client, delete all data and start the client again`,n=Reflect.construct(Error,[e]);return Reflect.setPrototypeOf(n,Reflect.getPrototypeOf(this)),n.reason=t,n.name="InvalidCryptoStoreError",n}F3.TOO_NEW="TOO_NEW";F3.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}});Reflect.setPrototypeOf(F3,Error);class eS extends Error{constructor(e,n){super(e),this.value=n}}var jt=(t=>(t.Get="GET",t.Put="PUT",t.Post="POST",t.Delete="DELETE",t))(jt||{});class U3 extends Error{constructor(e={},n,r){let i=e.error||"Unknown message";n&&(i=`[${n}] ${i}`),r&&(i=`${i} (${r})`),super(`MatrixError: ${i}`),this.httpStatus=n,this.url=r,this.errcode=e.errcode,this.name=e.errcode||"Unknown error code",this.data=e}}class Jx extends Error{constructor(e,n){super(e+(n?`: ${n.message}`:""))}get name(){return"ConnectionError"}}var LI=(t=>(t.SessionLoggedOut="Session.logged_out",t.NoConsent="no_consent",t))(LI||{});/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Tz=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,ede=/\\([\u000b\u0020-\u00ff])/g,tde=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,nde=rde;function rde(t){if(!t)throw new TypeError("argument string is required");var e=typeof t=="object"?ide(t):t;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var n=e.indexOf(";"),r=n!==-1?e.substr(0,n).trim():e.trim();if(!tde.test(r))throw new TypeError("invalid media type");var i=new sde(r.toLowerCase());if(n!==-1){var s,o,l;for(Tz.lastIndex=n;o=Tz.exec(e);){if(o.index!==n)throw new TypeError("invalid parameter format");n+=o[0].length,s=o[1].toLowerCase(),l=o[2],l[0]==='"'&&(l=l.substr(1,l.length-2).replace(ede,"$1")),i.parameters[s]=l}if(n!==e.length)throw new TypeError("invalid parameter format")}return i}function ide(t){var e;if(typeof t.getHeader=="function"?e=t.getHeader("content-type"):typeof t.headers=="object"&&(e=t.headers&&t.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function sde(t){this.parameters=Object.create(null),this.type=t}function bU(t){const e=new AbortController;return setTimeout(()=>{e.abort()},t),e.signal}function $Z(t){const e=new AbortController;function n(){for(const i of t)i.removeEventListener("abort",r)}function r(){e.abort(),n()}for(const i of t){if(i.aborted){r();break}i.addEventListener("abort",r)}return{signal:e.signal,cleanup:n}}function _U(t,e){let n;try{n=ode(t)}catch(r){return r}return(n==null?void 0:n.type)==="application/json"&&e?new U3(JSON.parse(e),t.status,FZ(t)?t.responseURL:t.url):(n==null?void 0:n.type)==="text/plain"?new Error(`Server returned ${t.status} error: ${e}`):new Error(`Server returned ${t.status} error`)}function FZ(t){return"getResponseHeader"in t}function ode(t){let e;if(FZ(t)?e=t.getResponseHeader("Content-Type"):e=t.headers.get("Content-Type"),!e)return null;try{return nde(e)}catch(n){throw new Error(`Error parsing Content-Type '${e}': ${n}`)}}async function UZ(t,e){let n=0,r=null;for(;n<t;)try{if(n>0){const i=1e3*Math.pow(2,n);V.log(`network operation failed ${n} times, retrying in ${i}ms...`),await N3(i)}return await e()}catch(i){if(i instanceof Jx)n+=1,r=i;else throw i}throw r}class ade{constructor(e,n){var r;this.eventEmitter=e,this.opts=n,this.abortController=new AbortController,rZ(n,["baseUrl","prefix"]),n.onlyData=!!n.onlyData,n.useAuthorizationHeader=(r=n.useAuthorizationHeader)!=null?r:!0}abort(){this.abortController.abort(),this.abortController=new AbortController}fetch(e,n){return this.opts.fetchFn?this.opts.fetchFn(e,n):global.fetch(e,n)}setIdBaseUrl(e){this.opts.idBaseUrl=e}idServerRequest(e,n,r,i,s){if(!this.opts.idBaseUrl)throw new Error("No identity server base URL set");let o,l;e===jt.Get?o=r:l=r;const d=this.getUrl(n,o,i,this.opts.idBaseUrl),h={json:!0,headers:{}};return s&&(h.headers.Authorization=`Bearer ${s}`),this.requestOtherUrl(e,d,l,h)}authedRequest(e,n,r,i,s={}){r||(r={}),this.opts.useAuthorizationHeader?(s.headers||(s.headers={}),s.headers.Authorization||(s.headers.Authorization="Bearer "+this.opts.accessToken),r.access_token&&delete r.access_token):r.access_token||(r.access_token=this.opts.accessToken);const o=this.request(e,n,r,i,s);return o.catch(l=>{l.errcode=="M_UNKNOWN_TOKEN"&&!(s!=null&&s.inhibitLogoutEmit)?this.eventEmitter.emit(LI.SessionLoggedOut,l):l.errcode=="M_CONSENT_NOT_GIVEN"&&this.eventEmitter.emit(LI.NoConsent,l.message,l.data.consent_uri)}),o}request(e,n,r,i,s){const o=this.getUrl(n,r,s==null?void 0:s.prefix,s==null?void 0:s.baseUrl);return this.requestOtherUrl(e,o,i,s)}async requestOtherUrl(e,n,r,i={}){var C,O,M;const s=Object.assign({},i.headers||{}),o=(C=i.json)!=null?C:!0,l=o&&((O=r==null?void 0:r.constructor)==null?void 0:O.name)===Object.name;o&&(l&&!s["Content-Type"]&&(s["Content-Type"]="application/json"),s.Accept||(s.Accept="application/json"));const d=(M=i.localTimeoutMs)!=null?M:this.opts.localTimeoutMs,h=[this.abortController.signal];d!==void 0&&h.push(bU(d)),i.abortSignal&&h.push(i.abortSignal);let f;l?f=JSON.stringify(r):f=r;const{signal:v,cleanup:w}=$Z(h);let E;try{E=await this.fetch(n,{signal:v,method:e,body:f,headers:s,mode:"cors",redirect:"follow",referrer:"",referrerPolicy:"no-referrer",cache:"no-cache",credentials:"omit"})}catch(A){throw A.name==="AbortError"?A:new Jx("fetch failed",A)}finally{w()}if(!E.ok)throw _U(E,await E.text());return this.opts.onlyData?o?E.json():E.text():E}getUrl(e,n,r,i){const s=new URL((i!=null?i:this.opts.baseUrl)+(r!=null?r:this.opts.prefix)+e);return n&&mS(n,s.searchParams),s}}var Ji=(t=>(t.R0="/_matrix/client/r0",t.V1="/_matrix/client/v1",t.V3="/_matrix/client/v3",t.Unstable="/_matrix/client/unstable",t))(Ji||{}),nf=(t=>(t.V1="/_matrix/identity/api/v1",t.V2="/_matrix/identity/api/v2",t))(nf||{}),Ty=(t=>(t.R0="/_matrix/media/r0",t))(Ty||{});const lde=1e3;let cde=0,TD;const lp=[],ude=function(...t){};function Cz(t,e,...n){e=e||0,e<0&&(e=0);const r=Date.now()+e,i=cde++,s={runAt:r,func:t,params:n,key:i},o=fde(lp,function(l){return l.runAt-r});return lp.splice(o,0,s),wU(),i}function Iz(t){if(lp.length===0)return;let e;for(e=0;e<lp.length;e++)if(lp[e].key==t){lp.splice(e,1);break}e===0&&wU()}function wU(){TD&&global.clearTimeout(TD);const t=lp[0];if(!t)return;const e=Date.now(),n=Math.min(t.runAt-e,lde);TD=global.setTimeout(dde,n)}function dde(){let t;const e=Date.now(),n=[];for(;;){const r=lp[0];if(!r||r.runAt>e)break;t=lp.shift(),ude("runCallbacks: popping",t.key),n.push(t)}wU();for(let r=0;r<n.length;r++){t=n[r];try{t.func.apply(global,t.params)}catch(i){V.error("Uncaught exception in callback function",i.stack||i)}}}function fde(t,e){let n=0,r=t.length;for(;n<r;){const i=n+r>>1;e(t[i])>0?r=i:n=i+1}return n}class HZ extends ade{constructor(){super(...arguments),this.uploads=[]}uploadContent(e,n={}){var h,f,v,w,E;const r=(h=n.includeFilename)!=null?h:!0,i=(f=n.abortController)!=null?f:new AbortController,s=(w=(v=n.type)!=null?v:e.type)!=null?w:"application/octet-stream",o=(E=n.name)!=null?E:e.name,l={loaded:0,total:0,abortController:i},d=rv();if(global.XMLHttpRequest){const C=new global.XMLHttpRequest,O=function(){C.abort(),d.reject(new Error("Timeout"))};let M=Cz(O,3e4);C.onreadystatechange=function(){switch(C.readyState){case global.XMLHttpRequest.DONE:Iz(M);try{if(C.status===0)throw new DOMException(C.statusText,"AbortError");if(!C.responseText)throw new Error("No response body.");C.status>=400?d.reject(_U(C,C.responseText)):d.resolve(JSON.parse(C.responseText))}catch(D){if(D.name==="AbortError"){d.reject(D);return}D.httpStatus=C.status,d.reject(new Jx("request failed",D))}break}},C.upload.onprogress=D=>{var U;Iz(M),l.loaded=D.loaded,l.total=D.total,M=Cz(O,3e4),(U=n.progressHandler)==null||U.call(n,{loaded:D.loaded,total:D.total})};const A=this.getUrl("/upload",void 0,Ty.R0);r&&o&&A.searchParams.set("filename",encodeURIComponent(o)),!this.opts.useAuthorizationHeader&&this.opts.accessToken&&A.searchParams.set("access_token",encodeURIComponent(this.opts.accessToken)),C.open(jt.Post,A.href),this.opts.useAuthorizationHeader&&this.opts.accessToken&&C.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),C.setRequestHeader("Content-Type",s),C.send(e),i.signal.addEventListener("abort",()=>{C.abort()})}else{const C={};r&&o&&(C.filename=o);const O={"Content-Type":s};this.authedRequest(jt.Post,"/upload",C,e,{prefix:Ty.R0,headers:O,abortSignal:i.signal}).then(M=>this.opts.onlyData?M:M.json()).then(d.resolve,d.reject)}return l.promise=d.promise.finally(()=>{SI(this.uploads,C=>C===l)}),i.signal.addEventListener("abort",()=>{SI(this.uploads,C=>C===l),d.reject(new DOMException("Aborted","AbortError"))}),this.uploads.push(l),l.promise}cancelUpload(e){const n=this.uploads.find(r=>r.promise===e);return n?(n.abortController.abort(),!0):!1}getCurrentUploads(){return this.uploads}getContentUri(){return{base:this.opts.baseUrl,path:Ty.R0+"/upload",params:{access_token:this.opts.accessToken}}}}const jZ=new js("m.text","org.matrix.msc1767.text"),KZ=new js("m.topic","org.matrix.msc3765.topic");function zZ(t,e){return{msgtype:Xl.Text,format:"org.matrix.custom.html",body:t,formatted_body:e}}function qZ(t,e){return{msgtype:Xl.Notice,format:"org.matrix.custom.html",body:t,formatted_body:e}}function VZ(t,e){return{msgtype:Xl.Emote,format:"org.matrix.custom.html",body:t,formatted_body:e}}function GZ(t){return{msgtype:Xl.Text,body:t}}function WZ(t){return{msgtype:Xl.Notice,body:t}}function YZ(t){return{msgtype:Xl.Emote,body:t}}const XZ=(t,e,n,r)=>{const i=`at ${new Date(n).toISOString()}`,s=e===P3.Self?"User":void 0,o=r?`"${r}"`:void 0;return[s,"Location",o,t,i].filter(Boolean).join(" ")},ZZ=(t,e,n,r,i)=>{const s=t!=null?t:XZ(e,i||P3.Self,n,r),o=n?{[nv.name]:n}:{};return{msgtype:Xl.Location,body:s,geo_uri:e,[VR.name]:{description:r,uri:e},[qR.name]:{type:i||P3.Self},[jZ.name]:s,...o}},hde=t=>{var h,f;const e=VR.findIn(t),n=qR.findIn(t),r=nv.findIn(t),i=jZ.findIn(t),s=(h=e==null?void 0:e.uri)!=null?h:t==null?void 0:t.geo_uri,o=e==null?void 0:e.description,l=(f=n==null?void 0:n.type)!=null?f:P3.Self,d=i!=null?i:t.body;return ZZ(d,s,r,o,l)},JZ=(t,e)=>{const n=[{body:t,mimetype:"text/plain"}];return bf.isProvided(e)&&n.push({body:e,mimetype:"text/html"}),{topic:t,[KZ.name]:n}},pde=t=>{var i,s,o;const e=KZ.findIn(t),n=(s=(i=e==null?void 0:e.find(l=>!bf.isProvided(l.mimetype)||l.mimetype==="text/plain"))==null?void 0:i.body)!=null?s:t.topic,r=(o=e==null?void 0:e.find(l=>l.mimetype==="text/html"))==null?void 0:o.body;return{text:n,html:r}},gde=(t,e,n,r,i)=>({description:n,timeout:t,live:e,[nv.name]:i||Date.now(),[qR.name]:{type:r!=null?r:P3.Self}}),QZ=t=>{const{description:e,timeout:n,live:r}=t,i=nv.findIn(t),s=qR.findIn(t);return{description:e,timeout:n,live:r,assetType:s==null?void 0:s.type,timestamp:i}},mde=(t,e,n,r)=>({[VR.name]:{description:r,uri:t},[nv.name]:e,"m.relates_to":{rel_type:bf.REFERENCE_RELATION.name,event_id:n}}),ZB=t=>{const e=VR.findIn(t),n=nv.findIn(t);return{description:e==null?void 0:e.description,uri:e==null?void 0:e.uri,timestamp:n}};var yde=Object.freeze(Object.defineProperty({__proto__:null,makeHtmlMessage:zZ,makeHtmlNotice:qZ,makeHtmlEmote:VZ,makeTextMessage:GZ,makeNotice:WZ,makeEmoteMessage:YZ,getTextForLocationEvent:XZ,makeLocationContent:ZZ,parseLocationEvent:hde,makeTopicContent:JZ,parseTopicContent:pde,makeBeaconInfoContent:gde,parseBeaconInfoContent:QZ,makeBeaconContent:mde,parseBeaconContent:ZB},Symbol.toStringTag,{value:"Module"})),Js=(t=>(t.New="Beacon.new",t.Update="Beacon.update",t.LivenessChange="Beacon.LivenessChange",t.Destroy="Beacon.Destroy",t.LocationUpdate="Beacon.LocationUpdate",t))(Js||{});const JB=(t,e,n)=>n>=t&&t+e>=n,AI=t=>`${t.getRoomId()}_${t.getStateKey()}`;class eJ extends Do{constructor(e){super(),this.rootEvent=e,this.clearLatestLocation=()=>{this._latestLocationEvent=void 0,this.emit("Beacon.LocationUpdate",this.latestLocationState)},this.setBeaconInfo(this.rootEvent),this.roomId=this.rootEvent.getRoomId()}get isLive(){return this._isLive}get identifier(){return AI(this.rootEvent)}get beaconInfoId(){return this.rootEvent.getId()}get beaconInfoOwner(){return this.rootEvent.getStateKey()}get beaconInfoEventType(){return this.rootEvent.getType()}get beaconInfo(){return this._beaconInfo}get latestLocationState(){return this._latestLocationEvent&&ZB(this._latestLocationEvent.getContent())}get latestLocationEvent(){return this._latestLocationEvent}update(e){if(AI(e)!==this.identifier)throw new Error("Invalid updating event");e.event.origin_server_ts<this.rootEvent.event.origin_server_ts||(this.rootEvent=e,this.setBeaconInfo(this.rootEvent),this.emit("Beacon.update",e,this),this.clearLatestLocation())}destroy(){this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this._isLive=!1,this.emit("Beacon.Destroy",this.identifier)}monitorLiveness(){var e,n,r,i;if(this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this.checkLiveness(),this.isLive){const s=((e=this._beaconInfo)==null?void 0:e.timestamp)+((n=this._beaconInfo)==null?void 0:n.timeout)-Date.now();s>1&&(this.livenessWatchTimeout=setTimeout(()=>{this.monitorLiveness()},s))}else((r=this._beaconInfo)==null?void 0:r.timestamp)>Date.now()&&(this.livenessWatchTimeout=setTimeout(()=>{this.monitorLiveness()},((i=this.beaconInfo)==null?void 0:i.timestamp)-Date.now()))}addLocations(e){var i;if(!this.isLive)return;const r=(i=e.filter(s=>{const o=s.getContent(),l=ZB(o);if(!l.uri||!l.timestamp)return!1;const{timestamp:d}=l;return JB(this._beaconInfo.timestamp,this._beaconInfo.timeout,d)&&(!this.latestLocationState||d>this.latestLocationState.timestamp)}).sort(wle))==null?void 0:i[0];r&&(this._latestLocationEvent=r,this.emit("Beacon.LocationUpdate",this.latestLocationState))}setBeaconInfo(e){this._beaconInfo=QZ(e.getContent()),this.checkLiveness()}checkLiveness(){var r,i,s,o,l;const e=this.isLive,n=((r=this._beaconInfo)==null?void 0:r.timestamp)>Date.now()?((i=this._beaconInfo)==null?void 0:i.timestamp)-36e4:(s=this._beaconInfo)==null?void 0:s.timestamp;this._isLive=!!((o=this._beaconInfo)!=null&&o.live)&&JB(n,(l=this._beaconInfo)==null?void 0:l.timeout,Date.now()),e!==this.isLive&&this.emit("Beacon.LivenessChange",this.isLive,this)}}var QR=(t=>(t[t.Stable=0]="Stable",t[t.Unstable=1]="Unstable",t[t.Unsupported=2]="Unsupported",t))(QR||{}),eM=(t=>(t.Thread="Thread",t.ThreadUnreadNotifications="ThreadUnreadNotifications",t))(eM||{});const vde={Thread:{unstablePrefixes:["org.matrix.msc3440"],matrixVersion:"v1.3"},ThreadUnreadNotifications:{unstablePrefixes:["org.matrix.msc3771","org.matrix.msc3773"],matrixVersion:"v1.4"}};async function bde(t){var n,r,i,s;const e=new Map;for(const[o,l]of Object.entries(vde)){const d=(r=(n=t.versions)==null?void 0:n.includes(l.matrixVersion||""))!=null?r:!1,h=(s=(i=l.unstablePrefixes)==null?void 0:i.every(f=>{var v;return((v=t.unstable_features)==null?void 0:v[f])===!0}))!=null?s:!1;d?e.set(o,0):h?e.set(o,1):e.set(o,2)}return e}const Rz=80*1e3,_de=3;var Ka=(t=>(t.Error="ERROR",t.Prepared="PREPARED",t.Stopped="STOPPED",t.Syncing="SYNCING",t.Catchup="CATCHUP",t.Reconnecting="RECONNECTING",t))(Ka||{});const wde=["org.matrix.msc2716v3"];function Mz(t,e){return`FILTER_SYNC_${t}`+(e?"_"+e:"")}function Zi(...t){V.log(...t)}class tS{constructor(e,n={}){var r;this.client=e,this.opts=n,this._peekRoom=null,this.currentSyncRequest=null,this.syncState=null,this.syncStateData=null,this.catchingUp=!1,this.running=!1,this.keepAliveTimer=null,this.connectionReturnedDefer=null,this.notifEvents=[],this.failedSyncCount=0,this.storeIsInvalid=!1,this.getPushRules=async()=>{try{Zi("Getting push rules...");const i=await this.client.getPushRules();Zi("Got push rules"),this.client.pushRules=i}catch(i){return V.error("Getting push rules failed",i),this.shouldAbortSync(i)?void 0:(Zi("Waiting for saved sync before retrying push rules..."),await this.recoverFromSyncStartupError(this.savedSyncPromise,i),this.getPushRules())}},this.buildDefaultFilter=()=>{const i=new cf(this.client.credentials.userId);return this.client.canSupport.get(eM.ThreadUnreadNotifications)!==QR.Unsupported&&i.setUnreadThreadNotifications(!0),i},this.checkLazyLoadStatus=async()=>{var s;if(Zi("Checking lazy load status..."),this.opts.lazyLoadMembers&&this.client.isGuest()&&(this.opts.lazyLoadMembers=!1),this.opts.lazyLoadMembers&&(Zi("Checking server lazy load support..."),await this.client.doesServerSupportLazyLoading()?(Zi("Enabling lazy load on sync filter..."),this.opts.filter||(this.opts.filter=this.buildDefaultFilter()),this.opts.filter.setLazyLoadMembers(!0)):(Zi("LL: lazy loading requested but not supported by server, so disabling"),this.opts.lazyLoadMembers=!1)),Zi("Checking whether lazy loading has changed in store..."),await this.wasLazyLoadingToggled(this.opts.lazyLoadMembers)){this.storeIsInvalid=!0;const o=$3.TOGGLED_LAZY_LOADING,l=new $3(o,!!this.opts.lazyLoadMembers);this.updateSyncState("ERROR",{error:l}),V.warn("InvalidStoreError: store is not usable: stopping sync.");return}this.opts.lazyLoadMembers&&((s=this.opts.crypto)==null||s.enableLazyLoading());try{Zi("Storing client options..."),await this.client.storeClientOptions(),Zi("Stored client options")}catch(o){throw V.error("Storing client options failed",o),o}},this.getFilter=async()=>{Zi("Getting filter...");let i;this.opts.filter?i=this.opts.filter:i=this.buildDefaultFilter();let s;try{s=await this.client.getOrCreateFilter(Mz(this.client.credentials.userId),i)}catch(o){return V.error("Getting filter failed",o),this.shouldAbortSync(o)?{}:(Zi("Waiting for saved sync before retrying filter..."),await this.recoverFromSyncStartupError(this.savedSyncPromise,o),this.getFilter())}return{filter:i,filterId:s}},this.onOnline=()=>{Zi("Browser thinks we are back online"),this.startKeepAlives(0)},this.opts.initialSyncLimit=(r=this.opts.initialSyncLimit)!=null?r:8,this.opts.resolveInvitesToProfiles=this.opts.resolveInvitesToProfiles||!1,this.opts.pollTimeout=this.opts.pollTimeout||30*1e3,this.opts.pendingEventOrdering=this.opts.pendingEventOrdering||id.Chronological,this.opts.experimentalThreadSupport=this.opts.experimentalThreadSupport===!0,n.canResetEntireTimeline||(n.canResetEntireTimeline=i=>!1),e.getNotifTimelineSet()&&e.reEmitter.reEmit(e.getNotifTimelineSet(),[Gr.Timeline,Gr.TimelineReset])}createRoom(e){const n=tJ(this.client,e,this.opts);return n.on(Ci.Marker,(r,i)=>{this.onMarkerStateEvent(n,r,i)}),n}onMarkerStateEvent(e,n,{timelineWasEmpty:r}={}){if(r){V.debug(`MarkerState: Ignoring markerEventId=${n.getId()} in roomId=${e.roomId} because the timeline was empty before the marker arrived which means there is nothing to refresh.`);return}wde.includes(e.getVersion())||n.getSender()===e.getCreator()?(V.debug(`MarkerState: Timeline needs to be refreshed because a new markerEventId=${n.getId()} was sent in roomId=${e.roomId}`),e.setTimelineNeedsRefresh(!0),e.emit(Gr.HistoryImportedWithinTimeline,n,e)):V.debug(`MarkerState: Ignoring markerEventId=${n.getId()} in roomId=${e.roomId} because MSC2716 is not supported in the room version or for any room version, the marker wasn't sent by the room creator.`)}syncLeftRooms(){const e=this.client,n=new cf(this.client.credentials.userId);n.setTimelineLimit(1),n.setIncludeLeaveRooms(!0);const r=this.opts.pollTimeout+Rz,i={timeout:0};return e.getOrCreateFilter(Mz(e.credentials.userId,"LEFT_ROOMS"),n).then(function(s){return i.filter=s,e.http.authedRequest(jt.Get,"/sync",i,void 0,{localTimeoutMs:r})}).then(async s=>{var l;let o=[];return(l=s.rooms)!=null&&l.leave&&(o=this.mapSyncResponseToRoomArray(s.rooms.leave)),Promise.all(o.map(async d=>{const h=d.room;if(!d.isBrandNewRoom)return;d.timeline=d.timeline||{};const f=this.mapSyncEventsFormat(d.timeline,h),v=this.mapSyncEventsFormat(d.state,h);return h.getLiveTimeline().setPaginationToken(d.timeline.prev_batch,pr.BACKWARDS),await this.injectRoomEvents(h,v,f),h.recalculate(),e.store.storeRoom(h),e.emit(sr.Room,h),this.processEventsForNotifs(h,f),h}))})}peek(e){if(this._peekRoom&&this._peekRoom.roomId===e)return Promise.resolve(this._peekRoom);const n=this.client;return this._peekRoom=this.createRoom(e),this.client.roomInitialSync(e,20).then(r=>{r.messages=r.messages||{chunk:[]},r.messages.chunk=r.messages.chunk||[],r.state=r.state||[];const i=GR(r.state).map(n.getEventMapper()),s=r.state.map(n.getEventMapper()),o=r.messages.chunk.map(n.getEventMapper());return Array.isArray(r.presence)&&r.presence.map(n.getEventMapper()).forEach(function(l){let d=n.store.getUser(l.getContent().user_id);d?d.setPresenceEvent(l):(d=CD(n,l.getContent().user_id),d.setPresenceEvent(l),n.store.storeUser(d)),n.emit(sr.Event,l)}),r.messages.start&&(this._peekRoom.oldState.paginationToken=r.messages.start),this._peekRoom.oldState.setStateEvents(i),this._peekRoom.currentState.setStateEvents(s),this.resolveInvites(this._peekRoom),this._peekRoom.recalculate(),this._peekRoom.addEventsToTimeline(o.reverse(),!0,this._peekRoom.getLiveTimeline(),r.messages.start),n.store.storeRoom(this._peekRoom),n.emit(sr.Room,this._peekRoom),this.peekPoll(this._peekRoom),this._peekRoom})}stopPeeking(){this._peekRoom=null}peekPoll(e,n){if(this._peekRoom!==e){Zi("Stopped peeking in room %s",e.roomId);return}this.client.http.authedRequest(jt.Get,"/events",{room_id:e.roomId,timeout:String(30*1e3),from:n},void 0,{localTimeoutMs:50*1e3}).then(r=>{if(this._peekRoom!==e){Zi("Stopped peeking in room %s",e.roomId);return}r.chunk.filter(function(s){return s.type==="m.presence"}).map(this.client.getEventMapper()).forEach(s=>{let o=this.client.store.getUser(s.getContent().user_id);o?o.setPresenceEvent(s):(o=CD(this.client,s.getContent().user_id),o.setPresenceEvent(s),this.client.store.storeUser(o)),this.client.emit(sr.Event,s)});const i=r.chunk.filter(function(s){return s.room_id===e.roomId&&s.event_id}).map(this.client.getEventMapper());e.addLiveEvents(i),this.peekPoll(e,r.end)},r=>{V.error("[%s] Peek poll failed: %s",e.roomId,r),setTimeout(()=>{this.peekPoll(e,n)},30*1e3)})}getSyncState(){return this.syncState}getSyncStateData(){return this.syncStateData}async recoverFromSyncStartupError(e,n){await e;const r=this.startKeepAlives();this.updateSyncState("ERROR",{error:n}),await r}async wasLazyLoadingToggled(e=!1){let n=!1;if(!await this.client.store.isNewlyCreated()){const i=await this.client.store.getClientOptions();return i&&(n=!!i.lazyLoadMembers),n!==e}return!1}shouldAbortSync(e){return e.errcode==="M_UNKNOWN_TOKEN"?(V.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState("ERROR",{error:e}),!0):!1}async sync(){var i,s;if(this.running=!0,this.abortController=new AbortController,(s=(i=global.window)==null?void 0:i.addEventListener)==null||s.call(i,"online",this.onOnline,!1),this.client.isGuest())return this.doSync({});Zi("Getting saved sync token...");const e=this.client.store.getSavedSyncToken().then(o=>(Zi("Got saved sync token"),o));this.savedSyncPromise=this.client.store.getSavedSync().then(o=>{if(Zi(`Got reply from saved sync, exists? ${!!o}`),o)return this.syncFromCache(o)}).catch(o=>{V.error("Getting saved sync failed",o)}),await this.getPushRules(),await this.checkLazyLoadStatus();const{filterId:n,filter:r}=await this.getFilter();if(!!r){if(this.client.resetNotifTimelineSet(),this.currentSyncRequest===null){let o=n;const l=await e;if(l)Zi("Sending first sync request...");else{Zi("Sending initial sync request...");const d=this.buildDefaultFilter();d.setDefinition(r.getDefinition()),d.setTimelineLimit(this.opts.initialSyncLimit),o=JSON.stringify(d.getDefinition())}this.currentSyncRequest=this.doSyncRequest({filter:o},l)}return Zi("Waiting for saved sync before starting sync processing..."),await this.savedSyncPromise,this.doSync({filter:n})}}stop(){var e,n,r;Zi("SyncApi.stop"),(n=(e=global.window)==null?void 0:e.removeEventListener)==null||n.call(e,"online",this.onOnline,!1),this.running=!1,(r=this.abortController)==null||r.abort(),this.keepAliveTimer&&(clearTimeout(this.keepAliveTimer),this.keepAliveTimer=null)}retryImmediately(){return this.connectionReturnedDefer?(this.startKeepAlives(0),!0):!1}async syncFromCache(e){Zi("sync(): not doing HTTP hit, instead returning stored /sync data");const n=e.nextBatch;this.client.store.setSyncToken(n);const r={nextSyncToken:n,catchingUp:!1,fromCache:!0},i={next_batch:n,rooms:e.roomsData,account_data:{events:e.accountData}};try{await this.processSyncResponse(r,i)}catch(s){V.error("Error processing cached sync",s)}this.storeIsInvalid||this.updateSyncState("PREPARED",r)}async doSync(e){for(;this.running;){const n=this.client.store.getSyncToken();let r;try{this.currentSyncRequest===null&&(this.currentSyncRequest=this.doSyncRequest(e,n)),r=await this.currentSyncRequest}catch(s){if(await this.onSyncError(s))return;continue}finally{this.currentSyncRequest=null}this.client.store.setSyncToken(r.next_batch),this.failedSyncCount=0,await this.client.store.setSyncData(r);const i={oldSyncToken:n,nextSyncToken:r.next_batch,catchingUp:this.catchingUp};this.opts.crypto&&await this.opts.crypto.onSyncWillProcess(i);try{await this.processSyncResponse(i,r)}catch(s){V.error("Caught /sync error",s),this.client.emit(sr.SyncUnexpectedError,s)}i.catchingUp=this.catchingUp,e.hasSyncedBefore||(this.updateSyncState("PREPARED",i),e.hasSyncedBefore=!0),this.opts.crypto&&await this.opts.crypto.onSyncCompleted(i),this.updateSyncState("SYNCING",i),this.client.store.wantsSave()&&(this.opts.crypto&&await this.opts.crypto.saveDeviceList(0),this.client.store.save())}this.running||(Zi("Sync no longer running: exiting."),this.connectionReturnedDefer&&(this.connectionReturnedDefer.reject(),this.connectionReturnedDefer=null),this.updateSyncState("STOPPED"))}doSyncRequest(e,n){var i;const r=this.getSyncParams(e,n);return this.client.http.authedRequest(jt.Get,"/sync",r,void 0,{localTimeoutMs:r.timeout+Rz,abortSignal:(i=this.abortController)==null?void 0:i.signal})}getSyncParams(e,n){let r=this.opts.pollTimeout;(this.getSyncState()!=="SYNCING"||this.catchingUp)&&(this.catchingUp=!0,r=0);let i=e.filter;this.client.isGuest()&&!i&&(i=this.getGuestFilter());const s={filter:i,timeout:r};return this.opts.disablePresence&&(s.set_presence="offline"),n?s.since=n:s._cacheBuster=Date.now(),["RECONNECTING","ERROR"].includes(this.getSyncState())&&(s.timeout=0),s}async onSyncError(e){if(!this.running)return Zi("Sync no longer running: exiting"),this.connectionReturnedDefer&&(this.connectionReturnedDefer.reject(),this.connectionReturnedDefer=null),this.updateSyncState("STOPPED"),!0;if(V.error("/sync error %s",e),this.shouldAbortSync(e))return!0;this.failedSyncCount++,V.log("Number of consecutive failed sync requests:",this.failedSyncCount),Zi("Starting keep-alive");const n=this.startKeepAlives();return this.currentSyncRequest=null,this.updateSyncState(this.failedSyncCount>=_de?"ERROR":"RECONNECTING",{error:e}),await n&&this.getSyncState()==="ERROR"&&this.updateSyncState("CATCHUP",{catchingUp:!0}),!1}async processSyncResponse(e,n){var l,d,h;const r=this.client;if(Array.isArray((l=n.presence)==null?void 0:l.events)&&n.presence.events.map(r.getEventMapper()).forEach(function(f){let v=r.store.getUser(f.getSender());v?v.setPresenceEvent(f):(v=CD(r,f.getSender()),v.setPresenceEvent(f),r.store.storeUser(v)),r.emit(sr.Event,f)}),Array.isArray((d=n.account_data)==null?void 0:d.events)){const f=n.account_data.events.map(r.getEventMapper()),v=f.reduce((w,E)=>(w[E.getId()]=r.store.getAccountData(E.getType()),w),{});r.store.storeAccountDataEvents(f),f.forEach(function(w){if(w.getType()===Ot.PushRules){const C=w.getContent();r.pushRules=h3.rewriteDefaultRules(C)}const E=v[w.getId()];return r.emit(sr.AccountData,w,E),w})}if(Array.isArray((h=n.to_device)==null?void 0:h.events)&&n.to_device.events.length>0){const f=[];n.to_device.events.filter(v=>{var w;return v.type===Ot.RoomMessageEncrypted&&!["m.olm.v1.curve25519-aes-sha2"].includes((w=v.content)==null?void 0:w.algorithm)?(V.log("Ignoring invalid encrypted to-device event from "+v.sender),!1):!0}).map(r.getEventMapper({toDevice:!0})).map(v=>{if(v.getType()==="m.key.verification.cancel"){const w=v.getContent().transaction_id;w&&f.push(w)}return v}).forEach(function(v){const w=v.getContent();if(v.getType()=="m.room.message"&&w.msgtype=="m.bad.encrypted"){V.log("Ignoring undecryptable to-device event from "+v.getSender());return}if(v.getType()==="m.key.verification.start"||v.getType()==="m.key.verification.request"){const E=w.transaction_id;f.includes(E)&&v.flagCancelled()}r.emit(sr.ToDeviceEvent,v)})}else this.catchingUp=!1;let i=[],s=[],o=[];if(n.rooms&&(n.rooms.invite&&(i=this.mapSyncResponseToRoomArray(n.rooms.invite)),n.rooms.join&&(s=this.mapSyncResponseToRoomArray(n.rooms.join)),n.rooms.leave&&(o=this.mapSyncResponseToRoomArray(n.rooms.leave))),this.notifEvents=[],await oy(i,async f=>{var C;const v=f.room,w=this.mapSyncEventsFormat(f.invite_state,v);await this.injectRoomEvents(v,w);const E=(C=v.currentState.getStateEvents(Ot.RoomMember,r.getUserId()))==null?void 0:C.getSender();if(r.isCryptoEnabled()){const O=await r.crypto.cryptoStore.takeParkedSharedHistory(v.roomId);for(const M of O)M.senderId===E&&await r.crypto.olmDevice.addInboundGroupSession(v.roomId,M.senderKey,M.forwardingCurve25519KeyChain,M.sessionId,M.sessionKey,M.keysClaimed,!0,{sharedHistory:!0,untrusted:!0})}f.isBrandNewRoom?(v.recalculate(),r.store.storeRoom(v),r.emit(sr.Room,v)):v.recalculate(),w.forEach(function(O){r.emit(sr.Event,O)})}),await oy(s,async f=>{var U;const v=f.room,w=this.mapSyncEventsFormat(f.state,v),E=this.mapSyncEventsFormat(f.timeline,v,!1),C=this.mapSyncEventsFormat(f.ephemeral),O=this.mapSyncEventsFormat(f.account_data),M=r.isRoomEncrypted(v.roomId);f.unread_notifications&&(v.setUnreadNotificationCount(go.Total,f.unread_notifications.notification_count),(!M||v.getUnreadNotificationCount(go.Highlight)<=0)&&v.setUnreadNotificationCount(go.Highlight,f.unread_notifications.highlight_count)),v.resetThreadUnreadNotificationCount();const A=(U=f[B3.name])!=null?U:f[B3.altName];if(A&&Object.entries(A).forEach(([R,X])=>{v.setThreadUnreadNotificationCount(R,go.Total,X.notification_count);const H=v.getThreadUnreadNotificationCount(R,go.Highlight)<=0;(!M||M&&H)&&v.setThreadUnreadNotificationCount(R,go.Highlight,X.highlight_count)}),f.timeline=f.timeline||{},f.isBrandNewRoom)f.timeline.prev_batch!==null&&v.getLiveTimeline().setPaginationToken(f.timeline.prev_batch,pr.BACKWARDS);else if(f.timeline.limited){let R=!0;for(let X=E.length-1;X>=0;X--){const H=E[X].getId();if(v.getTimelineForEvent(H)){Zi("Already have event "+H+" in limited sync - not resetting"),R=!1,E.splice(0,X);break}}R&&(v.resetLiveTimeline(f.timeline.prev_batch,this.opts.canResetEntireTimeline(v.roomId)?null:e.oldSyncToken),r.resetNotifTimelineSet())}try{await this.injectRoomEvents(v,w,E,e.fromCache)}catch(R){V.error(`Failed to process events on room ${v.roomId}:`,R)}f.summary&&v.setSummary(f.summary),v.addEphemeralEvents(C),v.addAccountData(O),v.recalculate(),f.isBrandNewRoom&&(r.store.storeRoom(v),r.emit(sr.Room,v)),this.processEventsForNotifs(v,E);const D=async R=>{r.emit(sr.Event,R),R.isState()&&R.getType()=="m.room.encryption"&&this.opts.crypto&&await this.opts.crypto.onCryptoEvent(R)};await oy(w,D),await oy(E,D),C.forEach(function(R){r.emit(sr.Event,R)}),O.forEach(function(R){r.emit(sr.Event,R)}),v.decryptCriticalEvents()}),await oy(o,async f=>{const v=f.room,w=this.mapSyncEventsFormat(f.state,v),E=this.mapSyncEventsFormat(f.timeline,v),C=this.mapSyncEventsFormat(f.account_data);await this.injectRoomEvents(v,w,E),v.addAccountData(C),v.recalculate(),f.isBrandNewRoom&&(r.store.storeRoom(v),r.emit(sr.Room,v)),this.processEventsForNotifs(v,E),w.forEach(function(O){r.emit(sr.Event,O)}),E.forEach(function(O){r.emit(sr.Event,O)}),C.forEach(function(O){r.emit(sr.Event,O)})}),e.oldSyncToken&&this.notifEvents.length&&(this.notifEvents.sort(function(f,v){return f.getTs()-v.getTs()}),this.notifEvents.forEach(function(f){r.getNotifTimelineSet().addLiveEvent(f)})),n.device_lists&&this.opts.crypto&&await this.opts.crypto.handleDeviceListChanges(e,n.device_lists),this.opts.crypto&&n.device_one_time_keys_count){const f=n.device_one_time_keys_count.signed_curve25519||0;this.opts.crypto.updateOneTimeKeyCount(f)}if(this.opts.crypto&&(n.device_unused_fallback_key_types||n["org.matrix.msc2732.device_unused_fallback_key_types"])){const f=n.device_unused_fallback_key_types||n["org.matrix.msc2732.device_unused_fallback_key_types"];this.opts.crypto.setNeedsNewFallback(f instanceof Array&&!f.includes("signed_curve25519"))}}startKeepAlives(e){return e===void 0&&(e=2e3+Math.floor(Math.random()*5e3)),this.keepAliveTimer!==null&&clearTimeout(this.keepAliveTimer),e>0?this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this),e):this.pokeKeepAlive(),this.connectionReturnedDefer||(this.connectionReturnedDefer=rv()),this.connectionReturnedDefer.promise}pokeKeepAlive(e=!1){const n=()=>{clearTimeout(this.keepAliveTimer),this.connectionReturnedDefer&&(this.connectionReturnedDefer.resolve(e),this.connectionReturnedDefer=null)};this.client.http.request(jt.Get,"/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15*1e3}).then(()=>{n()},r=>{r.httpStatus==400||r.httpStatus==404?this.keepAliveTimer=setTimeout(n,2e3):(e=!0,this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this,e),5e3+Math.floor(Math.random()*5e3)),this.updateSyncState("ERROR",{error:r}))})}mapSyncResponseToRoomArray(e){const n=this.client;return Object.keys(e).map(r=>{const i=e[r];let s=n.store.getRoom(r),o=!1;return s||(s=this.createRoom(r),o=!0),i.room=s,i.isBrandNewRoom=o,i})}mapSyncEventsFormat(e,n,r=!0){if(!e||!Array.isArray(e.events))return[];const i=this.client.getEventMapper({decrypt:r});return e.events.map(function(s){return n&&(s.room_id=n.roomId),i(s)})}resolveInvites(e){if(!e||!this.opts.resolveInvitesToProfiles)return;const n=this.client;e.getMembersWithMembership("invite").forEach(function(r){if(r._requestedProfileInfo)return;r._requestedProfileInfo=!0;const i=n.getUser(r.userId);let s;i?s=Promise.resolve({avatar_url:i.avatarUrl,displayname:i.displayName}):s=n.getProfileInfo(r.userId),s.then(function(o){const l=r.events.member;l.getContent().membership==="invite"&&(l.getContent().avatar_url=o.avatar_url,l.getContent().displayname=o.displayname,r.setMembershipEvent(l,e.currentState))},function(o){})})}async injectRoomEvents(e,n,r,i=!1){const s=e.getLiveTimeline(),o=s.getEvents().length==0;if(o){for(const l of n)this.client.getPushActionsForEvent(l);s.initialiseState(n,{timelineWasEmpty:o})}this.resolveInvites(e),e.recalculate(),o||(e.oldState.setStateEvents(n||[]),e.currentState.setStateEvents(n||[])),e.addLiveEvents(r||[],{fromCache:i,timelineWasEmpty:o}),this.client.processBeaconEvents(e,r)}processEventsForNotifs(e,n){if(this.client.getNotifTimelineSet())for(let r=0;r<n.length;r++){const i=this.client.getPushActionsForEvent(n[r]);i&&i.notify&&i.tweaks&&i.tweaks.highlight&&this.notifEvents.push(n[r])}}getGuestFilter(){return"{}"}updateSyncState(e,n){const r=this.syncState;this.syncState=e,this.syncStateData=n,this.client.emit(sr.Sync,this.syncState,r,n)}}function CD(t,e){const n=new aw(e);return t.reEmitter.reEmit(n,[Ic.AvatarUrl,Ic.DisplayName,Ic.Presence,Ic.CurrentlyActive,Ic.LastPresenceTs]),n}function tJ(t,e,n){const{timelineSupport:r}=t,i=new rM(e,t,t.getUserId(),{lazyLoadMembers:n.lazyLoadMembers,pendingEventOrdering:n.pendingEventOrdering,timelineSupport:r});return t.reEmitter.reEmit(i,[Gr.Name,Gr.Redaction,Gr.RedactionCancelled,Gr.Receipt,Gr.Tags,Gr.LocalEchoUpdated,Gr.AccountData,Gr.MyMembership,Gr.Timeline,Gr.TimelineReset,Ci.Events,Ci.Members,Ci.NewMember,Ci.Update,Js.New,Js.Update,Js.Destroy,Js.LivenessChange]),i.on(Ci.NewMember,(s,o,l)=>{l.user=t.getUser(l.userId),t.reEmitter.reEmit(l,[Mc.Name,Mc.Typing,Mc.PowerLevel,Mc.Membership])}),i}class Ede{constructor(){this.accountData={},this.fromToken=null}isNewlyCreated(){return Promise.resolve(!0)}getSyncToken(){return this.fromToken}setSyncToken(e){this.fromToken=e}storeRoom(e){}getRoom(e){return null}getRooms(){return[]}removeRoom(e){}getRoomSummaries(){return[]}storeUser(e){}getUser(e){return null}getUsers(){return[]}scrollback(e,n){return[]}storeEvents(e,n,r,i){}storeFilter(e){}getFilter(e,n){return null}getFilterIdByName(e){return null}setFilterIdByName(e,n){}storeAccountDataEvents(e){}getAccountData(e){}setSyncData(e){return Promise.resolve()}wantsSave(){return!1}save(){}startup(){return Promise.resolve()}getSavedSync(){return Promise.resolve(null)}getSavedSyncToken(){return Promise.resolve(null)}deleteAllData(){return Promise.resolve()}getOutOfBandMembers(){return Promise.resolve(null)}setOutOfBandMembers(e,n){return Promise.resolve()}clearOutOfBandMembers(){return Promise.resolve()}getClientOptions(){return Promise.resolve({})}storeClientOptions(e){return Promise.resolve()}async getPendingEvents(e){return[]}setPendingEvents(e,n){return Promise.resolve()}async saveToDeviceBatches(e){return Promise.resolve()}getOldestToDeviceBatch(){return Promise.resolve(null)}async removeToDeviceBatch(e){return Promise.resolve()}}var nJ={},EU={exports:{}},Oz=EU.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var e="candidate:%s %d %s %d %s %d typ %s";return e+=t.raddr!=null?" raddr %s rport %d":"%v%v",e+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(e+=" generation %d"),e+=t["network-id"]!=null?" network-id %d":"%v",e+=t["network-cost"]!=null?" network-cost %d":"%v",e}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var e="ssrc:%d";return t.attribute!=null&&(e+=" %s",t.value!=null&&(e+=":%s")),e}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var e="mediaclk:";return e+=t.id!=null?"id=%s %s":"%v%s",e+=t.mediaClockValue!=null?"=%s":"",e+=t.rateNumerator!=null?" rate=%s":"",e+=t.rateDenominator!=null?"/%s":"",e}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(Oz).forEach(function(t){var e=Oz[t];e.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});(function(t){var e=function(l){return String(Number(l))===l?Number(l):l},n=function(l,d,h,f){if(f&&!h)d[f]=e(l[1]);else for(var v=0;v<h.length;v+=1)l[v+1]!=null&&(d[h[v]]=e(l[v+1]))},r=function(l,d,h){var f=l.name&&l.names;l.push&&!d[l.push]?d[l.push]=[]:f&&!d[l.name]&&(d[l.name]={});var v=l.push?{}:f?d[l.name]:d;n(h.match(l.reg),v,l.names,l.name),l.push&&d[l.push].push(v)},i=EU.exports,s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(l){var d={},h=[],f=d;return l.split(/(\r\n|\r|\n)/).filter(s).forEach(function(v){var w=v[0],E=v.slice(2);w==="m"&&(h.push({rtp:[],fmtp:[]}),f=h[h.length-1]);for(var C=0;C<(i[w]||[]).length;C+=1){var O=i[w][C];if(O.reg.test(E))return r(O,f,E)}}),d.media=h,d};var o=function(l,d){var h=d.split(/=(.+)/,2);return h.length===2?l[h[0]]=e(h[1]):h.length===1&&d.length>1&&(l[h[0]]=void 0),l};t.parseParams=function(l){return l.split(/;\s?/).reduce(o,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(l){return l.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(l){for(var d=[],h=l.split(" ").map(e),f=0;f<h.length;f+=3)d.push({component:h[f],ip:h[f+1],port:h[f+2]});return d},t.parseImageAttributes=function(l){return l.split(" ").map(function(d){return d.substring(1,d.length-1).split(",").reduce(o,{})})},t.parseSimulcastStreamList=function(l){return l.split(";").map(function(d){return d.split(",").map(function(h){var f,v=!1;return h[0]!=="~"?f=e(h):(f=e(h.substring(1,h.length)),v=!0),{scid:f,paused:v}})})}})(nJ);var ID=EU.exports,Sde=/%[sdv%]/g,xde=function(t){var e=1,n=arguments,r=n.length;return t.replace(Sde,function(i){if(e>=r)return i;var s=n[e];switch(e+=1,i){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return""}})},gE=function(t,e,n){var r=e.format instanceof Function?e.format(e.push?n:n[e.name]):e.format,i=[t+"="+r];if(e.names)for(var s=0;s<e.names.length;s+=1){var o=e.names[s];e.name?i.push(n[e.name][o]):i.push(n[e.names[s]])}else i.push(n[e.name]);return xde.apply(null,i)},kde=["v","o","s","i","u","e","p","c","b","t","r","z","a"],Tde=["i","c","b","a"],Cde=function(t,e){e=e||{},t.version==null&&(t.version=0),t.name==null&&(t.name=" "),t.media.forEach(function(s){s.payloads==null&&(s.payloads="")});var n=e.outerOrder||kde,r=e.innerOrder||Tde,i=[];return n.forEach(function(s){ID[s].forEach(function(o){o.name in t&&t[o.name]!=null?i.push(gE(s,o,t)):o.push in t&&t[o.push]!=null&&t[o.push].forEach(function(l){i.push(gE(s,o,l))})})}),t.media.forEach(function(s){i.push(gE("m",ID.m[0],s)),r.forEach(function(o){ID[o].forEach(function(l){l.name in s&&s[l.name]!=null?i.push(gE(o,l,s)):l.push in s&&s[l.push]!=null&&s[l.push].forEach(function(d){i.push(gE(o,l,d))})})})}),i.join(`\r
`)+`\r
`},sv=nJ,Ide=Cde,rJ=Ide,iJ=sv.parse;sv.parseParams;sv.parseFmtpConfig;sv.parsePayloads;sv.parseRemoteCandidates;sv.parseImageAttributes;sv.parseSimulcastStreamList;const Rde="abcdefghijklmnopqrstuvwxyz",Mde="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Ode="0123456789";function vd(t){return Lde(t,Mde+Rde+Ode)}function Lde(t,e){let n="";for(let r=0;r<t;++r)n+=e.charAt(Math.floor(Math.random()*e.length));return n}const Q1="org.matrix.msc3077.sdp_stream_metadata";var is=(t=>(t.Usermedia="m.usermedia",t.Screenshare="m.screenshare",t))(is||{});let bS=null,QB=0;const sJ=()=>(bS===null&&(bS=new AudioContext),QB++,bS),e$=()=>{QB--,QB===0&&(bS.close(),bS=null)},Ade=200,t$=-60,Pde=8;var zl=(t=>(t.NewStream="new_stream",t.MuteStateChanged="mute_state_changed",t.LocalVolumeChanged="local_volume_changed",t.VolumeChanged="volume_changed",t.Speaking="speaking",t.Disposed="disposed",t))(zl||{});class op extends Do{constructor(e){super(),this.localVolume=1,this.measuringVolumeActivity=!1,this.speakingThreshold=t$,this.speaking=!1,this._disposed=!1,this.onAddTrack=()=>{this.emit("new_stream",this.stream)},this.volumeLooper=()=>{if(!this.analyser||!this.measuringVolumeActivity)return;this.analyser.getFloatFrequencyData(this.frequencyBinCount);let n=-1/0;for(let i=0;i<this.frequencyBinCount.length;i++)this.frequencyBinCount[i]>n&&(n=this.frequencyBinCount[i]);this.speakingVolumeSamples.shift(),this.speakingVolumeSamples.push(n),this.emit("volume_changed",n);let r=!1;for(let i=0;i<this.speakingVolumeSamples.length;i++)if(this.speakingVolumeSamples[i]>this.speakingThreshold){r=!0;break}this.speaking!==r&&(this.speaking=r,this.emit("speaking",this.speaking)),this.volumeLooperTimeout=setTimeout(this.volumeLooper,Ade)},this.client=e.client,this.roomId=e.roomId,this.userId=e.userId,this.purpose=e.purpose,this.audioMuted=e.audioMuted,this.videoMuted=e.videoMuted,this.speakingVolumeSamples=new Array(Pde).fill(-1/0),this.sdpMetadataStreamId=e.stream.id,this.updateStream(null,e.stream),this.hasAudioTrack&&this.initVolumeMeasuring()}get hasAudioTrack(){return this.stream.getAudioTracks().length>0}updateStream(e,n){n!==e&&(e&&(e.removeEventListener("addtrack",this.onAddTrack),this.measureVolumeActivity(!1)),n&&(this.stream=n,n.addEventListener("addtrack",this.onAddTrack),this.hasAudioTrack?this.initVolumeMeasuring():this.measureVolumeActivity(!1)),this.emit("new_stream",this.stream))}initVolumeMeasuring(){if(!this.hasAudioTrack)return;this.audioContext||(this.audioContext=sJ()),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=512,this.analyser.smoothingTimeConstant=.1,this.audioContext.createMediaStreamSource(this.stream).connect(this.analyser),this.frequencyBinCount=new Float32Array(this.analyser.frequencyBinCount)}getMember(){return this.client.getRoom(this.roomId).getMember(this.userId)}isLocal(){return this.userId===this.client.getUserId()}isAudioMuted(){return this.stream.getAudioTracks().length===0||this.audioMuted}isVideoMuted(){return this.stream.getVideoTracks().length===0||this.videoMuted}isSpeaking(){return this.speaking}setNewStream(e){this.updateStream(this.stream,e)}setAudioVideoMuted(e,n){e!==null&&(this.audioMuted!==e&&this.speakingVolumeSamples.fill(-1/0),this.audioMuted=e),n!==null&&(this.videoMuted=n),this.emit("mute_state_changed",this.audioMuted,this.videoMuted)}measureVolumeActivity(e){if(e){if(!this.analyser||!this.frequencyBinCount||!this.hasAudioTrack)return;this.measuringVolumeActivity=!0,this.volumeLooper()}else this.measuringVolumeActivity=!1,this.speakingVolumeSamples.fill(-1/0),this.emit("volume_changed",-1/0)}setSpeakingThreshold(e){this.speakingThreshold=e}clone(){const e=this.client.getMediaHandler(),n=this.stream.clone();return V.log(`callFeed cloning stream ${this.stream.id} newStream ${n.id}`),this.purpose===is.Usermedia?e.userMediaStreams.push(n):e.screensharingStreams.push(n),new op({client:this.client,roomId:this.roomId,userId:this.userId,stream:n,purpose:this.purpose,audioMuted:this.audioMuted,videoMuted:this.videoMuted})}dispose(){var e;clearTimeout(this.volumeLooperTimeout),(e=this.stream)==null||e.removeEventListener("addtrack",this.onAddTrack),this.audioContext&&(this.audioContext=null,this.analyser=null,e$()),this._disposed=!0,this.emit("disposed")}get disposed(){return this._disposed}set disposed(e){this._disposed=e}getLocalVolume(){return this.localVolume}setLocalVolume(e){this.localVolume=e,this.emit("local_volume_changed",e)}}const oJ=class{constructor(t){this.deviceId=t,this.keys={},this.verified=0,this.known=!1,this.unsigned={},this.signatures={}}static fromStorage(t,e){const n=new oJ(e);for(const r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}toStorage(){return{algorithms:this.algorithms,keys:this.keys,verified:this.verified,known:this.known,unsigned:this.unsigned,signatures:this.signatures}}getFingerprint(){return this.keys["ed25519:"+this.deviceId]}getIdentityKey(){return this.keys["curve25519:"+this.deviceId]}getDisplayName(){return this.unsigned.device_display_name||null}isBlocked(){return this.verified==-1}isVerified(){return this.verified==1}isUnverified(){return this.verified==0}isKnown(){return this.known===!0}};let Ac=oJ;Ac.DeviceVerification={VERIFIED:1,UNVERIFIED:0,BLOCKED:-1};const Dde=3e3;var n$=(t=>(t.Incoming="Call.incoming",t))(n$||{});class Nde{constructor(e){this.nextSeqByCall=new Map,this.toDeviceEventBuffers=new Map,this.onSync=()=>{const n=this.callEventBuffer;this.callEventBuffer=[],this.eventBufferPromiseChain?this.eventBufferPromiseChain=this.eventBufferPromiseChain.then(()=>this.evaluateEventBuffer(n)):this.eventBufferPromiseChain=this.evaluateEventBuffer(n)},this.onRoomTimeline=n=>{this.callEventBuffer.push(n)},this.onToDeviceEvent=n=>{const r=n.getContent();if(!r.call_id){this.callEventBuffer.push(n);return}if(this.nextSeqByCall.has(r.call_id)||this.nextSeqByCall.set(r.call_id,0),r.seq===void 0){this.callEventBuffer.push(n);return}const i=this.nextSeqByCall.get(r.call_id)||0;if(r.seq!==i){this.toDeviceEventBuffers.has(r.call_id)||this.toDeviceEventBuffers.set(r.call_id,[]);const s=this.toDeviceEventBuffers.get(r.call_id),o=s.findIndex(l=>l.getContent().seq>r.seq);o===-1?s.push(n):s.splice(o,0,n)}else{const s=r.call_id;this.callEventBuffer.push(n),this.nextSeqByCall.set(s,r.seq+1);const o=this.toDeviceEventBuffers.get(s);let l=o&&o.shift();for(;l&&l.getContent().seq===this.nextSeqByCall.get(s);)this.callEventBuffer.push(l),this.nextSeqByCall.set(s,l.getContent().seq+1),l=o.shift()}},this.client=e,this.calls=new Map,this.callEventBuffer=[],this.candidateEventsByCall=new Map}start(){this.client.on(sr.Sync,this.onSync),this.client.on(Gr.Timeline,this.onRoomTimeline),this.client.on(sr.ToDeviceEvent,this.onToDeviceEvent)}stop(){this.client.removeListener(sr.Sync,this.onSync),this.client.removeListener(Gr.Timeline,this.onRoomTimeline),this.client.removeListener(sr.ToDeviceEvent,this.onToDeviceEvent)}async evaluateEventBuffer(e){await Promise.all(e.map(i=>this.client.decryptEventIfNeeded(i)));const n=e.filter(i=>{const s=i.getType();return s.startsWith("m.call.")||s.startsWith("org.matrix.call.")}),r=new Set;for(const i of n){const s=i.getType();(s===Ot.CallAnswer||s===Ot.CallHangup)&&r.add(i.getContent().call_id)}for(const i of n){const s=i.getType(),o=i.getContent().call_id;if(!(s===Ot.CallInvite&&r.has(o)))try{await this.handleCallEvent(i)}catch(l){V.error("Caught exception handling call event",l)}}}async handleCallEvent(e){var v,w;this.client.emit(sr.ReceivedVoipEvent,e);const n=e.getContent(),r=e.getRoomId()||((w=(v=this.client.groupCallEventHandler.getGroupCallById(n.conf_id))==null?void 0:v.room)==null?void 0:w.roomId),i=n.conf_id,s=e.getType(),o=e.getSender(),l=o===this.client.credentials.userId;let d=n.call_id?this.calls.get(n.call_id):void 0,h,f;if(i){if(f=this.client.groupCallEventHandler.getGroupCallById(i),!f){V.warn(`Cannot find a group call ${i} for event ${s}. Ignoring event.`);return}if(h=n.device_id,!h){V.warn(`Cannot find a device id for ${o}. Ignoring event.`),f.emit(bs.Error,new xU(o));return}if(n.dest_session_id!==this.client.getSessionId()){V.warn("Call event does not match current session id, ignoring.");return}}if(!!r){if(s===Ot.CallInvite){if(l||e.getLocalAge()>n.lifetime-Dde||d&&d.state===nd.Ended||(d&&V.log(`WARN: Already have a MatrixCall with id ${n.call_id} but got an invite. Clobbering.`),n.invitee&&n.invitee!==this.client.getUserId()))return;const E=this.client.getTurnServersExpiry()-Date.now();if(V.info("Current turn creds expire in "+E+" ms"),d=tx(this.client,r,{forceTURN:this.client.forceTURN,opponentDeviceId:h,groupCallId:i,opponentSessionId:n.sender_session_id}),!d){V.log("Incoming call ID "+n.call_id+" but this client doesn't support WebRTC");return}d.callId=n.call_id;try{await d.initWithInvite(e)}catch(O){O.code===SU.UnknownDevice?f==null||f.emit(bs.Error,O):V.error(O)}if(this.calls.set(d.callId,d),this.candidateEventsByCall.get(d.callId))for(const O of this.candidateEventsByCall.get(d.callId))d.onRemoteIceCandidatesReceived(O);let C;for(const O of this.calls.values()){const M=[nd.WaitLocalMedia,nd.CreateOffer,nd.InviteSent].includes(O.state);if(d.roomId===O.roomId&&O.direction===lJ.Outbound&&d.getOpponentMember().userId===O.invitee&&M){C=O;break}}C?C.callId>d.callId?(V.log("Glare detected: answering incoming call "+d.callId+" and canceling outgoing call "+C.callId),C.replacedBy(d)):(V.log("Glare detected: rejecting incoming call "+d.callId+" and keeping outgoing call "+C.callId),d.hangup(og.Replaced,!0)):this.client.emit("Call.incoming",d);return}else if(s===Ot.CallCandidates){if(l)return;d?d.onRemoteIceCandidatesReceived(e):(this.candidateEventsByCall.has(n.call_id)||this.candidateEventsByCall.set(n.call_id,[]),this.candidateEventsByCall.get(n.call_id).push(e));return}else if([Ot.CallHangup,Ot.CallReject].includes(s)){d?d.state!==nd.Ended&&(s===Ot.CallHangup?d.onHangupReceived(n):d.onRejectReceived(n),d.state===nd.Ended&&this.calls.delete(n.call_id)):(d=tx(this.client,r,{opponentDeviceId:h,opponentSessionId:n.sender_session_id}),d&&(d.callId=n.call_id,d.initWithHangup(e),this.calls.set(n.call_id,d)));return}if(!d||!d.hasPeerConnection){V.info(`Discarding possible call event ${e.getId()} as we don't have a call/peerConn`,s);return}if(e.getContent().party_id!==d.ourPartyId)switch(s){case Ot.CallAnswer:l?d.state===nd.Ringing&&d.onAnsweredElsewhere(n):d.onAnswerReceived(e);break;case Ot.CallSelectAnswer:d.onSelectAnswerReceived(e);break;case Ot.CallNegotiate:d.onNegotiateReceived(e);break;case Ot.CallAssertedIdentity:case Ot.CallAssertedIdentityPrefix:d.onAssertedIdentityReceived(e);break;case Ot.CallSDPStreamMetadataChanged:case Ot.CallSDPStreamMetadataChangedPrefix:d.onSDPStreamMetadataChangedReceived(e);break}}}}var ud=(t=>(t.Incoming="GroupCall.incoming",t.Ended="GroupCall.ended",t.Participants="GroupCall.participants",t))(ud||{});class Bde{constructor(e){this.client=e,this.groupCalls=new Map,this.roomDeferreds=new Map,this.onRoomsChanged=n=>{this.createGroupCallForRoom(n)},this.onRoomStateChanged=(n,r)=>{const i=n.getType();if(i===Ot.GroupCallPrefix){const s=n.getStateKey(),o=n.getContent(),l=this.groupCalls.get(r.roomId);!l&&!o["m.terminated"]?this.createGroupCallFromRoomStateEvent(n):l&&l.groupCallId===s?o["m.terminated"]?l.terminate(!1):o["m.type"]!==l.type&&V.warn(`The group call type changed for room: ${r.roomId}. Changing the group call type is currently unsupported.`):l&&l.groupCallId!==s&&V.warn(`Multiple group calls detected for room: ${r.roomId}. Multiple group calls are currently unsupported.`)}else if(i===Ot.GroupCallMemberPrefix){const s=this.groupCalls.get(r.roomId);if(!s)return;s.onMemberStateChanged(n)}}}async start(){this.client.getSyncState()!==Ka.Syncing&&(V.debug("Waiting for client to start syncing..."),await new Promise(n=>{const r=()=>{if(this.client.getSyncState()===Ka.Syncing)return this.client.off(sr.Sync,r),n()};this.client.on(sr.Sync,r)}));const e=this.client.getRooms();for(const n of e)this.createGroupCallForRoom(n);this.client.on(sr.Room,this.onRoomsChanged),this.client.on(Ci.Events,this.onRoomStateChanged)}stop(){this.client.removeListener(Ci.Events,this.onRoomStateChanged)}getRoomDeferred(e){let n=this.roomDeferreds.get(e);if(n===void 0){let r;n={prom:new Promise(i=>{r=i})},n.resolve=r,this.roomDeferreds.set(e,n)}return n}waitUntilRoomReadyForGroupCalls(e){return this.getRoomDeferred(e).prom}getGroupCallById(e){return[...this.groupCalls.values()].find(n=>n.groupCallId===e)}createGroupCallForRoom(e){const n=e.currentState.getStateEvents(Ot.GroupCallPrefix),r=n.sort((i,s)=>s.getTs()-i.getTs());for(const i of r)if(!i.getContent()["m.terminated"]){V.debug(`Choosing group call ${i.getStateKey()} with TS ${i.getTs()} for room ${e.roomId} from ${n.length} possible calls.`),this.createGroupCallFromRoomStateEvent(i);break}V.info("Group call event handler processed room",e.roomId),this.getRoomDeferred(e.roomId).resolve()}createGroupCallFromRoomStateEvent(e){const n=e.getRoomId(),r=e.getContent(),i=this.client.getRoom(n);if(!i){V.warn(`Couldn't find room ${n} for GroupCall`);return}const s=e.getStateKey(),o=r["m.type"];if(!Object.values(Hg).includes(o)){V.warn(`Received invalid group call type ${o} for room ${n}.`);return}const l=r["m.intent"];if(!Object.values(Qx).includes(l)){V.warn(`Received invalid group call intent ${o} for room ${n}.`);return}const d=Boolean(r["io.element.ptt"]);let h;if((r==null?void 0:r.dataChannelsEnabled)&&(r==null?void 0:r.dataChannelOptions)){const{ordered:v,maxPacketLifeTime:w,maxRetransmits:E,protocol:C}=r.dataChannelOptions;h={ordered:v,maxPacketLifeTime:w,maxRetransmits:E,protocol:C}}const f=new aJ(this.client,i,o,d,l,s,r==null?void 0:r.dataChannelsEnabled,h);return this.groupCalls.set(i.roomId,f),this.client.emit("GroupCall.incoming",f),f}}var Qx=(t=>(t.Ring="m.ring",t.Prompt="m.prompt",t.Room="m.room",t))(Qx||{}),Hg=(t=>(t.Video="m.video",t.Voice="m.voice",t))(Hg||{}),bs=(t=>(t.GroupCallStateChanged="group_call_state_changed",t.ActiveSpeakerChanged="active_speaker_changed",t.CallsChanged="calls_changed",t.UserMediaFeedsChanged="user_media_feeds_changed",t.ScreenshareFeedsChanged="screenshare_feeds_changed",t.LocalScreenshareStateChanged="local_screenshare_state_changed",t.LocalMuteStateChanged="local_mute_state_changed",t.ParticipantsChanged="participants_changed",t.Error="error",t))(bs||{}),SU=(t=>(t.NoUserMedia="no_user_media",t.UnknownDevice="unknown_device",t.PlaceCallFailed="place_call_failed",t))(SU||{});class r$ extends Error{constructor(e,n,r){var i=(...s)=>{super(...s)};i(r?n+": "+r:n),this.code=e}}class xU extends r${constructor(e){super("unknown_device","No device found for "+e),this.userId=e}}var Yo=(t=>(t.LocalCallFeedUninitialized="local_call_feed_uninitialized",t.InitializingLocalCallFeed="initializing_local_call_feed",t.LocalCallFeedInitialized="local_call_feed_initialized",t.Entering="entering",t.Entered="entered",t.Ended="ended",t))(Yo||{});const Lz=1e3*60*60,RD=t=>{var i;const e=Date.now(),n=(i=t==null?void 0:t.getContent())!=null?i:{};return(typeof n["m.expires_ts"]=="number"?n["m.expires_ts"]:-1/0)<=e};function m_(t){var e;return((e=t.getOpponentMember())==null?void 0:e.userId)||t.invitee||null}class aJ extends Do{constructor(e,n,r,i,s,o,l,d){super(),this.client=e,this.room=n,this.type=r,this.isPtt=i,this.intent=s,this.dataChannelsEnabled=l,this.dataChannelOptions=d,this.activeSpeakerInterval=1e3,this.retryCallInterval=5e3,this.participantTimeout=1e3*15,this.pttMaxTransmitTime=1e3*20,this.state="local_call_feed_uninitialized",this.calls=[],this.participants=[],this.userMediaFeeds=[],this.screenshareFeeds=[],this.callHandlers=new Map,this.retryCallCounts=new Map,this.transmitTimer=null,this.memberStateExpirationTimers=new Map,this.resendMemberStateTimer=null,this.initWithAudioMuted=!1,this.initWithVideoMuted=!1,this.onIncomingCall=h=>{if(h.roomId!==this.room.roomId)return;if(h.state!==nd.Ringing){V.warn("Incoming call no longer in ringing state. Ignoring.");return}if(!h.groupCallId||h.groupCallId!==this.groupCallId){V.log(`Incoming call with groupCallId ${h.groupCallId} ignored because it doesn't match the current group call`),h.reject();return}const f=h.getOpponentMember().userId,v=this.getCallByUserId(f);v&&v.callId===h.callId||(V.log(`GroupCall: incoming call from: ${f}`),h.isPtt=this.isPtt,v?this.replaceCall(v,h):this.addCall(h),h.answerWithCallFeeds(this.getLocalFeeds().map(w=>w.clone())))},this.onMemberStateChanged=async h=>{if(this.state!=="entered"||h.getRoomId()!==this.room.roomId)return;const f=this.room.getMember(h.getStateKey());if(!f){V.warn(`Couldn't find room member for ${h.getStateKey()}: ignoring member state event!`);return}V.debug(`Processing member state event for ${f.userId}`);const v=()=>{this.removeParticipant(f),clearTimeout(this.memberStateExpirationTimers.get(f.userId)),this.memberStateExpirationTimers.delete(f.userId)},w=h.getContent(),E=!RD(h)&&Array.isArray(w["m.calls"])?w["m.calls"].filter(X=>X):[];if(E.length===0){V.info(`Ignoring member state from ${f.userId} member not in any calls.`),v();return}const O=E[0]["m.call_id"];if(!O){V.warn(`Room member ${f.userId} does not have a valid m.call_id set. Ignoring.`),v();return}if(O!==this.groupCallId){V.warn(`Call id ${O} does not match group call id ${this.groupCallId}, ignoring.`),v();return}this.addParticipant(f),clearTimeout(this.memberStateExpirationTimers.get(f.userId)),this.memberStateExpirationTimers.set(f.userId,setTimeout(()=>{V.warn(`Call member state for ${f.userId} has expired`),this.removeParticipant(f)},w["m.expires_ts"]-Date.now()));const M=this.client.getUserId();if(f.userId===M)return;if(f.userId<M){V.debug(`Waiting for ${f.userId} to send call invite.`);return}const A=this.getDeviceForMember(f.userId);if(!A){V.warn(`No opponent device found for ${f.userId}, ignoring.`),this.emit("error",new xU(f.userId));return}const D=this.getCallByUserId(f.userId);if(D&&D.getOpponentSessionId()===A.session_id)return;const U=tx(this.client,this.room.roomId,{invitee:f.userId,opponentDeviceId:A.device_id,opponentSessionId:A.session_id,groupCallId:this.groupCallId});D?(V.debug(`Replacing call ${D.callId} to ${f.userId} with ${U.callId}`),this.replaceCall(D,U,og.NewSession)):(V.debug(`Adding call ${U.callId} to ${f.userId}`),this.addCall(U)),U.isPtt=this.isPtt;const R=A.feeds.some(X=>X.purpose===is.Screenshare);V.debug(`Placing call to ${f.userId}/${A.device_id} session ID ${A.session_id}.`);try{await U.placeCallWithCallFeeds(this.getLocalFeeds().map(X=>X.clone()),R)}catch(X){V.warn(`Failed to place call to ${f.userId}!`,X),X.code==="unknown_device"?this.emit("error",X):this.emit("error",new r$("place_call_failed",`Failed to place call to ${f.userId}.`)),this.removeCall(U,og.SignallingFailed);return}this.dataChannelsEnabled&&U.createDataChannel("datachannel",this.dataChannelOptions)},this.onRetryCallLoop=()=>{for(const h of this.getMemberStateEvents()){const f=h.getStateKey(),v=this.calls.find(E=>m_(E)===f),w=this.retryCallCounts.get(f)||0;!v&&w<3&&(this.retryCallCounts.set(f,w+1),this.onMemberStateChanged(h))}this.retryCallLoopTimeout=setTimeout(this.onRetryCallLoop,this.retryCallInterval)},this.onCallFeedsChanged=h=>{const f=m_(h);if(!f)throw new Error("Cannot change call feeds without user id");const v=this.getUserMediaFeedByUserId(f),w=h.remoteUsermediaFeed;w!==v&&(!v&&w?this.addUserMediaFeed(w):v&&w?this.replaceUserMediaFeed(v,w):v&&!w&&this.removeUserMediaFeed(v));const C=this.getScreenshareFeedByUserId(f),O=h.remoteScreensharingFeed;O!==C&&(!C&&O?this.addScreenshareFeed(O):C&&O?this.replaceScreenshareFeed(C,O):C&&!O&&this.removeScreenshareFeed(C))},this.onCallStateChanged=(h,f,v)=>{const w=this.localCallFeed.isAudioMuted();h.localUsermediaStream&&h.isMicrophoneMuted()!==w&&h.setMicrophoneMuted(w);const E=this.localCallFeed.isVideoMuted();h.localUsermediaStream&&h.isLocalVideoMuted()!==E&&h.setLocalVideoMuted(E),f===nd.Connected&&this.retryCallCounts.delete(m_(h))},this.onCallHangup=h=>{h.hangupReason!==og.Replaced&&this.removeCall(h,h.hangupReason)},this.onActiveSpeakerLoop=()=>{let h,f;for(const v of this.userMediaFeeds){if(v.userId===this.client.getUserId()&&this.userMediaFeeds.length>1)continue;let w=0;for(let C=0;C<v.speakingVolumeSamples.length;C++){const O=v.speakingVolumeSamples[C];w+=Math.max(O,t$)}const E=w/v.speakingVolumeSamples.length;(!h||E>h)&&(h=E,f=v.userId)}f&&this.activeSpeaker!==f&&h>t$&&(this.activeSpeaker=f,this.emit("active_speaker_changed",this.activeSpeaker)),this.activeSpeakerLoopTimeout=setTimeout(this.onActiveSpeakerLoop,this.activeSpeakerInterval)},this.reEmitter=new AZ(this),this.groupCallId=o||iy();for(const h of this.getMemberStateEvents())this.onMemberStateChanged(h)}async create(){return this.client.groupCallEventHandler.groupCalls.set(this.room.roomId,this),await this.client.sendStateEvent(this.room.roomId,Ot.GroupCallPrefix,{"m.intent":this.intent,"m.type":this.type,"io.element.ptt":this.isPtt,dataChannelsEnabled:this.dataChannelsEnabled,dataChannelOptions:this.dataChannelOptions},this.groupCallId),this}setState(e){const n=this.state;this.state=e,this.emit("group_call_state_changed",e,n)}getLocalFeeds(){const e=[];return this.localCallFeed&&e.push(this.localCallFeed),this.localScreenshareFeed&&e.push(this.localScreenshareFeed),e}hasLocalParticipant(){const e=this.client.getUserId();return this.participants.some(n=>n.userId===e)}async initLocalCallFeed(){if(V.log(`groupCall ${this.groupCallId} initLocalCallFeed`),this.state!=="local_call_feed_uninitialized")throw new Error(`Cannot initialize local call feed in the "${this.state}" state.`);this.setState("initializing_local_call_feed");let e;try{e=await this.client.getMediaHandler().getUserMediaStream(!0,this.type==="m.video")}catch(i){throw this.setState("local_call_feed_uninitialized"),i}const n=this.client.getUserId(),r=new op({client:this.client,roomId:this.room.roomId,userId:n,stream:e,purpose:is.Usermedia,audioMuted:this.initWithAudioMuted||e.getAudioTracks().length===0||this.isPtt,videoMuted:this.initWithVideoMuted||e.getVideoTracks().length===0});return _l(e.getAudioTracks(),!r.isAudioMuted()),_l(e.getVideoTracks(),!r.isVideoMuted()),this.localCallFeed=r,this.addUserMediaFeed(r),this.setState("local_call_feed_initialized"),r}async updateLocalUsermediaStream(e){if(this.localCallFeed){const n=this.localCallFeed.stream;this.localCallFeed.setNewStream(e);const r=this.localCallFeed.isAudioMuted(),i=this.localCallFeed.isVideoMuted();V.log(`groupCall ${this.groupCallId} updateLocalUsermediaStream oldStream ${n.id} newStream ${e.id} micShouldBeMuted ${r} vidShouldBeMuted ${i}`),_l(e.getAudioTracks(),!r),_l(e.getVideoTracks(),!i),this.client.getMediaHandler().stopUserMediaStream(n)}}async enter(){if(!(this.state==="local_call_feed_uninitialized"||this.state==="local_call_feed_initialized"))throw new Error(`Cannot enter call in the "${this.state}" state`);this.state==="local_call_feed_uninitialized"&&await this.initLocalCallFeed(),this.addParticipant(this.room.getMember(this.client.getUserId())),await this.sendMemberStateEvent(),this.activeSpeaker=null,this.setState("entered"),V.log(`Entered group call ${this.groupCallId}`),this.client.on(n$.Incoming,this.onIncomingCall);const e=this.client.callEventHandler.calls.values();for(const n of e)this.onIncomingCall(n);for(const n of this.getMemberStateEvents())this.onMemberStateChanged(n);this.retryCallLoopTimeout=setTimeout(this.onRetryCallLoop,this.retryCallInterval),this.onActiveSpeakerLoop()}dispose(){if(this.localCallFeed&&(this.removeUserMediaFeed(this.localCallFeed),this.localCallFeed=null),this.localScreenshareFeed&&(this.client.getMediaHandler().stopScreensharingStream(this.localScreenshareFeed.stream),this.removeScreenshareFeed(this.localScreenshareFeed),this.localScreenshareFeed=void 0,this.localDesktopCapturerSourceId=void 0),this.client.getMediaHandler().stopAllStreams(),this.state==="entered"){for(this.removeParticipant(this.room.getMember(this.client.getUserId())),this.removeMemberStateEvent();this.calls.length>0;)this.removeCall(this.calls[this.calls.length-1],og.UserHangup);this.activeSpeaker=null,clearTimeout(this.activeSpeakerLoopTimeout),this.retryCallCounts.clear(),clearTimeout(this.retryCallLoopTimeout);for(const[e]of this.memberStateExpirationTimers)clearTimeout(this.memberStateExpirationTimers.get(e)),this.memberStateExpirationTimers.delete(e);this.transmitTimer!==null&&(clearTimeout(this.transmitTimer),this.transmitTimer=null),this.client.removeListener(n$.Incoming,this.onIncomingCall)}}leave(){this.transmitTimer!==null&&(clearTimeout(this.transmitTimer),this.transmitTimer=null),this.dispose(),this.setState("local_call_feed_uninitialized")}async terminate(e=!0){if(this.dispose(),this.transmitTimer!==null&&(clearTimeout(this.transmitTimer),this.transmitTimer=null),this.participants=[],this.client.groupCallEventHandler.groupCalls.delete(this.room.roomId),e){const n=this.room.currentState.getStateEvents(Ot.GroupCallPrefix,this.groupCallId);await this.client.sendStateEvent(this.room.roomId,Ot.GroupCallPrefix,{...n.getContent(),["m.terminated"]:"call_ended"},this.groupCallId)}this.client.emit(ud.Ended,this),this.setState("ended")}isLocalVideoMuted(){return this.localCallFeed?this.localCallFeed.isVideoMuted():!0}isMicrophoneMuted(){return this.localCallFeed?this.localCallFeed.isAudioMuted():!0}async setMicrophoneMuted(e){var r;if(!e&&!await this.client.getMediaHandler().hasAudioDevice())return!1;const n=!e&&this.isPtt;this.isPtt&&(!e&&this.isMicrophoneMuted()?this.transmitTimer=setTimeout(()=>{this.setMicrophoneMuted(!0)},this.pttMaxTransmitTime):e&&!this.isMicrophoneMuted()&&(clearTimeout(this.transmitTimer),this.transmitTimer=null));for(const i of this.calls)(r=i.localUsermediaFeed)==null||r.setAudioVideoMuted(e,null);if(n)try{await Promise.all(this.calls.map(i=>i.sendMetadataUpdate()))}catch(i){V.info("Failed to send one or more metadata updates",i)}this.localCallFeed?(V.log(`groupCall ${this.groupCallId} setMicrophoneMuted stream ${this.localCallFeed.stream.id} muted ${e}`),this.localCallFeed.setAudioVideoMuted(e,null),_l(this.localCallFeed.stream.getAudioTracks(),!e)):(V.log(`groupCall ${this.groupCallId} setMicrophoneMuted no stream muted ${e}`),this.initWithAudioMuted=e);for(const i of this.calls)_l(i.localUsermediaFeed.stream.getAudioTracks(),!e);if(this.emit("local_mute_state_changed",e,this.isLocalVideoMuted()),!n)try{await Promise.all(this.calls.map(i=>i.sendMetadataUpdate()))}catch(i){V.info("Failed to send one or more metadata updates",i)}return!0}async setLocalVideoMuted(e){if(!e&&!await this.client.getMediaHandler().hasVideoDevice())return!1;this.localCallFeed?(V.log(`groupCall ${this.groupCallId} setLocalVideoMuted stream ${this.localCallFeed.stream.id} muted ${e}`),this.localCallFeed.setAudioVideoMuted(null,e),_l(this.localCallFeed.stream.getVideoTracks(),!e)):(V.log(`groupCall ${this.groupCallId} setLocalVideoMuted no stream muted ${e}`),this.initWithVideoMuted=e);for(const n of this.calls)n.setLocalVideoMuted(e);return this.emit("local_mute_state_changed",this.isMicrophoneMuted(),e),!0}async setScreensharingEnabled(e,n={}){if(e===this.isScreensharing())return e;if(e)try{V.log("Asking for screensharing permissions...");const r=await this.client.getMediaHandler().getScreensharingStream(n);for(const i of r.getTracks()){const s=()=>{this.setScreensharingEnabled(!1),i.removeEventListener("ended",s)};i.addEventListener("ended",s)}return V.log("Screensharing permissions granted. Setting screensharing enabled on all calls"),this.localDesktopCapturerSourceId=n.desktopCapturerSourceId,this.localScreenshareFeed=new op({client:this.client,roomId:this.room.roomId,userId:this.client.getUserId(),stream:r,purpose:is.Screenshare,audioMuted:!1,videoMuted:!1}),this.addScreenshareFeed(this.localScreenshareFeed),this.emit("local_screenshare_state_changed",!0,this.localScreenshareFeed,this.localDesktopCapturerSourceId),await Promise.all(this.calls.map(i=>i.pushLocalFeed(this.localScreenshareFeed.clone()))),await this.sendMemberStateEvent(),!0}catch(r){return V.error("Enabling screensharing error",r),this.emit("error",new r$("no_user_media","Failed to get screen-sharing stream: ",r)),!1}else return await Promise.all(this.calls.map(r=>{r.localScreensharingFeed&&r.removeLocalFeed(r.localScreensharingFeed)})),this.client.getMediaHandler().stopScreensharingStream(this.localScreenshareFeed.stream),this.removeScreenshareFeed(this.localScreenshareFeed),this.localScreenshareFeed=void 0,this.localDesktopCapturerSourceId=void 0,await this.sendMemberStateEvent(),this.emit("local_screenshare_state_changed",!1,void 0,void 0),!1}isScreensharing(){return!!this.localScreenshareFeed}getMemberStateEvents(e){if(e!=null){const n=this.room.currentState.getStateEvents(Ot.GroupCallMemberPrefix,e);return RD(n)?null:n}else return this.room.currentState.getStateEvents(Ot.GroupCallMemberPrefix).filter(n=>!RD(n))}async sendMemberStateEvent(){const e=()=>this.updateMemberCallState({"m.call_id":this.groupCallId,"m.devices":[{device_id:this.client.getDeviceId(),session_id:this.client.getSessionId(),feeds:this.getLocalFeeds().map(r=>({purpose:r.purpose}))}]}),n=await e();return clearInterval(this.resendMemberStateTimer),this.resendMemberStateTimer=setInterval(async()=>{V.log("Resending call member state"),await e()},Lz*3/4),n}async removeMemberStateEvent(){return clearInterval(this.resendMemberStateTimer),this.resendMemberStateTimer=null,await this.updateMemberCallState(void 0)}async updateMemberCallState(e){var l;const n=this.client.getUserId(),r=(l=this.getMemberStateEvents(n))==null?void 0:l.getContent();let i=[];r&&Array.isArray(r["m.calls"])&&(i=r["m.calls"].filter(d=>!!d));const s=i.findIndex(d=>d&&d["m.call_id"]===this.groupCallId);s!==-1?e?i.splice(s,1,e):i.splice(s,1):e&&i.push(e);const o={"m.calls":i,"m.expires_ts":Date.now()+Lz};return this.client.sendStateEvent(this.room.roomId,Ot.GroupCallMemberPrefix,o,n)}getDeviceForMember(e){var o;const n=this.getMemberStateEvents(e);if(!n)return;const i=(o=n.getContent()["m.calls"])==null?void 0:o.find(l=>l&&l["m.call_id"]===this.groupCallId);if(!i)return;const s=i["m.devices"];if(!(!s||s.length===0))return s[0]}getCallByUserId(e){return this.calls.find(n=>m_(n)===e)}addCall(e){this.calls.push(e),this.initCall(e),this.emit("calls_changed",this.calls)}replaceCall(e,n,r=og.Replaced){const i=this.calls.indexOf(e);if(i===-1)throw new Error("Couldn't find call to replace");this.calls.splice(i,1,n),this.disposeCall(e,r),this.initCall(n),this.emit("calls_changed",this.calls)}removeCall(e,n){this.disposeCall(e,n);const r=this.calls.indexOf(e);if(r===-1)throw new Error("Couldn't find call to remove");this.calls.splice(r,1),this.emit("calls_changed",this.calls)}initCall(e){const n=m_(e);if(!n)throw new Error("Cannot init call without user id");const r=()=>this.onCallFeedsChanged(e),i=(l,d)=>this.onCallStateChanged(e,l,d),s=this.onCallHangup,o=l=>this.replaceCall(e,l);this.callHandlers.set(n,{onCallFeedsChanged:r,onCallStateChanged:i,onCallHangup:s,onCallReplaced:o}),e.on(fa.FeedsChanged,r),e.on(fa.State,i),e.on(fa.Hangup,s),e.on(fa.Replaced,o),this.reEmitter.reEmit(e,Object.values(fa)),r()}disposeCall(e,n){const r=m_(e);if(!r)throw new Error("Cannot dispose call without user id");const{onCallFeedsChanged:i,onCallStateChanged:s,onCallHangup:o,onCallReplaced:l}=this.callHandlers.get(r);if(e.removeListener(fa.FeedsChanged,i),e.removeListener(fa.State,s),e.removeListener(fa.Hangup,o),e.removeListener(fa.Replaced,l),this.callHandlers.delete(r),e.hangupReason===og.Replaced)return;e.state!==nd.Ended&&e.hangup(n,!1);const d=this.getUserMediaFeedByUserId(r);d&&this.removeUserMediaFeed(d);const h=this.getScreenshareFeedByUserId(r);h&&this.removeScreenshareFeed(h)}getUserMediaFeedByUserId(e){return this.userMediaFeeds.find(n=>n.userId===e)}addUserMediaFeed(e){this.userMediaFeeds.push(e),e.measureVolumeActivity(!0),this.emit("user_media_feeds_changed",this.userMediaFeeds)}replaceUserMediaFeed(e,n){const r=this.userMediaFeeds.findIndex(i=>i.userId===e.userId);if(r===-1)throw new Error("Couldn't find user media feed to replace");this.userMediaFeeds.splice(r,1,n),e.dispose(),n.measureVolumeActivity(!0),this.emit("user_media_feeds_changed",this.userMediaFeeds)}removeUserMediaFeed(e){const n=this.userMediaFeeds.findIndex(r=>r.userId===e.userId);if(n===-1)throw new Error("Couldn't find user media feed to remove");this.userMediaFeeds.splice(n,1),e.dispose(),this.emit("user_media_feeds_changed",this.userMediaFeeds),this.activeSpeaker===e.userId&&this.userMediaFeeds.length>0&&(this.activeSpeaker=this.userMediaFeeds[0].userId,this.emit("active_speaker_changed",this.activeSpeaker))}getScreenshareFeedByUserId(e){return this.screenshareFeeds.find(n=>n.userId===e)}addScreenshareFeed(e){this.screenshareFeeds.push(e),this.emit("screenshare_feeds_changed",this.screenshareFeeds)}replaceScreenshareFeed(e,n){const r=this.screenshareFeeds.findIndex(i=>i.userId===e.userId);if(r===-1)throw new Error("Couldn't find screenshare feed to replace");this.screenshareFeeds.splice(r,1,n),e.dispose(),this.emit("screenshare_feeds_changed",this.screenshareFeeds)}removeScreenshareFeed(e){const n=this.screenshareFeeds.findIndex(r=>r.userId===e.userId);if(n===-1)throw new Error("Couldn't find screenshare feed to remove");this.screenshareFeeds.splice(n,1),e.dispose(),this.emit("screenshare_feeds_changed",this.screenshareFeeds)}addParticipant(e){this.participants.find(n=>n.userId===e.userId)||(this.participants.push(e),this.emit("participants_changed",this.participants),this.client.emit(ud.Participants,this.participants,this))}removeParticipant(e){const n=this.participants.findIndex(r=>r.userId===e.userId);n!==-1&&(this.participants.splice(n,1),this.emit("participants_changed",this.participants),this.client.emit(ud.Participants,this.participants,this))}}var nd=(t=>(t.Fledgling="fledgling",t.InviteSent="invite_sent",t.WaitLocalMedia="wait_local_media",t.CreateOffer="create_offer",t.CreateAnswer="create_answer",t.Connecting="connecting",t.Connected="connected",t.Ringing="ringing",t.Ended="ended",t))(nd||{}),lJ=(t=>(t.Inbound="inbound",t.Outbound="outbound",t))(lJ||{}),fa=(t=>(t.Hangup="hangup",t.State="state",t.Error="error",t.Replaced="replaced",t.LocalHoldUnhold="local_hold_unhold",t.RemoteHoldUnhold="remote_hold_unhold",t.HoldUnhold="hold_unhold",t.FeedsChanged="feeds_changed",t.AssertedIdentityChanged="asserted_identity_changed",t.LengthChanged="length_changed",t.DataChannel="datachannel",t.SendVoipEvent="send_voip_event",t))(fa||{}),og=(t=>(t.UserHangup="user_hangup",t.LocalOfferFailed="local_offer_failed",t.NoUserMedia="no_user_media",t.UnknownDevices="unknown_devices",t.SendInvite="send_invite",t.CreateAnswer="create_answer",t.CreateOffer="create_offer",t.SendAnswer="send_answer",t.SetRemoteDescription="set_remote_description",t.SetLocalDescription="set_local_description",t.AnsweredElsewhere="answered_elsewhere",t.IceFailed="ice_failed",t.InviteTimeout="invite_timeout",t.Replaced="replaced",t.SignallingFailed="signalling_timeout",t.UserBusy="user_busy",t.Transfered="transferred",t.NewSession="new_session",t))(og||{});const $de="1",Fde="stun:turn.matrix.org",Az=6e4;class y_ extends Error{constructor(e,n,r){super(n+": "+r),this.code=e}}function iy(){return Date.now().toString()+vd(16)}function Pz(t){return[{mediaType:"audio",codec:"opus",enableDtx:!0,maxAverageBitrate:t?12e3:void 0}]}function Kh(t,e){return t+":"+e}class Ude extends Do{constructor(e){super(),this.state="fledgling",this.toDeviceSeq=0,this.isPtt=!1,this.candidateSendQueue=[],this.candidateSendTries=0,this.candidatesEnded=!1,this.feeds=[],this.transceivers=new Map,this.inviteOrAnswerSent=!1,this.removeTrackListeners=new Map,this.remoteOnHold=!1,this.makingOffer=!1,this.remoteCandidateBuffer=new Map,this.callLength=0,this.gotLocalIceCandidate=n=>{if(n.candidate){if(this.candidatesEnded){V.warn("Got candidate after candidates have ended - ignoring!");return}if(V.debug("Call "+this.callId+" got local ICE "+n.candidate.sdpMid+" candidate: "+n.candidate.candidate),this.callHasEnded())return;n.candidate.candidate===""?this.queueCandidate(null):this.queueCandidate(n.candidate)}},this.onIceGatheringStateChange=n=>{V.debug(`Call ${this.callId} ice gathering state changed to  ${this.peerConn.iceGatheringState}`),this.peerConn.iceGatheringState==="complete"&&this.queueCandidate(null)},this.getLocalOfferFailed=n=>{V.error(`Call ${this.callId} Failed to get local offer`,n),this.emit("error",new y_("local_offer_failed","Failed to get local offer!",n)),this.terminate("local","local_offer_failed",!1)},this.getUserMediaFailed=n=>{if(this.successor){this.successor.getUserMediaFailed(n);return}V.warn(`Failed to get user media - ending call ${this.callId}`,n),this.emit("error",new y_("no_user_media","Couldn't start capturing media! Is your microphone set up and does this app have permission?",n)),this.terminate("local","no_user_media",!1)},this.onIceConnectionStateChanged=()=>{if(!this.callHasEnded()&&(V.debug("Call ID "+this.callId+": ICE connection state changed to: "+this.peerConn.iceConnectionState),["connected","completed"].includes(this.peerConn.iceConnectionState)?(clearTimeout(this.iceDisconnectedTimeout),this.setState("connected"),this.callLengthInterval||(this.callLengthInterval=setInterval(()=>{this.callLength++,this.emit("length_changed",this.callLength)},1e3))):this.peerConn.iceConnectionState=="failed"?this.peerConn.restartIce?(this.candidatesEnded=!1,this.peerConn.restartIce()):this.hangup("ice_failed",!1):this.peerConn.iceConnectionState=="disconnected"&&(this.iceDisconnectedTimeout=setTimeout(()=>{this.hangup("ice_failed",!1)},30*1e3)),this.isPtt&&["failed","disconnected"].includes(this.peerConn.iceConnectionState)))for(const n of this.getRemoteFeeds())n.setAudioVideoMuted(!0,!0)},this.onSignallingStateChanged=()=>{V.debug("call "+this.callId+": Signalling state changed to: "+this.peerConn.signalingState)},this.onTrack=n=>{if(n.streams.length===0){V.warn(`Call ${this.callId} Streamless ${n.track.kind} found: ignoring.`);return}const r=n.streams[0];if(this.pushRemoteFeed(r),!this.removeTrackListeners.has(r)){const i=()=>{r.getTracks().length===0&&(V.info(`Call ${this.callId} removing track streamId: ${r.id}`),this.deleteFeedByStream(r),r.removeEventListener("removetrack",i),this.removeTrackListeners.delete(r))};r.addEventListener("removetrack",i),this.removeTrackListeners.set(r,i)}},this.onDataChannel=n=>{this.emit("datachannel",n.channel)},this.onNegotiationNeeded=async()=>{if(V.info(`Call ${this.callId} Negotiation is needed!`),this.state!=="create_offer"&&this.opponentVersion===0){V.info(`Call ${this.callId} Opponent does not support renegotiation: ignoring negotiationneeded event`);return}this.queueGotLocalOffer()},this.onHangupReceived=n=>{V.debug("Hangup received for call ID "+this.callId),this.partyIdMatches(n)||this.state==="ringing"?this.terminate("remote",n.reason||"user_hangup",!0):V.info(`Call ${this.callId} Ignoring message from party ID ${n.party_id}: our partner is ${this.opponentPartyId}`)},this.onRejectReceived=n=>{V.debug("Reject received for call ID "+this.callId),["invite_sent","ringing"].includes(this.state)||this.state==="fledgling"&&this.direction==="inbound"?this.terminate("remote",n.reason||"user_hangup",!0):V.debug(`Call ${this.callId} is in state: ${this.state}: ignoring reject`)},this.onAnsweredElsewhere=n=>{V.debug("Call "+this.callId+" answered elsewhere"),this.terminate("remote","answered_elsewhere",!0)},this.roomId=e.roomId,this.invitee=e.invitee,this.client=e.client,this.forceTURN=e.forceTURN,this.ourPartyId=this.client.deviceId,this.opponentDeviceId=e.opponentDeviceId,this.opponentSessionId=e.opponentSessionId,this.groupCallId=e.groupCallId,this.turnServers=e.turnServers||[],this.turnServers.length===0&&this.client.isFallbackICEServerAllowed()&&this.turnServers.push({urls:[Fde]});for(const n of this.turnServers)rZ(n,["urls"]);this.callId=iy()}async placeVoiceCall(){await this.placeCall(!0,!1)}async placeVideoCall(){await this.placeCall(!0,!0)}createDataChannel(e,n){const r=this.peerConn.createDataChannel(e,n);return this.emit("datachannel",r),r}getOpponentMember(){return this.opponentMember}getOpponentSessionId(){return this.opponentSessionId}opponentCanBeTransferred(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.transferee"])}opponentSupportsDTMF(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.dtmf"])}getRemoteAssertedIdentity(){return this.remoteAssertedIdentity}get type(){return this.hasLocalUserMediaVideoTrack||this.hasRemoteUserMediaVideoTrack?"video":"voice"}get hasLocalUserMediaVideoTrack(){var e;return((e=this.localUsermediaStream)==null?void 0:e.getVideoTracks().length)>0}get hasRemoteUserMediaVideoTrack(){return this.getRemoteFeeds().some(e=>e.purpose===is.Usermedia&&e.stream.getVideoTracks().length>0)}get hasLocalUserMediaAudioTrack(){var e;return((e=this.localUsermediaStream)==null?void 0:e.getAudioTracks().length)>0}get hasRemoteUserMediaAudioTrack(){return this.getRemoteFeeds().some(e=>e.purpose===is.Usermedia&&e.stream.getAudioTracks().length>0)}get localUsermediaFeed(){return this.getLocalFeeds().find(e=>e.purpose===is.Usermedia)}get localScreensharingFeed(){return this.getLocalFeeds().find(e=>e.purpose===is.Screenshare)}get localUsermediaStream(){var e;return(e=this.localUsermediaFeed)==null?void 0:e.stream}get localScreensharingStream(){var e;return(e=this.localScreensharingFeed)==null?void 0:e.stream}get remoteUsermediaFeed(){return this.getRemoteFeeds().find(e=>e.purpose===is.Usermedia)}get remoteScreensharingFeed(){return this.getRemoteFeeds().find(e=>e.purpose===is.Screenshare)}get remoteUsermediaStream(){var e;return(e=this.remoteUsermediaFeed)==null?void 0:e.stream}get remoteScreensharingStream(){var e;return(e=this.remoteScreensharingFeed)==null?void 0:e.stream}getFeedByStreamId(e){return this.getFeeds().find(n=>n.stream.id===e)}getFeeds(){return this.feeds}getLocalFeeds(){return this.feeds.filter(e=>e.isLocal())}getRemoteFeeds(){return this.feeds.filter(e=>!e.isLocal())}async initOpponentCrypto(){if(!this.opponentDeviceId||!this.client.getUseE2eForGroupCall())return;if(!this.client.isCryptoEnabled()){this.opponentDeviceInfo=new Ac(this.opponentDeviceId);return}const e=this.invitee||this.getOpponentMember().userId,n=await this.client.crypto.deviceList.downloadKeys([e],!1);if(this.opponentDeviceInfo=n[e][this.opponentDeviceId],this.opponentDeviceInfo===void 0)throw new xU(e)}getLocalSDPStreamMetadata(e=!1){const n={};for(const r of this.getLocalFeeds())e&&(r.sdpMetadataStreamId=r.stream.id),n[r.sdpMetadataStreamId]={purpose:r.purpose,audio_muted:r.isAudioMuted(),video_muted:r.isVideoMuted()};return n}noIncomingFeeds(){return!this.feeds.some(e=>!e.isLocal())}pushRemoteFeed(e){if(!this.opponentSupportsSDPStreamMetadata()){this.pushRemoteFeedWithoutMetadata(e);return}const n=this.getOpponentMember().userId,r=this.remoteSDPStreamMetadata[e.id].purpose,i=this.remoteSDPStreamMetadata[e.id].audio_muted,s=this.remoteSDPStreamMetadata[e.id].video_muted;if(!r){V.warn(`Call ${this.callId} Ignoring stream with id ${e.id} because we didn't get any metadata about it`);return}if(this.getFeedByStreamId(e.id)){V.warn(`Ignoring stream with id ${e.id} because we already have a feed for it`);return}this.feeds.push(new op({client:this.client,roomId:this.roomId,userId:n,stream:e,purpose:r,audioMuted:i,videoMuted:s})),this.emit("feeds_changed",this.feeds),V.info(`Call ${this.callId} pushed remote stream (id="${e.id}", active="${e.active}", purpose=${r})`)}pushRemoteFeedWithoutMetadata(e){var s;const n=this.getOpponentMember().userId,r=is.Usermedia,i=(s=this.feeds.find(o=>!o.isLocal()))==null?void 0:s.stream;if(i&&e.id!==i.id){V.warn(`Call ${this.callId} Ignoring new stream ID ${e.id}: we already have stream ID ${i.id}`);return}if(this.getFeedByStreamId(e.id)){V.warn(`Ignoring stream with id ${e.id} because we already have a feed for it`);return}this.feeds.push(new op({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:n,stream:e,purpose:r})),this.emit("feeds_changed",this.feeds),V.info(`Call ${this.callId} pushed remote stream (id="${e.id}", active="${e.active}")`)}pushNewLocalFeed(e,n,r=!0){const i=this.client.getUserId();if(_l(e.getAudioTracks(),!0),_l(e.getVideoTracks(),!0),this.getFeedByStreamId(e.id)){V.warn(`Ignoring stream with id ${e.id} because we already have a feed for it`);return}this.pushLocalFeed(new op({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:i,stream:e,purpose:n}),r)}pushLocalFeed(e,n=!0){if(this.feeds.some(r=>e.stream.id===r.stream.id)){V.info(`Ignoring duplicate local stream ${e.stream.id} in call ${this.callId}`);return}if(this.feeds.push(e),n)for(const r of e.stream.getTracks()){V.info(`Call ${this.callId} Adding track (id="${r.id}", kind="${r.kind}", streamId="${e.stream.id}", streamPurpose="${e.purpose}", enabled=${r.enabled}) to peer connection`);const i=Kh(e.purpose,r.kind);if(this.transceivers.has(i)){const s=this.transceivers.get(i);s.sender.setStreams&&s.sender.setStreams(e.stream),s.sender.replaceTrack(r),s.direction=s.direction==="inactive"?"sendonly":"sendrecv"}else{const s=this.peerConn.addTrack(r,e.stream);this.transceivers.set(i,this.peerConn.getTransceivers().find(o=>o.sender===s))}}V.info(`Call ${this.callId} Pushed local stream (id="${e.stream.id}", active="${e.stream.active}", purpose="${e.purpose}")`),this.emit("feeds_changed",this.feeds)}removeLocalFeed(e){const n=Kh(e.purpose,"audio"),r=Kh(e.purpose,"video");for(const i of[n,r])if(this.transceivers.has(i)){const s=this.transceivers.get(i);s.sender&&this.peerConn.removeTrack(s.sender)}e.purpose===is.Screenshare&&this.client.getMediaHandler().stopScreensharingStream(e.stream),this.deleteFeed(e)}deleteAllFeeds(){for(const e of this.feeds)(!e.isLocal()||!this.groupCallId)&&e.dispose();this.feeds=[],this.emit("feeds_changed",this.feeds)}deleteFeedByStream(e){const n=this.getFeedByStreamId(e.id);if(!n){V.warn(`Call ${this.callId} Didn't find the feed with stream id ${e.id} to delete`);return}this.deleteFeed(n)}deleteFeed(e){e.dispose(),this.feeds.splice(this.feeds.indexOf(e),1),this.emit("feeds_changed",this.feeds)}async getCurrentCallStats(){return this.callHasEnded()?this.callStatsAtEnd:this.collectCallStats()}async collectCallStats(){if(!this.peerConn)return;const e=await this.peerConn.getStats(),n=[];return e.forEach(r=>{n.push(r)}),n}async initWithInvite(e){var o;const n=e.getContent();this.direction="inbound",await this.client.checkTurnServers()||V.warn(`Call ${this.callId} Failed to get TURN credentials! Proceeding with call anyway...`);const i=n[Q1];i?this.updateRemoteSDPStreamMetadata(i):V.debug(`Call ${this.callId} did not get any SDPStreamMetadata! Can not send/receive multiple streams`),this.peerConn=this.createPeerConnection(),this.chooseOpponent(e),await this.initOpponentCrypto();try{await this.peerConn.setRemoteDescription(n.offer),await this.addBufferedIceCandidates()}catch(l){V.debug(`Call ${this.callId} failed to set remote description`,l),this.terminate("local","set_remote_description",!1);return}const s=(o=this.feeds.find(l=>!l.isLocal()))==null?void 0:o.stream;if(!s||s.getTracks().length===0){V.error(`Call ${this.callId} no remote stream or no tracks after setting remote description!`),this.terminate("local","set_remote_description",!1);return}if(this.setState("ringing"),e.getLocalAge()){const l=setTimeout(()=>{V.debug(`Call ${this.callId} invite has expired. Hanging up.`),this.hangupParty="remote",this.setState("ended"),this.stopAllMedia(),this.peerConn.signalingState!="closed"&&this.peerConn.close(),this.emit("hangup",this)},n.lifetime-e.getLocalAge()),d=h=>{h!=="ringing"&&(clearTimeout(l),this.off("state",d))};this.on("state",d)}}initWithHangup(e){this.setState("ended")}shouldAnswerWithMediaType(e,n,r){return e&&!n?(V.warn(`Call ${this.callId} Unable to answer with ${r} because the other side isn't sending it either.`),!1):!oZ(e)&&e!==n&&!this.opponentSupportsSDPStreamMetadata()?(V.warn(`Call ${this.callId} Unable to answer with ${r}=${e} because the other side doesn't support it. Answering with ${r}=${n}.`),n):e!=null?e:n}async answer(e,n){if(!this.inviteOrAnswerSent){if(e===!1&&n===!1)throw new Error("You CANNOT answer a call without media");if(!this.localUsermediaStream&&!this.waitForLocalAVStream){const r=this.state,i=this.shouldAnswerWithMediaType(e,this.hasRemoteUserMediaAudioTrack,"audio"),s=this.shouldAnswerWithMediaType(n,this.hasRemoteUserMediaVideoTrack,"video");this.setState("wait_local_media"),this.waitForLocalAVStream=!0;try{const o=await this.client.getMediaHandler().getUserMediaStream(i,s);this.waitForLocalAVStream=!1;const d=[new op({client:this.client,roomId:this.roomId,userId:this.client.getUserId(),stream:o,purpose:is.Usermedia,audioMuted:!1,videoMuted:!1})];this.localScreensharingFeed&&d.push(this.localScreensharingFeed),this.answerWithCallFeeds(d)}catch(o){if(s)V.warn(`Call ${this.callId} Failed to getUserMedia(), trying to getUserMedia() without video`),this.setState(r),this.waitForLocalAVStream=!1,await this.answer(i,!1);else{this.getUserMediaFailed(o);return}}}else this.waitForLocalAVStream&&this.setState("wait_local_media")}}answerWithCallFeeds(e){this.inviteOrAnswerSent||this.queueGotCallFeedsForAnswer(e)}replacedBy(e){V.debug(`Call ${this.callId} replaced by ${e.callId}`),this.state==="wait_local_media"?(V.debug(`Call ${this.callId} telling new call ${e.callId} to wait for local media`),e.waitForLocalAVStream=!0):["create_offer","invite_sent"].includes(this.state)&&(e.direction==="outbound"?e.queueGotCallFeedsForAnswer([]):(V.debug(`Call ${this.callId} handing local stream to new call ${e.callId}`),e.queueGotCallFeedsForAnswer(this.getLocalFeeds().map(n=>n.clone())))),this.successor=e,this.emit("replaced",e),this.hangup("replaced",!0)}hangup(e,n){if(this.callHasEnded()||(V.debug("Ending call "+this.callId),this.terminate("local",e,!n),this.state==="wait_local_media"))return;const r={};(this.opponentVersion&&this.opponentVersion!==0||e!=="user_hangup")&&(r.reason=e),this.sendVoipEvent(Ot.CallHangup,r)}reject(){if(this.state!=="ringing")throw Error("Call must be in 'ringing' state to reject!");if(this.opponentVersion===0){V.info(`Call ${this.callId} Opponent version is less than 1 (${this.opponentVersion}): sending hangup instead of reject`),this.hangup("user_hangup",!0);return}V.debug("Rejecting call: "+this.callId),this.terminate("local","user_hangup",!0),this.sendVoipEvent(Ot.CallReject,{})}async upgradeCall(e,n){if(!(!e&&!n)&&!!this.opponentSupportsSDPStreamMetadata())try{V.debug(`Upgrading call ${this.callId}: audio?=${e} video?=${n}`);const r=e||this.hasLocalUserMediaAudioTrack,i=n||this.hasLocalUserMediaVideoTrack,s=await this.client.getMediaHandler().getUserMediaStream(r,i,!1);await this.updateLocalUsermediaStream(s,e,n)}catch(r){V.error(`Call ${this.callId} Failed to upgrade the call`,r),this.emit("error",new y_("no_user_media","Failed to get camera access: ",r))}}opponentSupportsSDPStreamMetadata(){return Boolean(this.remoteSDPStreamMetadata)}isScreensharing(){return Boolean(this.localScreensharingStream)}async setScreensharingEnabled(e,n){if(e&&this.isScreensharing())return V.warn(`Call ${this.callId} There is already a screensharing stream - there is nothing to do!`),!0;if(!e&&!this.isScreensharing())return V.warn(`Call ${this.callId} There already isn't a screensharing stream - there is nothing to do!`),!1;if(!this.opponentSupportsSDPStreamMetadata())return this.setScreensharingEnabledWithoutMetadataSupport(e,n);if(V.debug(`Call ${this.callId} set screensharing enabled? ${e}`),e)try{const r=await this.client.getMediaHandler().getScreensharingStream(n);return r?(this.pushNewLocalFeed(r,is.Screenshare),!0):!1}catch(r){return V.error(`Call ${this.callId} Failed to get screen-sharing stream:`,r),!1}else{const r=this.transceivers.get(Kh(is.Screenshare,"audio")),i=this.transceivers.get(Kh(is.Screenshare,"video"));for(const s of[r,i])s&&s.sender&&this.peerConn.removeTrack(s.sender);return this.client.getMediaHandler().stopScreensharingStream(this.localScreensharingStream),this.deleteFeedByStream(this.localScreensharingStream),!1}}async setScreensharingEnabledWithoutMetadataSupport(e,n){if(V.debug(`Call ${this.callId} Set screensharing enabled? ${e} using replaceTrack()`),e)try{const r=await this.client.getMediaHandler().getScreensharingStream(n);if(!r)return!1;const i=r.getTracks().find(o=>o.kind==="video");return this.transceivers.get(Kh(is.Usermedia,"video")).sender.replaceTrack(i),this.pushNewLocalFeed(r,is.Screenshare,!1),!0}catch(r){return V.error(`Call ${this.callId} Failed to get screen-sharing stream:`,r),!1}else{const r=this.localUsermediaStream.getTracks().find(s=>s.kind==="video");return this.transceivers.get(Kh(is.Usermedia,"video")).sender.replaceTrack(r),this.client.getMediaHandler().stopScreensharingStream(this.localScreensharingStream),this.deleteFeedByStream(this.localScreensharingStream),!1}}async updateLocalUsermediaStream(e,n=!1,r=!1){var l;const i=this.localUsermediaFeed,s=n||!i.isAudioMuted()&&!this.remoteOnHold,o=r||!i.isVideoMuted()&&!this.remoteOnHold;V.log(`call ${this.callId} updateLocalUsermediaStream stream ${e.id} audioEnabled ${s} videoEnabled ${o}`),_l(e.getAudioTracks(),s),_l(e.getVideoTracks(),o);for(const d of this.localUsermediaStream.getTracks())this.localUsermediaStream.removeTrack(d),d.stop();for(const d of e.getTracks())this.localUsermediaStream.addTrack(d);for(const d of e.getTracks()){const h=Kh(is.Usermedia,d.kind),f=(l=this.transceivers.get(h))==null?void 0:l.sender;let v=!1;if(f)try{V.info(`Call ${this.callId} Replacing track (id="${d.id}", kind="${d.kind}", streamId="${e.id}", streamPurpose="${i.purpose}") to peer connection`),await f.replaceTrack(d),v=!0}catch(w){V.warn("replaceTrack failed: adding new transceiver instead",w)}if(!v){V.info(`Call ${this.callId} Adding track (id="${d.id}", kind="${d.kind}", streamId="${e.id}", streamPurpose="${i.purpose}") to peer connection`);const w=this.peerConn.addTrack(d,this.localUsermediaStream);this.transceivers.set(h,this.peerConn.getTransceivers().find(E=>E.sender===w))}}}async setLocalVideoMuted(e){var n;return V.log(`call ${this.callId} setLocalVideoMuted ${e}`),await this.client.getMediaHandler().hasVideoDevice()?!this.hasLocalUserMediaVideoTrack&&!e?(await this.upgradeCall(!1,!0),this.isLocalVideoMuted()):((n=this.localUsermediaFeed)==null||n.setAudioVideoMuted(null,e),this.updateMuteStatus(),await this.sendMetadataUpdate(),this.isLocalVideoMuted()):this.isLocalVideoMuted()}isLocalVideoMuted(){var e;return(e=this.localUsermediaFeed)==null?void 0:e.isVideoMuted()}async setMicrophoneMuted(e){var n;return V.log(`call ${this.callId} setMicrophoneMuted ${e}`),await this.client.getMediaHandler().hasAudioDevice()?!this.hasLocalUserMediaAudioTrack&&!e?(await this.upgradeCall(!0,!1),this.isMicrophoneMuted()):((n=this.localUsermediaFeed)==null||n.setAudioVideoMuted(e,null),this.updateMuteStatus(),await this.sendMetadataUpdate(),this.isMicrophoneMuted()):this.isMicrophoneMuted()}isMicrophoneMuted(){var e;return(e=this.localUsermediaFeed)==null?void 0:e.isAudioMuted()}isRemoteOnHold(){return this.remoteOnHold}setRemoteOnHold(e){if(this.isRemoteOnHold()!==e){this.remoteOnHold=e;for(const n of this.peerConn.getTransceivers())n.direction=e?"sendonly":"sendrecv";this.updateMuteStatus(),this.sendMetadataUpdate(),this.emit("remote_hold_unhold",this.remoteOnHold)}}isLocalOnHold(){if(this.state!=="connected")return!1;let e=!0;for(const n of this.peerConn.getTransceivers())["inactive","recvonly"].includes(n.currentDirection)||(e=!1);return e}sendDtmfDigit(e){for(const n of this.peerConn.getSenders())if(n.track.kind==="audio"&&n.dtmf){n.dtmf.insertDTMF(e);return}throw new Error("Unable to find a track to send DTMF on")}updateMuteStatus(){const e=this.isMicrophoneMuted()||this.remoteOnHold,n=this.isLocalVideoMuted()||this.remoteOnHold;V.log(`call ${this.callId} updateMuteStatus stream ${this.localUsermediaStream.id} micShouldBeMuted ${e} vidShouldBeMuted ${n}`),_l(this.localUsermediaStream.getAudioTracks(),!e),_l(this.localUsermediaStream.getVideoTracks(),!n)}async sendMetadataUpdate(){await this.sendVoipEvent(Ot.CallSDPStreamMetadataChangedPrefix,{[Q1]:this.getLocalSDPStreamMetadata()})}gotCallFeedsForInvite(e,n=!1){if(this.successor){this.successor.queueGotCallFeedsForAnswer(e);return}if(this.callHasEnded()){this.stopAllMedia();return}for(const r of e)this.pushLocalFeed(r);n&&this.peerConn.addTransceiver("video",{direction:"recvonly"}),this.setState("create_offer"),V.debug(`Call ${this.callId} gotUserMediaForInvite`)}async sendAnswer(){const e={answer:{sdp:this.peerConn.localDescription.sdp,type:this.peerConn.localDescription.type},[Q1]:this.getLocalSDPStreamMetadata(!0)};e.capabilities={"m.call.transferee":this.client.supportsCallTransfer,"m.call.dtmf":!1};const n=this.discardDuplicateCandidates();V.info(`Call ${this.callId} Discarding ${n} candidates that will be sent in answer`);try{await this.sendVoipEvent(Ot.CallAnswer,e),this.inviteOrAnswerSent=!0}catch(r){this.setState("ringing"),this.client.cancelPendingEvent(r.event);let i="send_answer",s="Failed to send answer";throw r.name=="UnknownDeviceError"&&(i="unknown_devices",s="Unknown devices present in the room"),this.emit("error",new y_(i,s,r)),r}this.sendCandidateQueue()}queueGotCallFeedsForAnswer(e){this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then(()=>this.gotCallFeedsForAnswer(e)):this.responsePromiseChain=this.gotCallFeedsForAnswer(e)}mungeSdp(e,n){const r=iJ(e.sdp);r.media.forEach(i=>{const s=new Map,o=new Map;for(const l of i.rtp)s.set(l.payload,l.codec),o.set(l.codec,l.payload);for(const l of n){if(l.mediaType!==i.type)continue;if(!o.has(l.codec)){V.info(`Ignoring SDP modifications for ${l.codec} as it's not present.`);continue}const d=[];l.enableDtx!==void 0&&d.push(`usedtx=${l.enableDtx?"1":"0"}`),l.maxAverageBitrate!==void 0&&d.push(`maxaveragebitrate=${l.maxAverageBitrate}`);let h=!1;for(const f of i.fmtp)s.get(f.payload)===l.codec&&(h=!0,f.config+=";"+d.join(";"));h||i.fmtp.push({payload:o.get(l.codec),config:d.join(";")})}}),e.sdp=rJ(r)}async createOffer(){const e=await this.peerConn.createOffer();return this.mungeSdp(e,Pz(this.isPtt)),e}async createAnswer(){const e=await this.peerConn.createAnswer();return this.mungeSdp(e,Pz(this.isPtt)),e}async gotCallFeedsForAnswer(e){if(this.callHasEnded())return;this.waitForLocalAVStream=!1;for(const r of e)this.pushLocalFeed(r);this.setState("create_answer");let n;try{this.getRidOfRTXCodecs(),n=await this.createAnswer()}catch(r){V.debug(`Call ${this.callId} Failed to create answer: `,r),this.terminate("local","create_answer",!0);return}try{if(await this.peerConn.setLocalDescription(n),this.callHasEnded()||(this.setState("connecting"),await new Promise(r=>{setTimeout(r,200)}),this.callHasEnded()))return;this.sendAnswer()}catch(r){V.debug(`Call ${this.callId} Error setting local description!`,r),this.terminate("local","set_local_description",!0);return}}async onRemoteIceCandidatesReceived(e){if(this.callHasEnded())return;const n=e.getContent(),r=n.candidates;if(!r){V.info(`Call ${this.callId} Ignoring candidates event with no candidates!`);return}const i=n.version===0?null:n.party_id||null;if(this.opponentPartyId===void 0){V.info(`Call ${this.callId} Buffering ${r.length} candidates until we pick an opponent`);const s=this.remoteCandidateBuffer.get(i)||[];s.push(...r),this.remoteCandidateBuffer.set(i,s);return}if(!this.partyIdMatches(n)){V.info(`Call ${this.callId} Ignoring candidates from party ID ${n.party_id}: we have chosen party ID ${this.opponentPartyId}`);return}await this.addIceCandidates(r)}async onAnswerReceived(e){const n=e.getContent();if(V.debug(`Got answer for call ID ${this.callId} from party ID ${n.party_id}`),this.callHasEnded()){V.debug(`Ignoring answer because call ID ${this.callId} has ended`);return}if(this.opponentPartyId!==void 0){V.info(`Call ${this.callId} Ignoring answer from party ID ${n.party_id}: we already have an answer/reject from ${this.opponentPartyId}`);return}this.chooseOpponent(e),await this.addBufferedIceCandidates(),this.setState("connecting");const r=n[Q1];r?this.updateRemoteSDPStreamMetadata(r):V.warn(`Call ${this.callId} Did not get any SDPStreamMetadata! Can not send/receive multiple streams`);try{await this.peerConn.setRemoteDescription(n.answer)}catch(i){V.debug(`Call ${this.callId} Failed to set remote description`,i),this.terminate("local","set_remote_description",!1);return}if(this.opponentPartyId!==null)try{await this.sendVoipEvent(Ot.CallSelectAnswer,{selected_party_id:this.opponentPartyId})}catch(i){V.warn(`Call ${this.callId} Failed to send select_answer event`,i)}}async onSelectAnswerReceived(e){if(this.direction!=="inbound"){V.warn(`Call ${this.callId} Got select_answer for an outbound call: ignoring`);return}const n=e.getContent().selected_party_id;if(n==null){V.warn(`Call ${this.callId} Got nonsensical select_answer with null/undefined selected_party_id: ignoring`);return}n!==this.ourPartyId&&(V.info(`Call ${this.callId} Got select_answer for party ID ${n}: we are party ID ${this.ourPartyId}.`),await this.terminate("remote","answered_elsewhere",!0))}async onNegotiateReceived(e){var h;const n=e.getContent(),r=n.description;if(!r||!r.sdp||!r.type){V.info(`Call ${this.callId} Ignoring invalid m.call.negotiate event`);return}const i=this.direction==="inbound",s=r.type==="offer"&&(this.makingOffer||this.peerConn.signalingState!=="stable");if(this.ignoreOffer=!i&&s,this.ignoreOffer){V.info(`Call ${this.callId} Ignoring colliding negotiate event because we're impolite`);return}const o=this.isLocalOnHold(),l=n[Q1];l?this.updateRemoteSDPStreamMetadata(l):V.warn(`Call ${this.callId} Received negotiation event without SDPStreamMetadata!`);try{if(await this.peerConn.setRemoteDescription(r),r.type==="offer"){let f;try{this.getRidOfRTXCodecs(),f=await this.createAnswer()}catch(v){V.debug(`Call ${this.callId} Failed to create answer: `,v),this.terminate("local","create_answer",!0);return}await this.peerConn.setLocalDescription(f),this.sendVoipEvent(Ot.CallNegotiate,{description:(h=this.peerConn.localDescription)==null?void 0:h.toJSON(),[Q1]:this.getLocalSDPStreamMetadata(!0)})}}catch(f){V.warn(`Call ${this.callId} Failed to complete negotiation`,f)}const d=this.isLocalOnHold();o!==d&&(this.emit("local_hold_unhold",d),this.emit("hold_unhold",d))}updateRemoteSDPStreamMetadata(e){var n;this.remoteSDPStreamMetadata=aZ(this.remoteSDPStreamMetadata||{},e,!0);for(const r of this.getRemoteFeeds()){const i=r.stream.id,s=this.remoteSDPStreamMetadata[i];r.setAudioVideoMuted(s==null?void 0:s.audio_muted,s==null?void 0:s.video_muted),r.purpose=(n=this.remoteSDPStreamMetadata[i])==null?void 0:n.purpose}}onSDPStreamMetadataChangedReceived(e){const r=e.getContent()[Q1];this.updateRemoteSDPStreamMetadata(r)}async onAssertedIdentityReceived(e){const n=e.getContent();!n.asserted_identity||(this.remoteAssertedIdentity={id:n.asserted_identity.id,displayName:n.asserted_identity.display_name},this.emit("asserted_identity_changed"))}callHasEnded(){return this.state==="ended"}queueGotLocalOffer(){this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then(()=>this.wrappedGotLocalOffer()):this.responsePromiseChain=this.wrappedGotLocalOffer()}async wrappedGotLocalOffer(){this.makingOffer=!0;try{await this.gotLocalOffer()}catch(e){this.getLocalOfferFailed(e);return}finally{this.makingOffer=!1}}async gotLocalOffer(){var s,o;if(V.debug(`Call ${this.callId} Setting local description`),this.callHasEnded()){V.debug("Ignoring newly created offer on call ID "+this.callId+" because the call has ended");return}let e;try{this.getRidOfRTXCodecs(),e=await this.createOffer()}catch(l){V.debug(`Call ${this.callId} Failed to create offer: `,l),this.terminate("local","create_offer",!0);return}try{await this.peerConn.setLocalDescription(e)}catch(l){V.debug(`Call ${this.callId} Error setting local description!`,l),this.terminate("local","set_local_description",!0);return}if(this.peerConn.iceGatheringState==="gathering"&&await new Promise(l=>{setTimeout(l,200)}),this.callHasEnded())return;const n=this.state==="create_offer"?Ot.CallInvite:Ot.CallNegotiate,r={lifetime:Az};n===Ot.CallInvite&&this.invitee&&(r.invitee=this.invitee),this.state==="create_offer"?r.offer=(s=this.peerConn.localDescription)==null?void 0:s.toJSON():r.description=(o=this.peerConn.localDescription)==null?void 0:o.toJSON(),r.capabilities={"m.call.transferee":this.client.supportsCallTransfer,"m.call.dtmf":!1},r[Q1]=this.getLocalSDPStreamMetadata(!0);const i=this.discardDuplicateCandidates();V.info(`Call ${this.callId} Discarding ${i} candidates that will be sent in offer`);try{await this.sendVoipEvent(n,r)}catch(l){V.error(`Call ${this.callId} Failed to send invite`,l),l.event&&this.client.cancelPendingEvent(l.event);let d="signalling_timeout",h="Signalling failed";this.state==="create_offer"&&(d="send_invite",h="Failed to send invite"),l.name=="UnknownDeviceError"&&(d="unknown_devices",h="Unknown devices present in the room"),this.emit("error",new y_(d,h,l)),this.terminate("local",d,!1);return}this.sendCandidateQueue(),this.state==="create_offer"&&(this.inviteOrAnswerSent=!0,this.setState("invite_sent"),this.inviteTimeout=setTimeout(()=>{this.inviteTimeout=void 0,this.state==="invite_sent"&&this.hangup("invite_timeout",!1)},Az))}getRidOfRTXCodecs(){if(!RTCRtpReceiver.getCapabilities||!RTCRtpSender.getCapabilities)return;const e=RTCRtpReceiver.getCapabilities("video").codecs,r=[...RTCRtpSender.getCapabilities("video").codecs,...e];for(const s of r)if(s.mimeType==="video/rtx"){const o=r.indexOf(s);r.splice(o,1)}const i=this.transceivers.get(Kh(is.Screenshare,"video"));i&&i.setCodecPreferences(r)}setState(e){const n=this.state;this.state=e,this.emit("state",e,n)}async sendVoipEvent(e,n){var i;const r=Object.assign({},n,{version:$de,call_id:this.callId,party_id:this.ourPartyId,conf_id:this.groupCallId});if(this.opponentDeviceId){const s=this.toDeviceSeq++,o={...r,device_id:this.client.deviceId,sender_session_id:this.client.getSessionId(),dest_session_id:this.opponentSessionId,seq:s};this.emit("send_voip_event",{type:"toDevice",eventType:e,userId:this.invitee||this.getOpponentMember().userId,opponentDeviceId:this.opponentDeviceId,content:o});const l=this.invitee||this.getOpponentMember().userId;this.client.getUseE2eForGroupCall()?await this.client.encryptAndSendToDevices([{userId:l,deviceInfo:this.opponentDeviceInfo}],{type:e,content:o}):await this.client.sendToDevice(e,{[l]:{[this.opponentDeviceId]:o}})}else this.emit("send_voip_event",{type:"sendEvent",eventType:e,roomId:this.roomId,content:r,userId:this.invitee||((i=this.getOpponentMember())==null?void 0:i.userId)}),await this.client.sendEvent(this.roomId,e,r)}queueCandidate(e){if(e?this.candidateSendQueue.push(e):this.candidatesEnded=!0,this.state==="ringing"||!this.inviteOrAnswerSent)return;const n=this.direction==="inbound"?500:2e3;this.candidateSendTries===0&&setTimeout(()=>{this.sendCandidateQueue()},n)}discardDuplicateCandidates(){let e=0;const n=[];for(let r=0;r<this.candidateSendQueue.length;r++){const i=this.candidateSendQueue[r];i.candidate===""?n.push(i):e++}return this.candidateSendQueue=n,e}async transfer(e){const n=await this.client.getProfileInfo(e),r=iy(),i={replacement_id:iy(),target_user:{id:e,display_name:n.displayname,avatar_url:n.avatar_url},create_call:r};await this.sendVoipEvent(Ot.CallReplaces,i),await this.terminate("local","transferred",!0)}async transferToCall(e){const n=await this.client.getProfileInfo(e.getOpponentMember().userId),r=await this.client.getProfileInfo(this.getOpponentMember().userId),i=iy(),s={replacement_id:iy(),target_user:{id:this.getOpponentMember().userId,display_name:r.displayname,avatar_url:r.avatar_url},await_call:i};await e.sendVoipEvent(Ot.CallReplaces,s);const o={replacement_id:iy(),target_user:{id:e.getOpponentMember().userId,display_name:n.displayname,avatar_url:n.avatar_url},create_call:i};await this.sendVoipEvent(Ot.CallReplaces,o),await this.terminate("local","transferred",!0),await e.terminate("local","transferred",!0)}async terminate(e,n,r){if(!this.callHasEnded()){this.hangupParty=e,this.hangupReason=n,this.setState("ended"),this.inviteTimeout&&(clearTimeout(this.inviteTimeout),this.inviteTimeout=void 0),this.callLengthInterval&&(clearInterval(this.callLengthInterval),this.callLengthInterval=void 0);for(const[i,s]of this.removeTrackListeners)i.removeEventListener("removetrack",s);this.removeTrackListeners.clear(),this.callStatsAtEnd=await this.collectCallStats(),this.stopAllMedia(),this.deleteAllFeeds(),this.peerConn&&this.peerConn.signalingState!=="closed"&&this.peerConn.close(),r&&this.emit("hangup",this),this.client.callEventHandler.calls.delete(this.callId)}}stopAllMedia(){V.debug(this.groupCallId?`Call ${this.callId} stopping all media except local feeds`:`Call ${this.callId} stopping all media`);for(const e of this.feeds)if(e.isLocal()&&e.purpose===is.Usermedia&&!this.groupCallId)this.client.getMediaHandler().stopUserMediaStream(e.stream);else if(e.isLocal()&&e.purpose===is.Screenshare&&!this.groupCallId)this.client.getMediaHandler().stopScreensharingStream(e.stream);else if(!e.isLocal()||!this.groupCallId){V.debug("Stopping remote stream",e.stream.id);for(const n of e.stream.getTracks())n.stop()}}checkForErrorListener(){if(this.listeners(mZ.Error).length===0)throw new Error("You MUST attach an error listener using call.on('error', function() {})")}async sendCandidateQueue(){if(this.candidateSendQueue.length===0||this.callHasEnded())return;const e=this.candidateSendQueue;this.candidateSendQueue=[],++this.candidateSendTries;const n={candidates:e.map(r=>r.toJSON())};this.candidatesEnded&&n.candidates.push({candidate:""}),V.debug(`Call ${this.callId} attempting to send ${e.length} candidates`);try{await this.sendVoipEvent(Ot.CallCandidates,n),this.candidateSendTries=0,this.sendCandidateQueue()}catch(r){if(r.event&&this.client.cancelPendingEvent(r.event),this.candidateSendQueue.push(...e),this.candidateSendTries>5){V.debug(`Call ${this.callId} failed to send candidates on attempt ${this.candidateSendTries}. Giving up on this call.`,r);const s="signalling_timeout",o="Signalling failed";this.emit("error",new y_(s,o,r)),this.hangup(s,!1);return}const i=500*Math.pow(2,this.candidateSendTries);++this.candidateSendTries,V.debug(`Call ${this.callId} failed to send candidates. Retrying in ${i}ms`,r),setTimeout(()=>{this.sendCandidateQueue()},i)}}async placeCall(e,n){if(!e)throw new Error("You CANNOT start a call without audio");this.setState("wait_local_media");try{const r=await this.client.getMediaHandler().getUserMediaStream(e,n);_l(r.getAudioTracks(),!0),_l(r.getVideoTracks(),!0);const i=new op({client:this.client,roomId:this.roomId,userId:this.client.getUserId(),stream:r,purpose:is.Usermedia,audioMuted:!1,videoMuted:!1});await this.placeCallWithCallFeeds([i])}catch(r){this.getUserMediaFailed(r);return}}async placeCallWithCallFeeds(e,n=!1){this.checkForErrorListener(),this.direction="outbound",await this.initOpponentCrypto(),this.client.callEventHandler.calls.set(this.callId,this),await this.client.checkTurnServers()||V.warn(`Call ${this.callId} Failed to get TURN credentials! Proceeding with call anyway...`),this.peerConn=this.createPeerConnection(),this.gotCallFeedsForInvite(e,n)}createPeerConnection(){const e=new window.RTCPeerConnection({iceTransportPolicy:this.forceTURN?"relay":void 0,iceServers:this.turnServers,iceCandidatePoolSize:this.client.iceCandidatePoolSize,bundlePolicy:"max-bundle"});return e.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChanged),e.addEventListener("signalingstatechange",this.onSignallingStateChanged),e.addEventListener("icecandidate",this.gotLocalIceCandidate),e.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),e.addEventListener("track",this.onTrack),e.addEventListener("negotiationneeded",this.onNegotiationNeeded),e.addEventListener("datachannel",this.onDataChannel),e}partyIdMatches(e){return(e.version===0?null:e.party_id||null)===this.opponentPartyId}chooseOpponent(e){const n=e.getContent();V.debug(`Call ${this.callId} choosing opponent party ID ${n.party_id}`),this.opponentVersion=n.version,this.opponentVersion===0?this.opponentPartyId=null:this.opponentPartyId=n.party_id||null,this.opponentCaps=n.capabilities||{},this.opponentMember=this.client.getRoom(this.roomId).getMember(e.getSender())}async addBufferedIceCandidates(){const e=this.remoteCandidateBuffer.get(this.opponentPartyId);e&&(V.info(`Call ${this.callId} Adding ${e.length} buffered candidates for opponent ${this.opponentPartyId}`),await this.addIceCandidates(e)),this.remoteCandidateBuffer=null}async addIceCandidates(e){for(const n of e){(n.sdpMid===null||n.sdpMid===void 0)&&(n.sdpMLineIndex===null||n.sdpMLineIndex===void 0)?V.debug(`Call ${this.callId} got remote ICE end-of-candidates`):V.debug(`Call ${this.callId} got remote ICE ${n.sdpMid} candidate: ${n.candidate}`);try{await this.peerConn.addIceCandidate(n)}catch(r){this.ignoreOffer||V.info(`Call ${this.callId} failed to add remote ICE candidate`,r)}}}get hasPeerConnection(){return Boolean(this.peerConn)}}function _l(t,e){for(let n=0;n<t.length;n++)t[n].enabled=e}function cJ(){if(typeof window=="undefined"||typeof document=="undefined")return!1;try{if(!Boolean(window.RTCPeerConnection||window.RTCSessionDescription||window.RTCIceCandidate||navigator.mediaDevices))return V.error("WebRTC is not supported in this browser / environment"),!1}catch(t){return V.error("Exception thrown when trying to access WebRTC",t),!1}return!0}function tx(t,e,n){if(!cJ())return null;const r=n?n.forceTURN:!1,i={client:t,roomId:e,invitee:n==null?void 0:n.invitee,turnServers:t.getTurnServers(),forceTURN:t.forceTURN||r,opponentDeviceId:n==null?void 0:n.opponentDeviceId,opponentSessionId:n==null?void 0:n.opponentSessionId,groupCallId:n==null?void 0:n.groupCallId},s=new Ude(i);return t.reEmitter.reEmit(s,Object.values(fa)),s}var uJ=(t=>(t.SUCCESS="SUCCESS",t.IGNORE="IGNORE",t.PROMPT="PROMPT",t.FAIL_PROMPT="FAIL_PROMPT",t.FAIL_ERROR="FAIL_ERROR",t))(uJ||{});const Qr=class{static async fromDiscoveryConfig(t){const e={"m.homeserver":{state:Qr.FAIL_ERROR,error:Qr.ERROR_INVALID,base_url:null},"m.identity_server":{state:Qr.PROMPT,error:null,base_url:null}};if(!t||!t["m.homeserver"])return V.error("No m.homeserver key in config"),e["m.homeserver"].state=Qr.FAIL_PROMPT,e["m.homeserver"].error=Qr.ERROR_INVALID,Promise.resolve(e);if(!t["m.homeserver"].base_url)return V.error("No m.homeserver base_url in config"),e["m.homeserver"].state=Qr.FAIL_PROMPT,e["m.homeserver"].error=Qr.ERROR_INVALID_HS_BASE_URL,Promise.resolve(e);const n=this.sanitizeWellKnownUrl(t["m.homeserver"].base_url);if(!n)return V.error("Invalid base_url for m.homeserver"),e["m.homeserver"].error=Qr.ERROR_INVALID_HS_BASE_URL,Promise.resolve(e);const r=await this.fetchWellKnownObject(`${n}/_matrix/client/versions`);if(!r||!r.raw.versions)return V.error("Invalid /versions response"),e["m.homeserver"].error=Qr.ERROR_INVALID_HOMESERVER,e["m.homeserver"].base_url=n,Promise.resolve(e);e["m.homeserver"]={state:Qr.SUCCESS,error:null,base_url:n};let i="";if(t["m.identity_server"]){const s={"m.homeserver":e["m.homeserver"],"m.identity_server":{state:Qr.FAIL_PROMPT,error:Qr.ERROR_INVALID_IS,base_url:null}};if(i=this.sanitizeWellKnownUrl(t["m.identity_server"].base_url),!i)return V.error("Invalid base_url for m.identity_server"),s["m.identity_server"].error=Qr.ERROR_INVALID_IS_BASE_URL,Promise.resolve(s);const o=await this.fetchWellKnownObject(`${i}/_matrix/identity/api/v1`);if(!o||!o.raw||o.action!=="SUCCESS")return V.error("Invalid /api/v1 response"),s["m.identity_server"].error=Qr.ERROR_INVALID_IDENTITY_SERVER,s["m.identity_server"].base_url=i,Promise.resolve(s)}return i&&i.toString().length>0&&(e["m.identity_server"]={state:Qr.SUCCESS,error:null,base_url:i}),Object.keys(t).forEach(s=>{if(s==="m.homeserver"||s==="m.identity_server"){const o=["error","state","base_url"];for(const l of Object.keys(t[s]))o.includes(l)||(e[s][l]=t[s][l])}else e[s]=t[s]}),Promise.resolve(e)}static async findClientConfig(t){if(!t||typeof t!="string"||t.length===0)throw new Error("'domain' must be a string of non-zero length");const e={"m.homeserver":{state:Qr.FAIL_ERROR,error:Qr.ERROR_INVALID,base_url:null},"m.identity_server":{state:Qr.PROMPT,error:null,base_url:null}},n=await this.fetchWellKnownObject(`https://${t}/.well-known/matrix/client`);return!n||n.action!=="SUCCESS"?(V.error("No response or error when parsing .well-known"),n.reason&&V.error(n.reason),n.action==="IGNORE"?e["m.homeserver"]={state:Qr.PROMPT,error:null,base_url:null}:(e["m.homeserver"].state=Qr.FAIL_PROMPT,e["m.homeserver"].error=Qr.ERROR_INVALID),Promise.resolve(e)):Qr.fromDiscoveryConfig(n.raw)}static async getRawClientConfig(t){if(!t||typeof t!="string"||t.length===0)throw new Error("'domain' must be a string of non-zero length");const e=await this.fetchWellKnownObject(`https://${t}/.well-known/matrix/client`);return e?e.raw||{}:{}}static sanitizeWellKnownUrl(t){if(!t)return!1;try{let e=null;try{e=new URL(t)}catch(s){V.error("Could not parse url",s)}if(!e||!e.hostname||e.protocol!=="http:"&&e.protocol!=="https:")return!1;const n=e.port?`:${e.port}`:"",r=e.pathname?e.pathname:"";let i=`${e.protocol}//${e.hostname}${n}${r}`;return i.endsWith("/")&&(i=i.substring(0,i.length-1)),i}catch(e){return V.error(e),!1}}static fetch(t,e){return this.fetchFn?this.fetchFn(t,e):global.fetch(t,e)}static setFetchFn(t){Qr.fetchFn=t}static async fetchWellKnownObject(t){let e;try{if(e=await Qr.fetch(t,{method:jt.Get,signal:bU(5e3)}),e.status===404)return{raw:{},action:"IGNORE",reason:Qr.ERROR_MISSING_WELLKNOWN};if(!e.ok)return{raw:{},action:"FAIL_PROMPT",reason:"General failure"}}catch(n){const r=n;return{error:r,raw:{},action:"FAIL_PROMPT",reason:(r==null?void 0:r.message)||"General failure"}}try{return{raw:await e.json(),action:"SUCCESS"}}catch(n){const r=n;return{error:r,raw:{},action:"FAIL_PROMPT",reason:(r==null?void 0:r.name)==="SyntaxError"?Qr.ERROR_INVALID_JSON:Qr.ERROR_INVALID}}}};let Qa=Qr;Qa.ERROR_INVALID="Invalid homeserver discovery response";Qa.ERROR_GENERIC_FAILURE="Failed to get autodiscovery configuration from server";Qa.ERROR_INVALID_HS_BASE_URL="Invalid base_url for m.homeserver";Qa.ERROR_INVALID_HOMESERVER="Homeserver URL does not appear to be a valid Matrix homeserver";Qa.ERROR_INVALID_IS_BASE_URL="Invalid base_url for m.identity_server";Qa.ERROR_INVALID_IDENTITY_SERVER="Identity server URL does not appear to be a valid identity server";Qa.ERROR_INVALID_IS="Invalid identity server discovery response";Qa.ERROR_MISSING_WELLKNOWN="No .well-known JSON file found";Qa.ERROR_INVALID_JSON="Invalid JSON";Qa.ALL_ERRORS=[Qr.ERROR_INVALID,Qr.ERROR_GENERIC_FAILURE,Qr.ERROR_INVALID_HS_BASE_URL,Qr.ERROR_INVALID_HOMESERVER,Qr.ERROR_INVALID_IS_BASE_URL,Qr.ERROR_INVALID_IDENTITY_SERVER,Qr.ERROR_INVALID_IS,Qr.ERROR_MISSING_WELLKNOWN,Qr.ERROR_INVALID_JSON];Qa.FAIL_ERROR="FAIL_ERROR";Qa.FAIL_PROMPT="FAIL_PROMPT";Qa.PROMPT="PROMPT";Qa.SUCCESS="SUCCESS";var Dz=/[\\\"\x00-\x1F]/g,Sp={};for(var AT=0;AT<32;++AT)Sp[String.fromCharCode(AT)]="\\U"+("0000"+AT.toString(16)).slice(-4).toUpperCase();Sp["\b"]="\\b";Sp["	"]="\\t";Sp[`
`]="\\n";Sp["\f"]="\\f";Sp["\r"]="\\r";Sp['"']='\\"';Sp["\\"]="\\\\";function dJ(t){return Dz.lastIndex=0,t.replace(Dz,function(e){return Sp[e]})}function kU(t){switch(typeof t){case"string":return'"'+dJ(t)+'"';case"number":return isFinite(t)?t:"null";case"boolean":return t;case"object":return t===null?"null":Array.isArray(t)?Hde(t):jde(t);default:throw new Error("Cannot stringify: "+typeof t)}}function Hde(t){for(var e="[",n="",r=0;r<t.length;++r)n+=e,e=",",n+=kU(t[r]);return e!=","?"[]":n+"]"}function jde(t){var e="{",n="",r=Object.keys(t);r.sort();for(var i=0;i<r.length;++i){var s=r[i];n+=e+'"'+dJ(s)+'":',e=",",n+=kU(t[s])}return e!=","?"{}":n+"}"}var hp={stringify:kU};const ga="m.olm.v1.curve25519-aes-sha2",Zl="m.megolm.v1.aes-sha2",Kde="m.megolm_backup.v1.curve25519-aes-sha2";async function jg(t,e,n,r,i,s,o){const l=s.getIdentityKey(),d=await r.getSessionIdForDevice(l);if(d===null)return;V.log("Using sessionid "+d+" for device "+i+":"+s.deviceId);const h={sender:e,sender_device:n,keys:{ed25519:r.deviceEd25519Key},recipient:i,recipient_keys:{ed25519:s.getFingerprint()}};Object.assign(h,o),t[l]=await r.encryptMessage(l,d,JSON.stringify(h))}async function fJ(t,e,n){const r={},i={},s=[];for(const[o,l]of Object.entries(n))for(const d of l){const h=d.deviceId,f=d.getIdentityKey();s.push((async()=>{const v=await t.getSessionIdForDevice(f,!0);v===null?(r[o]=r[o]||[],r[o].push(d)):(i[o]=i[o]||{},i[o][h]={device:d,sessionId:v})})())}return await Promise.all(s),[r,i]}async function pp(t,e,n,r=!1,i,s,o=V){typeof r=="number"&&(o=s,s=i,i=r,r=!1);const l=[],d={},h={};for(const[,O]of Object.entries(n))for(const M of O){const A=M.getIdentityKey();A!==t.deviceCurve25519Key&&(t.sessionsInProgress[A]||(t.sessionsInProgress[A]=new Promise(D=>{h[A]=U=>{delete t.sessionsInProgress[A],D(U)}})))}for(const[O,M]of Object.entries(n)){d[O]={};for(const A of M){const D=A.deviceId,U=A.getIdentityKey();if(U===t.deviceCurve25519Key){o.info("Attempted to start session with ourself! Ignoring"),d[O][D]={device:A,sessionId:null};continue}const R=`for ${U} (${O}:${D})`,X=await t.getSessionIdForDevice(U,!!h[U],o);X!==null&&h[U]&&h[U](),(X===null||r)&&(r?o.info(`Forcing new Olm session ${R}`):o.info(`Making new Olm session ${R}`),l.push([O,D])),d[O][D]={device:A,sessionId:X}}}if(l.length===0)return d;const f="signed_curve25519";let v,w=`one-time keys for ${l.length} devices`;try{o.debug(`Claiming ${w}`),v=await e.claimOneTimeKeys(l,f,i),o.debug(`Claimed ${w}`)}catch(O){for(const M of Object.values(h))M();throw o.log(`Failed to claim ${w}`,O,l),O}s&&"failures"in v&&s.push(...Object.keys(v.failures));const E=v.one_time_keys||{},C=[];for(const[O,M]of Object.entries(n)){const A=E[O]||{};for(let D=0;D<M.length;D++){const U=M[D],R=U.deviceId,X=U.getIdentityKey();if(X===t.deviceCurve25519Key||d[O][R].sessionId&&!r)continue;const H=A[R]||{};let K=null;for(const W in H)W.indexOf(f+":")===0&&(K=H[W]);if(!K){o.warn(`No one-time keys (alg=${f}) for device ${O}:${R}`),h[X]&&h[X]();continue}C.push(zde(t,K,O,U).then(W=>{h[X]&&h[X](W),d[O][R].sessionId=W},W=>{throw h[X]&&h[X](),W}))}}return w=`Olm sessions for ${C.length} devices`,o.debug(`Starting ${w}`),await Promise.all(C),o.debug(`Started ${w}`),d}async function zde(t,e,n,r){const i=r.deviceId;try{await H3(t,e,n,i,r.getFingerprint())}catch(o){return V.error("Unable to verify signature on one-time key for device "+n+":"+i+":",o),null}let s;try{s=await t.createOutboundSession(r.getIdentityKey(),e.key)}catch(o){return V.error("Error starting olm session with device "+n+":"+i+": "+o),null}return V.log("Started new olm sessionid "+s+" for device "+n+":"+i),s}async function H3(t,e,n,r,i){const s="ed25519:"+r,d=((e.signatures||{})[n]||{})[s];if(!d)throw Error("No signature");const h=Object.assign({},e);"unsigned"in h&&delete h.unsigned,delete h.signatures;const f=hp.stringify(h);t.verifySignature(i,f,d)}function zC(t,e,n,r){let i=!1;if(e instanceof Uint8Array){const l=new global.Olm.PkSigning;r=l.init_with_seed(e),e=l,i=!0}const s=t.signatures||{};delete t.signatures;const o=t.unsigned;t.unsigned&&delete t.unsigned;try{const l=s[n]||{};return s[n]=l,l["ed25519:"+r]=e.sign(hp.stringify(t))}finally{t.signatures=s,o&&(t.unsigned=o),i&&e.free()}}function z_(t,e,n){const r="ed25519:"+e;if(!(t.signatures&&t.signatures[n]&&t.signatures[n][r]))throw new Error("No signature");const i=t.signatures[n][r],s=new global.Olm.Utility,o=t.signatures;delete t.signatures;const l=t.unsigned;t.unsigned&&delete t.unsigned;try{s.ed25519_verify(e,hp.stringify(t),i)}finally{t.signatures=o,l&&(t.unsigned=l),s.free()}}function TU(t){return t.getSenderKey()?t.getWireType()!==Ot.RoomMessageEncrypted||!["m.olm.v1.curve25519-aes-sha2"].includes(t.getWireContent().algorithm)?(V.error("Event was not encrypted using an appropriate algorithm"),!1):!0:(V.error("Event has no sender key (not encrypted?)"),!1)}function wl(t){return Buffer.from(t).toString("base64")}function hJ(t){return wl(t).replace(/=+$/g,"")}function za(t){return Buffer.from(t,"base64")}var qde=Object.freeze(Object.defineProperty({__proto__:null,OLM_ALGORITHM:ga,MEGOLM_ALGORITHM:Zl,MEGOLM_BACKUP_ALGORITHM:Kde,encryptMessageForDevice:jg,getExistingOlmSessions:fJ,ensureOlmSessionsForDevices:pp,verifySignature:H3,pkSign:zC,pkVerify:z_,isOlmEncrypted:TU,encodeBase64:wl,encodeUnpaddedBase64:hJ,decodeBase64:za},Symbol.toStringTag,{value:"Module"}));const Pc="crypto.",MD=Pc+"account",Nz=Pc+"cross_signing_keys",Bz=Pc+"notified_error_devices",$z=Pc+"device_data",nS=Pc+"inboundgroupsessions/",Vde=Pc+"inboundgroupsessions.withheld/",Gde=Pc+"rooms/",v_=Pc+"sessionsneedingbackup";function PT(t){return Pc+"sessions/"+t}function Fz(t){return Pc+"session.problems/"+t}function OD(t,e){return nS+t+"/"+e}function Uz(t,e){return Vde+t+"/"+e}function Hz(t){return Gde+t}class i$ extends qx{constructor(e){super(),this.store=e}static exists(e){const n=e.length;for(let r=0;r<n;r++)if(e.key(r).startsWith(Pc))return!0;return!1}countEndToEndSessions(e,n){let r=0;for(let i=0;i<this.store.length;++i)this.store.key(i).startsWith(PT(""))&&++r;n(r)}_getEndToEndSessions(e){const n=ua(this.store,PT(e)),r={};for(const[i,s]of Object.entries(n||{}))typeof s=="string"?r[i]={session:s}:r[i]=s;return r}getEndToEndSession(e,n,r,i){const s=this._getEndToEndSessions(e);i(s[n]||{})}getEndToEndSessions(e,n,r){r(this._getEndToEndSessions(e)||{})}getAllEndToEndSessions(e,n){for(let r=0;r<this.store.length;++r)if(this.store.key(r).startsWith(PT(""))){const i=this.store.key(r).split("/")[1];for(const s of Object.values(this._getEndToEndSessions(i)))n(s)}}storeEndToEndSession(e,n,r,i){const s=this._getEndToEndSessions(e)||{};s[n]=r,tu(this.store,PT(e),s)}async storeEndToEndSessionProblem(e,n,r){const i=Fz(e),s=ua(this.store,i)||[];s.push({type:n,fixed:r,time:Date.now()}),s.sort((o,l)=>o.time-l.time),tu(this.store,i,s)}async getEndToEndSessionProblem(e,n){const r=Fz(e),i=ua(this.store,r)||[];if(!i.length)return null;const s=i[i.length-1];for(const o of i)if(o.time>n)return Object.assign({},o,{fixed:s.fixed});return s.fixed?null:s}async filterOutNotifiedErrorDevices(e){const n=ua(this.store,Bz)||{},r=[];for(const i of e){const{userId:s,deviceInfo:o}=i;s in n?o.deviceId in n[s]||(r.push(i),n[s][o.deviceId]=!0):(r.push(i),n[s]={[o.deviceId]:!0})}return tu(this.store,Bz,n),r}getEndToEndInboundGroupSession(e,n,r,i){i(ua(this.store,OD(e,n)),ua(this.store,Uz(e,n)))}getAllEndToEndInboundGroupSessions(e,n){for(let r=0;r<this.store.length;++r){const i=this.store.key(r);i.startsWith(nS)&&n({senderKey:i.slice(nS.length,nS.length+43),sessionId:i.slice(nS.length+44),sessionData:ua(this.store,i)})}n(null)}addEndToEndInboundGroupSession(e,n,r,i){ua(this.store,OD(e,n))||this.storeEndToEndInboundGroupSession(e,n,r,i)}storeEndToEndInboundGroupSession(e,n,r,i){tu(this.store,OD(e,n),r)}storeEndToEndInboundGroupSessionWithheld(e,n,r,i){tu(this.store,Uz(e,n),r)}getEndToEndDeviceData(e,n){n(ua(this.store,$z))}storeEndToEndDeviceData(e,n){tu(this.store,$z,e)}storeEndToEndRoom(e,n,r){tu(this.store,Hz(e),n)}getEndToEndRooms(e,n){const r={},i=Hz("");for(let s=0;s<this.store.length;++s){const o=this.store.key(s);if(o.startsWith(i)){const l=o.slice(i.length);r[l]=ua(this.store,o)}}n(r)}getSessionsNeedingBackup(e){const n=ua(this.store,v_)||{},r=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i.slice(0,43),o=i.slice(44);if(this.getEndToEndInboundGroupSession(s,o,null,l=>{r.push({senderKey:s,sessionId:o,sessionData:l})}),e&&r.length>=e)break}return Promise.resolve(r)}countSessionsNeedingBackup(){const e=ua(this.store,v_)||{};return Promise.resolve(Object.keys(e).length)}unmarkSessionsNeedingBackup(e){const n=ua(this.store,v_)||{};for(const r of e)delete n[r.senderKey+"/"+r.sessionId];return tu(this.store,v_,n),Promise.resolve()}markSessionsNeedingBackup(e){const n=ua(this.store,v_)||{};for(const r of e)n[r.senderKey+"/"+r.sessionId]=!0;return tu(this.store,v_,n),Promise.resolve()}deleteAllData(){return this.store.removeItem(MD),Promise.resolve()}getAccount(e,n){const r=ua(this.store,MD);n(r)}storeAccount(e,n){tu(this.store,MD,n)}getCrossSigningKeys(e,n){const r=ua(this.store,Nz);n(r)}getSecretStorePrivateKey(e,n,r){const i=ua(this.store,Pc+`ssss_cache.${r}`);n(i)}storeCrossSigningKeys(e,n){tu(this.store,Nz,n)}storeSecretStorePrivateKey(e,n,r){tu(this.store,Pc+`ssss_cache.${n}`,r)}doTxn(e,n,r){return Promise.resolve(r(null))}}function ua(t,e){try{return JSON.parse(t.getItem(e))}catch(n){V.log("Error: Failed to get key %s: %s",e,n.stack||n),V.log(n.stack)}return null}function tu(t,e,n){t.setItem(e,JSON.stringify(n))}class Wde{constructor(e){this.db=e,this.nextTxnId=0,e.onversionchange=()=>{V.log(`versionchange for indexeddb ${this.db.name}: closing`),e.close()}}async startup(){return this}async deleteAllData(){throw Error("This is not implemented, call IDBFactory::deleteDatabase(dbName) instead.")}getOrAddOutgoingRoomKeyRequest(e){const n=e.requestBody;return new Promise((r,i)=>{const s=this.db.transaction("outgoingRoomKeyRequests","readwrite");s.onerror=i,this._getOutgoingRoomKeyRequest(s,n,o=>{if(o){V.log(`already have key request outstanding for ${n.room_id} / ${n.session_id}: not sending another`),r(o);return}V.log(`enqueueing key request for ${n.room_id} / `+n.session_id),s.oncomplete=()=>{r(e)},s.objectStore("outgoingRoomKeyRequests").add(e)})})}getOutgoingRoomKeyRequest(e){return new Promise((n,r)=>{const i=this.db.transaction("outgoingRoomKeyRequests","readonly");i.onerror=r,this._getOutgoingRoomKeyRequest(i,e,s=>{n(s)})})}_getOutgoingRoomKeyRequest(e,n,r){const o=e.objectStore("outgoingRoomKeyRequests").index("session").openCursor([n.room_id,n.session_id]);o.onsuccess=()=>{const l=o.result;if(!l){r(null);return}const d=l.value;if(D3(d.requestBody,n)){r(d);return}l.continue()}}getOutgoingRoomKeyRequestByState(e){if(e.length===0)return Promise.resolve(null);let n=0,r;function i(){const h=this.result;if(h){r=h.value;return}if(n++,n>=e.length)return;const f=e[n],v=this.source.openCursor(f);v.onsuccess=i}const s=this.db.transaction("outgoingRoomKeyRequests","readonly"),o=s.objectStore("outgoingRoomKeyRequests"),l=e[n],d=o.index("state").openCursor(l);return d.onsuccess=i,Z0(s).then(()=>r)}getAllOutgoingRoomKeyRequestsByState(e){return new Promise((n,r)=>{const l=this.db.transaction("outgoingRoomKeyRequests","readonly").objectStore("outgoingRoomKeyRequests").index("state").getAll(e);l.onsuccess=()=>n(l.result),l.onerror=()=>r(l.error)})}getOutgoingRoomKeyRequestsByTarget(e,n,r){let i=0;const s=[];function o(){const v=this.result;if(v){const w=v.value;w.recipients.some(E=>E.userId===e&&E.deviceId===n)&&s.push(w),v.continue()}else{if(i++,i>=r.length)return;const w=r[i],E=this.source.openCursor(w);E.onsuccess=o}}const l=this.db.transaction("outgoingRoomKeyRequests","readonly"),d=l.objectStore("outgoingRoomKeyRequests"),h=r[i],f=d.index("state").openCursor(h);return f.onsuccess=o,Z0(l).then(()=>s)}updateOutgoingRoomKeyRequest(e,n,r){let i=null;function s(){const d=this.result;if(!d)return;const h=d.value;if(h.state!=n){V.warn(`Cannot update room key request from ${n} as it was already updated to ${h.state}`);return}Object.assign(h,r),d.update(h),i=h}const o=this.db.transaction("outgoingRoomKeyRequests","readwrite"),l=o.objectStore("outgoingRoomKeyRequests").openCursor(e);return l.onsuccess=s,Z0(o).then(()=>i)}deleteOutgoingRoomKeyRequest(e,n){const r=this.db.transaction("outgoingRoomKeyRequests","readwrite"),i=r.objectStore("outgoingRoomKeyRequests").openCursor(e);return i.onsuccess=()=>{const s=i.result;if(!s)return;const o=s.value;if(o.state!=n){V.warn(`Cannot delete room key request in state ${o.state} (expected ${n})`);return}s.delete()},Z0(r)}getAccount(e,n){const i=e.objectStore("account").get("-");i.onsuccess=function(){try{n(i.result||null)}catch(s){Hl(e,s)}}}storeAccount(e,n){e.objectStore("account").put(n,"-")}getCrossSigningKeys(e,n){const i=e.objectStore("account").get("crossSigningKeys");i.onsuccess=function(){try{n(i.result||null)}catch(s){Hl(e,s)}}}getSecretStorePrivateKey(e,n,r){const s=e.objectStore("account").get(`ssss_cache:${r}`);s.onsuccess=function(){try{n(s.result||null)}catch(o){Hl(e,o)}}}storeCrossSigningKeys(e,n){e.objectStore("account").put(n,"crossSigningKeys")}storeSecretStorePrivateKey(e,n,r){e.objectStore("account").put(r,`ssss_cache:${n}`)}countEndToEndSessions(e,n){const i=e.objectStore("sessions").count();i.onsuccess=function(){try{n(i.result)}catch(s){Hl(e,s)}}}getEndToEndSessions(e,n,r){const o=n.objectStore("sessions").index("deviceKey").openCursor(e),l={};o.onsuccess=function(){const d=o.result;if(d)l[d.value.sessionId]={session:d.value.session,lastReceivedMessageTs:d.value.lastReceivedMessageTs},d.continue();else try{r(l)}catch(h){Hl(n,h)}}}getEndToEndSession(e,n,r,i){const o=r.objectStore("sessions").get([e,n]);o.onsuccess=function(){try{o.result?i({session:o.result.session,lastReceivedMessageTs:o.result.lastReceivedMessageTs}):i(null)}catch(l){Hl(r,l)}}}getAllEndToEndSessions(e,n){const i=e.objectStore("sessions").openCursor();i.onsuccess=function(){try{const s=i.result;s?(n(s.value),s.continue()):n(null)}catch(s){Hl(e,s)}}}storeEndToEndSession(e,n,r,i){i.objectStore("sessions").put({deviceKey:e,sessionId:n,session:r.session,lastReceivedMessageTs:r.lastReceivedMessageTs})}async storeEndToEndSessionProblem(e,n,r){const i=this.db.transaction("session_problems","readwrite");return i.objectStore("session_problems").put({deviceKey:e,type:n,fixed:r,time:Date.now()}),Z0(i)}async getEndToEndSessionProblem(e,n){let r;const i=this.db.transaction("session_problems","readwrite"),l=i.objectStore("session_problems").index("deviceKey").getAll(e);return l.onsuccess=()=>{const d=l.result;if(!d.length){r=null;return}d.sort((f,v)=>f.time-v.time);const h=d[d.length-1];for(const f of d)if(f.time>n){r=Object.assign({},f,{fixed:h.fixed});return}h.fixed?r=null:r=h},await Z0(i),r}async filterOutNotifiedErrorDevices(e){const r=this.db.transaction("notified_error_devices","readwrite").objectStore("notified_error_devices"),i=[];return await Promise.all(e.map(s=>new Promise(o=>{const{userId:l,deviceInfo:d}=s,h=r.get([l,d.deviceId]);h.onsuccess=function(){h.result||(r.put({userId:l,deviceId:d.deviceId}),i.push(s)),o()}}))),i}getEndToEndInboundGroupSession(e,n,r,i){let s=!1,o=!1;const d=r.objectStore("inbound_group_sessions").get([e,n]);d.onsuccess=function(){try{d.result?s=d.result.session:s=null,o!==!1&&i(s,o)}catch(v){Hl(r,v)}};const f=r.objectStore("inbound_group_sessions_withheld").get([e,n]);f.onsuccess=function(){try{f.result?o=f.result.session:o=null,s!==!1&&i(s,o)}catch(v){Hl(r,v)}}}getAllEndToEndInboundGroupSessions(e,n){const i=e.objectStore("inbound_group_sessions").openCursor();i.onsuccess=function(){const s=i.result;if(s){try{n({senderKey:s.value.senderCurve25519Key,sessionId:s.value.sessionId,sessionData:s.value.session})}catch(o){Hl(e,o)}s.continue()}else try{n(null)}catch(o){Hl(e,o)}}}addEndToEndInboundGroupSession(e,n,r,i){const o=i.objectStore("inbound_group_sessions").add({senderCurve25519Key:e,sessionId:n,session:r});o.onerror=l=>{o.error.name==="ConstraintError"?(l.stopPropagation(),l.preventDefault(),V.log("Ignoring duplicate inbound group session: "+e+" / "+n)):Hl(i,new Error("Failed to add inbound group session: "+o.error))}}storeEndToEndInboundGroupSession(e,n,r,i){i.objectStore("inbound_group_sessions").put({senderCurve25519Key:e,sessionId:n,session:r})}storeEndToEndInboundGroupSessionWithheld(e,n,r,i){i.objectStore("inbound_group_sessions_withheld").put({senderCurve25519Key:e,sessionId:n,session:r})}getEndToEndDeviceData(e,n){const i=e.objectStore("device_data").get("-");i.onsuccess=function(){try{n(i.result||null)}catch(s){Hl(e,s)}}}storeEndToEndDeviceData(e,n){n.objectStore("device_data").put(e,"-")}storeEndToEndRoom(e,n,r){r.objectStore("rooms").put(n,e)}getEndToEndRooms(e,n){const r={},s=e.objectStore("rooms").openCursor();s.onsuccess=function(){const o=s.result;if(o)r[o.key]=o.value,o.continue();else try{n(r)}catch(l){Hl(e,l)}}}getSessionsNeedingBackup(e){return new Promise((n,r)=>{const i=[],s=this.db.transaction(["sessions_needing_backup","inbound_group_sessions"],"readonly");s.onerror=r,s.oncomplete=function(){n(i)};const o=s.objectStore("sessions_needing_backup"),l=s.objectStore("inbound_group_sessions"),d=o.openCursor();d.onsuccess=function(){const h=d.result;if(h){const f=l.get(h.key);f.onsuccess=function(){i.push({senderKey:f.result.senderCurve25519Key,sessionId:f.result.sessionId,sessionData:f.result.session})},(!e||i.length<e)&&h.continue()}}})}countSessionsNeedingBackup(e){e||(e=this.db.transaction("sessions_needing_backup","readonly"));const n=e.objectStore("sessions_needing_backup");return new Promise((r,i)=>{const s=n.count();s.onerror=i,s.onsuccess=()=>r(s.result)})}async unmarkSessionsNeedingBackup(e,n){n||(n=this.db.transaction("sessions_needing_backup","readwrite"));const r=n.objectStore("sessions_needing_backup");await Promise.all(e.map(i=>new Promise((s,o)=>{const l=r.delete([i.senderKey,i.sessionId]);l.onsuccess=s,l.onerror=o})))}async markSessionsNeedingBackup(e,n){n||(n=this.db.transaction("sessions_needing_backup","readwrite"));const r=n.objectStore("sessions_needing_backup");await Promise.all(e.map(i=>new Promise((s,o)=>{const l=r.put({senderCurve25519Key:i.senderKey,sessionId:i.sessionId});l.onsuccess=s,l.onerror=o})))}addSharedHistoryInboundGroupSession(e,n,r,i){i||(i=this.db.transaction("shared_history_inbound_group_sessions","readwrite"));const s=i.objectStore("shared_history_inbound_group_sessions"),o=s.get([e]);o.onsuccess=()=>{const{sessions:l}=o.result||{sessions:[]};l.push([n,r]),s.put({roomId:e,sessions:l})}}getSharedHistoryInboundGroupSessions(e,n){n||(n=this.db.transaction("shared_history_inbound_group_sessions","readonly"));const i=n.objectStore("shared_history_inbound_group_sessions").get([e]);return new Promise((s,o)=>{i.onsuccess=()=>{const{sessions:l}=i.result||{sessions:[]};s(l)},i.onerror=o})}addParkedSharedHistory(e,n,r){r||(r=this.db.transaction("parked_shared_history","readwrite"));const i=r.objectStore("parked_shared_history"),s=i.get([e]);s.onsuccess=()=>{const{parked:o}=s.result||{parked:[]};o.push(n),i.put({roomId:e,parked:o})}}takeParkedSharedHistory(e,n){n||(n=this.db.transaction("parked_shared_history","readwrite"));const r=n.objectStore("parked_shared_history").openCursor(e);return new Promise((i,s)=>{r.onsuccess=()=>{const o=r.result;if(!o){i([]);return}const l=o.value;o.delete(),i(l)},r.onerror=s})}doTxn(e,n,r,i=V){const s=this.db.transaction(n,e),o=Z0(s),l=r(s);return o.then(()=>l)}}const pJ=[t=>{Xde(t)},t=>{t.createObjectStore("account")},t=>{t.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]}).createIndex("deviceKey","deviceKey")},t=>{t.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]})},t=>{t.createObjectStore("device_data")},t=>{t.createObjectStore("rooms")},t=>{t.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]})},t=>{t.createObjectStore("inbound_group_sessions_withheld",{keyPath:["senderCurve25519Key","sessionId"]})},t=>{t.createObjectStore("session_problems",{keyPath:["deviceKey","time"]}).createIndex("deviceKey","deviceKey"),t.createObjectStore("notified_error_devices",{keyPath:["userId","deviceId"]})},t=>{t.createObjectStore("shared_history_inbound_group_sessions",{keyPath:["roomId"]})},t=>{t.createObjectStore("parked_shared_history",{keyPath:["roomId"]})}],gJ=pJ.length;function Yde(t,e){V.log(`Upgrading IndexedDBCryptoStore from version ${e} to ${gJ}`),pJ.forEach((n,r)=>{e<=r&&n(t)})}function Xde(t){const e=t.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});e.createIndex("session",["requestBody.room_id","requestBody.session_id"]),e.createIndex("state","state")}function Hl(t,e){t._mx_abortexception=e;try{t.abort()}catch{}}function Z0(t){return new Promise((e,n)=>{t.oncomplete=()=>{t._mx_abortexception!==void 0&&n(t._mx_abortexception),e(null)},t.onerror=r=>{t._mx_abortexception!==void 0?n(t._mx_abortexception):(V.log("Error performing indexeddb txn",r),n(t.error))},t.onabort=r=>{t._mx_abortexception!==void 0?n(t._mx_abortexception):(V.log("Error performing indexeddb txn",r),n(t.error))}})}function mJ(t,e){return new Promise((n,r)=>{let i=!0;const s=t.open(e);s.onupgradeneeded=()=>{i=!1},s.onblocked=()=>r(s.error),s.onsuccess=()=>{s.result.close(),i||t.deleteDatabase(e),n(i)},s.onerror=o=>r(s.error)})}const s$=class{constructor(t,e){this.indexedDB=t,this.dbName=e,this.backendPromise=null,this.backend=null}static exists(t,e){return mJ(t,e)}startup(){return this.backendPromise?this.backendPromise:(this.backendPromise=new Promise((t,e)=>{if(!this.indexedDB){e(new Error("no indexeddb support available"));return}V.log(`connecting to indexeddb ${this.dbName}`);const n=this.indexedDB.open(this.dbName,gJ);n.onupgradeneeded=r=>{const i=n.result,s=r.oldVersion;Yde(i,s)},n.onblocked=()=>{V.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},n.onerror=r=>{V.log("Error connecting to indexeddb",r),e(n.error)},n.onsuccess=()=>{const r=n.result;V.log(`connected to indexeddb ${this.dbName}`),t(new Wde(r))}}).then(t=>t.doTxn("readonly",[s$.STORE_INBOUND_GROUP_SESSIONS,s$.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],e=>{t.getEndToEndInboundGroupSession("","",e,()=>{})}).then(()=>t)).catch(t=>{if(t.name==="VersionError")throw V.warn("Crypto DB is too new for us to use!",t),new F3(F3.TOO_NEW);V.warn(`unable to connect to indexeddb ${this.dbName}: falling back to localStorage store: ${t}`);try{return new i$(global.localStorage)}catch(e){return V.warn(`unable to open localStorage: falling back to in-memory store: ${e}`),new qx}}).then(t=>(this.backend=t,t)),this.backendPromise)}deleteAllData(){return new Promise((t,e)=>{if(!this.indexedDB){e(new Error("no indexeddb support available"));return}V.log(`Removing indexeddb instance: ${this.dbName}`);const n=this.indexedDB.deleteDatabase(this.dbName);n.onblocked=()=>{V.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},n.onerror=r=>{V.log("Error deleting data from indexeddb",r),e(n.error)},n.onsuccess=()=>{V.log(`Removed indexeddb instance: ${this.dbName}`),t()}}).catch(t=>{V.warn(`unable to delete IndexedDBCryptoStore: ${t}`)})}getOrAddOutgoingRoomKeyRequest(t){return this.backend.getOrAddOutgoingRoomKeyRequest(t)}getOutgoingRoomKeyRequest(t){return this.backend.getOutgoingRoomKeyRequest(t)}getOutgoingRoomKeyRequestByState(t){return this.backend.getOutgoingRoomKeyRequestByState(t)}getAllOutgoingRoomKeyRequestsByState(t){return this.backend.getAllOutgoingRoomKeyRequestsByState(t)}getOutgoingRoomKeyRequestsByTarget(t,e,n){return this.backend.getOutgoingRoomKeyRequestsByTarget(t,e,n)}updateOutgoingRoomKeyRequest(t,e,n){return this.backend.updateOutgoingRoomKeyRequest(t,e,n)}deleteOutgoingRoomKeyRequest(t,e){return this.backend.deleteOutgoingRoomKeyRequest(t,e)}getAccount(t,e){this.backend.getAccount(t,e)}storeAccount(t,e){this.backend.storeAccount(t,e)}getCrossSigningKeys(t,e){this.backend.getCrossSigningKeys(t,e)}getSecretStorePrivateKey(t,e,n){this.backend.getSecretStorePrivateKey(t,e,n)}storeCrossSigningKeys(t,e){this.backend.storeCrossSigningKeys(t,e)}storeSecretStorePrivateKey(t,e,n){this.backend.storeSecretStorePrivateKey(t,e,n)}countEndToEndSessions(t,e){this.backend.countEndToEndSessions(t,e)}getEndToEndSession(t,e,n,r){this.backend.getEndToEndSession(t,e,n,r)}getEndToEndSessions(t,e,n){this.backend.getEndToEndSessions(t,e,n)}getAllEndToEndSessions(t,e){this.backend.getAllEndToEndSessions(t,e)}storeEndToEndSession(t,e,n,r){this.backend.storeEndToEndSession(t,e,n,r)}storeEndToEndSessionProblem(t,e,n){return this.backend.storeEndToEndSessionProblem(t,e,n)}getEndToEndSessionProblem(t,e){return this.backend.getEndToEndSessionProblem(t,e)}filterOutNotifiedErrorDevices(t){return this.backend.filterOutNotifiedErrorDevices(t)}getEndToEndInboundGroupSession(t,e,n,r){this.backend.getEndToEndInboundGroupSession(t,e,n,r)}getAllEndToEndInboundGroupSessions(t,e){this.backend.getAllEndToEndInboundGroupSessions(t,e)}addEndToEndInboundGroupSession(t,e,n,r){this.backend.addEndToEndInboundGroupSession(t,e,n,r)}storeEndToEndInboundGroupSession(t,e,n,r){this.backend.storeEndToEndInboundGroupSession(t,e,n,r)}storeEndToEndInboundGroupSessionWithheld(t,e,n,r){this.backend.storeEndToEndInboundGroupSessionWithheld(t,e,n,r)}storeEndToEndDeviceData(t,e){this.backend.storeEndToEndDeviceData(t,e)}getEndToEndDeviceData(t,e){this.backend.getEndToEndDeviceData(t,e)}storeEndToEndRoom(t,e,n){this.backend.storeEndToEndRoom(t,e,n)}getEndToEndRooms(t,e){this.backend.getEndToEndRooms(t,e)}getSessionsNeedingBackup(t){return this.backend.getSessionsNeedingBackup(t)}countSessionsNeedingBackup(t){return this.backend.countSessionsNeedingBackup(t)}unmarkSessionsNeedingBackup(t,e){return this.backend.unmarkSessionsNeedingBackup(t,e)}markSessionsNeedingBackup(t,e){return this.backend.markSessionsNeedingBackup(t,e)}addSharedHistoryInboundGroupSession(t,e,n,r){this.backend.addSharedHistoryInboundGroupSession(t,e,n,r)}getSharedHistoryInboundGroupSessions(t,e){return this.backend.getSharedHistoryInboundGroupSessions(t,e)}addParkedSharedHistory(t,e,n){this.backend.addParkedSharedHistory(t,e,n)}takeParkedSharedHistory(t,e){return this.backend.takeParkedSharedHistory(t,e)}doTxn(t,e,n,r){return this.backend.doTxn(t,e,n,r)}};let ur=s$;ur.STORE_ACCOUNT="account";ur.STORE_SESSIONS="sessions";ur.STORE_INBOUND_GROUP_SESSIONS="inbound_group_sessions";ur.STORE_INBOUND_GROUP_SESSIONS_WITHHELD="inbound_group_sessions_withheld";ur.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS="shared_history_inbound_group_sessions";ur.STORE_PARKED_SHARED_HISTORY="parked_shared_history";ur.STORE_DEVICE_DATA="device_data";ur.STORE_ROOMS="rooms";ur.STORE_BACKUP="sessions_needing_backup";class Zde{constructor(e){this.cryptoStore=e,this.roomEncryption={}}async init(){await this.cryptoStore.doTxn("readwrite",[ur.STORE_ROOMS],e=>{this.cryptoStore.getEndToEndRooms(e,n=>{this.roomEncryption=n})})}getRoomEncryption(e){return this.roomEncryption[e]||null}isRoomEncrypted(e){return Boolean(this.getRoomEncryption(e))}async setRoomEncryption(e,n){this.roomEncryption[e]=n,await this.cryptoStore.doTxn("readwrite",[ur.STORE_ROOMS],r=>{this.cryptoStore.storeEndToEndRoom(e,n,r)})}}var PI=(t=>(t.IS="SERVICE_TYPE_IS",t.IM="SERVICE_TYPE_IM",t))(PI||{});const yJ=new Map,o$=new Map;class vJ{constructor(e){this.userId=e.userId,this.deviceId=e.deviceId,this.crypto=e.crypto,this.olmDevice=e.olmDevice,this.baseApis=e.baseApis,this.roomId=e.roomId}prepareToEncrypt(e){}onRoomMembership(e,n,r){}}class bJ{constructor(e){this.userId=e.userId,this.crypto=e.crypto,this.olmDevice=e.olmDevice,this.baseApis=e.baseApis,this.roomId=e.roomId}async onRoomKeyEvent(e){}async importRoomKey(e,n){}hasKeysForKeyRequest(e){return Promise.resolve(!1)}shareKeysWithDevice(e){throw new Error("shareKeysWithDevice not supported for this DecryptionAlgorithm")}async retryDecryptionFromSender(e){return!1}}class Ha extends Error{constructor(e,n,r){super(n),this.code=e,this.code=e,this.name="DecryptionError",this.detailedString=Jde(this,r)}}function Jde(t,e){let n=t.name+"[msg: "+t.message;return e&&(n+=", "+Object.keys(e).map(r=>r+": "+e[r]).join(", ")),n+="]",n}class Qde extends Error{constructor(e,n){super(e),this.devices=n,this.name="UnknownDeviceError",this.devices=n}}function _J(t,e,n){yJ.set(t,e),o$.set(t,n)}const efe=Ac.DeviceVerification;class tfe extends vJ{constructor(){super(...arguments),this.sessionPrepared=!1,this.prepPromise=null}ensureSession(e){return this.prepPromise?this.prepPromise:this.sessionPrepared?Promise.resolve():(this.prepPromise=this.crypto.downloadKeys(e).then(()=>this.crypto.ensureOlmSessionsForUsers(e)).then(()=>{this.sessionPrepared=!0}).finally(()=>{this.prepPromise=null}),this.prepPromise)}async encryptMessage(e,n,r){const s=(await e.getEncryptionTargetMembers()).map(function(h){return h.userId});await this.ensureSession(s);const o={room_id:e.roomId,type:n,content:r},l={algorithm:ga,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}},d=[];for(let h=0;h<s.length;++h){const f=s[h],v=this.crypto.getStoredDevicesForUser(f)||[];for(let w=0;w<v.length;++w){const E=v[w];E.getIdentityKey()!=this.olmDevice.deviceCurve25519Key&&E.verified!=efe.BLOCKED&&d.push(jg(l.ciphertext,this.userId,this.deviceId,this.olmDevice,f,E,o))}}return Promise.all(d).then(()=>l)}}class nfe extends bJ{async decryptEvent(e){const n=e.getWireContent(),r=n.sender_key,i=n.ciphertext;if(!i)throw new Ha("OLM_MISSING_CIPHERTEXT","Missing ciphertext");if(!(this.olmDevice.deviceCurve25519Key in i))throw new Ha("OLM_NOT_INCLUDED_IN_RECIPIENTS","Not included in recipients");const s=i[this.olmDevice.deviceCurve25519Key];let o;try{o=await this.decryptMessage(r,s)}catch(f){throw new Ha("OLM_BAD_ENCRYPTED_MESSAGE","Bad Encrypted Message",{sender:r,err:f})}const l=JSON.parse(o);if(l.recipient!=this.userId)throw new Ha("OLM_BAD_RECIPIENT","Message was intented for "+l.recipient);if(l.recipient_keys.ed25519!=this.olmDevice.deviceEd25519Key)throw new Ha("OLM_BAD_RECIPIENT_KEY","Message not intended for this device",{intended:l.recipient_keys.ed25519,our_key:this.olmDevice.deviceEd25519Key});await this.crypto.deviceList.downloadKeys([e.getSender()],!1);const d=this.crypto.deviceList.getUserByIdentityKey(ga,r);if(d!==e.getSender()&&d!==void 0)throw new Ha("OLM_BAD_SENDER","Message claimed to be from "+e.getSender(),{real_sender:d});if(l.sender!=e.getSender())throw new Ha("OLM_FORWARDED_MESSAGE","Message forwarded from "+l.sender,{reported_sender:e.getSender()});if(l.room_id!==e.getRoomId())throw new Ha("OLM_BAD_ROOM","Message intended for room "+l.room_id,{reported_room:e.getRoomId()||"ROOM_ID_UNDEFINED"});const h=l.keys||{};return{clearEvent:l,senderCurve25519Key:r,claimedEd25519Key:h.ed25519||null}}decryptMessage(e,n){if(n.type!==0)return this.reallyDecryptMessage(e,n);{const r=this.olmDevice.olmPrekeyPromise.then(()=>this.reallyDecryptMessage(e,n));return this.olmDevice.olmPrekeyPromise=r.catch(()=>{}),r}}async reallyDecryptMessage(e,n){const r=await this.olmDevice.getSessionIdsForDevice(e),i={};for(let o=0;o<r.length;o++){const l=r[o];try{const d=await this.olmDevice.decryptMessage(e,l,n.type,n.body);return V.log("Decrypted Olm message from "+e+" with session "+l),d}catch(d){if(await this.olmDevice.matchesSession(e,l,n.type,n.body))throw new Error("Error decrypting prekey message with existing session id "+l+": "+d.message);i[l]=d.message}}if(n.type!==0)throw r.length===0?new Error("No existing sessions"):new Error("Error decrypting non-prekey message with existing sessions: "+JSON.stringify(i));let s;try{s=await this.olmDevice.createInboundSession(e,n.type,n.body)}catch(o){throw i["(new)"]=o.message,new Error("Error decrypting prekey message: "+JSON.stringify(i))}return V.log("created new inbound Olm session ID "+s.session_id+" with "+e),s.payload}}_J(ga,tfe,nfe);const rfe=500;var wJ=(t=>(t[t.Unsent=0]="Unsent",t[t.Sent=1]="Sent",t[t.CancellationPending=2]="CancellationPending",t[t.CancellationPendingAndWillResend=3]="CancellationPendingAndWillResend",t))(wJ||{});class ife{constructor(e,n,r){this.baseApis=e,this.deviceId=n,this.cryptoStore=r,this.sendOutgoingRoomKeyRequestsTimer=null,this.sendOutgoingRoomKeyRequestsRunning=!1,this.clientRunning=!1}start(){this.clientRunning=!0}stop(){V.log("stopping OutgoingRoomKeyRequestManager"),this.clientRunning=!1}sendQueuedRequests(){this.startTimer()}async queueRoomKeyRequest(e,n,r=!1){const i=await this.cryptoStore.getOutgoingRoomKeyRequest(e);if(!i)await this.cryptoStore.getOrAddOutgoingRoomKeyRequest({requestBody:e,recipients:n,requestId:this.baseApis.makeTxnId(),state:0});else switch(i.state){case 3:case 0:return;case 2:{const s=r?3:1;await this.cryptoStore.updateOutgoingRoomKeyRequest(i.requestId,2,{state:s,cancellationTxnId:this.baseApis.makeTxnId()});break}case 1:{if(r){const o=await this.cryptoStore.updateOutgoingRoomKeyRequest(i.requestId,1,{state:3,cancellationTxnId:this.baseApis.makeTxnId(),requestTxnId:this.baseApis.makeTxnId()});if(!o)return this.queueRoomKeyRequest(e,n,r);try{await this.sendOutgoingRoomKeyRequestCancellation(o,!0)}catch(l){V.error("Error sending room key request cancellation; will retry later.",l)}}break}default:throw new Error("unhandled state: "+i.state)}}cancelRoomKeyRequest(e){return this.cryptoStore.getOutgoingRoomKeyRequest(e).then(n=>{if(!!n)switch(n.state){case 2:case 3:return;case 0:return V.log("deleting unnecessary room key request for "+DT(e)),this.cryptoStore.deleteOutgoingRoomKeyRequest(n.requestId,0);case 1:return this.cryptoStore.updateOutgoingRoomKeyRequest(n.requestId,1,{state:2,cancellationTxnId:this.baseApis.makeTxnId()}).then(r=>{if(!r){V.log("Tried to cancel room key request for "+DT(e)+" but it was already cancelled in another tab");return}this.sendOutgoingRoomKeyRequestCancellation(r).catch(i=>{V.error("Error sending room key request cancellation; will retry later.",i),this.startTimer()})});default:throw new Error("unhandled state: "+n.state)}})}getOutgoingSentRoomKeyRequest(e,n){return this.cryptoStore.getOutgoingRoomKeyRequestsByTarget(e,n,[1])}async cancelAndResendAllOutgoingRequests(){const e=await this.cryptoStore.getAllOutgoingRoomKeyRequestsByState(1);return Promise.all(e.map(({requestBody:n,recipients:r})=>this.queueRoomKeyRequest(n,r,!0)))}startTimer(){if(this.sendOutgoingRoomKeyRequestsTimer)return;const e=()=>{if(this.sendOutgoingRoomKeyRequestsRunning)throw new Error("RoomKeyRequestSend already in progress!");this.sendOutgoingRoomKeyRequestsRunning=!0,this.sendOutgoingRoomKeyRequests().finally(()=>{this.sendOutgoingRoomKeyRequestsRunning=!1}).catch(n=>{V.warn(`error in OutgoingRoomKeyRequestManager: ${n}`)})};this.sendOutgoingRoomKeyRequestsTimer=setTimeout(e,rfe)}sendOutgoingRoomKeyRequests(){return this.clientRunning?this.cryptoStore.getOutgoingRoomKeyRequestByState([2,3,0]).then(e=>{if(!e){this.sendOutgoingRoomKeyRequestsTimer=null;return}let n;switch(e.state){case 0:n=this.sendOutgoingRoomKeyRequest(e);break;case 2:n=this.sendOutgoingRoomKeyRequestCancellation(e);break;case 3:n=this.sendOutgoingRoomKeyRequestCancellation(e,!0);break}return n.then(()=>this.sendOutgoingRoomKeyRequests()).catch(r=>{V.error("Error sending room key request; will retry later.",r),this.sendOutgoingRoomKeyRequestsTimer=null})}):(this.sendOutgoingRoomKeyRequestsTimer=null,Promise.resolve())}sendOutgoingRoomKeyRequest(e){V.log(`Requesting keys for ${DT(e.requestBody)} from ${jz(e.recipients)}(id ${e.requestId})`);const n={action:"request",requesting_device_id:this.deviceId,request_id:e.requestId,body:e.requestBody};return this.sendMessageToDevices(n,e.recipients,e.requestTxnId||e.requestId).then(()=>this.cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,0,{state:1}))}sendOutgoingRoomKeyRequestCancellation(e,n=!1){V.log(`Sending cancellation for key request for ${DT(e.requestBody)} to ${jz(e.recipients)} (cancellation id ${e.cancellationTxnId})`);const r={action:"request_cancellation",requesting_device_id:this.deviceId,request_id:e.requestId};return this.sendMessageToDevices(r,e.recipients,e.cancellationTxnId).then(()=>n?this.cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,3,{state:0}):this.cryptoStore.deleteOutgoingRoomKeyRequest(e.requestId,2))}sendMessageToDevices(e,n,r){const i={};for(const s of n)i[s.userId]||(i[s.userId]={}),i[s.userId][s.deviceId]=e;return this.baseApis.sendToDevice(Ot.RoomKeyRequest,i,r)}}function DT(t){return t.room_id+" / "+t.session_id}function jz(t){return"["+t.map(e=>`${e.userId}:${e.deviceId}`).join(",")+"]"}function EJ(t){var r,i;const e=(r=t==null?void 0:t.currentState)==null?void 0:r.getStateEvents("m.room.history_visibility",""),n=(i=e==null?void 0:e.getContent())==null?void 0:i.history_visibility;return["world_readable","shared"].includes(n)}class sfe{constructor(e,n=!1){this.sessionId=e,this.sharedHistory=n,this.useCount=0,this.sharedWithDevices={},this.blockedDevicesNotified={},this.creationTime=new Date().getTime()}needsRotation(e,n){const r=new Date().getTime()-this.creationTime;return this.useCount>=e||r>=n?(V.log("Rotating megolm session after "+this.useCount+" messages, "+r+"ms"),!0):!1}markSharedWithDevice(e,n,r,i){this.sharedWithDevices[e]||(this.sharedWithDevices[e]={}),this.sharedWithDevices[e][n]={deviceKey:r,messageIndex:i}}markNotifiedBlockedDevice(e,n){this.blockedDevicesNotified[e]||(this.blockedDevicesNotified[e]={}),this.blockedDevicesNotified[e][n]=!0}sharedWithTooManyDevices(e){for(const n in this.sharedWithDevices)if(!!this.sharedWithDevices.hasOwnProperty(n)){if(!e.hasOwnProperty(n))return V.log("Starting new megolm session because we shared with "+n),!0;for(const r in this.sharedWithDevices[n])if(!!this.sharedWithDevices[n].hasOwnProperty(r)&&!e[n].hasOwnProperty(r))return V.log("Starting new megolm session because we shared with "+n+":"+r),!0}return!1}}class ofe extends vJ{constructor(e){var n,r,i,s;super(e),this.setupPromise=Promise.resolve(null),this.outboundSessions={},this.sessionRotationPeriodMsgs=(r=(n=e.config)==null?void 0:n.rotation_period_msgs)!=null?r:100,this.sessionRotationPeriodMs=(s=(i=e.config)==null?void 0:i.rotation_period_ms)!=null?s:7*24*3600*1e3}async ensureOutboundSession(e,n,r,i=!1){const s=async l=>{const d=EJ(e),h=await this.prepareSession(n,d,l);try{await this.shareSession(n,d,i,r,h)}catch(f){V.error(`Failed to ensure outbound session in ${this.roomId}`,f)}return h},o=this.setupPromise.then(s);return o.catch(l=>{V.error(`Failed to setup outbound session in ${this.roomId}`,l)}),this.setupPromise=o,o}async prepareSession(e,n,r){return r&&n!==r.sharedHistory&&(r=null),r!=null&&r.needsRotation(this.sessionRotationPeriodMsgs,this.sessionRotationPeriodMs)&&(V.log("Starting new megolm session because we need to rotate."),r=null),r!=null&&r.sharedWithTooManyDevices(e)&&(r=null),r||(V.log(`Starting new megolm session for room ${this.roomId}`),r=await this.prepareNewSession(n),V.log(`Started new megolm session ${r.sessionId} for room ${this.roomId}`),this.outboundSessions[r.sessionId]=r),r}async shareSession(e,n,r,i,s){const o={};for(const[v,w]of Object.entries(e))for(const[E,C]of Object.entries(w))C.getIdentityKey()!=this.olmDevice.deviceCurve25519Key&&(!s.sharedWithDevices[v]||s.sharedWithDevices[v][E]===void 0)&&(o[v]=o[v]||[],o[v].push(C));const l=this.olmDevice.getOutboundGroupSessionKey(s.sessionId),d={type:"m.room_key",content:{algorithm:Zl,room_id:this.roomId,session_id:s.sessionId,session_key:l.key,chain_index:l.chain_index,"org.matrix.msc3061.shared_history":n}},[h,f]=await fJ(this.olmDevice,this.baseApis,o);await Promise.all([(async()=>{V.debug(`Sharing keys with existing Olm sessions in ${this.roomId}`,f),await this.shareKeyWithOlmSessions(s,l,d,f),V.debug(`Shared keys with existing Olm sessions in ${this.roomId}`)})(),(async()=>{V.debug(`Sharing keys (start phase 1) with new Olm sessions in ${this.roomId}`,h);const v=[],w=Date.now(),E=[];await this.shareKeyWithDevices(s,l,d,h,v,r?1e4:2e3,E),V.debug(`Shared keys (end phase 1) with new Olm sessions in ${this.roomId}`),!r&&Date.now()-w<1e4?(async()=>{const C={},O=new Set;for(const A of E)O.add(A);const M=[];for(const{userId:A,deviceInfo:D}of v){const U=A.slice(A.indexOf(":")+1);O.has(U)?(C[A]=C[A]||[],C[A].push(D)):M.push({userId:A,deviceInfo:D})}V.debug(`Sharing keys (start phase 2) with new Olm sessions in ${this.roomId}`),await this.shareKeyWithDevices(s,l,d,C,M,3e4),V.debug(`Shared keys (end phase 2) with new Olm sessions in ${this.roomId}`),await this.notifyFailedOlmDevices(s,l,M)})():await this.notifyFailedOlmDevices(s,l,v),V.debug(`Shared keys (all phases done) with new Olm sessions in ${this.roomId}`)})(),(async()=>{V.debug(`There are ${Object.entries(i).length} blocked devices in ${this.roomId}`,Object.entries(i)),V.debug(`Notifying newly blocked devices in ${this.roomId}`);const v={};let w=0;for(const[E,C]of Object.entries(i))for(const[O,M]of Object.entries(C))(!s.blockedDevicesNotified[E]||s.blockedDevicesNotified[E][O]===void 0)&&(v[E]=v[E]||{},v[E][O]={device:M},w++);await this.notifyBlockedDevices(s,v),V.debug(`Notified ${w} newly blocked devices in ${this.roomId}`,v)})()])}async prepareNewSession(e){const n=this.olmDevice.createOutboundGroupSession(),r=this.olmDevice.getOutboundGroupSessionKey(n);return await this.olmDevice.addInboundGroupSession(this.roomId,this.olmDevice.deviceCurve25519Key,[],n,r.key,{ed25519:this.olmDevice.deviceEd25519Key},!1,{sharedHistory:e}),this.crypto.backupManager.backupGroupSession(this.olmDevice.deviceCurve25519Key,n),new sfe(n,e)}getDevicesWithoutSessions(e,n,r=[]){for(const[i,s]of Object.entries(n)){const o=e[i];for(const l of s){const d=l.deviceId;if(!o[d].sessionId){r.push({userId:i,deviceInfo:l}),delete o[d];continue}}}return r}splitDevices(e){let r=[];const i=[r];for(const[s,o]of Object.entries(e)){for(const l of Object.values(o))r.push({userId:s,deviceInfo:l.device});r.length>20&&(r=[],i.push(r))}return r.length===0&&i.pop(),i}encryptAndSendKeysToDevices(e,n,r,i){return this.crypto.encryptAndSendToDevices(r,i).then(()=>{for(const s of r)e.markSharedWithDevice(s.userId,s.deviceInfo.deviceId,s.deviceInfo.getIdentityKey(),n)}).catch(s=>{throw V.error("failed to encryptAndSendToDevices",s),s})}async sendBlockedNotificationsToDevices(e,n,r){const i={};for(const s of n){const o=s.userId,l=s.deviceInfo,h=l.deviceInfo.deviceId,f=Object.assign({},r);f.code=l.code,f.reason=l.reason,f.code==="m.no_olm"&&(delete f.room_id,delete f.session_id),i[o]||(i[o]={}),i[o][h]=f}await this.baseApis.sendToDevice("m.room_key.withheld",i);for(const s of Object.keys(i))for(const o of Object.keys(i[s]))e.markNotifiedBlockedDevice(s,o)}async reshareKeyWithDevice(e,n,r,i){const s=this.outboundSessions[n];if(!s){V.debug(`megolm session ${n} not found: not re-sharing keys`);return}if(s.sharedWithDevices[r]===void 0){V.debug(`megolm session ${n} never shared with user ${r}`);return}const o=s.sharedWithDevices[r][i.deviceId];if(o===void 0){V.debug("megolm session ID "+n+" never shared with device "+r+":"+i.deviceId);return}if(o.deviceKey!==i.getIdentityKey()){V.warn(`Session has been shared with device ${i.deviceId} but with identity key ${o.deviceKey}. Key is now ${i.getIdentityKey()}!`);return}const l=await this.olmDevice.getInboundGroupSessionKey(this.roomId,e,n,o.messageIndex);if(!l){V.warn(`No inbound session key found for megolm ${n}: not re-sharing keys`);return}await pp(this.olmDevice,this.baseApis,{[r]:[i]});const d={type:"m.forwarded_room_key",content:{algorithm:Zl,room_id:this.roomId,session_id:n,session_key:l.key,chain_index:l.chain_index,sender_key:e,sender_claimed_ed25519_key:l.sender_claimed_ed25519_key,forwarding_curve25519_key_chain:l.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":l.shared_history||!1}},h={algorithm:ga,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await jg(h.ciphertext,this.userId,this.deviceId,this.olmDevice,r,i,d),await this.baseApis.sendToDevice("m.room.encrypted",{[r]:{[i.deviceId]:h}}),V.debug(`Re-shared key for megolm session ${n} with ${r}:${i.deviceId}`)}async shareKeyWithDevices(e,n,r,i,s,o,l){var h;V.debug(`Ensuring Olm sessions for devices in ${this.roomId}`);const d=await pp(this.olmDevice,this.baseApis,i,!1,o,l,(h=V.withPrefix)==null?void 0:h.call(V,`[${this.roomId}]`));V.debug(`Ensured Olm sessions for devices in ${this.roomId}`),this.getDevicesWithoutSessions(d,i,s),V.debug(`Sharing keys with newly created Olm sessions in ${this.roomId}`),await this.shareKeyWithOlmSessions(e,n,r,d),V.debug(`Shared keys with newly created Olm sessions in ${this.roomId}`)}async shareKeyWithOlmSessions(e,n,r,i){const s=this.splitDevices(i);for(let o=0;o<s.length;o++){const l=`megolm keys for ${e.sessionId} in ${this.roomId} (slice ${o+1}/${s.length})`;try{V.debug(`Sharing ${l}`,s[o].map(d=>`${d.userId}/${d.deviceInfo.deviceId}`)),await this.encryptAndSendKeysToDevices(e,n.chain_index,s[o],r),V.debug(`Shared ${l}`)}catch(d){throw V.error(`Failed to share ${l}`),d}}}async notifyFailedOlmDevices(e,n,r){V.debug(`Notifying ${r.length} devices we failed to create Olm sessions in ${this.roomId}`);for(const{userId:o,deviceInfo:l}of r){const d=l.deviceId;e.markSharedWithDevice(o,d,l.getIdentityKey(),n.chain_index)}const i=await this.olmDevice.filterOutNotifiedErrorDevices(r);V.debug(`Need to notify ${i.length} failed devices which haven't been notified before in ${this.roomId}`);const s={};for(const{userId:o,deviceInfo:l}of i)s[o]=s[o]||{},s[o][l.deviceId]={device:{code:"m.no_olm",reason:DI["m.no_olm"],deviceInfo:l}};await this.notifyBlockedDevices(e,s),V.debug(`Notified ${i.length} devices we failed to create Olm sessions in ${this.roomId}`)}async notifyBlockedDevices(e,n){const r={room_id:this.roomId,session_id:e.sessionId,algorithm:Zl,sender_key:this.olmDevice.deviceCurve25519Key},i=this.splitDevices(n);for(let s=0;s<i.length;s++)try{await this.sendBlockedNotificationsToDevices(e,i[s],r),V.log(`Completed blacklist notification for ${e.sessionId} in ${this.roomId} (slice ${s+1}/${i.length})`)}catch(o){throw V.log(`blacklist notification for ${e.sessionId} in ${this.roomId} (slice ${s+1}/${i.length}) failed`),o}}prepareToEncrypt(e){if(this.encryptionPreparation!=null){const n=Date.now()-this.encryptionPreparation.startTime;V.debug(`Already started preparing to encrypt for ${this.roomId} ${n} ms ago, skipping`);return}V.debug(`Preparing to encrypt events for ${this.roomId}`),this.encryptionPreparation={startTime:Date.now(),promise:(async()=>{try{V.debug(`Getting devices in ${this.roomId}`);const[n,r]=await this.getDevicesInRoom(e);this.crypto.getGlobalErrorOnUnknownDevices()&&this.removeUnknownDevices(n),V.debug(`Ensuring outbound session in ${this.roomId}`),await this.ensureOutboundSession(e,n,r,!0),V.debug(`Ready to encrypt events for ${this.roomId}`)}catch(n){V.error(`Failed to prepare to encrypt events for ${this.roomId}`,n)}finally{delete this.encryptionPreparation}})()}}async encryptMessage(e,n,r){if(V.log(`Starting to encrypt event for ${this.roomId}`),this.encryptionPreparation!=null)try{await this.encryptionPreparation.promise}catch{}const[i,s]=await this.getDevicesInRoom(e);this.crypto.getGlobalErrorOnUnknownDevices()&&this.checkForUnknownDevices(i);const o=await this.ensureOutboundSession(e,i,s),l={room_id:this.roomId,type:n,content:r},d=this.olmDevice.encryptGroupMessage(o.sessionId,JSON.stringify(l)),h={algorithm:Zl,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:d,session_id:o.sessionId,device_id:this.deviceId};return o.useCount++,h}forceDiscardSession(){this.setupPromise=this.setupPromise.then(()=>null)}checkForUnknownDevices(e){const n={};if(Object.keys(e).forEach(r=>{Object.keys(e[r]).forEach(i=>{const s=e[r][i];s.isUnverified()&&!s.isKnown()&&(n[r]||(n[r]={}),n[r][i]=s)})}),Object.keys(n).length)throw new Qde("This room contains unknown devices which have not been verified. We strongly recommend you verify them before continuing.",n)}removeUnknownDevices(e){for(const[n,r]of Object.entries(e)){for(const[i,s]of Object.entries(r))s.isUnverified()&&!s.isKnown()&&delete r[i];Object.keys(r).length===0&&delete e[n]}}async getDevicesInRoom(e){const r=(await e.getEncryptionTargetMembers()).map(function(l){return l.userId});let i=this.crypto.getGlobalBlacklistUnverifiedDevices();typeof e.getBlacklistUnverifiedDevices()=="boolean"&&(i=e.getBlacklistUnverifiedDevices());const s=await this.crypto.downloadKeys(r,!1),o={};for(const l in s){if(!s.hasOwnProperty(l))continue;const d=s[l];for(const h in d){if(!d.hasOwnProperty(h))continue;const f=this.crypto.checkDeviceTrust(l,h);if(d[h].isBlocked()||!f.isVerified()&&i){o[l]||(o[l]={});const v=d[h].isBlocked();o[l][h]={code:v?"m.blacklisted":"m.unverified",reason:DI[v?"m.blacklisted":"m.unverified"],deviceInfo:d[h]},delete d[h]}}}return[s,o]}}class afe extends bJ{constructor(){super(...arguments),this.pendingEvents=new Map,this.olmlib=qde}async decryptEvent(e){const n=e.getWireContent();if(!n.sender_key||!n.session_id||!n.ciphertext)throw new Ha("MEGOLM_MISSING_FIELDS","Missing fields in input");this.addEventToPendingList(e);let r;try{r=await this.olmDevice.decryptGroupMessage(e.getRoomId(),n.sender_key,n.session_id,n.ciphertext,e.getId(),e.getTs())}catch(s){if(s.name==="DecryptionError")throw s;let o="OLM_DECRYPT_GROUP_MESSAGE_ERROR";throw s&&s.message==="OLM.UNKNOWN_MESSAGE_INDEX"&&(this.requestKeysForEvent(e),o="OLM_UNKNOWN_MESSAGE_INDEX"),new Ha(o,s?s.toString():"Unknown Error: Error is undefined",{session:n.sender_key+"|"+n.session_id})}if(r===null){this.crypto.backupManager.queryKeyBackupRateLimited(e.getRoomId(),n.session_id).catch(()=>{}),this.requestKeysForEvent(e);const s=await this.olmDevice.sessionMayHaveProblems(n.sender_key,e.getTs()-12e4);if(s){let o=Kz[s.type]||Kz.unknown;throw s.fixed&&(o+=" Trying to create a new secure channel and re-requesting the keys."),new Ha("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",o,{session:n.sender_key+"|"+n.session_id})}throw new Ha("MEGOLM_UNKNOWN_INBOUND_SESSION_ID","The sender's device has not sent us the keys for this message.",{session:n.sender_key+"|"+n.session_id})}r.untrusted||this.removeEventFromPendingList(e);const i=JSON.parse(r.result);if(i.room_id!==e.getRoomId())throw new Ha("MEGOLM_BAD_ROOM","Message intended for room "+i.room_id);return{clearEvent:i,senderCurve25519Key:r.senderKey,claimedEd25519Key:r.keysClaimed.ed25519,forwardingCurve25519KeyChain:r.forwardingCurve25519KeyChain,untrusted:r.untrusted}}requestKeysForEvent(e){const n=e.getWireContent(),r=e.getKeyRequestRecipients(this.userId);this.crypto.requestRoomKey({room_id:e.getRoomId(),algorithm:n.algorithm,sender_key:n.sender_key,session_id:n.session_id},r)}addEventToPendingList(e){var o;const n=e.getWireContent(),r=n.sender_key,i=n.session_id;this.pendingEvents.has(r)||this.pendingEvents.set(r,new Map);const s=this.pendingEvents.get(r);s.has(i)||s.set(i,new Set),(o=s.get(i))==null||o.add(e)}removeEventFromPendingList(e){const n=e.getWireContent(),r=n.sender_key,i=n.session_id,s=this.pendingEvents.get(r),o=s==null?void 0:s.get(i);!o||(o.delete(e),o.size===0&&s.delete(i),s.size===0&&this.pendingEvents.delete(r))}async onRoomKeyEvent(e){var d,h,f;const n=e.getContent();let r=e.getSenderKey(),i=[],s=!1,o;const l={};if(!n.room_id||!n.session_key||!n.session_id||!n.algorithm){V.error("key event is missing fields");return}if(!TU(e)){V.error("key event not properly encrypted");return}if(n["org.matrix.msc3061.shared_history"]&&(l.sharedHistory=!0),e.getType()=="m.forwarded_room_key"){const v=this.crypto.deviceList.getDeviceByIdentityKey(ga,r);if(this.baseApis.crypto.deviceList.getUserByIdentityKey(ga,r)!==e.getSender()){V.error("sending device does not belong to the user it claims to be from");return}const C=(v?await this.crypto.cryptoStore.getOutgoingRoomKeyRequestsByTarget(e.getSender(),v.deviceId,[wJ.Sent]):[]).some(H=>H.requestBody.room_id===n.room_id&&H.requestBody.session_id===n.session_id),O=this.baseApis.getRoom(n.room_id),M=(d=O==null?void 0:O.getMember(this.userId))==null?void 0:d.events.member,A=(M==null?void 0:M.getSender())===e.getSender()||((h=M==null?void 0:M.getUnsigned())==null?void 0:h.prev_sender)===e.getSender()&&((f=M==null?void 0:M.getPrevContent())==null?void 0:f.membership)==="invite",D=e.getSender()===this.baseApis.getUserId();if(!C&&!D){if(!l.sharedHistory){V.log("forwarded key not shared history - ignoring");return}if(O&&!A){V.log("forwarded key not from inviter or from us - ignoring");return}}if(s=!0,i=Array.isArray(n.forwarding_curve25519_key_chain)?n.forwarding_curve25519_key_chain:[],i=i.slice(),i.push(r),!n.sender_key){V.error("forwarded_room_key event is missing sender_key field");return}const U=n.sender_claimed_ed25519_key;if(!U){V.error("forwarded_room_key_event is missing sender_claimed_ed25519_key field");return}if(o={ed25519:U},!O){const H={senderId:e.getSender(),senderKey:n.sender_key,sessionId:n.session_id,sessionKey:n.session_key,keysClaimed:o,forwardingCurve25519KeyChain:i};await this.crypto.cryptoStore.doTxn("readwrite",["parked_shared_history"],K=>this.crypto.cryptoStore.addParkedSharedHistory(n.room_id,H,K),V.withPrefix("[addParkedSharedHistory]"));return}const R=this.crypto.deviceList.getDeviceByIdentityKey(ga,r),X=this.crypto.checkDeviceInfoTrust(e.getSender(),R);if(D&&!X.isVerified())return;l.untrusted=!0,r=n.sender_key}else o=e.getKeysClaimed();n["org.matrix.msc3061.shared_history"]&&(l.sharedHistory=!0);try{await this.olmDevice.addInboundGroupSession(n.room_id,r,i,n.session_id,n.session_key,o,s,l),await this.retryDecryption(r,n.session_id,!l.untrusted)&&this.crypto.cancelRoomKeyRequest({algorithm:n.algorithm,room_id:n.room_id,session_id:n.session_id,sender_key:r}),await this.crypto.backupManager.backupGroupSession(r,n.session_id)}catch(v){V.error(`Error handling m.room_key_event: ${v}`)}}async onRoomKeyWithheldEvent(e){const n=e.getContent(),r=n.sender_key;if(n.code==="m.no_olm"){const i=e.getSender();if(V.warn(`${i}:${r} was unable to establish an olm session with us`),await this.olmDevice.getSessionIdForDevice(r)){V.debug("New session already created.  Not creating a new one."),await this.olmDevice.recordSessionProblem(r,"no_olm",!0),this.retryDecryptionFromSender(r);return}let s=this.crypto.deviceList.getDeviceByIdentityKey(n.algorithm,r);if(!s&&(await this.crypto.downloadKeys([i],!1),s=this.crypto.deviceList.getDeviceByIdentityKey(n.algorithm,r),!s)){V.info("Couldn't find device for identity key "+r+": not establishing session"),await this.olmDevice.recordSessionProblem(r,"no_olm",!1),this.retryDecryptionFromSender(r);return}await pp(this.olmDevice,this.baseApis,{[i]:[s]},!1);const o={algorithm:ga,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await jg(o.ciphertext,this.userId,void 0,this.olmDevice,i,s,{type:"m.dummy"}),await this.olmDevice.recordSessionProblem(r,"no_olm",!0),this.retryDecryptionFromSender(r),await this.baseApis.sendToDevice("m.room.encrypted",{[i]:{[s.deviceId]:o}})}else await this.olmDevice.addInboundGroupSessionWithheld(n.room_id,r,n.session_id,n.code,n.reason)}hasKeysForKeyRequest(e){const n=e.requestBody;return this.olmDevice.hasInboundSessionKeys(n.room_id,n.sender_key,n.session_id)}shareKeysWithDevice(e){const n=e.userId,r=e.deviceId,i=this.crypto.getStoredDevice(n,r),s=e.requestBody;this.olmlib.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[n]:[i]}).then(o=>o[n][r].sessionId?(V.log("sharing keys for session "+s.sender_key+"|"+s.session_id+" with device "+n+":"+r),this.buildKeyForwardingMessage(s.room_id,s.sender_key,s.session_id)):null).then(o=>{const l={algorithm:ga,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};return this.olmlib.encryptMessageForDevice(l.ciphertext,this.userId,void 0,this.olmDevice,n,i,o).then(()=>{const d={[n]:{[r]:l}};return this.baseApis.sendToDevice("m.room.encrypted",d)})})}async buildKeyForwardingMessage(e,n,r){const i=await this.olmDevice.getInboundGroupSessionKey(e,n,r);return{type:"m.forwarded_room_key",content:{algorithm:Zl,room_id:e,sender_key:n,sender_claimed_ed25519_key:i.sender_claimed_ed25519_key,session_id:r,session_key:i.key,chain_index:i.chain_index,forwarding_curve25519_key_chain:i.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":i.shared_history||!1}}}importRoomKey(e,n={}){const r={};return(n.untrusted||e.untrusted)&&(r.untrusted=!0),e["org.matrix.msc3061.shared_history"]&&(r.sharedHistory=!0),this.olmDevice.addInboundGroupSession(e.room_id,e.sender_key,e.forwarding_curve25519_key_chain,e.session_id,e.session_key,e.sender_claimed_keys,!0,r).then(()=>{n.source!=="backup"&&this.crypto.backupManager.backupGroupSession(e.sender_key,e.session_id).catch(i=>{V.log("Failed to back up megolm session",i)}),this.retryDecryption(e.sender_key,e.session_id,!r.untrusted)})}async retryDecryption(e,n,r){var o;const i=this.pendingEvents.get(e);if(!i)return!0;const s=i.get(n);return s?(V.debug("Retrying decryption on events",[...s]),await Promise.all([...s].map(async l=>{try{await l.attemptDecryption(this.crypto,{isRetry:!0,forceRedecryptIfUntrusted:r})}catch{}})),!((o=this.pendingEvents.get(e))!=null&&o.has(n))):!0}async retryDecryptionFromSender(e){const n=this.pendingEvents.get(e);return n?(this.pendingEvents.delete(e),await Promise.all([...n].map(async([r,i])=>{await Promise.all([...i].map(async s=>{try{await s.attemptDecryption(this.crypto)}catch{}}))})),!this.pendingEvents.has(e)):!0}async sendSharedHistoryInboundSessions(e){await pp(this.olmDevice,this.baseApis,e),V.log("sendSharedHistoryInboundSessions to users",Object.keys(e));const n=await this.olmDevice.getSharedHistoryInboundGroupSessions(this.roomId);V.log("shared-history sessions",n);for(const[r,i]of n){const s=await this.buildKeyForwardingMessage(this.roomId,r,i),o=[],l={};for(const[d,h]of Object.entries(e)){l[d]={};for(const f of h){const v={algorithm:ga,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};l[d][f.deviceId]=v,o.push(jg(v.ciphertext,this.userId,void 0,this.olmDevice,d,f,s))}}await Promise.all(o);for(const d of Object.keys(l)){for(const h of Object.keys(l[d]))Object.keys(l[d][h].ciphertext).length===0&&(V.log("No ciphertext for device "+d+":"+h+": pruning"),delete l[d][h]);Object.keys(l[d]).length===0&&(V.log("Pruned all devices for user "+d),delete l[d])}if(Object.keys(l).length===0){V.log("No users left to send to: aborting");return}await this.baseApis.sendToDevice("m.room.encrypted",l)}}}const Kz={no_olm:"The sender was unable to establish a secure channel.",unknown:"The secure channel with the sender was corrupted."};_J(Zl,ofe,afe);const zz=65536*3/4;function qz(t){if(t===void 0)throw new Error("payloadString undefined");if(t.length>zz){const e=new Error("Message too long ("+t.length+" bytes). The maximum for an encrypted message is "+zz+" bytes.");throw e.data={errcode:"M_TOO_LARGE",error:"Payload too large for encrypted message"},e}}class Vz{constructor(e){this.cryptoStore=e,this.pickleKey="DEFAULT_KEY",this.deviceCurve25519Key=null,this.deviceEd25519Key=null,this.maxOneTimeKeys=null,this.outboundGroupSessionStore={},this.inboundGroupSessionMessageIndexes={},this.sessionsInProgress={},this.olmPrekeyPromise=Promise.resolve()}static getOlmVersion(){return global.Olm.get_library_version()}async init({pickleKey:e,fromExportedDevice:n}={}){let r;const i=new global.Olm.Account;try{n?(e&&V.warn("ignoring opts.pickleKey because opts.fromExportedDevice is present."),this.pickleKey=n.pickleKey,await this.initialiseFromExportedDevice(n,i)):(e&&(this.pickleKey=e),await this.initialiseAccount(i)),r=JSON.parse(i.identity_keys()),this.maxOneTimeKeys=i.max_number_of_one_time_keys()}finally{i.free()}this.deviceCurve25519Key=r.curve25519,this.deviceEd25519Key=r.ed25519}async initialiseFromExportedDevice(e,n){await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT,ur.STORE_SESSIONS],r=>{this.cryptoStore.storeAccount(r,e.pickledAccount),e.sessions.forEach(i=>{const{deviceKey:s,sessionId:o}=i,l={session:i.session,lastReceivedMessageTs:i.lastReceivedMessageTs};this.cryptoStore.storeEndToEndSession(s,o,l,r)})}),n.unpickle(this.pickleKey,e.pickledAccount)}async initialiseAccount(e){await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],n=>{this.cryptoStore.getAccount(n,r=>{r!==null?e.unpickle(this.pickleKey,r):(e.create(),r=e.pickle(this.pickleKey),this.cryptoStore.storeAccount(n,r))})})}getAccount(e,n){this.cryptoStore.getAccount(e,r=>{const i=new global.Olm.Account;try{i.unpickle(this.pickleKey,r),n(i)}finally{i.free()}})}storeAccount(e,n){this.cryptoStore.storeAccount(e,n.pickle(this.pickleKey))}async export(){const e={pickleKey:this.pickleKey};return await this.cryptoStore.doTxn("readonly",[ur.STORE_ACCOUNT,ur.STORE_SESSIONS],n=>{this.cryptoStore.getAccount(n,r=>{e.pickledAccount=r}),e.sessions=[],this.cryptoStore.getAllEndToEndSessions(n,r=>{e.sessions.push(r)})}),e}getSession(e,n,r,i){this.cryptoStore.getEndToEndSession(e,n,r,s=>{this.unpickleSession(s,i)})}unpickleSession(e,n){const r=new global.Olm.Session;try{r.unpickle(this.pickleKey,e.session);const i=Object.assign({},e,{session:r});n(i)}finally{r.free()}}saveSession(e,n,r){const i=n.session.session_id(),s=Object.assign(n,{session:n.session.pickle(this.pickleKey)});this.cryptoStore.storeEndToEndSession(e,i,s,r)}getUtility(e){const n=new global.Olm.Utility;try{return e(n)}finally{n.free()}}async sign(e){let n;return await this.cryptoStore.doTxn("readonly",[ur.STORE_ACCOUNT],r=>{this.getAccount(r,i=>{n=i.sign(e)})}),n}async getOneTimeKeys(){let e;return await this.cryptoStore.doTxn("readonly",[ur.STORE_ACCOUNT],n=>{this.getAccount(n,r=>{e=JSON.parse(r.one_time_keys())})}),e}maxNumberOfOneTimeKeys(){return this.maxOneTimeKeys}async markKeysAsPublished(){await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],e=>{this.getAccount(e,n=>{n.mark_keys_as_published(),this.storeAccount(e,n)})})}generateOneTimeKeys(e){return this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],n=>{this.getAccount(n,r=>{r.generate_one_time_keys(e),this.storeAccount(n,r)})})}async generateFallbackKey(){await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],e=>{this.getAccount(e,n=>{n.generate_fallback_key(),this.storeAccount(e,n)})})}async getFallbackKey(){let e;return await this.cryptoStore.doTxn("readonly",[ur.STORE_ACCOUNT],n=>{this.getAccount(n,r=>{e=JSON.parse(r.unpublished_fallback_key())})}),e}async forgetOldFallbackKey(){await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],e=>{this.getAccount(e,n=>{n.forget_old_fallback_key(),this.storeAccount(e,n)})})}async createOutboundSession(e,n){let r;return await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT,ur.STORE_SESSIONS],i=>{this.getAccount(i,s=>{const o=new global.Olm.Session;try{o.create_outbound(s,e,n),r=o.session_id(),this.storeAccount(i,s);const l={session:o,lastReceivedMessageTs:Date.now()};this.saveSession(e,l,i)}finally{o.free()}})},V.withPrefix("[createOutboundSession]")),r}async createInboundSession(e,n,r){if(n!==0)throw new Error("Need messageType == 0 to create inbound session");let i;return await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT,ur.STORE_SESSIONS],s=>{this.getAccount(s,o=>{const l=new global.Olm.Session;try{l.create_inbound_from(o,e,r),o.remove_one_time_keys(l),this.storeAccount(s,o);const d=l.decrypt(n,r),h={session:l,lastReceivedMessageTs:Date.now()};this.saveSession(e,h,s),i={payload:d,session_id:l.session_id()}}finally{l.free()}})},V.withPrefix("[createInboundSession]")),i}async getSessionIdsForDevice(e){const n=V.withPrefix("[getSessionIdsForDevice]");if(this.sessionsInProgress[e]){n.debug(`Waiting for Olm session for ${e} to be created`);try{await this.sessionsInProgress[e]}catch{}}let r;return await this.cryptoStore.doTxn("readonly",[ur.STORE_SESSIONS],i=>{this.cryptoStore.getEndToEndSessions(e,i,s=>{r=Object.keys(s)})},n),r}async getSessionIdForDevice(e,n=!1,r){const i=await this.getSessionInfoForDevice(e,n,r);if(i.length===0)return null;let s=0;for(let o=1;o<i.length;o++){const l=i[o],d=l.lastReceivedMessageTs===void 0?0:l.lastReceivedMessageTs,h=i[s],f=h.lastReceivedMessageTs===void 0?0:h.lastReceivedMessageTs;(d>f||d===f&&l.sessionId<h.sessionId)&&(s=o)}return i[s].sessionId}async getSessionInfoForDevice(e,n=!1,r=V){if(r=r.withPrefix("[getSessionInfoForDevice]"),this.sessionsInProgress[e]&&!n){r.debug(`Waiting for Olm session for ${e} to be created`);try{await this.sessionsInProgress[e]}catch{}}const i=[];return await this.cryptoStore.doTxn("readonly",[ur.STORE_SESSIONS],s=>{this.cryptoStore.getEndToEndSessions(e,s,o=>{const l=Object.keys(o).sort();for(const d of l)this.unpickleSession(o[d],h=>{i.push({lastReceivedMessageTs:h.lastReceivedMessageTs,hasReceivedMessage:h.session.has_received_message(),sessionId:d})})})},r),i}async encryptMessage(e,n,r){qz(r);let i;return await this.cryptoStore.doTxn("readwrite",[ur.STORE_SESSIONS],s=>{this.getSession(e,n,s,o=>{const l=o.session.describe();V.log("encryptMessage: Olm Session ID "+n+" to "+e+": "+l),i=o.session.encrypt(r),this.saveSession(e,o,s)})},V.withPrefix("[encryptMessage]")),i}async decryptMessage(e,n,r,i){let s;return await this.cryptoStore.doTxn("readwrite",[ur.STORE_SESSIONS],o=>{this.getSession(e,n,o,l=>{const d=l.session.describe();V.log("decryptMessage: Olm Session ID "+n+" from "+e+": "+d),s=l.session.decrypt(r,i),l.lastReceivedMessageTs=Date.now(),this.saveSession(e,l,o)})},V.withPrefix("[decryptMessage]")),s}async matchesSession(e,n,r,i){if(r!==0)return!1;let s;return await this.cryptoStore.doTxn("readonly",[ur.STORE_SESSIONS],o=>{this.getSession(e,n,o,l=>{s=l.session.matches_inbound(i)})},V.withPrefix("[matchesSession]")),s}async recordSessionProblem(e,n,r){await this.cryptoStore.storeEndToEndSessionProblem(e,n,r)}sessionMayHaveProblems(e,n){return this.cryptoStore.getEndToEndSessionProblem(e,n)}filterOutNotifiedErrorDevices(e){return this.cryptoStore.filterOutNotifiedErrorDevices(e)}saveOutboundGroupSession(e){this.outboundGroupSessionStore[e.session_id()]=e.pickle(this.pickleKey)}getOutboundGroupSession(e,n){const r=this.outboundGroupSessionStore[e];if(r===void 0)throw new Error("Unknown outbound group session "+e);const i=new global.Olm.OutboundGroupSession;try{return i.unpickle(this.pickleKey,r),n(i)}finally{i.free()}}createOutboundGroupSession(){const e=new global.Olm.OutboundGroupSession;try{return e.create(),this.saveOutboundGroupSession(e),e.session_id()}finally{e.free()}}encryptGroupMessage(e,n){return V.log(`encrypting msg with megolm session ${e}`),qz(n),this.getOutboundGroupSession(e,r=>{const i=r.encrypt(n);return this.saveOutboundGroupSession(r),i})}getOutboundGroupSessionKey(e){return this.getOutboundGroupSession(e,function(n){return{chain_index:n.message_index(),key:n.session_key()}})}unpickleInboundGroupSession(e,n){const r=new global.Olm.InboundGroupSession;try{return r.unpickle(this.pickleKey,e.session),n(r)}finally{r.free()}}getInboundGroupSession(e,n,r,i,s){this.cryptoStore.getEndToEndInboundGroupSession(n,r,i,(o,l)=>{if(o===null){s(null,null,l);return}if(e!==null&&e!==o.room_id)throw new Error("Mismatched room_id for inbound group session (expected "+o.room_id+", was "+e+")");this.unpickleInboundGroupSession(o,d=>{s(d,o,l)})})}async addInboundGroupSession(e,n,r,i,s,o,l,d={}){await this.cryptoStore.doTxn("readwrite",[ur.STORE_INBOUND_GROUP_SESSIONS,ur.STORE_INBOUND_GROUP_SESSIONS_WITHHELD,ur.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],h=>{this.getInboundGroupSession(e,n,i,h,(f,v)=>{const w=new global.Olm.InboundGroupSession;try{if(l?w.import_session(s):w.create(s),i!=w.session_id())throw new Error("Mismatched group session ID from senderKey: "+n);if(f&&(V.log("Update for megolm session "+n+"/"+i),f.first_known_index()<=w.first_known_index())){if(!v.untrusted||d.untrusted){V.log(`Keeping existing megolm session ${i}`);return}if(f.first_known_index()<w.first_known_index()){f.export_session(w.first_known_index())===w.export_session(w.first_known_index())?(V.info("Upgrading trust of existing megolm session "+i+" based on newly-received trusted session"),v.untrusted=!1,this.cryptoStore.storeEndToEndInboundGroupSession(n,i,v,h)):V.warn("Newly-received megolm session "+i+" does not match existing session! Keeping existing session");return}}V.info("Storing megolm session "+n+"/"+i+" with first index "+w.first_known_index());const E=Object.assign({},d,{room_id:e,session:w.pickle(this.pickleKey),keysClaimed:o,forwardingCurve25519KeyChain:r});this.cryptoStore.storeEndToEndInboundGroupSession(n,i,E,h),!f&&d.sharedHistory&&this.cryptoStore.addSharedHistoryInboundGroupSession(e,n,i,h)}finally{w.free()}})},V.withPrefix("[addInboundGroupSession]"))}async addInboundGroupSessionWithheld(e,n,r,i,s){await this.cryptoStore.doTxn("readwrite",[ur.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],o=>{this.cryptoStore.storeEndToEndInboundGroupSessionWithheld(n,r,{room_id:e,code:i,reason:s},o)})}async decryptGroupMessage(e,n,r,i,s,o){let l,d;if(await this.cryptoStore.doTxn("readwrite",[ur.STORE_INBOUND_GROUP_SESSIONS,ur.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],h=>{this.getInboundGroupSession(e,n,r,h,(f,v,w)=>{if(f===null){w&&(d=new Ha("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",Gz(w),{session:n+"|"+r})),l=null;return}let E;try{E=f.decrypt(i)}catch(O){O&&O.message==="OLM.UNKNOWN_MESSAGE_INDEX"&&w?d=new Ha("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",Gz(w),{session:n+"|"+r}):d=O;return}let C=E.plaintext;if(C===void 0)C=E;else{const O=n+"|"+r+"|"+E.message_index;if(O in this.inboundGroupSessionMessageIndexes){const M=this.inboundGroupSessionMessageIndexes[O];if(M.id!==s||M.timestamp!==o){d=new Error("Duplicate message index, possible replay attack: "+O);return}}this.inboundGroupSessionMessageIndexes[O]={id:s,timestamp:o}}v.session=f.pickle(this.pickleKey),this.cryptoStore.storeEndToEndInboundGroupSession(n,r,v,h),l={result:C,keysClaimed:v.keysClaimed||{},senderKey:n,forwardingCurve25519KeyChain:v.forwardingCurve25519KeyChain||[],untrusted:v.untrusted}})},V.withPrefix("[decryptGroupMessage]")),d)throw d;return l}async hasInboundSessionKeys(e,n,r){let i;return await this.cryptoStore.doTxn("readonly",[ur.STORE_INBOUND_GROUP_SESSIONS,ur.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],s=>{this.cryptoStore.getEndToEndInboundGroupSession(n,r,s,o=>{if(o===null){i=!1;return}e!==o.room_id?(V.warn(`requested keys for inbound group session ${n}|${r}, with incorrect room_id (expected ${o.room_id}, was ${e})`),i=!1):i=!0})},V.withPrefix("[hasInboundSessionKeys]")),i}async getInboundGroupSessionKey(e,n,r,i){let s;return await this.cryptoStore.doTxn("readonly",[ur.STORE_INBOUND_GROUP_SESSIONS,ur.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],o=>{this.getInboundGroupSession(e,n,r,o,(l,d)=>{if(l===null){s=null;return}i===void 0&&(i=l.first_known_index());const h=l.export_session(i),v=(d.keysClaimed||{}).ed25519||null,w=d.forwardingCurve25519KeyChain||[],E="untrusted"in d?d.untrusted:w.length>0;s={chain_index:i,key:h,forwarding_curve25519_key_chain:w,sender_claimed_ed25519_key:v,shared_history:d.sharedHistory||!1,untrusted:E}})},V.withPrefix("[getInboundGroupSessionKey]")),s}exportInboundGroupSession(e,n,r){return this.unpickleInboundGroupSession(r,i=>{const s=i.first_known_index();return{sender_key:e,sender_claimed_keys:r.keysClaimed,room_id:r.room_id,session_id:n,session_key:i.export_session(s),forwarding_curve25519_key_chain:r.forwardingCurve25519KeyChain||[],first_known_index:i.first_known_index(),"org.matrix.msc3061.shared_history":r.sharedHistory||!1}})}async getSharedHistoryInboundGroupSessions(e){let n;return await this.cryptoStore.doTxn("readonly",[ur.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],r=>{n=this.cryptoStore.getSharedHistoryInboundGroupSessions(e,r)},V.withPrefix("[getSharedHistoryInboundGroupSessionsForRoom]")),n}verifySignature(e,n,r){this.getUtility(function(i){i.ed25519_verify(e,n,r)})}}const DI={"m.unverified":"The sender has disabled encrypting to unverified devices.","m.blacklisted":"The sender has blocked you.","m.unauthorised":"You are not authorised to read the message.","m.no_olm":"Unable to establish a secure channel."};function Gz(t){return t.code&&t.code in DI?DI[t.code]:t.reason?t.reason:"decryption key withheld"}const hf=typeof window!="undefined"&&window.crypto?window.crypto.subtle||window.crypto.webkitSubtle:null,lfe=new Uint8Array(8);async function cfe(t,e,n,r){throw new Error("No usable crypto implementation")}async function ufe(t,e,n){throw new Error("No usable crypto implementation")}async function dfe(t,e,n,r){let i;r?i=za(r):(i=new Uint8Array(16),window.crypto.getRandomValues(i),i[8]&=127);const[s,o]=await SJ(e,n),l=new TextEncoder().encode(t),d=await hf.encrypt({name:"AES-CTR",counter:i,length:64},s,l),h=await hf.sign({name:"HMAC"},o,d);return{iv:wl(i),ciphertext:wl(d),mac:wl(h)}}async function ffe(t,e,n){const[r,i]=await SJ(e,n),s=za(t.ciphertext);if(!await hf.verify({name:"HMAC"},i,za(t.mac),s))throw new Error(`Error decrypting secret ${n}: bad MAC`);const o=await hf.decrypt({name:"AES-CTR",counter:za(t.iv),length:64},r,s);return new TextDecoder().decode(new Uint8Array(o))}async function SJ(t,e){const n=await hf.importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]),r=await hf.deriveBits({name:"HKDF",salt:lfe,info:new TextEncoder().encode(e),hash:"SHA-256"},n,512),i=r.slice(0,32),s=r.slice(32),o=hf.importKey("raw",i,{name:"AES-CTR"},!1,["encrypt","decrypt"]),l=hf.importKey("raw",s,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]);return Promise.all([o,l])}function pw(t,e,n,r){return hf?dfe(t,e,n,r):cfe()}function e8(t,e,n){return hf?ffe(t,e,n):ufe()}const hfe="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function p3(t,e){return pw(hfe,t,"",e)}const pfe=1e3*60;function NT(t){return Object.values(t.keys)[0]}class od{constructor(e,n={},r={}){this.userId=e,this.callbacks=n,this.cacheCallbacks=r,this.keys={},this.firstUse=!0,this.crossSigningVerifiedBefore=!1}static fromStorage(e,n){const r=new od(n);for(const i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r}toStorage(){return{keys:this.keys,firstUse:this.firstUse,crossSigningVerifiedBefore:this.crossSigningVerifiedBefore}}async getCrossSigningKey(e,n){const r=["master","self_signing","user_signing"].indexOf(e)>=0;if(!this.callbacks.getCrossSigningKey)throw new Error("No getCrossSigningKey callback supplied");n===void 0&&(n=this.getId(e));function i(d){if(!d)return;const h=new global.Olm.PkSigning,f=h.init_with_seed(d);if(f===n)return[f,h];h.free()}let s;this.cacheCallbacks.getCrossSigningKeyCache&&r&&(s=await this.cacheCallbacks.getCrossSigningKeyCache(e,n));const o=i(s);if(o)return o;s=await this.callbacks.getCrossSigningKey(e,n);const l=i(s);if(l)return this.cacheCallbacks.storeCrossSigningKeyCache&&r&&await this.cacheCallbacks.storeCrossSigningKeyCache(e,s),l;throw s?new Error("Key type "+e+" from getCrossSigningKey callback did not match"):new Error("getCrossSigningKey callback for "+e+" returned falsey")}async isStoredInSecretStorage(e){const n=await e.isStored("m.cross_signing.master")||{};function r(i){for(const s of Object.keys(n))i[s]||delete n[s]}for(const i of["self_signing","user_signing"])r(await e.isStored(`m.cross_signing.${i}`)||{});return Object.keys(n).length?n:null}static async storeInSecretStorage(e,n){for(const[r,i]of e){const s=wl(i);await n.store(`m.cross_signing.${r}`,s)}}static async getFromSecretStorage(e,n){const r=await n.get(`m.cross_signing.${e}`);return r?za(r):null}async isStoredInKeyCache(e){const n=this.cacheCallbacks;if(!n)return!1;const r=e?[e]:["master","self_signing","user_signing"];for(const i of r)if(!await n.getCrossSigningKeyCache(i))return!1;return!0}async getCrossSigningKeysFromCache(){const e=new Map,n=this.cacheCallbacks;if(!n)return e;for(const r of["master","self_signing","user_signing"]){const i=await n.getCrossSigningKeyCache(r);!i||e.set(r,i)}return e}getId(e="master"){if(!this.keys[e])return null;const n=this.keys[e];return NT(n)}async resetKeys(e){if(!this.callbacks.saveCrossSigningKeys)throw new Error("No saveCrossSigningKeys callback supplied");if(e===void 0||e&rg.MASTER||!this.keys.master)e=rg.MASTER|rg.USER_SIGNING|rg.SELF_SIGNING;else if(e===0)return;const n={},r={};let i,s;try{if(e&rg.MASTER?(i=new global.Olm.PkSigning,n.master=i.generate_seed(),s=i.init_with_seed(n.master),r.master={user_id:this.userId,usage:["master"],keys:{["ed25519:"+s]:s}}):[s,i]=await this.getCrossSigningKey("master"),e&rg.SELF_SIGNING){const o=new global.Olm.PkSigning;try{n.self_signing=o.generate_seed();const l=o.init_with_seed(n.self_signing);r.self_signing={user_id:this.userId,usage:["self_signing"],keys:{["ed25519:"+l]:l}},zC(r.self_signing,i,this.userId,s)}finally{o.free()}}if(e&rg.USER_SIGNING){const o=new global.Olm.PkSigning;try{n.user_signing=o.generate_seed();const l=o.init_with_seed(n.user_signing);r.user_signing={user_id:this.userId,usage:["user_signing"],keys:{["ed25519:"+l]:l}},zC(r.user_signing,i,this.userId,s)}finally{o.free()}}Object.assign(this.keys,r),this.callbacks.saveCrossSigningKeys(n)}finally{i&&i.free()}}clearKeys(){this.keys={}}setKeys(e){const n={};if(e.master){if(e.master.user_id!==this.userId){const i="Mismatched user ID "+e.master.user_id+" in master key from "+this.userId;throw V.error(i),new Error(i)}this.keys.master?NT(e.master)!==this.getId()&&(this.firstUse=!1):this.firstUse=!0,n.master=e.master}else if(this.keys.master)n.master=this.keys.master;else throw new Error("Tried to set cross-signing keys without a master key");const r=NT(n.master);if(e.user_signing){if(e.user_signing.user_id!==this.userId){const i="Mismatched user ID "+e.master.user_id+" in user_signing key from "+this.userId;throw V.error(i),new Error(i)}try{z_(e.user_signing,r,this.userId)}catch(i){throw V.error("invalid signature on user-signing key"),i}}if(e.self_signing){if(e.self_signing.user_id!==this.userId){const i="Mismatched user ID "+e.master.user_id+" in self_signing key from "+this.userId;throw V.error(i),new Error(i)}try{z_(e.self_signing,r,this.userId)}catch(i){throw V.error("invalid signature on self-signing key"),i}}e.master&&(this.keys.master=e.master,this.keys.self_signing=null,this.keys.user_signing=null),e.self_signing&&(this.keys.self_signing=e.self_signing),e.user_signing&&(this.keys.user_signing=e.user_signing)}updateCrossSigningVerifiedBefore(e){!this.crossSigningVerifiedBefore&&e&&(this.crossSigningVerifiedBefore=!0)}async signObject(e,n){if(!this.keys[n])throw new Error("Attempted to sign with "+n+" key but no such key present");const[r,i]=await this.getCrossSigningKey(n);try{return zC(e,i,this.userId,r),e}finally{i.free()}}async signUser(e){if(!this.keys.user_signing){V.info("No user signing key: not signing user");return}return this.signObject(e.keys.master,"user_signing")}async signDevice(e,n){if(e!==this.userId)throw new Error(`Trying to sign ${e}'s device; can only sign our own device`);if(!this.keys.self_signing){V.info("No self signing key: not signing device");return}return this.signObject({algorithms:n.algorithms,keys:n.keys,device_id:n.deviceId,user_id:e},"self_signing")}checkUserTrust(e){if(this.userId===e.userId&&this.getId()&&this.getId()===e.getId()&&this.getId("self_signing")&&this.getId("self_signing")===e.getId("self_signing"))return new qC(!0,!0,this.firstUse);if(!this.keys.user_signing)return new qC(!1,!1,e.firstUse);let n;const r=e.keys.master,i=this.getId("user_signing");try{z_(r,i,this.userId),n=!0}catch{n=!1}return new qC(n,e.crossSigningVerifiedBefore,e.firstUse)}checkDeviceTrust(e,n,r,i){const s=this.checkUserTrust(e),o=e.keys.self_signing;if(!o)return new g3(!1,!1,r,i);const l=gfe(n,e.userId);try{return z_(o,e.getId(),e.userId),z_(l,NT(o),e.userId),g3.fromUserTrustLevel(s,r,i)}catch{return new g3(!1,!1,r,i)}}getCacheCallbacks(){return this.cacheCallbacks}}function gfe(t,e){return{algorithms:t.algorithms,keys:t.keys,device_id:t.deviceId,user_id:e,signatures:t.signatures}}var rg=(t=>(t[t.MASTER=4]="MASTER",t[t.USER_SIGNING=2]="USER_SIGNING",t[t.SELF_SIGNING=1]="SELF_SIGNING",t))(rg||{});class qC{constructor(e,n,r){this.crossSigningVerified=e,this.crossSigningVerifiedBefore=n,this.tofu=r}isVerified(){return this.isCrossSigningVerified()}isCrossSigningVerified(){return this.crossSigningVerified}wasCrossSigningVerified(){return this.crossSigningVerifiedBefore}isTofu(){return this.tofu}}class g3{constructor(e,n,r,i){this.crossSigningVerified=e,this.tofu=n,this.localVerified=r,this.trustCrossSignedDevices=i}static fromUserTrustLevel(e,n,r){return new g3(e.isCrossSigningVerified(),e.isTofu(),n,r)}isVerified(){return Boolean(this.isLocallyVerified()||this.trustCrossSignedDevices&&this.isCrossSigningVerified())}isCrossSigningVerified(){return this.crossSigningVerified}isLocallyVerified(){return this.localVerified}isTofu(){return this.tofu}}function xJ(t,e){return{getCrossSigningKeyCache:async function(n,r){const i=await new Promise(s=>t.doTxn("readonly",[ur.STORE_ACCOUNT],o=>{t.getSecretStorePrivateKey(o,s,n)}));if(i&&i.ciphertext){const s=Buffer.from(e.pickleKey),o=await e8(i,s,n);return za(o)}else return i},storeCrossSigningKeyCache:async function(n,r){if(!(r instanceof Uint8Array))throw new Error(`storeCrossSigningKeyCache expects Uint8Array, got ${r}`);const i=Buffer.from(e.pickleKey),s=await pw(wl(r),i,n);return t.doTxn("readwrite",[ur.STORE_ACCOUNT],o=>{t.storeSecretStorePrivateKey(o,n,s)})}}}function mfe(t,e,n){if(t.getUserId()===e)return V.log("Cross-signing: Self-verification done; requesting keys"),new Promise((r,i)=>{const s=t,o=s.crypto.crossSigningInfo,l=new od(o.userId,{getCrossSigningKey:async f=>{V.debug("Cross-signing: requesting secret",f,n);const{promise:v}=s.requestSecret(`m.cross_signing.${f}`,[n]),w=await v,E=za(w);return Uint8Array.from(E)}},o.getCacheCallbacks());l.keys=o.keys;const d=new Promise(f=>{setTimeout(f,pfe,new Error("Timeout"))}),h=(async()=>{if(!await s.crypto.getSessionBackupPrivateKey()){V.info("No cached backup key found. Requesting...");const w=await s.requestSecret("m.megolm_backup.v1",[n]).promise;V.info("Got key backup key, decoding...");const E=za(w);V.info("Decoded backup key, storing..."),await s.crypto.storeSessionBackupPrivateKey(Uint8Array.from(E)),V.info("Backup key stored. Starting backup restore...");const C=await s.getKeyBackupVersion();s.restoreKeyBackupWithCache(void 0,void 0,C).then(()=>{V.info("Backup restored.")})}})();return Promise.race([Promise.all([l.getCrossSigningKey("master"),l.getCrossSigningKey("self_signing"),l.getCrossSigningKey("user_signing"),h]),d]).then(r,i)}).catch(r=>{V.warn("Cross-signing: failure while requesting keys:",r)})}class yfe extends Do{constructor(e,n,r,i=250){super(),this.cryptoStore=n,this.keyDownloadChunkSize=i,this.devices={},this.crossSigningInfo={},this.userByIdentityKey={},this.deviceTrackingStatus={},this.syncToken=null,this.keyDownloadsInProgressByUser={},this.dirty=!1,this.savePromise=null,this.resolveSavePromise=null,this.savePromiseTime=null,this.saveTimer=null,this.hasFetched=null,this.serialiser=new vfe(e,r,this)}async load(){await this.cryptoStore.doTxn("readonly",[ur.STORE_DEVICE_DATA],e=>{this.cryptoStore.getEndToEndDeviceData(e,n=>{this.hasFetched=Boolean(n&&n.devices),this.devices=n?n.devices:{},this.crossSigningInfo=n?n.crossSigningInfo||{}:{},this.deviceTrackingStatus=n?n.trackingStatus:{},this.syncToken=n?n.syncToken:null,this.userByIdentityKey={};for(const r of Object.keys(this.devices)){const i=this.devices[r];for(const s of Object.keys(i)){const o=i[s].keys["curve25519:"+s];o!==void 0&&(this.userByIdentityKey[o]=r)}}})});for(const e of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[e]==2&&(this.deviceTrackingStatus[e]=1)}stop(){this.saveTimer!==null&&clearTimeout(this.saveTimer)}async saveIfDirty(e=500){if(!this.dirty)return Promise.resolve(!1);const n=Date.now()+e;this.savePromiseTime&&n<this.savePromiseTime&&(clearTimeout(this.saveTimer),this.saveTimer=null,this.savePromiseTime=null);let r=this.savePromise;if(r===null&&(r=new Promise(i=>{this.resolveSavePromise=i}),this.savePromise=r),this.saveTimer===null){const i=this.resolveSavePromise;this.savePromiseTime=n,this.saveTimer=setTimeout(()=>{V.log("Saving device tracking data",this.syncToken),this.savePromiseTime=null,this.saveTimer=null,this.savePromise=null,this.resolveSavePromise=null,this.cryptoStore.doTxn("readwrite",[ur.STORE_DEVICE_DATA],s=>{this.cryptoStore.storeEndToEndDeviceData({devices:this.devices,crossSigningInfo:this.crossSigningInfo,trackingStatus:this.deviceTrackingStatus,syncToken:this.syncToken},s)}).then(()=>{this.dirty=!1,i(!0)},s=>{V.error("Failed to save device tracking data",this.syncToken),V.error(s)})},e)}return r}getSyncToken(){return this.syncToken}setSyncToken(e){this.syncToken=e}downloadKeys(e,n){const r=[],i=[];if(e.forEach(s=>{const o=this.deviceTrackingStatus[s];this.keyDownloadsInProgressByUser[s]?(V.log(`downloadKeys: already have a download in progress for ${s}: awaiting its result`),i.push(this.keyDownloadsInProgressByUser[s])):(n||o!=3)&&r.push(s)}),r.length!=0){V.log("downloadKeys: downloading for",r);const s=this.doKeyDownload(r);i.push(s)}return i.length===0&&V.log("downloadKeys: already have all necessary keys"),Promise.all(i).then(()=>this.getDevicesFromStore(e))}getDevicesFromStore(e){const n={};return e.forEach(r=>{n[r]={},(this.getStoredDevicesForUser(r)||[]).forEach(function(s){n[r][s.deviceId]=s})}),n}getKnownUserIds(){return Object.keys(this.devices)}getStoredDevicesForUser(e){const n=this.devices[e];if(!n)return null;const r=[];for(const i in n)n.hasOwnProperty(i)&&r.push(Ac.fromStorage(n[i],i));return r}getRawStoredDevicesForUser(e){return this.devices[e]}getStoredCrossSigningForUser(e){return this.crossSigningInfo[e]?od.fromStorage(this.crossSigningInfo[e],e):null}storeCrossSigningForUser(e,n){this.crossSigningInfo[e]=n,this.dirty=!0}getStoredDevice(e,n){const r=this.devices[e];if(!(!r||!r[n]))return Ac.fromStorage(r[n],n)}getUserByIdentityKey(e,n){return e!==ga&&e!==Zl?null:this.userByIdentityKey[n]}getDeviceByIdentityKey(e,n){const r=this.getUserByIdentityKey(e,n);if(!r)return null;const i=this.devices[r];if(!i)return null;for(const s in i){if(!i.hasOwnProperty(s))continue;const o=i[s];for(const l in o.keys){if(!o.keys.hasOwnProperty(l)||l.indexOf("curve25519:")!==0)continue;if(o.keys[l]==n)return Ac.fromStorage(o,s)}}return null}storeDevicesForUser(e,n){this.setRawStoredDevicesForUser(e,n),this.dirty=!0}startTrackingDeviceList(e){if(typeof e!="string")throw new Error("userId must be a string; was "+e);this.deviceTrackingStatus[e]||(V.log("Now tracking device list for "+e),this.deviceTrackingStatus[e]=1,this.dirty=!0)}stopTrackingDeviceList(e){this.deviceTrackingStatus[e]&&(V.log("No longer tracking device list for "+e),this.deviceTrackingStatus[e]=0,this.dirty=!0)}stopTrackingAllDeviceLists(){for(const e of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[e]=0;this.dirty=!0}invalidateUserDeviceList(e){this.deviceTrackingStatus[e]&&(V.log("Marking device list outdated for",e),this.deviceTrackingStatus[e]=1,this.dirty=!0)}refreshOutdatedDeviceLists(){this.saveIfDirty();const e=[];for(const n of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[n]==1&&e.push(n);return this.doKeyDownload(e)}setRawStoredDevicesForUser(e,n){if(this.devices[e]!==void 0)for(const[r,i]of Object.entries(this.devices[e])){const s=i.keys["curve25519:"+r];delete this.userByIdentityKey[s]}this.devices[e]=n;for(const[r,i]of Object.entries(n)){const s=i.keys["curve25519:"+r];this.userByIdentityKey[s]=e}}setRawStoredCrossSigningForUser(e,n){this.crossSigningInfo[e]=n}doKeyDownload(e){if(e.length===0)return Promise.resolve();const n=this.serialiser.updateDevicesForUsers(e,this.syncToken).then(()=>{r(!0)},i=>{throw V.error("Error downloading keys for "+e+":",i),r(!1),i});e.forEach(i=>{this.keyDownloadsInProgressByUser[i]=n,this.deviceTrackingStatus[i]==1&&(this.deviceTrackingStatus[i]=2)});const r=i=>{this.emit(ho.WillUpdateDevices,e,!this.hasFetched),e.forEach(s=>{if(this.dirty=!0,this.keyDownloadsInProgressByUser[s]!==n){V.log("Another update in the queue for",s,"- not marking up-to-date");return}delete this.keyDownloadsInProgressByUser[s],this.deviceTrackingStatus[s]==2&&(i?(this.deviceTrackingStatus[s]=3,V.log("Device list for",s,"now up to date")):this.deviceTrackingStatus[s]=1)}),this.saveIfDirty(),this.emit(ho.DevicesUpdated,e,!this.hasFetched),this.hasFetched=!0};return n}}class vfe{constructor(e,n,r){this.baseApis=e,this.olmDevice=n,this.deviceList=r,this.downloadInProgress=!1,this.keyDownloadsQueuedByUser={},this.queuedQueryDeferred=null,this.syncToken=null}updateDevicesForUsers(e,n){return e.forEach(r=>{this.keyDownloadsQueuedByUser[r]=!0}),this.queuedQueryDeferred||(this.queuedQueryDeferred=rv()),this.syncToken=n,this.downloadInProgress?(V.log("Queued key download for",e),this.queuedQueryDeferred.promise):this.doQueuedQueries()}doQueuedQueries(){if(this.downloadInProgress)throw new Error("DeviceListUpdateSerialiser.doQueuedQueries called with request active");const e=Object.keys(this.keyDownloadsQueuedByUser);this.keyDownloadsQueuedByUser={};const n=this.queuedQueryDeferred;this.queuedQueryDeferred=null,V.log("Starting key download for",e),this.downloadInProgress=!0;const r={};this.syncToken&&(r.token=this.syncToken);const i=[];for(let s=0;s<e.length;s+=this.deviceList.keyDownloadChunkSize){const o=e.slice(s,s+this.deviceList.keyDownloadChunkSize);i.push(()=>this.baseApis.downloadKeysForUsers(o,r))}return mle(i,3).then(async s=>{const o=Object.assign({},...s.map(f=>f.device_keys||{})),l=Object.assign({},...s.map(f=>f.master_keys||{})),d=Object.assign({},...s.map(f=>f.self_signing_keys||{})),h=Object.assign({},...s.map(f=>f.user_signing_keys||{}));for(const f of e){await N3(5);try{await this.processQueryResponseForUser(f,o[f],{master:l[f],self_signing:d[f],user_signing:h[f]})}catch(v){V.error(`Error processing keys for ${f}:`,v)}}}).then(()=>{V.log("Completed key download for "+e),this.downloadInProgress=!1,n.resolve(),this.queuedQueryDeferred&&this.doQueuedQueries()},s=>{V.warn("Error downloading keys for "+e+":",s),this.downloadInProgress=!1,n.reject(s)}),n.promise}async processQueryResponseForUser(e,n,r){V.log("got device keys for "+e+":",n),V.log("got cross-signing keys for "+e+":",r);{const i={},s=this.deviceList.getRawStoredDevicesForUser(e);s&&Object.keys(s).forEach(l=>{const d=Ac.fromStorage(s[l],l);i[l]=d}),await bfe(this.olmDevice,e,i,n||{},this.baseApis.getUserId(),this.baseApis.deviceId);const o={};Object.keys(i).forEach(l=>{o[l]=i[l].toStorage()}),this.deviceList.setRawStoredDevicesForUser(e,o)}if(r&&(r.master||r.self_signing||r.user_signing)){const i=this.deviceList.getStoredCrossSigningForUser(e)||new od(e);i.setKeys(r),this.deviceList.setRawStoredCrossSigningForUser(e,i.toStorage()),this.deviceList.emit(ho.UserCrossSigningUpdated,e)}}}async function bfe(t,e,n,r,i,s){let o=!1;for(const l in n)if(!!n.hasOwnProperty(l)&&!(l in r)){if(e===i&&l===s){V.warn(`Local device ${l} missing from sync, skipping removal`);continue}V.log("Device "+e+":"+l+" has been removed"),delete n[l],o=!0}for(const l in r){if(!r.hasOwnProperty(l))continue;const d=r[l];if(d.user_id!==e){V.warn("Mismatched user_id "+d.user_id+" in keys from "+e+":"+l);continue}if(d.device_id!==l){V.warn("Mismatched device_id "+d.device_id+" in keys from "+e+":"+l);continue}await _fe(t,n,d)&&(o=!0)}return o}async function _fe(t,e,n){if(!n.keys)return!1;const r=n.device_id,i=n.user_id,s="ed25519:"+r,o=n.keys[s];if(!o)return V.warn("Device "+i+":"+r+" has no ed25519 key"),!1;const l=n.unsigned||{},d=n.signatures||{};try{await H3(t,n,i,r,o)}catch(f){return V.warn("Unable to verify signature on device "+i+":"+r+":"+f),!1}let h;if(r in e){if(h=e[r],h.getFingerprint()!=o)return V.warn("Ed25519 key for device "+i+":"+r+" has changed"),!1}else e[r]=h=new Ac(r);return h.keys=n.keys||{},h.algorithms=n.algorithms||[],h.unsigned=l,h.signatures=d,!0}class Wz{constructor(e,n){this.crossSigningKeys=null,this.keySignatures=null,this.keyBackupInfo=null,this.accountDataClientAdapter=new Efe(e),this.crossSigningCallbacks=new Sfe,this.ssssCryptoCallbacks=new xfe(n)}addCrossSigningKeys(e,n){this.crossSigningKeys={authUpload:e,keys:n}}addSessionBackup(e){this.keyBackupInfo=e}addSessionBackupPrivateKeyToCache(e){this.sessionBackupPrivateKey=e}addKeySignature(e,n,r){this.keySignatures||(this.keySignatures={});const i=this.keySignatures[e]||{};this.keySignatures[e]=i,i[n]=r}async setAccountData(e,n){await this.accountDataClientAdapter.setAccountData(e,n)}buildOperation(){const e=this.accountDataClientAdapter.values;return new wfe(e,this.crossSigningKeys,this.keyBackupInfo,this.keySignatures)}async persist(e){if(this.crossSigningKeys){const n=xJ(e.cryptoStore,e.olmDevice);for(const r of["master","self_signing","user_signing"]){V.log(`Cache ${r} cross-signing private key locally`);const i=this.crossSigningCallbacks.privateKeys.get(r);await n.storeCrossSigningKeyCache(r,i)}await e.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],r=>{e.cryptoStore.storeCrossSigningKeys(r,this.crossSigningKeys.keys)})}this.sessionBackupPrivateKey&&await e.storeSessionBackupPrivateKey(this.sessionBackupPrivateKey)}}class wfe{constructor(e,n,r,i){this.accountData=e,this.crossSigningKeys=n,this.keyBackupInfo=r,this.keySignatures=i}async apply(e){const n=e.baseApis;if(this.crossSigningKeys){const r={};for(const[i,s]of Object.entries(this.crossSigningKeys.keys))r[i+"_key"]=s;await this.crossSigningKeys.authUpload(i=>n.uploadDeviceSigningKeys(i,r)),e.crossSigningInfo.setKeys(this.crossSigningKeys.keys)}if(this.accountData)for(const[r,i]of this.accountData)await n.setAccountData(r,i);this.keySignatures&&await n.uploadKeySignatures(this.keySignatures),this.keyBackupInfo&&(this.keyBackupInfo.version?await n.http.authedRequest(jt.Put,"/room_keys/version/"+this.keyBackupInfo.version,void 0,{algorithm:this.keyBackupInfo.algorithm,auth_data:this.keyBackupInfo.auth_data},{prefix:Ji.V3}):await n.http.authedRequest(jt.Post,"/room_keys/version",void 0,this.keyBackupInfo,{prefix:Ji.V3}))}}class Efe extends Do{constructor(e){super(),this.existingValues=e,this.values=new Map}getAccountDataFromServer(e){return Promise.resolve(this.getAccountData(e))}getAccountData(e){const n=this.values.get(e);if(n)return n;const r=this.existingValues[e];return r?r.getContent():null}setAccountData(e,n){const r=this.values.get(e);return this.values.set(e,n),Promise.resolve().then(()=>{const i=new Ao({type:e,content:n});return this.emit(sr.AccountData,i,r),{}})}}class Sfe{constructor(){this.privateKeys=new Map}getCrossSigningKeyCache(e,n){return this.getCrossSigningKey(e,n)}storeCrossSigningKeyCache(e,n){return this.privateKeys.set(e,n),Promise.resolve()}getCrossSigningKey(e,n){return Promise.resolve(this.privateKeys.get(e))}saveCrossSigningKeys(e){for(const[n,r]of Object.entries(e))this.privateKeys.set(n,r)}}class xfe{constructor(e){this.delegateCryptoCallbacks=e,this.privateKeys=new Map}async getSecretStorageKey({keys:e},n){var r;for(const i of Object.keys(e)){const s=this.privateKeys.get(i);if(s)return[i,s]}if((r=this==null?void 0:this.delegateCryptoCallbacks)!=null&&r.getSecretStorageKey){const i=await this.delegateCryptoCallbacks.getSecretStorageKey({keys:e},n);if(i){const[s,o]=i;this.privateKeys.set(s,o)}return i}return null}addPrivateKey(e,n,r){var i,s;this.privateKeys.set(e,r),(s=(i=this.delegateCryptoCallbacks)==null?void 0:i.cacheSecretStorageKey)==null||s.call(i,e,n,r)}}const ep="m.secret_storage.v1.aes-hmac-sha2";class LD{constructor(e,n,r){this.accountDataAdapter=e,this.cryptoCallbacks=n,this.baseApis=r,this.requests=new Map}async getDefaultKeyId(){const e=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.default_key");return e?e.key:null}setDefaultKeyId(e){return new Promise((n,r)=>{const i=s=>{s.getType()==="m.secret_storage.default_key"&&s.getContent().key===e&&(this.accountDataAdapter.removeListener(sr.AccountData,i),n())};this.accountDataAdapter.on(sr.AccountData,i),this.accountDataAdapter.setAccountData("m.secret_storage.default_key",{key:e}).catch(s=>{this.accountDataAdapter.removeListener(sr.AccountData,i),r(s)})})}async addKey(e,n,r){const i={algorithm:e};if(n||(n={}),n.name&&(i.name=n.name),e===ep){if(n.passphrase&&(i.passphrase=n.passphrase),n.key){const{iv:s,mac:o}=await p3(n.key);i.iv=s,i.mac=o}}else throw new Error(`Unknown key algorithm ${e}`);if(!r)do r=vd(32);while(await this.accountDataAdapter.getAccountDataFromServer(`m.secret_storage.key.${r}`));return await this.accountDataAdapter.setAccountData(`m.secret_storage.key.${r}`,i),{keyId:r,keyInfo:i}}async getKey(e){if(e||(e=await this.getDefaultKeyId()),!e)return null;const n=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+e);return n?[e,n]:null}async hasKey(e){return Boolean(await this.getKey(e))}async checkKey(e,n){if(n.algorithm===ep)if(n.mac){const{mac:r}=await p3(e,n.iv);return n.mac.replace(/=+$/g,"")===r.replace(/=+$/g,"")}else return!0;else throw new Error("Unknown algorithm")}async store(e,n,r){const i={};if(!r){const s=await this.getDefaultKeyId();if(!s)throw new Error("No keys specified and no default key present");r=[s]}if(r.length===0)throw new Error("Zero keys given to encrypt with!");for(const s of r){const o=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+s);if(!o)throw new Error("Unknown key: "+s);if(o.algorithm===ep){const l={[s]:o},[,d]=await this.getSecretStorageKey(l,e);i[s]=await d.encrypt(n)}else V.warn("unknown algorithm for secret storage key "+s+": "+o.algorithm)}await this.accountDataAdapter.setAccountData(e,{encrypted:i})}async get(e){const n=await this.accountDataAdapter.getAccountDataFromServer(e);if(!n)return;if(!n.encrypted)throw new Error("Content is not encrypted!");const r={};for(const o of Object.keys(n.encrypted)){const l=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+o),d=n.encrypted[o];l.algorithm===ep&&d.iv&&d.ciphertext&&d.mac&&(r[o]=l)}if(Object.keys(r).length===0)throw new Error(`Could not decrypt ${e} because none of the keys it is encrypted with are for a supported algorithm`);let i,s;try{[i,s]=await this.getSecretStorageKey(r,e);const o=n.encrypted[i];return o.passthrough?wl(s.get_private_key()):s.decrypt(o)}finally{s&&s.free&&s.free()}}async isStored(e){const n=await this.accountDataAdapter.getAccountDataFromServer(e);if(!(n!=null&&n.encrypted))return null;const r={};for(const i of Object.keys(n.encrypted)){const s=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+i);if(!s)continue;const o=n.encrypted[i];s.algorithm===ep&&o.iv&&o.ciphertext&&o.mac&&(r[i]=s)}return Object.keys(r).length?r:null}request(e,n){const r=this.baseApis.makeTxnId();let i,s;const o=new Promise((f,v)=>{i=f,s=v});this.requests.set(r,{name:e,devices:n,resolve:i,reject:s});const l=f=>{const v={action:"request_cancellation",requesting_device_id:this.baseApis.deviceId,request_id:r},w={};for(const E of n)w[E]=v;this.baseApis.sendToDevice("m.secret.request",{[this.baseApis.getUserId()]:w}),s(new Error(f||"Cancelled"))},d={name:e,action:"request",requesting_device_id:this.baseApis.deviceId,request_id:r},h={};for(const f of n)h[f]=d;return V.info(`Request secret ${e} from ${n}, id ${r}`),this.baseApis.sendToDevice("m.secret.request",{[this.baseApis.getUserId()]:h}),{requestId:r,promise:o,cancel:l}}async onRequestReceived(e){const n=e.getSender(),r=e.getContent();if(n!==this.baseApis.getUserId()||!(r.name&&r.action&&r.requesting_device_id&&r.request_id))return;const i=r.requesting_device_id;if(r.action!=="request_cancellation"){if(r.action==="request"){if(i===this.baseApis.deviceId||(V.info("received request for secret ("+n+", "+i+", "+r.request_id+")"),!this.cryptoCallbacks.onSecretRequested))return;const s=await this.cryptoCallbacks.onSecretRequested(n,i,r.request_id,r.name,this.baseApis.checkDeviceTrust(n,i));if(s){V.info(`Preparing ${r.name} secret for ${i}`);const o={type:"m.secret.send",content:{request_id:r.request_id,secret:s}},l={algorithm:ga,sender_key:this.baseApis.crypto.olmDevice.deviceCurve25519Key,ciphertext:{}};await pp(this.baseApis.crypto.olmDevice,this.baseApis,{[n]:[this.baseApis.getStoredDevice(n,i)]}),await jg(l.ciphertext,this.baseApis.getUserId(),this.baseApis.deviceId,this.baseApis.crypto.olmDevice,n,this.baseApis.getStoredDevice(n,i),o);const d={[n]:{[i]:l}};V.info(`Sending ${r.name} secret for ${i}`),this.baseApis.sendToDevice("m.room.encrypted",d)}else V.info(`Request denied for ${r.name} secret for ${i}`)}}}onSecretReceived(e){if(e.getSender()!==this.baseApis.getUserId())return;if(!TU(e)){V.error("secret event not properly encrypted");return}const n=e.getContent();if(this.baseApis.crypto.deviceList.getUserByIdentityKey(ga,e.getSenderKey()||"")!==e.getSender()){V.error("sending device does not belong to the user it claims to be from");return}V.log("got secret share for request",n.request_id);const i=this.requests.get(n.request_id);if(i){const s=this.baseApis.crypto.deviceList.getDeviceByIdentityKey(ga,e.getSenderKey());if(!s){V.log("secret share from unknown device with key",e.getSenderKey());return}if(!i.devices.includes(s.deviceId)){V.log("unsolicited secret share from device",s.deviceId);return}if(!this.baseApis.crypto.checkDeviceInfoTrust(e.getSender(),s).isVerified()){V.log("secret share from unverified device");return}V.log(`Successfully received secret ${i.name} from ${s.deviceId}`),i.resolve(n.secret)}}async getSecretStorageKey(e,n){if(!this.cryptoCallbacks.getSecretStorageKey)throw new Error("No getSecretStorageKey callback supplied");const r=await this.cryptoCallbacks.getSecretStorageKey({keys:e},n);if(!r)throw new Error("getSecretStorageKey callback returned falsey");if(r.length<2)throw new Error("getSecretStorageKey callback returned invalid data");const[i,s]=r;if(!e[i])throw new Error("App returned unknown key from getSecretStorageKey!");if(e[i].algorithm===ep)return[i,{encrypt:function(l){return pw(l,s,n)},decrypt:function(l){return e8(l,s,n)}}];throw new Error("Unknown key type: "+e[i].algorithm)}}function kfe(t,e,n){const r=Object.assign({},{code:t,reason:e},n);return new Ao({type:"m.key.verification.cancel",content:r})}function xp(t,e){return function(n){return kfe(t,e,n)}}const a$=xp("m.user","Cancelled by user"),Tfe=xp("m.timeout","Timed out"),_S=xp("m.unknown_method","Unknown method"),kJ=xp("m.unexpected_message","Unexpected message"),ly=xp("m.key_mismatch","Key mismatch"),Cfe=xp("m.invalid_message","Invalid message");function l$(t){const e=t.getContent();if(e){const{code:n,reason:r}=e;return{code:n,reason:r}}else return{code:"Unknown error",reason:"m.unknown"}}const Yz=new Error("Verification timed out");class c$ extends Error{constructor(e){super(),this.startEvent=e}}class CU extends Do{constructor(e,n,r,i,s,o){super(),this.channel=e,this.baseApis=n,this.userId=r,this.deviceId=i,this.startEvent=s,this.request=o,this.cancelled=!1,this._done=!1,this.promise=null,this.transactionTimeoutTimer=null}get initiatedByMe(){if(!this.startEvent)return!0;const e=this.startEvent.getSender(),n=this.startEvent.getContent();return e===this.baseApis.getUserId()&&n.from_device===this.baseApis.getDeviceId()}get hasBeenCancelled(){return this.cancelled}resetTimer(){V.info("Refreshing/starting the verification transaction timeout timer"),this.transactionTimeoutTimer!==null&&clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=setTimeout(()=>{!this._done&&!this.cancelled&&(V.info("Triggering verification timeout"),this.cancel(Yz))},10*60*1e3)}endTimer(){this.transactionTimeoutTimer!==null&&(clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=null)}send(e,n){return this.channel.send(e,n)}waitForEvent(e){if(this._done)return Promise.reject(new Error("Verification is already done"));const n=this.request.getEventFromOtherParty(e);return n?Promise.resolve(n):(this.expectedEvent=e,new Promise((r,i)=>{this.resolveEvent=r,this.rejectEvent=i}))}canSwitchStartEvent(e){return!1}switchStartEvent(e){if(this.canSwitchStartEvent(e))if(V.log("Verification Base: switching verification start event",{restartingFlow:!!this.rejectEvent}),this.rejectEvent){const n=this.rejectEvent;this.rejectEvent=void 0,n(new c$(e))}else this.startEvent=e}handleEvent(e){if(!this._done){if(e.getType()===this.expectedEvent)this.expectedEvent!=="m.key.verification.done"&&(this.expectedEvent=void 0,this.rejectEvent=void 0,this.resetTimer(),this.resolveEvent(e));else if(e.getType()==="m.key.verification.cancel"){const n=this.reject;if(this.reject=void 0,n){const r=e.getContent(),{reason:i,code:s}=r;n(new Error(`Other side cancelled verification because ${i} (${s})`))}}else if(this.expectedEvent){const n=new Error("Unexpected message: expecting "+this.expectedEvent+" but got "+e.getType());if(this.expectedEvent=void 0,this.rejectEvent){const r=this.rejectEvent;this.rejectEvent=void 0,r(n)}this.cancel(n)}}}done(){if(this.endTimer(),!this._done)return this.request.onVerifierFinished(),this.resolve(),mfe(this.baseApis,this.userId,this.deviceId)}cancel(e){if(this.endTimer(),!this._done){if(this.cancelled=!0,this.request.onVerifierCancelled(),this.userId&&this.deviceId)if(e===Yz){const n=Tfe();this.send(n.getType(),n.getContent())}else if(e instanceof Ao){if(e.getSender()!==this.userId){const r=e.getContent();e.getType()==="m.key.verification.cancel"?(r.code=r.code||"m.unknown",r.reason=r.reason||r.body||"Unknown reason",this.send("m.key.verification.cancel",r)):this.send("m.key.verification.cancel",{code:"m.unknown",reason:r.body||"Unknown reason"})}}else this.send("m.key.verification.cancel",{code:"m.unknown",reason:e.toString()});this.promise!==null?this.reject&&this.reject(e):this.promise=Promise.reject(e),this.emit("cancel",e)}}verify(){return this.promise?this.promise:(this.promise=new Promise((e,n)=>{this.resolve=(...r)=>{this._done=!0,this.endTimer(),e(...r)},this.reject=r=>{this._done=!0,this.endTimer(),n(r)}}),this.doVerification&&!this.started&&(this.started=!0,this.resetTimer(),new Promise((e,n)=>{var i;((i=this.baseApis.crypto.deviceList.getStoredCrossSigningForUser(this.userId))==null?void 0:i.getId())===this.deviceId&&n(new Error("Device ID is the same as the cross-signing ID")),e()}).then(()=>this.doVerification()).then(this.done.bind(this),this.cancel.bind(this))),this.promise)}async verifyKeys(e,n,r){const i=[];for(const[s,o]of Object.entries(n)){const l=s.split(":",2)[1],d=this.baseApis.getStoredDevice(e,l);if(d)r(s,d,o),i.push([l,s,d.keys[s]]);else{const h=this.baseApis.crypto.deviceList.getStoredCrossSigningForUser(e);h&&h.getId()===l?(r(s,Ac.fromStorage({keys:{[s]:l}},l),o),i.push([l,s,l])):V.warn(`verification: Could not find device ${l} to verify`)}}if(!i.length)throw new Error("No devices could be verified");V.info("Verification completed! Marking devices verified: ",i);for(const[s,o,l]of i)await this.baseApis.crypto.setDeviceVerification(e,s,!0,null,null,{[o]:l});e==this.baseApis.credentials.userId&&await this.baseApis.checkKeyBackup()}get events(){}}const Ife="m.qr_code.show.v1",TJ="m.qr_code.scan.v1";class nx extends CU{constructor(){super(...arguments),this.doVerification=async()=>{if(!this.startEvent)throw new Error("It is not currently possible to start verificationwith this method yet.");const{qrCodeData:e}=this.request;if(this.startEvent.getContent().secret!==e.encodedSharedSecret)throw ly();await new Promise((r,i)=>{this.reciprocateQREvent={confirm:r,cancel:()=>i(a$())},this.emit("show_reciprocate_qr",this.reciprocateQREvent)});const n={};switch(e.mode){case VC.VerifyOtherUser:{const r=e.otherUserMasterKey;n[`ed25519:${r}`]=r;break}case VC.VerifySelfTrusted:{const r=this.request.targetDevice.deviceId;n[`ed25519:${r}`]=e.otherDeviceKey;break}case VC.VerifySelfUntrusted:{const r=e.myMasterKey;n[`ed25519:${r}`]=r;break}}await this.verifyKeys(this.userId,n,(r,i,s)=>{const o=n[r];if(!o)throw ly();if(s!==o)throw V.error("key ID from key info does not match"),ly();for(const l in i.keys){if(!l.startsWith("ed25519"))continue;const d=n[l];if(!d)throw ly();if(i.keys[l]!==d)throw V.error("master key does not match"),ly()}})}}static factory(e,n,r,i,s,o){return new nx(e,n,r,i,s,o)}static get NAME(){return"m.reciprocate.v1"}}const Rfe=2,Mfe="MATRIX";var VC=(t=>(t[t.VerifyOtherUser=0]="VerifyOtherUser",t[t.VerifySelfTrusted=1]="VerifySelfTrusted",t[t.VerifySelfUntrusted=2]="VerifySelfUntrusted",t))(VC||{});class ag{constructor(e,n,r,i,s,o){this.mode=e,this.sharedSecret=n,this.otherUserMasterKey=r,this.otherDeviceKey=i,this.myMasterKey=s,this.buffer=o}static async create(e,n){const r=ag.generateSharedSecret(),i=ag.determineMode(e,n);let s=null,o=null,l=null;if(i===0)s=n.getStoredCrossSigningForUser(e.otherUserId).getId("master");else if(i===1)o=await ag.getOtherDeviceKey(e,n);else if(i===2){const f=n.getUserId();l=n.getStoredCrossSigningForUser(f).getId("master")}const d=ag.generateQrData(e,n,i,r,s,o,l),h=ag.generateBuffer(d);return new ag(i,r,s,o,l,h)}get encodedSharedSecret(){return this.sharedSecret}getBuffer(){return this.buffer}static generateSharedSecret(){const e=new Uint8Array(11);return global.crypto.getRandomValues(e),hJ(e)}static async getOtherDeviceKey(e,n){const r=n.getUserId(),i=e.targetDevice,s=i?i.deviceId:null,o=n.getStoredDevice(r,s);if(!o)throw new Error("could not find device "+s);return o.getFingerprint()}static determineMode(e,n){const r=n.getUserId(),i=e.otherUserId;let s=0;return r===i&&(n.checkUserTrust(r).isCrossSigningVerified()?s=1:s=2),s}static generateQrData(e,n,r,i,s,o,l){const d=n.getUserId(),h=e.channel.transactionId,f={prefix:Mfe,version:Rfe,mode:r,transactionId:h,firstKeyB64:"",secondKeyB64:"",secretB64:i},v=n.getStoredCrossSigningForUser(d);return r===0?(f.firstKeyB64=v.getId("master"),f.secondKeyB64=s):r===1?(f.firstKeyB64=v.getId("master"),f.secondKeyB64=o):r===2&&(f.firstKeyB64=n.getDeviceEd25519Key(),f.secondKeyB64=l),f}static generateBuffer(e){let n=Buffer.alloc(0);const r=l=>{const d=Buffer.from([l]);n=Buffer.concat([n,d])},i=l=>{const d=Buffer.alloc(2);d.writeInt16BE(l,0),n=Buffer.concat([n,d])},s=(l,d,h=!0)=>{const f=Buffer.from(l,d);h&&i(f.byteLength),n=Buffer.concat([n,f])},o=l=>{const d=za(l),h=Buffer.from(d);n=Buffer.concat([n,h])};return s(e.prefix,"ascii",!1),r(e.version),r(e.mode),s(e.transactionId,"utf-8"),o(e.firstKeyB64),o(e.secondKeyB64),o(e.secretB64),n}}const AD="m.key.verification.start",Ofe=["m.key.verification.accept","m.key.verification.key","m.key.verification.mac"];let BT;const Xz=xp("m.mismatched_sas","Mismatched short authentication string"),Lfe=xp("m.mismatched_commitment","Mismatched commitment");function Afe(t){return[(t[0]<<5|t[1]>>3)+1e3,((t[1]&7)<<10|t[2]<<2|t[3]>>6)+1e3,((t[3]&63)<<7|t[4]>>1)+1e3]}const Pfe=[["\u{1F436}","dog"],["\u{1F431}","cat"],["\u{1F981}","lion"],["\u{1F40E}","horse"],["\u{1F984}","unicorn"],["\u{1F437}","pig"],["\u{1F418}","elephant"],["\u{1F430}","rabbit"],["\u{1F43C}","panda"],["\u{1F413}","rooster"],["\u{1F427}","penguin"],["\u{1F422}","turtle"],["\u{1F41F}","fish"],["\u{1F419}","octopus"],["\u{1F98B}","butterfly"],["\u{1F337}","flower"],["\u{1F333}","tree"],["\u{1F335}","cactus"],["\u{1F344}","mushroom"],["\u{1F30F}","globe"],["\u{1F319}","moon"],["\u2601\uFE0F","cloud"],["\u{1F525}","fire"],["\u{1F34C}","banana"],["\u{1F34E}","apple"],["\u{1F353}","strawberry"],["\u{1F33D}","corn"],["\u{1F355}","pizza"],["\u{1F382}","cake"],["\u2764\uFE0F","heart"],["\u{1F642}","smiley"],["\u{1F916}","robot"],["\u{1F3A9}","hat"],["\u{1F453}","glasses"],["\u{1F527}","spanner"],["\u{1F385}","santa"],["\u{1F44D}","thumbs up"],["\u2602\uFE0F","umbrella"],["\u231B","hourglass"],["\u23F0","clock"],["\u{1F381}","gift"],["\u{1F4A1}","light bulb"],["\u{1F4D5}","book"],["\u270F\uFE0F","pencil"],["\u{1F4CE}","paperclip"],["\u2702\uFE0F","scissors"],["\u{1F512}","lock"],["\u{1F511}","key"],["\u{1F528}","hammer"],["\u260E\uFE0F","telephone"],["\u{1F3C1}","flag"],["\u{1F682}","train"],["\u{1F6B2}","bicycle"],["\u2708\uFE0F","aeroplane"],["\u{1F680}","rocket"],["\u{1F3C6}","trophy"],["\u26BD","ball"],["\u{1F3B8}","guitar"],["\u{1F3BA}","trumpet"],["\u{1F514}","bell"],["\u2693\uFE0F","anchor"],["\u{1F3A7}","headphones"],["\u{1F4C1}","folder"],["\u{1F4CC}","pin"]];function Dfe(t){return[t[0]>>2,(t[0]&3)<<4|t[1]>>4,(t[1]&15)<<2|t[2]>>6,t[2]&63,t[3]>>2,(t[3]&3)<<4|t[4]>>4,(t[4]&15)<<2|t[5]>>6].map(n=>Pfe[n])}const u$={decimal:Afe,emoji:Dfe};function Zz(t,e){const n={};for(const r of e)r in u$&&(n[r]=u$[r](t));return n}const Nfe={"hkdf-hmac-sha256":"calculate_mac","org.matrix.msc3783.hkdf-hmac-sha256":"calculate_mac_fixed_base64","hmac-sha256":"calculate_mac_long_kdf"};function mE(t,e){return function(...n){const i=t[Nfe[e]].apply(t,n);return V.log("SAS calculateMAC:",e,n,i),i}}const Jz={"curve25519-hkdf-sha256":function(t,e,n){const r=`${t.baseApis.getUserId()}|${t.baseApis.deviceId}|${t.ourSASPubKey}|`,i=`${t.userId}|${t.deviceId}|${t.theirSASPubKey}|`,s="MATRIX_KEY_VERIFICATION_SAS|"+(t.initiatedByMe?r+i:i+r)+t.channel.transactionId;return e.generate_bytes(s,n)},curve25519:function(t,e,n){const r=`${t.baseApis.getUserId()}${t.baseApis.deviceId}`,i=`${t.userId}${t.deviceId}`,s="MATRIX_KEY_VERIFICATION_SAS"+(t.initiatedByMe?r+i:i+r)+t.channel.transactionId;return e.generate_bytes(s,n)}},d$=["curve25519-hkdf-sha256","curve25519"],f$=["sha256"],h$=["org.matrix.msc3783.hkdf-hmac-sha256","hkdf-hmac-sha256","hmac-sha256"],CJ=Object.keys(u$),Bfe=new Set(d$),$fe=new Set(f$),Ffe=new Set(h$),Qz=new Set(CJ);function yE(t,e){return t instanceof Array?t.filter(n=>e.has(n)):[]}class j3 extends CU{constructor(){super(...arguments),this.doVerification=async()=>{await global.Olm.init(),BT=BT||new global.Olm.Utility,await this.baseApis.downloadKeys([this.userId]);let e=!1;do try{return this.initiatedByMe?await this.doSendVerification():await this.doRespondVerification()}catch(n){if(n instanceof c$)this.startEvent=n.startEvent,e=!0;else throw n}while(e)}}static get NAME(){return"m.sas.v1"}get events(){return Ofe}canSwitchStartEvent(e){if(e.getType()!==AD)return!1;const n=e.getContent();return n&&n.method===j3.NAME&&this.waitingForAccept}async sendStart(){const e=this.channel.completeContent(AD,{method:j3.NAME,from_device:this.baseApis.deviceId,key_agreement_protocols:d$,hashes:f$,message_authentication_codes:h$,short_authentication_string:CJ});return await this.channel.sendCompleted(AD,e),e}async doSendVerification(){this.waitingForAccept=!0;let e;if(this.startEvent?e=this.channel.completedContentFromEvent(this.startEvent):e=await this.sendStart(),!this.initiatedByMe)throw new c$(this.startEvent);let n;try{n=await this.waitForEvent("m.key.verification.accept")}finally{this.waitingForAccept=!1}let r=n.getContent();const i=yE(r.short_authentication_string,Qz);if(!(Bfe.has(r.key_agreement_protocol)&&$fe.has(r.hash)&&Ffe.has(r.message_authentication_code)&&i.length))throw _S();if(typeof r.commitment!="string")throw Cfe();const s=r.key_agreement_protocol,o=r.message_authentication_code,l=r.commitment,d=new global.Olm.SAS;try{this.ourSASPubKey=d.get_pubkey(),await this.send("m.key.verification.key",{key:this.ourSASPubKey}),n=await this.waitForEvent("m.key.verification.key"),r=n.getContent();const h=r.key+hp.stringify(e);if(BT.sha256(h)!==l)throw Lfe();this.theirSASPubKey=r.key,d.set_their_key(r.key);const f=Jz[s](this,d,6),v=new Promise((w,E)=>{this.sasEvent={sas:Zz(f,i),confirm:async()=>{try{await this.sendMAC(d,o),w()}catch(C){E(C)}},cancel:()=>E(a$()),mismatch:()=>E(Xz())},this.emit("show_sas",this.sasEvent)});[n]=await Promise.all([this.waitForEvent("m.key.verification.mac").then(w=>(this.expectedEvent="m.key.verification.done",w)),v]),r=n.getContent(),await this.checkMAC(d,r,o)}finally{d.free()}}async doRespondVerification(){let e=this.channel.completedContentFromEvent(this.startEvent);const n=yE(d$,new Set(e.key_agreement_protocols))[0],r=yE(f$,new Set(e.hashes))[0],i=yE(h$,new Set(e.message_authentication_codes))[0],s=yE(e.short_authentication_string,Qz);if(!(n!==void 0&&r!==void 0&&i!==void 0&&s.length))throw _S();const o=new global.Olm.SAS;try{const l=o.get_pubkey()+hp.stringify(e);await this.send("m.key.verification.accept",{key_agreement_protocol:n,hash:r,message_authentication_code:i,short_authentication_string:s,commitment:BT.sha256(l)});let d=await this.waitForEvent("m.key.verification.key");e=d.getContent(),this.theirSASPubKey=e.key,o.set_their_key(e.key),this.ourSASPubKey=o.get_pubkey(),await this.send("m.key.verification.key",{key:this.ourSASPubKey});const h=Jz[n](this,o,6),f=new Promise((v,w)=>{this.sasEvent={sas:Zz(h,s),confirm:async()=>{try{await this.sendMAC(o,i),v()}catch(E){w(E)}},cancel:()=>w(a$()),mismatch:()=>w(Xz())},this.emit("show_sas",this.sasEvent)});[d]=await Promise.all([this.waitForEvent("m.key.verification.mac").then(v=>(this.expectedEvent="m.key.verification.done",v)),f]),e=d.getContent(),await this.checkMAC(o,e,i)}finally{o.free()}}sendMAC(e,n){const r={},i=[],s="MATRIX_KEY_VERIFICATION_MAC"+this.baseApis.getUserId()+this.baseApis.deviceId+this.userId+this.deviceId+this.channel.transactionId,o=`ed25519:${this.baseApis.deviceId}`;r[o]=mE(e,n)(this.baseApis.getDeviceEd25519Key(),s+o),i.push(o);const l=this.baseApis.getCrossSigningId();if(l){const h=`ed25519:${l}`;r[h]=mE(e,n)(l,s+h),i.push(h)}const d=mE(e,n)(i.sort().join(","),s+"KEY_IDS");return this.send("m.key.verification.mac",{mac:r,keys:d})}async checkMAC(e,n,r){const i="MATRIX_KEY_VERIFICATION_MAC"+this.userId+this.deviceId+this.baseApis.getUserId()+this.baseApis.deviceId+this.channel.transactionId;if(n.keys!==mE(e,r)(Object.keys(n.mac).sort().join(","),i+"KEY_IDS"))throw ly();await this.verifyKeys(this.userId,n.mac,(s,o,l)=>{if(l!==mE(e,r)(o.keys[s],i+s))throw ly()})}}const Ufe=typeof window!="undefined"&&window.crypto?window.crypto.subtle||window.crypto.webkitSubtle:null,eq=5e5,IU=256;function tq(t,e){if(!global.Olm)throw new Error("Olm is not available");if(!t.private_key_salt||!t.private_key_iterations)throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");return IJ(e,t.private_key_salt,t.private_key_iterations,t.private_key_bits||IU)}async function RU(t){if(!global.Olm)throw new Error("Olm is not available");const e=vd(32);return{key:await IJ(t,e,eq,IU),salt:e,iterations:eq}}async function IJ(t,e,n,r=IU){return Ufe?Hfe(t,e,n,r):jfe()}async function Hfe(t,e,n,r){const i=global.crypto.subtle,s=global.TextEncoder;if(!i||!s)throw new Error("Password-based backup is not avaiable on this platform");const o=await i.importKey("raw",new s().encode(t),{name:"PBKDF2"},!1,["deriveBits"]),l=await i.deriveBits({name:"PBKDF2",salt:new s().encode(e),iterations:n,hash:"SHA-512"},o,r);return new Uint8Array(l)}async function jfe(t,e,n,r){throw new Error("No usable crypto implementation")}function Kfe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,l=t.charAt(0),d=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function f(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var C=0,O=0,M=0,A=E.length;M!==A&&E[M]===0;)M++,C++;for(var D=(A-M)*h+1>>>0,U=new Uint8Array(D);M!==A;){for(var R=E[M],X=0,H=D-1;(R!==0||X<O)&&H!==-1;H--,X++)R+=256*U[H]>>>0,U[H]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");O=X,M++}for(var K=D-O;K!==D&&U[K]===0;)K++;for(var W=l.repeat(C);K<D;++K)W+=t.charAt(U[K]);return W}function v(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;for(var C=0,O=0,M=0;E[C]===l;)O++,C++;for(var A=(E.length-C)*d+1>>>0,D=new Uint8Array(A);E[C];){var U=e[E.charCodeAt(C)];if(U===255)return;for(var R=0,X=A-1;(U!==0||R<M)&&X!==-1;X--,R++)U+=o*D[X]>>>0,D[X]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");M=R,C++}for(var H=A-M;H!==A&&D[H]===0;)H++;for(var K=new Uint8Array(O+(A-H)),W=O;H!==A;)K[W++]=D[H++];return K}function w(E){var C=v(E);if(C)return C;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:v,decode:w}}var zfe=Kfe;const qfe=zfe,Vfe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var RJ=qfe(Vfe);const cg=[139,1];function MJ(t){const e=Buffer.alloc(cg.length+t.length+1);e.set(cg,0),e.set(t,cg.length);let n=0;for(let i=0;i<e.length-1;++i)n^=e[i];return e[e.length-1]=n,RJ.encode(e).match(/.{1,4}/g).join(" ")}function GC(t){const e=RJ.decode(t.replace(/ /g,""));let n=0;for(const r of e)n^=r;if(n!==0)throw new Error("Incorrect parity");for(let r=0;r<cg.length;++r)if(e[r]!==cg[r])throw new Error("Incorrect prefix");if(e.length!==cg.length+global.Olm.PRIVATE_KEY_LENGTH+1)throw new Error("Incorrect length");return Uint8Array.from(e.slice(cg.length,cg.length+global.Olm.PRIVATE_KEY_LENGTH))}const Gfe=10*60*1e3,Wfe=2*60*1e3,Yfe=3*1e3,gw="m.key.verification.",Ti=gw+"request",qo=gw+"start",ad=gw+"cancel",Xfe=gw+"done",rd=gw+"ready",zh=1,Gu=2,Qu=3,Jh=4,vE=5,bE=6;class cy extends Do{constructor(e,n,r){super(),this.channel=e,this.verificationMethods=n,this.client=r,this.eventsByUs=new Map,this.eventsByThem=new Map,this._observeOnly=!1,this.timeoutTimer=null,this._accepting=!1,this._declining=!1,this.verifierHasFinished=!1,this._cancelled=!1,this._chosenMethod=null,this._qrCodeData=null,this.requestReceivedAt=null,this.commonMethods=[],this.cancelOnTimeout=async()=>{try{this.initiatedByMe?await this.cancel({reason:"Other party didn't accept in time",code:"m.timeout"}):await this.cancel({reason:"User didn't accept in time",code:"m.timeout"})}catch(i){V.error("Error while cancelling verification request",i)}},this.channel.request=this,this.setPhase(zh,!1)}static validateEvent(e,n,r){const i=n.getContent();return!e||!e.startsWith(gw)?!1:i?(e===Ti||e===rd)&&!Array.isArray(i.methods)?(V.log("VerificationRequest: validateEvent: fail because methods"),!1):(e===Ti||e===rd||e===qo)&&(typeof i.from_device!="string"||i.from_device.length===0)?(V.log("VerificationRequest: validateEvent: fail because from_device"),!1):!0:(V.log("VerificationRequest: validateEvent: no content"),!1)}get invalid(){return this.phase===zh}get requested(){return this.phase===Gu}get cancelled(){return this.phase===vE}get ready(){return this.phase===Qu}get started(){return this.phase===Jh}get done(){return this.phase===bE}get methods(){return this.commonMethods}get chosenMethod(){return this._chosenMethod}calculateEventTimeout(e){let n=this.channel.getTimestamp(e)+Gfe;if(this.requestReceivedAt&&!this.initiatedByMe&&this.phase<=Gu){const r=this.requestReceivedAt+Wfe;n=Math.min(n,r)}return Math.max(0,n-Date.now())}get timeout(){const e=this.getEventByEither(Ti);return e?this.calculateEventTimeout(e):0}get requestEvent(){return this.getEventByEither(Ti)}get phase(){return this._phase}get verifier(){return this._verifier}get canAccept(){return this.phase<Qu&&!this._accepting&&!this._declining}get accepting(){return this._accepting}get declining(){return this._declining}get pending(){return!this.observeOnly&&this._phase!==bE&&this._phase!==vE}get qrCodeData(){return this._qrCodeData}otherPartySupportsMethod(e,n=!1){if(!n&&!this.ready&&!this.started)return!1;const r=this.eventsByThem.get(Ti)||this.eventsByThem.get(rd);if(!r){if(this.started&&this.initiatedByMe){const o=this.eventsByUs.get(qo),l=o&&o.getContent(),d=l&&l.method;return e==d}return!1}const i=r.getContent();if(!i)return!1;const{methods:s}=i;return Array.isArray(s)?s.includes(e):!1}get initiatedByMe(){const e=this.eventsByUs.size+this.eventsByThem.size===0;if(this._phase===zh&&e)return!0;const n=this.eventsByUs.has(Ti),r=this.eventsByThem.has(Ti);if(n&&!r)return!0;if(!n&&r)return!1;const i=this.eventsByUs.has(qo),s=this.eventsByThem.has(qo);return!!(i&&!s)}get requestingUserId(){return this.initiatedByMe?this.client.getUserId():this.otherUserId}get receivingUserId(){return this.initiatedByMe?this.otherUserId:this.client.getUserId()}get otherUserId(){return this.channel.userId}get isSelfVerification(){return this.client.getUserId()===this.otherUserId}get cancellingUserId(){const e=this.eventsByUs.get(ad),n=this.eventsByThem.get(ad);if(e&&(!n||e.getId()<n.getId()))return e.getSender();if(n)return n.getSender()}get cancellationCode(){const e=this.getEventByEither(ad);return e?e.getContent().code:null}get observeOnly(){return this._observeOnly}get targetDevice(){const r=(this.eventsByThem.get(Ti)||this.eventsByThem.get(rd)||this.eventsByThem.get(qo)).getContent().from_device;return{userId:this.otherUserId,deviceId:r}}beginKeyVerification(e,n=null){if(!this.observeOnly&&!this._verifier&&(this.phase===Gu||this.phase===Qu||this.phase===zh&&this.channel.canCreateRequest(qo))){if(this.commonMethods.length&&!this.commonMethods.includes(e)||(this._verifier=this.createVerifier(e,null,n),!this._verifier))throw _S();this._chosenMethod=e}return this._verifier}async sendRequest(){if(!this.observeOnly&&this._phase===zh){const e=[...this.verificationMethods.keys()];await this.channel.send(Ti,{methods:e})}}async cancel({reason:e="User declined",code:n="m.user"}={}){if(!this.observeOnly&&this._phase!==vE){if(this._declining=!0,this.emit("change"),this._verifier)return this._verifier.cancel(xp(n,e)());this._cancellingUserId=this.client.getUserId(),await this.channel.send(ad,{code:n,reason:e})}}async accept(){if(!this.observeOnly&&this.phase===Gu&&!this.initiatedByMe){const e=[...this.verificationMethods.keys()];this._accepting=!0,this.emit("change"),await this.channel.send(rd,{methods:e})}}waitFor(e){return new Promise((n,r)=>{const i=()=>{let s=!1;return e(this)?(n(this),s=!0):this.cancelled&&(r(new Error("cancelled")),s=!0),s&&this.off("change",i),s};i()||this.on("change",i)})}setPhase(e,n=!0){this._phase=e,n&&this.emit("change")}getEventByEither(e){return this.eventsByThem.get(e)||this.eventsByUs.get(e)}getEventBy(e,n=!1){return n?this.eventsByThem.get(e):this.eventsByUs.get(e)}calculatePhaseTransitions(){const e=[{phase:zh}],n=()=>e[e.length-1].phase,r=this.eventsByThem.has(Ti),i=this.getEventBy(Ti,r);i&&e.push({phase:Gu,event:i});const s=i&&this.getEventBy(rd,!r);s&&n()===Gu&&e.push({phase:Qu,event:s});let o;if(s||!i){const h=this.eventsByThem.get(qo),f=this.eventsByUs.get(qo);h&&f?o=h.getSender()<f.getSender()?h:f:o=h||f}else o=this.getEventBy(qo,!r);if(o){const h=n()===Gu&&i.getSender()!==o.getSender(),f=n()===zh&&this.channel.canCreateRequest(qo);(h||n()===Qu||f)&&e.push({phase:Jh,event:o})}const l=this.eventsByUs.get(Xfe);(this.verifierHasFinished||l&&n()===Jh)&&e.push({phase:bE});const d=this.getEventByEither(ad);return(this._cancelled||d)&&n()!==bE&&e.push({phase:vE,event:d}),e}transitionToPhase(e){const{phase:n,event:r}=e;if((n===Gu||n===Qu)&&!this.wasSentByOwnDevice(r)){const i=r.getContent();this.commonMethods=i.methods.filter(s=>this.verificationMethods.has(s))}if(this.observeOnly||(n===Gu||n===Jh||n===Qu)&&this.channel.receiveStartFromOtherDevices&&this.wasSentByOwnUser(r)&&!this.wasSentByOwnDevice(r)&&(this._observeOnly=!0),n===Jh){const{method:i}=r.getContent();!this._verifier&&!this.observeOnly&&(this._verifier=this.createVerifier(i,r),this._verifier?this._chosenMethod=i:this.cancel({code:"m.unknown_method",reason:`Unknown method: ${i}`}))}}applyPhaseTransitions(){const e=this.calculatePhaseTransitions(),n=e.findIndex(i=>i.phase===this.phase),r=e.slice(n+1);for(const i of r)this.transitionToPhase(i);return r}isWinningStartRace(e){if(e.getType()!==qo)return!1;const n=this._verifier.startEvent;let r;if(this.isSelfVerification)if(n){const s=n.getContent();r=s&&s.from_device}else r=this.client.getDeviceId();else n?r=n.getSender():r=this.client.getUserId();let i;if(this.isSelfVerification){const s=e.getContent();i=s&&s.from_device}else i=e.getSender();return i<r}hasEventId(e){for(const n of this.eventsByUs.values())if(n.getId()===e)return!0;for(const n of this.eventsByThem.values())if(n.getId()===e)return!0;return!1}async handleEvent(e,n,r,i,s){var f;if(this.done||this.cancelled)return;const o=this._observeOnly;if(this.adjustObserveOnly(n,r),!this.observeOnly&&!i&&await this.cancelOnError(e,n)||(s?this.eventsByUs.has(e):this.eventsByThem.has(e)))return;const d=this.phase;this.addEvent(e,n,s);const h=this.applyPhaseTransitions();try{if(this._verifier&&!this.observeOnly){const v=this.isWinningStartRace(n);this._verifier.canSwitchStartEvent(n)&&v?this._verifier.switchStartEvent(n):i||(e===ad||((f=this._verifier.events)==null?void 0:f.includes(e)))&&this._verifier.handleEvent(n)}if(h.length){r&&h.some(E=>E.phase===Qu)&&this.otherPartySupportsMethod(TJ,!0)&&(this._qrCodeData=await ag.create(this,this.client));const v=h[h.length-1],{phase:w}=v;this.setupTimeout(w),this.setPhase(w)}else this._observeOnly!==o&&this.emit("change")}finally{V.log(`Verification request ${this.channel.transactionId}: ${e} event with id:${n.getId()}, content:${JSON.stringify(n.getContent())} deviceId:${this.channel.deviceId}, sender:${n.getSender()}, isSentByUs:${s}, isLiveEvent:${r}, isRemoteEcho:${i}, phase:${d}=>${this.phase}, observeOnly:${o}=>${this._observeOnly}`)}}setupTimeout(e){!this.timeoutTimer&&!this.observeOnly&&e===Gu&&(this.timeoutTimer=setTimeout(this.cancelOnTimeout,this.timeout)),this.timeoutTimer&&(e===Jh||e===Qu||e===bE||e===vE)&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)}async cancelOnError(e,n){if(e===qo){const s=n.getContent().method;if(!this.verificationMethods.has(s))return await this.cancel(l$(_S())),!0}const r=e===Ti&&this.phase!==zh,i=e===rd&&this.phase!==Gu&&this.phase!==Jh;if(this.phase!==zh&&(r||i)){V.warn(`Cancelling, unexpected ${e} verification event from ${n.getSender()}`);const s=`Unexpected ${e} event in phase ${this.phase}`;return await this.cancel(l$(kJ({reason:s}))),!0}return!1}adjustObserveOnly(e,n=!1){n||(this._observeOnly=!0),this.calculateEventTimeout(e)<Yfe&&(this._observeOnly=!0)}addEvent(e,n,r=!1){if(r?this.eventsByUs.set(e,n):this.eventsByThem.set(e,n),e===Ti){for(const[i,s]of this.eventsByThem.entries())s.getSender()!==this.otherUserId&&this.eventsByThem.delete(i);this.requestReceivedAt=Date.now()}}createVerifier(e,n=null,r=null){r||(r=this.targetDevice);const{userId:i,deviceId:s}=r,o=this.verificationMethods.get(e);if(!o){V.warn("could not find verifier constructor for method",e);return}return new o(this.channel,this.client,i,s,n,this)}wasSentByOwnUser(e){return e.getSender()===this.client.getUserId()}wasSentByOwnDevice(e){if(!this.wasSentByOwnUser(e))return!1;const n=e.getContent();return!(!n||n.from_device!==this.client.getDeviceId())}onVerifierCancelled(){this._cancelled=!0;const e=this.applyPhaseTransitions();e.length&&this.setPhase(e[e.length-1].phase)}onVerifierFinished(){this.channel.send("m.key.verification.done",{}),this.verifierHasFinished=!0;const e=this.applyPhaseTransitions();e.length&&this.setPhase(e[e.length-1].phase)}getEventFromOtherParty(e){return this.eventsByThem.get(e)}}const nq=Ot.RoomMessage,rq="m.reference",iq="m.relates_to";class Ua{constructor(e,n,r=null){this.client=e,this.roomId=n,this.userId=r,this.requestEventId=null}get receiveStartFromOtherDevices(){return!0}get transactionId(){return this.requestEventId}static getOtherPartyUserId(e,n){if(Ua.getEventType(e)!==Ti)return;const i=n.getUserId(),s=e.getSender(),l=e.getContent().to;if(s===i)return l;if(l===i)return s}getTimestamp(e){return e.getTs()}static canCreateRequest(e){return e===Ti}canCreateRequest(e){return Ua.canCreateRequest(e)}static getTransactionId(e){if(Ua.getEventType(e)===Ti)return e.getId();{const n=e.getRelation();if(n&&n.rel_type===rq)return n.event_id}}static validateEvent(e,n){const r=Ua.getTransactionId(e);if(typeof r!="string"||r.length===0)return!1;const i=Ua.getEventType(e),s=e.getContent();if(i===Ti){if(!s||typeof s.to!="string"||!s.to.length)return V.log("InRoomChannel: validateEvent: no valid to "+(s&&s.to)),!1;if(!Ua.getOtherPartyUserId(e,n))return V.log(`InRoomChannel: validateEvent: not directed to or sent by me: ${e.getSender()}, ${s&&s.to}`),!1}return cy.validateEvent(i,e,n)}static getEventType(e){const n=e.getType();if(n===nq){const r=e.getContent();if(r){const{msgtype:i}=r;if(i===Ti)return Ti}}return n&&n!==Ti?n:""}handleEvent(e,n,r=!1){if(n.hasEventId(e.getId()))return;const i=Ua.getEventType(e);if(e.getRoomId()!==this.roomId)return;if(this.userId===null){const h=Ua.getOtherPartyUserId(e,this.client);h&&(this.userId=h)}const s=this.client.getUserId(),o=e.getSender();if(this.userId!==null&&o!==s&&o!==this.userId){V.log(`InRoomChannel: ignoring verification event from non-participating sender ${o}`);return}this.requestEventId===null&&(this.requestEventId=Ua.getTransactionId(e));const l=!!e.getUnsigned().transaction_id,d=e.getSender()===this.client.getUserId();return n.handleEvent(i,e,r,l,d)}completedContentFromEvent(e){const n=Object.assign({},e.getContent());return n[iq]=e.getRelation(),n}completeContent(e,n){return n=Object.assign({},n),(e===Ti||e===rd||e===qo)&&(n.from_device=this.client.getDeviceId()),e===Ti?n={body:this.client.getUserId()+" is requesting to verify your key, but your client does not support in-chat key verification.  You will need to use legacy key verification to verify keys.",msgtype:Ti,to:this.userId,from_device:n.from_device,methods:n.methods}:n[iq]={rel_type:rq,event_id:this.transactionId},n}send(e,n){const r=this.completeContent(e,n);return this.sendCompleted(e,r)}async sendCompleted(e,n){let r=e;e===Ti&&(r=nq);const i=await this.client.sendEvent(this.roomId,r,n);e===Ti&&(this.requestEventId=i.event_id)}}class Zfe{constructor(){this.requestsByRoomId=new Map}getRequest(e){const n=e.getRoomId(),r=Ua.getTransactionId(e);return this.getRequestByTxnId(n,r)}getRequestByChannel(e){return this.getRequestByTxnId(e.roomId,e.transactionId)}getRequestByTxnId(e,n){const r=this.requestsByRoomId.get(e);if(r)return r.get(n)}setRequest(e,n){this.doSetRequest(e.getRoomId(),Ua.getTransactionId(e),n)}setRequestByChannel(e,n){this.doSetRequest(e.roomId,e.transactionId,n)}doSetRequest(e,n,r){let i=this.requestsByRoomId.get(e);i||(i=new Map,this.requestsByRoomId.set(e,i)),i.set(n,r)}removeRequest(e){const n=e.getRoomId(),r=this.requestsByRoomId.get(n);r&&(r.delete(Ua.getTransactionId(e)),r.size===0&&this.requestsByRoomId.delete(n))}findRequestInProgress(e){const n=this.requestsByRoomId.get(e);if(n){for(const r of n.values())if(r.pending)return r}}}class $a{constructor(e,n,r,i=null,s=null){this.client=e,this.userId=n,this.devices=r,this.transactionId=i,this.deviceId=s}isToDevices(e){if(e.length===this.devices.length){for(const n of e)if(!this.devices.includes(n))return!1;return!0}else return!1}static getEventType(e){return e.getType()}static getTransactionId(e){const n=e.getContent();return n&&n.transaction_id}static canCreateRequest(e){return e===Ti||e===qo}canCreateRequest(e){return $a.canCreateRequest(e)}static validateEvent(e,n){if(e.isCancelled())return V.warn("Ignoring flagged verification request from "+e.getSender()),!1;const r=e.getContent();if(!r)return V.warn("ToDeviceChannel.validateEvent: invalid: no content"),!1;if(!r.transaction_id)return V.warn("ToDeviceChannel.validateEvent: invalid: no transaction_id"),!1;const i=e.getType();if(i===Ti){if(!Number.isFinite(r.timestamp))return V.warn("ToDeviceChannel.validateEvent: invalid: no timestamp"),!1;if(e.getSender()===n.getUserId()&&r.from_device==n.getDeviceId())return V.warn("ToDeviceChannel.validateEvent: invalid: from own device"),!1}return cy.validateEvent(i,e,n)}getTimestamp(e){const n=e.getContent();return n&&n.timestamp}async handleEvent(e,n,r=!1){const i=e.getType(),s=e.getContent();if(i===Ti||i===rd||i===qo){this.transactionId||(this.transactionId=s.transaction_id);const h=s.from_device;if(!this.deviceId&&this.devices.includes(h)&&(this.deviceId=h),!this.deviceId||this.deviceId!==h){const f=this.completeContent(ad,l$(kJ()));return this.sendToDevices(ad,f,[h])}}const o=n.phase===Jh||n.phase===Qu;await n.handleEvent(e.getType(),e,r,!1,!1);const l=n.phase===Jh||n.phase===Qu;if((i===qo||i===rd)&&!o&&l&&this.deviceId){const h=this.devices.filter(f=>f!==this.deviceId&&f!==this.client.getDeviceId());if(h.length){const f=this.completeContent(ad,{code:"m.accepted",reason:"Verification request accepted by another device"});await this.sendToDevices(ad,f,h)}}}completedContentFromEvent(e){return e.getContent()}completeContent(e,n){return n=Object.assign({},n),this.transactionId&&(n.transaction_id=this.transactionId),(e===Ti||e===rd||e===qo)&&(n.from_device=this.client.getDeviceId()),e===Ti&&(n.timestamp=Date.now()),n}send(e,n={}){(e===Ti||e===qo)&&!this.transactionId&&(this.transactionId=$a.makeTransactionId());const r=this.completeContent(e,n);return this.sendCompleted(e,r)}async sendCompleted(e,n){let r;e===Ti||e===ad&&!this.deviceId?r=await this.sendToDevices(e,n,this.devices):r=await this.sendToDevices(e,n,[this.deviceId]);const i=new Ao({sender:this.client.getUserId(),content:n,type:e});return await this.request.handleEvent(e,i,!0,!0,!0),r}async sendToDevices(e,n,r){if(r.length){const i={};for(const s of r)i[s]=n;await this.client.sendToDevice(e,{[this.userId]:i})}}static makeTransactionId(){return vd(32)}}class Jfe{constructor(){this.requestsByUserId=new Map}getRequest(e){return this.getRequestBySenderAndTxnId(e.getSender(),$a.getTransactionId(e))}getRequestByChannel(e){return this.getRequestBySenderAndTxnId(e.userId,e.transactionId)}getRequestBySenderAndTxnId(e,n){const r=this.requestsByUserId.get(e);if(r)return r.get(n)}setRequest(e,n){this.setRequestBySenderAndTxnId(e.getSender(),$a.getTransactionId(e),n)}setRequestByChannel(e,n){this.setRequestBySenderAndTxnId(e.userId,e.transactionId,n)}setRequestBySenderAndTxnId(e,n,r){let i=this.requestsByUserId.get(e);i||(i=new Map,this.requestsByUserId.set(e,i)),i.set(n,r)}removeRequest(e){const n=e.getSender(),r=this.requestsByUserId.get(n);r&&(r.delete($a.getTransactionId(e)),r.size===0&&this.requestsByUserId.delete(n))}findRequestInProgress(e,n){const r=this.requestsByUserId.get(e);if(r){for(const i of r.values())if(i.pending&&i.channel.isToDevices(n))return i}}getRequestsInProgress(e){const n=this.requestsByUserId.get(e);return n?Array.from(n.values()).filter(r=>r.pending):[]}}class NI extends CU{constructor(){super(...arguments),this.doVerification=async()=>{throw new Error("Verification is not possible with this method")}}static factory(e,n,r,i,s,o){return new NI(e,n,r,i,s,o)}static get NAME(){return"org.matrix.illegal_method"}}const WC="org.matrix.msc2697.v1.olm.libolm_pickle",sq=7*24*60*60*1e3;class Qfe{constructor(e){this.crypto=e,this.inProgress=!1,this.getDehydrationKeyFromCache()}getDehydrationKeyFromCache(){return this.crypto.cryptoStore.doTxn("readonly",[ur.STORE_ACCOUNT],e=>{this.crypto.cryptoStore.getSecretStorePrivateKey(e,async n=>{if(n){const{key:r,keyInfo:i,deviceDisplayName:s,time:o}=n,l=Buffer.from(this.crypto.olmDevice.pickleKey),d=await e8(r,l,WC);this.key=za(d),this.keyInfo=i,this.deviceDisplayName=s;const h=Date.now(),f=Math.max(1,o+sq-h);this.timeoutId=global.setTimeout(this.dehydrateDevice.bind(this),f)}},"dehydration")})}async setKeyAndQueueDehydration(e,n={},r=void 0){await this.setKey(e,n,r)||this.dehydrateDevice()}async setKey(e,n={},r=void 0){if(!e){this.timeoutId&&(global.clearTimeout(this.timeoutId),this.timeoutId=void 0),await this.crypto.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],s=>{this.crypto.cryptoStore.storeSecretStorePrivateKey(s,"dehydration",null)}),this.key=void 0,this.keyInfo=void 0;return}let i=this.key&&e.length==this.key.length;for(let s=0;i&&s<e.length;s++)e[s]!=this.key[s]&&(i=!1);return i||(this.key=e,this.keyInfo=n,this.deviceDisplayName=r),i}async dehydrateDevice(){if(this.inProgress){V.log("Dehydration already in progress -- not starting new dehydration");return}this.inProgress=!0,this.timeoutId&&(global.clearTimeout(this.timeoutId),this.timeoutId=void 0);try{const e=Buffer.from(this.crypto.olmDevice.pickleKey),n=await pw(wl(this.key),e,WC);await this.crypto.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],M=>{this.crypto.cryptoStore.storeSecretStorePrivateKey(M,"dehydration",{keyInfo:this.keyInfo,key:n,deviceDisplayName:this.deviceDisplayName,time:Date.now()})}),V.log("Attempting to dehydrate device"),V.log("Creating account");const r=new global.Olm.Account;r.create();const i=JSON.parse(r.identity_keys()),s=r.max_number_of_one_time_keys();r.generate_one_time_keys(s/2),r.generate_fallback_key();const o=JSON.parse(r.one_time_keys()),l=JSON.parse(r.fallback_key());r.mark_keys_as_published();const d=r.pickle(new Uint8Array(this.key)),h={algorithm:WC,account:d};this.keyInfo.passphrase&&(h.passphrase=this.keyInfo.passphrase),V.log("Uploading account to server");const v=(await this.crypto.baseApis.http.authedRequest(jt.Put,"/dehydrated_device",void 0,{device_data:h,initial_device_display_name:this.deviceDisplayName},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})).device_id;V.log("Preparing device keys",v);const w={algorithms:this.crypto.supportedAlgorithms,device_id:v,user_id:this.crypto.userId,keys:{[`ed25519:${v}`]:i.ed25519,[`curve25519:${v}`]:i.curve25519}},E=r.sign(hp.stringify(w));w.signatures={[this.crypto.userId]:{[`ed25519:${v}`]:E}},this.crypto.crossSigningInfo.getId("self_signing")&&await this.crypto.crossSigningInfo.signObject(w,"self_signing"),V.log("Preparing one-time keys");const C={};for(const[M,A]of Object.entries(o.curve25519)){const D={key:A},U=r.sign(hp.stringify(D));D.signatures={[this.crypto.userId]:{[`ed25519:${v}`]:U}},C[`signed_curve25519:${M}`]=D}V.log("Preparing fallback keys");const O={};for(const[M,A]of Object.entries(l.curve25519)){const D={key:A,fallback:!0},U=r.sign(hp.stringify(D));D.signatures={[this.crypto.userId]:{[`ed25519:${v}`]:U}},O[`signed_curve25519:${M}`]=D}return V.log("Uploading keys to server"),await this.crypto.baseApis.http.authedRequest(jt.Post,"/keys/upload/"+encodeURI(v),void 0,{device_keys:w,one_time_keys:C,"org.matrix.msc2732.fallback_keys":O}),V.log("Done dehydrating"),this.timeoutId=global.setTimeout(this.dehydrateDevice.bind(this),sq),v}finally{this.inProgress=!1}}stop(){this.timeoutId&&(global.clearTimeout(this.timeoutId),this.timeoutId=void 0)}}const ehe=200,the=5e3;class Cy{constructor(e,n){this.baseApis=e,this.getKey=n,this.sessionLastCheckAttemptedTime={},this.checkedForBackup=!1,this.sendingBackups=!1}get version(){return this.backupInfo&&this.backupInfo.version}static checkBackupVersion(e){const n=PD[e.algorithm];if(!n)throw new Error("Unknown backup algorithm: "+e.algorithm);if(typeof e.auth_data!="object")throw new Error("Invalid backup data returned");return n.checkBackupVersion(e)}static makeAlgorithm(e,n){const r=PD[e.algorithm];if(!r)throw new Error("Unknown backup algorithm");return r.init(e.auth_data,n)}async enableKeyBackup(e){this.backupInfo=e,this.algorithm&&this.algorithm.free(),this.algorithm=await Cy.makeAlgorithm(e,this.getKey),this.baseApis.emit(ho.KeyBackupStatus,!0),this.scheduleKeyBackupSend()}disableKeyBackup(){this.algorithm&&this.algorithm.free(),this.algorithm=void 0,this.backupInfo=void 0,this.baseApis.emit(ho.KeyBackupStatus,!1)}getKeyBackupEnabled(){return this.checkedForBackup?Boolean(this.algorithm):null}async prepareKeyBackupVersion(e,n){const r=n?PD[n]:ihe;if(!r)throw new Error("Unknown backup algorithm");const[i,s]=await r.prepare(e),o=MJ(i);return{algorithm:r.algorithmName,auth_data:s,recovery_key:o,privateKey:i}}async createKeyBackupVersion(e){this.algorithm=await Cy.makeAlgorithm(e,this.getKey)}async checkAndStart(){if(V.log("Checking key backup status..."),this.baseApis.isGuest())return V.log("Skipping key backup check since user is guest"),this.checkedForBackup=!0,null;let e;try{e=await this.baseApis.getKeyBackupVersion()}catch(r){return V.log("Error checking for active key backup",r),r.httpStatus===404&&(this.checkedForBackup=!0),null}this.checkedForBackup=!0;const n=await this.isKeyBackupTrusted(e);return n.usable&&!this.backupInfo?(V.log("Found usable key backup v"+e.version+": enabling key backups"),await this.enableKeyBackup(e)):!n.usable&&this.backupInfo?(V.log("No usable key backup: disabling key backup"),this.disableKeyBackup()):!n.usable&&!this.backupInfo?V.log("No usable key backup: not enabling key backup"):n.usable&&this.backupInfo&&(e.version!==this.backupInfo.version?(V.log("On backup version "+this.backupInfo.version+" but found version "+e.version+": switching."),this.disableKeyBackup(),await this.enableKeyBackup(e),await this.scheduleAllGroupSessionsForBackup()):V.log("Backup version "+e.version+" still current")),{backupInfo:e,trustInfo:n}}async checkKeyBackup(){return this.checkedForBackup=!1,this.checkAndStart()}async queryKeyBackupRateLimited(e,n){if(!this.backupInfo)return;const r=new Date().getTime();(!this.sessionLastCheckAttemptedTime[n]||r-this.sessionLastCheckAttemptedTime[n]>the)&&(this.sessionLastCheckAttemptedTime[n]=r,await this.baseApis.restoreKeyBackupWithCache(e,n,this.backupInfo,{}))}async isKeyBackupTrusted(e){const n={usable:!1,trusted_locally:!1,sigs:[]};if(!e||!e.algorithm||!e.auth_data||!e.auth_data.signatures)return V.info("Key backup is absent or missing required data"),n;const r=await this.baseApis.crypto.getSessionBackupPrivateKey();if(r){let s;try{s=await Cy.makeAlgorithm(e,async()=>r),await s.keyMatches(r)&&(V.info("Backup is trusted locally"),n.trusted_locally=!0)}catch{}finally{s&&s.free()}}const i=e.auth_data.signatures[this.baseApis.getUserId()]||{};for(const s of Object.keys(i)){const o=s.split(":");if(o[0]!=="ed25519"){V.log("Ignoring unknown signature type: "+o[0]);continue}const l={deviceId:o[1]},d=this.baseApis.crypto.crossSigningInfo.getId();if(d===l.deviceId){l.crossSigningId=!0;try{await H3(this.baseApis.crypto.olmDevice,e.auth_data,this.baseApis.getUserId(),l.deviceId,d),l.valid=!0}catch(f){V.warn("Bad signature from cross signing key "+d,f),l.valid=!1}n.sigs.push(l);continue}const h=this.baseApis.crypto.deviceList.getStoredDevice(this.baseApis.getUserId(),l.deviceId);if(h){l.device=h,l.deviceTrust=this.baseApis.checkDeviceTrust(this.baseApis.getUserId(),l.deviceId);try{await H3(this.baseApis.crypto.olmDevice,e.auth_data,this.baseApis.getUserId(),h.deviceId,h.getFingerprint()),l.valid=!0}catch(f){V.info("Bad signature from key ID "+s+" userID "+this.baseApis.getUserId()+" device ID "+h.deviceId+" fingerprint: "+h.getFingerprint(),e.auth_data,f),l.valid=!1}}else l.valid=null,V.info("Ignoring signature from unknown key "+s);n.sigs.push(l)}return n.usable=n.sigs.some(s=>s.valid&&(s.device&&s.deviceTrust.isVerified()||s.crossSigningId)),n}async scheduleKeyBackupSend(e=1e4){if(!this.sendingBackups){this.sendingBackups=!0;try{const n=Math.random()*e;await N3(n);let r=0;for(;;){if(!this.algorithm)return;try{if(await this.backupPendingKeys(ehe)===0)return;r=0}catch(i){if(r++,V.log("Key backup request failed",i),i.data&&(i.data.errcode=="M_NOT_FOUND"||i.data.errcode=="M_WRONG_ROOM_KEYS_VERSION"))throw await this.checkKeyBackup(),this.baseApis.crypto.emit(ho.KeyBackupFailed,i.data.errcode),i}r&&await N3(1e3*Math.pow(2,Math.min(r-1,4)))}}finally{this.sendingBackups=!1}}}async backupPendingKeys(e){const n=await this.baseApis.crypto.cryptoStore.getSessionsNeedingBackup(e);if(!n.length)return 0;let r=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup();this.baseApis.crypto.emit(ho.KeyBackupSessionsRemaining,r);const i={};for(const s of n){const o=s.sessionData.room_id;i[o]===void 0&&(i[o]={sessions:{}});const l=this.baseApis.crypto.olmDevice.exportInboundGroupSession(s.senderKey,s.sessionId,s.sessionData);l.algorithm=Zl;const d=(l.forwarding_curve25519_key_chain||[]).length,h=this.baseApis.crypto.deviceList.getUserByIdentityKey(Zl,s.senderKey),f=this.baseApis.crypto.deviceList.getDeviceByIdentityKey(Zl,s.senderKey),v=this.baseApis.crypto.checkDeviceInfoTrust(h,f).isVerified();i[o].sessions[s.sessionId]={first_message_index:l.first_known_index,forwarded_count:d,is_verified:v,session_data:await this.algorithm.encryptSession(l)}}return await this.baseApis.sendKeyBackup(void 0,void 0,this.backupInfo.version,{rooms:i}),await this.baseApis.crypto.cryptoStore.unmarkSessionsNeedingBackup(n),r=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup(),this.baseApis.crypto.emit(ho.KeyBackupSessionsRemaining,r),n.length}async backupGroupSession(e,n){await this.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([{senderKey:e,sessionId:n}]),this.backupInfo&&this.scheduleKeyBackupSend()}async scheduleAllGroupSessionsForBackup(){await this.flagAllGroupSessionsForBackup(),this.scheduleKeyBackupSend(0)}async flagAllGroupSessionsForBackup(){await this.baseApis.crypto.cryptoStore.doTxn("readwrite",[ur.STORE_INBOUND_GROUP_SESSIONS,ur.STORE_BACKUP],n=>{this.baseApis.crypto.cryptoStore.getAllEndToEndInboundGroupSessions(n,r=>{r!==null&&this.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([r],n)})});const e=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup();return this.baseApis.emit(ho.KeyBackupSessionsRemaining,e),e}countSessionsNeedingBackup(){return this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup()}}const OJ=class{constructor(t,e,n){this.authData=t,this.publicKey=e,this.getKey=n}static async init(t,e){if(!t||!("public_key"in t))throw new Error("auth_data missing required information");const n=new global.Olm.PkEncryption;return n.set_recipient_key(t.public_key),new OJ(t,n,e)}static async prepare(t){const e=new global.Olm.PkDecryption;try{const n={};if(!t)n.public_key=e.generate_key();else if(t instanceof Uint8Array)n.public_key=e.init_with_private_key(t);else{const i=await RU(t);n.private_key_salt=i.salt,n.private_key_iterations=i.iterations,n.public_key=e.init_with_private_key(i.key)}return new global.Olm.PkEncryption().set_recipient_key(n.public_key),[e.get_private_key(),n]}finally{e.free()}}static checkBackupVersion(t){if(!("public_key"in t.auth_data))throw new Error("Invalid backup data returned")}get untrusted(){return!0}async encryptSession(t){const e=Object.assign({},t);return delete e.session_id,delete e.room_id,delete e.first_known_index,this.publicKey.encrypt(JSON.stringify(e))}async decryptSessions(t){const e=await this.getKey(),n=new global.Olm.PkDecryption;try{if(n.init_with_private_key(e)!==this.authData.public_key)throw{errcode:n8.RESTORE_BACKUP_ERROR_BAD_KEY};const i=[];for(const[s,o]of Object.entries(t))try{const l=JSON.parse(n.decrypt(o.session_data.ephemeral,o.session_data.mac,o.session_data.ciphertext));l.session_id=s,i.push(l)}catch(l){V.log("Failed to decrypt megolm session from backup",l,o)}return i}finally{n.free()}}async keyMatches(t){const e=new global.Olm.PkDecryption;let n;try{n=e.init_with_private_key(t)}finally{e.free()}return n===this.authData.public_key}free(){this.publicKey.free()}};let BI=OJ;BI.algorithmName="m.megolm_backup.v1.curve25519-aes-sha2";function nhe(t){if(window!=null&&window.crypto){const e=new Uint8Array(t);return window.crypto.getRandomValues(e),e}throw new Error("No usable crypto implementation")}const rhe=new js(null,"org.matrix.msc3270.v1.aes-hmac-sha2"),LJ=class{constructor(t,e){this.authData=t,this.key=e}static async init(t,e){if(!t)throw new Error("auth_data missing");const n=await e();if(t.mac){const{mac:r}=await p3(n,t.iv);if(t.mac.replace(/=+$/g,"")!==r.replace(/=+/g,""))throw new Error("Key does not match")}return new LJ(t,n)}static async prepare(t){let e;const n={};if(!t)e=nhe(32);else if(t instanceof Uint8Array)e=new Uint8Array(t);else{const s=await RU(t);n.private_key_salt=s.salt,n.private_key_iterations=s.iterations,e=s.key}const{iv:r,mac:i}=await p3(e);return n.iv=r,n.mac=i,[e,n]}static checkBackupVersion(t){if(!("iv"in t.auth_data&&"mac"in t.auth_data))throw new Error("Invalid backup data returned")}get untrusted(){return!1}encryptSession(t){const e=Object.assign({},t);return delete e.session_id,delete e.room_id,delete e.first_known_index,pw(JSON.stringify(e),this.key,t.session_id)}async decryptSessions(t){const e=[];for(const[n,r]of Object.entries(t))try{const i=JSON.parse(await e8(r.session_data,this.key,n));i.session_id=n,e.push(i)}catch(i){V.log("Failed to decrypt megolm session from backup",i,r)}return e}async keyMatches(t){if(this.authData.mac){const{mac:e}=await p3(t,this.authData.iv);return this.authData.mac.replace(/=+$/g,"")===e.replace(/=+/g,"")}else return!0}free(){this.key.fill(0)}};let p$=LJ;p$.algorithmName=rhe.name;const PD={[BI.algorithmName]:BI,[p$.algorithmName]:p$},ihe=BI,qh=Ac.DeviceVerification,DD={[nx.NAME]:nx,[j3.NAME]:j3,[Ife]:NI,[TJ]:NI};nx.NAME,j3.NAME;function AJ(){return Boolean(global.Olm)}const she=60*60*1e3;var ho=(t=>(t.DeviceVerificationChanged="deviceVerificationChanged",t.UserTrustStatusChanged="userTrustStatusChanged",t.UserCrossSigningUpdated="userCrossSigningUpdated",t.RoomKeyRequest="crypto.roomKeyRequest",t.RoomKeyRequestCancellation="crypto.roomKeyRequestCancellation",t.KeyBackupStatus="crypto.keyBackupStatus",t.KeyBackupFailed="crypto.keyBackupFailed",t.KeyBackupSessionsRemaining="crypto.keyBackupSessionsRemaining",t.KeySignatureUploadFailure="crypto.keySignatureUploadFailure",t.VerificationRequest="crypto.verification.request",t.Warning="crypto.warning",t.WillUpdateDevices="crypto.willUpdateDevices",t.DevicesUpdated="crypto.devicesUpdated",t.KeysChanged="crossSigning.keysChanged",t))(ho||{});class oq extends Do{constructor(e,n,r,i,s,o,l){if(super(),this.baseApis=e,this.userId=n,this.deviceId=r,this.clientStore=i,this.cryptoStore=s,this.roomList=o,this.trustCrossSignedDevices=!0,this.lastOneTimeKeyCheck=null,this.oneTimeKeyCheckInProgress=!1,this.roomEncryptors=new Map,this.roomDecryptors=new Map,this.deviceKeys={},this.globalBlacklistUnverifiedDevices=!1,this.globalErrorOnUnknownDevices=!0,this.receivedRoomKeyRequests=[],this.receivedRoomKeyRequestCancellations=[],this.processingRoomKeyRequests=!1,this.lazyLoadMembers=!1,this.roomDeviceTrackingState={},this.lastNewSessionForced={},this.sendKeyRequestsImmediately=!1,this.onDeviceListUserCrossSigningUpdated=async f=>{if(f===this.userId){const v=this.deviceList.getStoredCrossSigningForUser(f),w=v?v.getId():null,E=this.crossSigningInfo.getId();E&&w&&!(E!==w)?await this.checkOwnCrossSigningTrust():(this.storeTrustedSelfKeys(null),this.emit("crossSigning.keysChanged",{}),this.emit("userTrustStatusChanged",this.userId,this.checkUserTrust(f)))}else{await this.checkDeviceVerifications(f);const v=this.deviceList.getStoredCrossSigningForUser(f);v&&(v.updateCrossSigningVerifiedBefore(this.checkUserTrust(f).isCrossSigningVerified()),this.deviceList.setRawStoredCrossSigningForUser(f,v.toStorage())),this.emit("userTrustStatusChanged",f,this.checkUserTrust(f))}},this.onMembership=(f,v,w)=>{try{this.onRoomMembership(f,v,w)}catch(E){V.error("Error handling membership change:",E)}},this.onToDeviceEvent=f=>{try{V.log(`received to_device ${f.getType()} from: ${f.getSender()} id: ${f.getId()}`),f.getType()=="m.room_key"||f.getType()=="m.forwarded_room_key"?this.onRoomKeyEvent(f):f.getType()=="m.room_key_request"?this.onRoomKeyRequestEvent(f):f.getType()==="m.secret.request"?this.secretStorage.onRequestReceived(f):f.getType()==="m.secret.send"?this.secretStorage.onSecretReceived(f):f.getType()==="m.room_key.withheld"?this.onRoomKeyWithheldEvent(f):f.getContent().transaction_id?this.onKeyVerificationMessage(f):f.getContent().msgtype==="m.bad.encrypted"?this.onToDeviceBadEncrypted(f):(f.isBeingDecrypted()||f.shouldAttemptDecryption())&&(f.isBeingDecrypted()||f.attemptDecryption(this),f.once(Qi.Decrypted,v=>{this.onToDeviceEvent(v)}))}catch(v){V.error("Error handling toDeviceEvent:",v)}},this.onTimelineEvent=(f,v,w,E,{liveEvent:C=!0}={})=>{if(!Ua.validateEvent(f,this.baseApis))return;const O=M=>{const A=new Ua(this.baseApis,M.getRoomId());return new cy(A,this.verificationMethods,this.baseApis)};this.handleVerificationEvent(f,this.inRoomVerificationRequests,O,C)},this.reEmitter=new hw(this),l){this.verificationMethods=new Map;for(const f of l)typeof f=="string"?DD[f]&&this.verificationMethods.set(f,DD[f]):f.NAME?this.verificationMethods.set(f.NAME,f):V.warn(`Excluding unknown verification method ${f}`)}else this.verificationMethods=new Map(Object.entries(DD));this.backupManager=new Cy(e,async()=>{const f=await this.getSessionBackupPrivateKey();if(f)return f;const v=await this.getSecret("m.megolm_backup.v1");if(v){const w=YC(v);if(w){const[E]=await this.getSecretStorageKey();await this.storeSecret("m.megolm_backup.v1",w,[E])}return za(w||v)}if(this.baseApis.cryptoCallbacks&&this.baseApis.cryptoCallbacks.getBackupKey)return this.baseApis.cryptoCallbacks.getBackupKey();throw new Error("Unable to get private key")}),this.olmDevice=new Vz(s),this.deviceList=new yfe(e,s,this.olmDevice),this.deviceList.on("userCrossSigningUpdated",this.onDeviceListUserCrossSigningUpdated),this.reEmitter.reEmit(this.deviceList,["crypto.devicesUpdated","crypto.willUpdateDevices"]),this.supportedAlgorithms=Array.from(o$.keys()),this.outgoingRoomKeyRequestManager=new ife(e,this.deviceId,this.cryptoStore),this.toDeviceVerificationRequests=new Jfe,this.inRoomVerificationRequests=new Zfe;const d=this.baseApis.cryptoCallbacks||{},h=xJ(s,this.olmDevice);this.crossSigningInfo=new od(n,d,h),this.secretStorage=new LD(e,d,e),this.dehydrationManager=new Qfe(this),!d.getCrossSigningKey&&d.getSecretStorageKey&&(d.getCrossSigningKey=async f=>od.getFromSecretStorage(f,this.secretStorage))}static getOlmVersion(){return Vz.getOlmVersion()}async init({exportedOlmDevice:e,pickleKey:n}={}){V.log("Crypto: initialising Olm..."),await global.Olm.init(),V.log(e?"Crypto: initialising Olm device from exported device...":"Crypto: initialising Olm device..."),await this.olmDevice.init({fromExportedDevice:e,pickleKey:n}),V.log("Crypto: loading device list..."),await this.deviceList.load(),this.deviceKeys["ed25519:"+this.deviceId]=this.olmDevice.deviceEd25519Key,this.deviceKeys["curve25519:"+this.deviceId]=this.olmDevice.deviceCurve25519Key,V.log("Crypto: fetching own devices...");let r=this.deviceList.getRawStoredDevicesForUser(this.userId);if(r||(r={}),!r[this.deviceId]){V.log("Crypto: adding this device to the store...");const i={keys:this.deviceKeys,algorithms:this.supportedAlgorithms,verified:qh.VERIFIED,known:!0};r[this.deviceId]=i,this.deviceList.storeDevicesForUser(this.userId,r),this.deviceList.saveIfDirty()}await this.cryptoStore.doTxn("readonly",[ur.STORE_ACCOUNT],i=>{this.cryptoStore.getCrossSigningKeys(i,s=>{s&&Object.keys(s).length!==0&&(V.log("Loaded cross-signing public keys from crypto store"),this.crossSigningInfo.setKeys(s))})}),this.deviceList.startTrackingDeviceList(this.userId),V.log("Crypto: checking for key backup..."),this.backupManager.checkAndStart()}getCryptoTrustCrossSignedDevices(){return this.trustCrossSignedDevices}setCryptoTrustCrossSignedDevices(e){this.trustCrossSignedDevices=e;for(const n of this.deviceList.getKnownUserIds()){const r=this.deviceList.getRawStoredDevicesForUser(n);for(const i of Object.keys(r)){const s=this.checkDeviceTrust(n,i);if(!s.isLocallyVerified()&&s.isCrossSigningVerified()){const o=this.deviceList.getStoredDevice(n,i);this.emit("deviceVerificationChanged",n,i,o)}}}}async createRecoveryKeyFromPassphrase(e){const n=new global.Olm.PkDecryption;try{const r={};if(e){const o=await RU(e);r.passphrase={algorithm:"m.pbkdf2",iterations:o.iterations,salt:o.salt},r.pubkey=n.init_with_private_key(o.key)}else r.pubkey=n.generate_key();const i=n.get_private_key(),s=MJ(i);return{keyInfo:r,encodedPrivateKey:s,privateKey:i}}finally{n&&n.free()}}async isCrossSigningReady(){const e=this.crossSigningInfo.getId(),n=await this.crossSigningInfo.isStoredInKeyCache()||await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage);return!!(e&&n)}async isSecretStorageReady(){const e=await this.secretStorage.hasKey(),n=await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage),r=!this.backupManager.getKeyBackupEnabled()||await this.baseApis.isKeyBackupKeyStored();return!!(e&&n&&r)}async bootstrapCrossSigning({authUploadDeviceSigningKeys:e,setupNewCrossSigning:n}={}){V.log("Bootstrapping cross-signing");const r=this.baseApis.cryptoCallbacks,i=new Wz(this.baseApis.store.accountData,r),s=new od(this.userId,i.crossSigningCallbacks,i.crossSigningCallbacks),o=async()=>{s.resetKeys(),await this.signObject(s.keys.master),i.addCrossSigningKeys(e,s.keys);const E=this.deviceList.getStoredDevice(this.userId,this.deviceId),C=await s.signDevice(this.userId,E);i.addKeySignature(this.userId,this.deviceId,C),this.backupManager.backupInfo&&(await s.signObject(this.backupManager.backupInfo.auth_data,"master"),i.addSessionBackup(this.backupManager.backupInfo))},l=this.crossSigningInfo.getId(),d=await this.crossSigningInfo.isStoredInKeyCache(),h=await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage),f=d||h;V.log({setupNewCrossSigning:n,publicKeysOnDevice:l,privateKeysInCache:d,privateKeysInStorage:h,privateKeysExistSomewhere:f}),!f||n?(V.log("Cross-signing private keys not found locally or in secret storage, creating new keys"),await o()):l&&d?V.log("Cross-signing public keys trusted and private keys found locally"):h&&(V.log("Cross-signing private keys not found locally, but they are available in secret storage, reading storage and caching locally"),await this.checkOwnCrossSigningTrust({allowPrivateKeyRequests:!0}));const v=i.crossSigningCallbacks.privateKeys;if(v.size&&!this.baseApis.cryptoCallbacks.saveCrossSigningKeys){const E=new LD(i.accountDataClientAdapter,i.ssssCryptoCallbacks);await E.hasKey()&&(V.log("Storing new cross-signing private keys in secret storage"),await od.storeInSecretStorage(v,E))}await i.buildOperation().apply(this),await i.persist(this),V.log("Cross-signing ready")}async bootstrapSecretStorage({createSecretStorageKey:e=async()=>({}),keyBackupInfo:n,setupNewKeyBackup:r,setupNewSecretStorage:i,getKeyBackupPassphrase:s}={}){V.log("Bootstrapping Secure Secret Storage");const o=this.baseApis.cryptoCallbacks,l=new Wz(this.baseApis.store.accountData,o),d=new LD(l.accountDataClientAdapter,l.ssssCryptoCallbacks);let h=null;const f=async(U,R)=>{R&&(U.key=R);const{keyId:X,keyInfo:H}=await d.addKey(ep,U);return R&&l.ssssCryptoCallbacks.addPrivateKey(X,H,R),await d.setDefaultKeyId(X),X},v=async(U,R)=>{if(!R.mac){const X=await this.baseApis.cryptoCallbacks.getSecretStorageKey({keys:{[U]:R}},"");if(X){const H=X[1];l.ssssCryptoCallbacks.addPrivateKey(U,R,H);const{iv:K,mac:W}=await p3(H);R.iv=K,R.mac=W,await l.setAccountData(`m.secret_storage.key.${U}`,R)}}},w=async U=>{if(this.crossSigningInfo.getId()&&await this.crossSigningInfo.isStoredInKeyCache("master"))try{V.log("Adding cross-signing signature to key backup"),await this.crossSigningInfo.signObject(U,"master")}catch(R){V.error("Signing key backup with cross-signing keys failed",R)}else V.warn("Cross-signing keys not available, skipping signature on key backup")},E=await this.getSecretStorageKey(),[C,O]=E||[null,null],M=!i&&O&&O.algorithm===ep;if(V.log({keyBackupInfo:n,setupNewKeyBackup:r,setupNewSecretStorage:i,storageExists:M,oldKeyInfo:O}),!M&&!n){V.log("Secret storage does not exist, creating new storage key");const{keyInfo:U={},privateKey:R}=await e();h=await f(U,R)}else if(!M&&n){V.log("Secret storage does not exist, using key backup key");const U=await this.getSessionBackupPrivateKey()||await s(),R={};n.auth_data.private_key_salt&&n.auth_data.private_key_iterations&&(R.passphrase={algorithm:"m.pbkdf2",iterations:n.auth_data.private_key_iterations,salt:n.auth_data.private_key_salt,bits:256}),h=await f(R,U),await d.store("m.megolm_backup.v1",wl(U),[h]),await w(n.auth_data),l.addSessionBackup(n)}else V.log("Secret storage exists"),O&&O.algorithm===ep&&await v(C,O);if(!this.baseApis.cryptoCallbacks.saveCrossSigningKeys&&await this.isCrossSigningReady()&&(h||!await this.crossSigningInfo.isStoredInSecretStorage(d))){V.log("Copying cross-signing private keys from cache to secret storage");const U=await this.crossSigningInfo.getCrossSigningKeysFromCache();await od.storeInSecretStorage(U,d)}if(r&&!n){V.log("Creating new message key backup version");const U=await this.baseApis.prepareKeyBackupVersion(null,{secureSecretStorage:!1}),R=GC(U.recovery_key);await d.store("m.megolm_backup.v1",wl(R));const X={algorithm:U.algorithm,auth_data:U.auth_data};await w(X.auth_data),await this.signObject(X.auth_data),l.addSessionBackup(X)}const A=await d.get("m.megolm_backup.v1");if(A){V.info("Got session backup key from secret storage: caching");const U=YC(A);U&&await d.store("m.megolm_backup.v1",U,[h||C]);const R=new Uint8Array(za(U||A));l.addSessionBackupPrivateKeyToCache(R)}else if(this.backupManager.getKeyBackupEnabled()){const U=await this.getSessionBackupPrivateKey()||await s();if(!U){V.error("Key backup is enabled but couldn't get key backup key!");return}V.info("Got session backup key from cache/user that wasn't in SSSS: saving to SSSS"),await d.store("m.megolm_backup.v1",wl(U))}await l.buildOperation().apply(this),await l.persist(this),V.log("Secure Secret Storage ready")}addSecretStorageKey(e,n,r){return this.secretStorage.addKey(e,n,r)}hasSecretStorageKey(e){return this.secretStorage.hasKey(e)}getSecretStorageKey(e){return this.secretStorage.getKey(e)}storeSecret(e,n,r){return this.secretStorage.store(e,n,r)}getSecret(e){return this.secretStorage.get(e)}isSecretStored(e){return this.secretStorage.isStored(e)}requestSecret(e,n){return n||(n=Object.keys(this.deviceList.getRawStoredDevicesForUser(this.userId))),this.secretStorage.request(e,n)}getDefaultSecretStorageKeyId(){return this.secretStorage.getDefaultKeyId()}setDefaultSecretStorageKeyId(e){return this.secretStorage.setDefaultKeyId(e)}checkSecretStorageKey(e,n){return this.secretStorage.checkKey(e,n)}checkSecretStoragePrivateKey(e,n){let r=null;try{return r=new global.Olm.PkDecryption,r.init_with_private_key(e)===n}finally{r&&r.free()}}async getSessionBackupPrivateKey(){let e=await new Promise(n=>{this.cryptoStore.doTxn("readonly",[ur.STORE_ACCOUNT],r=>{this.cryptoStore.getSecretStorePrivateKey(r,n,"m.megolm_backup.v1")})});if(e&&typeof e=="string"&&(e=new Uint8Array(za(YC(e)||e)),await this.storeSessionBackupPrivateKey(e)),e&&e.ciphertext){const n=Buffer.from(this.olmDevice.pickleKey),r=await e8(e,n,"m.megolm_backup.v1");e=za(r)}return e}async storeSessionBackupPrivateKey(e){if(!(e instanceof Uint8Array))throw new Error(`storeSessionBackupPrivateKey expects Uint8Array, got ${e}`);const n=Buffer.from(this.olmDevice.pickleKey),r=await pw(wl(e),n,"m.megolm_backup.v1");return this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],i=>{this.cryptoStore.storeSecretStorePrivateKey(i,"m.megolm_backup.v1",r)})}checkCrossSigningPrivateKey(e,n){let r=null;try{return r=new global.Olm.PkSigning,r.init_with_seed(e)===n}finally{r&&r.free()}}async afterCrossSigningLocalKeyChange(){V.info("Starting cross-signing key change post-processing");const e=this.deviceList.getStoredDevice(this.userId,this.deviceId),n=await this.crossSigningInfo.signDevice(this.userId,e);V.info(`Starting background key sig upload for ${this.deviceId}`);const r=({shouldEmit:s=!1})=>this.baseApis.uploadKeySignatures({[this.userId]:{[this.deviceId]:n}}).then(o=>{const{failures:l}=o||{};if(Object.keys(l||[]).length>0)throw s&&this.baseApis.emit("crypto.keySignatureUploadFailure",l,"afterCrossSigningLocalKeyChange",r),new eS("Key upload failed",{failures:l});V.info(`Finished background key sig upload for ${this.deviceId}`)}).catch(o=>{V.error(`Error during background key sig upload for ${this.deviceId}`,o)});r({shouldEmit:!0});const i=this.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications;if(i){V.info("Starting device verification upgrade");const s={};for(const[o,l]of Object.entries(this.deviceList.crossSigningInfo)){const d=await this.checkForDeviceVerificationUpgrade(o,od.fromStorage(l,o));d&&(s[o]=d)}if(Object.keys(s).length>0){V.info(`Found ${Object.keys(s).length} verif users to upgrade`);try{const o=await i({users:s});if(o)for(const l of o)l in s&&await this.baseApis.setDeviceVerified(l,s[l].crossSigningInfo.getId())}catch(o){V.log("shouldUpgradeDeviceVerifications threw an error: not upgrading",o)}}V.info("Finished device verification upgrade")}V.info("Finished cross-signing key change post-processing")}async checkForDeviceVerificationUpgrade(e,n){const r=this.crossSigningInfo.checkUserTrust(n);if(n.firstUse&&!r.isVerified()){const i=this.deviceList.getRawStoredDevicesForUser(e),s=await this.checkForValidDeviceSignature(e,n.keys.master,i);if(s.length)return{devices:s.map(o=>Ac.fromStorage(i[o],o)),crossSigningInfo:n}}}async checkForValidDeviceSignature(e,n,r){const i=[];if(r&&n.signatures&&n.signatures[e])for(const s of Object.keys(n.signatures[e])){const[,o]=s.split(":",2);if(o in r&&r[o].verified===qh.VERIFIED)try{await H3(this.olmDevice,n,e,o,r[o].keys[s]),i.push(o)}catch{}}return i}getCrossSigningId(e){return this.crossSigningInfo.getId(e)}getStoredCrossSigningForUser(e){return this.deviceList.getStoredCrossSigningForUser(e)}checkUserTrust(e){const n=this.deviceList.getStoredCrossSigningForUser(e);return n?this.crossSigningInfo.checkUserTrust(n):new qC(!1,!1,!1)}checkDeviceTrust(e,n){const r=this.deviceList.getStoredDevice(e,n);return this.checkDeviceInfoTrust(e,r)}checkDeviceInfoTrust(e,n){const r=!!(n&&n.isVerified()),i=this.deviceList.getStoredCrossSigningForUser(e);if(n&&i){const s=this.trustCrossSignedDevices||e===this.userId;return this.crossSigningInfo.checkDeviceTrust(i,n,r,s)}else return new g3(!1,!1,r,!1)}checkIfOwnDeviceCrossSigned(e){const n=this.deviceList.getStoredDevice(this.userId,e),r=this.deviceList.getStoredCrossSigningForUser(this.userId);return r.checkDeviceTrust(r,n,!1,!0).isCrossSigningVerified()}async checkOwnCrossSigningTrust({allowPrivateKeyRequests:e=!1}={}){const n=this.userId;await this.downloadKeys([this.userId]);const r=await this.crossSigningInfo.getCrossSigningKeysFromCache(),i=this.deviceList.getStoredCrossSigningForUser(n);if(!i){V.error("Got cross-signing update event for user "+n+" but no new cross-signing information found!");return}const s=i.getId(),o=this.crossSigningInfo.getId()!==s,l=i.getId()&&!r.has("master");if(o&&V.info("Got new master public key",s),e&&(o||l)){V.info("Attempting to retrieve cross-signing master private key");let M=null;try{M=(await this.crossSigningInfo.getCrossSigningKey("master",s))[1],V.info("Got cross-signing master private key")}finally{M&&M.free()}}const d=this.crossSigningInfo.getId("self_signing"),h=this.crossSigningInfo.getId("user_signing");this.storeTrustedSelfKeys(i.keys);const f=d!==i.getId("self_signing"),v=h!==i.getId("user_signing"),w=i.getId("self_signing")&&!r.has("self_signing"),E=i.getId("user_signing")&&!r.has("user_signing"),C={};if(f&&V.info("Got new self-signing key",i.getId("self_signing")),e&&(f||w)){V.info("Attempting to retrieve cross-signing self-signing private key");let M=null;try{M=(await this.crossSigningInfo.getCrossSigningKey("self_signing",i.getId("self_signing")))[1],V.info("Got cross-signing self-signing private key")}finally{M&&M.free()}const A=this.deviceList.getStoredDevice(this.userId,this.deviceId),D=await this.crossSigningInfo.signDevice(this.userId,A);C[this.deviceId]=D}if(v&&V.info("Got new user-signing key",i.getId("user_signing")),e&&(v||E)){V.info("Attempting to retrieve cross-signing user-signing private key");let M=null;try{M=(await this.crossSigningInfo.getCrossSigningKey("user_signing",i.getId("user_signing")))[1],V.info("Got cross-signing user-signing private key")}finally{M&&M.free()}}if(o){const M=this.crossSigningInfo.keys.master;await this.signObject(M);const A=M.signatures[this.userId]["ed25519:"+this.deviceId];C[this.crossSigningInfo.getId()]=Object.assign({},M,{signatures:{[this.userId]:{["ed25519:"+this.deviceId]:A}}})}const O=Object.keys(C);if(O.length){const M=({shouldEmit:A=!1})=>(V.info(`Starting background key sig upload for ${O}`),this.baseApis.uploadKeySignatures({[this.userId]:C}).then(D=>{const{failures:U}=D||{};if(V.info(`Finished background key sig upload for ${O}`),Object.keys(U||[]).length>0)throw A&&this.baseApis.emit("crypto.keySignatureUploadFailure",U,"checkOwnCrossSigningTrust",M),new eS("Key upload failed",{failures:U})}).catch(D=>{V.error(`Error during background key sig upload for ${O}`,D)}));M({shouldEmit:!0})}this.emit("userTrustStatusChanged",n,this.checkUserTrust(n)),o&&(this.emit("crossSigning.keysChanged",{}),await this.afterCrossSigningLocalKeyChange()),await this.backupManager.checkKeyBackup()}async storeTrustedSelfKeys(e){e?this.crossSigningInfo.setKeys(e):this.crossSigningInfo.clearKeys(),await this.cryptoStore.doTxn("readwrite",[ur.STORE_ACCOUNT],n=>{this.cryptoStore.storeCrossSigningKeys(n,this.crossSigningInfo.keys)})}async checkDeviceVerifications(e){const n=this.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications;if(!!n){if(V.info(`Starting device verification upgrade for ${e}`),this.crossSigningInfo.keys.user_signing){const r=this.deviceList.getStoredCrossSigningForUser(e);if(r){const i=await this.checkForDeviceVerificationUpgrade(e,r);i&&(await n({users:{[e]:i}})).includes(e)&&await this.baseApis.setDeviceVerified(e,r.getId())}}V.info(`Finished device verification upgrade for ${e}`)}}enableLazyLoading(){this.lazyLoadMembers=!0}registerEventHandlers(e){e.on(Mc.Membership,this.onMembership),e.on(sr.ToDeviceEvent,this.onToDeviceEvent),e.on(Gr.Timeline,this.onTimelineEvent),e.on(Qi.Decrypted,this.onTimelineEvent)}start(){this.outgoingRoomKeyRequestManager.start()}stop(){this.outgoingRoomKeyRequestManager.stop(),this.deviceList.stop(),this.dehydrationManager.stop()}getDeviceEd25519Key(){return this.olmDevice.deviceEd25519Key}getDeviceCurve25519Key(){return this.olmDevice.deviceCurve25519Key}setGlobalBlacklistUnverifiedDevices(e){this.globalBlacklistUnverifiedDevices=e}getGlobalBlacklistUnverifiedDevices(){return this.globalBlacklistUnverifiedDevices}setGlobalErrorOnUnknownDevices(e){this.globalErrorOnUnknownDevices=e}getGlobalErrorOnUnknownDevices(){return this.globalErrorOnUnknownDevices}uploadDeviceKeys(){const e={algorithms:this.supportedAlgorithms,device_id:this.deviceId,keys:this.deviceKeys,user_id:this.userId};return this.signObject(e).then(()=>this.baseApis.uploadKeysRequest({device_keys:e}))}updateOneTimeKeyCount(e){if(isFinite(e))this.oneTimeKeyCount=e;else throw new TypeError("Parameter for updateOneTimeKeyCount has to be a number")}setNeedsNewFallback(e){this.needsNewFallback=!!e}getNeedsNewFallback(){return this.needsNewFallback}maybeUploadOneTimeKeys(){if(this.oneTimeKeyCheckInProgress)return;const r=Date.now();if(this.lastOneTimeKeyCheck!==null&&r-this.lastOneTimeKeyCheck<6e4)return;this.lastOneTimeKeyCheck=r;const i=this.olmDevice.maxNumberOfOneTimeKeys(),s=Math.floor(i/2),o=async l=>{for(;s>l||this.getNeedsNewFallback();){if(s>l){V.info("generating oneTimeKeys");const h=Math.min(s-l,5);await this.olmDevice.generateOneTimeKeys(h)}if(this.getNeedsNewFallback()){const h=await this.olmDevice.getFallbackKey();(!h.curve25519||Object.keys(h.curve25519).length==0)&&(V.info("generating fallback key"),this.fallbackCleanup&&(clearTimeout(this.fallbackCleanup),delete this.fallbackCleanup),await this.olmDevice.generateFallbackKey())}V.info("calling uploadOneTimeKeys");const d=await this.uploadOneTimeKeys();if(d.one_time_key_counts&&d.one_time_key_counts.signed_curve25519)l=d.one_time_key_counts.signed_curve25519;else throw new Error("response for uploading keys does not contain one_time_key_counts.signed_curve25519")}};this.oneTimeKeyCheckInProgress=!0,Promise.resolve().then(()=>this.oneTimeKeyCount!==void 0?Promise.resolve(this.oneTimeKeyCount):this.baseApis.uploadKeysRequest({}).then(l=>l.one_time_key_counts.signed_curve25519||0)).then(l=>o(l)).catch(l=>{V.error("Error uploading one-time keys",l.stack||l)}).finally(()=>{this.oneTimeKeyCount=void 0,this.oneTimeKeyCheckInProgress=!1})}async uploadOneTimeKeys(){const e=[];let n;if(this.getNeedsNewFallback()){n={};const l=await this.olmDevice.getFallbackKey();for(const[d,h]of Object.entries(l.curve25519)){const f={key:h,fallback:!0};n["signed_curve25519:"+d]=f,e.push(this.signObject(f))}this.setNeedsNewFallback(!1)}const r=await this.olmDevice.getOneTimeKeys(),i={};for(const l in r.curve25519)if(r.curve25519.hasOwnProperty(l)){const d={key:r.curve25519[l]};i["signed_curve25519:"+l]=d,e.push(this.signObject(d))}await Promise.all(e);const s={one_time_keys:i};n&&(s["org.matrix.msc2732.fallback_keys"]=n,s.fallback_keys=n);const o=await this.baseApis.uploadKeysRequest(s);return n&&(this.fallbackCleanup=setTimeout(()=>{delete this.fallbackCleanup,this.olmDevice.forgetOldFallbackKey()},60*60*1e3)),await this.olmDevice.markKeysAsPublished(),o}downloadKeys(e,n){return this.deviceList.downloadKeys(e,n)}getStoredDevicesForUser(e){return this.deviceList.getStoredDevicesForUser(e)}getStoredDevice(e,n){return this.deviceList.getStoredDevice(e,n)}saveDeviceList(e){return this.deviceList.saveIfDirty(e)}async setDeviceVerification(e,n,r,i,s,o){r===void 0&&(r=null),i===void 0&&(i=null),s===void 0&&(s=null);const l=this.deviceList.getStoredCrossSigningForUser(e);if(l&&l.getId()===n){if(i!==null||s!==null)throw new Error("Cannot set blocked or known for a cross-signing key");if(!r)throw new Error("Cannot set a cross-signing key as unverified");const E=o?Object.values(o)[0]:null;if(o&&(Object.values(o).length!==1||E!==l.getId()))throw new Error(`Key did not match expected value: expected ${l.getId()}, got ${E}`);if(!this.crossSigningInfo.getId()&&e===this.crossSigningInfo.userId&&(this.storeTrustedSelfKeys(l.keys),this.emit("userTrustStatusChanged",this.userId,this.checkUserTrust(e))),e!==this.userId){V.info("Master key "+l.getId()+" for "+e+" marked verified. Signing...");const C=await this.crossSigningInfo.signUser(l);if(C){const O=async({shouldEmit:M=!1})=>{V.info("Uploading signature for "+e+"...");const A=await this.baseApis.uploadKeySignatures({[e]:{[n]:C}}),{failures:D}=A||{};if(Object.keys(D||[]).length>0)throw M&&this.baseApis.emit("crypto.keySignatureUploadFailure",D,"setDeviceVerification",O),new eS("Key upload failed",{failures:D})};await O({shouldEmit:!0})}return C}else return l}const d=this.deviceList.getRawStoredDevicesForUser(e);if(!d||!d[n])throw new Error("Unknown device "+e+":"+n);const h=d[n];let f=h.verified;if(r){if(o){for(const[E,C]of Object.entries(o))if(h.keys[E]!==C)throw new Error(`Key did not match expected value: expected ${C}, got ${h.keys[E]}`)}f=qh.VERIFIED}else r!==null&&f==qh.VERIFIED&&(f=qh.UNVERIFIED);i?f=qh.BLOCKED:i!==null&&f==qh.BLOCKED&&(f=qh.UNVERIFIED);let v=h.known;if(s!==null&&(v=s),(h.verified!==f||h.known!==v)&&(h.verified=f,h.known=v,this.deviceList.storeDevicesForUser(e,d),this.deviceList.saveIfDirty()),r&&e===this.userId){V.info("Own device "+n+" marked verified: signing");let E;if(this.checkDeviceTrust(e,n).isCrossSigningVerified()?V.log(`Own device ${n} already cross-signing verified`):E=await this.crossSigningInfo.signDevice(e,Ac.fromStorage(h,n)),E){const O=async({shouldEmit:M=!1})=>{V.info("Uploading signature for "+n);const A=await this.baseApis.uploadKeySignatures({[e]:{[n]:E}}),{failures:D}=A||{};if(Object.keys(D||[]).length>0)throw M&&this.baseApis.emit("crypto.keySignatureUploadFailure",D,"setDeviceVerification",O),new eS("Key upload failed",{failures:D})};await O({shouldEmit:!0})}}const w=Ac.fromStorage(h,n);return this.emit("deviceVerificationChanged",e,n,w),w}findVerificationRequestDMInProgress(e){return this.inRoomVerificationRequests.findRequestInProgress(e)}getVerificationRequestsToDeviceInProgress(e){return this.toDeviceVerificationRequests.getRequestsInProgress(e)}requestVerificationDM(e,n){const r=this.inRoomVerificationRequests.findRequestInProgress(n);if(r)return Promise.resolve(r);const i=new Ua(this.baseApis,n,e);return this.requestVerificationWithChannel(e,i,this.inRoomVerificationRequests)}requestVerification(e,n){n||(n=Object.keys(this.deviceList.getRawStoredDevicesForUser(e)));const r=this.toDeviceVerificationRequests.findRequestInProgress(e,n);if(r)return Promise.resolve(r);const i=new $a(this.baseApis,e,n,$a.makeTransactionId());return this.requestVerificationWithChannel(e,i,this.toDeviceVerificationRequests)}async requestVerificationWithChannel(e,n,r){let i=new cy(n,this.verificationMethods,this.baseApis);n.transactionId&&r.setRequestByChannel(n,i),await i.sendRequest();const s=r.getRequestByChannel(n);return s?i=s:(V.log(`Crypto: adding new request to requestsByTxnId with id ${n.transactionId} ${n.roomId}`),r.setRequestByChannel(n,i)),i}beginKeyVerification(e,n,r,i=null){let s;if(i){if(s=this.toDeviceVerificationRequests.getRequestBySenderAndTxnId(n,i),!s)throw new Error(`No request found for user ${n} with transactionId ${i}`)}else{i=$a.makeTransactionId();const o=new $a(this.baseApis,n,[r],i,r);s=new cy(o,this.verificationMethods,this.baseApis),this.toDeviceVerificationRequests.setRequestBySenderAndTxnId(n,i,s)}return s.beginKeyVerification(e,{userId:n,deviceId:r})}async legacyDeviceVerification(e,n,r){const i=$a.makeTransactionId(),s=new $a(this.baseApis,e,[n],i,n),o=new cy(s,this.verificationMethods,this.baseApis);this.toDeviceVerificationRequests.setRequestBySenderAndTxnId(e,i,o);const l=o.beginKeyVerification(r,{userId:e,deviceId:n});return await Promise.race([l.verify(),o.waitFor(d=>d.started)]),o}async getOlmSessionsForUser(e){const n=this.getStoredDevicesForUser(e)||[],r={};for(let i=0;i<n.length;++i){const s=n[i],o=s.getIdentityKey(),l=await this.olmDevice.getSessionInfoForDevice(o);r[s.deviceId]={deviceIdKey:o,sessions:l}}return r}getEventSenderDeviceInfo(e){const n=e.getSenderKey(),r=e.getWireContent().algorithm;if(!n||!r||e.isKeySourceUntrusted())return null;const i=this.deviceList.getDeviceByIdentityKey(r,n);if(i===null)return null;const s=e.getClaimedEd25519Key();return s?s!==i.getFingerprint()?(V.warn("Event "+e.getId()+" claims ed25519 key "+s+" but sender device has key "+i.getFingerprint()),null):i:(V.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),null)}getEventEncryptionInfo(e){const n={};if(n.senderKey=e.getSenderKey(),n.algorithm=e.getWireContent().algorithm,!n.senderKey||!n.algorithm)return n.encrypted=!1,n;n.encrypted=!0,e.isKeySourceUntrusted()?n.authenticated=!1:n.authenticated=!0,n.sender=this.deviceList.getDeviceByIdentityKey(n.algorithm,n.senderKey);const r=e.getClaimedEd25519Key();return r||(V.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),n.mismatchedSender=!0),n.sender&&r!==n.sender.getFingerprint()&&(V.warn("Event "+e.getId()+" claims ed25519 key "+r+"but sender device has key "+n.sender.getFingerprint()),n.mismatchedSender=!0),n}forceDiscardSession(e){const n=this.roomEncryptors.get(e);if(n===void 0)throw new Error("Room not encrypted");if(n.forceDiscardSession===void 0)throw new Error("Room encryption algorithm doesn't support session discarding");n.forceDiscardSession()}async setRoomEncryption(e,n,r){if(!n.algorithm){V.log("Ignoring setRoomEncryption with no algorithm");return}const i=this.roomList.getRoomEncryption(e);if(i&&JSON.stringify(i)!=JSON.stringify(n)){V.error("Ignoring m.room.encryption event which requests a change of config in "+e);return}if(this.roomEncryptors.get(e))return;let o=null;i||(o=this.roomList.setRoomEncryption(e,n));const l=yJ.get(n.algorithm);if(!l)throw new Error("Unable to encrypt with "+n.algorithm);const d=new l({userId:this.userId,deviceId:this.deviceId,crypto:this,olmDevice:this.olmDevice,baseApis:this.baseApis,roomId:e,config:n});this.roomEncryptors.set(e,d),o&&await o,this.lazyLoadMembers?V.log("Enabling encryption in "+e):(V.log("Enabling encryption in "+e+"; starting to track device lists for all users therein"),await this.trackRoomDevices(e),r||this.deviceList.refreshOutdatedDeviceLists())}trackRoomDevices(e){const n=async()=>{if(!this.roomEncryptors.has(e))return;const i=this.clientStore.getRoom(e);if(!i)throw new Error(`Unable to start tracking devices in unknown room ${e}`);V.log(`Starting to track devices for room ${e} ...`),(await i.getEncryptionTargetMembers()).forEach(o=>{this.deviceList.startTrackingDeviceList(o.userId)})};let r=this.roomDeviceTrackingState[e];return r||(r=n(),this.roomDeviceTrackingState[e]=r.catch(i=>{throw this.roomDeviceTrackingState[e]=null,i})),r}ensureOlmSessionsForUsers(e,n){const r={};for(let i=0;i<e.length;++i){const s=e[i];r[s]=[];const o=this.getStoredDevicesForUser(s)||[];for(let l=0;l<o.length;++l){const d=o[l];d.getIdentityKey()!=this.olmDevice.deviceCurve25519Key&&d.verified!=qh.BLOCKED&&r[s].push(d)}}return pp(this.olmDevice,this.baseApis,r,n)}async exportRoomKeys(){const e=[];return await this.cryptoStore.doTxn("readonly",[ur.STORE_INBOUND_GROUP_SESSIONS],n=>{this.cryptoStore.getAllEndToEndInboundGroupSessions(n,r=>{if(r===null)return;const i=this.olmDevice.exportInboundGroupSession(r.senderKey,r.sessionId,r.sessionData);delete i.first_known_index,i.algorithm=Zl,e.push(i)})}),e}importRoomKeys(e,n={}){let r=0,i=0;const s=e.length;function o(){n.progressCallback({stage:"load_keys",successes:r,failures:i,total:s})}return Promise.all(e.map(l=>!l.room_id||!l.algorithm?(V.warn("ignoring room key entry with missing fields",l),i++,n.progressCallback&&o(),null):this.getRoomDecryptor(l.room_id,l.algorithm).importRoomKey(l,n).finally(()=>{r++,n.progressCallback&&o()}))).then()}countSessionsNeedingBackup(){return this.backupManager.countSessionsNeedingBackup()}prepareToEncrypt(e){const n=this.roomEncryptors.get(e.roomId);n&&n.prepareToEncrypt(e)}async encryptEvent(e,n){if(!n)throw new Error("Cannot send encrypted messages in unknown rooms");const r=e.getRoomId(),i=this.roomEncryptors.get(r);if(!i)throw new Error("Room was previously configured to use encryption, but is no longer. Perhaps the homeserver is hiding the configuration event.");this.roomDeviceTrackingState[r]||this.trackRoomDevices(r),await this.roomDeviceTrackingState[r];let s=e.getContent();const o=s["m.relates_to"];o&&(s=Object.assign({},s),delete s["m.relates_to"]);const l=s["io.element.performance_metrics"];l&&(s=Object.assign({},s),delete s["io.element.performance_metrics"]);const d=await i.encryptMessage(n,e.getType(),s);o&&(d["m.relates_to"]=o),l&&(d["io.element.performance_metrics"]=l),e.makeEncrypted("m.room.encrypted",d,this.olmDevice.deviceCurve25519Key,this.olmDevice.deviceEd25519Key)}async decryptEvent(e){if(e.isRedacted()){const n=new Ao({room_id:e.getRoomId(),...e.getUnsigned().redacted_because}),r=await this.decryptEvent(n);return{clearEvent:{room_id:e.getRoomId(),type:"m.room.message",content:{},unsigned:{redacted_because:r.clearEvent}}}}else{const n=e.getWireContent();return this.getRoomDecryptor(e.getRoomId(),n.algorithm).decryptEvent(e)}}async handleDeviceListChanges(e,n){!e.oldSyncToken||await this.evalDeviceListChanges(n)}requestRoomKey(e,n,r=!1){return this.outgoingRoomKeyRequestManager.queueRoomKeyRequest(e,n,r).then(()=>{this.sendKeyRequestsImmediately&&this.outgoingRoomKeyRequestManager.sendQueuedRequests()}).catch(i=>{V.error("Error requesting key for event",i)})}cancelRoomKeyRequest(e){this.outgoingRoomKeyRequestManager.cancelRoomKeyRequest(e).catch(n=>{V.warn("Error clearing pending room key requests",n)})}async cancelAndResendAllOutgoingKeyRequests(){await this.outgoingRoomKeyRequestManager.cancelAndResendAllOutgoingRequests()}async onCryptoEvent(e){const n=e.getRoomId(),r=e.getContent();try{await this.setRoomEncryption(n,r,!0)}catch(i){V.error("Error configuring encryption in room "+n+":",i)}}async onSyncWillProcess(e){e.oldSyncToken||(V.log("Initial sync performed - resetting device tracking state"),this.deviceList.stopTrackingAllDeviceLists(),this.deviceList.startTrackingDeviceList(this.userId),this.roomDeviceTrackingState={}),this.sendKeyRequestsImmediately=!1}async onSyncCompleted(e){this.deviceList.setSyncToken(e.nextSyncToken),this.deviceList.saveIfDirty(),this.deviceList.startTrackingDeviceList(this.userId),this.deviceList.refreshOutdatedDeviceLists(),e.catchingUp||(this.maybeUploadOneTimeKeys(),this.processReceivedRoomKeyRequests(),this.outgoingRoomKeyRequestManager.sendQueuedRequests(),this.sendKeyRequestsImmediately=!0)}async evalDeviceListChanges(e){if(e.changed&&Array.isArray(e.changed)&&e.changed.forEach(n=>{this.deviceList.invalidateUserDeviceList(n)}),e.left&&Array.isArray(e.left)&&e.left.length){const n=new Set(await this.getTrackedE2eUsers());e.left.forEach(r=>{n.has(r)||this.deviceList.stopTrackingDeviceList(r)})}}async getTrackedE2eUsers(){const e=[];for(const n of this.getTrackedE2eRooms()){const r=await n.getEncryptionTargetMembers();for(const i of r)e.push(i.userId)}return e}getTrackedE2eRooms(){return this.clientStore.getRooms().filter(e=>{if(!this.roomEncryptors.get(e.roomId)||!this.roomDeviceTrackingState[e.roomId])return!1;const r=e.getMyMembership();return r==="join"||r==="invite"})}async encryptAndSendToDevices(e,n){const r={eventType:Ot.RoomMessageEncrypted,batch:[]};try{await Promise.all(e.map(async({userId:i,deviceInfo:s})=>{const o=s.deviceId,l={algorithm:ga,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};r.batch.push({userId:i,deviceId:o,payload:l}),await pp(this.olmDevice,this.baseApis,{[i]:[s]}),await jg(l.ciphertext,this.userId,this.deviceId,this.olmDevice,i,s,n)})),r.batch=r.batch.filter(i=>Object.keys(i.payload.ciphertext).length>0?!0:(V.log(`No ciphertext for device ${i.userId}:${i.deviceId}: pruning`),!1));try{await this.baseApis.queueToDevice(r)}catch(i){throw V.error("sendToDevice failed",i),i}}catch(i){throw V.error("encryptAndSendToDevices promises failed",i),i}}onRoomKeyEvent(e){const n=e.getContent();if(!n.room_id||!n.algorithm){V.error("key event is missing fields");return}this.backupManager.checkedForBackup||this.backupManager.checkAndStart(),this.getRoomDecryptor(n.room_id,n.algorithm).onRoomKeyEvent(e)}onRoomKeyWithheldEvent(e){const n=e.getContent();if(n.code!=="m.no_olm"&&(!n.room_id||!n.session_id)||!n.algorithm||!n.sender_key){V.error("key withheld event is missing fields");return}V.info(`Got room key withheld event from ${e.getSender()} (${n.sender_key}) for ${n.algorithm}/${n.room_id}/${n.session_id} with reason ${n.code} (${n.reason})`);const r=this.getRoomDecryptor(n.room_id,n.algorithm);if(r.onRoomKeyWithheldEvent&&r.onRoomKeyWithheldEvent(e),!n.room_id){const i=this.getRoomDecryptors(n.algorithm);for(const s of i)s.retryDecryptionFromSender(n.sender_key)}}onKeyVerificationMessage(e){if(!$a.validateEvent(e,this.baseApis))return;const n=r=>{if(!$a.canCreateRequest($a.getEventType(r)))return;const i=r.getContent(),s=i&&i.from_device;if(!s)return;const o=r.getSender(),l=new $a(this.baseApis,o,[s]);return new cy(l,this.verificationMethods,this.baseApis)};this.handleVerificationEvent(e,this.toDeviceVerificationRequests,n)}async handleVerificationEvent(e,n,r,i=!0){if(e.isSending()&&e.status!=Tr.SENT){let d,h;try{await new Promise((f,v)=>{d=f,h=()=>{e.status==Tr.CANCELLED&&v(new Error("Event status set to CANCELLED."))},e.once(Qi.LocalEventIdReplaced,d),e.on(Qi.Status,h)})}catch(f){V.error("error while waiting for the verification event to be sent: ",f);return}finally{e.removeListener(Qi.LocalEventIdReplaced,d),e.removeListener(Qi.Status,h)}}let s=n.getRequest(e),o=!1;if(!s){if(s=r(e),!s){V.log(`Crypto: could not find VerificationRequest for ${e.getType()}, and could not create one, so ignoring.`);return}o=!0,n.setRequest(e,s)}e.setVerificationRequest(s);try{await s.channel.handleEvent(e,s,i)}catch(d){V.error("error while handling verification event",d)}o&&!s.initiatedByMe&&!s.invalid&&!s.observeOnly&&this.baseApis.emit("crypto.verification.request",s)}async onToDeviceBadEncrypted(e){const n=e.getWireContent(),r=e.getSender(),i=n.algorithm,s=n.sender_key,o=()=>{const w=this.getRoomDecryptors(Zl);for(const E of w)E.retryDecryptionFromSender(s)};if(r===void 0||s===void 0||s===void 0)return;this.lastNewSessionForced[r]=this.lastNewSessionForced[r]||{};const l=this.lastNewSessionForced[r][s]||0;if(l+she>Date.now()){V.debug("New session already forced with device "+r+":"+s+" at "+l+": not forcing another"),await this.olmDevice.recordSessionProblem(s,"wedged",!0),o();return}let d=this.deviceList.getDeviceByIdentityKey(i,s);if(!d&&(await this.downloadKeys([r],!1),d=this.deviceList.getDeviceByIdentityKey(i,s),!d)){V.info("Couldn't find device for identity key "+s+": not re-establishing session"),await this.olmDevice.recordSessionProblem(s,"wedged",!1),o();return}const h={};h[r]=[d],await pp(this.olmDevice,this.baseApis,h,!0),this.lastNewSessionForced[r][s]=Date.now();const f={algorithm:ga,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await jg(f.ciphertext,this.userId,this.deviceId,this.olmDevice,r,d,{type:"m.dummy"}),await this.olmDevice.recordSessionProblem(s,"wedged",!0),o(),await this.baseApis.sendToDevice("m.room.encrypted",{[r]:{[d.deviceId]:f}});const v=await this.outgoingRoomKeyRequestManager.getOutgoingSentRoomKeyRequest(r,d.deviceId);for(const w of v)this.requestRoomKey(w.requestBody,w.recipients,!0)}onRoomMembership(e,n,r){const i=n.roomId,s=this.roomEncryptors.get(i);!s||(this.roomDeviceTrackingState[i]&&(n.membership=="join"?(V.log("Join event for "+n.userId+" in "+i),this.deviceList.startTrackingDeviceList(n.userId)):n.membership=="invite"&&this.clientStore.getRoom(i).shouldEncryptForInvitedMembers()&&(V.log("Invite event for "+n.userId+" in "+i),this.deviceList.startTrackingDeviceList(n.userId))),s.onRoomMembership(e,n,r))}onRoomKeyRequestEvent(e){const n=e.getContent();if(n.action==="request"){const r=new ohe(e);this.receivedRoomKeyRequests.push(r)}else if(n.action==="request_cancellation"){const r=new ahe(e);this.receivedRoomKeyRequestCancellations.push(r)}}async processReceivedRoomKeyRequests(){if(!this.processingRoomKeyRequests){this.processingRoomKeyRequests=!0;try{const e=this.receivedRoomKeyRequests;this.receivedRoomKeyRequests=[];const n=this.receivedRoomKeyRequestCancellations;this.receivedRoomKeyRequestCancellations=[],await Promise.all(e.map(r=>this.processReceivedRoomKeyRequest(r))),await Promise.all(n.map(r=>this.processReceivedRoomKeyRequestCancellation(r)))}catch(e){V.error(`Error processing room key requsts: ${e}`)}finally{this.processingRoomKeyRequests=!1}}}async processReceivedRoomKeyRequest(e){const n=e.userId,r=e.deviceId,i=e.requestBody,s=i.room_id,o=i.algorithm;if(V.log(`m.room_key_request from ${n}:${r} for ${s} / ${i.session_id} (id ${e.requestId})`),n!==this.userId){if(!this.roomEncryptors.get(s)){V.debug(`room key request for unencrypted room ${s}`);return}const d=this.roomEncryptors.get(s),h=this.deviceList.getStoredDevice(n,r);if(!h){V.debug(`Ignoring keyshare for unknown device ${n}:${r}`);return}try{await d.reshareKeyWithDevice(i.sender_key,i.session_id,n,h)}catch(f){V.warn("Failed to re-share keys for session "+i.session_id+" with device "+n+":"+h.deviceId,f)}return}if(r===this.deviceId){V.log("Ignoring room key request from ourselves");return}if(!this.roomDecryptors.has(s)){V.log(`room key request for unencrypted room ${s}`);return}const l=this.roomDecryptors.get(s).get(o);if(!l){V.log(`room key request for unknown alg ${o} in room ${s}`);return}if(!await l.hasKeysForKeyRequest(e)){V.log(`room key request for unknown session ${s} / `+i.session_id);return}if(e.share=()=>{l.shareKeysWithDevice(e)},this.checkDeviceTrust(n,r).isVerified()){V.log("device is already verified: sharing keys"),e.share();return}this.emit("crypto.roomKeyRequest",e)}async processReceivedRoomKeyRequestCancellation(e){V.log(`m.room_key_request cancellation for ${e.userId}:${e.deviceId} (id ${e.requestId})`),this.emit("crypto.roomKeyRequestCancellation",e)}getRoomDecryptor(e,n){let r,i;if(e=e||null,e&&(r=this.roomDecryptors.get(e),r||(r=new Map,this.roomDecryptors.set(e,r)),i=r.get(n),i))return i;const s=o$.get(n);if(!s)throw new Ha("UNKNOWN_ENCRYPTION_ALGORITHM",'Unknown encryption algorithm "'+n+'".');return i=new s({userId:this.userId,crypto:this,olmDevice:this.olmDevice,baseApis:this.baseApis,roomId:e}),r&&r.set(n,i),i}getRoomDecryptors(e){const n=[];for(const r of this.roomDecryptors.values())r.has(e)&&n.push(r.get(e));return n}async signObject(e){const n=e.signatures||{},r=e.unsigned;delete e.signatures,delete e.unsigned,n[this.userId]=n[this.userId]||{},n[this.userId]["ed25519:"+this.deviceId]=await this.olmDevice.sign(hp.stringify(e)),e.signatures=n,r!==void 0&&(e.unsigned=r)}}function YC(t){if(typeof t!="string"||t.indexOf(",")<0)return null;const e=Uint8Array.from(t.split(","),n=>parseInt(n));return wl(e)}class ohe{constructor(e){const n=e.getContent();this.userId=e.getSender(),this.deviceId=n.requesting_device_id,this.requestId=n.request_id,this.requestBody=n.body||{},this.share=()=>{throw new Error("don't know how to share keys for this request yet")}}}class ahe{constructor(e){const n=e.getContent();this.userId=e.getSender(),this.deviceId=n.requesting_device_id,this.requestId=n.request_id}}class lhe{constructor(e){this.ourEvent=e,this.ourEventIndex=0,this.paginateTokens={[as.Backward]:null,[as.Forward]:null},this.timeline=[e]}getEvent(){return this.timeline[this.ourEventIndex]}getTimeline(){return this.timeline}getOurEventIndex(){return this.ourEventIndex}getPaginateToken(e=!1){return this.paginateTokens[e?as.Backward:as.Forward]}setPaginateToken(e,n=!1){this.paginateTokens[n?as.Backward:as.Forward]=e}addEvents(e,n=!1){n?(this.timeline=e.concat(this.timeline),this.ourEventIndex+=e.length):this.timeline=this.timeline.concat(e)}}class MU{constructor(e,n){this.rank=e,this.context=n}static fromJson(e,n){const r=e.context||{};let i=(r.events_before||[]).map(n),s=(r.events_after||[]).map(n);const o=new lhe(n(e.result)),l=o.ourEvent.threadRootId;return i=i.filter(d=>d.threadRootId===l),s=s.filter(d=>d.threadRootId===l),o.setPaginateToken(r.start,!0),o.addEvents(i,!0),o.addEvents(s,!1),o.setPaginateToken(r.end,!1),new MU(e.rank,o)}}var PJ=(t=>(t.Master="master",t.SelfSigning="self_signing",t.UserSigning="user_signing",t))(PJ||{}),OU=(t=>(t.Public="public",t.Private="private",t))(OU||{}),t8=(t=>(t.PrivateChat="private_chat",t.TrustedPrivateChat="trusted_private_chat",t.PublicChat="public_chat",t))(t8||{}),tM=(t=>(t.Public="public",t.Invite="invite",t.Private="private",t.Knock="knock",t.Restricted="restricted",t))(tM||{}),DJ=(t=>(t.RoomMembership="m.room_membership",t))(DJ||{}),LU=(t=>(t.CanJoin="can_join",t.Forbidden="forbidden",t))(LU||{}),AU=(t=>(t.Invited="invited",t.Joined="joined",t.Shared="shared",t.WorldReadable="world_readable",t))(AU||{});function che(t,e){let n=Boolean(e.preventReEmit);const r=e.decrypt!==!1;function i(s){e.toDevice&&delete s.room_id;const o=t.getRoom(s.room_id);let l;o&&s.state_key===void 0&&(l=o.findEventById(s.event_id)),!l||l.status?l=new Ao(s):(l.setUnsigned({...l.getUnsigned(),...s.unsigned}),n=!0);const d=o==null?void 0:o.findThreadForEvent(l);return d&&l.setThread(d),l.isEncrypted()&&(n||t.reEmitter.reEmit(l,[Qi.Decrypted]),r&&t.decryptEventIfNeeded(l)),n||(t.reEmitter.reEmit(l,[Qi.Replaced,Qi.VisibilityChange]),o==null||o.reEmitter.reEmit(l,[Qi.BeforeRedaction])),l}return i}class aq{constructor(e,n,r){this.client=e,this.indexEvent=n,this.directory=r}get id(){const e=this.indexEvent.getStateKey();if(!e)throw new Error("State key not found for branch");return e}get isActive(){return this.indexEvent.getContent().active===!0}get version(){var e;return(e=this.indexEvent.getContent().version)!=null?e:1}get roomId(){return this.indexEvent.getRoomId()}async delete(){await this.client.sendStateEvent(this.roomId,sp.name,{},this.id),await this.client.redactEvent(this.roomId,this.id);const e=(await this.getVersionHistory())[1];e&&await e.delete()}getName(){return this.indexEvent.getContent().name||"Unnamed File"}async setName(e){await this.client.sendStateEvent(this.roomId,sp.name,{...this.indexEvent.getContent(),name:e},this.id)}isLocked(){return this.indexEvent.getContent().locked||!1}async setLocked(e){await this.client.sendStateEvent(this.roomId,sp.name,{...this.indexEvent.getContent(),locked:e},this.id)}async getFileInfo(){const n=(await this.getFileEvent()).getOriginalContent().file,r=this.client.mxcUrlToHttp(n.url);if(!r)throw new Error(`No HTTP URL available for ${n.url}`);return{info:n,httpUrl:r}}async getFileEvent(){const e=this.client.getRoom(this.roomId);if(!e)throw new Error("Unknown room");let n=e.getUnfilteredTimelineSet().findEventById(this.id);for(;!n&&e.getLiveTimeline().getState(pr.BACKWARDS).paginationToken;)await this.client.scrollback(e,100),n=e.getUnfilteredTimelineSet().findEventById(this.id);if(!n)throw new Error("Failed to find event");return await this.client.decryptEventIfNeeded(n,{emit:!0,isRetry:!0}),n}async createNewVersion(e,n,r,i){const s=await this.directory.createFile(e,n,r,{...i!=null?i:{},"m.new_content":!0,"m.relates_to":{rel_type:Fs.Replace,event_id:this.id}});return await this.client.sendStateEvent(this.roomId,sp.name,{active:!0,name:e,version:this.version+1},s.event_id),await this.client.sendStateEvent(this.roomId,sp.name,{...this.indexEvent.getContent(),active:!1},this.id),s}async getVersionHistory(){const e=[];e.push(this);const n=this.client.getRoom(this.roomId);if(!n)throw new Error("Invalid or unknown room");const r=[...n.getLiveTimeline().getEvents()].reverse();let i,s=await this.getFileEvent();do if(i=r.find(o=>o.replacingEventId()===s.getId()),i){const o=this.directory.getFile(i.getId());if(o)e.push(o),s=i;else break}while(i);return e}}const uhe={invite:100,kick:100,ban:100,redact:50,state_default:50,events_default:50,users_default:0,events:{[Ot.RoomPowerLevels]:100,[Ot.RoomHistoryVisibility]:100,[Ot.RoomTombstone]:100,[Ot.RoomEncryption]:100,[Ot.RoomName]:50,[Ot.RoomMessage]:50,[Ot.RoomMessageEncrypted]:50,[Ot.Sticker]:50},users:{}};class lq{constructor(e,n){if(this.client=e,this.roomId=n,this.room=this.client.getRoom(this.roomId),!this.room)throw new Error("Unknown room")}get id(){return this.roomId}get isTopLevel(){const e=this.room.currentState.getStateEvents(Ot.SpaceParent);return e!=null&&e.length?e.every(n=>{var r;return!((r=n.getContent())!=null&&r.via)}):!0}async setName(e){await this.client.sendStateEvent(this.roomId,Ot.RoomName,{name:e},"")}async invite(e,n=!0,r=!0){const i=[this.retryInvite(e)];return n&&i.push(...this.getDirectories().map(s=>s.invite(e,n,r))),Promise.all(i).then(()=>{r&&EJ(this.room)&&this.client.sendSharedHistoryKeys(this.roomId,[e])})}retryInvite(e){return yle(async()=>{await this.client.invite(this.roomId,e).catch(n=>{throw(n==null?void 0:n.errcode)==="M_FORBIDDEN"?new tZ.AbortError(n):n})})}async setPermissions(e,n){var h;const r=this.room.currentState.getStateEvents(Ot.RoomPowerLevels,"");if(Array.isArray(r))throw new Error("Unexpected return type for power levels");const i=r.getContent()||{},s=i.users_default||0,o=i.events_default||50,l=((h=i.events)==null?void 0:h[Ot.RoomPowerLevels])||100,d=i.users||{};switch(n){case"viewer":d[e]=s;break;case"editor":d[e]=o;break;case"owner":d[e]=l;break;default:throw new Error("Invalid role: "+n)}i.users=d,await this.client.sendStateEvent(this.roomId,Ot.RoomPowerLevels,i,"")}getPermissions(e){var d,h;const n=this.room.currentState.getStateEvents(Ot.RoomPowerLevels,"");if(Array.isArray(n))throw new Error("Unexpected return type for power levels");const r=n.getContent()||{},i=r.users_default||0,s=r.events_default||50,o=((d=r.events)==null?void 0:d[Ot.RoomPowerLevels])||100,l=((h=r.users)==null?void 0:h[e])||i;return l>=o?"owner":l>=s?"editor":"viewer"}async createDirectory(e){const n=await this.client.unstableCreateFileTree(e);return await this.client.sendStateEvent(this.roomId,Ot.SpaceChild,{via:[this.client.getDomain()]},n.roomId),await this.client.sendStateEvent(n.roomId,Ot.SpaceParent,{via:[this.client.getDomain()]},this.roomId),n}getDirectories(){const e=[],n=this.room.currentState.getStateEvents(Ot.SpaceChild);for(const r of n)try{const i=r.getStateKey();if(i){const s=this.client.unstableGetFileTreeSpace(i);s&&e.push(s)}}catch(i){V.warn("Unable to create tree space instance for listing. Are we joined?",i)}return e}getDirectory(e){return this.getDirectories().find(n=>n.roomId===e)}async delete(){const e=this.getDirectories();for(const i of e)await i.delete();const n=["invite","knock","join"],r=this.room.currentState.getStateEvents(Ot.RoomMember);for(const i of r)if(i.getStateKey()!==this.client.getUserId()&&n.includes(i.getContent().membership)){const o=i.getStateKey();if(!o)throw new Error("State key not found for branch");await this.client.kick(this.roomId,o,"Room deleted")}await this.client.leave(this.roomId)}getOrderedChildren(e){const n=e.map(r=>({roomId:r.getStateKey(),order:r.getContent().order})).filter(r=>r.roomId);return n.sort((r,i)=>{var s,o,l,d;if(r.order&&!i.order)return-1;if(!r.order&&i.order)return 1;if(!r.order&&!i.order){const h=this.client.getRoom(r.roomId),f=this.client.getRoom(i.roomId);if(!h||!f)return $C(r.roomId,i.roomId);const v=(o=(s=h.currentState.getStateEvents(Ot.RoomCreate,""))==null?void 0:s.getTs())!=null?o:0,w=(d=(l=f.currentState.getStateEvents(Ot.RoomCreate,""))==null?void 0:l.getTs())!=null?d:0;return v===w?$C(r.roomId,i.roomId):v-w}else return $C(r.order,i.order)}),n}getParentRoom(){const n=this.room.currentState.getStateEvents(Ot.SpaceParent)[0];if(!n)throw new Error("Expected to have a parent in a non-top level space");const r=n.getStateKey();if(!r)throw new Error("No state key found for parent");const i=this.client.getRoom(r);if(!i)throw new Error("Unable to locate room for parent");return i}getOrder(){if(this.isTopLevel)return-1;const n=this.getParentRoom().currentState.getStateEvents(Ot.SpaceChild);return this.getOrderedChildren(n).findIndex(i=>i.roomId===this.roomId)}async setOrder(e){var E,C;if(this.isTopLevel)throw new Error("Cannot set order of top level spaces currently");const n=this.getParentRoom(),r=n.currentState.getStateEvents(Ot.SpaceChild),i=this.getOrderedChildren(r);e=Math.max(Math.min(e,i.length-1),0);const o=this.getOrder()<e;o&&e===i.length-1?e--:!o&&e===0&&e++;const l=i[o?e:e-1],d=i[o?e+1:e];let h=Ug[0],f=!1;if(!l)d!=null&&d.order&&(h=ZK(d.order));else if(e===i.length-1)d!=null&&d.order&&(h=dE(d.order));else{const O=l==null?void 0:l.order,M=d==null?void 0:d.order;O&&M?O===M?h=dE(O):h=vle(O,M):O?h=dE(O):M?h=ZK(M):f=!0}if(f){let O;for(let M=0;M<=e;M++){const A=i[M];if(M===0&&(O=A.order),A.order)O=A.order;else{O=O?dE(O):Ug[0];const D=n.currentState.getStateEvents(Ot.SpaceChild,A.roomId),U=(E=D==null?void 0:D.getContent())!=null?E:{via:[this.client.getDomain()]};await this.client.sendStateEvent(n.roomId,Ot.SpaceChild,{...U,order:O},A.roomId)}}O&&(h=dE(O))}const v=n.currentState.getStateEvents(Ot.SpaceChild,this.roomId),w=(C=v==null?void 0:v.getContent())!=null?C:{via:[this.client.getDomain()]};await this.client.sendStateEvent(n.roomId,Ot.SpaceChild,{...w,order:h},this.roomId)}async createFile(e,n,r,i){const{content_uri:s}=await this.client.uploadContent(n,{includeFilename:!1});r.url=s;const o={msgtype:Xl.File,body:e,url:s,file:r};i=i!=null?i:{},i["m.new_content"]&&(i["m.new_content"]=o);const l=await this.client.sendMessage(this.roomId,{...i,...o,[yZ.name]:{}});return await this.client.sendStateEvent(this.roomId,sp.name,{active:!0,name:e},l.event_id),l}getFile(e){const n=this.room.currentState.getStateEvents(sp.name,e);return n?new aq(this.client,n,this):null}listFiles(){return this.listAllFiles().filter(e=>e.isActive)}listAllFiles(){var n;return((n=this.room.currentState.getStateEvents(sp.name))!=null?n:[]).map(r=>new aq(this.client,r,this))}}var PU=(t=>(t.Recent="recent",t.Rank="rank",t))(PU||{}),g$=(t=>(t.LocalStreamsChanged="local_streams_changed",t))(g$||{});class dhe extends Do{constructor(e){super(),this.client=e,this.userMediaStreams=[],this.screensharingStreams=[]}restoreMediaSettings(e,n){this.audioInput=e,this.videoInput=n}async setAudioInput(e){V.info("LOG setting audio input to",e),this.audioInput!==e&&(this.audioInput=e,await this.updateLocalUsermediaStreams())}async setVideoInput(e){V.info("LOG setting video input to",e),this.videoInput!==e&&(this.videoInput=e,await this.updateLocalUsermediaStreams())}async setMediaInputs(e,n){V.log(`mediaHandler setMediaInputs audioInput: ${e} videoInput: ${n}`),this.audioInput=e,this.videoInput=n,await this.updateLocalUsermediaStreams()}async updateLocalUsermediaStreams(){if(this.userMediaStreams.length===0)return;const e=new Map;for(const n of this.client.callEventHandler.calls.values())e.set(n.callId,{audio:n.hasLocalUserMediaAudioTrack,video:n.hasLocalUserMediaVideoTrack});for(const n of this.userMediaStreams){V.log(`mediaHandler stopping all tracks for stream ${n.id}`);for(const r of n.getTracks())r.stop()}this.userMediaStreams=[],this.localUserMediaStream=void 0;for(const n of this.client.callEventHandler.calls.values()){if(n.callHasEnded()||!e.has(n.callId))continue;const{audio:r,video:i}=e.get(n.callId);V.log(`mediaHandler updateLocalUsermediaStreams getUserMediaStream call ${n.callId}`);const s=await this.getUserMediaStream(r,i);n.callHasEnded()||await n.updateLocalUsermediaStream(s)}for(const n of this.client.groupCallEventHandler.groupCalls.values()){if(!n.localCallFeed)continue;V.log(`mediaHandler updateLocalUsermediaStreams getUserMediaStream groupCall ${n.groupCallId}`);const r=await this.getUserMediaStream(!0,n.type===Hg.Video);n.state!==Yo.Ended&&await n.updateLocalUsermediaStream(r)}this.emit("local_streams_changed")}async hasAudioDevice(){return(await navigator.mediaDevices.enumerateDevices()).filter(n=>n.kind==="audioinput").length>0}async hasVideoDevice(){return(await navigator.mediaDevices.enumerateDevices()).filter(n=>n.kind==="videoinput").length>0}async getUserMediaStream(e,n,r=!0){var d,h,f,v;const i=e&&await this.hasAudioDevice(),s=n&&await this.hasVideoDevice();let o,l=!0;if(this.localUserMediaStream?(i&&(this.localUserMediaStream.getAudioTracks().length===0||((h=(d=this.localUserMediaStream.getAudioTracks()[0])==null?void 0:d.getSettings())==null?void 0:h.deviceId)!==this.audioInput)&&(l=!1),s&&(this.localUserMediaStream.getVideoTracks().length===0||((v=(f=this.localUserMediaStream.getVideoTracks()[0])==null?void 0:f.getSettings())==null?void 0:v.deviceId)!==this.videoInput)&&(l=!1)):l=!1,l){if(o=this.localUserMediaStream.clone(),V.log(`mediaHandler clone userMediaStream ${this.localUserMediaStream.id} new stream ${o.id} shouldRequestAudio ${i} shouldRequestVideo ${s}`),!i)for(const w of o.getAudioTracks())o.removeTrack(w);if(!s)for(const w of o.getVideoTracks())o.removeTrack(w)}else{const w=this.getUserMediaContraints(i,s);o=await navigator.mediaDevices.getUserMedia(w),V.log(`mediaHandler getUserMediaStream streamId ${o.id} shouldRequestAudio ${i} shouldRequestVideo ${s}`,w);for(const E of o.getTracks()){const C=E.getSettings();E.kind==="audio"?this.audioInput=C.deviceId:E.kind==="video"&&(this.videoInput=C.deviceId)}r&&(this.localUserMediaStream=o)}return r&&this.userMediaStreams.push(o),this.emit("local_streams_changed"),o}stopUserMediaStream(e){V.log(`mediaHandler stopUserMediaStream stopping stream ${e.id}`);for(const r of e.getTracks())r.stop();const n=this.userMediaStreams.indexOf(e);n!==-1&&(V.debug("Splicing usermedia stream out stream array",e.id),this.userMediaStreams.splice(n,1)),this.emit("local_streams_changed"),this.localUserMediaStream===e&&(this.localUserMediaStream=void 0)}async getScreensharingStream(e={},n=!0){let r;if(this.screensharingStreams.length===0){const i=this.getScreenshareContraints(e);if(!i)return null;e.desktopCapturerSourceId?(V.debug("Getting screensharing stream using getUserMedia()",e),r=await navigator.mediaDevices.getUserMedia(i)):(V.debug("Getting screensharing stream using getDisplayMedia()",e),r=await navigator.mediaDevices.getDisplayMedia(i))}else{const i=this.screensharingStreams[this.screensharingStreams.length-1];V.log("Cloning screensharing stream",i.id),r=i.clone()}return n&&this.screensharingStreams.push(r),this.emit("local_streams_changed"),r}stopScreensharingStream(e){V.debug("Stopping screensharing stream",e.id);for(const r of e.getTracks())r.stop();const n=this.screensharingStreams.indexOf(e);n!==-1&&(V.debug("Splicing screensharing stream out stream array",e.id),this.screensharingStreams.splice(n,1)),this.emit("local_streams_changed")}stopAllStreams(){for(const e of this.userMediaStreams){V.log(`mediaHandler stopAllStreams stopping stream ${e.id}`);for(const n of e.getTracks())n.stop()}for(const e of this.screensharingStreams)for(const n of e.getTracks())n.stop();this.userMediaStreams=[],this.screensharingStreams=[],this.localUserMediaStream=void 0,this.emit("local_streams_changed")}getUserMediaContraints(e,n){const r=!!navigator.webkitGetUserMedia;return{audio:e?{deviceId:this.audioInput?{ideal:this.audioInput}:void 0}:!1,video:n?{deviceId:this.videoInput?{ideal:this.videoInput}:void 0,width:r?{exact:640}:{ideal:640},height:r?{exact:360}:{ideal:360}}:!1}}getScreenshareContraints(e){const{desktopCapturerSourceId:n,audio:r}=e;return n?(V.debug("Using desktop capturer source",n),{audio:r,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n}}}):(V.debug("Not using desktop capturer source"),{audio:r,video:!0})}}var m$=(t=>(t.RequestFinished="FINISHED",t.Complete="COMPLETE",t))(m$||{}),nM=(t=>(t.PreProcess="ExtState.PreProcess",t.PostProcess="ExtState.PostProcess",t))(nM||{}),y$=(t=>(t.RoomData="SlidingSync.RoomData",t.Lifecycle="SlidingSync.Lifecycle",t.List="SlidingSync.List",t))(y$||{});const fhe=3;class hhe{constructor(e){this.crypto=e}name(){return"e2ee"}when(){return nM.PreProcess}onRequest(e){if(!!e)return{enabled:!0}}async onResponse(e){if(e.device_lists&&await this.crypto.handleDeviceListChanges({oldSyncToken:"yep"},e.device_lists),e.device_one_time_keys_count){const n=e.device_one_time_keys_count.signed_curve25519||0;this.crypto.updateOneTimeKeyCount(n)}if(e.device_unused_fallback_key_types||e["org.matrix.msc2732.device_unused_fallback_key_types"]){const n=e.device_unused_fallback_key_types||e["org.matrix.msc2732.device_unused_fallback_key_types"];this.crypto.setNeedsNewFallback(n instanceof Array&&!n.includes("signed_curve25519"))}}}class phe{constructor(e){this.client=e,this.nextBatch=null}name(){return"to_device"}when(){return nM.PreProcess}onRequest(e){const n={since:this.nextBatch!==null?this.nextBatch:void 0};return e&&(n.limit=100,n.enabled=!0),n}async onResponse(e){const n=[];e.events=e.events||[],e.events.map(this.client.getEventMapper()).map(r=>{if(r.getType()==="m.key.verification.cancel"){const i=r.getContent().transaction_id;i&&n.push(i)}return r}).forEach(r=>{const i=r.getContent();if(r.getType()=="m.room.message"&&i.msgtype=="m.bad.encrypted"){V.log("Ignoring undecryptable to-device event from "+r.getSender());return}if(r.getType()==="m.key.verification.start"||r.getType()==="m.key.verification.request"){const s=i.transaction_id;n.includes(s)&&r.flagCancelled()}this.client.emit(sr.ToDeviceEvent,r)}),this.nextBatch=e.next_batch}}class ghe{constructor(e){this.client=e}name(){return"account_data"}when(){return nM.PostProcess}onRequest(e){if(!!e)return{enabled:!0}}onResponse(e){e.global&&e.global.length>0&&this.processGlobalAccountData(e.global);for(const n in e.rooms){const r=wS(this.client,n,e.rooms[n]),i=this.client.getRoom(n);if(!i){V.warn("got account data for room but room doesn't exist on client:",n);continue}i.addAccountData(r),r.forEach(s=>{this.client.emit(sr.Event,s)})}}processGlobalAccountData(e){const n=wS(this.client,void 0,e),r=n.reduce((i,s)=>(i[s.getId()]=this.client.store.getAccountData(s.getType()),i),{});this.client.store.storeAccountDataEvents(n),n.forEach(i=>{if(i.getType()===Ot.PushRules){const o=i.getContent();this.client.pushRules=h3.rewriteDefaultRules(o)}const s=r[i.getId()];return this.client.emit(sr.AccountData,i,s),i})}}class NJ{constructor(e,n,r={}){var s;this.slidingSync=e,this.client=n,this.opts=r,this.syncState=null,this.lastPos=null,this.failCount=0,this.notifEvents=[],this.opts.initialSyncLimit=(s=this.opts.initialSyncLimit)!=null?s:8,this.opts.resolveInvitesToProfiles=this.opts.resolveInvitesToProfiles||!1,this.opts.pollTimeout=this.opts.pollTimeout||30*1e3,this.opts.pendingEventOrdering=this.opts.pendingEventOrdering||id.Chronological,this.opts.experimentalThreadSupport=this.opts.experimentalThreadSupport===!0,r.canResetEntireTimeline||(r.canResetEntireTimeline=o=>!1),n.getNotifTimelineSet()&&n.reEmitter.reEmit(n.getNotifTimelineSet(),[Gr.Timeline,Gr.TimelineReset]),this.slidingSync.on(y$.Lifecycle,this.onLifecycle.bind(this)),this.slidingSync.on(y$.RoomData,this.onRoomData.bind(this));const i=[new phe(this.client),new ghe(this.client)];this.opts.crypto&&i.push(new hhe(this.opts.crypto)),i.forEach(o=>{this.slidingSync.registerExtension(o)})}onRoomData(e,n){let r=this.client.store.getRoom(e);if(!r){if(!n.initial){V.debug("initial flag not set but no stored room exists for room ",e,n);return}r=tJ(this.client,e,this.opts)}this.processRoomData(this.client,r,n)}onLifecycle(e,n,r){switch(r&&V.debug("onLifecycle",e,r),e){case m$.Complete:if(this.purgeNotifications(),!n)break;this.lastPos||this.updateSyncState(Ka.Prepared,{oldSyncToken:this.lastPos,nextSyncToken:n.pos,catchingUp:!1,fromCache:!1}),this.updateSyncState(Ka.Syncing,{oldSyncToken:this.lastPos,nextSyncToken:n.pos,catchingUp:!1,fromCache:!1}),this.lastPos=n.pos;break;case m$.RequestFinished:if(r){if(this.failCount+=1,this.updateSyncState(this.failCount>fhe?Ka.Error:Ka.Reconnecting,{error:new U3(r)}),this.shouldAbortSync(new U3(r)))return}else this.failCount=0;break}}async syncLeftRooms(){return[]}async peek(e){return null}stopPeeking(){}getSyncState(){return this.syncState}getSyncStateData(){return this.syncStateData}createRoom(e){const{timelineSupport:n}=this.client,r=new rM(e,this.client,this.client.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:n});return this.client.reEmitter.reEmit(r,[Gr.Name,Gr.Redaction,Gr.RedactionCancelled,Gr.Receipt,Gr.Tags,Gr.LocalEchoUpdated,Gr.AccountData,Gr.MyMembership,Gr.Timeline,Gr.TimelineReset]),this.registerStateListeners(r),r}registerStateListeners(e){this.client.reEmitter.reEmit(e.currentState,[Ci.Events,Ci.Members,Ci.NewMember,Ci.Update]),e.currentState.on(Ci.NewMember,(n,r,i)=>{i.user=this.client.getUser(i.userId),this.client.reEmitter.reEmit(i,[Mc.Name,Mc.Typing,Mc.PowerLevel,Mc.Membership])})}shouldAbortSync(e){return e.errcode==="M_UNKNOWN_TOKEN"?(V.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(Ka.Error,{error:e}),!0):!1}async processRoomData(e,n,r){r=mhe(e,n.roomId,r);const i=wS(this.client,n.roomId,r.required_state);let s=wS(this.client,n.roomId,r.timeline,!1);const o=[];if(r.initial){const h=new Set;n.getLiveTimeline().getEvents().forEach(E=>{h.add(E.getId())});const f=[],v=[];let w=!1;for(let E=s.length-1;E>=0;E--){const C=s[E];if(h.has(C.getId())){w=!0;continue}w?f.push(C):v.unshift(C)}s=v,f.length>0&&n.addEventsToTimeline(f,!0,n.getLiveTimeline(),r.prev_batch)}const l=this.client.isRoomEncrypted(n.roomId);if(r.notification_count!=null&&n.setUnreadNotificationCount(go.Total,r.notification_count),r.highlight_count!=null&&(!l||l&&n.getUnreadNotificationCount(go.Highlight)<=0)&&n.setUnreadNotificationCount(go.Highlight,r.highlight_count),Number.isInteger(r.invited_count)&&n.currentState.setInvitedMemberCount(r.invited_count),Number.isInteger(r.joined_count)&&n.currentState.setJoinedMemberCount(r.joined_count),r.invite_state){const h=wS(this.client,n.roomId,r.invite_state);this.injectRoomEvents(n,h),r.initial&&(n.recalculate(),this.client.store.storeRoom(n),this.client.emit(sr.Room,n)),h.forEach(f=>{this.client.emit(sr.Event,f)}),n.updateMyMembership("invite");return}r.initial&&n.getLiveTimeline().setPaginationToken(r.prev_batch,pr.BACKWARDS),this.injectRoomEvents(n,i,s,!1),n.addEphemeralEvents(o),n.updateMyMembership("join"),n.recalculate(),r.initial&&(e.store.storeRoom(n),e.emit(sr.Room,n)),this.addNotifications(s);const d=async h=>{e.emit(sr.Event,h),h.isState()&&h.getType()==Ot.RoomEncryption&&this.opts.crypto&&await this.opts.crypto.onCryptoEvent(h)};await oy(i,d),await oy(s,d),o.forEach(function(h){e.emit(sr.Event,h)}),n.decryptCriticalEvents()}injectRoomEvents(e,n,r,i=!1){r=r||[],n=n||[];const s=e.getLiveTimeline(),o=s.getEvents().length==0;if(o){for(const l of n)this.client.getPushActionsForEvent(l);s.initialiseState(n)}o||(e.oldState.setStateEvents(n),e.currentState.setStateEvents(n)),e.addLiveEvents(r,{fromCache:i}),e.recalculate(),this.resolveInvites(e)}resolveInvites(e){if(!e||!this.opts.resolveInvitesToProfiles)return;const n=this.client;e.getMembersWithMembership("invite").forEach(function(r){if(r._requestedProfileInfo)return;r._requestedProfileInfo=!0;const i=n.getUser(r.userId);let s;i?s=Promise.resolve({avatar_url:i.avatarUrl,displayname:i.displayName}):s=n.getProfileInfo(r.userId),s.then(function(o){const l=r.events.member;l.getContent().membership==="invite"&&(l.getContent().avatar_url=o.avatar_url,l.getContent().displayname=o.displayname,r.setMembershipEvent(l,e.currentState))},function(o){})})}retryImmediately(){return!0}async sync(){for(V.debug("Sliding sync init loop");!this.client.isGuest();)try{V.debug("Getting push rules...");const e=await this.client.getPushRules();V.debug("Got push rules"),this.client.pushRules=e;break}catch(e){if(V.error("Getting push rules failed",e),this.shouldAbortSync(e))return}await this.slidingSync.start()}stop(){V.debug("SyncApi.stop"),this.slidingSync.stop()}updateSyncState(e,n){const r=this.syncState;this.syncState=e,this.syncStateData=n,this.client.emit(sr.Sync,this.syncState,r,n)}addNotifications(e){if(!!this.client.getNotifTimelineSet())for(const n of e){const r=this.client.getPushActionsForEvent(n);r&&r.notify&&r.tweaks&&r.tweaks.highlight&&this.notifEvents.push(n)}}purgeNotifications(){this.notifEvents.sort(function(e,n){return e.getTs()-n.getTs()}),this.notifEvents.forEach(e=>{this.client.getNotifTimelineSet().addLiveEvent(e)}),this.notifEvents=[]}}function mhe(t,e,n){if(!n.name)return n;for(const r of n.required_state)if(r.type===Ot.RoomName&&r.state_key==="")return r.content={name:n.name},n;return n.required_state.push({event_id:"$fake-sliding-sync-name-event-"+e,state_key:"",type:Ot.RoomName,content:{name:n.name},sender:t.getUserId(),origin_server_ts:new Date().getTime()}),n}function wS(t,e,n,r=!0){const i=t.getEventMapper({decrypt:r});return n.map(function(s){return s.room_id=e,i(s)})}const BJ=new js("m.beacon_info","org.matrix.msc3672.beacon_info"),yhe=new js("m.beacon","org.matrix.msc3672.beacon");class K3{constructor(e=K3.RETRY_BACKOFF_RATELIMIT,n=K3.QUEUE_MESSAGES){this.retryAlgorithm=e,this.queueAlgorithm=n,this.queues={},this.activeQueues=[],this.procFn=null,this.processQueue=r=>{const i=this.peekNextEvent(r);if(!i){const s=this.activeQueues.indexOf(r);s>=0&&this.activeQueues.splice(s,1);return}_E("Queue '%s' has %s pending events",r,this.queues[r].length),Promise.resolve().then(()=>this.procFn(i.event)).then(s=>{this.removeNextEvent(r),_E("Queue '%s' sent event %s",r,i.event.getId()),i.defer.resolve(s),this.processQueue(r)},s=>{i.attempts+=1;const o=this.retryAlgorithm(i.event,i.attempts,s);_E("retry(%s) err=%s event_id=%s waitTime=%s",i.attempts,s,i.event.getId(),o),o===-1?(_E("Queue '%s' giving up on event %s",r,i.event.getId()),this.removeNextEvent(r),i.defer.reject(s),this.processQueue(r)):setTimeout(this.processQueue,o,r)})}}static RETRY_BACKOFF_RATELIMIT(e,n,r){if(r.httpStatus===400||r.httpStatus===403||r.httpStatus===401||r instanceof Jx||r.name==="M_TOO_LARGE")return-1;if(r.name==="M_LIMIT_EXCEEDED"){const i=r.data.retry_after_ms;if(i>0)return i}return n>4?-1:1e3*Math.pow(2,n)}static QUEUE_MESSAGES(e){return e.getType()===Ot.RoomMessage||e.hasAssocation()?"message":null}getQueueForEvent(e){const n=this.queueAlgorithm(e);return!n||!this.queues[n]?null:this.queues[n].map(function(r){return r.event})}removeEventFromQueue(e){const n=this.queueAlgorithm(e);if(!n||!this.queues[n])return!1;let r=!1;return SI(this.queues[n],i=>{if(i.event.getId()===e.getId())return r=!0,!0}),r}setProcessFunction(e){this.procFn=e,this.startProcessingQueues()}queueEvent(e){const n=this.queueAlgorithm(e);if(!n)return null;this.queues[n]||(this.queues[n]=[]);const r=rv();return this.queues[n].push({event:e,defer:r,attempts:0}),_E("Queue algorithm dumped event %s into queue '%s'",e.getId(),n),this.startProcessingQueues(),r.promise}startProcessingQueues(){!this.procFn||Object.keys(this.queues).filter(e=>this.activeQueues.indexOf(e)===-1&&this.queues[e].length>0).forEach(e=>{this.activeQueues.push(e),this.processQueue(e)})}peekNextEvent(e){const n=this.queues[e];return Array.isArray(n)?n[0]:null}removeNextEvent(e){const n=this.queues[e];return Array.isArray(n)?n.shift():null}}function _E(...t){}const cq=20;class vhe{constructor(e){this.client=e,this.sending=!1,this.running=!0,this.retryTimeout=null,this.retryAttempts=0,this.sendQueue=async()=>{if(this.retryTimeout!==null&&clearTimeout(this.retryTimeout),this.retryTimeout=null,this.sending||!this.running)return;V.debug("Attempting to send queued to-device messages"),this.sending=!0;let n;try{for(;this.running&&(n=await this.client.store.getOldestToDeviceBatch(),n!==null);)await this.sendBatch(n),await this.client.store.removeToDeviceBatch(n.id),this.retryAttempts=0;if(!this.running)return;V.debug("All queued to-device messages sent")}catch(r){++this.retryAttempts;const i=K3.RETRY_BACKOFF_RATELIMIT(null,this.retryAttempts,r);if(i===-1){Math.floor(r.httpStatus/100)===4?(V.error("Fatal error when sending to-device message - dropping to-device batch!",r),await this.client.store.removeToDeviceBatch(n.id)):V.info("Automatic retry limit reached for to-device messages.");return}V.info(`Failed to send batch of to-device messages. Will retry in ${i}ms`,r),this.retryTimeout=setTimeout(this.sendQueue,i)}finally{this.sending=!1}}}start(){this.running=!0,this.sendQueue()}stop(){this.running=!1,this.retryTimeout!==null&&clearTimeout(this.retryTimeout),this.retryTimeout=null}async queueBatch(e){const n=[];for(let r=0;r<e.batch.length;r+=cq)n.push({eventType:e.eventType,batch:e.batch.slice(r,r+cq),txnId:this.client.makeTxnId()});await this.client.store.saveToDeviceBatches(n),this.sendQueue()}async sendBatch(e){const n={};for(const r of e.batch)n[r.userId]||(n[r.userId]={}),n[r.userId][r.deviceId]=r.payload;V.info(`Sending batch of ${e.batch.length} to-device messages with ID ${e.id}`),await this.client.sendToDevice(e.eventType,n,e.txnId)}}const DU="main";function $J(t,e,n){var r;return new Ao({content:{[e.getId()]:{[n]:{[t]:{ts:e.getTs(),threadId:(r=e.threadRootId)!=null?r:DU}}}},type:Ot.Receipt,room_id:e.getRoomId()})}const b_=0,__=1;class FJ extends Do{constructor(){super(...arguments),this.receipts={},this.receiptCacheByEventId={}}getReadReceiptForUserId(e,n=!1,r=Cc.Read){var o,l;const[i,s]=(l=(o=this.receipts[r])==null?void 0:o[e])!=null?l:[];return n?i:s!=null?s:i}getEventReadUpTo(e,n=!1){var l,d,h,f,v,w,E;const r=this.getUnfilteredTimelineSet(),i=this.getReadReceiptForUserId(e,n,Cc.Read),s=this.getReadReceiptForUserId(e,n,Cc.ReadPrivate);let o;return(i==null?void 0:i.eventId)&&(s==null?void 0:s.eventId)&&(o=r.compareEventOrdering(i==null?void 0:i.eventId,s==null?void 0:s.eventId)),!o&&((l=i==null?void 0:i.data)==null?void 0:l.ts)&&((d=s==null?void 0:s.data)==null?void 0:d.ts)&&(o=((h=i==null?void 0:i.data)==null?void 0:h.ts)-((f=s==null?void 0:s.data)==null?void 0:f.ts)),o?(E=o<0?s==null?void 0:s.eventId:i==null?void 0:i.eventId)!=null?E:null:(w=(v=s==null?void 0:s.eventId)!=null?v:i==null?void 0:i.eventId)!=null?w:null}addReceiptToStructure(e,n,r,i,s){var O,M,A;this.receipts[n]||(this.receipts[n]={}),this.receipts[n][r]||(this.receipts[n][r]=[null,null]);const o=this.receipts[n][r];let l=o[b_];if(s&&(l=(O=o[__])!=null?O:o[b_]),l){const D=this.getUnfilteredTimelineSet().compareEventOrdering(l.eventId,e);if(D!==null&&D>=0)return}const d={eventId:e,data:i},h=s?o[b_]:d,f=s?d:o[__];let v=null;h&&f&&(v=this.getUnfilteredTimelineSet().compareEventOrdering(h.eventId,f.eventId));const w=v===null||v<0,E=(M=o[__])!=null?M:o[b_];s&&w?o[__]=d:s||(o[b_]=d,w||(o[__]=null));const C=(A=o[__])!=null?A:o[b_];if(E!==C){if(E&&this.receiptCacheByEventId[E.eventId]){const D=E.eventId;this.receiptCacheByEventId[D]=this.receiptCacheByEventId[D].filter(U=>U.type!==n||U.userId!==r),this.receiptCacheByEventId[D].length<1&&delete this.receiptCacheByEventId[D]}this.receiptCacheByEventId[e]||(this.receiptCacheByEventId[e]=[]),this.receiptCacheByEventId[e].push({userId:r,type:n,data:i})}}getReceiptsForEvent(e){return this.receiptCacheByEventId[e.getId()]||[]}addLocalEchoReceipt(e,n,r){this.addReceipt($J(e,n,r),!0)}getUsersReadUpTo(e){return this.getReceiptsForEvent(e).filter(function(n){return yU(n.type)}).map(function(n){return n.userId})}hasUserReadEvent(e,n){var i,s;const r=this.getEventReadUpTo(e,!1);if(r===n||((i=this.timeline)==null?void 0:i.length)&&this.timeline[this.timeline.length-1].getSender()&&this.timeline[this.timeline.length-1].getSender()===e)return!0;for(let o=((s=this.timeline)==null?void 0:s.length)-1;o>=0;--o){const l=this.timeline[o];if(l.getId()===n)return!1;if(l.getId()===r)return!0}return!1}}const ND=new bf.UnstableValue("m.policies","org.matrix.msc3847.policies"),$T=new bf.UnstableValue("m.ignore.invites","org.matrix.msc3847.ignore.invites");class bhe{constructor(e){this.client=e}async addRule(e,n,r){const i=await this.getOrCreateTargetRoom();return(await this.client.sendStateEvent(i.roomId,e,{entity:n,reason:r,recommendation:"m.ban"})).event_id}async removeRule(e){await this.client.redactEvent(e.getRoomId(),e.getId())}async addSource(e){await this.client.joinRoom(e);const n=(await this.getOrCreateSourceRooms()).map(r=>r.roomId);return n.includes(e)?!1:(n.push(e),await this.withIgnoreInvitesPolicies(r=>{r.sources=n}),!0)}async getRuleForInvite({sender:e,roomId:n}){const r=await this.getOrCreateSourceRooms(),i=e.split(":")[1],s=n.split(":")[1];for(const o of r){const l=o.getUnfilteredTimelineSet().getLiveTimeline().getState(pr.FORWARDS);for(const{scope:d,entities:h}of[{scope:"m.policy.room",entities:[n]},{scope:"m.policy.user",entities:[e]},{scope:"m.policy.server",entities:[i,s]}]){const f=l.getStateEvents(d);for(const v of f){const w=v.getContent();if((w==null?void 0:w.recommendation)!="m.ban")continue;const E=w==null?void 0:w.entity;if(!E)continue;let C;try{C=new RegExp(sZ(E,!1))}catch{continue}for(const O of h)if(O&&C.test(O))return v}}}return null}async getOrCreateTargetRoom(){let n=this.getIgnoreInvitesPolicies().target;if(typeof n!="string"&&(n=null),n){const r=this.client.getRoom(n);if(r)return r;n=null}return n=(await this.client.createRoom({name:"Individual Policy Room",preset:t8.PrivateChat})).room_id,await this.withIgnoreInvitesPolicies(r=>{r.target=n}),this.client.getRoom(n)}async getOrCreateSourceRooms(){let n=this.getIgnoreInvitesPolicies().sources,r=!1;Array.isArray(n)||(r=!0,n=[]);let i=n.filter(s=>typeof s=="string").map(s=>this.client.getRoom(s)).filter(s=>!!s);if(i.length!=n.length&&(r=!0),i.length==0){const s=await this.getOrCreateTargetRoom();r=!0,i=[s]}return r&&await this.withIgnoreInvitesPolicies(s=>{s.sources=n}),i}getIgnoreInvitesPolicies(){return this.getPoliciesAndIgnoreInvitesPolicies().ignoreInvitesPolicies}async withIgnoreInvitesPolicies(e){const{policies:n,ignoreInvitesPolicies:r}=this.getPoliciesAndIgnoreInvitesPolicies();e(r),n[$T.name]=r,await this.client.setAccountData(ND.name,n)}getPoliciesAndIgnoreInvitesPolicies(){var i;let e={};for(const s of[ND.name,ND.altName]){if(!s)continue;const o=(i=this.client.getAccountData(s))==null?void 0:i.getContent();if(o){e=o;break}}let n={},r=!1;for(const s of[$T.name,$T.altName]){if(!s)continue;const o=e[s];if(o&&typeof o=="object"){n=o,r=!0;break}}return r||(e[$T.name]=n),{policies:e,ignoreInvitesPolicies:n}}}const _he=3e3,whe=AJ(),Ehe=216e5,uq=10*60*1e3,She=new js("last_seen_user_agent","org.matrix.msc3852.last_seen_user_agent");var id=(t=>(t.Chronological="chronological",t.Detached="detached",t))(id||{}),NU=(t=>(t.Stable="stable",t.Unstable="unstable",t))(NU||{});const xhe=new js("m.authentication","org.matrix.msc2965.authentication"),Jd="$";var sr=(t=>(t.Sync="sync",t.Event="event",t.ToDeviceEvent="toDeviceEvent",t.AccountData="accountData",t.Room="Room",t.DeleteRoom="deleteRoom",t.SyncUnexpectedError="sync.unexpectedError",t.ClientWellKnown="WellKnown.client",t.ReceivedVoipEvent="received_voip_event",t.TurnServers="turnServers",t.TurnServersError="turnServers.error",t))(sr||{});const khe=new js("action","org.matrix.msc3824.action"),UJ=class extends Do{constructor(t){var n;super(),this.reEmitter=new hw(this),this.olmVersion=null,this.usingExternalCrypto=!1,this.clientRunning=!1,this.timelineSupport=!1,this.urlPreviewCache={},this.supportsCallTransfer=!1,this.forceTURN=!1,this.iceCandidatePoolSize=0,this.canSupportVoip=!1,this.peekSync=null,this.isGuestAccount=!1,this.ongoingScrollbacks={},this.notifTimelineSet=null,this.fallbackICEServerAllowed=!1,this.syncedLeftRooms=!1,this.canSupport=new Map,this.pushProcessor=new h3(this),this.turnServers=[],this.turnServersExpiry=0,this.checkTurnServersIntervalID=null,this.txnCtr=0,this.mediaHandler=new dhe(this),this.pendingEventEncryption=new Map,this.useE2eForGroupCall=!0,this.startCallEventHandler=()=>{this.isInitialSyncComplete()&&(this.callEventHandler.start(),this.groupCallEventHandler.start(),this.off("sync",this.startCallEventHandler))},t.baseUrl=gD(t.baseUrl),t.idBaseUrl=gD(t.idBaseUrl),this.baseUrl=t.baseUrl,this.idBaseUrl=t.idBaseUrl,this.identityServer=t.identityServer,this.usingExternalCrypto=(n=t.usingExternalCrypto)!=null?n:!1,this.store=t.store||new Ede,this.deviceId=t.deviceId||null,this.sessionId=vd(10);const e=t.userId||null;this.credentials={userId:e},this.http=new HZ(this,{fetchFn:t.fetchFn,baseUrl:t.baseUrl,idBaseUrl:t.idBaseUrl,accessToken:t.accessToken,prefix:Ji.R0,onlyData:!0,extraParams:t.queryParams,localTimeoutMs:t.localTimeoutMs,useAuthorizationHeader:t.useAuthorizationHeader}),t.deviceToImport?this.deviceId?V.warn("not importing device because device ID is provided to constructor independently of exported data"):this.credentials.userId?V.warn("not importing device because user ID is provided to constructor independently of exported data"):t.deviceToImport.deviceId?(this.deviceId=t.deviceToImport.deviceId,this.credentials.userId=t.deviceToImport.userId,this.exportedOlmDeviceToImport=t.deviceToImport.olmDevice):V.warn("not importing device because no device ID in exported data"):t.pickleKey&&(this.pickleKey=t.pickleKey),this.scheduler=t.scheduler,this.scheduler&&this.scheduler.setProcessFunction(async r=>{const i=this.getRoom(r.getRoomId());r.status!==Tr.SENDING&&this.updatePendingEventStatus(i,r,Tr.SENDING);const s=await this.sendEventHttpRequest(r);return i&&i.updatePendingEvent(r,Tr.SENT,s.event_id),s}),cJ()&&(this.callEventHandler=new Nde(this),this.groupCallEventHandler=new Bde(this),this.canSupportVoip=!0,this.on("sync",this.startCallEventHandler)),this.timelineSupport=Boolean(t.timelineSupport),this.cryptoStore=t.cryptoStore,this.verificationMethods=t.verificationMethods,this.cryptoCallbacks=t.cryptoCallbacks||{},this.forceTURN=t.forceTURN||!1,this.iceCandidatePoolSize=t.iceCandidatePoolSize===void 0?0:t.iceCandidatePoolSize,this.supportsCallTransfer=t.supportsCallTransfer||!1,this.fallbackICEServerAllowed=t.fallbackICEServerAllowed||!1,t.useE2eForGroupCall!==void 0&&(this.useE2eForGroupCall=t.useE2eForGroupCall),this.roomList=new Zde(this.cryptoStore),this.roomNameGenerator=t.roomNameGenerator,this.toDeviceMessageQueue=new vhe(this),this.on(Qi.Decrypted,r=>{HJ(this,r)}),this.on(Gr.Receipt,(r,i)=>{if(i&&this.isRoomEncrypted(i.roomId)){const s=r.getContent();if(!(Object.keys(s).filter(f=>{for(const[v,w]of Object.entries(s[f]))if(!!yU(v)&&!!w&&Object.keys(w).includes(this.getUserId()))return!0;return!1}).length>0))return;const l=20,d=i.getLiveTimeline().getEvents();let h=0;for(let f=d.length-1;f>=0;f--){if(f===d.length-l)return;const v=d[f];if(i.hasUserReadEvent(this.getUserId(),v.getId()))break;const w=this.getPushActionsForEvent(v);h+=w.tweaks&&w.tweaks.highlight?1:0}i.setUnreadNotificationCount(go.Highlight,h)}}),this.ignoredInvites=new bhe(this)}async startClient(t){if(this.clientRunning)return;this.clientRunning=!0,typeof t=="number"&&(t={initialSyncLimit:t});const e=this.getUserId();e&&this.store.storeUser(new aw(e)),this.crypto&&(this.crypto.uploadDeviceKeys(),this.crypto.start()),this.canSupportVoip&&(this.checkTurnServersIntervalID=setInterval(()=>{this.checkTurnServers()},uq),this.checkTurnServers()),this.syncApi&&(V.error("Still have sync object whilst not running: stopping old one"),this.syncApi.stop());const n=await this.getVersions();this.canSupport=await bde(n);const r=this.canSupport.get(eM.ThreadUnreadNotifications);B3.setPreferUnstable(r===QR.Unstable);const{threads:i,list:s}=await this.doesServerSupportThread();nu.setServerSideSupport(i),nu.setServerSideListSupport(s),this.clientOpts=Object.assign({},t),this.clientOpts.crypto=this.crypto,this.clientOpts.canResetEntireTimeline=o=>this.canResetTimelineCallback?this.canResetTimelineCallback(o):!1,this.clientOpts.slidingSync?this.syncApi=new NJ(this.clientOpts.slidingSync,this,this.clientOpts):this.syncApi=new tS(this,this.clientOpts),this.syncApi.sync(),this.clientOpts.clientWellKnownPollPeriod!==void 0&&(this.clientWellKnownIntervalID=setInterval(()=>{this.fetchClientWellKnown()},1e3*this.clientOpts.clientWellKnownPollPeriod),this.fetchClientWellKnown()),this.toDeviceMessageQueue.start()}stopClient(){var t,e,n,r,i;(t=this.crypto)==null||t.stop(),this.clientRunning&&(V.log("stopping MatrixClient"),this.clientRunning=!1,(e=this.syncApi)==null||e.stop(),this.syncApi=null,(n=this.peekSync)==null||n.stopPeeking(),(r=this.callEventHandler)==null||r.stop(),(i=this.groupCallEventHandler)==null||i.stop(),global.clearInterval(this.checkTurnServersIntervalID),this.checkTurnServersIntervalID=null,this.clientWellKnownIntervalID!==void 0&&global.clearInterval(this.clientWellKnownIntervalID),this.toDeviceMessageQueue.stop())}async rehydrateDevice(){if(this.crypto)throw new Error("Cannot rehydrate device after crypto is initialized");if(!this.cryptoCallbacks.getDehydrationKey)return;const t=await this.getDehydratedDevice();if(!t)return;if(!t.device_data||!t.device_id){V.info("no dehydrated device found");return}const e=new global.Olm.Account;try{const n=t.device_data;if(n.algorithm!==WC){V.warn("Wrong algorithm for dehydrated device");return}V.log("unpickling dehydrated device");const r=await this.cryptoCallbacks.getDehydrationKey(n,s=>{e.unpickle(new Uint8Array(s),n.account)});if(e.unpickle(r,n.account),V.log("unpickled device"),(await this.http.authedRequest(jt.Post,"/dehydrated_device/claim",void 0,{device_id:t.device_id},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})).success===!0){this.deviceId=t.device_id,V.info("using dehydrated device");const s=this.pickleKey||"DEFAULT_KEY";return this.exportedOlmDeviceToImport={pickledAccount:e.pickle(s),sessions:[],pickleKey:s},e.free(),this.deviceId}else{e.free(),V.info("not using dehydrated device");return}}catch(n){e.free(),V.warn("could not unpickle",n)}}async getDehydratedDevice(){try{return await this.http.authedRequest(jt.Get,"/dehydrated_device",void 0,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})}catch(t){V.info("could not get dehydrated device",t.toString());return}}setDehydrationKey(t,e,n){if(!this.crypto){V.warn("not dehydrating device if crypto is not enabled");return}return this.crypto.dehydrationManager.setKeyAndQueueDehydration(t,e,n)}async createDehydratedDevice(t,e,n){if(!this.crypto){V.warn("not dehydrating device if crypto is not enabled");return}return await this.crypto.dehydrationManager.setKey(t,e,n),this.crypto.dehydrationManager.dehydrateDevice()}async exportDevice(){if(!this.crypto){V.warn("not exporting device if crypto is not enabled");return}return{userId:this.credentials.userId,deviceId:this.deviceId,olmDevice:await this.crypto.olmDevice.export()}}clearStores(){if(this.clientRunning)throw new Error("Cannot clear stores while client is running");const t=[];return t.push(this.store.deleteAllData()),this.cryptoStore&&t.push(this.cryptoStore.deleteAllData()),Promise.all(t).then()}getUserId(){return this.credentials&&this.credentials.userId?this.credentials.userId:null}getDomain(){return this.credentials&&this.credentials.userId?this.credentials.userId.replace(/^.*?:/,""):null}getUserIdLocalpart(){return this.credentials&&this.credentials.userId?this.credentials.userId.split(":")[0].substring(1):null}getDeviceId(){return this.deviceId}getSessionId(){return this.sessionId}supportsVoip(){return this.canSupportVoip}getMediaHandler(){return this.mediaHandler}setForceTURN(t){this.forceTURN=t}setSupportsCallTransfer(t){this.supportsCallTransfer=t}getUseE2eForGroupCall(){return this.useE2eForGroupCall}createCall(t){return tx(this,t)}async createGroupCall(t,e,n,r,i,s){if(this.getGroupCallForRoom(t))throw new Error(`${t} already has an existing group call`);const o=this.getRoom(t);if(!o)throw new Error(`Cannot find room ${t}`);return new aJ(this,o,e,n,r,void 0,i,s).create()}waitUntilRoomReadyForGroupCalls(t){return this.groupCallEventHandler.waitUntilRoomReadyForGroupCalls(t)}getGroupCallForRoom(t){return this.groupCallEventHandler.groupCalls.get(t)||null}getSyncState(){return this.syncApi?this.syncApi.getSyncState():null}getSyncStateData(){return this.syncApi?this.syncApi.getSyncStateData():null}isInitialSyncComplete(){const t=this.getSyncState();return t?t===Ka.Prepared||t===Ka.Syncing:!1}isGuest(){return this.isGuestAccount}setGuest(t){this.isGuestAccount=t}getScheduler(){return this.scheduler}retryImmediately(){return this.toDeviceMessageQueue.sendQueue(),this.syncApi.retryImmediately()}getNotifTimelineSet(){return this.notifTimelineSet}setNotifTimelineSet(t){this.notifTimelineSet=t}getCapabilities(t=!1){const e=new Date().getTime();return this.cachedCapabilities&&!t&&e<this.cachedCapabilities.expiration?(V.log("Returning cached capabilities"),Promise.resolve(this.cachedCapabilities.capabilities)):this.http.authedRequest(jt.Get,"/capabilities").catch(n=>{V.error(n)}).then((n={})=>{const r=n.capabilities||{},i=Object.keys(r).length?Ehe:6e4+Math.random()*5e3;return this.cachedCapabilities={capabilities:r,expiration:e+i},V.log("Caching capabilities: ",r),r})}async initCrypto(){if(!AJ())throw new Error("End-to-end encryption not supported in this js-sdk build: did you remember to load the olm library?");if(this.crypto){V.warn("Attempt to re-initialise e2e encryption on MatrixClient");return}if(!this.cryptoStore)throw new Error("Cannot enable encryption: no cryptoStore provided");V.log("Crypto: Starting up crypto store..."),await this.cryptoStore.startup(),V.log("Crypto: initialising roomlist..."),await this.roomList.init();const t=this.getUserId();if(t===null)throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");if(this.deviceId===null)throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");const e=new oq(this,t,this.deviceId,this.store,this.cryptoStore,this.roomList,this.verificationMethods);this.reEmitter.reEmit(e,[ho.KeyBackupFailed,ho.KeyBackupSessionsRemaining,ho.RoomKeyRequest,ho.RoomKeyRequestCancellation,ho.Warning,ho.DevicesUpdated,ho.WillUpdateDevices,ho.DeviceVerificationChanged,ho.UserTrustStatusChanged,ho.KeysChanged]),V.log("Crypto: initialising crypto object..."),await e.init({exportedOlmDevice:this.exportedOlmDeviceToImport,pickleKey:this.pickleKey}),delete this.exportedOlmDeviceToImport,this.olmVersion=oq.getOlmVersion(),e.registerEventHandlers(this),this.crypto=e}isCryptoEnabled(){return!!this.crypto}getDeviceEd25519Key(){return this.crypto?this.crypto.getDeviceEd25519Key():null}getDeviceCurve25519Key(){return this.crypto?this.crypto.getDeviceCurve25519Key():null}async uploadKeys(){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.uploadDeviceKeys()}downloadKeys(t,e){return this.crypto?this.crypto.downloadKeys(t,e):Promise.reject(new Error("End-to-end encryption disabled"))}getStoredDevicesForUser(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevicesForUser(t)||[]}getStoredDevice(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevice(t,e)||null}setDeviceVerified(t,e,n=!0){const r=this.setDeviceVerification(t,e,n,null,null);return t==this.credentials.userId&&this.checkKeyBackup(),r}setDeviceBlocked(t,e,n=!0){return this.setDeviceVerification(t,e,null,n,null)}setDeviceKnown(t,e,n=!0){return this.setDeviceVerification(t,e,null,null,n)}async setDeviceVerification(t,e,n,r,i){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.setDeviceVerification(t,e,n,r,i)}requestVerificationDM(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerificationDM(t,e)}findVerificationRequestDMInProgress(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.findVerificationRequestDMInProgress(t)}getVerificationRequestsToDeviceInProgress(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getVerificationRequestsToDeviceInProgress(t)}requestVerification(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerification(t,e)}beginKeyVerification(t,e,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.beginKeyVerification(t,e,n)}checkSecretStorageKey(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStorageKey(t,e)}setGlobalBlacklistUnverifiedDevices(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setGlobalBlacklistUnverifiedDevices(t)}getGlobalBlacklistUnverifiedDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getGlobalBlacklistUnverifiedDevices()}setGlobalErrorOnUnknownDevices(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setGlobalErrorOnUnknownDevices(t)}getGlobalErrorOnUnknownDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getGlobalErrorOnUnknownDevices()}getCrossSigningId(t=PJ.Master){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCrossSigningId(t)}getStoredCrossSigningForUser(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredCrossSigningForUser(t)}checkUserTrust(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkUserTrust(t)}checkDeviceTrust(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkDeviceTrust(t,e)}checkIfOwnDeviceCrossSigned(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkIfOwnDeviceCrossSigned(t)}checkOwnCrossSigningTrust(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkOwnCrossSigningTrust(t)}checkCrossSigningPrivateKey(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkCrossSigningPrivateKey(t,e)}legacyDeviceVerification(t,e,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.legacyDeviceVerification(t,e,n)}prepareToEncrypt(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.prepareToEncrypt(t)}isCrossSigningReady(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isCrossSigningReady()}bootstrapCrossSigning(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapCrossSigning(t)}getCryptoTrustCrossSignedDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCryptoTrustCrossSignedDevices()}setCryptoTrustCrossSignedDevices(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setCryptoTrustCrossSignedDevices(t)}countSessionsNeedingBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.countSessionsNeedingBackup()}getEventEncryptionInfo(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getEventEncryptionInfo(t)}createRecoveryKeyFromPassphrase(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.createRecoveryKeyFromPassphrase(t)}isSecretStorageReady(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStorageReady()}bootstrapSecretStorage(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapSecretStorage(t)}addSecretStorageKey(t,e,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.addSecretStorageKey(t,e,n)}hasSecretStorageKey(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.hasSecretStorageKey(t)}storeSecret(t,e,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.storeSecret(t,e,n)}getSecret(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getSecret(t)}isSecretStored(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStored(t)}requestSecret(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestSecret(t,e)}getDefaultSecretStorageKeyId(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getDefaultSecretStorageKeyId()}setDefaultSecretStorageKeyId(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setDefaultSecretStorageKeyId(t)}checkSecretStoragePrivateKey(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStoragePrivateKey(t,e)}async getEventSenderDeviceInfo(t){return this.crypto?this.crypto.getEventSenderDeviceInfo(t):null}async isEventSenderVerified(t){const e=await this.getEventSenderDeviceInfo(t);return e?e.isVerified():!1}cancelAndResendEventRoomKeyRequest(t){return t.cancelAndResendKeyRequest(this.crypto,this.getUserId())}setRoomEncryption(t,e){if(!this.crypto)throw new Error("End-to-End encryption disabled");return this.crypto.setRoomEncryption(t,e)}isRoomEncrypted(t){const e=this.getRoom(t);return e?e.currentState.getStateEvents(Ot.RoomEncryption,"")?!0:this.roomList.isRoomEncrypted(t):!1}encryptAndSendToDevices(t,e){if(!this.crypto)throw new Error("End-to-End encryption disabled");return this.crypto.encryptAndSendToDevices(t,e)}forceDiscardSession(t){if(!this.crypto)throw new Error("End-to-End encryption disabled");this.crypto.forceDiscardSession(t)}exportRoomKeys(){return this.crypto?this.crypto.exportRoomKeys():Promise.reject(new Error("End-to-end encryption disabled"))}importRoomKeys(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.importRoomKeys(t,e)}checkKeyBackup(){return this.crypto.backupManager.checkKeyBackup()}async getKeyBackupVersion(){let t;try{t=await this.http.authedRequest(jt.Get,"/room_keys/version",void 0,void 0,{prefix:Ji.V3})}catch(e){if(e.errcode==="M_NOT_FOUND")return null;throw e}return Cy.checkBackupVersion(t),t}isKeyBackupTrusted(t){return this.crypto.backupManager.isKeyBackupTrusted(t)}getKeyBackupEnabled(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.getKeyBackupEnabled()}enableKeyBackup(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.enableKeyBackup(t)}disableKeyBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.backupManager.disableKeyBackup()}async prepareKeyBackupVersion(t,e={secureSecretStorage:!1}){if(!this.crypto)throw new Error("End-to-end encryption disabled");const{algorithm:n,auth_data:r,recovery_key:i,privateKey:s}=await this.crypto.backupManager.prepareKeyBackupVersion(t);return e.secureSecretStorage&&(await this.storeSecret("m.megolm_backup.v1",wl(s)),V.info("Key backup private key stored in secret storage")),{algorithm:n,auth_data:r,recovery_key:i}}isKeyBackupKeyStored(){return Promise.resolve(this.isSecretStored("m.megolm_backup.v1"))}async createKeyBackupVersion(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.backupManager.createKeyBackupVersion(t);const e={algorithm:t.algorithm,auth_data:t.auth_data};await this.crypto.signObject(e.auth_data),this.cryptoCallbacks.getCrossSigningKey&&this.crypto.crossSigningInfo.getId()&&await this.crypto.crossSigningInfo.signObject(e.auth_data,"master");const n=await this.http.authedRequest(jt.Post,"/room_keys/version",void 0,e,{prefix:Ji.V3});return await this.checkKeyBackup(),this.getKeyBackupEnabled()||V.error("Key backup not usable even though we just created it"),n}async deleteKeyBackupVersion(t){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.backupManager.version&&this.crypto.backupManager.disableKeyBackup();const e=Zn("/room_keys/version/$version",{$version:t});await this.http.authedRequest(jt.Delete,e,void 0,void 0,{prefix:Ji.V3})}makeKeyBackupPath(t,e,n){let r;return e!==void 0?r=Zn("/room_keys/keys/$roomId/$sessionId",{$roomId:t,$sessionId:e}):t!==void 0?r=Zn("/room_keys/keys/$roomId",{$roomId:t}):r="/room_keys/keys",{path:r,queryData:n===void 0?void 0:{version:n}}}async sendKeyBackup(t,e,n,r){if(!this.crypto)throw new Error("End-to-end encryption disabled");const i=this.makeKeyBackupPath(t,e,n);await this.http.authedRequest(jt.Put,i.path,i.queryData,r,{prefix:Ji.V3})}async scheduleAllGroupSessionsForBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.backupManager.scheduleAllGroupSessionsForBackup()}flagAllGroupSessionsForBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.flagAllGroupSessionsForBackup()}isValidRecoveryKey(t){try{return GC(t),!0}catch{return!1}}keyBackupKeyFromPassword(t,e){return tq(e.auth_data,t)}keyBackupKeyFromRecoveryKey(t){return GC(t)}async restoreKeyBackupWithPassword(t,e,n,r,i){const s=await tq(r.auth_data,t);return this.restoreKeyBackup(s,e,n,r,i)}async restoreKeyBackupWithSecretStorage(t,e,n,r){const i=await this.getSecret("m.megolm_backup.v1"),s=YC(i);if(s){const[l]=await this.crypto.getSecretStorageKey();await this.storeSecret("m.megolm_backup.v1",s,[l])}const o=za(s||i);return this.restoreKeyBackup(o,e,n,t,r)}restoreKeyBackupWithRecoveryKey(t,e,n,r,i){const s=GC(t);return this.restoreKeyBackup(s,e,n,r,i)}async restoreKeyBackupWithCache(t,e,n,r){const i=await this.crypto.getSessionBackupPrivateKey();if(!i)throw new Error("Couldn't get key");return this.restoreKeyBackup(i,t,e,n,r)}async restoreKeyBackup(t,e,n,r,i){const s=i==null?void 0:i.cacheCompleteCallback,o=i==null?void 0:i.progressCallback;if(!this.crypto)throw new Error("End-to-end encryption disabled");let l=0,d=[];const h=this.makeKeyBackupPath(e,n,r.version),f=await Cy.makeAlgorithm(r,async()=>t),v=f.untrusted;try{if(!await f.keyMatches(t))return Promise.reject(new U3({errcode:UJ.RESTORE_BACKUP_ERROR_BAD_KEY}));this.crypto.storeSessionBackupPrivateKey(t).catch(E=>{V.warn("Error caching session backup key:",E)}).then(s),o&&o({stage:"fetch"});const w=await this.http.authedRequest(jt.Get,h.path,h.queryData,void 0,{prefix:Ji.V3});if(w.rooms){const E=w.rooms;for(const[C,O]of Object.entries(E)){if(!O.sessions)continue;l+=Object.keys(O.sessions).length;const M=await f.decryptSessions(O.sessions);for(const A of M)A.room_id=C,d.push(A)}}else if(w.sessions){const E=w.sessions;l=Object.keys(E).length,d=await f.decryptSessions(E);for(const C of d)C.room_id=e}else{l=1;try{const[E]=await f.decryptSessions({[n]:w});E.room_id=e,E.session_id=n,d.push(E)}catch(E){V.log("Failed to decrypt megolm session from backup",E)}}}finally{f.free()}return await this.importRoomKeys(d,{progressCallback:o,untrusted:v,source:"backup"}),await this.checkKeyBackup(),{total:l,imported:d.length}}async deleteKeysFromBackup(t,e,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");const r=this.makeKeyBackupPath(t,e,n);await this.http.authedRequest(jt.Delete,r.path,r.queryData,void 0,{prefix:Ji.V3})}async sendSharedHistoryKeys(t,e){if(!this.crypto)throw new Error("End-to-end encryption disabled");const n=this.roomList.getRoomEncryption(t);if(!n){V.error("Unknown room.  Not sharing decryption keys");return}const r=await this.crypto.downloadKeys(e),i={};for(const[o,l]of Object.entries(r))i[o]=Object.values(l);const s=this.crypto.getRoomDecryptor(t,n.algorithm);s.sendSharedHistoryInboundSessions?await s.sendSharedHistoryInboundSessions(i):V.warn("Algorithm does not support sharing previous keys",n.algorithm)}getMediaConfig(){return this.http.authedRequest(jt.Get,"/config",void 0,void 0,{prefix:Ty.R0})}getRoom(t){return t?this.store.getRoom(t):null}getRooms(){return this.store.getRooms()}getVisibleRooms(){const t=this.store.getRooms(),e=new Set;for(const n of t){const r=n.currentState.getStateEvents(Ot.RoomCreate,"");if(r){const i=r.getContent().predecessor;i&&i.room_id&&e.add(i.room_id)}}return t.filter(n=>!(n.currentState.getStateEvents(Ot.RoomTombstone,"")&&e.has(n.roomId)))}getUser(t){return this.store.getUser(t)}getUsers(){return this.store.getUsers()}setAccountData(t,e){const n=Zn("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:t});return UZ(5,()=>this.http.authedRequest(jt.Put,n,void 0,e))}getAccountData(t){return this.store.getAccountData(t)}async getAccountDataFromServer(t){var n;if(this.isInitialSyncComplete()){const r=this.store.getAccountData(t);return r?r.getContent():null}const e=Zn("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:t});try{return await this.http.authedRequest(jt.Get,e)}catch(r){if(((n=r.data)==null?void 0:n.errcode)==="M_NOT_FOUND")return null;throw r}}getIgnoredUsers(){const t=this.getAccountData("m.ignored_user_list");return!t||!t.getContent()||!t.getContent().ignored_users?[]:Object.keys(t.getContent().ignored_users)}setIgnoredUsers(t){const e={ignored_users:{}};return t.forEach(n=>{e.ignored_users[n]={}}),this.setAccountData("m.ignored_user_list",e)}isUserIgnored(t){return this.getIgnoredUsers().includes(t)}async joinRoom(t,e={}){e.syncRoom===void 0&&(e.syncRoom=!0);const n=this.getRoom(t);if(n!=null&&n.hasMembershipState(this.credentials.userId,"join"))return Promise.resolve(n);let r=Promise.resolve();e.inviteSignUrl&&(r=this.http.requestOtherUrl(jt.Post,new URL(e.inviteSignUrl),{mxid:this.credentials.userId}));const i={};e.viaServers&&(i.server_name=e.viaServers);try{const s={},o=await r;o&&(s.third_party_signed=o);const l=Zn("/join/$roomid",{$roomid:t}),h=(await this.http.authedRequest(jt.Post,l,i,s)).room_id,v=new tS(this,this.clientOpts).createRoom(h);return e.syncRoom,v}catch(s){throw s}}resendEvent(t,e){return this.toDeviceMessageQueue.sendQueue(),this.updatePendingEventStatus(e,t,Tr.SENDING),this.encryptAndSendEvent(e,t)}cancelPendingEvent(t){if(![Tr.QUEUED,Tr.NOT_SENT,Tr.ENCRYPTING].includes(t.status))throw new Error("cannot cancel an event with status "+t.status);t.status===Tr.ENCRYPTING?this.pendingEventEncryption.delete(t.getId()):this.scheduler&&t.status===Tr.QUEUED&&this.scheduler.removeEventFromQueue(t);const e=this.getRoom(t.getRoomId());this.updatePendingEventStatus(e,t,Tr.CANCELLED)}setRoomName(t,e){return this.sendStateEvent(t,Ot.RoomName,{name:e})}setRoomTopic(t,e,n){const r=JZ(e,n);return this.sendStateEvent(t,Ot.RoomTopic,r)}getRoomTags(t){const e=Zn("/user/$userId/rooms/$roomId/tags",{$userId:this.credentials.userId,$roomId:t});return this.http.authedRequest(jt.Get,e)}setRoomTag(t,e,n){const r=Zn("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:t,$tag:e});return this.http.authedRequest(jt.Put,r,void 0,n)}deleteRoomTag(t,e){const n=Zn("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:t,$tag:e});return this.http.authedRequest(jt.Delete,n)}setRoomAccountData(t,e,n){const r=Zn("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:t,$type:e});return this.http.authedRequest(jt.Put,r,void 0,n)}setPowerLevel(t,e,n,r){let i={users:{}};(r==null?void 0:r.getType())===Ot.RoomPowerLevels&&(i=GR(r.getContent())),i.users[e]=n;const s=Zn("/rooms/$roomId/state/m.room.power_levels",{$roomId:t});return this.http.authedRequest(jt.Put,s,void 0,i)}async unstable_createLiveBeacon(t,e){return this.unstable_setLiveBeacon(t,e)}async unstable_setLiveBeacon(t,e){const n=this.getUserId();return this.sendStateEvent(t,BJ.name,e,n)}sendEvent(t,e,n,r,i){var s,o,l,d,h;if(!(e!=null&&e.startsWith(Jd))&&e!==null&&(i=r,r=n,n=e,e=null),e&&!((s=r["m.relates_to"])!=null&&s.rel_type)){const f=!!((o=r["m.relates_to"])!=null&&o["m.in_reply_to"]);r["m.relates_to"]={...r["m.relates_to"],rel_type:Ro.name,event_id:e,is_falling_back:!f};const v=(l=this.getRoom(t))==null?void 0:l.getThread(e);v&&!f&&(r["m.relates_to"]["m.in_reply_to"]={event_id:(h=(d=v.lastReply(w=>w.isRelation(Ro.name)&&!w.status))==null?void 0:d.getId())!=null?h:e})}return this.sendCompleteEvent(t,e,{type:n,content:r},i)}sendCompleteEvent(t,e,n,r){r||(r=this.makeTxnId());const i=new Ao(Object.assign(n,{event_id:"~"+t+":"+r,user_id:this.credentials.userId,sender:this.credentials.userId,room_id:t,origin_server_ts:new Date().getTime()})),s=this.getRoom(t),o=s==null?void 0:s.getThread(e);o&&i.setThread(o),this.reEmitter.reEmit(i,[Qi.Replaced,Qi.VisibilityChange]),s==null||s.reEmitter.reEmit(i,[Qi.BeforeRedaction]);const l=i.getAssociatedId();if(l!=null&&l.startsWith("~")){const h=s.getPendingEvents().find(f=>f.getId()===l);h.once(Qi.LocalEventIdReplaced,()=>{i.updateAssociatedId(h.getId())})}const d=i.getType();return V.log(`sendEvent of type ${d} in ${t} with txnId ${r}`),i.setTxnId(r),i.setStatus(Tr.SENDING),s==null||s.addPendingEvent(i,r),i.status===Tr.NOT_SENT?Promise.reject(new Error("Event blocked by other events not yet sent")):this.encryptAndSendEvent(s,i)}encryptAndSendEvent(t,e){let n=!1;return Promise.resolve().then(()=>{const r=this.encryptEventIfNeeded(e,t);return r?(this.pendingEventEncryption.set(e.getId(),r),this.updatePendingEventStatus(t,e,Tr.ENCRYPTING),r.then(()=>{if(!this.pendingEventEncryption.has(e.getId())){n=!0;return}this.updatePendingEventStatus(t,e,Tr.SENDING)})):null}).then(()=>{if(n)return{};let r;return this.scheduler&&(r=this.scheduler.queueEvent(e),r&&this.scheduler.getQueueForEvent(e).length>1&&this.updatePendingEventStatus(t,e,Tr.QUEUED)),r||(r=this.sendEventHttpRequest(e),t&&(r=r.then(i=>(t.updatePendingEvent(e,Tr.SENT,i.event_id),i)))),r}).catch(r=>{V.error("Error sending event",r.stack||r);try{e.error=r,this.updatePendingEventStatus(t,e,Tr.NOT_SENT),r.event=e}catch(i){V.error("Exception in error handler!",i.stack||r)}throw r})}encryptEventIfNeeded(t,e){if(t.isEncrypted()||t.isRedaction()||!this.isRoomEncrypted(t.getRoomId())||!this.crypto&&this.usingExternalCrypto||t.getType()===Ot.Reaction)return null;if(!this.crypto)throw new Error("This room is configured to use encryption, but your client does not support encryption.");return this.crypto.encryptEvent(t,e)}getEncryptedIfNeededEventType(t,e){return e===Ot.Reaction?e:this.isRoomEncrypted(t)?Ot.RoomMessageEncrypted:e}updatePendingEventStatus(t,e,n){t?t.updatePendingEvent(e,n):e.setStatus(n)}sendEventHttpRequest(t){let e=t.getTxnId();e||(e=this.makeTxnId(),t.setTxnId(e));const n={$roomId:t.getRoomId(),$eventType:t.getWireType(),$stateKey:t.getStateKey(),$txnId:e};let r;if(t.isState()){let i="/rooms/$roomId/state/$eventType";t.getStateKey()&&t.getStateKey().length>0&&(i="/rooms/$roomId/state/$eventType/$stateKey"),r=Zn(i,n)}else t.isRedaction()?r=Zn("/rooms/$roomId/redact/$redactsEventId/$txnId",Object.assign({$redactsEventId:t.event.redacts},n)):r=Zn("/rooms/$roomId/send/$eventType/$txnId",n);return this.http.authedRequest(jt.Put,r,void 0,t.getWireContent()).then(i=>(V.log(`Event sent to ${t.getRoomId()} with event id ${i.event_id}`),i))}redactEvent(t,e,n,r,i){n!=null&&n.startsWith(Jd)||(i=r,r=n,n=e,e=null);const s=i==null?void 0:i.reason;return this.sendCompleteEvent(t,e,{type:Ot.RoomRedaction,content:{reason:s},redacts:n},r)}sendMessage(t,e,n,r){typeof e!="string"&&e!==null&&(r=n,n=e,e=null);let i=Ot.RoomMessage,s=n;const o=(d={},h=!0)=>{let f=null;if(d.msgtype===Xl.Text?f=bf.MessageEvent.from(d.body,d.formatted_body).serialize():d.msgtype===Xl.Emote?f=bf.EmoteEvent.from(d.body,d.formatted_body).serialize():d.msgtype===Xl.Notice&&(f=bf.NoticeEvent.from(d.body,d.formatted_body).serialize()),f&&d["m.new_content"]&&h){const v=o(d["m.new_content"],!1);v&&(f.content["m.new_content"]=v.content)}if(f)for(const[v,w]of Object.entries(d))f.content.hasOwnProperty(v)||(f.content[v]=w);return f},l=o(s);return l&&(i=l.type,s=l.content),this.sendEvent(t,e,i,s,r)}sendTextMessage(t,e,n,r){!(e!=null&&e.startsWith(Jd))&&e!==null&&(r=n,n=e,e=null);const i=GZ(n);return this.sendMessage(t,e,i,r)}sendNotice(t,e,n,r){!(e!=null&&e.startsWith(Jd))&&e!==null&&(r=n,n=e,e=null);const i=WZ(n);return this.sendMessage(t,e,i,r)}sendEmoteMessage(t,e,n,r){!(e!=null&&e.startsWith(Jd))&&e!==null&&(r=n,n=e,e=null);const i=YZ(n);return this.sendMessage(t,e,i,r)}sendImageMessage(t,e,n,r,i="Image"){!(e!=null&&e.startsWith(Jd))&&e!==null&&(i=r||"Image",r=n,n=e,e=null);const s={msgtype:Xl.Image,url:n,info:r,body:i};return this.sendMessage(t,e,s)}sendStickerMessage(t,e,n,r,i="Sticker"){!(e!=null&&e.startsWith(Jd))&&e!==null&&(i=r||"Sticker",r=n,n=e,e=null);const s={url:n,info:r,body:i};return this.sendEvent(t,e,Ot.Sticker,s)}sendHtmlMessage(t,e,n,r){!(e!=null&&e.startsWith(Jd))&&e!==null&&(r=n,n=e,e=null);const i=zZ(n,r);return this.sendMessage(t,e,i)}sendHtmlNotice(t,e,n,r){!(e!=null&&e.startsWith(Jd))&&e!==null&&(r=n,n=e,e=null);const i=qZ(n,r);return this.sendMessage(t,e,i)}sendHtmlEmote(t,e,n,r){!(e!=null&&e.startsWith(Jd))&&e!==null&&(r=n,n=e,e=null);const i=VZ(n,r);return this.sendMessage(t,e,i)}async sendReceipt(t,e,n){if(this.isGuest())return Promise.resolve({});const r=Zn("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:t.getRoomId(),$receiptType:e,$eventId:t.getId()});if(await this.doesServerSupportUnstableFeature("org.matrix.msc3771")){const o=!!t.threadRootId;n.thread_id=o?t.threadRootId:DU}const i=this.http.authedRequest(jt.Post,r,void 0,n||{}),s=this.getRoom(t.getRoomId());return s&&this.credentials.userId&&s.addLocalEchoReceipt(this.credentials.userId,t,e),i}async sendReadReceipt(t,e=Cc.Read){if(!t)return;const n=t.getId(),r=this.getRoom(t.getRoomId());if(r&&r.hasPendingEvent(n))throw new Error(`Cannot set read receipt to a pending event (${n})`);return this.sendReceipt(t,e,{})}async setRoomReadMarkers(t,e,n,r){const i=this.getRoom(t);if(i&&i.hasPendingEvent(e))throw new Error(`Cannot set read marker to a pending event (${e})`);let s;if(n){if(s=n.getId(),i!=null&&i.hasPendingEvent(s))throw new Error(`Cannot set read receipt to a pending event (${s})`);i==null||i.addLocalEchoReceipt(this.credentials.userId,n,Cc.Read)}let o;if(r){if(o=r.getId(),i!=null&&i.hasPendingEvent(o))throw new Error(`Cannot set read receipt to a pending event (${o})`);i==null||i.addLocalEchoReceipt(this.credentials.userId,r,Cc.ReadPrivate)}return await this.setRoomReadMarkersHttpRequest(t,e,s,o)}getUrlPreview(t,e){e=Math.floor(e/6e4)*6e4;const n=new URL(t);n.hash="",t=n.toString();const r=e+"_"+t,i=this.urlPreviewCache[r];if(i)return i;const s=this.http.authedRequest(jt.Get,"/preview_url",{url:t,ts:e.toString()},void 0,{prefix:Ty.R0});return this.urlPreviewCache[r]=s,s}sendTyping(t,e,n){if(this.isGuest())return Promise.resolve({});const r=Zn("/rooms/$roomId/typing/$userId",{$roomId:t,$userId:this.credentials.userId}),i={typing:e};return e&&(i.timeout=n||2e4),this.http.authedRequest(jt.Put,r,void 0,i)}getRoomUpgradeHistory(t,e=!1){let n=this.getRoom(t);if(!n)return[];const r=[n];let i=n.currentState.getStateEvents(Ot.RoomCreate,"");for(;i;){const o=i.getContent().predecessor;if(o&&o.room_id){const l=this.getRoom(o.room_id);if(!l)break;if(e){const d=l.currentState.getStateEvents(Ot.RoomTombstone,"");if(!d||d.getContent().replacement_room!==l.roomId)break}r.splice(0,0,l),i=l.currentState.getStateEvents(Ot.RoomCreate,"")}else break}let s=n.currentState.getStateEvents(Ot.RoomTombstone,"");for(;s;){const o=this.getRoom(s.getContent().replacement_room);if(!o||o.roomId===n.roomId||e&&(i=o.currentState.getStateEvents(Ot.RoomCreate,""),!i||!i.getContent().predecessor||i.getContent().predecessor.room_id!==n.roomId))break;if(r.push(o),new Set(r.map(d=>d.roomId)).size<r.length)return r.slice(0,r.length-1);n=o,s=n.currentState.getStateEvents(Ot.RoomTombstone,"")}return r}invite(t,e,n){return this.membershipChange(t,e,"invite",n)}inviteByEmail(t,e){return this.inviteByThreePid(t,"email",e)}async inviteByThreePid(t,e,n){var o;const r=Zn("/rooms/$roomId/invite",{$roomId:t}),i=this.getIdentityServerUrl(!0);if(!i)return Promise.reject(new U3({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"}));const s={id_server:i,medium:e,address:n};if(((o=this.identityServer)==null?void 0:o.getAccessToken)&&await this.doesServerAcceptIdentityAccessToken()){const l=await this.identityServer.getAccessToken();l&&(s.id_access_token=l)}return this.http.authedRequest(jt.Post,r,void 0,s)}leave(t){return this.membershipChange(t,void 0,"leave")}leaveRoomChain(t,e=!0){const n=this.getRoomUpgradeHistory(t);let r=n;if(!e){r=[];for(const l of n)if(r.push(l),l.roomId===t)break}const i={},s=[],o=l=>this.leave(l).then(()=>{i[l]=null}).catch(d=>(i[l]=d,null));for(const l of r)s.push(o(l.roomId));return Promise.all(s).then(()=>i)}ban(t,e,n){return this.membershipChange(t,e,"ban",n)}forget(t,e=!0){const n=this.membershipChange(t,void 0,"forget");return e?n.then(r=>(this.store.removeRoom(t),this.emit("deleteRoom",t),r)):n}unban(t,e){const n=Zn("/rooms/$roomId/unban",{$roomId:t}),r={user_id:e};return this.http.authedRequest(jt.Post,n,void 0,r)}kick(t,e,n){const r=Zn("/rooms/$roomId/kick",{$roomId:t}),i={user_id:e,reason:n};return this.http.authedRequest(jt.Post,r,void 0,i)}membershipChange(t,e,n,r){const i=Zn("/rooms/$room_id/$membership",{$room_id:t,$membership:n});return this.http.authedRequest(jt.Post,i,void 0,{user_id:e,reason:r})}getPushActionsForEvent(t,e=!1){return(!t.getPushActions()||e)&&t.setPushActions(this.pushProcessor.actionsForEvent(t)),t.getPushActions()}setProfileInfo(t,e){const n=Zn("/profile/$userId/$info",{$userId:this.credentials.userId,$info:t});return this.http.authedRequest(jt.Put,n,void 0,e)}async setDisplayName(t){const e=await this.setProfileInfo("displayname",{displayname:t}),n=this.getUser(this.getUserId());return n&&(n.displayName=t,n.emit(Ic.DisplayName,n.events.presence,n)),e}async setAvatarUrl(t){const e=await this.setProfileInfo("avatar_url",{avatar_url:t}),n=this.getUser(this.getUserId());return n&&(n.avatarUrl=t,n.emit(Ic.AvatarUrl,n.events.presence,n)),e}mxcUrlToHttp(t,e,n,r,i){return YR(this.baseUrl,t,e,n,r,i)}async setPresence(t){const e=Zn("/presence/$userId/status",{$userId:this.credentials.userId});if(typeof t=="string"&&(t={presence:t}),["offline","online","unavailable"].indexOf(t.presence)===-1)throw new Error("Bad presence value: "+t.presence);await this.http.authedRequest(jt.Put,e,void 0,t)}getPresence(t){const e=Zn("/presence/$userId/status",{$userId:t});return this.http.authedRequest(jt.Get,e)}scrollback(t,e=30){let n=0,r=this.ongoingScrollbacks[t.roomId]||{};if(r.promise)return r.promise;if(r.errorTs){const o=Date.now()-r.errorTs;n=Math.max(_he-o,0)}if(t.oldState.paginationToken===null)return Promise.resolve(t);const i=this.store.scrollback(t,e).length;if(i===e)return Promise.resolve(t);e=e-i;const s=new Promise((o,l)=>{N3(n).then(()=>this.createMessagesRequest(t.roomId,t.oldState.paginationToken,e,as.Backward)).then(d=>{const h=d.chunk.map(this.getEventMapper());if(d.state){const w=d.state.map(this.getEventMapper());t.currentState.setUnknownStateEvents(w)}const[f,v]=t.partitionThreadedEvents(h);this.processBeaconEvents(t,f),t.addEventsToTimeline(f,!0,t.getLiveTimeline()),this.processThreadEvents(t,v,!0),t.oldState.paginationToken=d.end,d.chunk.length===0&&(t.oldState.paginationToken=null),this.store.storeEvents(t,h,d.end,!0),this.ongoingScrollbacks[t.roomId]=null,o(t)}).catch(d=>{this.ongoingScrollbacks[t.roomId]={errorTs:Date.now()},l(d)})});return r={promise:s,errorTs:null},this.ongoingScrollbacks[t.roomId]=r,s}getEventMapper(t){return che(this,t||{})}async getEventTimeline(t,e){var v,w,E;if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(!(t!=null&&t.room))throw new Error("getEventTimeline only supports room timelines");if(t.getTimelineForEvent(e))return t.getTimelineForEvent(e);const n=Zn("/rooms/$roomId/context/$eventId",{$roomId:t.room.roomId,$eventId:e});let r;this.clientOpts.lazyLoadMembers&&(r={filter:JSON.stringify(cf.LAZY_LOADING_MESSAGES_FILTER)});const i=await this.http.authedRequest(jt.Get,n,r);if(!i.event)throw new Error("'event' not in '/context' result - homeserver too old?");if(t.getTimelineForEvent(e))return t.getTimelineForEvent(e);const s=this.getEventMapper(),o=s(i.event),l=[...i.events_after.reverse().map(s),o,...i.events_before.map(s)];if(this.supportsExperimentalThreads()){if(!t.canContain(o))return;if(nu.hasServerSideSupport&&t.thread){const C=t.thread,O={dir:as.Backward,limit:50};await C.fetchInitialEvents();let M=C.liveTimeline.getPaginationToken(as.Backward);for(;!C.findEventById(e)&&(M&&(O.from=M),{nextBatch:M}=await C.fetchEvents(O),!!M););return C.liveTimeline}}let d=t.getTimelineForEvent(l[0].getId());d?d.getState(pr.BACKWARDS).setUnknownStateEvents(i.state.map(s)):(d=t.addTimeline(),d.initialiseState(i.state.map(s)),d.getState(pr.FORWARDS).paginationToken=i.end);const[h,f]=t.room.partitionThreadedEvents(l);return t.addEventsToTimeline(h,!0,d,i.start),this.processThreadEvents(t.room,f,!0),this.processBeaconEvents(t.room,h),(E=(w=t.getTimelineForEvent(e))!=null?w:(v=t.room.findThreadForEvent(o))==null?void 0:v.liveTimeline)!=null?E:d}async getLatestTimeline(t){var i;if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(!t.room)throw new Error("getLatestTimeline only supports room timelines");let e;const n=t.room.roomId;t.isThreadTimeline?e=await this.createThreadListMessagesRequest(n,null,1,as.Backward,t.getFilter()):e=await this.createMessagesRequest(n,null,1,as.Backward,t.getFilter());const r=(i=e.chunk)==null?void 0:i[0];if(!r)throw new Error("No message returned from /messages when trying to construct getLatestTimeline");return this.getEventTimeline(t,r.event_id)}createMessagesRequest(t,e,n=30,r,i){var d;const s=Zn("/rooms/$roomId/messages",{$roomId:t}),o={limit:n.toString(),dir:r};e&&(o.from=e);let l=null;return this.clientOpts.lazyLoadMembers&&(l=Object.assign({},cf.LAZY_LOADING_MESSAGES_FILTER)),i&&(l=l||{},Object.assign(l,(d=i.getRoomTimelineFilterComponent())==null?void 0:d.toJSON())),l&&(o.filter=JSON.stringify(l)),this.http.authedRequest(jt.Get,s,o)}createThreadListMessagesRequest(t,e,n=30,r=as.Backward,i){var h;const s=Zn("/rooms/$roomId/threads",{$roomId:t}),o={limit:n.toString(),dir:r,include:"all"};e&&(o.from=e);let l=null;this.clientOpts.lazyLoadMembers&&(l={...l,...cf.LAZY_LOADING_MESSAGES_FILTER}),i&&(l={...l,...(h=i.getRoomTimelineFilterComponent())==null?void 0:h.toJSON()}),l&&(o.filter=JSON.stringify(l));const d={};return nu.hasServerSideListSupport===XC.Experimental&&(d.prefix="/_matrix/client/unstable/org.matrix.msc3856"),this.http.authedRequest(jt.Get,s,o,void 0,d).then(f=>({...f,start:f.prev_batch,end:f.next_batch}))}paginateEventTimeline(t,e){var w;const n=t.getTimelineSet()===this.notifTimelineSet,r=this.getRoom(t.getRoomId()),i=t.getTimelineSet().isThreadTimeline;e=e||{};const s=e.backwards||!1;if(n&&!s)throw new Error("paginateNotifTimeline can only paginate backwards");const o=s?pr.BACKWARDS:pr.FORWARDS,l=t.getPaginationToken(o),d=t.paginationRequests[o];if(d)return d;let h,f,v;if(n)h="/notifications",f={limit:((w=e.limit)!=null?w:30).toString(),only:"highlight"},l&&l!=="end"&&(f.from=l),v=this.http.authedRequest(jt.Get,h,f).then(async E=>{const C=E.next_token,O=[];for(let A=0;A<E.notifications.length;A++){const D=E.notifications[A],U=this.getEventMapper()(D.event);U.setPushActions(h3.actionListToActionsObject(D.actions)),U.event.room_id=D.room_id,O[A]=U}const M=t.getTimelineSet();return M.addEventsToTimeline(O,s,t,C),this.processBeaconEvents(M.room,O),s&&!E.next_token&&t.setPaginationToken(null,o),Boolean(E.next_token)}).finally(()=>{t.paginationRequests[o]=null}),t.paginationRequests[o]=v;else if(i){if(!r)throw new Error("Unknown room "+t.getRoomId());v=this.createThreadListMessagesRequest(t.getRoomId(),l,e.limit,o,t.getFilter()).then(E=>{if(E.state){const A=t.getState(o),D=E.state.map(this.getEventMapper());A.setUnknownStateEvents(D)}const C=E.end,O=E.chunk.map(this.getEventMapper());return t.getTimelineSet().addEventsToTimeline(O,s,t,C),this.processBeaconEvents(r,O),this.processThreadRoots(r,O,s),s&&E.end==E.start&&t.setPaginationToken(null,o),E.end!==E.start}).finally(()=>{t.paginationRequests[o]=null}),t.paginationRequests[o]=v}else{if(!r)throw new Error("Unknown room "+t.getRoomId());v=this.createMessagesRequest(t.getRoomId(),l,e.limit,o,t.getFilter()).then(E=>{if(E.state){const R=t.getState(o),X=E.state.map(this.getEventMapper());R.setUnknownStateEvents(X)}const C=E.end,O=E.chunk.map(this.getEventMapper()),M=t.getTimelineSet(),[A,D]=r.partitionThreadedEvents(O);M.addEventsToTimeline(A,s,t,C),this.processBeaconEvents(r,A),this.processThreadEvents(r,D,s);const U=E.end===void 0||E.end===E.start;return s&&U&&t.setPaginationToken(null,o),!U}).finally(()=>{t.paginationRequests[o]=null}),t.paginationRequests[o]=v}return v}resetNotifTimelineSet(){!this.notifTimelineSet||this.notifTimelineSet.resetLiveTimeline("end",null)}peekInRoom(t){return this.peekSync&&this.peekSync.stopPeeking(),this.peekSync=new tS(this,this.clientOpts),this.peekSync.peek(t)}stopPeeking(){this.peekSync&&(this.peekSync.stopPeeking(),this.peekSync=null)}setGuestAccess(t,e){const n=this.sendStateEvent(t,Ot.RoomGuestAccess,{guest_access:e.allowJoin?"can_join":"forbidden"},"");let r=Promise.resolve(void 0);return e.allowRead&&(r=this.sendStateEvent(t,Ot.RoomHistoryVisibility,{history_visibility:"world_readable"},"")),Promise.all([r,n]).then()}requestRegisterEmailToken(t,e,n,r){return this.requestTokenFromEndpoint("/register/email/requestToken",{email:t,client_secret:e,send_attempt:n,next_link:r})}requestRegisterMsisdnToken(t,e,n,r,i){return this.requestTokenFromEndpoint("/register/msisdn/requestToken",{country:t,phone_number:e,client_secret:n,send_attempt:r,next_link:i})}requestAdd3pidEmailToken(t,e,n,r){return this.requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:t,client_secret:e,send_attempt:n,next_link:r})}requestAdd3pidMsisdnToken(t,e,n,r,i){return this.requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:t,phone_number:e,client_secret:n,send_attempt:r,next_link:i})}requestPasswordEmailToken(t,e,n,r){return this.requestTokenFromEndpoint("/account/password/email/requestToken",{email:t,client_secret:e,send_attempt:n,next_link:r})}requestPasswordMsisdnToken(t,e,n,r,i){return this.requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:t,phone_number:e,client_secret:n,send_attempt:r,next_link:i})}async requestTokenFromEndpoint(t,e){var r;const n=Object.assign({},e);if(!await this.doesServerSupportSeparateAddAndBind()&&this.idBaseUrl){const i=new URL(this.idBaseUrl);if(n.id_server=i.host,((r=this.identityServer)==null?void 0:r.getAccessToken)&&await this.doesServerAcceptIdentityAccessToken()){const s=await this.identityServer.getAccessToken();s&&(n.id_access_token=s)}}return this.http.request(jt.Post,t,void 0,n)}getRoomPushRule(t,e){if(this.pushRules){if(!this.pushRules[t]||!this.pushRules[t].room)return;for(let n=0;n<this.pushRules[t].room.length;n++){const r=this.pushRules[t].room[n];if(r.rule_id===e)return r}}else throw new Error("SyncApi.sync() must be done before accessing to push rules.")}setRoomMutePushRule(t,e,n){let r,i=!1;const s=this.getRoomPushRule(t,e);if(s!=null&&s.actions.includes(Eg.DontNotify)&&(i=!0),!n)i&&(r=this.deletePushRule(t,pa.RoomSpecific,s.rule_id));else if(!s)r=this.addPushRule(t,pa.RoomSpecific,e,{actions:[Eg.DontNotify]});else if(!i){const o=rv();this.deletePushRule(t,pa.RoomSpecific,s.rule_id).then(()=>{this.addPushRule(t,pa.RoomSpecific,e,{actions:[Eg.DontNotify]}).then(()=>{o.resolve()}).catch(l=>{o.reject(l)})}).catch(l=>{o.reject(l)}),r=o.promise}if(r)return new Promise((o,l)=>{r.then(()=>{this.getPushRules().then(d=>{this.pushRules=d,o()}).catch(d=>{l(d)})}).catch(d=>{this.getPushRules().then(h=>{this.pushRules=h,l(d)}).catch(h=>{l(d)})})})}searchMessageText(t){const e={search_term:t.query};return"keys"in t&&(e.keys=t.keys),this.search({body:{search_categories:{room_events:e}}})}searchRoomEvents(t){const e={search_categories:{room_events:{search_term:t.term,filter:t.filter,order_by:PU.Recent,event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},n={_query:e,results:[],highlights:[]};return this.search({body:e}).then(r=>this.processRoomEventsSearch(n,r))}backPaginateRoomEventsSearch(t){if(!t.next_batch)return Promise.reject(new Error("Cannot backpaginate event search any further"));if(t.pendingRequest)return t.pendingRequest;const e={body:t._query,next_batch:t.next_batch},n=this.search(e).then(r=>this.processRoomEventsSearch(t,r)).finally(()=>{t.pendingRequest=null});return t.pendingRequest=n,n}processRoomEventsSearch(t,e){var o,l;const n=e.search_categories.room_events;t.count=n.count,t.next_batch=n.next_batch;const r=new Set(n.highlights);t.highlights.forEach(d=>{r.add(d)}),t.highlights=Array.from(r);const i=this.getEventMapper(),s=(l=(o=n.results)==null?void 0:o.length)!=null?l:0;for(let d=0;d<s;d++){const h=MU.fromJson(n.results[d],i),f=this.getRoom(h.context.getEvent().getRoomId());if(f)for(const v of h.context.getTimeline()){const w=f.getMember(v.getSender());!v.sender&&w&&(v.sender=w)}t.results.push(h)}return t}syncLeftRooms(){if(this.syncedLeftRooms)return Promise.resolve([]);if(this.syncLeftRoomsPromise)return this.syncLeftRoomsPromise;const t=new tS(this,this.clientOpts);return this.syncLeftRoomsPromise=t.syncLeftRooms(),this.syncLeftRoomsPromise.then(()=>{V.log("Marking success of sync left room request"),this.syncedLeftRooms=!0}).finally(()=>{this.syncLeftRoomsPromise=null}),this.syncLeftRoomsPromise}createFilter(t){const e=Zn("/user/$userId/filter",{$userId:this.credentials.userId});return this.http.authedRequest(jt.Post,e,void 0,t).then(n=>{const r=cf.fromJson(this.credentials.userId,n.filter_id,t);return this.store.storeFilter(r),r})}getFilter(t,e,n){if(n){const i=this.store.getFilter(t,e);if(i)return Promise.resolve(i)}const r=Zn("/user/$userId/filter/$filterId",{$userId:t,$filterId:e});return this.http.authedRequest(jt.Get,r).then(i=>{const s=cf.fromJson(t,e,i);return this.store.storeFilter(s),s})}async getOrCreateFilter(t,e){const n=this.store.getFilterIdByName(t);let r;if(n){try{const s=await this.getFilter(this.credentials.userId,n,!0);if(s){const o=s.getDefinition(),l=e.getDefinition();D3(o,l)&&(r=n)}}catch(s){if(s.errcode!=="M_UNKNOWN"&&s.errcode!=="M_NOT_FOUND")throw s}r||this.store.setFilterIdByName(t,void 0)}if(r)return r;const i=await this.createFilter(e.getDefinition());return this.store.setFilterIdByName(t,i.filterId),i.filterId}getOpenIdToken(){const t=Zn("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this.http.authedRequest(jt.Post,t,void 0,{})}turnServer(){return this.http.authedRequest(jt.Get,"/voip/turnServer")}getTurnServers(){return this.turnServers||[]}getTurnServersExpiry(){return this.turnServersExpiry}get pollingTurnServers(){return this.checkTurnServersIntervalID!==null}async checkTurnServers(){if(!this.canSupportVoip)return;let t=!1;const e=this.turnServersExpiry-Date.now();if(e>uq)V.debug("TURN creds are valid for another "+e+" ms: not fetching new ones."),t=!0;else{V.debug("Fetching new TURN credentials");try{const n=await this.turnServer();if(n.uris){V.log("Got TURN URIs: "+n.uris+" refresh in "+n.ttl+" secs");const r={urls:n.uris,username:n.username,credential:n.password};this.turnServers=[r],this.turnServersExpiry=Date.now()+n.ttl*1e3,t=!0,this.emit("turnServers",this.turnServers)}}catch(n){V.error("Failed to get TURN URIs",n),n.httpStatus===403?(V.info("TURN access unavailable for this account: stopping credentials checks"),this.checkTurnServersIntervalID!==null&&global.clearInterval(this.checkTurnServersIntervalID),this.checkTurnServersIntervalID=null,this.emit("turnServers.error",n,!0)):this.emit("turnServers.error",n,!1)}}return t}setFallbackICEServerAllowed(t){this.fallbackICEServerAllowed=t}isFallbackICEServerAllowed(){return this.fallbackICEServerAllowed}isSynapseAdministrator(){const t=Zn("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this.http.authedRequest(jt.Get,t,void 0,void 0,{prefix:""}).then(e=>e.admin)}whoisSynapseUser(t){const e=Zn("/_synapse/admin/v1/whois/$userId",{$userId:t});return this.http.authedRequest(jt.Get,e,void 0,void 0,{prefix:""})}deactivateSynapseUser(t){const e=Zn("/_synapse/admin/v1/deactivate/$userId",{$userId:t});return this.http.authedRequest(jt.Post,e,void 0,void 0,{prefix:""})}async fetchClientWellKnown(){this.clientWellKnownPromise=Qa.getRawClientConfig(this.getDomain()),this.clientWellKnown=await this.clientWellKnownPromise,this.emit("WellKnown.client",this.clientWellKnown)}getClientWellKnown(){return this.clientWellKnown}waitForClientWellKnown(){return this.clientWellKnownPromise}storeClientOptions(){const t=["boolean","string","number"],e=Object.entries(this.clientOpts).filter(([n,r])=>t.includes(typeof r)).reduce((n,[r,i])=>(n[r]=i,n),{});return this.store.storeClientOptions(e)}async _unstable_getSharedRooms(t){const e=await this.doesServerSupportUnstableFeature("uk.half-shot.msc2666"),n=await this.doesServerSupportUnstableFeature("uk.half-shot.msc2666.mutual_rooms");if(!e&&!n)throw Error("Server does not support mutual_rooms API");const r=Zn(`/uk.half-shot.msc2666/user/${n?"mutual_rooms":"shared_rooms"}/$userId`,{$userId:t});return(await this.http.authedRequest(jt.Get,r,void 0,void 0,{prefix:Ji.Unstable})).joined}getVersions(){return this.serverVersionsPromise?this.serverVersionsPromise:(this.serverVersionsPromise=this.http.request(jt.Get,"/_matrix/client/versions",void 0,void 0,{prefix:""}).catch(t=>{throw this.serverVersionsPromise=null,t}),this.serverVersionsPromise)}async isVersionSupported(t){const{versions:e}=await this.getVersions();return e&&e.includes(t)}async doesServerSupportLazyLoading(){const t=await this.getVersions();if(!t)return!1;const e=t.versions,n=t.unstable_features;return e&&e.includes("r0.5.0")||n&&n["m.lazy_load_members"]}async doesServerRequireIdServerParam(){const t=await this.getVersions();if(!t)return!0;const e=t.versions;if(e&&e.includes("r0.6.0"))return!1;const n=t.unstable_features;return!n||n["m.require_identity_server"]===void 0?!0:n["m.require_identity_server"]}async doesServerAcceptIdentityAccessToken(){const t=await this.getVersions();if(!t)return!1;const e=t.versions,n=t.unstable_features;return e&&e.includes("r0.6.0")||n&&n["m.id_access_token"]}async doesServerSupportSeparateAddAndBind(){const t=await this.getVersions();if(!t)return!1;const e=t.versions,n=t.unstable_features;return(e==null?void 0:e.includes("r0.6.0"))||(n==null?void 0:n["m.separate_add_and_bind"])}async doesServerSupportUnstableFeature(t){const e=await this.getVersions();if(!e)return!1;const n=e.unstable_features;return n&&!!n[t]}async doesServerForceEncryptionForPreset(t){const e=await this.getVersions();if(!e)return!1;const n=e.unstable_features,r=t.includes("_chat")?t.substring(0,t.indexOf("_chat")):t;return n&&!!n[`io.element.e2ee_forced.${r}`]}async doesServerSupportThread(){try{const[t,e,n,r]=await Promise.all([this.doesServerSupportUnstableFeature("org.matrix.msc3440"),this.doesServerSupportUnstableFeature("org.matrix.msc3440.stable"),this.doesServerSupportUnstableFeature("org.matrix.msc3856"),this.doesServerSupportUnstableFeature("org.matrix.msc3856.stable")]);return{threads:hq(e,t),list:hq(r,n)}}catch{return{threads:XC.None,list:XC.None}}}doesServerSupportLogoutDevices(){return this.isVersionSupported("r0.6.1")}hasLazyLoadMembersEnabled(){return!!this.clientOpts.lazyLoadMembers}setCanResetTimelineCallback(t){this.canResetTimelineCallback=t}getCanResetTimelineCallback(){return this.canResetTimelineCallback}async relations(t,e,n,r,i={dir:as.Backward}){const s=this.getEncryptedIfNeededEventType(t,r),o=await this.fetchRelations(t,e,n,s,i),l=this.getEventMapper(),d=o.original_event?l(o.original_event):void 0;let h=o.chunk.map(l);if(s===Ot.RoomMessageEncrypted){const f=d?h.concat(d):h;await Promise.all(f.map(v=>this.decryptEventIfNeeded(v))),r!==null&&(h=h.filter(v=>v.getType()===r))}return d&&n===Fs.Replace&&(h=h.filter(f=>f.getSender()===d.getSender())),{originalEvent:d,events:h,nextBatch:o.next_batch,prevBatch:o.prev_batch}}getCrossSigningCacheCallbacks(){var t;return(t=this.crypto)==null?void 0:t.crossSigningInfo.getCacheCallbacks()}generateClientSecret(){return vd(32)}decryptEventIfNeeded(t,e){return t.shouldAttemptDecryption()&&t.attemptDecryption(this.crypto,e),t.isBeingDecrypted()?t.getDecryptionPromise():Promise.resolve()}termsUrlForService(t,e){switch(t){case PI.IS:return this.http.getUrl("/terms",void 0,nf.V2,e);case PI.IM:return this.http.getUrl("/terms",void 0,"/_matrix/integrations/v1",e);default:throw new Error("Unsupported service type")}}getHomeserverUrl(){return this.baseUrl}getIdentityServerUrl(t=!1){return t&&(this.idBaseUrl.startsWith("http://")||this.idBaseUrl.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl}setIdentityServerUrl(t){this.idBaseUrl=gD(t),this.http.setIdBaseUrl(this.idBaseUrl)}getAccessToken(){return this.http.opts.accessToken||null}setAccessToken(t){this.http.opts.accessToken=t}isLoggedIn(){return this.http.opts.accessToken!==void 0}makeTxnId(){return"m"+new Date().getTime()+"."+this.txnCtr++}isUsernameAvailable(t){return this.http.authedRequest(jt.Get,"/register/available",{username:t}).then(e=>e.available).catch(e=>e.errcode==="M_USER_IN_USE"?!1:Promise.reject(e))}register(t,e,n,r,i,s,o){i===!0?i={email:!0}:(i==null||i===!1)&&(i={}),n&&(r.session=n);const l={auth:r,refresh_token:!0};return t!=null&&(l.username=t),e!=null&&(l.password=e),i.email&&(l.bind_email=!0),i.msisdn&&(l.bind_msisdn=!0),s!=null&&(l.guest_access_token=s),o!=null&&(l.inhibit_login=o),e!=null&&(l.x_show_msisdn=!0),this.registerRequest(l)}registerGuest(t){return t=t||{},t.body=t.body||{},this.registerRequest(t.body,"guest")}registerRequest(t,e){const n={};return e&&(n.kind=e),this.http.request(jt.Post,"/register",n,t)}refreshToken(t){return this.http.authedRequest(jt.Post,"/refresh",void 0,{refresh_token:t},{prefix:Ji.V1,inhibitLogoutEmit:!0})}loginFlows(){return this.http.request(jt.Get,"/login")}login(t,e){const n={type:t};return Object.assign(n,e),this.http.authedRequest(jt.Post,"/login",void 0,n).then(r=>(r.access_token&&r.user_id&&(this.http.opts.accessToken=r.access_token,this.credentials={userId:r.user_id}),r))}loginWithPassword(t,e){return this.login("m.login.password",{user:t,password:e})}loginWithSAML2(t){return this.login("m.login.saml2",{relay_state:t})}getCasLoginUrl(t){return this.getSsoLoginUrl(t,"cas")}getSsoLoginUrl(t,e="sso",n,r){let i="/login/"+e+"/redirect";n&&(i+="/"+n);const s={redirectUrl:t,[khe.unstable]:r};return this.http.getUrl(i,s,Ji.R0).href}loginWithToken(t){return this.login("m.login.token",{token:t})}async logout(t=!1){var e,n;if((n=(e=this.crypto)==null?void 0:e.backupManager)!=null&&n.getKeyBackupEnabled())try{for(;await this.crypto.backupManager.backupPendingKeys(200)>0;);}catch(r){V.error("Key backup request failed when logging out. Some keys may be missing from backup",r)}return t&&(this.stopClient(),this.http.abort()),this.http.authedRequest(jt.Post,"/logout")}deactivateAccount(t,e){const n={};return t&&(n.auth=t),e!==void 0&&(n.erase=e),this.http.authedRequest(jt.Post,"/account/deactivate",void 0,n)}requestLoginToken(t){const e={auth:t};return this.http.authedRequest(jt.Post,"/org.matrix.msc3882/login/token",void 0,e,{prefix:Ji.Unstable})}getFallbackAuthUrl(t,e){const n=Zn("/auth/$loginType/fallback/web",{$loginType:t});return this.http.getUrl(n,{session:e},Ji.R0).href}async createRoom(t){var n;const e=(t.invite_3pid||[]).filter(r=>!r.id_access_token);if(e.length>0&&((n=this.identityServer)==null?void 0:n.getAccessToken)&&await this.doesServerAcceptIdentityAccessToken()){const r=await this.identityServer.getAccessToken();if(r)for(const i of e)i.id_access_token=r}return this.http.authedRequest(jt.Post,"/createRoom",void 0,t)}fetchRelations(t,e,n,r,i={dir:as.Backward}){const s=mS(i);let o="/rooms/$roomId/relations/$eventId";n!==null?(o+="/$relationType",r!==null&&(o+="/$eventType")):r!==null&&(V.warn(`eventType: ${r} ignored when fetching
            relations as relationType is null`),r=null);const l=Zn(o+"?"+s,{$roomId:t,$eventId:e,$relationType:n,$eventType:r});return this.http.authedRequest(jt.Get,l,void 0,void 0,{prefix:Ji.Unstable})}roomState(t){const e=Zn("/rooms/$roomId/state",{$roomId:t});return this.http.authedRequest(jt.Get,e)}fetchRoomEvent(t,e){const n=Zn("/rooms/$roomId/event/$eventId",{$roomId:t,$eventId:e});return this.http.authedRequest(jt.Get,n)}members(t,e,n,r){const i={};e&&(i.membership=e),n&&(i.not_membership=n),r&&(i.at=r);const s=mS(i),o=Zn("/rooms/$roomId/members?"+s,{$roomId:t});return this.http.authedRequest(jt.Get,o)}upgradeRoom(t,e){const n=Zn("/rooms/$roomId/upgrade",{$roomId:t});return this.http.authedRequest(jt.Post,n,void 0,{new_version:e})}getStateEvent(t,e,n){const r={$roomId:t,$eventType:e,$stateKey:n};let i=Zn("/rooms/$roomId/state/$eventType",r);return n!==void 0&&(i=Zn(i+"/$stateKey",r)),this.http.authedRequest(jt.Get,i)}sendStateEvent(t,e,n,r=""){const i={$roomId:t,$eventType:e,$stateKey:r};let s=Zn("/rooms/$roomId/state/$eventType",i);return r!==void 0&&(s=Zn(s+"/$stateKey",i)),this.http.authedRequest(jt.Put,s,void 0,n)}roomInitialSync(t,e){var r;const n=Zn("/rooms/$roomId/initialSync",{$roomId:t});return this.http.authedRequest(jt.Get,n,{limit:(r=e==null?void 0:e.toString())!=null?r:"30"})}async setRoomReadMarkersHttpRequest(t,e,n,r){const i=Zn("/rooms/$roomId/read_markers",{$roomId:t}),s={[Cc.FullyRead]:e,[Cc.Read]:n};return(await this.doesServerSupportUnstableFeature("org.matrix.msc2285.stable")||await this.isVersionSupported("v1.4"))&&(s[Cc.ReadPrivate]=r),this.http.authedRequest(jt.Post,i,void 0,s)}getJoinedRooms(){const t=Zn("/joined_rooms",{});return this.http.authedRequest(jt.Get,t)}getJoinedRoomMembers(t){const e=Zn("/rooms/$roomId/joined_members",{$roomId:t});return this.http.authedRequest(jt.Get,e)}publicRooms({server:t,limit:e,since:n,...r}={}){const i={server:t,limit:e,since:n};return Object.keys(r).length===0?this.http.authedRequest(jt.Get,"/publicRooms",i):this.http.authedRequest(jt.Post,"/publicRooms",i,r)}createAlias(t,e){const n=Zn("/directory/room/$alias",{$alias:t}),r={room_id:e};return this.http.authedRequest(jt.Put,n,void 0,r)}deleteAlias(t){const e=Zn("/directory/room/$alias",{$alias:t});return this.http.authedRequest(jt.Delete,e)}getLocalAliases(t){const e=Zn("/rooms/$roomId/aliases",{$roomId:t}),n=Ji.V3;return this.http.authedRequest(jt.Get,e,void 0,void 0,{prefix:n})}getRoomIdForAlias(t){const e=Zn("/directory/room/$alias",{$alias:t});return this.http.authedRequest(jt.Get,e)}resolveRoomAlias(t){const e=Zn("/directory/room/$alias",{$alias:t});return this.http.request(jt.Get,e)}getRoomDirectoryVisibility(t){const e=Zn("/directory/list/room/$roomId",{$roomId:t});return this.http.authedRequest(jt.Get,e)}setRoomDirectoryVisibility(t,e){const n=Zn("/directory/list/room/$roomId",{$roomId:t});return this.http.authedRequest(jt.Put,n,void 0,{visibility:e})}setRoomDirectoryVisibilityAppService(t,e,n){const r=Zn("/directory/list/appservice/$networkId/$roomId",{$networkId:t,$roomId:e});return this.http.authedRequest(jt.Put,r,void 0,{visibility:n})}searchUserDirectory(t){const e={search_term:t.term};return t.limit!==void 0&&(e.limit=t.limit),this.http.authedRequest(jt.Post,"/user_directory/search",void 0,e)}uploadContent(t,e){return this.http.uploadContent(t,e)}cancelUpload(t){return this.http.cancelUpload(t)}getCurrentUploads(){return this.http.getCurrentUploads()}getProfileInfo(t,e){const n=e?Zn("/profile/$userId/$info",{$userId:t,$info:e}):Zn("/profile/$userId",{$userId:t});return this.http.authedRequest(jt.Get,n)}getThreePids(){return this.http.authedRequest(jt.Get,"/account/3pid")}addThreePid(t,e){const n="/account/3pid",r={threePidCreds:t,bind:e};return this.http.authedRequest(jt.Post,n,void 0,r)}async addThreePidOnly(t){const e="/account/3pid/add",n=await this.isVersionSupported("r0.6.0")?Ji.R0:Ji.Unstable;return this.http.authedRequest(jt.Post,e,void 0,t,{prefix:n})}async bindThreePid(t){const e="/account/3pid/bind",n=await this.isVersionSupported("r0.6.0")?Ji.R0:Ji.Unstable;return this.http.authedRequest(jt.Post,e,void 0,t,{prefix:n})}async unbindThreePid(t,e){const n="/account/3pid/unbind",r={medium:t,address:e,id_server:this.getIdentityServerUrl(!0)},i=await this.isVersionSupported("r0.6.0")?Ji.R0:Ji.Unstable;return this.http.authedRequest(jt.Post,n,void 0,r,{prefix:i})}deleteThreePid(t,e){const n="/account/3pid/delete";return this.http.authedRequest(jt.Post,n,void 0,{medium:t,address:e})}setPassword(t,e,n){const r="/account/password",i={auth:t,new_password:e,logout_devices:n};return this.http.authedRequest(jt.Post,r,void 0,i)}getDevices(){return this.http.authedRequest(jt.Get,"/devices")}getDevice(t){const e=Zn("/devices/$device_id",{$device_id:t});return this.http.authedRequest(jt.Get,e)}setDeviceDetails(t,e){const n=Zn("/devices/$device_id",{$device_id:t});return this.http.authedRequest(jt.Put,n,void 0,e)}deleteDevice(t,e){const n=Zn("/devices/$device_id",{$device_id:t}),r={};return e&&(r.auth=e),this.http.authedRequest(jt.Delete,n,void 0,r)}deleteMultipleDevices(t,e){const n={devices:t};e&&(n.auth=e);const r="/delete_devices";return this.http.authedRequest(jt.Post,r,void 0,n)}async getPushers(){const t=await this.http.authedRequest(jt.Get,"/pushers");return await this.doesServerSupportUnstableFeature("org.matrix.msc3881")||(t.pushers=t.pushers.map(e=>(e.hasOwnProperty(MB.name)||(e[MB.name]=!0),e))),t}setPusher(t){const e="/pushers/set";return this.http.authedRequest(jt.Post,e,void 0,t)}setLocalNotificationSettings(t,e){const n=`${_Z.name}.${t}`;return this.setAccountData(n,e)}getPushRules(){return this.http.authedRequest(jt.Get,"/pushrules/").then(t=>h3.rewriteDefaultRules(t))}addPushRule(t,e,n,r){const i=Zn("/pushrules/"+t+"/$kind/$ruleId",{$kind:e,$ruleId:n});return this.http.authedRequest(jt.Put,i,void 0,r)}deletePushRule(t,e,n){const r=Zn("/pushrules/"+t+"/$kind/$ruleId",{$kind:e,$ruleId:n});return this.http.authedRequest(jt.Delete,r)}setPushRuleEnabled(t,e,n,r){const i=Zn("/pushrules/"+t+"/$kind/$ruleId/enabled",{$kind:e,$ruleId:n});return this.http.authedRequest(jt.Put,i,void 0,{enabled:r})}setPushRuleActions(t,e,n,r){const i=Zn("/pushrules/"+t+"/$kind/$ruleId/actions",{$kind:e,$ruleId:n});return this.http.authedRequest(jt.Put,i,void 0,{actions:r})}search(t){const e={};return t.next_batch&&(e.next_batch=t.next_batch),this.http.authedRequest(jt.Post,"/search",e,t.body)}uploadKeysRequest(t,e){return this.http.authedRequest(jt.Post,"/keys/upload",void 0,t)}uploadKeySignatures(t){return this.http.authedRequest(jt.Post,"/keys/signatures/upload",void 0,t,{prefix:Ji.Unstable})}downloadKeysForUsers(t,e={}){const n={device_keys:{}};return"token"in e&&(n.token=e.token),t.forEach(r=>{n.device_keys[r]=[]}),this.http.authedRequest(jt.Post,"/keys/query",void 0,n)}claimOneTimeKeys(t,e="signed_curve25519",n){const r={};e===void 0&&(e="signed_curve25519");for(let o=0;o<t.length;++o){const l=t[o][0],d=t[o][1],h=r[l]||{};r[l]=h,h[d]=e}const i={one_time_keys:r};n&&(i.timeout=n);const s="/keys/claim";return this.http.authedRequest(jt.Post,s,void 0,i)}getKeyChanges(t,e){const n={from:t,to:e};return this.http.authedRequest(jt.Get,"/keys/changes",n)}uploadDeviceSigningKeys(t,e){const n=Object.assign({},e);return t&&Object.assign(n,{auth:t}),this.http.authedRequest(jt.Post,"/keys/device_signing/upload",void 0,n,{prefix:Ji.Unstable})}registerWithIdentityServer(t){if(!this.idBaseUrl)throw new Error("No identity server base URL set");const e=this.http.getUrl("/account/register",void 0,nf.V2,this.idBaseUrl);return this.http.requestOtherUrl(jt.Post,e,null,t)}requestEmailToken(t,e,n,r,i){const s={client_secret:e,email:t,send_attempt:n==null?void 0:n.toString(),next_link:r};return this.http.idServerRequest(jt.Post,"/validate/email/requestToken",s,nf.V2,i)}requestMsisdnToken(t,e,n,r,i,s){const o={client_secret:n,country:t,phone_number:e,send_attempt:r==null?void 0:r.toString(),next_link:i};return this.http.idServerRequest(jt.Post,"/validate/msisdn/requestToken",o,nf.V2,s)}submitMsisdnToken(t,e,n,r){const i={sid:t,client_secret:e,token:n};return this.http.idServerRequest(jt.Post,"/validate/msisdn/submitToken",i,nf.V2,r)}submitMsisdnTokenOtherUrl(t,e,n,r){const i=new URL(t);return i.searchParams.set("sid",e),i.searchParams.set("client_secret",n),i.searchParams.set("token",r),this.http.requestOtherUrl(jt.Post,i)}getIdentityHashDetails(t){return this.http.idServerRequest(jt.Get,"/hash_details",null,nf.V2,t)}async identityHashedLookup(t,e){const n={},r=await this.getIdentityHashDetails(e);if(!r||!r.lookup_pepper||!r.algorithms)throw new Error("Unsupported identity server: bad response");n.pepper=r.lookup_pepper;const i={};if(r.algorithms.includes("sha256")){const l=new global.Olm.Utility;n.addresses=t.map(d=>{const h=d[0].toLowerCase(),f=d[1].toLowerCase(),v=l.sha256(`${h} ${f} ${n.pepper}`).replace(/\+/g,"-").replace(/\//g,"_");return i[v]=d[0],v}),n.algorithm="sha256"}else if(r.algorithms.includes("none"))n.addresses=t.map(l=>{const d=l[0].toLowerCase(),h=l[1].toLowerCase(),f=`${d} ${h}`;return i[f]=l[0],f}),n.algorithm="none";else throw new Error("Unsupported identity server: unknown hash algorithm");const s=await this.http.idServerRequest(jt.Post,"/lookup",n,nf.V2,e);if(!s||!s.mappings)return[];const o=[];for(const l of Object.keys(s.mappings)){const d=s.mappings[l],h=i[l];if(!h)throw new Error("Identity server returned more results than expected");o.push({address:h,mxid:d})}return o}async lookupThreePid(t,e,n){const i=(await this.identityHashedLookup([[e,t]],n)).find(o=>o.address===e);return i?{address:e,medium:t,mxid:i.mxid}:{}}async bulkLookupThreePids(t,e){const n=await this.identityHashedLookup(t.map(i=>[i[1],i[0]]),e),r=[];for(const i of n){const s=t.find(o=>o[1]===i.address);if(!s)throw new Error("Identity sever returned unexpected results");r.push([s[0],i.address,i.mxid])}return{threepids:r}}getIdentityAccount(t){return this.http.idServerRequest(jt.Get,"/account",void 0,nf.V2,t)}sendToDevice(t,e,n){const r=Zn("/sendToDevice/$eventType/$txnId",{$eventType:t,$txnId:n||this.makeTxnId()}),i={messages:e},s=Object.keys(e).reduce((o,l)=>(o[l]=Object.keys(e[l]),o),{});return V.log(`PUT ${r}`,s),this.http.authedRequest(jt.Put,r,void 0,i)}queueToDevice(t){return this.toDeviceMessageQueue.queueBatch(t)}getThirdpartyProtocols(){return this.http.authedRequest(jt.Get,"/thirdparty/protocols").then(t=>{if(!t||typeof t!="object")throw new Error(`/thirdparty/protocols did not return an object: ${t}`);return t})}getThirdpartyLocation(t,e){const n=Zn("/thirdparty/location/$protocol",{$protocol:t});return this.http.authedRequest(jt.Get,n,e)}getThirdpartyUser(t,e){const n=Zn("/thirdparty/user/$protocol",{$protocol:t});return this.http.authedRequest(jt.Get,n,e)}getTerms(t,e){const n=this.termsUrlForService(t,e);return this.http.requestOtherUrl(jt.Get,n)}agreeToTerms(t,e,n,r){const i=this.termsUrlForService(t,e);mS({user_accepts:r},i.searchParams);const s={Authorization:"Bearer "+n};return this.http.requestOtherUrl(jt.Post,i,null,{headers:s})}reportEvent(t,e,n,r){const i=Zn("/rooms/$roomId/report/$eventId",{$roomId:t,$eventId:e});return this.http.authedRequest(jt.Post,i,void 0,{score:n,reason:r})}getRoomHierarchy(t,e,n,r=!1,i){const s=Zn("/rooms/$roomId/hierarchy",{$roomId:t}),o={suggested_only:String(r),max_depth:n==null?void 0:n.toString(),from:i,limit:e==null?void 0:e.toString()};return this.http.authedRequest(jt.Get,s,o,void 0,{prefix:Ji.V1}).catch(l=>{if(l.errcode==="M_UNRECOGNIZED")return this.http.authedRequest(jt.Get,s,o,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2946"});throw l})}async unstableCreateFileTree(t){const{room_id:e}=await this.createRoom({name:t,preset:t8.PrivateChat,power_level_content_override:{...uhe,users:{[this.getUserId()]:100}},creation_content:{[kI]:ky.Space},initial_state:[{type:CB.name,state_key:RB.name,content:{[IB.name]:!0}},{type:Ot.RoomEncryption,state_key:"",content:{algorithm:Zl}}]});return new lq(this,e)}unstableGetFileTreeSpace(t){var i,s;const e=this.getRoom(t);if((e==null?void 0:e.getMyMembership())!=="join")return null;const n=e.currentState.getStateEvents(Ot.RoomCreate,""),r=e.currentState.getStateEvents(CB.name,RB.name);if(!n)throw new Error("Expected single room create event");return!((i=r==null?void 0:r.getContent())!=null&&i[IB.name])||((s=n.getContent())==null?void 0:s[kI])!==ky.Space?null:new lq(this,t)}slidingSync(t,e,n){const r={};t.pos&&(r.pos=t.pos,delete t.pos),t.timeout&&(r.timeout=t.timeout,delete t.timeout);const i=t.clientTimeout;return delete t.clientTimeout,this.http.authedRequest(jt.Post,"/sync",r,t,{prefix:"/_matrix/client/unstable/org.matrix.msc3575",baseUrl:e,localTimeoutMs:i,abortSignal:n})}supportsExperimentalThreads(){var t;return((t=this.clientOpts)==null?void 0:t.experimentalThreadSupport)||!1}async getRoomSummary(t,e){const n=Zn("/rooms/$roomid/summary",{$roomid:t});return this.http.authedRequest(jt.Get,n,{via:e},void 0,{prefix:"/_matrix/client/unstable/im.nheko.summary"})}processThreadEvents(t,e,n){t.processThreadedEvents(e,n)}processThreadRoots(t,e,n){t.processThreadRoots(e,n)}processBeaconEvents(t,e){!(e!=null&&e.length)||!t||t.currentState.processBeaconEvents(e,this)}async whoami(){return this.http.authedRequest(jt.Get,"/account/whoami")}timestampToEvent(t,e,n){const r=Zn("/rooms/$roomId/timestamp_to_event",{$roomId:t});return this.http.authedRequest(jt.Get,r,{ts:e.toString(),dir:n},void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc3030"})}};let n8=UJ;n8.RESTORE_BACKUP_ERROR_BAD_KEY="RESTORE_BACKUP_ERROR_BAD_KEY";function HJ(t,e){var h,f,v,w;const n=e.getPushActions(),r=t.getPushActionsForEvent(e,!0),i=t.getRoom(e.getRoomId());if(!i||!t.getUserId())return;const s=!!e.threadRootId&&!e.isThreadRoot,o=(h=s?i.getThreadUnreadNotificationCount(e.threadRootId,go.Highlight):i.getUnreadNotificationCount(go.Highlight))!=null?h:0,l=!!((f=n==null?void 0:n.tweaks)!=null&&f.highlight),d=!!((v=r==null?void 0:r.tweaks)!=null&&v.highlight);if((l!==d||o>0)&&!(s?i.getThread(e.threadRootId).hasUserReadEvent(t.getUserId(),e.getId()):i.hasUserReadEvent(t.getUserId(),e.getId()))){let C=o;d&&!l&&C++,!d&&l&&C--,s?i.setThreadUnreadNotificationCount(e.threadRootId,go.Highlight,C):i.setUnreadNotificationCount(go.Highlight,C),((w=s?i.getThreadUnreadNotificationCount(e.threadRootId,go.Total):i.getUnreadNotificationCount(go.Total))!=null?w:0)<C&&(s?i.setThreadUnreadNotificationCount(e.threadRootId,go.Total,C):i.setUnreadNotificationCount(go.Total,C))}}class The extends Do{constructor(e,n,r){super(),this.relationType=e,this.eventType=n,this.relationEventIds=new Set,this.relations=new Set,this.annotationsByKey={},this.annotationsBySender={},this.sortedAnnotationsByKey=[],this.targetEvent=null,this.creationEmitted=!1,this.onEventStatus=(i,s)=>{if(!i.isSending()){i.removeListener(Qi.Status,this.onEventStatus);return}s===Tr.CANCELLED&&(i.removeListener(Qi.Status,this.onEventStatus),this.removeEvent(i))},this.onBeforeRedaction=async i=>{if(!!this.relations.has(i)){if(this.relations.delete(i),this.relationType===Fs.Annotation)this.removeAnnotationFromAggregation(i);else if(this.relationType===Fs.Replace&&this.targetEvent&&!this.targetEvent.isState()){const s=await this.getLastReplacement();this.targetEvent.makeReplaced(s)}i.removeListener(Qi.BeforeRedaction,this.onBeforeRedaction),this.emit("Relations.redaction",i)}},this.client=r instanceof rM?r.client:r}async addEvent(e){if(this.relationEventIds.has(e.getId()))return;const n=e.getRelation();if(!n){V.error("Event must have relation info");return}const r=n.rel_type,i=e.getType();if(this.relationType!==r||this.eventType!==i){V.error("Event relation info doesn't match this container");return}if(e.isSending()&&e.on(Qi.Status,this.onEventStatus),this.relations.add(e),this.relationEventIds.add(e.getId()),this.relationType===Fs.Annotation)this.addAnnotationToAggregation(e);else if(this.relationType===Fs.Replace&&this.targetEvent&&!this.targetEvent.isState()){const s=await this.getLastReplacement();this.targetEvent.makeReplaced(s)}e.on(Qi.BeforeRedaction,this.onBeforeRedaction),this.emit("Relations.add",e),this.maybeEmitCreated()}async removeEvent(e){if(!this.relations.has(e))return;const n=e.getRelation();if(!n){V.error("Event must have relation info");return}const r=n.rel_type,i=e.getType();if(this.relationType!==r||this.eventType!==i){V.error("Event relation info doesn't match this container");return}if(this.relations.delete(e),this.relationType===Fs.Annotation)this.removeAnnotationFromAggregation(e);else if(this.relationType===Fs.Replace&&this.targetEvent&&!this.targetEvent.isState()){const s=await this.getLastReplacement();this.targetEvent.makeReplaced(s)}this.emit("Relations.remove",e)}getRelations(){return[...this.relations]}addAnnotationToAggregation(e){const{key:n}=e.getRelation();if(!n)return;let r=this.annotationsByKey[n];r||(r=this.annotationsByKey[n]=new Set,this.sortedAnnotationsByKey.push([n,r])),r.add(e),this.sortedAnnotationsByKey.sort((o,l)=>{const d=o[1];return l[1].size-d.size});const i=e.getSender();let s=this.annotationsBySender[i];s||(s=this.annotationsBySender[i]=new Set),s.add(e)}removeAnnotationFromAggregation(e){const{key:n}=e.getRelation();if(!n)return;const r=this.annotationsByKey[n];r&&(r.delete(e),this.sortedAnnotationsByKey.sort((o,l)=>{const d=o[1];return l[1].size-d.size}));const i=e.getSender(),s=this.annotationsBySender[i];s&&s.delete(e)}getSortedAnnotationsByKey(){return this.relationType!==Fs.Annotation?null:this.sortedAnnotationsByKey}getAnnotationsBySender(){return this.relationType!==Fs.Annotation?null:this.annotationsBySender}async getLastReplacement(){if(this.relationType!==Fs.Replace||!this.targetEvent)return null;const e=this.targetEvent.getServerAggregatedRelation(Fs.Replace),n=e==null?void 0:e.origin_server_ts,r=this.getRelations().reduce((i,s)=>s.getSender()!==this.targetEvent.getSender()||n&&n>s.getTs()||i&&i.getTs()>s.getTs()?i:s,null);return r!=null&&r.shouldAttemptDecryption()?await r.attemptDecryption(this.client.crypto):r!=null&&r.isBeingDecrypted()&&await r.getDecryptionPromise(),r}async setTargetEvent(e){if(!this.targetEvent){if(this.targetEvent=e,this.relationType===Fs.Replace&&!this.targetEvent.isState()){const n=await this.getLastReplacement();n&&this.targetEvent.makeReplaced(n)}this.maybeEmitCreated()}}maybeEmitCreated(){this.creationEmitted||!this.targetEvent||!this.relations.size||(this.creationEmitted=!0,this.targetEvent.emit(Qi.RelationsCreated,this.relationType,this.eventType))}}class jJ{constructor(e,n){this.client=e,this.room=n,this.relations=new Map}getChildEventsForEvent(e,n,r){var i,s;return(s=(i=this.relations.get(e))==null?void 0:i.get(n))==null?void 0:s.get(r)}getAllChildEventsForEvent(e){var i;const n=(i=this.relations.get(e))!=null?i:new Map,r=[];for(const s of n.values())for(const o of s.values())r.push(...o.getRelations());return r}aggregateParentEvent(e){const n=this.relations.get(e.getId());if(!!n)for(const r of n.values())for(const i of r.values())i.setTargetEvent(e)}aggregateChildEvent(e,n){var v,w,E;if(e.isRedacted()||e.status===Tr.CANCELLED)return;const r=e.getRelation();if(!r)return;const i=()=>{if(e.isDecryptionFailure()){e.once(Qi.Decrypted,i);return}this.aggregateChildEvent(e,n)};if(e.isBeingDecrypted()||e.shouldAttemptDecryption()){e.once(Qi.Decrypted,i);return}const{event_id:s,rel_type:o}=r,l=e.getType();let d=this.relations.get(s);d||(d=new Map,this.relations.set(s,d));let h=d.get(o);h||(h=new Map,d.set(o,h));let f=h.get(l);if(!f){f=new The(o,l,this.client),h.set(l,f);const C=(v=this.room)!=null?v:n==null?void 0:n.room,O=(E=(w=n==null?void 0:n.findEventById(s))!=null?w:C==null?void 0:C.findEventById(s))!=null?E:C==null?void 0:C.getPendingEvent(s);O&&f.setTargetEvent(O)}f.addEvent(e)}}const v$="9",dq=["1","2","3","4","5","6","7","8","9"],Che=30;var go=(t=>(t.Highlight="highlight",t.Total="total",t))(go||{}),Gr=(t=>(t.MyMembership="Room.myMembership",t.Tags="Room.tags",t.AccountData="Room.accountData",t.Receipt="Room.receipt",t.Name="Room.name",t.Redaction="Room.redaction",t.RedactionCancelled="Room.redactionCancelled",t.LocalEchoUpdated="Room.localEchoUpdated",t.Timeline="Room.timeline",t.TimelineReset="Room.timelineReset",t.TimelineRefresh="Room.TimelineRefresh",t.OldStateUpdated="Room.OldStateUpdated",t.CurrentStateUpdated="Room.CurrentStateUpdated",t.HistoryImportedWithinTimeline="Room.historyImportedWithinTimeline",t.UnreadNotifications="Room.UnreadNotifications",t))(Gr||{});class rM extends FJ{constructor(e,n,r,i={}){super(),this.roomId=e,this.client=n,this.myUserId=r,this.opts=i,this.txnToEvent={},this.notificationCounts={},this.threadNotifications=new Map,this.roomThreadsNotificationType=null,this.threadsTimelineSets=[],this.filteredTimelineSets={},this.timelineNeedsRefresh=!1,this.blacklistUnverifiedDevices=null,this.selfMembership=null,this.summaryHeroes=null,this.getTypeWarning=!1,this.getVersionWarning=!1,this.tags={},this.accountData={},this.summary=null,this.relations=new jJ(this.client,this),this.threads=new Map,this.visibilityEvents=new Map,this.threadTimelineSetsPromise=null,this.threadsReady=!1,this.applyRedaction=s=>{if(s.isRedaction()){const o=s.event.redacts,l=this.findEventById(o);l&&(l.makeRedacted(s),l.isState()&&this.currentState.getStateEvents(l.getType(),l.getStateKey()).getId()===l.getId()&&this.currentState.setStateEvents([l]),this.emit("Room.redaction",s,this),this.visibilityEvents.delete(o),l.isVisibilityEvent()&&this.redactVisibilityChangeEvent(s))}},this.setMaxListeners(100),this.reEmitter=new hw(this),i.pendingEventOrdering=i.pendingEventOrdering||id.Chronological,this.name=e,this.timelineSets=[new t3(this,i)],this.reEmitter.reEmit(this.getUnfilteredTimelineSet(),["Room.timeline","Room.timelineReset"]),this.fixUpLegacyTimelineFields(),this.opts.pendingEventOrdering===id.Detached&&(this.pendingEventList=[],this.client.store.getPendingEvents(this.roomId).then(s=>{s.forEach(async o=>{const l=new Ao(o);l.getType()===Ot.RoomMessageEncrypted&&await l.attemptDecryption(this.client.crypto),l.setStatus(Tr.NOT_SENT),this.addPendingEvent(l,l.getTxnId())})})),this.opts.lazyLoadMembers?this.membersPromise=null:this.membersPromise=Promise.resolve(!1)}async createThreadsTimelineSets(){var e;if(this.threadTimelineSetsPromise)return this.threadTimelineSetsPromise;if((e=this.client)!=null&&e.supportsExperimentalThreads())try{this.threadTimelineSetsPromise=Promise.all([this.createThreadTimelineSet(),this.createThreadTimelineSet(ig.My)]);const n=await this.threadTimelineSetsPromise;return this.threadsTimelineSets.push(...n),n}catch{return this.threadTimelineSetsPromise=null,null}return null}decryptCriticalEvents(){const e=this.getEventReadUpTo(this.client.getUserId(),!0),n=this.getLiveTimeline().getEvents(),r=n.findIndex(s=>s.event.event_id===e),i=n.slice(r).filter(s=>s.shouldAttemptDecryption()).reverse().map(s=>s.attemptDecryption(this.client.crypto,{isRetry:!0}));return Promise.allSettled(i)}decryptAllEvents(){const e=this.getUnfilteredTimelineSet().getLiveTimeline().getEvents().filter(n=>n.shouldAttemptDecryption()).reverse().map(n=>n.attemptDecryption(this.client.crypto,{isRetry:!0}));return Promise.allSettled(e)}getCreator(){var n;const e=this.currentState.getStateEvents(Ot.RoomCreate,"");return(n=e==null?void 0:e.getContent().creator)!=null?n:null}getVersion(){const e=this.currentState.getStateEvents(Ot.RoomCreate,"");if(!e)return this.getVersionWarning||(V.warn("[getVersion] Room "+this.roomId+" does not have an m.room.create event"),this.getVersionWarning=!0),"1";const n=e.getContent().room_version;return n===void 0?"1":n}shouldUpgradeToVersion(){return dq.includes(this.getVersion())?null:v$}async getRecommendedVersion(){let n=(await this.client.getCapabilities())["m.room_versions"];if(!n){n={default:v$,available:{}};for(const i of dq)n.available[i]=NU.Stable}let r=this.checkVersionAgainstCapability(n);if(r.urgent&&r.needsUpgrade)if(V.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about."),n=(await this.client.getCapabilities(!0))["m.room_versions"],n)r=this.checkVersionAgainstCapability(n);else return V.warn("No room version capability - assuming upgrade required."),r;return r}checkVersionAgainstCapability(e){const n=this.getVersion();V.log(`[${this.roomId}] Current version: ${n}`),V.log(`[${this.roomId}] Version capability: `,e);const r={version:n,needsUpgrade:!1,urgent:!1};return n===e.default||Object.keys(e.available).filter(s=>e.available[s]==="stable").includes(n)||(r.version=e.default,r.needsUpgrade=!0,r.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),r.urgent?V.warn(`URGENT upgrade required on ${this.roomId}`):V.warn(`Non-urgent upgrade required on ${this.roomId}`)),r}userMayUpgradeRoom(e){return this.currentState.maySendStateEvent(Ot.RoomTombstone,e)}getPendingEvents(){if(this.opts.pendingEventOrdering!==id.Detached)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this.opts.pendingEventOrdering);return this.pendingEventList}removePendingEvent(e){if(this.opts.pendingEventOrdering!==id.Detached)throw new Error("Cannot call removePendingEvent with pendingEventOrdering == "+this.opts.pendingEventOrdering);const n=SI(this.pendingEventList,function(r){return r.getId()==e},!1);return this.savePendingEvents(),n}hasPendingEvent(e){return this.opts.pendingEventOrdering!==id.Detached?!1:this.pendingEventList.some(n=>n.getId()===e)}getPendingEvent(e){return this.opts.pendingEventOrdering!==id.Detached?null:this.pendingEventList.find(n=>n.getId()===e)}getLiveTimeline(){return this.getUnfilteredTimelineSet().getLiveTimeline()}getLastActiveTimestamp(){const n=this.getLiveTimeline().getEvents();return n.length?n[n.length-1].getTs():Number.MIN_SAFE_INTEGER}getMyMembership(){return this.selfMembership}getDMInviter(){if(this.myUserId){const e=this.getMember(this.myUserId);if(e)return e.getDMInviter()}if(this.selfMembership==="invite"&&this.getInvitedAndJoinedMemberCount()==2&&this.summaryHeroes.length)return this.summaryHeroes[0]}guessDMUserId(){const e=this.getMember(this.myUserId);if(e){const s=e.getDMInviter();if(s)return s}if(Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length)return this.summaryHeroes[0];const i=this.currentState.getMembers().find(s=>s.userId!==this.myUserId);return i?i.userId:this.myUserId}getAvatarFallbackMember(){if(this.getInvitedAndJoinedMemberCount()>2)return;const n=Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length;if(n){const i=this.summaryHeroes.map(s=>this.getMember(s)).find(s=>!!s);if(i)return i}const r=this.currentState.getMembers();if(r.length<=2){const i=r.find(s=>s.userId!==this.myUserId);if(i)return i}if(n){const i=this.summaryHeroes.map(s=>this.client.getUser(s)).find(s=>!!s);if(i){const s=new TI(this.roomId,i.userId);return s.user=i,s}}}updateMyMembership(e){const n=this.selfMembership;this.selfMembership=e,n!==e&&(e==="leave"&&this.cleanupAfterLeaving(),this.emit("Room.myMembership",this,e,n))}async loadMembersFromServer(){const e=this.client.store.getSyncToken();return(await this.client.members(this.roomId,void 0,"leave",e)).chunk}async loadMembers(){let e=!1,n=await this.client.store.getOutOfBandMembers(this.roomId);return(n===null||this.client.isCryptoEnabled()&&this.client.isRoomEncrypted(this.roomId))&&(e=!0,n=await this.loadMembersFromServer(),V.log(`LL: got ${n.length} members from server for room ${this.roomId}`)),{memberEvents:n.map(this.client.getEventMapper()),fromServer:e}}loadMembersIfNeeded(){if(this.membersPromise)return this.membersPromise;this.currentState.markOutOfBandMembersStarted();const e=this.loadMembers().then(n=>(this.currentState.setOutOfBandMembers(n.memberEvents),this.client.isCryptoEnabled()&&this.client.isRoomEncrypted(this.roomId)&&this.client.crypto.trackRoomDevices(this.roomId),n.fromServer)).catch(n=>{throw this.membersPromise=null,this.currentState.markOutOfBandMembersFailed(),n});return e.then(n=>{if(n){const r=this.currentState.getMembers().filter(s=>s.isOutOfBand()).map(s=>s.events.member.event);return V.log(`LL: telling store to write ${r.length} members for room ${this.roomId}`),this.client.store.setOutOfBandMembers(this.roomId,r).catch(s=>{V.log("LL: storing OOB room members failed, oh well",s)})}}).catch(n=>{V.error(n)}),this.membersPromise=e,this.membersPromise}async clearLoadedMembersIfNeeded(){this.opts.lazyLoadMembers&&this.membersPromise&&(await this.loadMembersIfNeeded(),await this.client.store.clearOutOfBandMembers(this.roomId),this.currentState.clearOutOfBandMembers(),this.membersPromise=null)}cleanupAfterLeaving(){this.clearLoadedMembersIfNeeded().catch(e=>{V.error(`error after clearing loaded members from room ${this.roomId} after leaving`),V.log(e)})}async refreshLiveTimeline(){const e=this.getLiveTimeline(),n=e.getPaginationToken(pr.FORWARDS),r=e.getPaginationToken(pr.BACKWARDS),i=e.getEvents(),s=i[i.length-1];V.log(`[refreshLiveTimeline for ${this.roomId}] at mostRecentEventInTimeline=${s&&s.getId()} liveTimelineBefore=${e.toString()} forwardPaginationToken=${n} backwardPaginationToken=${r}`);const o=this.getUnfilteredTimelineSet();let l;s?(this.resetLiveTimeline(null,null),this.emit("Room.TimelineRefresh",this,o),l=await this.client.getEventTimeline(o,s.getId())):l=await this.client.getLatestTimeline(o);const d=o.getLiveTimeline();!d||d.getPaginationToken(as.Forward)===null&&d.getPaginationToken(as.Backward)===null&&d.getEvents().length===0?(V.log(`[refreshLiveTimeline for ${this.roomId}] using our new live timeline`),l.setPaginationToken(n,pr.FORWARDS),o.setLiveTimeline(l),this.fixUpLegacyTimelineFields()):V.log(`[refreshLiveTimeline for ${this.roomId}] \`/sync\` or some other request beat us to creating a new live timeline after we reset it. We'll use that instead since any events in the scrollback from this timeline will include the history.`),this.setTimelineNeedsRefresh(!1),this.emit("Room.TimelineRefresh",this,o)}resetLiveTimeline(e,n){for(let r=0;r<this.timelineSets.length;r++)this.timelineSets[r].resetLiveTimeline(e,n);this.fixUpLegacyTimelineFields()}fixUpLegacyTimelineFields(){const e=this.oldState,n=this.currentState;this.timeline=this.getLiveTimeline().getEvents(),this.oldState=this.getLiveTimeline().getState(pr.BACKWARDS),this.currentState=this.getLiveTimeline().getState(pr.FORWARDS),e!==this.oldState&&this.emit("Room.OldStateUpdated",this,e,this.oldState),n!==this.currentState&&(this.emit("Room.CurrentStateUpdated",this,n,this.currentState),this.reEmitter.stopReEmitting(n,[Ci.Events,Ci.Members,Ci.NewMember,Ci.Update,Ci.Marker,Js.New,Js.Update,Js.Destroy,Js.LivenessChange]),this.reEmitter.reEmit(this.currentState,[Ci.Events,Ci.Members,Ci.NewMember,Ci.Update,Ci.Marker,Js.New,Js.Update,Js.Destroy,Js.LivenessChange]))}async hasUnverifiedDevices(){if(!this.client.isRoomEncrypted(this.roomId))return!1;const e=await this.getEncryptionTargetMembers();for(const n of e)if(this.client.getStoredDevicesForUser(n.userId).some(i=>i.isUnverified()))return!0;return!1}getTimelineSets(){return this.timelineSets}getUnfilteredTimelineSet(){return this.timelineSets[0]}getTimelineForEvent(e){const n=this.findEventById(e),r=this.findThreadForEvent(n);return r?r.timelineSet.getLiveTimeline():this.getUnfilteredTimelineSet().getTimelineForEvent(e)}addTimeline(){return this.getUnfilteredTimelineSet().addTimeline()}setTimelineNeedsRefresh(e){this.timelineNeedsRefresh=e}getTimelineNeedsRefresh(){return this.timelineNeedsRefresh}findEventById(e){let n=this.getUnfilteredTimelineSet().findEventById(e);if(!n){const r=this.getThreads();for(let i=0;i<r.length;i++)if(n=r[i].findEventById(e),n)return n}return n}getUnreadNotificationCount(e="total"){var r,i;let n=(r=this.notificationCounts[e])!=null?r:0;if(this.client.canSupport.get(eM.ThreadUnreadNotifications)!==QR.Unsupported)for(const s of this.threadNotifications.values())n+=(i=s[e])!=null?i:0;return n}getThreadUnreadNotificationCount(e,n="total"){var r,i;return(i=(r=this.threadNotifications.get(e))==null?void 0:r[n])!=null?i:0}hasThreadUnreadNotification(){var e,n;for(const r of this.threadNotifications.values())if(((e=r.highlight)!=null?e:0)>0||((n=r.total)!=null?n:0)>0)return!0;return!1}setThreadUnreadNotificationCount(e,n,r){var s,o;const i={highlight:(s=this.threadNotifications.get(e))==null?void 0:s.highlight,total:(o=this.threadNotifications.get(e))==null?void 0:o.total,[n]:r};if(this.threadNotifications.set(e,i),r>0)switch(this.roomThreadsNotificationType){case"highlight":break;case"total":n==="highlight"&&(this.roomThreadsNotificationType=n);break;default:this.roomThreadsNotificationType=n}this.emit("Room.UnreadNotifications",i,e)}getThreadsAggregateNotificationType(){return this.roomThreadsNotificationType}resetThreadUnreadNotificationCount(){this.roomThreadsNotificationType=null,this.threadNotifications.clear()}setUnreadNotificationCount(e,n){this.notificationCounts[e]=n,this.emit("Room.UnreadNotifications",this.notificationCounts)}setSummary(e){const n=e["m.heroes"],r=e["m.joined_member_count"],i=e["m.invited_member_count"];Number.isInteger(r)&&this.currentState.setJoinedMemberCount(r),Number.isInteger(i)&&this.currentState.setInvitedMemberCount(i),Array.isArray(n)&&(this.summaryHeroes=n.filter(s=>s!==this.myUserId))}setBlacklistUnverifiedDevices(e){this.blacklistUnverifiedDevices=e}getBlacklistUnverifiedDevices(){return this.blacklistUnverifiedDevices}getAvatarUrl(e,n,r,i,s=!0){const o=this.currentState.getStateEvents(Ot.RoomAvatar,"");if(!o&&!s)return null;const l=o?o.getContent().url:null;return l?YR(e,l,n,r,i):null}getMxcAvatarUrl(){var e,n;return((n=(e=this.currentState.getStateEvents(Ot.RoomAvatar,""))==null?void 0:e.getContent())==null?void 0:n.url)||null}getAliases(){const e=[],n=this.currentState.getStateEvents(Ot.RoomAliases);if(n){for(const r of n)if(Array.isArray(r.getContent().aliases)){const i=r.getContent().aliases.filter(s=>!(typeof s!="string"||s[0]!=="#"||!s.endsWith(`:${r.getStateKey()}`)));e.push(...i)}}return e}getCanonicalAlias(){const e=this.currentState.getStateEvents(Ot.RoomCanonicalAlias,"");return e&&e.getContent().alias||null}getAltAliases(){const e=this.currentState.getStateEvents(Ot.RoomCanonicalAlias,"");return e?e.getContent().alt_aliases||[]:[]}addEventsToTimeline(e,n,r,i){r.getTimelineSet().addEventsToTimeline(e,n,r,i)}getThread(e){return this.threads.get(e)}getThreads(){return Array.from(this.threads.values())}getMember(e){return this.currentState.getMember(e)}getMembers(){return this.currentState.getMembers()}getJoinedMembers(){return this.getMembersWithMembership("join")}getJoinedMemberCount(){return this.currentState.getJoinedMemberCount()}getInvitedMemberCount(){return this.currentState.getInvitedMemberCount()}getInvitedAndJoinedMemberCount(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()}getMembersWithMembership(e){return this.currentState.getMembers().filter(function(n){return n.membership===e})}async getEncryptionTargetMembers(){await this.loadMembersIfNeeded();let e=this.getMembersWithMembership("join");return this.shouldEncryptForInvitedMembers()&&(e=e.concat(this.getMembersWithMembership("invite"))),e}shouldEncryptForInvitedMembers(){var n;const e=this.currentState.getStateEvents(Ot.RoomHistoryVisibility,"");return((n=e==null?void 0:e.getContent())==null?void 0:n.history_visibility)!=="joined"}getDefaultRoomName(e){return this.calculateRoomName(e,!0)}hasMembershipState(e,n){const r=this.getMember(e);return r?r.membership===n:!1}getOrCreateFilteredTimelineSet(e,{prepopulateTimeline:n=!0,useSyncEvents:r=!0,pendingEvents:i=!0}={}){if(this.filteredTimelineSets[e.filterId])return this.filteredTimelineSets[e.filterId];const s=Object.assign({filter:e,pendingEvents:i},this.opts),o=new t3(this,s);this.reEmitter.reEmit(o,["Room.timeline","Room.timelineReset"]),r&&(this.filteredTimelineSets[e.filterId]=o,this.timelineSets.push(o));const l=this.getLiveTimeline();if(n){l.getEvents().forEach(function(h){o.addLiveEvent(h)});let d=l;for(;d.getNeighbouringTimeline(pr.BACKWARDS);)d=d.getNeighbouringTimeline(pr.BACKWARDS);o.getLiveTimeline().setPaginationToken(d.getPaginationToken(pr.BACKWARDS),pr.BACKWARDS)}else if(r){const d=l.getPaginationToken(as.Forward);o.getLiveTimeline().setPaginationToken(d,as.Backward)}return o}async getThreadListFilter(e=ig.All){const n=this.client.getUserId(),r=new cf(n),i={room:{timeline:{[SS.name]:[Ro.name]}}};e===ig.My&&(i.room.timeline[ES.name]=[n]),r.setDefinition(i);const s=await this.client.getOrCreateFilter(`THREAD_PANEL_${this.roomId}_${e}`,r);return r.filterId=s,r}async createThreadTimelineSet(e){let n;if(nu.hasServerSideListSupport)n=new t3(this,this.opts,void 0,void 0,Boolean(nu.hasServerSideListSupport)),this.reEmitter.reEmit(n,["Room.timeline","Room.timelineReset"]);else if(nu.hasServerSideSupport){const r=await this.getThreadListFilter(e);n=this.getOrCreateFilteredTimelineSet(r,{prepopulateTimeline:!1,useSyncEvents:!1,pendingEvents:!1})}else n=new t3(this,{pendingEvents:!1}),Array.from(this.threads).forEach(([,r])=>{if(r.length===0)return;const i=r.events.some(s=>s.getSender()===this.client.getUserId());(e!==ig.My||i)&&n.getLiveTimeline().addEvent(r.rootEvent,{toStartOfTimeline:!1})});return n}processThreadRoots(e,n){for(const r of e)pr.setEventMetadata(r,this.currentState,n),this.getThread(r.getId())||this.createThread(r.getId(),r,[],n)}async fetchRoomThreads(){if(!(this.threadsReady||!this.client.supportsExperimentalThreads())){if(nu.hasServerSideListSupport)await Promise.all([this.fetchRoomThreadList(ig.All),this.fetchRoomThreadList(ig.My)]);else{const e=await this.getThreadListFilter(),{chunk:n}=await this.client.createMessagesRequest(this.roomId,"",Number.MAX_SAFE_INTEGER,as.Backward,e);if(!n.length)return;const r=n.map(this.client.getEventMapper()).sort((o,l)=>{const d=o.getServerAggregatedRelation(Ro.name),h=l.getServerAggregatedRelation(Ro.name);return d.latest_event.origin_server_ts-h.latest_event.origin_server_ts});let i;const s=this.getLiveTimeline().getState(pr.FORWARDS);for(const o of r)this.threadsTimelineSets[0].addLiveEvent(o,{duplicateStrategy:e3.Ignore,fromCache:!1,roomState:s}),o.getServerAggregatedRelation(Ro.name).current_user_participated&&(this.threadsTimelineSets[1].addLiveEvent(o,{duplicateStrategy:e3.Ignore,fromCache:!1,roomState:s}),i=o);this.processThreadRoots(r,!0),this.client.decryptEventIfNeeded(r[r.length-1]),i&&this.client.decryptEventIfNeeded(i)}this.on(uy.NewReply,this.onThreadNewReply),this.threadsReady=!0}}async fetchRoomThreadList(e){const n=e===ig.My?this.threadsTimelineSets[1]:this.threadsTimelineSets[0],{chunk:r,end:i}=await this.client.createThreadListMessagesRequest(this.roomId,null,void 0,as.Backward,n.getFilter());if(n.getLiveTimeline().setPaginationToken(i,as.Backward),!r.length)return;const s=r.map(this.client.getEventMapper());this.processThreadRoots(s,!0);const o=this.getLiveTimeline().getState(pr.FORWARDS);for(const l of s)n.addLiveEvent(l,{duplicateStrategy:e3.Replace,fromCache:!1,roomState:o})}onThreadNewReply(e){const n=this.getLiveTimeline().getState(pr.FORWARDS);for(const r of this.threadsTimelineSets)r.removeEvent(e.id),r.addLiveEvent(e.rootEvent,{duplicateStrategy:e3.Replace,fromCache:!1,roomState:n})}removeFilteredTimelineSet(e){const n=this.filteredTimelineSets[e.filterId];delete this.filteredTimelineSets[e.filterId];const r=this.timelineSets.indexOf(n);r>-1&&this.timelineSets.splice(r,1)}eventShouldLiveIn(e,n,r){var o;if(!this.client.supportsExperimentalThreads())return{shouldLiveInRoom:!0,shouldLiveInThread:!1};if(e.isThreadRoot||(r==null?void 0:r.has(e.getId())))return{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:e.getId()};if(e.isRelation(Ro.name))return{shouldLiveInRoom:!1,shouldLiveInThread:!0,threadId:e.threadRootId};const i=e.getAssociatedId(),s=(o=this.findEventById(i))!=null?o:n==null?void 0:n.find(l=>l.getId()===i);return s&&(e.isRelation()||e.isRedaction())?this.eventShouldLiveIn(s,n,r):r!=null&&r.has(e.relationEventId)?{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:e.relationEventId}:{shouldLiveInRoom:!0,shouldLiveInThread:!1}}findThreadForEvent(e){if(!e)return null;const{threadId:n}=this.eventShouldLiveIn(e);return n?this.getThread(n):null}addThreadedEvents(e,n,r=!1){var s;let i=this.getThread(e);if(i)i.addEvents(n,r);else{const o=(s=this.findEventById(e))!=null?s:n.find(l=>l.getId()===e);i=this.createThread(e,o,n,r),this.emit(uy.Update,i)}}processThreadedEvents(e,n){var i;e.forEach(this.applyRedaction);const r={};for(const s of e){const{threadId:o,shouldLiveInThread:l}=this.eventShouldLiveIn(s);l&&!r[o]&&(r[o]=[]),(i=r[o])==null||i.push(s)}Object.entries(r).map(([s,o])=>this.addThreadedEvents(s,o,n))}createThread(e,n,r=[],i){var o;if(n){const l=this.relations.getAllChildEventsForEvent(n.getId());l!=null&&l.length&&(r=r.concat(l.filter(d=>!d.isRelation(Fs.Replace))))}const s=new nu(e,n,{initialEvents:r,room:this,client:this.client});return this.threads.set(s.id,s),this.reEmitter.reEmit(s,[uy.Update,uy.NewReply,"Room.timeline","Room.timelineReset"]),(!this.lastThread||((o=this.lastThread.rootEvent)==null?void 0:o.localTimestamp)<(n==null?void 0:n.localTimestamp))&&(this.lastThread=s),this.threadsReady&&this.threadsTimelineSets.forEach(l=>{s.rootEvent&&(nu.hasServerSideSupport?l.addLiveEvent(s.rootEvent):l.addEventToTimeline(s.rootEvent,l.getLiveTimeline(),i))}),this.emit(uy.New,s,i),s}processLiveEvent(e){if(this.applyRedaction(e),e.isVisibilityEvent()&&this.applyNewVisibilityEvent(e),this.applyPendingVisibilityEvents(e),!e.getUnsigned().transaction_id&&e.getSender()===this.myUserId){for(const r in this.txnToEvent)if(this.txnToEvent[r].getId()===e.getId()){V.debug("processLiveEvent: found sent event without txn ID: ",r,e.getId());const s=e.getUnsigned();s.transaction_id=r,e.setUnsigned(s);break}}}addLiveEvent(e,n){const{duplicateStrategy:r,timelineWasEmpty:i,fromCache:s}=n;for(let o=0;o<this.timelineSets.length;o++)this.timelineSets[o].addLiveEvent(e,{duplicateStrategy:r,fromCache:s,timelineWasEmpty:i});e.sender&&e.getType()!==Ot.RoomRedaction&&this.addReceipt($J(e.sender.userId,e,Cc.Read),!0)}addPendingEvent(e,n){var r;if(e.status!==Tr.SENDING&&e.status!==Tr.NOT_SENT)throw new Error("addPendingEvent called on an event with status "+e.status);if(this.txnToEvent[n])throw new Error("addPendingEvent called on an event with known txnId "+n);if(pr.setEventMetadata(e,this.getLiveTimeline().getState(pr.FORWARDS),!1),this.txnToEvent[n]=e,this.opts.pendingEventOrdering===id.Detached){if(this.pendingEventList.some(i=>i.status===Tr.NOT_SENT)&&(V.warn("Setting event as NOT_SENT due to messages in the same state"),e.setStatus(Tr.NOT_SENT)),this.pendingEventList.push(e),this.savePendingEvents(),e.isRelation()&&this.aggregateNonLiveRelation(e),e.isRedaction()){const i=e.event.redacts;let s=(r=this.pendingEventList)==null?void 0:r.find(o=>o.getId()===i);s||(s=this.findEventById(i)),s&&(s.markLocallyRedacted(e),this.emit("Room.redaction",e,this))}}else for(let i=0;i<this.timelineSets.length;i++){const s=this.timelineSets[i];s.getFilter()?s.getFilter().filterRoomTimeline([e]).length&&s.addEventToTimeline(e,s.getLiveTimeline(),{toStartOfTimeline:!1}):s.addEventToTimeline(e,s.getLiveTimeline(),{toStartOfTimeline:!1})}this.emit("Room.localEchoUpdated",e,this,null,null)}savePendingEvents(){if(this.pendingEventList){const e=this.pendingEventList.map(n=>({...n.event,txn_id:n.getTxnId()})).filter(n=>{const r=n.type===Ot.RoomMessageEncrypted,i=this.client.isRoomEncrypted(this.roomId);return r||!i});this.client.store.setPendingEvents(this.roomId,e)}}aggregateNonLiveRelation(e){this.relations.aggregateChildEvent(e)}getEventForTxnId(e){return this.txnToEvent[e]}handleRemoteEcho(e,n){const r=n.getId(),i=e.getId(),s=n.status;V.debug(`Got remote echo for event ${r} -> ${i} old status ${s}`),delete this.txnToEvent[e.getUnsigned().transaction_id],this.pendingEventList&&this.removePendingEvent(r),n.handleRemoteEcho(e.event);const{shouldLiveInRoom:o,threadId:l}=this.eventShouldLiveIn(e),d=this.getThread(l);if(d==null||d.timelineSet.handleRemoteEcho(n,r,i),o)for(let h=0;h<this.timelineSets.length;h++)this.timelineSets[h].handleRemoteEcho(n,r,i);this.emit("Room.localEchoUpdated",n,this,r,s)}updatePendingEvent(e,n,r){if(V.log(`setting pendingEvent status to ${n} in ${e.getRoomId()} event ID ${e.getId()} -> ${r}`),n==Tr.SENT&&!r)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(n==Tr.SENT&&this.getTimelineForEvent(r)){const d=this.findEventById(r);if(!d.getUnsigned().transaction_id){const f=d.getUnsigned();f.transaction_id=e.getTxnId(),d.setUnsigned(f),this.removeEvent(d.getId()),this.handleRemoteEcho(d,e)}return}const i=e.status,s=e.getId();if(!i)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");const o=Ihe[i];if(!o||o.indexOf(n)<0)throw new Error("Invalid EventStatus transition "+i+"->"+n);if(e.setStatus(n),n==Tr.SENT){e.replaceLocalEventId(r);const{shouldLiveInRoom:l,threadId:d}=this.eventShouldLiveIn(e),h=this.getThread(d);if(h==null||h.timelineSet.replaceEventId(s,r),l)for(let f=0;f<this.timelineSets.length;f++)this.timelineSets[f].replaceEventId(s,r)}else if(n==Tr.CANCELLED){if(this.pendingEventList){const l=this.getPendingEvent(s);this.removePendingEvent(s),l.isRedaction()&&this.revertRedactionLocalEcho(l)}this.removeEvent(s)}this.savePendingEvents(),this.emit("Room.localEchoUpdated",e,this,s,i)}revertRedactionLocalEcho(e){const n=e.event.redacts;if(!n)return;const r=this.getUnfilteredTimelineSet().findEventById(n);r&&(r.unmarkLocallyRedacted(),this.emit("Room.redactionCancelled",e,this),r.isRelation()&&this.aggregateNonLiveRelation(r))}addLiveEvents(e,n,r=!1){var h;let i=n,s=!1;if(typeof n=="object"?{duplicateStrategy:i,fromCache:r=!1,timelineWasEmpty:s}=n:n!==void 0&&V.warn("Overload deprecated: `Room.addLiveEvents(events, duplicateStrategy?, fromCache?)` is deprecated in favor of the overload with `Room.addLiveEvents(events, IAddLiveEventOptions)`"),i&&["replace","ignore"].indexOf(i)===-1)throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");for(let f=0;f<this.timelineSets.length;f++){const v=this.timelineSets[f].getLiveTimeline();if(v.getPaginationToken(pr.FORWARDS))throw new Error("live timeline "+f+" is no longer live - it has a pagination token ("+v.getPaginationToken(pr.FORWARDS)+")");if(v.getNeighbouringTimeline(pr.FORWARDS))throw new Error(`live timeline ${f} is no longer live - it has a neighbouring timeline`)}const o=this.findThreadRoots(e),l={},d={duplicateStrategy:i,fromCache:r,timelineWasEmpty:s};for(const f of e){if(this.processLiveEvent(f),f.getUnsigned().transaction_id){const C=this.txnToEvent[f.getUnsigned().transaction_id];if(C){this.handleRemoteEcho(f,C);continue}}const{shouldLiveInRoom:v,shouldLiveInThread:w,threadId:E}=this.eventShouldLiveIn(f,e,o);w&&!l[E!=null?E:""]&&(l[E!=null?E:""]=[]),(h=l[E!=null?E:""])==null||h.push(f),v&&this.addLiveEvent(f,d)}Object.entries(l).forEach(([f,v])=>{this.addThreadedEvents(f,v,!1)})}partitionThreadedEvents(e){if(this.client.supportsExperimentalThreads()){const i=this.findThreadRoots(e);return e.reduce((s,o)=>{const{shouldLiveInRoom:l,shouldLiveInThread:d,threadId:h}=this.eventShouldLiveIn(o,e,i);return l&&s[0].push(o),d&&(o.setThreadId(h!=null?h:""),s[1].push(o)),s},[[],[]])}else return[e,[]]}findThreadRoots(e){var r;const n=new Set;for(const i of e)i.isRelation(Ro.name)&&n.add((r=i.relationEventId)!=null?r:"");return n}addReceipt(e,n=!1){const r=e.getContent();Object.keys(r).forEach(i=>{Object.keys(r[i]).forEach(s=>{Object.keys(r[i][s]).forEach(o=>{var f;const l=r[i][s][o],h=!l.thread_id||l.thread_id===DU?this:this.threads.get((f=l.thread_id)!=null?f:"");h==null||h.addReceiptToStructure(i,s,o,l,n)})})}),this.emit("Room.receipt",e,this)}addEphemeralEvents(e){for(const n of e)n.getType()===Ot.Typing?this.currentState.setTypingEvent(n):n.getType()===Ot.Receipt&&this.addReceipt(n)}removeEvents(e){for(let n=0;n<e.length;++n)this.removeEvent(e[n])}removeEvent(e){let n=!1;for(let r=0;r<this.timelineSets.length;r++){const i=this.timelineSets[r].removeEvent(e);i&&(i.isRedaction()&&this.revertRedactionLocalEcho(i),n=!0)}return n}recalculate(){const e=this.currentState.getStateEvents(Ot.RoomMember,this.myUserId);if(e){const r=e.getContent().membership;this.updateMyMembership(r),r==="invite"&&(e.getUnsigned().invite_room_state||[]).forEach(s=>{this.currentState.getStateEvents(s.type,s.state_key)||this.currentState.setStateEvents([new Ao({type:s.type,state_key:s.state_key,content:s.content,event_id:"$fake"+Date.now(),room_id:this.roomId,user_id:this.myUserId})])})}const n=this.name;this.name=this.calculateRoomName(this.myUserId),this.normalizedName=ple(this.name),this.summary=new PZ(this.roomId,{title:this.name}),n!==this.name&&this.emit("Room.name",this)}addTags(e){this.tags=e.getContent().tags||{},this.emit("Room.tags",e,this)}addAccountData(e){for(let n=0;n<e.length;n++){const r=e[n];r.getType()==="m.tag"&&this.addTags(r);const i=this.accountData[r.getType()];this.accountData[r.getType()]=r,this.emit("Room.accountData",r,this,i)}}getAccountData(e){return this.accountData[e]}maySendMessage(){return this.getMyMembership()==="join"&&(this.client.isRoomEncrypted(this.roomId)?this.currentState.maySendEvent(Ot.RoomMessageEncrypted,this.myUserId):this.currentState.maySendEvent(Ot.RoomMessage,this.myUserId))}canInvite(e){let n=this.getMyMembership()==="join";const r=this.currentState.getStateEvents(Ot.RoomPowerLevels,""),i=r&&r.getContent(),s=this.getMember(e);return i&&s&&i.invite>s.powerLevel&&(n=!1),n}getJoinRule(){return this.currentState.getJoinRule()}getHistoryVisibility(){return this.currentState.getHistoryVisibility()}getGuestAccess(){return this.currentState.getGuestAccess()}getType(){const e=this.currentState.getStateEvents(Ot.RoomCreate,"");if(!e){this.getTypeWarning||(V.warn("[getType] Room "+this.roomId+" does not have an m.room.create event"),this.getTypeWarning=!0);return}return e.getContent()[kI]}isSpaceRoom(){return this.getType()===ky.Space}isCallRoom(){return this.getType()===ky.UnstableCall}isElementVideoRoom(){return this.getType()===ky.ElementVideo}roomNameGenerator(e){if(this.client.roomNameGenerator){const n=this.client.roomNameGenerator(this.roomId,e);if(n!==null)return n}switch(e.type){case ed.Actual:return e.name;case ed.Generated:switch(e.subtype){case"Inviting":return`Inviting ${fq(e.names,e.count)}`;default:return fq(e.names,e.count)}case ed.EmptyRoom:return e.oldName?`Empty room (was ${e.oldName})`:"Empty room"}}calculateRoomName(e,n=!1){if(!n){const E=this.currentState.getStateEvents(Ot.RoomName,"");if(E!=null&&E.getContent().name)return this.roomNameGenerator({type:ed.Actual,name:E.getContent().name})}const r=this.getCanonicalAlias();if(r)return this.roomNameGenerator({type:ed.Actual,name:r});const i=this.currentState.getJoinedMemberCount(),s=this.currentState.getInvitedMemberCount();let o=i+s-1,l=[];const d=this.currentState.getStateEvents(bZ.name,"");Array.isArray(d==null?void 0:d.getContent().service_members)&&(l=d.getContent().service_members);let h=null;if(this.summaryHeroes)h=[],this.summaryHeroes.forEach(E=>{if(l.includes(E)){o--;return}const C=this.getMember(E);h.push(C?C.name:E)});else{let E=this.currentState.getMembers().filter(C=>C.userId!==e&&(C.membership==="invite"||C.membership==="join"));E=E.filter(({userId:C})=>l.includes(C)?(o--,!1):!0),E.sort((C,O)=>_le(C.userId,O.userId)),E=E.slice(0,5),h=E.map(C=>C.name)}if(o)return this.roomNameGenerator({type:ed.Generated,names:h,count:o});if(this.getMyMembership()=="join"){const E=this.currentState.getStateEvents(Ot.RoomThirdPartyInvite);if(E!=null&&E.length){const C=E.map(O=>O.getContent().display_name);return this.roomNameGenerator({type:ed.Generated,subtype:"Inviting",names:C,count:C.length+1})}}let v=h;v.length||(v=this.currentState.getMembers().filter(E=>E.userId!==e&&E.membership!=="invite"&&E.membership!=="join").map(E=>E.name));let w;return v.length&&(w=this.roomNameGenerator({type:ed.Generated,names:v,count:v.length+1})),this.roomNameGenerator({type:ed.EmptyRoom,oldName:w})}applyNewVisibilityEvent(e){const n=e.asVisibilityChange();if(!n)return;const r=e.getSender();if(!r||!(hy.name&&this.currentState.maySendStateEvent(hy.name,r)||hy.altName&&this.currentState.maySendStateEvent(hy.altName,r)))return;const s=this.visibilityEvents.get(n.eventId);if(s){let l=s.length-1;const d=Math.max(0,s.length-Che);for(;l>=d&&!(s[l].getTs()<e.getTs());--l);l===-1?s.unshift(e):s.splice(l+1,0,e)}else this.visibilityEvents.set(n.eventId,[e]);const o=this.findEventById(n.eventId);!o||o.applyVisibilityEvent(n)}redactVisibilityChangeEvent(e){if(!e.isVisibilityEvent)throw new Error("expected a visibility change event");const r=e.getRelation().event_id,i=this.visibilityEvents.get(r);if(!i)return;const s=i.findIndex(o=>o.getId()===e.getId());if(s!==-1&&(i.splice(s,1),s===i.length)){const o=this.findEventById(r);if(!o)return;if(s===0)this.visibilityEvents.delete(r),o.applyVisibilityEvent();else{const d=i[i.length-1].asVisibilityChange();if(!d)throw new Error("at this stage, visibility changes should be well-formed");o.applyVisibilityEvent(d)}}}applyPendingVisibilityEvents(e){const n=this.visibilityEvents.get(e.getId());if(!n||n.length==0)return;const r=n[n.length-1],i=r.asVisibilityChange();!i||(i.visible,!(r.getTs()<e.getTs())&&e.applyVisibilityEvent(i))}}const Ihe={[Tr.ENCRYPTING]:[Tr.SENDING,Tr.NOT_SENT,Tr.CANCELLED],[Tr.SENDING]:[Tr.ENCRYPTING,Tr.QUEUED,Tr.NOT_SENT,Tr.SENT],[Tr.QUEUED]:[Tr.SENDING,Tr.CANCELLED],[Tr.SENT]:[],[Tr.NOT_SENT]:[Tr.SENDING,Tr.QUEUED,Tr.CANCELLED],[Tr.CANCELLED]:[]};var ed=(t=>(t[t.EmptyRoom=0]="EmptyRoom",t[t.Generated=1]="Generated",t[t.Actual=2]="Actual",t))(ed||{});function fq(t,e){const n=e-1;return t.length?t.length===1&&n<=1?t[0]:t.length===2&&n<=2?`${t[0]} and ${t[1]}`:n>1?`${t[0]} and ${n} others`:`${t[0]} and 1 other`:"Empty room"}let q_;q_=V.log.bind(V);var e3=(t=>(t.Ignore="ignore",t.Replace="replace",t))(e3||{});class t3 extends Do{constructor(e,n={},r,i,s=!1){var o,l,d;super(),this.room=e,this.thread=i,this.isThreadTimeline=s,this._eventIdToTimeline=new Map,this.timelineSupport=Boolean(n.timelineSupport),this.liveTimeline=new pr(this),this.displayPendingEvents=n.pendingEvents!==!1,this.timelines=[this.liveTimeline],this._eventIdToTimeline=new Map,this.filter=n.filter,this.relations=(d=(o=this.room)==null?void 0:o.relations)!=null?d:new jJ((l=e==null?void 0:e.client)!=null?l:r)}getTimelines(){return this.timelines}getFilter(){return this.filter}setFilter(e){this.filter=e}getPendingEvents(){return!this.room||!this.displayPendingEvents?[]:this.room.getPendingEvents()}getLiveTimeline(){return this.liveTimeline}setLiveTimeline(e){this.liveTimeline=e}eventIdToTimeline(e){return this._eventIdToTimeline.get(e)}replaceEventId(e,n){const r=this._eventIdToTimeline.get(e);r&&(this._eventIdToTimeline.delete(e),this._eventIdToTimeline.set(n,r))}resetLiveTimeline(e,n){const r=!this.timelineSupport||!n,i=this.liveTimeline,s=r?i.forkLive(pr.FORWARDS):i.fork(pr.FORWARDS);r?(this.timelines=[s],this._eventIdToTimeline=new Map):this.timelines.push(s),n&&i.setPaginationToken(n,pr.FORWARDS),s.setPaginationToken(e,pr.BACKWARDS),this.liveTimeline=s,this.emit(Gr.TimelineReset,this.room,this,r)}getTimelineForEvent(e){if(e===null)return null;const n=this._eventIdToTimeline.get(e);return n===void 0?null:n}findEventById(e){const n=this.getTimelineForEvent(e);if(!!n)return n.getEvents().find(function(r){return r.getId()==e})}addTimeline(){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");const e=new pr(this);return this.timelines.push(e),e}addEventsToTimeline(e,n,r,i){if(!r)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!n&&r==this.liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(this.filter&&(e=this.filter.filterRoomTimeline(e),!e.length))return;const s=n?pr.BACKWARDS:pr.FORWARDS,o=n?pr.FORWARDS:pr.BACKWARDS;let l=!1,d=!1;for(let h=0;h<e.length;h++){const f=e[h],v=f.getId(),w=this._eventIdToTimeline.get(v);if(!w){this.addEventToTimeline(f,r,{toStartOfTimeline:n}),d=!0,l=!0;continue}if(d=!1,w==r){q_("Event "+v+" already in timeline "+r);continue}const E=r.getNeighbouringTimeline(s);if(E){w==E?q_("Event "+v+" in neighbouring timeline - switching to "+w):q_("Event "+v+" already in a different timeline "+w),r=w;continue}V.info("Already have timeline for "+v+" - joining timeline "+r+" to "+w);const C=w===this.liveTimeline,O=r===this.liveTimeline,M=s===pr.BACKWARDS&&C,A=s===pr.FORWARDS&&O;if(M||A){M&&V.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+w+")"),A&&V.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+r+")");continue}r.setNeighbouringTimeline(w,s),w.setNeighbouringTimeline(r,o),r=w,l=!0}if(d||!l){if(s===pr.FORWARDS&&r===this.liveTimeline){V.warn({lastEventWasNew:d,didUpdate:l}),V.warn(`Refusing to set forwards pagination token of live timeline ${r} to ${i}`);return}r.setPaginationToken(i,s)}}addLiveEvent(e,n,r=!1,i){let s=n||"ignore",o;if(typeof n=="object"?{duplicateStrategy:s="ignore",fromCache:r=!1,roomState:i,timelineWasEmpty:o}=n:n!==void 0&&V.warn("Overload deprecated: `EventTimelineSet.addLiveEvent(event, duplicateStrategy?, fromCache?, roomState?)` is deprecated in favor of the overload with `EventTimelineSet.addLiveEvent(event, IAddLiveEventOptions)`"),this.filter&&!this.filter.filterRoomTimeline([e]).length)return;const l=this._eventIdToTimeline.get(e.getId());if(l){if(s==="replace"){q_("EventTimelineSet.addLiveEvent: replacing duplicate event "+e.getId());const d=l.getEvents();for(let h=0;h<d.length;h++)if(d[h].getId()===e.getId()){i||(i=l.getState(pr.FORWARDS)),pr.setEventMetadata(e,i,!1),d[h]=e;break}}else q_("EventTimelineSet.addLiveEvent: ignoring duplicate event "+e.getId());return}this.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:!1,fromCache:r,roomState:i,timelineWasEmpty:o})}addEventToTimeline(e,n,r,i=!1,s){let o=!!r,l;typeof r=="object"?{toStartOfTimeline:o,fromCache:i=!1,roomState:s,timelineWasEmpty:l}=r:r!==void 0&&V.warn("Overload deprecated: `EventTimelineSet.addEventToTimeline(event, timeline, toStartOfTimeline, fromCache?, roomState?)` is deprecated in favor of the overload with `EventTimelineSet.addEventToTimeline(event, timeline, IAddEventToTimelineOptions)`");const d=e.getId();n.addEvent(e,{toStartOfTimeline:o,roomState:s,timelineWasEmpty:l}),this._eventIdToTimeline.set(d,n),this.relations.aggregateParentEvent(e),this.relations.aggregateChildEvent(e,this);const h={timeline:n,liveEvent:!o&&n==this.liveTimeline&&!i};this.emit(Gr.Timeline,e,this.room,Boolean(o),!1,h)}handleRemoteEcho(e,n,r){const i=this._eventIdToTimeline.get(n);i?(this._eventIdToTimeline.delete(n),this._eventIdToTimeline.set(r,i)):(!this.filter||this.filter.filterRoomTimeline([e]).length)&&this.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:!1})}removeEvent(e){const n=this._eventIdToTimeline.get(e);if(!n)return null;const r=n.removeEvent(e);if(r){this._eventIdToTimeline.delete(e);const i={timeline:n};this.emit(Gr.Timeline,r,this.room,void 0,!0,i)}return r}compareEventOrdering(e,n){if(e==n)return 0;const r=this._eventIdToTimeline.get(e),i=this._eventIdToTimeline.get(n);if(r===void 0||i===void 0)return null;if(r===i){let o,l;const d=r.getEvents();for(let h=0;h<d.length&&(o===void 0||l===void 0);h++){const f=d[h].getId();f==e&&(o=h),f==n&&(l=h)}return o-l}let s=r;for(;s;){if(s===i)return-1;s=s.getNeighbouringTimeline(pr.FORWARDS)}for(s=r;s;){if(s===i)return 1;s=s.getNeighbouringTimeline(pr.BACKWARDS)}return null}canContain(e){if(!this.room)throw new Error("Cannot call `EventTimelineSet::canContain without a `room` set. Set the room when creating the EventTimelineSet to call this method.");const{threadId:n,shouldLiveInRoom:r}=this.room.eventShouldLiveIn(e);return this.thread?this.thread.id===n:r}}var uy=(t=>(t.New="Thread.new",t.Update="Thread.update",t.NewReply="Thread.newReply",t.ViewThread="Thread.viewThread",t))(uy||{}),XC=(t=>(t[t.None=0]="None",t[t.Experimental=1]="Experimental",t[t.Stable=2]="Stable",t))(XC||{});function hq(t,e){return t?2:e?1:0}const Xh=class extends FJ{constructor(t,e,n){var r;if(super(),this.id=t,this.rootEvent=e,this._currentUserParticipated=!1,this.replyCount=0,this.initialEventsFetched=!Xh.hasServerSideSupport,this.onBeforeRedaction=(i,s)=>{(i==null?void 0:i.isRelation(Ro.name))&&this.room.eventShouldLiveIn(i).threadId===this.id&&i.getId()!==this.id&&!s.status&&(this.replyCount--,this.emit("Thread.update",this))},this.onRedaction=i=>{var o;if(i.threadRootId!==this.id)return;const s=[...this.timelineSet.getLiveTimeline().getEvents()].reverse();this.lastEvent=(o=s.find(l=>!l.isRedacted()&&l.isRelation(Ro.name)))!=null?o:this.rootEvent,this.emit("Thread.update",this)},this.onEcho=i=>{if(i.threadRootId!==this.id||this.lastEvent===i||!i.isRelation(Ro.name))return;const s=i.isRelation(Ro.name);(!this.lastEvent||this.lastEvent.isRedacted()||s&&i.getId()!==this.lastEvent.getId()&&i.localTimestamp>this.lastEvent.localTimestamp)&&(this.lastEvent=i,this.lastEvent.getId()!==this.id&&(Xh.hasServerSideSupport&&this.replyCount++,this.emit("Thread.newReply",this,i))),this.emit("Thread.update",this)},!(n!=null&&n.room))throw new Error("element-web#22141: A thread requires a room in order to function");this.room=n.room,this.client=n.client,this.timelineSet=new t3(this.room,{timelineSupport:!0,pendingEvents:!0},this.client,this),this.reEmitter=new hw(this),this.reEmitter.reEmit(this.timelineSet,[Gr.Timeline,Gr.TimelineReset]),this.room.on(Qi.BeforeRedaction,this.onBeforeRedaction),this.room.on(Gr.Redaction,this.onRedaction),this.room.on(Gr.LocalEchoUpdated,this.onEcho),this.timelineSet.on(Gr.Timeline,this.onEcho),n.initialEvents&&this.addEvents(n.initialEvents,!1),this.initialiseThread(),(r=this.rootEvent)==null||r.setThread(this)}async fetchRootEvent(){var t;this.rootEvent=this.room.findEventById(this.id);try{const e=await this.client.fetchRoomEvent(this.roomId,this.id),n=this.client.getEventMapper();this.rootEvent=n(e)}catch(e){V.error("Failed to fetch thread root to construct thread with",e)}(t=this.rootEvent)==null||t.setThread(this),this.emit("Thread.update",this)}static setServerSideSupport(t){Xh.hasServerSideSupport=t,t!==2&&(ES.setPreferUnstable(!0),SS.setPreferUnstable(!0),Ro.setPreferUnstable(!0))}static setServerSideListSupport(t){Xh.hasServerSideListSupport=t}get roomState(){return this.room.getLiveTimeline().getState(pr.FORWARDS)}addEventToTimeline(t,e){this.findEventById(t.getId())||this.timelineSet.addEventToTimeline(t,this.liveTimeline,{toStartOfTimeline:e,fromCache:!1,roomState:this.roomState})}addEvents(t,e){t.forEach(n=>this.addEvent(n,e,!1)),this.emit("Thread.update",this)}addEvent(t,e,n=!0){var r;if(t.setThread(this),!this._currentUserParticipated&&t.getSender()===this.client.getUserId()&&(this._currentUserParticipated=!0),!Xh.hasServerSideSupport)this.addEventToTimeline(t,e),this.client.decryptEventIfNeeded(t,{});else if(!e&&this.initialEventsFetched&&t.localTimestamp>((r=this.lastReply())==null?void 0:r.localTimestamp))this.fetchEditsWhereNeeded(t),this.addEventToTimeline(t,!1);else if(t.isRelation(Fs.Annotation)||t.isRelation(Fs.Replace)){this.timelineSet.relations.aggregateParentEvent(t),this.timelineSet.relations.aggregateChildEvent(t,this.timelineSet);return}(!Xh.hasServerSideSupport||!this.rootEvent)&&t.isRelation(Ro.name)&&this.replyCount++,n&&this.emit("Thread.update",this)}getRootEventBundledRelationship(t=this.rootEvent){return t==null?void 0:t.getServerAggregatedRelation(Ro.name)}async initialiseThread(){let t=this.getRootEventBundledRelationship();if(Xh.hasServerSideSupport&&!t&&(await this.fetchRootEvent(),t=this.getRootEventBundledRelationship()),Xh.hasServerSideSupport&&t){this.replyCount=t.count,this._currentUserParticipated=t.current_user_participated;const e=new Ao({room_id:this.rootEvent.getRoomId(),...t.latest_event});this.setEventMetadata(e),e.setThread(this),this.lastEvent=e,this.fetchEditsWhereNeeded(e)}this.emit("Thread.update",this)}async fetchEditsWhereNeeded(...t){return Promise.all(t.filter(e=>e.isEncrypted()).map(e=>{if(!e.isRelation())return this.client.relations(this.roomId,e.getId(),Fs.Replace,e.getType(),{limit:1}).then(n=>{n.events.length&&e.makeReplaced(n.events[0])}).catch(n=>{V.error("Failed to load edits for encrypted thread event",n)})}))}async fetchInitialEvents(){this.initialEventsFetched||(await this.fetchEvents(),this.initialEventsFetched=!0)}setEventMetadata(t){pr.setEventMetadata(t,this.roomState,!1),t.setThread(this)}findEventById(t){var e;return((e=this.lastEvent)==null?void 0:e.getId())===t?this.lastEvent:this.timelineSet.findEventById(t)}lastReply(t=()=>!0){for(let e=this.events.length-1;e>=0;e--){const n=this.events[e];if(t(n))return n}return null}get roomId(){return this.room.roomId}get length(){return this.replyCount}get replyToEvent(){var t;return(t=this.lastEvent)!=null?t:this.lastReply()}get events(){return this.liveTimeline.getEvents()}has(t){return this.timelineSet.findEventById(t)instanceof Ao}get hasCurrentUserParticipated(){return this._currentUserParticipated}get liveTimeline(){return this.timelineSet.getLiveTimeline()}async fetchEvents(t={limit:20,dir:as.Backward}){var o;let{originalEvent:e,events:n,prevBatch:r,nextBatch:i}=await this.client.relations(this.room.roomId,this.id,Ro.name,null,t);!t.to&&!i&&(n=[...n,e]),await this.fetchEditsWhereNeeded(...n),await Promise.all(n.map(l=>(this.setEventMetadata(l),this.client.decryptEventIfNeeded(l))));const s=((o=t.dir)!=null?o:as.Backward)===as.Backward;return this.timelineSet.addEventsToTimeline(n,s,this.liveTimeline,s?i:r),{originalEvent:e,events:n,prevBatch:r,nextBatch:i}}getUnfilteredTimelineSet(){return this.timelineSet}get timeline(){return this.events}addReceipt(t,e){throw new Error("Unsupported function on the thread model")}};let nu=Xh;nu.hasServerSideSupport=0;nu.hasServerSideListSupport=0;const ES=new zR("related_by_senders","io.element.relation_senders"),SS=new zR("related_by_rel_types","io.element.relation_types"),Ro=new zR("m.thread","io.element.thread");var ig=(t=>(t[t.My=0]="My",t[t.All=1]="All",t))(ig||{});const pq=Object.freeze({visible:!0});var Qi=(t=>(t.Decrypted="Event.decrypted",t.BeforeRedaction="Event.beforeRedaction",t.VisibilityChange="Event.visibilityChange",t.LocalEventIdReplaced="Event.localEventIdReplaced",t.Status="Event.status",t.Replaced="Event.replaced",t.RelationsCreated="Event.relationsCreated",t))(Qi||{});class Ao extends Do{constructor(e={}){var n;super(),this.event=e,this.pushActions=null,this._replacingEvent=null,this._localRedactionEvent=null,this._isCancelled=!1,this.visibility=pq,this._hasCachedExtEv=!1,this._cachedExtEv=void 0,this.senderCurve25519Key=null,this.claimedEd25519Key=null,this.forwardingCurve25519KeyChain=[],this.untrusted=null,this._decryptionPromise=null,this.retryDecryption=!1,this.txnId=null,this.thread=null,this.sender=null,this.target=null,this.status=null,this.error=null,this.forwardLooking=!0,this.verificationRequest=null,["state_key","type","sender","room_id","membership"].forEach(r=>{typeof e[r]=="string"&&(e[r]=pD(e[r]))}),["membership","avatar_url","displayname"].forEach(r=>{var i;typeof((i=e.content)==null?void 0:i[r])=="string"&&(e.content[r]=pD(e.content[r]))}),["rel_type"].forEach(r=>{var i,s;typeof((s=(i=e.content)==null?void 0:i["m.relates_to"])==null?void 0:s[r])=="string"&&(e.content["m.relates_to"][r]=pD(e.content["m.relates_to"][r]))}),this.txnId=e.txn_id||null,this.localTimestamp=Date.now()-((n=this.getAge())!=null?n:0),this.reEmitter=new hw(this)}get unstableExtensibleEvent(){return this._hasCachedExtEv||(this._cachedExtEv=bf.ExtensibleEvents.parse(this.getEffectiveEvent())),this._cachedExtEv}invalidateExtensibleEvent(){this._hasCachedExtEv=!1}getEffectiveEvent(){const e=Object.assign({},this.getContent());if(this.getWireType()===Ot.RoomMessageEncrypted)for(const[n,r]of Object.entries(this.getWireContent()))["algorithm","ciphertext","device_id","sender_key","session_id"].includes(n)||e[n]===void 0&&(e[n]=r);return Object.assign({},this.event,this.clearEvent,{content:e})}getId(){return this.event.event_id}getSender(){return this.event.sender||this.event.user_id}getType(){return this.clearEvent?this.clearEvent.type:this.event.type}getWireType(){return this.event.type}getRoomId(){return this.event.room_id}getTs(){return this.event.origin_server_ts}getDate(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null}getOriginalContent(){return this._localRedactionEvent?{}:this.clearEvent?this.clearEvent.content||{}:this.event.content||{}}getContent(){return this._localRedactionEvent?{}:this._replacingEvent?this._replacingEvent.getContent()["m.new_content"]||{}:this.getOriginalContent()}getWireContent(){return this.event.content||{}}get threadRootId(){var n,r;const e=(n=this.getWireContent())==null?void 0:n["m.relates_to"];return(e==null?void 0:e.rel_type)===Ro.name?e.event_id:((r=this.getThread())==null?void 0:r.id)||this.threadId}get isThreadRoot(){var n;return!!this.getServerAggregatedRelation(Ro.name)||((n=this.getThread())==null?void 0:n.id)===this.getId()}get replyEventId(){var n;const e=this.getContent()["m.relates_to"]||this.getWireContent()["m.relates_to"];return(n=e==null?void 0:e["m.in_reply_to"])==null?void 0:n.event_id}get relationEventId(){var e,n;return(n=(e=this.getWireContent())==null?void 0:e["m.relates_to"])==null?void 0:n.event_id}getPrevContent(){return this.getUnsigned().prev_content||this.event.prev_content||{}}getDirectionalContent(){return this.forwardLooking?this.getContent():this.getPrevContent()}getAge(){return this.getUnsigned().age||this.event.age}getLocalAge(){return Date.now()-this.localTimestamp}getStateKey(){return this.event.state_key}isState(){return this.event.state_key!==void 0}makeEncrypted(e,n,r,i){this.clearEvent={type:this.event.type,content:this.event.content},this.event.type=e,this.event.content=n,this.senderCurve25519Key=r,this.claimedEd25519Key=i}isBeingDecrypted(){return this._decryptionPromise!=null}getDecryptionPromise(){return this._decryptionPromise}isDecryptionFailure(){var e,n;return((n=(e=this.clearEvent)==null?void 0:e.content)==null?void 0:n.msgtype)==="m.bad.encrypted"}shouldAttemptDecryption(){return!(this.isRedacted()||this.isBeingDecrypted()||this.clearEvent||!this.isEncrypted())}async attemptDecryption(e,n={}){if(typeof n=="boolean"&&(n={isRetry:n}),!this.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");const r=this.clearEvent&&!this.isDecryptionFailure(),i=n.forceRedecryptIfUntrusted&&this.isKeySourceUntrusted();if(r&&!i)throw new Error("Attempt to decrypt event which has already been decrypted");return this._decryptionPromise?(V.log(`Event ${this.getId()} already being decrypted; queueing a retry`),this.retryDecryption=!0,this._decryptionPromise):(this._decryptionPromise=this.decryptionLoop(e,n),this._decryptionPromise)}cancelAndResendKeyRequest(e,n){const r=this.getWireContent();return e.requestRoomKey({algorithm:r.algorithm,room_id:this.getRoomId(),session_id:r.session_id,sender_key:r.sender_key},this.getKeyRequestRecipients(n),!0)}getKeyRequestRecipients(e){const n=this.getWireContent(),r=[{userId:e,deviceId:"*"}],i=this.getSender();return i!==e&&r.push({userId:i,deviceId:n.device_id}),r}async decryptionLoop(e,n={}){for(await Promise.resolve();;){this.retryDecryption=!1;let r,i;try{e?(r=await e.decryptEvent(this),n.isRetry===!0&&V.info(`Decrypted event on retry (id=${this.getId()})`)):r=this.badEncryptedMessage("Encryption not enabled")}catch(s){if(s.name!=="DecryptionError"){const o=n.isRetry?"re":"";V.error(`Error ${o}decrypting event (id=${this.getId()}): ${s.stack||s}`),this._decryptionPromise=null,this.retryDecryption=!1;return}if(i=s,this.retryDecryption){V.log(`Got error decrypting event (id=${this.getId()}: ${s.detailedString}), but retrying`,s);continue}V.warn(`Got error decrypting event (id=${this.getId()}: ${s.detailedString})`,s),r=this.badEncryptedMessage(s.message)}this._decryptionPromise=null,this.retryDecryption=!1,this.setClearData(r),this.setPushActions(null),n.emit!==!1&&this.emit("Event.decrypted",this,i);return}}badEncryptedMessage(e){return{clearEvent:{type:Ot.RoomMessage,content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: "+e+" **"}}}}setClearData(e){this.clearEvent=e.clearEvent,this.senderCurve25519Key=e.senderCurve25519Key||null,this.claimedEd25519Key=e.claimedEd25519Key||null,this.forwardingCurve25519KeyChain=e.forwardingCurve25519KeyChain||[],this.untrusted=e.untrusted||!1,this.invalidateExtensibleEvent()}getClearContent(){return this.clearEvent?this.clearEvent.content:null}isEncrypted(){return!this.isState()&&this.event.type===Ot.RoomMessageEncrypted}getSenderKey(){return this.senderCurve25519Key}getKeysClaimed(){return{ed25519:this.claimedEd25519Key}}getClaimedEd25519Key(){return this.claimedEd25519Key}getForwardingCurve25519KeyChain(){return this.forwardingCurve25519KeyChain}isKeySourceUntrusted(){return this.untrusted}getUnsigned(){return this.event.unsigned||{}}setUnsigned(e){this.event.unsigned=e}unmarkLocallyRedacted(){const e=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=null),!!e}markLocallyRedacted(e){this._localRedactionEvent||(this.emit("Event.beforeRedaction",this,e),this._localRedactionEvent=e,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event)}applyVisibilityEvent(e){const n=e?e.visible:!0,r=e?e.reason:null;let i=!1;(this.visibility.visible!==e.visible||!this.visibility.visible&&this.visibility.reason!==r)&&(i=!0),i&&(n?this.visibility=pq:this.visibility=Object.freeze({visible:!1,reason:r}),this.emit("Event.visibilityChange",this,n))}messageVisibility(){return this.visibility}makeRedacted(e){if(!e.event)throw new Error("invalid redactionEvent in makeRedacted");this._localRedactionEvent=null,this.emit("Event.beforeRedaction",this,e),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event;for(const i in this.event)this.event.hasOwnProperty(i)&&!Rhe.has(i)&&delete this.event[i];this.isEncrypted()&&(this.clearEvent=null);const n=Mhe[this.getType()]||{},r=this.getContent();for(const i in r)r.hasOwnProperty(i)&&!n[i]&&delete r[i];this.invalidateExtensibleEvent()}isRedacted(){return Boolean(this.getUnsigned().redacted_because)}isRedaction(){return this.getType()===Ot.RoomRedaction}asVisibilityChange(){if(!hy.matches(this.getType()))return null;const e=this.getRelation();if(!e||e.rel_type!="m.reference")return null;const n=e.event_id;if(!n)return null;const r=this.getWireContent(),i=!!r.visible,s=r.reason;return s&&typeof s!="string"?null:{visible:i,reason:s,eventId:n}}isVisibilityEvent(){return hy.matches(this.getType())}getRedactionEvent(){var e,n;return this.isRedacted()?(e=this.clearEvent)!=null&&e.unsigned?(n=this.clearEvent)==null?void 0:n.unsigned.redacted_because:this.event.unsigned.redacted_because?this.event.unsigned.redacted_because:{}:null}getPushActions(){return this.pushActions}setPushActions(e){this.pushActions=e}handleRemoteEcho(e){const n=this.getUnsigned(),r=this.getId();this.event=e,n.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=n.redacted_because),this.setStatus(null),this.getId()!==r&&this.emit("Event.localEventIdReplaced",this),this.localTimestamp=Date.now()-this.getAge()}isSending(){return!!this.status}setStatus(e){this.status=e,this.emit("Event.status",this,e)}replaceLocalEventId(e){this.event.event_id=e,this.emit("Event.localEventIdReplaced",this)}isRelation(e=void 0){var r;const n=(r=this.getWireContent())==null?void 0:r["m.relates_to"];return this.isState()&&(n==null?void 0:n.rel_type)===Fs.Replace?!1:(n==null?void 0:n.rel_type)&&n.event_id&&(e?n.rel_type===e:!0)}getRelation(){return this.isRelation()?this.getWireContent()["m.relates_to"]:null}makeReplaced(e){this.isRedacted()&&e||this.isState()||this._replacingEvent!==e&&(this._replacingEvent=e,this.emit("Event.replaced",this),this.invalidateExtensibleEvent())}getAssociatedStatus(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status}getServerAggregatedRelation(e){var n;return(n=this.getUnsigned()["m.relations"])==null?void 0:n[e]}replacingEventId(){const e=this.getServerAggregatedRelation(Fs.Replace);if(e)return e.event_id;if(this._replacingEvent)return this._replacingEvent.getId()}replacingEvent(){return this._replacingEvent}replacingEventDate(){const e=this.getServerAggregatedRelation(Fs.Replace);if(e){const n=e.origin_server_ts;if(Number.isFinite(n))return new Date(n)}else if(this._replacingEvent)return this._replacingEvent.getDate()}localRedactionEvent(){return this._localRedactionEvent}getAssociatedId(){const e=this.getRelation();if(this.replyEventId)return this.replyEventId;if(e)return e.event_id;if(this.isRedaction())return this.event.redacts}hasAssocation(){return!!this.getAssociatedId()}updateAssociatedId(e){const n=this.getRelation();n?n.event_id=e:this.isRedaction()&&(this.event.redacts=e)}flagCancelled(e=!0){this._isCancelled=e}isCancelled(){return this._isCancelled}toSnapshot(){const e=new Ao(JSON.parse(JSON.stringify(this.event)));for(const[n,r]of Object.entries(this))n!=="event"&&(e[n]=r);return e}isEquivalentTo(e){if(!e)return!1;if(e===this)return!0;const n=kB(this.event),r=kB(e.event);return JSON.stringify(n)===JSON.stringify(r)}toJSON(){const e=this.getEffectiveEvent();return this.isEncrypted()?{decrypted:e,encrypted:this.event}:e}setVerificationRequest(e){this.verificationRequest=e}setTxnId(e){this.txnId=e}getTxnId(){return this.txnId}setThread(e){this.thread=e,this.setThreadId(e.id),this.reEmitter.reEmit(e,[uy.Update])}getThread(){return this.thread}setThreadId(e){this.threadId=e}}const Rhe=new Set(["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"]),Mhe={[Ot.RoomMember]:{membership:1},[Ot.RoomCreate]:{creator:1},[Ot.RoomJoinRules]:{join_rule:1},[Ot.RoomPowerLevels]:{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1},[Ot.RoomAliases]:{aliases:1}};var Ci=(t=>(t.Events="RoomState.events",t.Members="RoomState.members",t.NewMember="RoomState.newMember",t.Update="RoomState.update",t.BeaconLiveness="RoomState.BeaconLiveness",t.Marker="RoomState.Marker",t))(Ci||{});class rx extends Do{constructor(e,n={status:0}){super(),this.roomId=e,this.oobMemberFlags=n,this.reEmitter=new hw(this),this.sentinels={},this.displayNameToUserIds=new Map,this.userIdsToDisplayNames={},this.tokenToInvite={},this.joinedMemberCount=null,this.summaryJoinedMemberCount=null,this.invitedMemberCount=null,this.summaryInvitedMemberCount=null,this.members={},this.events=new Map,this.paginationToken=null,this.beacons=new Map,this._liveBeaconIds=[],this.updateModifiedTime()}getJoinedMemberCount(){return this.summaryJoinedMemberCount!==null?this.summaryJoinedMemberCount:(this.joinedMemberCount===null&&(this.joinedMemberCount=this.getMembers().reduce((e,n)=>n.membership==="join"?e+1:e,0)),this.joinedMemberCount)}setJoinedMemberCount(e){this.summaryJoinedMemberCount=e}getInvitedMemberCount(){return this.summaryInvitedMemberCount!==null?this.summaryInvitedMemberCount:(this.invitedMemberCount===null&&(this.invitedMemberCount=this.getMembers().reduce((e,n)=>n.membership==="invite"?e+1:e,0)),this.invitedMemberCount)}setInvitedMemberCount(e){this.summaryInvitedMemberCount=e}getMembers(){return Object.values(this.members)}getMembersExcept(e){return this.getMembers().filter(n=>!e.includes(n.userId))}getMember(e){return this.members[e]||null}getSentinelMember(e){if(!e)return null;let n=this.sentinels[e];if(n===void 0){n=new TI(this.roomId,e);const r=this.members[e];r&&n.setMembershipEvent(r.events.member,this),this.sentinels[e]=n}return n}getStateEvents(e,n){if(!this.events.has(e))return n===void 0?[]:null;if(n===void 0)return Array.from(this.events.get(e).values());const r=this.events.get(e).get(n);return r||null}get hasLiveBeacons(){var e;return!!((e=this.liveBeaconIds)!=null&&e.length)}get liveBeaconIds(){return this._liveBeaconIds}clone(){const e=new rx(this.roomId,this.oobMemberFlags),n=this.oobMemberFlags.status;return this.oobMemberFlags.status=0,Array.from(this.events.values()).forEach(r=>{e.setStateEvents(Array.from(r.values()))}),this.oobMemberFlags.status=n,this.summaryInvitedMemberCount!==null&&e.setInvitedMemberCount(this.getInvitedMemberCount()),this.summaryJoinedMemberCount!==null&&e.setJoinedMemberCount(this.getJoinedMemberCount()),this.oobMemberFlags.status==2&&this.getMembers().forEach(r=>{r.isOutOfBand()&&e.getMember(r.userId).markOutOfBand()}),e}setUnknownStateEvents(e){const n=e.filter(r=>!this.events.has(r.getType())||!this.events.get(r.getType()).has(r.getStateKey()));this.setStateEvents(n)}setStateEvents(e,n){this.updateModifiedTime(),e.forEach(r=>{if(r.getRoomId()!==this.roomId||!r.isState())return;BJ.matches(r.getType())&&this.setBeacon(r);const i=this.getStateEventMatching(r);this.setStateEvent(r),r.getType()===Ot.RoomMember&&(this.updateDisplayNameCache(r.getStateKey(),r.getContent().displayname),this.updateThirdPartyTokenCache(r)),this.emit("RoomState.events",r,this,i)}),this.onBeaconLivenessChange(),e.forEach(r=>{if(r.getRoomId()===this.roomId&&!!r.isState())if(r.getType()===Ot.RoomMember){const i=r.getStateKey();(r.getContent().membership==="leave"||r.getContent().membership==="ban")&&(r.getContent().avatar_url=r.getContent().avatar_url||r.getPrevContent().avatar_url,r.getContent().displayname=r.getContent().displayname||r.getPrevContent().displayname);const s=this.getOrCreateMember(i,r);s.setMembershipEvent(r,this),this.updateMember(s),this.emit("RoomState.members",r,this,s)}else if(r.getType()===Ot.RoomPowerLevels){if(r.getStateKey()!=="")return;Object.values(this.members).forEach(s=>{const o=s.getLastModifiedTime();s.setPowerLevelEvent(r),o!==s.getLastModifiedTime()&&this.emit("RoomState.members",r,this,s)}),this.sentinels={}}else vZ.matches(r.getType())&&this.emit("RoomState.Marker",r,n)}),this.emit("RoomState.update",this)}processBeaconEvents(e,n){if(!e.length||!this.beacons.size)return;const r=[...this.beacons.values()].reduce((s,o)=>({...s,[o.beaconInfoId]:o}),{}),i=(s,o)=>{if(!yhe.matches(o.getType()))return;const l=r[s];l&&l.addLocations([o])};e.forEach(s=>{var l;const o=(l=s.getRelation())==null?void 0:l.event_id;!r[o]||(n.decryptEventIfNeeded(s),s.isBeingDecrypted()||s.isDecryptionFailure()?s.once(Qi.Decrypted,async()=>{i(o,s)}):i(o,s))})}getOrCreateMember(e,n){let r=this.members[e];return r||(r=new TI(this.roomId,e),this.members[e]=r,this.emit("RoomState.newMember",n,this,r)),r}setStateEvent(e){this.events.has(e.getType())||this.events.set(e.getType(),new Map),this.events.get(e.getType()).set(e.getStateKey(),e)}setBeacon(e){var i;const n=AI(e);if(this.beacons.has(n)){const s=this.beacons.get(n);if(e.isRedacted()){s.beaconInfoId===((i=e.getRedactionEvent())==null?void 0:i.redacts)&&(s.destroy(),this.beacons.delete(n));return}return s.update(e)}if(e.isRedacted())return;const r=new eJ(e);this.reEmitter.reEmit(r,[Js.New,Js.Update,Js.Destroy,Js.LivenessChange]),this.emit(Js.New,e,r),r.on(Js.LivenessChange,this.onBeaconLivenessChange.bind(this)),r.on(Js.Destroy,this.onBeaconLivenessChange.bind(this)),this.beacons.set(r.identifier,r)}onBeaconLivenessChange(){this._liveBeaconIds=Array.from(this.beacons.values()).filter(e=>e.isLive).map(e=>e.identifier),this.emit("RoomState.BeaconLiveness",this,this.hasLiveBeacons)}getStateEventMatching(e){var n,r;return(r=(n=this.events.get(e.getType()))==null?void 0:n.get(e.getStateKey()))!=null?r:null}updateMember(e){const n=this.getStateEvents(Ot.RoomPowerLevels,"");n&&e.setPowerLevelEvent(n),delete this.sentinels[e.userId],this.members[e.userId]=e,this.joinedMemberCount=null,this.invitedMemberCount=null}needsOutOfBandMembers(){return this.oobMemberFlags.status===0}markOutOfBandMembersStarted(){this.oobMemberFlags.status===0&&(this.oobMemberFlags.status=1)}markOutOfBandMembersFailed(){this.oobMemberFlags.status===1&&(this.oobMemberFlags.status=0)}clearOutOfBandMembers(){let e=0;Object.keys(this.members).forEach(n=>{this.members[n].isOutOfBand()&&(++e,delete this.members[n])}),V.log(`LL: RoomState removed ${e} members...`),this.oobMemberFlags.status=0}setOutOfBandMembers(e){V.log(`LL: RoomState about to set ${e.length} OOB members ...`),this.oobMemberFlags.status===1&&(V.log("LL: RoomState put in finished state ..."),this.oobMemberFlags.status=2,e.forEach(n=>this.setOutOfBandMember(n)),this.emit("RoomState.update",this))}setOutOfBandMember(e){if(e.getType()!==Ot.RoomMember)return;const n=e.getStateKey(),r=this.getMember(n);if(r&&!r.isOutOfBand())return;const i=this.getOrCreateMember(n,e);i.setMembershipEvent(e,this),i.markOutOfBand(),this.updateDisplayNameCache(i.userId,i.name),this.setStateEvent(e),this.updateMember(i),this.emit("RoomState.members",e,this,i)}setTypingEvent(e){Object.values(this.members).forEach(function(n){n.setTypingEvent(e)})}getInviteForThreePidToken(e){return this.tokenToInvite[e]||null}updateModifiedTime(){this.modified=Date.now()}getLastModifiedTime(){return this.modified}getUserIdsWithDisplayName(e){var n;return(n=this.displayNameToUserIds.get(xy(e)))!=null?n:[]}maySendRedactionForEvent(e,n){const r=this.getMember(n);if(!r||r.membership==="leave"||e.status||e.isRedacted())return!1;const i=this.maySendEvent(Ot.RoomRedaction,n);return e.getSender()===n?i:this.hasSufficientPowerLevelFor("redact",r.powerLevel)}hasSufficientPowerLevelFor(e,n){const r=this.getStateEvents(Ot.RoomPowerLevels,"");let i={};r&&(i=r.getContent());let s=50;return YK(i[e])&&(s=i[e]),n>=s}maySendMessage(e){return this.maySendEventOfType(Ot.RoomMessage,e,!1)}maySendEvent(e,n){return this.maySendEventOfType(e,n,!1)}mayClientSendStateEvent(e,n){return n.isGuest()?!1:this.maySendStateEvent(e,n.credentials.userId)}maySendStateEvent(e,n){return this.maySendEventOfType(e,n,!0)}maySendEventOfType(e,n,r){const i=this.getStateEvents(Ot.RoomPowerLevels,"");let s,o={},l=0,d=0,h=0;if(i){s=i.getContent(),o=s.events||{},Number.isSafeInteger(s.state_default)?l=s.state_default:l=50;const v=s.users&&s.users[n];Number.isSafeInteger(v)?h=v:Number.isSafeInteger(s.users_default)&&(h=s.users_default),Number.isSafeInteger(s.events_default)&&(d=s.events_default)}let f=r?l:d;return Number.isSafeInteger(o[e])&&(f=o[e]),h>=f}mayTriggerNotifOfType(e,n){const r=this.getMember(n);if(!r)return!1;const i=this.getStateEvents(Ot.RoomPowerLevels,"");let s=50;return i&&i.getContent()&&i.getContent().notifications&&YK(i.getContent().notifications[e])&&(s=i.getContent().notifications[e]),r.powerLevel>=s}getJoinRule(){var r;const e=this.getStateEvents(Ot.RoomJoinRules,"");return((r=e==null?void 0:e.getContent())!=null?r:{}).join_rule||tM.Invite}getHistoryVisibility(){var r;const e=this.getStateEvents(Ot.RoomHistoryVisibility,"");return((r=e==null?void 0:e.getContent())!=null?r:{}).history_visibility||AU.Shared}getGuestAccess(){var r;const e=this.getStateEvents(Ot.RoomGuestAccess,"");return((r=e==null?void 0:e.getContent())!=null?r:{}).guest_access||LU.Forbidden}updateThirdPartyTokenCache(e){if(!e.getContent().third_party_invite)return;const n=(e.getContent().third_party_invite.signed||{}).token;!n||!this.getStateEvents(Ot.RoomThirdPartyInvite,n)||(this.tokenToInvite[n]=e)}updateDisplayNameCache(e,n){var s;const r=this.userIdsToDisplayNames[e];if(delete this.userIdsToDisplayNames[e],r){const o=xy(r),l=this.displayNameToUserIds.get(o);if(l){const d=l.filter(h=>h!==e);this.displayNameToUserIds.set(o,d)}}this.userIdsToDisplayNames[e]=n;const i=n&&xy(n);if(i){const o=(s=this.displayNameToUserIds.get(i))!=null?s:[];o.push(e),this.displayNameToUserIds.set(i,o)}}}function gq(t){return typeof t=="string"&&!!t&&t!=="undefined"&&t!=="null"||typeof t=="number"}class ix{constructor(e={}){this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},this.oobMembers={},this.pendingEvents={},this.clientOptions={},this.pendingToDeviceBatches=[],this.nextToDeviceBatchId=0,this.onRoomMember=(n,r,i)=>{if(i.membership==="invite")return;const s=this.users[i.userId]||new aw(i.userId);i.name&&(s.setDisplayName(i.name),i.events.member&&s.setRawDisplayName(i.events.member.getDirectionalContent().displayname)),i.events.member&&i.events.member.getContent().avatar_url&&s.setAvatarUrl(i.events.member.getContent().avatar_url),this.users[s.userId]=s},this.localStorage=e.localStorage}getSyncToken(){return this.syncToken}isNewlyCreated(){return Promise.resolve(!0)}setSyncToken(e){this.syncToken=e}storeRoom(e){this.rooms[e.roomId]=e,e.currentState.on(Ci.Members,this.onRoomMember),e.currentState.getMembers().forEach(n=>{this.onRoomMember(null,e.currentState,n)})}getRoom(e){return this.rooms[e]||null}getRooms(){return Object.values(this.rooms)}removeRoom(e){this.rooms[e]&&this.rooms[e].currentState.removeListener(Ci.Members,this.onRoomMember),delete this.rooms[e]}getRoomSummaries(){return Object.values(this.rooms).map(function(e){return e.summary})}storeUser(e){this.users[e.userId]=e}getUser(e){return this.users[e]||null}getUsers(){return Object.values(this.users)}scrollback(e,n){return[]}storeEvents(e,n,r,i){}storeFilter(e){!(e!=null&&e.userId)||(this.filters[e.userId]||(this.filters[e.userId]={}),this.filters[e.userId][e.filterId]=e)}getFilter(e,n){return!this.filters[e]||!this.filters[e][n]?null:this.filters[e][n]}getFilterIdByName(e){if(!this.localStorage)return null;const n="mxjssdk_memory_filter_"+e;try{const r=this.localStorage.getItem(n);if(gq(r))return r}catch{}return null}setFilterIdByName(e,n){if(!this.localStorage)return;const r="mxjssdk_memory_filter_"+e;try{gq(n)?this.localStorage.setItem(r,n):this.localStorage.removeItem(r)}catch{}}storeAccountDataEvents(e){e.forEach(n=>{this.accountData[n.getType()]=n})}getAccountData(e){return this.accountData[e]}setSyncData(e){return Promise.resolve()}wantsSave(){return!1}save(e){}startup(){return Promise.resolve()}getSavedSync(){return Promise.resolve(null)}getSavedSyncToken(){return Promise.resolve(null)}deleteAllData(){return this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},Promise.resolve()}getOutOfBandMembers(e){return Promise.resolve(this.oobMembers[e]||null)}setOutOfBandMembers(e,n){return this.oobMembers[e]=n,Promise.resolve()}clearOutOfBandMembers(e){return this.oobMembers={},Promise.resolve()}getClientOptions(){return Promise.resolve(this.clientOptions)}storeClientOptions(e){return this.clientOptions=Object.assign({},e),Promise.resolve()}async getPendingEvents(e){var n;return(n=this.pendingEvents[e])!=null?n:[]}async setPendingEvents(e,n){this.pendingEvents[e]=n}saveToDeviceBatches(e){for(const n of e)this.pendingToDeviceBatches.push({id:this.nextToDeviceBatchId++,eventType:n.eventType,txnId:n.txnId,batch:n.batch});return Promise.resolve()}async getOldestToDeviceBatch(){return this.pendingToDeviceBatches.length===0?null:this.pendingToDeviceBatches[0]}removeToDeviceBatch(e){return this.pendingToDeviceBatches=this.pendingToDeviceBatches.filter(n=>n.id!==e),Promise.resolve()}}var KJ=(t=>(t.ToWidget="toWidget",t.FromWidget="fromWidget",t))(KJ||{});function Ohe(t){if(t==="toWidget")return"fromWidget";if(t==="fromWidget")return"toWidget";throw new Error("Invalid direction")}var ZC=(t=>(t.MSC2762="org.matrix.msc2762",t.MSC2871="org.matrix.msc2871",t.MSC2931="org.matrix.msc2931",t.MSC2974="org.matrix.msc2974",t.MSC2876="org.matrix.msc2876",t.MSC3819="org.matrix.msc3819",t.MSC3846="town.robin.msc3846",t.MSC3869="org.matrix.msc3869",t))(ZC||{});const Lhe=["0.0.1","0.0.2","org.matrix.msc2762","org.matrix.msc2871","org.matrix.msc2931","org.matrix.msc2974","org.matrix.msc2876","org.matrix.msc3819","town.robin.msc3846","org.matrix.msc3869"];class Ahe extends iv.exports.EventEmitter{constructor(e,n,r,i){super(),this.sendDirection=e,this.initialWidgetId=n,this.transportWindow=r,this.inboundWindow=i,this.timeoutSeconds=10,this._ready=!1,this._widgetId=null,this.outboundRequests=new Map,this.stopController=new AbortController,this._widgetId=n}get ready(){return this._ready}get widgetId(){return this._widgetId||null}get nextRequestId(){const e=`widgetapi-${Date.now()}`;let n=0,r=e;for(;this.outboundRequests.has(r);)r=`${e}-${n++}`;return this.outboundRequests.set(r,null),r}sendInternal(e){const n=this.targetOrigin||"*";console.log(`[PostmessageTransport] Sending object to ${n}: `,e),this.transportWindow.postMessage(e,n)}reply(e,n){return this.sendInternal({...e,response:n})}send(e,n){return this.sendComplete(e,n).then(r=>r.response)}sendComplete(e,n){if(!this.ready||!this.widgetId)return Promise.reject(new Error("Not ready or unknown widget ID"));const r={api:this.sendDirection,widgetId:this.widgetId,requestId:this.nextRequestId,action:e,data:n};return e===Fa.UpdateVisibility&&(r.visible=n.visible),new Promise((i,s)=>{const o=v=>{f(),i(v)},l=v=>{f(),s(v)},d=setTimeout(()=>l(new Error("Request timed out")),(this.timeoutSeconds||1)*1e3),h=()=>l(new Error("Transport stopped"));this.stopController.signal.addEventListener("abort",h);const f=()=>{this.outboundRequests.delete(r.requestId),clearTimeout(d),this.stopController.signal.removeEventListener("abort",h)};this.outboundRequests.set(r.requestId,{request:r,resolve:o,reject:l}),this.sendInternal(r)})}start(){this.inboundWindow.addEventListener("message",e=>{this.handleMessage(e)}),this._ready=!0}stop(){this._ready=!1,this.stopController.abort()}handleMessage(e){if(this.stopController.signal.aborted||!e.data||this.strictOriginCheck&&e.origin!==window.origin)return;const n=e.data;if(!(!n.action||!n.requestId||!n.widgetId))if(n.response){if(n.api!==this.sendDirection)return;this.handleResponse(n)}else{const r=n;if(r.api!==Ohe(this.sendDirection))return;this.handleRequest(r)}}handleRequest(e){if(this.widgetId){if(this.widgetId!==e.widgetId)return}else this._widgetId=e.widgetId;this.emit("message",new CustomEvent("message",{detail:e}))}handleResponse(e){if(e.widgetId!==this.widgetId)return;const n=this.outboundRequests.get(e.requestId);if(!!n)if(Dhe(e.response)){const r=e.response;n.reject(new Error(r.error.message))}else n.resolve(e)}}var Fa=(t=>(t.SupportedApiVersions="supported_api_versions",t.Capabilities="capabilities",t.NotifyCapabilities="notify_capabilities",t.TakeScreenshot="screenshot",t.UpdateVisibility="visibility",t.OpenIDCredentials="openid_credentials",t.WidgetConfig="widget_config",t.CloseModalWidget="close_modal",t.ButtonClicked="button_clicked",t.SendEvent="send_event",t.SendToDevice="send_to_device",t.UpdateTurnServers="update_turn_servers",t))(Fa||{}),Co=(t=>(t.SupportedApiVersions="supported_api_versions",t.ContentLoaded="content_loaded",t.SendSticker="m.sticker",t.UpdateAlwaysOnScreen="set_always_on_screen",t.GetOpenIDCredentials="get_openid",t.CloseModalWidget="close_modal",t.OpenModalWidget="open_modal",t.SetModalButtonEnabled="set_button_enabled",t.SendEvent="send_event",t.SendToDevice="send_to_device",t.WatchTurnServers="watch_turn_servers",t.UnwatchTurnServers="unwatch_turn_servers",t.MSC2876ReadEvents="org.matrix.msc2876.read_events",t.MSC2931Navigate="org.matrix.msc2931.navigate",t.MSC2974RenegotiateCapabilities="org.matrix.msc2974.request_capabilities",t.MSC3869ReadRelations="org.matrix.msc3869.read_relations",t))(Co||{}),V_=(t=>(t.Allowed="allowed",t.Blocked="blocked",t.PendingUserConfirmation="request",t))(V_||{}),zJ=(t=>(t.Custom="m.custom",t.JitsiMeet="m.jitsi",t.Stickerpicker="m.stickerpicker",t))(zJ||{}),qJ=(t=>(t.Close="m.close",t))(qJ||{}),Zh=(t=>(t.Send="send",t.Receive="receive",t))(Zh||{});class Gl{constructor(e,n,r,i,s){this.direction=e,this.eventType=n,this.kind=r,this.keyStr=i,this.raw=s}matchesAsStateEvent(e,n,r){return this.kind!=="state_event"||this.direction!==e||this.eventType!==n?!1:this.keyStr===null||this.keyStr===r}matchesAsToDeviceEvent(e,n){return!(this.kind!=="to_device"||this.direction!==e||this.eventType!==n)}matchesAsRoomEvent(e,n,r=null){if(this.kind!=="event"||this.direction!==e||this.eventType!==n)return!1;if(this.eventType==="m.room.message"){if(this.keyStr===null||this.keyStr===r)return!0}else return!0;return!1}static forStateEvent(e,n,r){n=n.replace(/#/g,"\\#"),r=r!=null?`#${r}`:"";const i=`org.matrix.msc2762.${e}.state_event:${n}${r}`;return Gl.findEventCapabilities([i])[0]}static forToDeviceEvent(e,n){const r=`org.matrix.msc3819.${e}.to_device:${n}`;return Gl.findEventCapabilities([r])[0]}static forRoomEvent(e,n){const r=`org.matrix.msc2762.${e}.event:${n}`;return Gl.findEventCapabilities([r])[0]}static forRoomMessageEvent(e,n){n=n==null?"":n;const r=`org.matrix.msc2762.${e}.event:m.room.message#${n}`;return Gl.findEventCapabilities([r])[0]}static findEventCapabilities(e){const n=[];for(const r of e){let i=null,s,o=null;if(r.startsWith("org.matrix.msc2762.send.event:")?(i="send",o="event",s=r.substring(30)):r.startsWith("org.matrix.msc2762.send.state_event:")?(i="send",o="state_event",s=r.substring(36)):r.startsWith("org.matrix.msc3819.send.to_device:")?(i="send",o="to_device",s=r.substring(34)):r.startsWith("org.matrix.msc2762.receive.event:")?(i="receive",o="event",s=r.substring(33)):r.startsWith("org.matrix.msc2762.receive.state_event:")?(i="receive",o="state_event",s=r.substring(39)):r.startsWith("org.matrix.msc3819.receive.to_device:")&&(i="receive",o="to_device",s=r.substring(37)),i===null||o===null)continue;const l=s.startsWith("m.room.message#")||o==="state_event";let d=null;if(s.includes("#")&&l){const h=s.split("#"),f=h.findIndex(v=>!v.endsWith("\\"));s=h.slice(0,f+1).map(v=>v.endsWith("\\")?v.substring(0,v.length-1):v).join("#"),d=h.slice(f+1).join("#")}n.push(new Gl(i,s,o,d,r))}return n}}var rS=(t=>(t.AnyRoom="*",t))(rS||{});class Phe extends iv.exports.EventEmitter{constructor(e=null,n=null){if(super(),this.clientOrigin=n,this.capabilitiesFinished=!1,this.supportsMSC2974Renegotiate=!1,this.requestedCapabilities=[],this.turnServerWatchers=0,!window.parent)throw new Error("No parent window. This widget doesn't appear to be embedded properly.");this.transport=new Ahe(KJ.FromWidget,e,window.parent,window),this.transport.targetOrigin=n,this.transport.on("message",this.handleMessage.bind(this))}hasCapability(e){return Array.isArray(this.approvedCapabilities)?this.approvedCapabilities.includes(e):this.requestedCapabilities.includes(e)}requestCapability(e){if(this.capabilitiesFinished&&!this.supportsMSC2974Renegotiate)throw new Error("Capabilities have already been negotiated");this.requestedCapabilities.push(e)}requestCapabilities(e){e.forEach(n=>this.requestCapability(n))}requestCapabilityForRoomTimeline(e){this.requestCapability(`org.matrix.msc2762.timeline:${e}`)}requestCapabilityToSendState(e,n){this.requestCapability(Gl.forStateEvent(Zh.Send,e,n).raw)}requestCapabilityToReceiveState(e,n){this.requestCapability(Gl.forStateEvent(Zh.Receive,e,n).raw)}requestCapabilityToSendToDevice(e){this.requestCapability(Gl.forToDeviceEvent(Zh.Send,e).raw)}requestCapabilityToReceiveToDevice(e){this.requestCapability(Gl.forToDeviceEvent(Zh.Receive,e).raw)}requestCapabilityToSendEvent(e){this.requestCapability(Gl.forRoomEvent(Zh.Send,e).raw)}requestCapabilityToReceiveEvent(e){this.requestCapability(Gl.forRoomEvent(Zh.Receive,e).raw)}requestCapabilityToSendMessage(e){this.requestCapability(Gl.forRoomMessageEvent(Zh.Send,e).raw)}requestCapabilityToReceiveMessage(e){this.requestCapability(Gl.forRoomMessageEvent(Zh.Receive,e).raw)}requestOpenIDConnectToken(){return new Promise((e,n)=>{this.transport.sendComplete(Co.GetOpenIDCredentials,{}).then(r=>{const i=r.response;if(i.state===V_.Allowed)e(i);else if(i.state===V_.Blocked)n(new Error("User declined to verify their identity"));else if(i.state===V_.PendingUserConfirmation){const s=o=>{o.preventDefault();const l=o.detail;l.data.original_request_id===r.requestId&&(l.data.state===V_.Allowed?(e(l.data),this.transport.reply(l,{})):l.data.state===V_.Blocked?(n(new Error("User declined to verify their identity")),this.transport.reply(l,{})):(n(new Error("Invalid state on reply: "+i.state)),this.transport.reply(l,{error:{message:"Invalid state"}})),this.off(`action:${Fa.OpenIDCredentials}`,s))};this.on(`action:${Fa.OpenIDCredentials}`,s)}else n(new Error("Invalid state: "+i.state))}).catch(n)})}updateRequestedCapabilities(){return this.transport.send(Co.MSC2974RenegotiateCapabilities,{capabilities:this.requestedCapabilities}).then()}sendContentLoaded(){return this.transport.send(Co.ContentLoaded,{}).then()}sendSticker(e){return this.transport.send(Co.SendSticker,e).then()}setAlwaysOnScreen(e){return this.transport.send(Co.UpdateAlwaysOnScreen,{value:e}).then(n=>n.success)}openModalWidget(e,n,r=[],i={},s=zJ.Custom){return this.transport.send(Co.OpenModalWidget,{type:s,url:e,name:n,buttons:r,data:i}).then()}closeModalWidget(e={}){return this.transport.send(Co.CloseModalWidget,e).then()}sendRoomEvent(e,n,r){return this.transport.send(Co.SendEvent,{type:e,content:n,room_id:r})}sendStateEvent(e,n,r,i){return this.transport.send(Co.SendEvent,{type:e,content:r,state_key:n,room_id:i})}sendToDevice(e,n,r){return this.transport.send(Co.SendToDevice,{type:e,encrypted:n,messages:r})}readRoomEvents(e,n,r,i){const s={type:e,msgtype:r};return n!==void 0&&(s.limit=n),i&&(i.includes(rS.AnyRoom)?s.room_ids=rS.AnyRoom:s.room_ids=i),this.transport.send(Co.MSC2876ReadEvents,s).then(o=>o.events)}async readEventRelations(e,n,r,i,s,o,l,d){if(!(await this.getClientVersions()).includes(ZC.MSC3869))throw new Error("The read_relations action is not supported by the client.");const f={event_id:e,rel_type:r,event_type:i,room_id:n,to:l,from:o,limit:s,direction:d};return this.transport.send(Co.MSC3869ReadRelations,f)}readStateEvents(e,n,r,i){const s={type:e,state_key:r===void 0?!0:r};return n!==void 0&&(s.limit=n),i&&(i.includes(rS.AnyRoom)?s.room_ids=rS.AnyRoom:s.room_ids=i),this.transport.send(Co.MSC2876ReadEvents,s).then(o=>o.events)}setModalButtonEnabled(e,n){if(e===qJ.Close)throw new Error("The close button cannot be disabled");return this.transport.send(Co.SetModalButtonEnabled,{button:e,enabled:n}).then()}navigateTo(e){if(!e||!e.startsWith("https://matrix.to/#"))throw new Error("Invalid matrix.to URI");return this.transport.send(Co.MSC2931Navigate,{uri:e}).then()}async*getTurnServers(){let e;const n=async r=>{r.preventDefault(),e(r.detail.data),await this.transport.reply(r.detail,{})};if(this.on(`action:${Fa.UpdateTurnServers}`,n),this.turnServerWatchers===0)try{await this.transport.send(Co.WatchTurnServers,{})}catch(r){throw this.off(`action:${Fa.UpdateTurnServers}`,n),r}this.turnServerWatchers++;try{for(;;)yield await new Promise(r=>e=r)}finally{this.off(`action:${Fa.UpdateTurnServers}`,n),this.turnServerWatchers--,this.turnServerWatchers===0&&await this.transport.send(Co.UnwatchTurnServers,{})}}start(){this.transport.start(),this.getClientVersions().then(e=>{e.includes(ZC.MSC2974)&&(this.supportsMSC2974Renegotiate=!0)})}handleMessage(e){const n=new CustomEvent(`action:${e.detail.action}`,{detail:e.detail,cancelable:!0});if(this.emit(`action:${e.detail.action}`,n),!n.defaultPrevented)switch(e.detail.action){case Fa.SupportedApiVersions:return this.replyVersions(e.detail);case Fa.Capabilities:return this.handleCapabilities(e.detail);case Fa.UpdateVisibility:return this.transport.reply(e.detail,{});case Fa.NotifyCapabilities:return this.transport.reply(e.detail,{});default:return this.transport.reply(e.detail,{error:{message:"Unknown or unsupported action: "+e.detail.action}})}}replyVersions(e){this.transport.reply(e,{supported_versions:Lhe})}getClientVersions(){return Array.isArray(this.cachedClientVersions)?Promise.resolve(this.cachedClientVersions):this.transport.send(Co.SupportedApiVersions,{}).then(e=>(this.cachedClientVersions=e.supported_versions,e.supported_versions)).catch(e=>(console.warn("non-fatal error getting supported client versions: ",e),[]))}handleCapabilities(e){return this.capabilitiesFinished?this.transport.reply(e,{error:{message:"Capability negotiation already completed"}}):this.getClientVersions().then(n=>(n.includes(ZC.MSC2871)?this.once(`action:${Fa.NotifyCapabilities}`,r=>{this.approvedCapabilities=r.detail.data.approved,this.emit("ready")}):this.emit("ready"),this.capabilitiesFinished=!0,this.transport.reply(e,{capabilities:this.requestedCapabilities})))}}var BU=(t=>(t.Screenshots="m.capability.screenshot",t.StickerSending="m.sticker",t.AlwaysOnScreen="m.always_on_screen",t.RequiresClient="io.element.requires_client",t.MSC2931Navigate="org.matrix.msc2931.navigate",t.MSC3846TurnServers="town.robin.msc3846.turn_servers",t))(BU||{});function Dhe(t){return"error"in t?!!t.error.message:!1}class VJ extends n8{constructor(e,n,r,i){var s,o,l,d,h,f;super(i),this.widgetApi=e,this.capabilities=n,this.roomId=r,this.widgetApiReady=new Promise(v=>this.widgetApi.once("ready",v)),this.syncState=null,this.onEvent=async v=>{if(v.preventDefault(),v.detail.data.room_id===this.roomId){const w=new Ao(v.detail.data);await this.syncApi.injectRoomEvents(this.room,[],[w]),this.emit(sr.Event,w),this.setSyncState(Ka.Syncing),V.info(`Received event ${w.getId()} ${w.getType()} ${w.getStateKey()}`)}else{const{event_id:w,room_id:E}=v.detail.data;V.info(`Received event ${w} for a different room ${E}; discarding`)}await this.ack(v)},this.onToDevice=async v=>{v.preventDefault();const w=new Ao({type:v.detail.data.type,sender:v.detail.data.sender,content:v.detail.data.content});v.detail.data.encrypted&&w.makeEncrypted(Ot.RoomMessageEncrypted,{},"",""),this.emit(sr.ToDeviceEvent,w),this.setSyncState(Ka.Syncing),await this.ack(v)},(((s=n.sendState)==null?void 0:s.length)||((o=n.receiveState)==null?void 0:o.length))&&e.requestCapabilityForRoomTimeline(r),(l=n.sendState)==null||l.forEach(({eventType:v,stateKey:w})=>e.requestCapabilityToSendState(v,w)),(d=n.receiveState)==null||d.forEach(({eventType:v,stateKey:w})=>e.requestCapabilityToReceiveState(v,w)),(h=n.sendToDevice)==null||h.forEach(v=>e.requestCapabilityToSendToDevice(v)),(f=n.receiveToDevice)==null||f.forEach(v=>e.requestCapabilityToReceiveToDevice(v)),n.turnServers&&e.requestCapability(BU.MSC3846TurnServers),e.on(`action:${Fa.SendEvent}`,this.onEvent),e.on(`action:${Fa.SendToDevice}`,this.onToDevice),e.start()}async startClient(e={}){var r,i;this.lifecycle=new AbortController;const n=this.getUserId();n&&this.store.storeUser(new aw(n)),e.slidingSync?this.syncApi=new NJ(e.slidingSync,this,e):this.syncApi=new tS(this,e),this.room=this.syncApi.createRoom(this.roomId),this.store.storeRoom(this.room),await this.widgetApiReady,await Promise.all((i=(r=this.capabilities.receiveState)==null?void 0:r.map(async({eventType:s,stateKey:o})=>{const d=(await this.widgetApi.readStateEvents(s,void 0,o,[this.roomId])).map(h=>new Ao(h));await this.syncApi.injectRoomEvents(this.room,[],d),d.forEach(h=>{this.emit(sr.Event,h),V.info(`Backfilled event ${h.getId()} ${h.getType()} ${h.getStateKey()}`)})}))!=null?i:[]),this.setSyncState(Ka.Syncing),V.info("Finished backfilling events"),this.capabilities.turnServers&&this.watchTurnServers()}stopClient(){this.widgetApi.off(`action:${Fa.SendEvent}`,this.onEvent),this.widgetApi.off(`action:${Fa.SendToDevice}`,this.onToDevice),super.stopClient(),this.lifecycle.abort()}async joinRoom(e){if(e===this.roomId)return this.room;throw new Error(`Unknown room: ${e}`)}async sendStateEvent(e,n,r,i=""){return await this.widgetApi.sendStateEvent(n,i,r,e)}async sendToDevice(e,n){return await this.widgetApi.sendToDevice(e,!1,n),{}}async queueToDevice({eventType:e,batch:n}){const r={};for(const{userId:i,deviceId:s,payload:o}of n)r[i]||(r[i]={}),r[i][s]=o;await this.widgetApi.sendToDevice(e,!1,r)}async encryptAndSendToDevices(e,n){const r={};for(const{userId:i,deviceInfo:{deviceId:s}}of e)r[i]||(r[i]={}),r[i][s]=n;await this.widgetApi.sendToDevice(n.type,!0,r)}async checkTurnServers(){return this.turnServers.length>0}getSyncState(){return this.syncState}setSyncState(e){const n=this.syncState;this.syncState=e,this.emit(sr.Sync,e,n)}async ack(e){await this.widgetApi.transport.reply(e.detail,{})}async watchTurnServers(){const e=this.widgetApi.getTurnServers(),n=()=>e.return(void 0);this.lifecycle.signal.addEventListener("abort",n);try{for await(const r of e)this.turnServers=[{urls:r.uris,username:r.username,credential:r.password}],this.emit(sr.TurnServers,this.turnServers),V.log(`Received TURN server: ${r.uris}`)}catch(r){V.warn("Error watching TURN servers",r)}finally{this.lifecycle.signal.removeEventListener("abort",n)}}}var GJ=(t=>(t.Invite="invite",t.Leave="leave",t.Join="join",t))(GJ||{});class WJ{constructor(e={}){this.opts=e,this.accountData={},this.inviteRooms={},this.joinRooms={},this.nextBatch=null,this.opts.maxTimelineEntries=this.opts.maxTimelineEntries||50}accumulate(e,n=!1){this.accumulateRooms(e,n),this.accumulateAccountData(e),this.nextBatch=e.next_batch}accumulateAccountData(e){!e.account_data||!e.account_data.events||e.account_data.events.forEach(n=>{this.accountData[n.type]=n})}accumulateRooms(e,n=!1){!e.rooms||(e.rooms.invite&&Object.keys(e.rooms.invite).forEach(r=>{this.accumulateRoom(r,"invite",e.rooms.invite[r],n)}),e.rooms.join&&Object.keys(e.rooms.join).forEach(r=>{this.accumulateRoom(r,"join",e.rooms.join[r],n)}),e.rooms.leave&&Object.keys(e.rooms.leave).forEach(r=>{this.accumulateRoom(r,"leave",e.rooms.leave[r],n)}))}accumulateRoom(e,n,r,i=!1){switch(n){case"invite":this.accumulateInviteState(e,r);break;case"join":this.inviteRooms[e]&&delete this.inviteRooms[e],this.accumulateJoinState(e,r,i);break;case"leave":this.inviteRooms[e]?delete this.inviteRooms[e]:delete this.joinRooms[e];break;default:V.error("Unknown cateogory: ",n)}}accumulateInviteState(e,n){if(!n.invite_state||!n.invite_state.events)return;if(!this.inviteRooms[e]){this.inviteRooms[e]={invite_state:n.invite_state};return}const r=this.inviteRooms[e];n.invite_state.events.forEach(i=>{let s=!1;for(let o=0;o<r.invite_state.events.length;o++){const l=r.invite_state.events[o];l.type===i.type&&l.state_key==i.state_key&&(r.invite_state.events[o]=i,s=!0)}s||r.invite_state.events.push(i)})}accumulateJoinState(e,n,r=!1){var s,o;this.joinRooms[e]||(this.joinRooms[e]={_currentState:Object.create(null),_timeline:[],_accountData:Object.create(null),_unreadNotifications:{},_unreadThreadNotifications:{},_summary:{},_readReceipts:{}});const i=this.joinRooms[e];if(n.account_data&&n.account_data.events&&n.account_data.events.forEach(l=>{i._accountData[l.type]=l}),n.unread_notifications&&(i._unreadNotifications=n.unread_notifications),i._unreadThreadNotifications=(o=(s=n[B3.stable])!=null?s:n[B3.unstable])!=null?o:void 0,n.summary){const l="m.heroes",d="m.invited_member_count",h="m.joined_member_count",f=i._summary,v=n.summary;f[l]=v[l]||f[l],f[h]=v[h]||f[h],f[d]=v[d]||f[d]}if(n.ephemeral&&n.ephemeral.events&&n.ephemeral.events.forEach(l=>{l.type!==Ot.Receipt||!l.content||Object.keys(l.content).forEach(d=>{Object.entries(l.content[d]).forEach(([h,f])=>{!yU(h)||Object.keys(f).forEach(v=>{i._readReceipts[v]={data:l.content[d][h][v],type:h,eventId:d}})})})}),n.timeline&&n.timeline.limited&&(i._timeline=[]),n.state&&n.state.events&&n.state.events.forEach(l=>{BD(i._currentState,l)}),n.timeline&&n.timeline.events&&n.timeline.events.forEach((l,d)=>{BD(i._currentState,l);let h;if(r)h=l;else{h=Object.assign({},l),h.unsigned!==void 0&&(h.unsigned=Object.assign({},h.unsigned));const f=l.unsigned?l.unsigned.age:l.age;f!==void 0&&(h._localTs=Date.now()-f)}i._timeline.push({event:h,token:d===0?n.timeline.prev_batch:null})}),i._timeline.length>this.opts.maxTimelineEntries){const l=i._timeline.length-this.opts.maxTimelineEntries;for(let d=l;d<i._timeline.length;d++)if(i._timeline[d].token){i._timeline=i._timeline.slice(d,i._timeline.length);break}}}getJSON(e=!1){const n={join:{},invite:{},leave:{}};Object.keys(this.inviteRooms).forEach(i=>{n.invite[i]=this.inviteRooms[i]}),Object.keys(this.joinRooms).forEach(i=>{const s=this.joinRooms[i],o={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:s._unreadNotifications,unread_thread_notifications:s._unreadThreadNotifications,summary:s._summary};Object.keys(s._accountData).forEach(h=>{o.account_data.events.push(s._accountData[h])});const l={type:Ot.Receipt,room_id:i,content:{}};Object.keys(s._readReceipts).forEach(h=>{const f=s._readReceipts[h];l.content[f.eventId]||(l.content[f.eventId]={}),l.content[f.eventId][f.type]||(l.content[f.eventId][f.type]={}),l.content[f.eventId][f.type][h]=f.data}),Object.keys(l.content).length>0&&o.ephemeral.events.push(l),s._timeline.forEach(h=>{if(!o.timeline.prev_batch){if(!h.token)return;o.timeline.prev_batch=h.token}let f;!e&&h.event._localTs?(f=Object.assign({},h.event),f.unsigned!==void 0&&(f.unsigned=Object.assign({},f.unsigned)),delete f._localTs,f.unsigned=f.unsigned||{},f.unsigned.age=Date.now()-h.event._localTs):f=h.event,o.timeline.events.push(f)});const d=Object.create(null);for(let h=o.timeline.events.length-1;h>=0;h--){const f=o.timeline.events[h];if(f.state_key===null||f.state_key===void 0)continue;const v=GR(f);v.unsigned&&(v.unsigned.prev_content&&(v.content=v.unsigned.prev_content),v.unsigned.prev_sender&&(v.sender=v.unsigned.prev_sender)),BD(d,v)}Object.keys(s._currentState).forEach(h=>{Object.keys(s._currentState[h]).forEach(f=>{let v=s._currentState[h][f];d[h]&&d[h][f]&&(v=d[h][f]),o.state.events.push(v)})}),n.join[i]=o});const r=[];return Object.keys(this.accountData).forEach(i=>{r.push(this.accountData[i])}),{nextBatch:this.nextBatch,roomsData:n,accountData:r}}getNextBatchToken(){return this.nextBatch}}function BD(t,e){e.state_key===null||e.state_key===void 0||!e.type||(t[e.type]||(t[e.type]=Object.create(null)),t[e.type][e.state_key]=e)}const mq=function(){},Nhe=5;class Bhe{constructor(e,n,r={}){this.client=e,this.timelineSet=n,this.start=null,this.end=null,this.eventCount=0,this.windowLimit=r.windowLimit||1e3}load(e,n=20){const r=i=>{let s;const o=i.getEvents();if(!e)s=o.length;else if(s=o.findIndex(h=>h.getId()===e),s<0)throw new Error("getEventTimeline result didn't include requested event");const l=Math.min(o.length,s+Math.ceil(n/2)),d=Math.max(0,l-n);this.start=new b$(i,d-i.getBaseIndex()),this.end=new b$(i,l-i.getBaseIndex()),this.eventCount=l-d};if(e){const i=this.timelineSet.getTimelineForEvent(e);return i?(r(i),Promise.resolve()):this.client.getEventTimeline(this.timelineSet,e).then(r)}else{const i=this.timelineSet.getLiveTimeline();return r(i),Promise.resolve()}}getTimelineIndex(e){if(e==pr.BACKWARDS)return this.start;if(e==pr.FORWARDS)return this.end;throw new Error("Invalid direction '"+e+"'")}extend(e,n){const r=this.getTimelineIndex(e);if(!r)return!1;const i=e==pr.BACKWARDS?r.retreat(n):r.advance(n);if(i){this.eventCount+=i,mq("TimelineWindow: increased cap by "+i+" (now "+this.eventCount+")");const s=this.eventCount-this.windowLimit;return s>0&&this.unpaginate(s,e!=pr.BACKWARDS),!0}return!1}canPaginate(e){const n=this.getTimelineIndex(e);if(!n)return!1;if(e==pr.BACKWARDS){if(n.index>n.minIndex())return!0}else if(n.index<n.maxIndex())return!0;return Boolean(n.timeline.getNeighbouringTimeline(e)||n.timeline.getPaginationToken(e)!==null)}paginate(e,n,r=!0,i=Nhe){const s=this.getTimelineIndex(e);if(!s)return Promise.resolve(!1);if(s.pendingPaginate)return s.pendingPaginate;if(this.extend(e,n))return Promise.resolve(!0);if(!r||i===0||s.timeline.getPaginationToken(e)===null)return Promise.resolve(!1);const l=this.client.paginateEventTimeline(s.timeline,{backwards:e==pr.BACKWARDS,limit:n}).finally(function(){s.pendingPaginate=null}).then(d=>d?this.paginate(e,n,!0,i-1):!1);return s.pendingPaginate=l,l}unpaginate(e,n){const r=n?this.start:this.end;if(e>this.eventCount||e<0)throw new Error("Attemting to unpaginate "+e+" events, but only have "+this.eventCount+" in the timeline");for(;e>0;){const i=n?r.advance(e):r.retreat(e);if(i<=0)throw new Error("Unable to unpaginate any further, but still have "+this.eventCount+" events");e-=i,this.eventCount-=i,mq("TimelineWindow.unpaginate: dropped "+i+" (now "+this.eventCount+")")}}getEvents(){if(!this.start)return[];const e=[];let n=this.start.timeline;for(;;){const r=n.getEvents();let i=0,s=r.length;n===this.start.timeline&&(i=this.start.index+n.getBaseIndex()),n===this.end.timeline&&(s=this.end.index+n.getBaseIndex());for(let o=i;o<s;o++)e.push(r[o]);if(n===this.end.timeline)break;n=n.getNeighbouringTimeline(pr.FORWARDS)}return e}}class b${constructor(e,n){this.timeline=e,this.index=n}minIndex(){return this.timeline.getBaseIndex()*-1}maxIndex(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()}advance(e){if(!e)return 0;let n;if(e<0){if(n=Math.max(e,this.minIndex()-this.index),n<0)return this.index+=n,n}else if(n=Math.min(e,this.maxIndex()-this.index),n>0)return this.index+=n,n;const r=this.timeline.getNeighbouringTimeline(e<0?pr.BACKWARDS:pr.FORWARDS);return r?(this.timeline=r,e<0?this.index=this.maxIndex():this.index=this.minIndex(),this.advance(e)):0}retreat(e){return this.advance(e*-1)*-1}}const wE="m.login.email.identity",yq="m.login.msisdn";var YJ=(t=>(t.Password="m.login.password",t.Recaptcha="m.login.recaptcha",t.Terms="m.login.terms",t.Email="m.login.email.identity",t.Msisdn="m.login.msisdn",t.Sso="m.login.sso",t.SsoUnstable="org.matrix.login.sso",t.Dummy="m.login.dummy",t.RegistrationToken="m.login.registration_token",t.UnstableRegistrationToken="org.matrix.msc3231.login.registration_token",t))(YJ||{});class $he extends Error{constructor(e,n,r){super(e),this.required_stages=n,this.flows=r,this.name="NoAuthFlowFoundError"}}class $U{constructor(e){var n;this.requestingEmailToken=!1,this.attemptAuthDeferred=null,this.chosenFlow=null,this.currentStage=null,this.emailAttempt=1,this.submitPromise=null,this.requestEmailToken=async()=>{if(this.requestingEmailToken)V.warn("Could not request email token: Already requesting");else{V.trace("Requesting email token. Attempt: "+this.emailAttempt),this.requestingEmailToken=!0;try{const r=await this.requestEmailTokenCallback(this.inputs.emailAddress,this.clientSecret,this.emailAttempt++,this.data.session);this.emailSid=r.sid,V.trace("Email token request succeeded")}finally{this.requestingEmailToken=!1}}},this.matrixClient=e.matrixClient,this.data=e.authData||{},this.requestCallback=e.doRequest,this.busyChangedCallback=e.busyChanged,this.stateUpdatedCallback=e.stateUpdated||e.startAuthStage,this.requestEmailTokenCallback=e.requestEmailToken,this.inputs=e.inputs||{},e.sessionId&&(this.data.session=e.sessionId),this.clientSecret=e.clientSecret||this.matrixClient.generateClientSecret(),this.emailSid=(n=e.emailSid)!=null?n:null}attemptAuth(){var n,r;this.attemptAuthDeferred=rv();const e=this.attemptAuthDeferred.promise;if((n=this.data)!=null&&n.flows)this.startNextAuthStage();else{(r=this.busyChangedCallback)==null||r.call(this,!0);const i=this.data.session?{session:this.data.session}:null;this.doRequest(i).finally(()=>{var s;(s=this.busyChangedCallback)==null||s.call(this,!1)})}return e}async poll(){if(!this.data.session||!this.attemptAuthDeferred||this.submitPromise)return;let e={};if(this.currentStage==wE&&this.emailSid){const n={sid:this.emailSid,client_secret:this.clientSecret};if(await this.matrixClient.doesServerRequireIdServerParam()){const r=new URL(this.matrixClient.getIdentityServerUrl());n.id_server=r.host}e={type:wE,threepid_creds:n,threepidCreds:n}}this.submitAuthDict(e,!0)}getSessionId(){var e;return(e=this.data)==null?void 0:e.session}getClientSecret(){return this.clientSecret}getStageParams(e){var n;return(n=this.data.params)==null?void 0:n[e]}getChosenFlow(){return this.chosenFlow}async submitAuthDict(e,n=!1){var i,s;if(!this.attemptAuthDeferred)throw new Error("submitAuthDict() called before attemptAuth()");for(n||(i=this.busyChangedCallback)==null||i.call(this,!0);this.submitPromise;)try{await this.submitPromise}catch{}let r;this.data.session?(r={session:this.data.session},Object.assign(r,e)):r=e;try{this.submitPromise=this.doRequest(r,n),await this.submitPromise}finally{this.submitPromise=null,n||(s=this.busyChangedCallback)==null||s.call(this,!1)}}getEmailSid(){return this.emailSid}setEmailSid(e){this.emailSid=e}async doRequest(e,n=!1){var r,i,s;try{const o=await this.requestCallback(e,n);this.attemptAuthDeferred.resolve(o),this.attemptAuthDeferred=null}catch(o){const l=(i=(r=o.data)==null?void 0:r.flows)!=null?i:null,d=this.data.flows||Boolean(l);(o.httpStatus!==401||!o.data||!d)&&(n?V.log("Background poll request failed doing UI auth: ignoring",o):(s=this.attemptAuthDeferred)==null||s.reject(o)),o.data||(o.data={}),!o.data.flows&&!o.data.completed&&!o.data.session&&(o.data.flows=this.data.flows,o.data.completed=this.data.completed,o.data.session=this.data.session),this.data=o.data;try{this.startNextAuthStage()}catch(h){this.attemptAuthDeferred.reject(h),this.attemptAuthDeferred=null;return}if(!this.emailSid&&this.chosenFlow.stages.includes("m.login.email.identity"))try{await this.requestEmailToken()}catch(h){this.attemptAuthDeferred.reject(h),this.attemptAuthDeferred=null}}}startNextAuthStage(){var n,r,i,s;const e=this.chooseStage();if(!e)throw new Error("No incomplete flows from the server");if(this.currentStage=e,e==="m.login.dummy"){this.submitAuthDict({type:"m.login.dummy"});return}if(((n=this.data)==null?void 0:n.errcode)||((r=this.data)==null?void 0:r.error)){this.stateUpdatedCallback(e,{errcode:((i=this.data)==null?void 0:i.errcode)||"",error:((s=this.data)==null?void 0:s.error)||""});return}this.stateUpdatedCallback(e,e===wE?{emailSid:this.emailSid}:{})}chooseStage(){this.chosenFlow===null&&(this.chosenFlow=this.chooseFlow()),V.log("Active flow => %s",JSON.stringify(this.chosenFlow));const e=this.firstUncompletedStage(this.chosenFlow);return V.log("Next stage: %s",e),e}chooseFlow(){const e=this.data.flows||[],n=Boolean(this.inputs.emailAddress)||Boolean(this.emailSid),r=Boolean(this.inputs.phoneCountry)&&Boolean(this.inputs.phoneNumber);for(const s of e){let o=!1,l=!1;for(const d of s.stages)d===wE?o=!0:d==yq&&(l=!0);if(o==n&&l==r)return s}const i=[];throw n&&i.push(wE),r&&i.push(yq),new $he("No appropriate authentication flow found",i,e)}firstUncompletedStage(e){const n=this.data.completed||[];for(let r=0;r<e.stages.length;++r){const i=e.stages[r];if(n.indexOf(i)===-1)return i}}}const XJ=[t=>{t.createObjectStore("users",{keyPath:["userId"]}),t.createObjectStore("accountData",{keyPath:["type"]}),t.createObjectStore("sync",{keyPath:["clobber"]})},t=>{t.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]}).createIndex("room","room_id")},t=>{t.createObjectStore("client_options",{keyPath:["clobber"]})},t=>{t.createObjectStore("to_device_queue",{autoIncrement:!0})}],Fhe=XJ.length;function FT(t,e,n){const r=t.openCursor(e);return new Promise((i,s)=>{const o=[];r.onerror=()=>{s(new Error("Query failed: "+r.error))},r.onsuccess=()=>{const l=r.result;if(!l){i(o);return}o.push(n(l)),l.continue()}})}function J0(t){return new Promise((e,n)=>{t.oncomplete=function(r){e(r)},t.onerror=function(){n(t.error)}})}function ZJ(t){return new Promise((e,n)=>{t.onsuccess=function(r){e(r)},t.onerror=function(){n(t.error)}})}function Uhe(t){return new Promise((e,n)=>{t.onsuccess=()=>e(t),t.onerror=r=>n(r)})}function $D(t){return ZJ(t).then(e=>t.result)}class vq{constructor(e,n){this.indexedDB=e,this.db=null,this.disconnected=!0,this._isNewlyCreated=!1,this.isPersisting=!1,this.pendingUserPresenceData=[],this.dbName="matrix-js-sdk:"+(n||"default"),this.syncAccumulator=new WJ}static exists(e,n){return n="matrix-js-sdk:"+(n||"default"),mJ(e,n)}connect(){if(!this.disconnected)return V.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),Promise.resolve();this.disconnected=!1,V.log("LocalIndexedDBStoreBackend.connect: connecting...");const e=this.indexedDB.open(this.dbName,Fhe);return e.onupgradeneeded=n=>{const r=e.result,i=n.oldVersion;V.log(`LocalIndexedDBStoreBackend.connect: upgrading from ${i}`),i<1&&(this._isNewlyCreated=!0),XJ.forEach((s,o)=>{i<=o&&s(r)})},e.onblocked=()=>{V.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},V.log("LocalIndexedDBStoreBackend.connect: awaiting connection..."),ZJ(e).then(()=>(V.log("LocalIndexedDBStoreBackend.connect: connected"),this.db=e.result,this.db.onversionchange=()=>{this.db.close()},this.init()))}isNewlyCreated(){return Promise.resolve(this._isNewlyCreated)}init(){return Promise.all([this.loadAccountData(),this.loadSyncData()]).then(([e,n])=>{V.log("LocalIndexedDBStoreBackend: loaded initial data"),this.syncAccumulator.accumulate({next_batch:n.nextBatch,rooms:n.roomsData,account_data:{events:e}},!0)})}getOutOfBandMembers(e){return new Promise((n,r)=>{const o=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),l=IDBKeyRange.only(e),d=o.openCursor(l),h=[];let f=!1;d.onsuccess=()=>{const v=d.result;if(!v)return!h.length&&!f?n(null):n(h);const w=v.value;w.oob_written?f=!0:h.push(w),v.continue()},d.onerror=v=>{r(v)}}).then(n=>(V.log(`LL: got ${n==null?void 0:n.length} membershipEvents from storage for room ${e} ...`),n))}async setOutOfBandMembers(e,n){V.log(`LL: backend about to store ${n.length} members for ${e}`);const r=this.db.transaction(["oob_membership_events"],"readwrite"),i=r.objectStore("oob_membership_events");n.forEach(o=>{i.put(o)});const s={room_id:e,oob_written:!0,state_key:0};i.put(s),await J0(r),V.log(`LL: backend done storing for ${e}!`)}async clearOutOfBandMembers(e){const i=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),s=IDBKeyRange.only(e),o=$D(i.openKeyCursor(s,"next")).then(E=>E&&E.primaryKey[1]),l=$D(i.openKeyCursor(s,"prev")).then(E=>E&&E.primaryKey[1]),[d,h]=await Promise.all([o,l]),v=this.db.transaction(["oob_membership_events"],"readwrite").objectStore("oob_membership_events"),w=IDBKeyRange.bound([e,d],[e,h]);V.log(`LL: Deleting all users + marker in storage for room ${e}, with key range:`,[e,d],[e,h]),await Uhe(v.delete(w))}clearDatabase(){return new Promise(e=>{V.log(`Removing indexeddb instance: ${this.dbName}`);const n=this.indexedDB.deleteDatabase(this.dbName);n.onblocked=()=>{V.log(`can't yet delete indexeddb ${this.dbName} because it is open elsewhere`)},n.onerror=()=>{V.warn(`unable to delete js-sdk store indexeddb: ${n.error}`),e()},n.onsuccess=()=>{V.log(`Removed indexeddb instance: ${this.dbName}`),e()}})}getSavedSync(e=!0){const n=this.syncAccumulator.getJSON();return n.nextBatch?e?Promise.resolve(GR(n)):Promise.resolve(n):Promise.resolve(null)}getNextBatchToken(){return Promise.resolve(this.syncAccumulator.getNextBatchToken())}setSyncData(e){return Promise.resolve().then(()=>{this.syncAccumulator.accumulate(e)})}async syncToDatabase(e){if(this.isPersisting){V.warn("Skipping syncToDatabase() as persist already in flight"),this.pendingUserPresenceData.push(...e);return}else e.unshift(...this.pendingUserPresenceData),this.isPersisting=!0;try{const n=this.syncAccumulator.getJSON(!0);await Promise.all([this.persistUserPresenceEvents(e),this.persistAccountData(n.accountData),this.persistSyncData(n.nextBatch,n.roomsData)])}finally{this.isPersisting=!1}}persistSyncData(e,n){return V.log("Persisting sync data up to",e),ny(()=>{const r=this.db.transaction(["sync"],"readwrite");return r.objectStore("sync").put({clobber:"-",nextBatch:e,roomsData:n}),J0(r).then(()=>{V.log("Persisted sync data up to",e)})})}persistAccountData(e){return ny(()=>{const n=this.db.transaction(["accountData"],"readwrite"),r=n.objectStore("accountData");for(let i=0;i<e.length;i++)r.put(e[i]);return J0(n).then()})}persistUserPresenceEvents(e){return ny(()=>{const n=this.db.transaction(["users"],"readwrite"),r=n.objectStore("users");for(const i of e)r.put({userId:i[0],event:i[1]});return J0(n).then()})}getUserPresenceEvents(){return ny(()=>{const n=this.db.transaction(["users"],"readonly").objectStore("users");return FT(n,void 0,r=>[r.value.userId,r.value.event])})}loadAccountData(){return V.log("LocalIndexedDBStoreBackend: loading account data..."),ny(()=>{const n=this.db.transaction(["accountData"],"readonly").objectStore("accountData");return FT(n,void 0,r=>r.value).then(r=>(V.log("LocalIndexedDBStoreBackend: loaded account data"),r))})}loadSyncData(){return V.log("LocalIndexedDBStoreBackend: loading sync data..."),ny(()=>{const n=this.db.transaction(["sync"],"readonly").objectStore("sync");return FT(n,void 0,r=>r.value).then(r=>(V.log("LocalIndexedDBStoreBackend: loaded sync data"),r.length>1&&V.warn("loadSyncData: More than 1 sync row found."),r.length>0?r[0]:{}))})}getClientOptions(){return Promise.resolve().then(()=>{const n=this.db.transaction(["client_options"],"readonly").objectStore("client_options");return FT(n,void 0,r=>{var i;return(i=r.value)==null?void 0:i.options}).then(r=>r[0])})}async storeClientOptions(e){const n=this.db.transaction(["client_options"],"readwrite");n.objectStore("client_options").put({clobber:"-",options:e}),await J0(n)}async saveToDeviceBatches(e){const n=this.db.transaction(["to_device_queue"],"readwrite"),r=n.objectStore("to_device_queue");for(const i of e)r.add(i);await J0(n)}async getOldestToDeviceBatch(){const n=this.db.transaction(["to_device_queue"],"readonly").objectStore("to_device_queue"),r=await $D(n.openCursor());if(!r)return null;const i=r.value;return{id:r.key,txnId:i.txnId,eventType:i.eventType,batch:i.batch}}async removeToDeviceBatch(e){const n=this.db.transaction(["to_device_queue"],"readwrite");n.objectStore("to_device_queue").delete(e),await J0(n)}}class Hhe{constructor(e,n){this.workerFactory=e,this.dbName=n,this.nextSeq=0,this.inFlight={},this.startPromise=null,this.onWorkerMessage=r=>{const i=r.data;if(i.command=="cmd_success"||i.command=="cmd_fail"){if(i.seq===void 0){V.error("Got reply from worker with no seq");return}const s=this.inFlight[i.seq];if(s===void 0){V.error("Got reply for unknown seq "+i.seq);return}if(delete this.inFlight[i.seq],i.command=="cmd_success")s.resolve(i.result);else{const o=new Error(i.error.message);o.name=i.error.name,s.reject(o)}}else V.warn("Unrecognised message from worker: ",i)}}connect(){return this.ensureStarted().then(()=>this.doCmd("connect"))}clearDatabase(){return this.ensureStarted().then(()=>this.doCmd("clearDatabase"))}isNewlyCreated(){return this.doCmd("isNewlyCreated")}getSavedSync(){return this.doCmd("getSavedSync")}getNextBatchToken(){return this.doCmd("getNextBatchToken")}setSyncData(e){return this.doCmd("setSyncData",[e])}syncToDatabase(e){return this.doCmd("syncToDatabase",[e])}getOutOfBandMembers(e){return this.doCmd("getOutOfBandMembers",[e])}setOutOfBandMembers(e,n){return this.doCmd("setOutOfBandMembers",[e,n])}clearOutOfBandMembers(e){return this.doCmd("clearOutOfBandMembers",[e])}getClientOptions(){return this.doCmd("getClientOptions")}storeClientOptions(e){return this.doCmd("storeClientOptions",[e])}getUserPresenceEvents(){return this.doCmd("getUserPresenceEvents")}async saveToDeviceBatches(e){return this.doCmd("saveToDeviceBatches",[e])}async getOldestToDeviceBatch(){return this.doCmd("getOldestToDeviceBatch")}async removeToDeviceBatch(e){return this.doCmd("removeToDeviceBatch",[e])}ensureStarted(){return this.startPromise===null&&(this.worker=this.workerFactory(),this.worker.onmessage=this.onWorkerMessage,this.startPromise=this.doCmd("_setupWorker",[this.dbName]).then(()=>{V.log("IndexedDB worker is ready")})),this.startPromise}doCmd(e,n){return Promise.resolve().then(()=>{const r=this.nextSeq++,i=rv();return this.inFlight[r]=i,this.worker.postMessage({command:e,seq:r,args:n}),i.promise})}}const jhe=1e3*60*5;class JJ extends ix{constructor(e){if(super(e),this.startedUp=!1,this.syncTs=0,this.userModifiedMap={},this.emitter=new Do,this.on=this.emitter.on.bind(this.emitter),this.getSavedSync=this.degradable(()=>this.backend.getSavedSync(),"getSavedSync"),this.isNewlyCreated=this.degradable(()=>this.backend.isNewlyCreated(),"isNewlyCreated"),this.getSavedSyncToken=this.degradable(()=>this.backend.getNextBatchToken(),"getSavedSyncToken"),this.deleteAllData=this.degradable(()=>(super.deleteAllData(),this.backend.clearDatabase().then(()=>{V.log("Deleted indexeddb data.")},n=>{throw V.error(`Failed to delete indexeddb data: ${n}`),n}))),this.reallySave=this.degradable(()=>{this.syncTs=Date.now();const n=[];for(const r of this.getUsers())this.userModifiedMap[r.userId]!==r.getLastModifiedTime()&&(!r.events.presence||(n.push([r.userId,r.events.presence.event]),this.userModifiedMap[r.userId]=r.getLastModifiedTime()));return this.backend.syncToDatabase(n)}),this.setSyncData=this.degradable(n=>this.backend.setSyncData(n),"setSyncData"),this.getOutOfBandMembers=this.degradable(n=>this.backend.getOutOfBandMembers(n),"getOutOfBandMembers"),this.setOutOfBandMembers=this.degradable((n,r)=>(super.setOutOfBandMembers(n,r),this.backend.setOutOfBandMembers(n,r)),"setOutOfBandMembers"),this.clearOutOfBandMembers=this.degradable(n=>(super.clearOutOfBandMembers(n),this.backend.clearOutOfBandMembers(n)),"clearOutOfBandMembers"),this.getClientOptions=this.degradable(()=>this.backend.getClientOptions(),"getClientOptions"),this.storeClientOptions=this.degradable(n=>(super.storeClientOptions(n),this.backend.storeClientOptions(n)),"storeClientOptions"),!e.indexedDB)throw new Error("Missing required option: indexedDB");e.workerFactory?this.backend=new Hhe(e.workerFactory,e.dbName):this.backend=new vq(e.indexedDB,e.dbName)}static exists(e,n){return vq.exists(e,n)}startup(){return this.startedUp?(V.log("IndexedDBStore.startup: already started"),Promise.resolve()):(V.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect().then(()=>(V.log("IndexedDBStore.startup: loading presence events"),this.backend.getUserPresenceEvents())).then(e=>{V.log("IndexedDBStore.startup: processing presence events"),e.forEach(([n,r])=>{const i=new aw(n);r&&i.setPresenceEvent(new Ao(r)),this.userModifiedMap[i.userId]=i.getLastModifiedTime(),this.storeUser(i)})}))}wantsSave(){return Date.now()-this.syncTs>jhe}save(e=!1){return e||this.wantsSave()?this.reallySave():Promise.resolve()}degradable(e,n){const r=super[n];return async(...i)=>{try{return await e.call(this,...i)}catch(s){V.error("IndexedDBStore failure, degrading to MemoryStore",s),this.emitter.emit("degraded",s);try{V.log("IndexedDBStore trying to delete degraded data"),await this.backend.clearDatabase(),V.log("IndexedDBStore delete after degrading succeeded")}catch(o){V.warn("IndexedDBStore delete after degrading failed",o)}if(r)return r.call(this,...i)}}}async getPendingEvents(e){if(!this.localStorage)return super.getPendingEvents(e);const n=this.localStorage.getItem(FD(e));if(n)try{return JSON.parse(n)}catch(r){V.error("Could not parse persisted pending events",r)}return[]}async setPendingEvents(e,n){if(!this.localStorage)return super.setPendingEvents(e,n);n.length>0?this.localStorage.setItem(FD(e),JSON.stringify(n)):this.localStorage.removeItem(FD(e))}saveToDeviceBatches(e){return this.backend.saveToDeviceBatches(e)}getOldestToDeviceBatch(){return this.backend.getOldestToDeviceBatch()}removeToDeviceBatch(e){return this.backend.removeToDeviceBatch(e)}}function FD(t){return`mx_pending_events_${t}`}let QJ=()=>new qx;function eQ(t){QJ=t}function tQ(t){var e,n,r;return t.store=(e=t.store)!=null?e:new ix({localStorage:global.localStorage}),t.scheduler=(n=t.scheduler)!=null?n:new K3,t.cryptoStore=(r=t.cryptoStore)!=null?r:QJ(),t}function iM(t){return new n8(tQ(t))}function nQ(t,e,n,r){return new VJ(t,e,n,tQ(r))}var Khe=Object.freeze(Object.defineProperty({__proto__:null,setCryptoStoreFactory:eQ,createClient:iM,createRoomWidgetClient:nQ,ContentHelpers:yde,createNewMatrixCall:tx,GroupCallEvent:bs,GroupCallIntent:Qx,GroupCallState:Yo,GroupCallType:Hg,CRYPTO_ENABLED:whe,UNSTABLE_MSC3852_LAST_SEEN_UA:She,PendingEventOrdering:id,RoomVersionStability:NU,M_AUTHENTICATION:xhe,ClientEvent:sr,MatrixClient:n8,fixNotificationCountOnDecryption:HJ,RoomWidgetClient:VJ,HttpApiEvent:LI,ClientPrefix:Ji,IdentityPrefix:nf,MediaPrefix:Ty,MatrixError:U3,ConnectionError:Jx,Method:jt,timeoutSignal:bU,anySignal:$Z,parseErrorResponse:_U,retryNetworkOperation:UZ,MatrixHttpApi:HZ,AutoDiscoveryAction:uJ,AutoDiscovery:Qa,Category:GJ,SyncAccumulator:WJ,InvalidStoreError:$3,InvalidCryptoStoreError:F3,KeySignatureUploadError:eS,BeaconEvent:Js,isTimestampInDuration:JB,getBeaconInfoIdentifier:AI,Beacon:eJ,EventStatus:Tr,MatrixEventEvent:Qi,MatrixEvent:Ao,KNOWN_SAFE_ROOM_VERSION:v$,NotificationCountType:go,RoomEvent:Gr,Room:rM,RoomNameType:ed,Direction:as,EventTimeline:pr,DuplicateStrategy:e3,EventTimelineSet:t3,RoomMemberEvent:Mc,RoomMember:TI,RoomStateEvent:Ci,RoomState:rx,UserEvent:Ic,User:aw,MatrixScheduler:K3,Filter:cf,TimelineWindow:Bhe,TimelineIndex:b$,AuthType:YJ,InteractiveAuth:$U,SERVICE_TYPES:PI,MemoryStore:ix,IndexedDBStore:JJ,MemoryCryptoStore:qx,IndexedDBCryptoStore:ur,getHttpUriForMxc:YR,EventType:Ot,RelationType:Fs,MsgType:Xl,RoomCreateTypeField:kI,RoomType:ky,UNSTABLE_MSC3088_PURPOSE:CB,UNSTABLE_MSC3088_ENABLED:IB,UNSTABLE_MSC3089_TREE_SUBTYPE:RB,UNSTABLE_MSC3089_LEAF:yZ,UNSTABLE_MSC3089_BRANCH:sp,UNSTABLE_MSC2716_MARKER:vZ,UNSTABLE_ELEMENT_FUNCTIONAL_USERS:bZ,EVENT_VISIBILITY_CHANGE_TYPE:hy,PUSHER_ENABLED:MB,PUSHER_DEVICE_ID:Rle,LOCAL_NOTIFICATION_SETTINGS_PREFIX:_Z,PushRuleActionName:Eg,TweakName:vU,ConditionOperator:NZ,DMMemberCountCondition:Zue,isDmMemberCountCondition:Jue,ConditionKind:Tc,PushRuleKind:pa,RuleId:BZ,Visibility:OU,Preset:t8,JoinRule:tM,RestrictedAllowType:DJ,GuestAccess:LU,HistoryVisibility:AU,SearchOrderBy:PU,RoomSummary:PZ},Symbol.toStringTag,{value:"Module"}));if(global.__js_sdk_entrypoint)throw new Error("Multiple matrix-js-sdk entrypoints detected!");global.__js_sdk_entrypoint=!0;let _$;try{_$=global.indexedDB}catch{}_$&&eQ(function(){return new ur(_$,"matrix-js-sdk:crypto")});global.matrixcs=Khe;var ee={exports:{}},Si={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var bq=Object.getOwnPropertySymbols,zhe=Object.prototype.hasOwnProperty,qhe=Object.prototype.propertyIsEnumerable;function Vhe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Ghe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var rQ=Ghe()?Object.assign:function(t,e){for(var n,r=Vhe(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)zhe.call(n,o)&&(r[o]=n[o]);if(bq){i=bq(n);for(var l=0;l<i.length;l++)qhe.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FU=rQ,mw=60103,iQ=60106;Si.Fragment=60107;Si.StrictMode=60108;Si.Profiler=60114;var sQ=60109,oQ=60110,aQ=60112;Si.Suspense=60113;var lQ=60115,cQ=60116;if(typeof Symbol=="function"&&Symbol.for){var Wu=Symbol.for;mw=Wu("react.element"),iQ=Wu("react.portal"),Si.Fragment=Wu("react.fragment"),Si.StrictMode=Wu("react.strict_mode"),Si.Profiler=Wu("react.profiler"),sQ=Wu("react.provider"),oQ=Wu("react.context"),aQ=Wu("react.forward_ref"),Si.Suspense=Wu("react.suspense"),lQ=Wu("react.memo"),cQ=Wu("react.lazy")}var _q=typeof Symbol=="function"&&Symbol.iterator;function Whe(t){return t===null||typeof t!="object"?null:(t=_q&&t[_q]||t["@@iterator"],typeof t=="function"?t:null)}function r8(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uQ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dQ={};function yw(t,e,n){this.props=t,this.context=e,this.refs=dQ,this.updater=n||uQ}yw.prototype.isReactComponent={};yw.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(r8(85));this.updater.enqueueSetState(this,t,e,"setState")};yw.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fQ(){}fQ.prototype=yw.prototype;function UU(t,e,n){this.props=t,this.context=e,this.refs=dQ,this.updater=n||uQ}var HU=UU.prototype=new fQ;HU.constructor=UU;FU(HU,yw.prototype);HU.isPureReactComponent=!0;var jU={current:null},hQ=Object.prototype.hasOwnProperty,pQ={key:!0,ref:!0,__self:!0,__source:!0};function gQ(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hQ.call(e,r)&&!pQ.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var d=Array(l),h=0;h<l;h++)d[h]=arguments[h+2];i.children=d}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:mw,type:t,key:s,ref:o,props:i,_owner:jU.current}}function Yhe(t,e){return{$$typeof:mw,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function KU(t){return typeof t=="object"&&t!==null&&t.$$typeof===mw}function Xhe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wq=/\/+/g;function UD(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xhe(""+t.key):e.toString(36)}function JC(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mw:case iQ:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+UD(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(wq,"$&/")+"/"),JC(i,e,n,"",function(h){return h})):i!=null&&(KU(i)&&(i=Yhe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wq,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var d=r+UD(s,l);o+=JC(s,e,n,d,i)}else if(d=Whe(t),typeof d=="function")for(t=d.call(t),l=0;!(s=t.next()).done;)s=s.value,d=r+UD(s,l++),o+=JC(s,e,n,d,i);else if(s==="object")throw e=""+t,Error(r8(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function UT(t,e,n){if(t==null)return t;var r=[],i=0;return JC(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Zhe(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var mQ={current:null};function kp(){var t=mQ.current;if(t===null)throw Error(r8(321));return t}var Jhe={ReactCurrentDispatcher:mQ,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:jU,IsSomeRendererActing:{current:!1},assign:FU};Si.Children={map:UT,forEach:function(t,e,n){UT(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return UT(t,function(){e++}),e},toArray:function(t){return UT(t,function(e){return e})||[]},only:function(t){if(!KU(t))throw Error(r8(143));return t}};Si.Component=yw;Si.PureComponent=UU;Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jhe;Si.cloneElement=function(t,e,n){if(t==null)throw Error(r8(267,t));var r=FU({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jU.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in e)hQ.call(e,d)&&!pQ.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&l!==void 0?l[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){l=Array(d);for(var h=0;h<d;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:mw,type:t.type,key:i,ref:s,props:r,_owner:o}};Si.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:oQ,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:sQ,_context:t},t.Consumer=t};Si.createElement=gQ;Si.createFactory=function(t){var e=gQ.bind(null,t);return e.type=t,e};Si.createRef=function(){return{current:null}};Si.forwardRef=function(t){return{$$typeof:aQ,render:t}};Si.isValidElement=KU;Si.lazy=function(t){return{$$typeof:cQ,_payload:{_status:-1,_result:t},_init:Zhe}};Si.memo=function(t,e){return{$$typeof:lQ,type:t,compare:e===void 0?null:e}};Si.useCallback=function(t,e){return kp().useCallback(t,e)};Si.useContext=function(t,e){return kp().useContext(t,e)};Si.useDebugValue=function(){};Si.useEffect=function(t,e){return kp().useEffect(t,e)};Si.useImperativeHandle=function(t,e,n){return kp().useImperativeHandle(t,e,n)};Si.useLayoutEffect=function(t,e){return kp().useLayoutEffect(t,e)};Si.useMemo=function(t,e){return kp().useMemo(t,e)};Si.useReducer=function(t,e,n){return kp().useReducer(t,e,n)};Si.useRef=function(t){return kp().useRef(t)};Si.useState=function(t){return kp().useState(t)};Si.version="17.0.2";ee.exports=Si;var z=ee.exports,sM={exports:{}},bu={},yQ={exports:{}},vQ={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var d=null,h=null,f=function(){if(d!==null)try{var Se=t.unstable_now();d(!0,Se),d=null}catch(Ie){throw setTimeout(f,0),Ie}};e=function(Se){d!==null?setTimeout(e,0,Se):(d=Se,setTimeout(f,0))},n=function(Se,Ie){h=setTimeout(Se,Ie)},r=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var v=window.setTimeout,w=window.clearTimeout;if(typeof console!="undefined"){var E=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof E!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var C=!1,O=null,M=-1,A=5,D=0;t.unstable_shouldYield=function(){return t.unstable_now()>=D},i=function(){},t.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Se?Math.floor(1e3/Se):5};var U=new MessageChannel,R=U.port2;U.port1.onmessage=function(){if(O!==null){var Se=t.unstable_now();D=Se+A;try{O(!0,Se)?R.postMessage(null):(C=!1,O=null)}catch(Ie){throw R.postMessage(null),Ie}}else C=!1},e=function(Se){O=Se,C||(C=!0,R.postMessage(null))},n=function(Se,Ie){M=v(function(){Se(t.unstable_now())},Ie)},r=function(){w(M),M=-1}}function X(Se,Ie){var Ye=Se.length;Se.push(Ie);e:for(;;){var Le=Ye-1>>>1,Nt=Se[Le];if(Nt!==void 0&&0<W(Nt,Ie))Se[Le]=Ie,Se[Ye]=Nt,Ye=Le;else break e}}function H(Se){return Se=Se[0],Se===void 0?null:Se}function K(Se){var Ie=Se[0];if(Ie!==void 0){var Ye=Se.pop();if(Ye!==Ie){Se[0]=Ye;e:for(var Le=0,Nt=Se.length;Le<Nt;){var pt=2*(Le+1)-1,ze=Se[pt],nt=pt+1,me=Se[nt];if(ze!==void 0&&0>W(ze,Ye))me!==void 0&&0>W(me,ze)?(Se[Le]=me,Se[nt]=Ye,Le=nt):(Se[Le]=ze,Se[pt]=Ye,Le=pt);else if(me!==void 0&&0>W(me,Ye))Se[Le]=me,Se[nt]=Ye,Le=nt;else break e}}return Ie}return null}function W(Se,Ie){var Ye=Se.sortIndex-Ie.sortIndex;return Ye!==0?Ye:Se.id-Ie.id}var Z=[],ie=[],se=1,oe=null,Q=3,ae=!1,he=!1,Ee=!1;function De(Se){for(var Ie=H(ie);Ie!==null;){if(Ie.callback===null)K(ie);else if(Ie.startTime<=Se)K(ie),Ie.sortIndex=Ie.expirationTime,X(Z,Ie);else break;Ie=H(ie)}}function qe(Se){if(Ee=!1,De(Se),!he)if(H(Z)!==null)he=!0,e(_e);else{var Ie=H(ie);Ie!==null&&n(qe,Ie.startTime-Se)}}function _e(Se,Ie){he=!1,Ee&&(Ee=!1,r()),ae=!0;var Ye=Q;try{for(De(Ie),oe=H(Z);oe!==null&&(!(oe.expirationTime>Ie)||Se&&!t.unstable_shouldYield());){var Le=oe.callback;if(typeof Le=="function"){oe.callback=null,Q=oe.priorityLevel;var Nt=Le(oe.expirationTime<=Ie);Ie=t.unstable_now(),typeof Nt=="function"?oe.callback=Nt:oe===H(Z)&&K(Z),De(Ie)}else K(Z);oe=H(Z)}if(oe!==null)var pt=!0;else{var ze=H(ie);ze!==null&&n(qe,ze.startTime-Ie),pt=!1}return pt}finally{oe=null,Q=Ye,ae=!1}}var xe=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Se){Se.callback=null},t.unstable_continueExecution=function(){he||ae||(he=!0,e(_e))},t.unstable_getCurrentPriorityLevel=function(){return Q},t.unstable_getFirstCallbackNode=function(){return H(Z)},t.unstable_next=function(Se){switch(Q){case 1:case 2:case 3:var Ie=3;break;default:Ie=Q}var Ye=Q;Q=Ie;try{return Se()}finally{Q=Ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=xe,t.unstable_runWithPriority=function(Se,Ie){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var Ye=Q;Q=Se;try{return Ie()}finally{Q=Ye}},t.unstable_scheduleCallback=function(Se,Ie,Ye){var Le=t.unstable_now();switch(typeof Ye=="object"&&Ye!==null?(Ye=Ye.delay,Ye=typeof Ye=="number"&&0<Ye?Le+Ye:Le):Ye=Le,Se){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=Ye+Nt,Se={id:se++,callback:Ie,priorityLevel:Se,startTime:Ye,expirationTime:Nt,sortIndex:-1},Ye>Le?(Se.sortIndex=Ye,X(ie,Se),H(Z)===null&&Se===H(ie)&&(Ee?r():Ee=!0,n(qe,Ye-Le))):(Se.sortIndex=Nt,X(Z,Se),he||ae||(he=!0,e(_e))),Se},t.unstable_wrapCallback=function(Se){var Ie=Q;return function(){var Ye=Q;Q=Ie;try{return Se.apply(this,arguments)}finally{Q=Ye}}}})(vQ);yQ.exports=vQ;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oM=ee.exports,Es=rQ,Xo=yQ.exports;function Tn(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!oM)throw Error(Tn(227));var bQ=new Set,sx={};function ov(t,e){z3(t,e),z3(t+"Capture",e)}function z3(t,e){for(sx[t]=e,t=0;t<e.length;t++)bQ.add(e[t])}var vp=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Qhe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eq=Object.prototype.hasOwnProperty,Sq={},xq={};function epe(t){return Eq.call(xq,t)?!0:Eq.call(Sq,t)?!1:Qhe.test(t)?xq[t]=!0:(Sq[t]=!0,!1)}function tpe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function npe(t,e,n,r){if(e===null||typeof e=="undefined"||tpe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sl(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wa[t]=new Sl(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wa[e]=new Sl(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wa[t]=new Sl(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wa[t]=new Sl(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wa[t]=new Sl(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wa[t]=new Sl(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wa[t]=new Sl(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wa[t]=new Sl(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wa[t]=new Sl(t,5,!1,t.toLowerCase(),null,!1,!1)});var zU=/[\-:]([a-z])/g;function qU(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zU,qU);wa[e]=new Sl(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zU,qU);wa[e]=new Sl(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zU,qU);wa[e]=new Sl(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wa[t]=new Sl(t,1,!1,t.toLowerCase(),null,!1,!1)});wa.xlinkHref=new Sl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wa[t]=new Sl(t,1,!1,t.toLowerCase(),null,!0,!0)});function VU(t,e,n,r){var i=wa.hasOwnProperty(e)?wa[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(npe(e,n,i,r)&&(n=null),r||i===null?epe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var av=oM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iS=60103,py=60106,ug=60107,GU=60108,xS=60114,WU=60109,YU=60110,aM=60112,kS=60113,$I=60120,lM=60115,XU=60116,ZU=60121,JU=60128,_Q=60129,QU=60130,w$=60131;if(typeof Symbol=="function"&&Symbol.for){var zo=Symbol.for;iS=zo("react.element"),py=zo("react.portal"),ug=zo("react.fragment"),GU=zo("react.strict_mode"),xS=zo("react.profiler"),WU=zo("react.provider"),YU=zo("react.context"),aM=zo("react.forward_ref"),kS=zo("react.suspense"),$I=zo("react.suspense_list"),lM=zo("react.memo"),XU=zo("react.lazy"),ZU=zo("react.block"),zo("react.scope"),JU=zo("react.opaque.id"),_Q=zo("react.debug_trace_mode"),QU=zo("react.offscreen"),w$=zo("react.legacy_hidden")}var kq=typeof Symbol=="function"&&Symbol.iterator;function EE(t){return t===null||typeof t!="object"?null:(t=kq&&t[kq]||t["@@iterator"],typeof t=="function"?t:null)}var HD;function sS(t){if(HD===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);HD=e&&e[1]||""}return`
`+HD+t}var jD=!1;function HT(t,e){if(!t||jD)return"";jD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{jD=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sS(t):""}function rpe(t){switch(t.tag){case 5:return sS(t.type);case 16:return sS("Lazy");case 13:return sS("Suspense");case 19:return sS("SuspenseList");case 0:case 2:case 15:return t=HT(t.type,!1),t;case 11:return t=HT(t.type.render,!1),t;case 22:return t=HT(t.type._render,!1),t;case 1:return t=HT(t.type,!0),t;default:return""}}function m3(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ug:return"Fragment";case py:return"Portal";case xS:return"Profiler";case GU:return"StrictMode";case kS:return"Suspense";case $I:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YU:return(t.displayName||"Context")+".Consumer";case WU:return(t._context.displayName||"Context")+".Provider";case aM:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case lM:return m3(t.type);case ZU:return m3(t._render);case XU:e=t._payload,t=t._init;try{return m3(t(e))}catch{}}return null}function Kg(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function wQ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ipe(t){var e=wQ(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jT(t){t._valueTracker||(t._valueTracker=ipe(t))}function EQ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wQ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function FI(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function E$(t,e){var n=e.checked;return Es({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Tq(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kg(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SQ(t,e){e=e.checked,e!=null&&VU(t,"checked",e,!1)}function S$(t,e){SQ(t,e);var n=Kg(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x$(t,e.type,n):e.hasOwnProperty("defaultValue")&&x$(t,e.type,Kg(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cq(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function x$(t,e,n){(e!=="number"||FI(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function spe(t){var e="";return oM.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function k$(t,e){return t=Es({children:void 0},e),(e=spe(e.children))&&(t.children=e),t}function y3(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kg(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function T$(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Tn(91));return Es({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iq(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Tn(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Tn(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kg(n)}}function xQ(t,e){var n=Kg(e.value),r=Kg(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rq(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var C$={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function kQ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I$(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kQ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var KT,TQ=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==C$.svg||"innerHTML"in t)t.innerHTML=e;else{for(KT=KT||document.createElement("div"),KT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=KT.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ox(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var TS={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ope=["Webkit","ms","Moz","O"];Object.keys(TS).forEach(function(t){ope.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),TS[e]=TS[t]})});function CQ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||TS.hasOwnProperty(t)&&TS[t]?(""+e).trim():e+"px"}function IQ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CQ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ape=Es({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R$(t,e){if(e){if(ape[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Tn(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Tn(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Tn(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Tn(62))}}function M$(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function eH(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O$=null,v3=null,b3=null;function Mq(t){if(t=s8(t)){if(typeof O$!="function")throw Error(Tn(280));var e=t.stateNode;e&&(e=pM(e),O$(t.stateNode,t.type,e))}}function RQ(t){v3?b3?b3.push(t):b3=[t]:v3=t}function MQ(){if(v3){var t=v3,e=b3;if(b3=v3=null,Mq(t),e)for(t=0;t<e.length;t++)Mq(e[t])}}function tH(t,e){return t(e)}function OQ(t,e,n,r,i){return t(e,n,r,i)}function nH(){}var LQ=tH,gy=!1,KD=!1;function rH(){(v3!==null||b3!==null)&&(nH(),MQ())}function lpe(t,e,n){if(KD)return t(e,n);KD=!0;try{return LQ(t,e,n)}finally{KD=!1,rH()}}function ax(t,e){var n=t.stateNode;if(n===null)return null;var r=pM(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Tn(231,e,typeof n));return n}var L$=!1;if(vp)try{var SE={};Object.defineProperty(SE,"passive",{get:function(){L$=!0}}),window.addEventListener("test",SE,SE),window.removeEventListener("test",SE,SE)}catch{L$=!1}function cpe(t,e,n,r,i,s,o,l,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var CS=!1,UI=null,HI=!1,A$=null,upe={onError:function(t){CS=!0,UI=t}};function dpe(t,e,n,r,i,s,o,l,d){CS=!1,UI=null,cpe.apply(upe,arguments)}function fpe(t,e,n,r,i,s,o,l,d){if(dpe.apply(this,arguments),CS){if(CS){var h=UI;CS=!1,UI=null}else throw Error(Tn(198));HI||(HI=!0,A$=h)}}function lv(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AQ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oq(t){if(lv(t)!==t)throw Error(Tn(188))}function hpe(t){var e=t.alternate;if(!e){if(e=lv(t),e===null)throw Error(Tn(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Oq(i),t;if(s===r)return Oq(i),e;s=s.sibling}throw Error(Tn(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Tn(189))}}if(n.alternate!==r)throw Error(Tn(190))}if(n.tag!==3)throw Error(Tn(188));return n.stateNode.current===n?t:e}function PQ(t){if(t=hpe(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Lq(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var DQ,iH,NQ,BQ,P$=!1,pf=[],Sg=null,xg=null,kg=null,lx=new Map,cx=new Map,xE=[],Aq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D$(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function Pq(t,e){switch(t){case"focusin":case"focusout":Sg=null;break;case"dragenter":case"dragleave":xg=null;break;case"mouseover":case"mouseout":kg=null;break;case"pointerover":case"pointerout":lx.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cx.delete(e.pointerId)}}function kE(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=D$(e,n,r,i,s),e!==null&&(e=s8(e),e!==null&&iH(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ppe(t,e,n,r,i){switch(e){case"focusin":return Sg=kE(Sg,t,e,n,r,i),!0;case"dragenter":return xg=kE(xg,t,e,n,r,i),!0;case"mouseover":return kg=kE(kg,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lx.set(s,kE(lx.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cx.set(s,kE(cx.get(s)||null,t,e,n,r,i)),!0}return!1}function gpe(t){var e=my(t.target);if(e!==null){var n=lv(e);if(n!==null){if(e=n.tag,e===13){if(e=AQ(n),e!==null){t.blockedOn=e,BQ(t.lanePriority,function(){Xo.unstable_runWithPriority(t.priority,function(){NQ(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function QC(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lH(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=s8(n),e!==null&&iH(e),t.blockedOn=n,!1;e.shift()}return!0}function Dq(t,e,n){QC(t)&&n.delete(e)}function mpe(){for(P$=!1;0<pf.length;){var t=pf[0];if(t.blockedOn!==null){t=s8(t.blockedOn),t!==null&&DQ(t);break}for(var e=t.targetContainers;0<e.length;){var n=lH(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&pf.shift()}Sg!==null&&QC(Sg)&&(Sg=null),xg!==null&&QC(xg)&&(xg=null),kg!==null&&QC(kg)&&(kg=null),lx.forEach(Dq),cx.forEach(Dq)}function TE(t,e){t.blockedOn===e&&(t.blockedOn=null,P$||(P$=!0,Xo.unstable_scheduleCallback(Xo.unstable_NormalPriority,mpe)))}function $Q(t){function e(i){return TE(i,t)}if(0<pf.length){TE(pf[0],t);for(var n=1;n<pf.length;n++){var r=pf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sg!==null&&TE(Sg,t),xg!==null&&TE(xg,t),kg!==null&&TE(kg,t),lx.forEach(e),cx.forEach(e),n=0;n<xE.length;n++)r=xE[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xE.length&&(n=xE[0],n.blockedOn===null);)gpe(n),n.blockedOn===null&&xE.shift()}function zT(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var n3={animationend:zT("Animation","AnimationEnd"),animationiteration:zT("Animation","AnimationIteration"),animationstart:zT("Animation","AnimationStart"),transitionend:zT("Transition","TransitionEnd")},zD={},FQ={};vp&&(FQ=document.createElement("div").style,"AnimationEvent"in window||(delete n3.animationend.animation,delete n3.animationiteration.animation,delete n3.animationstart.animation),"TransitionEvent"in window||delete n3.transitionend.transition);function cM(t){if(zD[t])return zD[t];if(!n3[t])return t;var e=n3[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FQ)return zD[t]=e[n];return t}var UQ=cM("animationend"),HQ=cM("animationiteration"),jQ=cM("animationstart"),KQ=cM("transitionend"),zQ=new Map,sH=new Map,ype=["abort","abort",UQ,"animationEnd",HQ,"animationIteration",jQ,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",KQ,"transitionEnd","waiting","waiting"];function oH(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),sH.set(r,e),zQ.set(r,i),ov(i,[r])}}var vpe=Xo.unstable_now;vpe();var ss=8;function G_(t){if((1&t)!==0)return ss=15,1;if((2&t)!==0)return ss=14,2;if((4&t)!==0)return ss=13,4;var e=24&t;return e!==0?(ss=12,e):(t&32)!==0?(ss=11,32):(e=192&t,e!==0?(ss=10,e):(t&256)!==0?(ss=9,256):(e=3584&t,e!==0?(ss=8,e):(t&4096)!==0?(ss=7,4096):(e=4186112&t,e!==0?(ss=6,e):(e=62914560&t,e!==0?(ss=5,e):t&67108864?(ss=4,67108864):(t&134217728)!==0?(ss=3,134217728):(e=805306368&t,e!==0?(ss=2,e):(1073741824&t)!==0?(ss=1,1073741824):(ss=8,t))))))}function bpe(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function _pe(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Tn(358,t))}}function ux(t,e){var n=t.pendingLanes;if(n===0)return ss=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,l=t.pingedLanes;if(s!==0)r=s,i=ss=15;else if(s=n&134217727,s!==0){var d=s&~o;d!==0?(r=G_(d),i=ss):(l&=s,l!==0&&(r=G_(l),i=ss))}else s=n&~o,s!==0?(r=G_(s),i=ss):l!==0&&(r=G_(l),i=ss);if(r===0)return 0;if(r=31-zg(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(G_(e),i<=ss)return e;ss=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zg(e),i=1<<n,r|=t[n],e&=~i;return r}function qQ(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jI(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=W_(24&~e),t===0?jI(10,e):t;case 10:return t=W_(192&~e),t===0?jI(8,e):t;case 8:return t=W_(3584&~e),t===0&&(t=W_(4186112&~e),t===0&&(t=512)),t;case 2:return e=W_(805306368&~e),e===0&&(e=268435456),e}throw Error(Tn(358,t))}function W_(t){return t&-t}function qD(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uM(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-zg(e),t[e]=n}var zg=Math.clz32?Math.clz32:Spe,wpe=Math.log,Epe=Math.LN2;function Spe(t){return t===0?32:31-(wpe(t)/Epe|0)|0}var xpe=Xo.unstable_UserBlockingPriority,kpe=Xo.unstable_runWithPriority,eI=!0;function Tpe(t,e,n,r){gy||nH();var i=aH,s=gy;gy=!0;try{OQ(i,t,e,n,r)}finally{(gy=s)||rH()}}function Cpe(t,e,n,r){kpe(xpe,aH.bind(null,t,e,n,r))}function aH(t,e,n,r){if(eI){var i;if((i=(e&4)===0)&&0<pf.length&&-1<Aq.indexOf(t))t=D$(null,t,e,n,r),pf.push(t);else{var s=lH(t,e,n,r);if(s===null)i&&Pq(t,r);else{if(i){if(-1<Aq.indexOf(t)){t=D$(s,t,e,n,r),pf.push(t);return}if(ppe(s,t,e,n,r))return;Pq(t,r)}iee(t,e,r,null,n)}}}}function lH(t,e,n,r){var i=eH(r);if(i=my(i),i!==null){var s=lv(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=AQ(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return iee(t,e,r,i,n),null}var pg=null,cH=null,tI=null;function VQ(){if(tI)return tI;var t,e=cH,n=e.length,r,i="value"in pg?pg.value:pg.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return tI=i.slice(t,1<r?1-r:void 0)}function nI(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qT(){return!0}function Nq(){return!1}function Bc(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qT:Nq,this.isPropagationStopped=Nq,this}return Es(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qT)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qT)},persist:function(){},isPersistent:qT}),e}var vw={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uH=Bc(vw),i8=Es({},vw,{view:0,detail:0}),Ipe=Bc(i8),VD,GD,CE,dM=Es({},i8,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dH,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==CE&&(CE&&t.type==="mousemove"?(VD=t.screenX-CE.screenX,GD=t.screenY-CE.screenY):GD=VD=0,CE=t),VD)},movementY:function(t){return"movementY"in t?t.movementY:GD}}),Bq=Bc(dM),Rpe=Es({},dM,{dataTransfer:0}),Mpe=Bc(Rpe),Ope=Es({},i8,{relatedTarget:0}),WD=Bc(Ope),Lpe=Es({},vw,{animationName:0,elapsedTime:0,pseudoElement:0}),Ape=Bc(Lpe),Ppe=Es({},vw,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dpe=Bc(Ppe),Npe=Es({},vw,{data:0}),$q=Bc(Npe),Bpe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fpe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Upe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fpe[t])?!!e[t]:!1}function dH(){return Upe}var Hpe=Es({},i8,{key:function(t){if(t.key){var e=Bpe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nI(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$pe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dH,charCode:function(t){return t.type==="keypress"?nI(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nI(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jpe=Bc(Hpe),Kpe=Es({},dM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fq=Bc(Kpe),zpe=Es({},i8,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dH}),qpe=Bc(zpe),Vpe=Es({},vw,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gpe=Bc(Vpe),Wpe=Es({},dM,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ype=Bc(Wpe),Xpe=[9,13,27,32],fH=vp&&"CompositionEvent"in window,IS=null;vp&&"documentMode"in document&&(IS=document.documentMode);var Zpe=vp&&"TextEvent"in window&&!IS,GQ=vp&&(!fH||IS&&8<IS&&11>=IS),Uq=String.fromCharCode(32),Hq=!1;function WQ(t,e){switch(t){case"keyup":return Xpe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var r3=!1;function Jpe(t,e){switch(t){case"compositionend":return YQ(e);case"keypress":return e.which!==32?null:(Hq=!0,Uq);case"textInput":return t=e.data,t===Uq&&Hq?null:t;default:return null}}function Qpe(t,e){if(r3)return t==="compositionend"||!fH&&WQ(t,e)?(t=VQ(),tI=cH=pg=null,r3=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GQ&&e.locale!=="ko"?null:e.data;default:return null}}var e1e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jq(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e1e[t.type]:e==="textarea"}function XQ(t,e,n,r){RQ(r),e=KI(e,"onChange"),0<e.length&&(n=new uH("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var RS=null,dx=null;function t1e(t){tee(t,0)}function fM(t){var e=s3(t);if(EQ(e))return t}function n1e(t,e){if(t==="change")return e}var ZQ=!1;if(vp){var YD;if(vp){var XD="oninput"in document;if(!XD){var Kq=document.createElement("div");Kq.setAttribute("oninput","return;"),XD=typeof Kq.oninput=="function"}YD=XD}else YD=!1;ZQ=YD&&(!document.documentMode||9<document.documentMode)}function zq(){RS&&(RS.detachEvent("onpropertychange",JQ),dx=RS=null)}function JQ(t){if(t.propertyName==="value"&&fM(dx)){var e=[];if(XQ(e,dx,t,eH(t)),t=t1e,gy)t(e);else{gy=!0;try{tH(t,e)}finally{gy=!1,rH()}}}}function r1e(t,e,n){t==="focusin"?(zq(),RS=e,dx=n,RS.attachEvent("onpropertychange",JQ)):t==="focusout"&&zq()}function i1e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fM(dx)}function s1e(t,e){if(t==="click")return fM(e)}function o1e(t,e){if(t==="input"||t==="change")return fM(e)}function a1e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ou=typeof Object.is=="function"?Object.is:a1e,l1e=Object.prototype.hasOwnProperty;function fx(t,e){if(ou(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!l1e.call(e,n[r])||!ou(t[n[r]],e[n[r]]))return!1;return!0}function qq(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vq(t,e){var n=qq(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qq(n)}}function QQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gq(){for(var t=window,e=FI();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=FI(t.document)}return e}function N$(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var c1e=vp&&"documentMode"in document&&11>=document.documentMode,i3=null,B$=null,MS=null,$$=!1;function Wq(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$$||i3==null||i3!==FI(r)||(r=i3,"selectionStart"in r&&N$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),MS&&fx(MS,r)||(MS=r,r=KI(B$,"onSelect"),0<r.length&&(e=new uH("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=i3)))}oH("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);oH("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);oH(ype,2);for(var Yq="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ZD=0;ZD<Yq.length;ZD++)sH.set(Yq[ZD],0);z3("onMouseEnter",["mouseout","mouseover"]);z3("onMouseLeave",["mouseout","mouseover"]);z3("onPointerEnter",["pointerout","pointerover"]);z3("onPointerLeave",["pointerout","pointerover"]);ov("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ov("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ov("onBeforeInput",["compositionend","keypress","textInput","paste"]);ov("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ov("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ov("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eee=new Set("cancel close invalid load scroll toggle".split(" ").concat(oS));function Xq(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fpe(r,e,void 0,t),t.currentTarget=null}function tee(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],d=l.instance,h=l.currentTarget;if(l=l.listener,d!==s&&i.isPropagationStopped())break e;Xq(i,l,h),s=d}else for(o=0;o<r.length;o++){if(l=r[o],d=l.instance,h=l.currentTarget,l=l.listener,d!==s&&i.isPropagationStopped())break e;Xq(i,l,h),s=d}}}if(HI)throw t=A$,HI=!1,A$=null,t}function ds(t,e){var n=oee(e),r=t+"__bubble";n.has(r)||(ree(e,t,2,!1),n.add(r))}var Zq="_reactListening"+Math.random().toString(36).slice(2);function nee(t){t[Zq]||(t[Zq]=!0,bQ.forEach(function(e){eee.has(e)||Jq(e,!1,t,null),Jq(e,!0,t,null)}))}function Jq(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&eee.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=oee(s),l=t+"__"+(e?"capture":"bubble");o.has(l)||(e&&(i|=4),ree(s,t,i,e),o.add(l))}function ree(t,e,n,r){var i=sH.get(e);switch(i===void 0?2:i){case 0:i=Tpe;break;case 1:i=Cpe;break;default:i=aH}n=i.bind(null,e,n,t),i=void 0,!L$||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function iee(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;l!==null;){if(o=my(l),o===null)return;if(d=o.tag,d===5||d===6){r=s=o;continue e}l=l.parentNode}}r=r.return}lpe(function(){var h=s,f=eH(n),v=[];e:{var w=zQ.get(t);if(w!==void 0){var E=uH,C=t;switch(t){case"keypress":if(nI(n)===0)break e;case"keydown":case"keyup":E=jpe;break;case"focusin":C="focus",E=WD;break;case"focusout":C="blur",E=WD;break;case"beforeblur":case"afterblur":E=WD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Bq;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Mpe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=qpe;break;case UQ:case HQ:case jQ:E=Ape;break;case KQ:E=Gpe;break;case"scroll":E=Ipe;break;case"wheel":E=Ype;break;case"copy":case"cut":case"paste":E=Dpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Fq}var O=(e&4)!==0,M=!O&&t==="scroll",A=O?w!==null?w+"Capture":null:w;O=[];for(var D=h,U;D!==null;){U=D;var R=U.stateNode;if(U.tag===5&&R!==null&&(U=R,A!==null&&(R=ax(D,A),R!=null&&O.push(hx(D,R,U)))),M)break;D=D.return}0<O.length&&(w=new E(w,C,null,n,f),v.push({event:w,listeners:O}))}}if((e&7)===0){e:{if(w=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",w&&(e&16)===0&&(C=n.relatedTarget||n.fromElement)&&(my(C)||C[bw]))break e;if((E||w)&&(w=f.window===f?f:(w=f.ownerDocument)?w.defaultView||w.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=h,C=C?my(C):null,C!==null&&(M=lv(C),C!==M||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=h),E!==C)){if(O=Bq,R="onMouseLeave",A="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(O=Fq,R="onPointerLeave",A="onPointerEnter",D="pointer"),M=E==null?w:s3(E),U=C==null?w:s3(C),w=new O(R,D+"leave",E,n,f),w.target=M,w.relatedTarget=U,R=null,my(f)===h&&(O=new O(A,D+"enter",C,n,f),O.target=U,O.relatedTarget=M,R=O),M=R,E&&C)t:{for(O=E,A=C,D=0,U=O;U;U=w_(U))D++;for(U=0,R=A;R;R=w_(R))U++;for(;0<D-U;)O=w_(O),D--;for(;0<U-D;)A=w_(A),U--;for(;D--;){if(O===A||A!==null&&O===A.alternate)break t;O=w_(O),A=w_(A)}O=null}else O=null;E!==null&&Qq(v,w,E,O,!1),C!==null&&M!==null&&Qq(v,M,C,O,!0)}}e:{if(w=h?s3(h):window,E=w.nodeName&&w.nodeName.toLowerCase(),E==="select"||E==="input"&&w.type==="file")var X=n1e;else if(jq(w))if(ZQ)X=o1e;else{X=i1e;var H=r1e}else(E=w.nodeName)&&E.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(X=s1e);if(X&&(X=X(t,h))){XQ(v,X,n,f);break e}H&&H(t,w,h),t==="focusout"&&(H=w._wrapperState)&&H.controlled&&w.type==="number"&&x$(w,"number",w.value)}switch(H=h?s3(h):window,t){case"focusin":(jq(H)||H.contentEditable==="true")&&(i3=H,B$=h,MS=null);break;case"focusout":MS=B$=i3=null;break;case"mousedown":$$=!0;break;case"contextmenu":case"mouseup":case"dragend":$$=!1,Wq(v,n,f);break;case"selectionchange":if(c1e)break;case"keydown":case"keyup":Wq(v,n,f)}var K;if(fH)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else r3?WQ(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(GQ&&n.locale!=="ko"&&(r3||W!=="onCompositionStart"?W==="onCompositionEnd"&&r3&&(K=VQ()):(pg=f,cH="value"in pg?pg.value:pg.textContent,r3=!0)),H=KI(h,W),0<H.length&&(W=new $q(W,t,null,n,f),v.push({event:W,listeners:H}),K?W.data=K:(K=YQ(n),K!==null&&(W.data=K)))),(K=Zpe?Jpe(t,n):Qpe(t,n))&&(h=KI(h,"onBeforeInput"),0<h.length&&(f=new $q("onBeforeInput","beforeinput",null,n,f),v.push({event:f,listeners:h}),f.data=K))}tee(v,e)})}function hx(t,e,n){return{instance:t,listener:e,currentTarget:n}}function KI(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ax(t,n),s!=null&&r.unshift(hx(t,s,i)),s=ax(t,e),s!=null&&r.push(hx(t,s,i))),t=t.return}return r}function w_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qq(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,d=l.alternate,h=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&h!==null&&(l=h,i?(d=ax(n,s),d!=null&&o.unshift(hx(n,d,l))):i||(d=ax(n,s),d!=null&&o.push(hx(n,d,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function zI(){}var JD=null,QD=null;function see(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function F$(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eV=typeof setTimeout=="function"?setTimeout:void 0,u1e=typeof clearTimeout=="function"?clearTimeout:void 0;function hH(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function _3(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function tV(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var eN=0;function d1e(t){return{$$typeof:JU,toString:t,valueOf:t}}var hM=Math.random().toString(36).slice(2),gg="__reactFiber$"+hM,qI="__reactProps$"+hM,bw="__reactContainer$"+hM,nV="__reactEvents$"+hM;function my(t){var e=t[gg];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bw]||n[gg]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tV(t);t!==null;){if(n=t[gg])return n;t=tV(t)}return e}t=n,n=t.parentNode}return null}function s8(t){return t=t[gg]||t[bw],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function s3(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Tn(33))}function pM(t){return t[qI]||null}function oee(t){var e=t[nV];return e===void 0&&(e=t[nV]=new Set),e}var U$=[],o3=-1;function Zg(t){return{current:t}}function fs(t){0>o3||(t.current=U$[o3],U$[o3]=null,o3--)}function Hs(t,e){o3++,U$[o3]=t.current,t.current=e}var qg={},Xa=Zg(qg),ec=Zg(!1),By=qg;function q3(t,e){var n=t.type.contextTypes;if(!n)return qg;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tc(t){return t=t.childContextTypes,t!=null}function VI(){fs(ec),fs(Xa)}function rV(t,e,n){if(Xa.current!==qg)throw Error(Tn(168));Hs(Xa,e),Hs(ec,n)}function aee(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Tn(108,m3(e)||"Unknown",i));return Es({},n,r)}function rI(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qg,By=Xa.current,Hs(Xa,t),Hs(ec,ec.current),!0}function iV(t,e,n){var r=t.stateNode;if(!r)throw Error(Tn(169));n?(t=aee(t,e,By),r.__reactInternalMemoizedMergedChildContext=t,fs(ec),fs(Xa),Hs(Xa,t)):fs(ec),Hs(ec,n)}var pH=null,Iy=null,f1e=Xo.unstable_runWithPriority,gH=Xo.unstable_scheduleCallback,H$=Xo.unstable_cancelCallback,h1e=Xo.unstable_shouldYield,sV=Xo.unstable_requestPaint,j$=Xo.unstable_now,p1e=Xo.unstable_getCurrentPriorityLevel,gM=Xo.unstable_ImmediatePriority,lee=Xo.unstable_UserBlockingPriority,cee=Xo.unstable_NormalPriority,uee=Xo.unstable_LowPriority,dee=Xo.unstable_IdlePriority,tN={},g1e=sV!==void 0?sV:function(){},tp=null,iI=null,nN=!1,oV=j$(),qa=1e4>oV?j$:function(){return j$()-oV};function V3(){switch(p1e()){case gM:return 99;case lee:return 98;case cee:return 97;case uee:return 96;case dee:return 95;default:throw Error(Tn(332))}}function fee(t){switch(t){case 99:return gM;case 98:return lee;case 97:return cee;case 96:return uee;case 95:return dee;default:throw Error(Tn(332))}}function $y(t,e){return t=fee(t),f1e(t,e)}function px(t,e,n){return t=fee(t),gH(t,e,n)}function Rf(){if(iI!==null){var t=iI;iI=null,H$(t)}hee()}function hee(){if(!nN&&tp!==null){nN=!0;var t=0;try{var e=tp;$y(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),tp=null}catch(n){throw tp!==null&&(tp=tp.slice(t+1)),gH(gM,Rf),n}finally{nN=!1}}}var m1e=av.ReactCurrentBatchConfig;function td(t,e){if(t&&t.defaultProps){e=Es({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var GI=Zg(null),WI=null,a3=null,YI=null;function mH(){YI=a3=WI=null}function yH(t){var e=GI.current;fs(GI),t.type._context._currentValue=e}function pee(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function w3(t,e){WI=t,YI=a3=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(dd=!0),t.firstContext=null)}function gu(t,e){if(YI!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(YI=t,e=1073741823),e={context:t,observedBits:e,next:null},a3===null){if(WI===null)throw Error(Tn(308));a3=e,WI.dependencies={lanes:0,firstContext:e,responders:null}}else a3=a3.next=e;return t._currentValue}var lg=!1;function vH(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gee(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tg(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cg(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function aV(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gx(t,e,n,r){var i=t.updateQueue;lg=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var d=l,h=d.next;d.next=null,o===null?s=h:o.next=h,o=d;var f=t.alternate;if(f!==null){f=f.updateQueue;var v=f.lastBaseUpdate;v!==o&&(v===null?f.firstBaseUpdate=h:v.next=h,f.lastBaseUpdate=d)}}if(s!==null){v=i.baseState,o=0,f=h=d=null;do{l=s.lane;var w=s.eventTime;if((r&l)===l){f!==null&&(f=f.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=t,C=s;switch(l=e,w=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){v=E.call(w,v,l);break e}v=E;break e;case 3:E.flags=E.flags&-4097|64;case 0:if(E=C.payload,l=typeof E=="function"?E.call(w,v,l):E,l==null)break e;v=Es({},v,l);break e;case 2:lg=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else w={eventTime:w,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(h=f=w,d=v):f=f.next=w,o|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);f===null&&(d=v),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=f,a8|=o,t.lanes=o,t.memoizedState=v}}function lV(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Tn(191,i));i.call(r)}}}var mee=new oM.Component().refs;function XI(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Es({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mM={isMounted:function(t){return(t=t._reactInternals)?lv(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dc(),i=Ig(t),s=Tg(r,i);s.payload=e,n!=null&&(s.callback=n),Cg(t,s),Rg(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dc(),i=Ig(t),s=Tg(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Cg(t,s),Rg(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dc(),r=Ig(t),i=Tg(n,r);i.tag=2,e!=null&&(i.callback=e),Cg(t,i),Rg(t,r,n)}};function cV(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fx(n,r)||!fx(i,s):!0}function yee(t,e,n){var r=!1,i=qg,s=e.contextType;return typeof s=="object"&&s!==null?s=gu(s):(i=tc(e)?By:Xa.current,r=e.contextTypes,s=(r=r!=null)?q3(t,i):qg),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mM,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uV(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mM.enqueueReplaceState(e,e.state,null)}function K$(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mee,vH(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gu(s):(s=tc(e)?By:Xa.current,i.context=q3(t,s)),gx(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(XI(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mM.enqueueReplaceState(i,i.state,null),gx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var VT=Array.isArray;function IE(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Tn(309));var r=n.stateNode}if(!r)throw Error(Tn(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===mee&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Tn(284));if(!n._owner)throw Error(Tn(290,t))}return t}function GT(t,e){if(t.type!=="textarea")throw Error(Tn(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function vee(t){function e(M,A){if(t){var D=M.lastEffect;D!==null?(D.nextEffect=A,M.lastEffect=A):M.firstEffect=M.lastEffect=A,A.nextEffect=null,A.flags=8}}function n(M,A){if(!t)return null;for(;A!==null;)e(M,A),A=A.sibling;return null}function r(M,A){for(M=new Map;A!==null;)A.key!==null?M.set(A.key,A):M.set(A.index,A),A=A.sibling;return M}function i(M,A){return M=Gg(M,A),M.index=0,M.sibling=null,M}function s(M,A,D){return M.index=D,t?(D=M.alternate,D!==null?(D=D.index,D<A?(M.flags=2,A):D):(M.flags=2,A)):A}function o(M){return t&&M.alternate===null&&(M.flags=2),M}function l(M,A,D,U){return A===null||A.tag!==6?(A=aN(D,M.mode,U),A.return=M,A):(A=i(A,D),A.return=M,A)}function d(M,A,D,U){return A!==null&&A.elementType===D.type?(U=i(A,D.props),U.ref=IE(M,A,D),U.return=M,U):(U=lI(D.type,D.key,D.props,null,M.mode,U),U.ref=IE(M,A,D),U.return=M,U)}function h(M,A,D,U){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=lN(D,M.mode,U),A.return=M,A):(A=i(A,D.children||[]),A.return=M,A)}function f(M,A,D,U,R){return A===null||A.tag!==7?(A=k3(D,M.mode,U,R),A.return=M,A):(A=i(A,D),A.return=M,A)}function v(M,A,D){if(typeof A=="string"||typeof A=="number")return A=aN(""+A,M.mode,D),A.return=M,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case iS:return D=lI(A.type,A.key,A.props,null,M.mode,D),D.ref=IE(M,null,A),D.return=M,D;case py:return A=lN(A,M.mode,D),A.return=M,A}if(VT(A)||EE(A))return A=k3(A,M.mode,D,null),A.return=M,A;GT(M,A)}return null}function w(M,A,D,U){var R=A!==null?A.key:null;if(typeof D=="string"||typeof D=="number")return R!==null?null:l(M,A,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case iS:return D.key===R?D.type===ug?f(M,A,D.props.children,U,R):d(M,A,D,U):null;case py:return D.key===R?h(M,A,D,U):null}if(VT(D)||EE(D))return R!==null?null:f(M,A,D,U,null);GT(M,D)}return null}function E(M,A,D,U,R){if(typeof U=="string"||typeof U=="number")return M=M.get(D)||null,l(A,M,""+U,R);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case iS:return M=M.get(U.key===null?D:U.key)||null,U.type===ug?f(A,M,U.props.children,R,U.key):d(A,M,U,R);case py:return M=M.get(U.key===null?D:U.key)||null,h(A,M,U,R)}if(VT(U)||EE(U))return M=M.get(D)||null,f(A,M,U,R,null);GT(A,U)}return null}function C(M,A,D,U){for(var R=null,X=null,H=A,K=A=0,W=null;H!==null&&K<D.length;K++){H.index>K?(W=H,H=null):W=H.sibling;var Z=w(M,H,D[K],U);if(Z===null){H===null&&(H=W);break}t&&H&&Z.alternate===null&&e(M,H),A=s(Z,A,K),X===null?R=Z:X.sibling=Z,X=Z,H=W}if(K===D.length)return n(M,H),R;if(H===null){for(;K<D.length;K++)H=v(M,D[K],U),H!==null&&(A=s(H,A,K),X===null?R=H:X.sibling=H,X=H);return R}for(H=r(M,H);K<D.length;K++)W=E(H,M,K,D[K],U),W!==null&&(t&&W.alternate!==null&&H.delete(W.key===null?K:W.key),A=s(W,A,K),X===null?R=W:X.sibling=W,X=W);return t&&H.forEach(function(ie){return e(M,ie)}),R}function O(M,A,D,U){var R=EE(D);if(typeof R!="function")throw Error(Tn(150));if(D=R.call(D),D==null)throw Error(Tn(151));for(var X=R=null,H=A,K=A=0,W=null,Z=D.next();H!==null&&!Z.done;K++,Z=D.next()){H.index>K?(W=H,H=null):W=H.sibling;var ie=w(M,H,Z.value,U);if(ie===null){H===null&&(H=W);break}t&&H&&ie.alternate===null&&e(M,H),A=s(ie,A,K),X===null?R=ie:X.sibling=ie,X=ie,H=W}if(Z.done)return n(M,H),R;if(H===null){for(;!Z.done;K++,Z=D.next())Z=v(M,Z.value,U),Z!==null&&(A=s(Z,A,K),X===null?R=Z:X.sibling=Z,X=Z);return R}for(H=r(M,H);!Z.done;K++,Z=D.next())Z=E(H,M,K,Z.value,U),Z!==null&&(t&&Z.alternate!==null&&H.delete(Z.key===null?K:Z.key),A=s(Z,A,K),X===null?R=Z:X.sibling=Z,X=Z);return t&&H.forEach(function(se){return e(M,se)}),R}return function(M,A,D,U){var R=typeof D=="object"&&D!==null&&D.type===ug&&D.key===null;R&&(D=D.props.children);var X=typeof D=="object"&&D!==null;if(X)switch(D.$$typeof){case iS:e:{for(X=D.key,R=A;R!==null;){if(R.key===X){switch(R.tag){case 7:if(D.type===ug){n(M,R.sibling),A=i(R,D.props.children),A.return=M,M=A;break e}break;default:if(R.elementType===D.type){n(M,R.sibling),A=i(R,D.props),A.ref=IE(M,R,D),A.return=M,M=A;break e}}n(M,R);break}else e(M,R);R=R.sibling}D.type===ug?(A=k3(D.props.children,M.mode,U,D.key),A.return=M,M=A):(U=lI(D.type,D.key,D.props,null,M.mode,U),U.ref=IE(M,A,D),U.return=M,M=U)}return o(M);case py:e:{for(R=D.key;A!==null;){if(A.key===R)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){n(M,A.sibling),A=i(A,D.children||[]),A.return=M,M=A;break e}else{n(M,A);break}else e(M,A);A=A.sibling}A=lN(D,M.mode,U),A.return=M,M=A}return o(M)}if(typeof D=="string"||typeof D=="number")return D=""+D,A!==null&&A.tag===6?(n(M,A.sibling),A=i(A,D),A.return=M,M=A):(n(M,A),A=aN(D,M.mode,U),A.return=M,M=A),o(M);if(VT(D))return C(M,A,D,U);if(EE(D))return O(M,A,D,U);if(X&&GT(M,D),typeof D=="undefined"&&!R)switch(M.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Tn(152,m3(M.type)||"Component"))}return n(M,A)}}var ZI=vee(!0),bee=vee(!1),o8={},_f=Zg(o8),mx=Zg(o8),yx=Zg(o8);function yy(t){if(t===o8)throw Error(Tn(174));return t}function z$(t,e){switch(Hs(yx,e),Hs(mx,t),Hs(_f,o8),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:I$(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=I$(e,t)}fs(_f),Hs(_f,e)}function G3(){fs(_f),fs(mx),fs(yx)}function dV(t){yy(yx.current);var e=yy(_f.current),n=I$(e,t.type);e!==n&&(Hs(mx,t),Hs(_f,n))}function bH(t){mx.current===t&&(fs(_f),fs(mx))}var Us=Zg(0);function JI(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cp=null,mg=null,wf=!1;function _ee(t,e){var n=au(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function fV(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function q$(t){if(wf){var e=mg;if(e){var n=e;if(!fV(t,e)){if(e=_3(n.nextSibling),!e||!fV(t,e)){t.flags=t.flags&-1025|2,wf=!1,cp=t;return}_ee(cp,n)}cp=t,mg=_3(e.firstChild)}else t.flags=t.flags&-1025|2,wf=!1,cp=t}}function hV(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cp=t}function WT(t){if(t!==cp)return!1;if(!wf)return hV(t),wf=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!F$(e,t.memoizedProps))for(e=mg;e;)_ee(t,e),e=_3(e.nextSibling);if(hV(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Tn(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mg=_3(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mg=null}}else mg=cp?_3(t.stateNode.nextSibling):null;return!0}function rN(){mg=cp=null,wf=!1}var E3=[];function _H(){for(var t=0;t<E3.length;t++)E3[t]._workInProgressVersionPrimary=null;E3.length=0}var OS=av.ReactCurrentDispatcher,du=av.ReactCurrentBatchConfig,vx=0,eo=null,ja=null,ha=null,QI=!1,LS=!1;function jl(){throw Error(Tn(321))}function wH(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ou(t[n],e[n]))return!1;return!0}function EH(t,e,n,r,i,s){if(vx=s,eo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,OS.current=t===null||t.memoizedState===null?v1e:b1e,t=n(r,i),LS){s=0;do{if(LS=!1,!(25>s))throw Error(Tn(301));s+=1,ha=ja=null,e.updateQueue=null,OS.current=_1e,t=n(r,i)}while(LS)}if(OS.current=rR,e=ja!==null&&ja.next!==null,vx=0,ha=ja=eo=null,QI=!1,e)throw Error(Tn(300));return t}function vy(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?eo.memoizedState=ha=t:ha=ha.next=t,ha}function cv(){if(ja===null){var t=eo.alternate;t=t!==null?t.memoizedState:null}else t=ja.next;var e=ha===null?eo.memoizedState:ha.next;if(e!==null)ha=e,ja=t;else{if(t===null)throw Error(Tn(310));ja=t,t={memoizedState:ja.memoizedState,baseState:ja.baseState,baseQueue:ja.baseQueue,queue:ja.queue,next:null},ha===null?eo.memoizedState=ha=t:ha=ha.next=t}return ha}function gf(t,e){return typeof e=="function"?e(t):e}function RE(t){var e=cv(),n=e.queue;if(n===null)throw Error(Tn(311));n.lastRenderedReducer=t;var r=ja,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=o=s=null,d=i;do{var h=d.lane;if((vx&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null}),r=d.eagerReducer===t?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,eo.lanes|=h,a8|=h}d=d.next}while(d!==null&&d!==i);l===null?s=r:l.next=o,ou(r,e.memoizedState)||(dd=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ME(t){var e=cv(),n=e.queue;if(n===null)throw Error(Tn(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ou(s,e.memoizedState)||(dd=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function pV(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(vx&t)===t)&&(e._workInProgressVersionPrimary=r,E3.push(e))),t)return n(e._source);throw E3.push(e),Error(Tn(350))}function wee(t,e,n,r){var i=El;if(i===null)throw Error(Tn(349));var s=e._getVersion,o=s(e._source),l=OS.current,d=l.useState(function(){return pV(i,e,n)}),h=d[1],f=d[0];d=ha;var v=t.memoizedState,w=v.refs,E=w.getSnapshot,C=v.source;v=v.subscribe;var O=eo;return t.memoizedState={refs:w,source:e,subscribe:r},l.useEffect(function(){w.getSnapshot=n,w.setSnapshot=h;var M=s(e._source);if(!ou(o,M)){M=n(e._source),ou(f,M)||(h(M),M=Ig(O),i.mutableReadLanes|=M&i.pendingLanes),M=i.mutableReadLanes,i.entangledLanes|=M;for(var A=i.entanglements,D=M;0<D;){var U=31-zg(D),R=1<<U;A[U]|=M,D&=~R}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var M=w.getSnapshot,A=w.setSnapshot;try{A(M(e._source));var D=Ig(O);i.mutableReadLanes|=D&i.pendingLanes}catch(U){A(function(){throw U})}})},[e,r]),ou(E,n)&&ou(C,e)&&ou(v,r)||(t={pending:null,dispatch:null,lastRenderedReducer:gf,lastRenderedState:f},t.dispatch=h=kH.bind(null,eo,t),d.queue=t,d.baseQueue=null,f=pV(i,e,n),d.memoizedState=d.baseState=f),f}function Eee(t,e,n){var r=cv();return wee(r,t,e,n)}function OE(t){var e=vy();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:gf,lastRenderedState:t},t=t.dispatch=kH.bind(null,eo,t),[e.memoizedState,t]}function eR(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=eo.updateQueue,e===null?(e={lastEffect:null},eo.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gV(t){var e=vy();return t={current:t},e.memoizedState=t}function tR(){return cv().memoizedState}function V$(t,e,n,r){var i=vy();eo.flags|=t,i.memoizedState=eR(1|e,n,void 0,r===void 0?null:r)}function SH(t,e,n,r){var i=cv();r=r===void 0?null:r;var s=void 0;if(ja!==null){var o=ja.memoizedState;if(s=o.destroy,r!==null&&wH(r,o.deps)){eR(e,n,s,r);return}}eo.flags|=t,i.memoizedState=eR(1|e,n,s,r)}function mV(t,e){return V$(516,4,t,e)}function nR(t,e){return SH(516,4,t,e)}function See(t,e){return SH(4,2,t,e)}function xee(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kee(t,e,n){return n=n!=null?n.concat([t]):null,SH(4,2,xee.bind(null,e,t),n)}function xH(){}function Tee(t,e){var n=cv();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wH(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cee(t,e){var n=cv();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wH(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y1e(t,e){var n=V3();$y(98>n?98:n,function(){t(!0)}),$y(97<n?97:n,function(){var r=du.transition;du.transition=1;try{t(!1),e()}finally{du.transition=r}})}function kH(t,e,n){var r=Dc(),i=Ig(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===eo||o!==null&&o===eo)LS=QI=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,d=o(l,n);if(s.eagerReducer=o,s.eagerState=d,ou(d,l))return}catch{}finally{}Rg(t,i,r)}}var rR={readContext:gu,useCallback:jl,useContext:jl,useEffect:jl,useImperativeHandle:jl,useLayoutEffect:jl,useMemo:jl,useReducer:jl,useRef:jl,useState:jl,useDebugValue:jl,useDeferredValue:jl,useTransition:jl,useMutableSource:jl,useOpaqueIdentifier:jl,unstable_isNewReconciler:!1},v1e={readContext:gu,useCallback:function(t,e){return vy().memoizedState=[t,e===void 0?null:e],t},useContext:gu,useEffect:mV,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,V$(4,2,xee.bind(null,e,t),n)},useLayoutEffect:function(t,e){return V$(4,2,t,e)},useMemo:function(t,e){var n=vy();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vy();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=kH.bind(null,eo,t),[r.memoizedState,t]},useRef:gV,useState:OE,useDebugValue:xH,useDeferredValue:function(t){var e=OE(t),n=e[0],r=e[1];return mV(function(){var i=du.transition;du.transition=1;try{r(t)}finally{du.transition=i}},[t]),n},useTransition:function(){var t=OE(!1),e=t[0];return t=y1e.bind(null,t[1]),gV(t),[t,e]},useMutableSource:function(t,e,n){var r=vy();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},wee(r,t,e,n)},useOpaqueIdentifier:function(){if(wf){var t=!1,e=d1e(function(){throw t||(t=!0,n("r:"+(eN++).toString(36))),Error(Tn(355))}),n=OE(e)[1];return(eo.mode&2)===0&&(eo.flags|=516,eR(5,function(){n("r:"+(eN++).toString(36))},void 0,null)),e}return e="r:"+(eN++).toString(36),OE(e),e},unstable_isNewReconciler:!1},b1e={readContext:gu,useCallback:Tee,useContext:gu,useEffect:nR,useImperativeHandle:kee,useLayoutEffect:See,useMemo:Cee,useReducer:RE,useRef:tR,useState:function(){return RE(gf)},useDebugValue:xH,useDeferredValue:function(t){var e=RE(gf),n=e[0],r=e[1];return nR(function(){var i=du.transition;du.transition=1;try{r(t)}finally{du.transition=i}},[t]),n},useTransition:function(){var t=RE(gf)[0];return[tR().current,t]},useMutableSource:Eee,useOpaqueIdentifier:function(){return RE(gf)[0]},unstable_isNewReconciler:!1},_1e={readContext:gu,useCallback:Tee,useContext:gu,useEffect:nR,useImperativeHandle:kee,useLayoutEffect:See,useMemo:Cee,useReducer:ME,useRef:tR,useState:function(){return ME(gf)},useDebugValue:xH,useDeferredValue:function(t){var e=ME(gf),n=e[0],r=e[1];return nR(function(){var i=du.transition;du.transition=1;try{r(t)}finally{du.transition=i}},[t]),n},useTransition:function(){var t=ME(gf)[0];return[tR().current,t]},useMutableSource:Eee,useOpaqueIdentifier:function(){return ME(gf)[0]},unstable_isNewReconciler:!1},w1e=av.ReactCurrentOwner,dd=!1;function ql(t,e,n,r){e.child=t===null?bee(e,null,n,r):ZI(e,t.child,n,r)}function yV(t,e,n,r,i){n=n.render;var s=e.ref;return w3(e,i),r=EH(t,e,n,r,s,i),t!==null&&!dd?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,up(t,e,i)):(e.flags|=1,ql(t,e,r,i),e.child)}function vV(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!OH(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Iee(t,e,o,r,i,s)):(t=lI(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:fx,n(i,r)&&t.ref===e.ref)?up(t,e,s):(e.flags|=1,t=Gg(o,r),t.ref=e.ref,t.return=e,e.child=t)}function Iee(t,e,n,r,i,s){if(t!==null&&fx(t.memoizedProps,r)&&t.ref===e.ref)if(dd=!1,(s&i)!==0)(t.flags&16384)!==0&&(dd=!0);else return e.lanes=t.lanes,up(t,e,s);return G$(t,e,n,r,s)}function iN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},XT(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},XT(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},XT(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,XT(e,r);return ql(t,e,i,n),e.child}function Ree(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function G$(t,e,n,r,i){var s=tc(n)?By:Xa.current;return s=q3(e,s),w3(e,i),n=EH(t,e,n,r,s,i),t!==null&&!dd?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,up(t,e,i)):(e.flags|=1,ql(t,e,n,i),e.child)}function bV(t,e,n,r,i){if(tc(n)){var s=!0;rI(e)}else s=!1;if(w3(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),yee(e,n,r),K$(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var d=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=gu(h):(h=tc(n)?By:Xa.current,h=q3(e,h));var f=n.getDerivedStateFromProps,v=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||d!==h)&&uV(e,o,r,h),lg=!1;var w=e.memoizedState;o.state=w,gx(e,r,o,i),d=e.memoizedState,l!==r||w!==d||ec.current||lg?(typeof f=="function"&&(XI(e,n,f,r),d=e.memoizedState),(l=lg||cV(e,n,l,r,w,d,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=d),o.props=r,o.state=d,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,gee(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:td(e.type,l),o.props=h,v=e.pendingProps,w=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=gu(d):(d=tc(n)?By:Xa.current,d=q3(e,d));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==v||w!==d)&&uV(e,o,r,d),lg=!1,w=e.memoizedState,o.state=w,gx(e,r,o,i);var C=e.memoizedState;l!==v||w!==C||ec.current||lg?(typeof E=="function"&&(XI(e,n,E,r),C=e.memoizedState),(h=lg||cV(e,n,h,r,w,C,d))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=d,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),r=!1)}return W$(t,e,n,r,s,i)}function W$(t,e,n,r,i,s){Ree(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&iV(e,n,!1),up(t,e,s);r=e.stateNode,w1e.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ZI(e,t.child,null,s),e.child=ZI(e,null,l,s)):ql(t,e,l,s),e.memoizedState=r.state,i&&iV(e,n,!0),e.child}function _V(t){var e=t.stateNode;e.pendingContext?rV(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rV(t,e.context,!1),z$(t,e.containerInfo)}var YT={dehydrated:null,retryLane:0};function wV(t,e,n){var r=e.pendingProps,i=Us.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Hs(Us,i&1),t===null?(r.fallback!==void 0&&q$(e),t=r.children,i=r.fallback,s?(t=EV(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=YT,t):typeof r.unstable_expectedLoadTime=="number"?(t=EV(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=YT,e.lanes=33554432,t):(n=LH({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=xV(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=YT,r):(n=SV(t,e,r.children,n),e.memoizedState=null,n):s?(r=xV(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=YT,r):(n=SV(t,e,r.children,n),e.memoizedState=null,n)}function EV(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=LH(e,i,0,null),n=k3(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function SV(t,e,n,r){var i=t.child;return t=i.sibling,n=Gg(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function xV(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var l={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Gg(o,l),t!==null?r=Gg(t,r):(r=k3(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function kV(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),pee(t.return,e)}function sN(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function TV(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ql(t,e,r.children,n),r=Us.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kV(t,n);else if(t.tag===19)kV(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Hs(Us,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&JI(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sN(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&JI(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sN(e,!0,n,null,s,e.lastEffect);break;case"together":sN(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function up(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),a8|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(Tn(153));if(e.child!==null){for(t=e.child,n=Gg(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gg(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Mee,Y$,Oee,Lee;Mee=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Y$=function(){};Oee=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yy(_f.current);var s=null;switch(n){case"input":i=E$(t,i),r=E$(t,r),s=[];break;case"option":i=k$(t,i),r=k$(t,r),s=[];break;case"select":i=Es({},i,{value:void 0}),r=Es({},r,{value:void 0}),s=[];break;case"textarea":i=T$(t,i),r=T$(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zI)}R$(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(sx.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var d=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&d!==l&&(d!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(s||(s=[]),s.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(s=s||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(sx.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&ds("scroll",t),s||l===d||(s=[])):typeof d=="object"&&d!==null&&d.$$typeof===JU?d.toString():(s=s||[]).push(h,d))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Lee=function(t,e,n,r){n!==r&&(e.flags|=4)};function LE(t,e){if(!wf)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function E1e(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return tc(e.type)&&VI(),null;case 3:return G3(),fs(ec),fs(Xa),_H(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(WT(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Y$(e),null;case 5:bH(e);var i=yy(yx.current);if(n=e.type,t!==null&&e.stateNode!=null)Oee(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(Tn(166));return null}if(t=yy(_f.current),WT(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gg]=e,r[qI]=s,n){case"dialog":ds("cancel",r),ds("close",r);break;case"iframe":case"object":case"embed":ds("load",r);break;case"video":case"audio":for(t=0;t<oS.length;t++)ds(oS[t],r);break;case"source":ds("error",r);break;case"img":case"image":case"link":ds("error",r),ds("load",r);break;case"details":ds("toggle",r);break;case"input":Tq(r,s),ds("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ds("invalid",r);break;case"textarea":Iq(r,s),ds("invalid",r)}R$(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):sx.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ds("scroll",r));switch(n){case"input":jT(r),Cq(r,s,!0);break;case"textarea":jT(r),Rq(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zI)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===C$.html&&(t=kQ(n)),t===C$.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gg]=e,t[qI]=r,Mee(t,e,!1,!1),e.stateNode=t,o=M$(n,r),n){case"dialog":ds("cancel",t),ds("close",t),i=r;break;case"iframe":case"object":case"embed":ds("load",t),i=r;break;case"video":case"audio":for(i=0;i<oS.length;i++)ds(oS[i],t);i=r;break;case"source":ds("error",t),i=r;break;case"img":case"image":case"link":ds("error",t),ds("load",t),i=r;break;case"details":ds("toggle",t),i=r;break;case"input":Tq(t,r),i=E$(t,r),ds("invalid",t);break;case"option":i=k$(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Es({},r,{value:void 0}),ds("invalid",t);break;case"textarea":Iq(t,r),i=T$(t,r),ds("invalid",t);break;default:i=r}R$(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];s==="style"?IQ(t,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&TQ(t,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ox(t,d):typeof d=="number"&&ox(t,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sx.hasOwnProperty(s)?d!=null&&s==="onScroll"&&ds("scroll",t):d!=null&&VU(t,s,d,o))}switch(n){case"input":jT(t),Cq(t,r,!1);break;case"textarea":jT(t),Rq(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kg(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?y3(t,!!r.multiple,s,!1):r.defaultValue!=null&&y3(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zI)}see(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Lee(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Tn(166));n=yy(yx.current),yy(_f.current),WT(e)?(r=e.stateNode,n=e.memoizedProps,r[gg]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gg]=e,e.stateNode=r)}return null;case 13:return fs(Us),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&WT(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Us.current&1)!==0?ma===0&&(ma=3):((ma===0||ma===3)&&(ma=4),El===null||(a8&134217727)===0&&(ww&134217727)===0||S3(El,Ga))),(r||n)&&(e.flags|=4),null);case 4:return G3(),Y$(e),t===null&&nee(e.stateNode.containerInfo),null;case 10:return yH(e),null;case 17:return tc(e.type)&&VI(),null;case 19:if(fs(Us),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)LE(r,!1);else{if(ma!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=JI(t),o!==null){for(e.flags|=64,LE(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Hs(Us,Us.current&1|2),e.child}t=t.sibling}r.tail!==null&&qa()>tF&&(e.flags|=64,s=!0,LE(r,!1),e.lanes=33554432)}else{if(!s)if(t=JI(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),LE(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!wf)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*qa()-r.renderingStartTime>tF&&n!==1073741824&&(e.flags|=64,s=!0,LE(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=qa(),n.sibling=null,e=Us.current,Hs(Us,s?e&1|2:e&1),n):null;case 23:case 24:return MH(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Tn(156,e.tag))}function S1e(t){switch(t.tag){case 1:tc(t.type)&&VI();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(G3(),fs(ec),fs(Xa),_H(),e=t.flags,(e&64)!==0)throw Error(Tn(285));return t.flags=e&-4097|64,t;case 5:return bH(t),null;case 13:return fs(Us),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return fs(Us),null;case 4:return G3(),null;case 10:return yH(t),null;case 23:case 24:return MH(),null;default:return null}}function TH(t,e){try{var n="",r=e;do n+=rpe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function X$(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x1e=typeof WeakMap=="function"?WeakMap:Map;function Aee(t,e,n){n=Tg(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sR||(sR=!0,nF=r),X$(t,e)},n}function Pee(t,e,n){n=Tg(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return X$(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(mf===null?mf=new Set([this]):mf.add(this),X$(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var k1e=typeof WeakSet=="function"?WeakSet:Set;function CV(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Mg(t,n)}else e.current=null}function T1e(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:td(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&hH(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Tn(163))}function C1e(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Kee(n,t),D1e(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:td(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&lV(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}lV(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&see(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&$Q(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Tn(163))}function IV(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=CQ("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function RV(t,e){if(Iy&&typeof Iy.onCommitFiberUnmount=="function")try{Iy.onCommitFiberUnmount(pH,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)Kee(e,n);else{r=e;try{i()}catch(s){Mg(r,s)}}n=n.next}while(n!==t)}break;case 1:if(CV(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Mg(e,s)}break;case 5:CV(e);break;case 4:Dee(t,e)}}function MV(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function OV(t){return t.tag===5||t.tag===3||t.tag===4}function LV(t){e:{for(var e=t.return;e!==null;){if(OV(e))break e;e=e.return}throw Error(Tn(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(Tn(161))}n.flags&16&&(ox(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||OV(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Z$(t,n,e):J$(t,n,e)}function Z$(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zI));else if(r!==4&&(t=t.child,t!==null))for(Z$(t,e,n),t=t.sibling;t!==null;)Z$(t,e,n),t=t.sibling}function J$(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(J$(t,e,n),t=t.sibling;t!==null;)J$(t,e,n),t=t.sibling}function Dee(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Tn(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,l=n,d=l;;)if(RV(o,d),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s?(o=i,l=n.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(RV(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function oN(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[qI]=r,t==="input"&&r.type==="radio"&&r.name!=null&&SQ(n,r),M$(t,i),e=M$(t,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];o==="style"?IQ(n,l):o==="dangerouslySetInnerHTML"?TQ(n,l):o==="children"?ox(n,l):VU(n,o,l,e)}switch(t){case"input":S$(n,r);break;case"textarea":xQ(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?y3(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?y3(n,!!r.multiple,r.defaultValue,!0):y3(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Tn(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,$Q(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(RH=qa(),IV(e.child,!0)),AV(e);return;case 19:AV(e);return;case 17:return;case 23:case 24:IV(e,e.memoizedState!==null);return}throw Error(Tn(163))}function AV(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k1e),e.forEach(function(r){var i=$1e.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function I1e(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var R1e=Math.ceil,iR=av.ReactCurrentDispatcher,CH=av.ReactCurrentOwner,Lr=0,El=null,Lo=null,Ga=0,Fy=0,Q$=Zg(0),ma=0,yM=null,_w=0,a8=0,ww=0,IH=0,eF=null,RH=0,tF=1/0;function Ew(){tF=qa()+500}var ir=null,sR=!1,nF=null,mf=null,Vg=!1,AS=null,aS=90,rF=[],iF=[],gp=null,PS=0,sF=null,sI=-1,ap=0,oI=0,DS=null,aI=!1;function Dc(){return(Lr&48)!==0?qa():sI!==-1?sI:sI=qa()}function Ig(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return V3()===99?1:2;if(ap===0&&(ap=_w),m1e.transition!==0){oI!==0&&(oI=eF!==null?eF.pendingLanes:0),t=ap;var e=4186112&~oI;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=V3(),(Lr&4)!==0&&t===98?t=jI(12,ap):(t=bpe(t),t=jI(t,ap)),t}function Rg(t,e,n){if(50<PS)throw PS=0,sF=null,Error(Tn(185));if(t=vM(t,e),t===null)return null;uM(t,e,n),t===El&&(ww|=e,ma===4&&S3(t,Ga));var r=V3();e===1?(Lr&8)!==0&&(Lr&48)===0?oF(t):(mu(t,n),Lr===0&&(Ew(),Rf())):((Lr&4)===0||r!==98&&r!==99||(gp===null?gp=new Set([t]):gp.add(t)),mu(t,n)),eF=t}function vM(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function mu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-zg(o),d=1<<l,h=s[l];if(h===-1){if((d&r)===0||(d&i)!==0){h=e,G_(d);var f=ss;s[l]=10<=f?h+250:6<=f?h+5e3:-1}}else h<=e&&(t.expiredLanes|=d);o&=~d}if(r=ux(t,t===El?Ga:0),e=ss,r===0)n!==null&&(n!==tN&&H$(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==tN&&H$(n)}e===15?(n=oF.bind(null,t),tp===null?(tp=[n],iI=gH(gM,hee)):tp.push(n),n=tN):e===14?n=px(99,oF.bind(null,t)):(n=_pe(e),n=px(n,Nee.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Nee(t){if(sI=-1,oI=ap=0,(Lr&48)!==0)throw Error(Tn(327));var e=t.callbackNode;if(Jg()&&t.callbackNode!==e)return null;var n=ux(t,t===El?Ga:0);if(n===0)return null;var r=n,i=Lr;Lr|=16;var s=Uee();(El!==t||Ga!==r)&&(Ew(),x3(t,r));do try{L1e();break}catch(l){Fee(t,l)}while(1);if(mH(),iR.current=s,Lr=i,Lo!==null?r=0:(El=null,Ga=0,r=ma),(_w&ww)!==0)x3(t,0);else if(r!==0){if(r===2&&(Lr|=64,t.hydrate&&(t.hydrate=!1,hH(t.containerInfo)),n=qQ(t),n!==0&&(r=lS(t,n))),r===1)throw e=yM,x3(t,0),S3(t,n),mu(t,qa()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(Tn(345));case 2:sy(t);break;case 3:if(S3(t,n),(n&62914560)===n&&(r=RH+500-qa(),10<r)){if(ux(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Dc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eV(sy.bind(null,t),r);break}sy(t);break;case 4:if(S3(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-zg(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=qa()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*R1e(n/1960))-n,10<n){t.timeoutHandle=eV(sy.bind(null,t),n);break}sy(t);break;case 5:sy(t);break;default:throw Error(Tn(329))}}return mu(t,qa()),t.callbackNode===e?Nee.bind(null,t):null}function S3(t,e){for(e&=~IH,e&=~ww,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zg(e),r=1<<n;t[n]=-1,e&=~r}}function oF(t){if((Lr&48)!==0)throw Error(Tn(327));if(Jg(),t===El&&(t.expiredLanes&Ga)!==0){var e=Ga,n=lS(t,e);(_w&ww)!==0&&(e=ux(t,e),n=lS(t,e))}else e=ux(t,0),n=lS(t,e);if(t.tag!==0&&n===2&&(Lr|=64,t.hydrate&&(t.hydrate=!1,hH(t.containerInfo)),e=qQ(t),e!==0&&(n=lS(t,e))),n===1)throw n=yM,x3(t,0),S3(t,e),mu(t,qa()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,sy(t),mu(t,qa()),null}function M1e(){if(gp!==null){var t=gp;gp=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qa())})}Rf()}function Bee(t,e){var n=Lr;Lr|=1;try{return t(e)}finally{Lr=n,Lr===0&&(Ew(),Rf())}}function $ee(t,e){var n=Lr;Lr&=-2,Lr|=8;try{return t(e)}finally{Lr=n,Lr===0&&(Ew(),Rf())}}function XT(t,e){Hs(Q$,Fy),Fy|=e,_w|=e}function MH(){Fy=Q$.current,fs(Q$)}function x3(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u1e(n)),Lo!==null)for(n=Lo.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&VI();break;case 3:G3(),fs(ec),fs(Xa),_H();break;case 5:bH(r);break;case 4:G3();break;case 13:fs(Us);break;case 19:fs(Us);break;case 10:yH(r);break;case 23:case 24:MH()}n=n.return}El=t,Lo=Gg(t.current,null),Ga=Fy=_w=e,ma=0,yM=null,IH=ww=a8=0}function Fee(t,e){do{var n=Lo;try{if(mH(),OS.current=rR,QI){for(var r=eo.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}QI=!1}if(vx=0,ha=ja=eo=null,LS=!1,CH.current=null,n===null||n.return===null){ma=1,yM=e,Lo=null;break}e:{var s=t,o=n.return,l=n,d=e;if(e=Ga,l.flags|=2048,l.firstEffect=l.lastEffect=null,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d;if((l.mode&2)===0){var f=l.alternate;f?(l.updateQueue=f.updateQueue,l.memoizedState=f.memoizedState,l.lanes=f.lanes):(l.updateQueue=null,l.memoizedState=null)}var v=(Us.current&1)!==0,w=o;do{var E;if(E=w.tag===13){var C=w.memoizedState;if(C!==null)E=C.dehydrated!==null;else{var O=w.memoizedProps;E=O.fallback===void 0?!1:O.unstable_avoidThisFallback!==!0?!0:!v}}if(E){var M=w.updateQueue;if(M===null){var A=new Set;A.add(h),w.updateQueue=A}else M.add(h);if((w.mode&2)===0){if(w.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var D=Tg(-1,1);D.tag=2,Cg(l,D)}l.lanes|=1;break e}d=void 0,l=e;var U=s.pingCache;if(U===null?(U=s.pingCache=new x1e,d=new Set,U.set(h,d)):(d=U.get(h),d===void 0&&(d=new Set,U.set(h,d))),!d.has(l)){d.add(l);var R=B1e.bind(null,s,h,l);h.then(R,R)}w.flags|=4096,w.lanes=e;break e}w=w.return}while(w!==null);d=Error((m3(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ma!==5&&(ma=2),d=TH(d,l),w=o;do{switch(w.tag){case 3:s=d,w.flags|=4096,e&=-e,w.lanes|=e;var X=Aee(w,s,e);aV(w,X);break e;case 1:s=d;var H=w.type,K=w.stateNode;if((w.flags&64)===0&&(typeof H.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(mf===null||!mf.has(K)))){w.flags|=4096,e&=-e,w.lanes|=e;var W=Pee(w,s,e);aV(w,W);break e}}w=w.return}while(w!==null)}jee(n)}catch(Z){e=Z,Lo===n&&n!==null&&(Lo=n=n.return);continue}break}while(1)}function Uee(){var t=iR.current;return iR.current=rR,t===null?rR:t}function lS(t,e){var n=Lr;Lr|=16;var r=Uee();El===t&&Ga===e||x3(t,e);do try{O1e();break}catch(i){Fee(t,i)}while(1);if(mH(),Lr=n,iR.current=r,Lo!==null)throw Error(Tn(261));return El=null,Ga=0,ma}function O1e(){for(;Lo!==null;)Hee(Lo)}function L1e(){for(;Lo!==null&&!h1e();)Hee(Lo)}function Hee(t){var e=zee(t.alternate,t,Fy);t.memoizedProps=t.pendingProps,e===null?jee(t):Lo=e,CH.current=null}function jee(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=E1e(n,e,Fy),n!==null){Lo=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Fy&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=S1e(e),n!==null){n.flags&=2047,Lo=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Lo=e;return}Lo=e=t}while(e!==null);ma===0&&(ma=5)}function sy(t){var e=V3();return $y(99,A1e.bind(null,t,e)),null}function A1e(t,e){do Jg();while(AS!==null);if((Lr&48)!==0)throw Error(Tn(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Tn(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,l=t.expirationTimes;0<s;){var d=31-zg(s),h=1<<d;i[d]=0,o[d]=-1,l[d]=-1,s&=~h}if(gp!==null&&(r&24)===0&&gp.has(t)&&gp.delete(t),t===El&&(Lo=El=null,Ga=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=Lr,Lr|=32,CH.current=null,JD=eI,o=Gq(),N$(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&h.rangeCount!==0){l=h.anchorNode,s=h.anchorOffset,d=h.focusNode,h=h.focusOffset;try{l.nodeType,d.nodeType}catch{l=null;break e}var f=0,v=-1,w=-1,E=0,C=0,O=o,M=null;t:for(;;){for(var A;O!==l||s!==0&&O.nodeType!==3||(v=f+s),O!==d||h!==0&&O.nodeType!==3||(w=f+h),O.nodeType===3&&(f+=O.nodeValue.length),(A=O.firstChild)!==null;)M=O,O=A;for(;;){if(O===o)break t;if(M===l&&++E===s&&(v=f),M===d&&++C===h&&(w=f),(A=O.nextSibling)!==null)break;O=M,M=O.parentNode}O=A}l=v===-1||w===-1?null:{start:v,end:w}}else l=null;l=l||{start:0,end:0}}else l=null;QD={focusedElem:o,selectionRange:l},eI=!1,DS=null,aI=!1,ir=r;do try{P1e()}catch(Z){if(ir===null)throw Error(Tn(330));Mg(ir,Z),ir=ir.nextEffect}while(ir!==null);DS=null,ir=r;do try{for(o=t;ir!==null;){var D=ir.flags;if(D&16&&ox(ir.stateNode,""),D&128){var U=ir.alternate;if(U!==null){var R=U.ref;R!==null&&(typeof R=="function"?R(null):R.current=null)}}switch(D&1038){case 2:LV(ir),ir.flags&=-3;break;case 6:LV(ir),ir.flags&=-3,oN(ir.alternate,ir);break;case 1024:ir.flags&=-1025;break;case 1028:ir.flags&=-1025,oN(ir.alternate,ir);break;case 4:oN(ir.alternate,ir);break;case 8:l=ir,Dee(o,l);var X=l.alternate;MV(l),X!==null&&MV(X)}ir=ir.nextEffect}}catch(Z){if(ir===null)throw Error(Tn(330));Mg(ir,Z),ir=ir.nextEffect}while(ir!==null);if(R=QD,U=Gq(),D=R.focusedElem,o=R.selectionRange,U!==D&&D&&D.ownerDocument&&QQ(D.ownerDocument.documentElement,D)){for(o!==null&&N$(D)&&(U=o.start,R=o.end,R===void 0&&(R=U),"selectionStart"in D?(D.selectionStart=U,D.selectionEnd=Math.min(R,D.value.length)):(R=(U=D.ownerDocument||document)&&U.defaultView||window,R.getSelection&&(R=R.getSelection(),l=D.textContent.length,X=Math.min(o.start,l),o=o.end===void 0?X:Math.min(o.end,l),!R.extend&&X>o&&(l=o,o=X,X=l),l=Vq(D,X),s=Vq(D,o),l&&s&&(R.rangeCount!==1||R.anchorNode!==l.node||R.anchorOffset!==l.offset||R.focusNode!==s.node||R.focusOffset!==s.offset)&&(U=U.createRange(),U.setStart(l.node,l.offset),R.removeAllRanges(),X>o?(R.addRange(U),R.extend(s.node,s.offset)):(U.setEnd(s.node,s.offset),R.addRange(U)))))),U=[],R=D;R=R.parentNode;)R.nodeType===1&&U.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<U.length;D++)R=U[D],R.element.scrollLeft=R.left,R.element.scrollTop=R.top}eI=!!JD,QD=JD=null,t.current=n,ir=r;do try{for(D=t;ir!==null;){var H=ir.flags;if(H&36&&C1e(D,ir.alternate,ir),H&128){U=void 0;var K=ir.ref;if(K!==null){var W=ir.stateNode;switch(ir.tag){case 5:U=W;break;default:U=W}typeof K=="function"?K(U):K.current=U}}ir=ir.nextEffect}}catch(Z){if(ir===null)throw Error(Tn(330));Mg(ir,Z),ir=ir.nextEffect}while(ir!==null);ir=null,g1e(),Lr=i}else t.current=n;if(Vg)Vg=!1,AS=t,aS=e;else for(ir=r;ir!==null;)e=ir.nextEffect,ir.nextEffect=null,ir.flags&8&&(H=ir,H.sibling=null,H.stateNode=null),ir=e;if(r=t.pendingLanes,r===0&&(mf=null),r===1?t===sF?PS++:(PS=0,sF=t):PS=0,n=n.stateNode,Iy&&typeof Iy.onCommitFiberRoot=="function")try{Iy.onCommitFiberRoot(pH,n,void 0,(n.current.flags&64)===64)}catch{}if(mu(t,qa()),sR)throw sR=!1,t=nF,nF=null,t;return(Lr&8)!==0||Rf(),null}function P1e(){for(;ir!==null;){var t=ir.alternate;aI||DS===null||((ir.flags&8)!==0?Lq(ir,DS)&&(aI=!0):ir.tag===13&&I1e(t,ir)&&Lq(ir,DS)&&(aI=!0));var e=ir.flags;(e&256)!==0&&T1e(t,ir),(e&512)===0||Vg||(Vg=!0,px(97,function(){return Jg(),null})),ir=ir.nextEffect}}function Jg(){if(aS!==90){var t=97<aS?97:aS;return aS=90,$y(t,N1e)}return!1}function D1e(t,e){rF.push(e,t),Vg||(Vg=!0,px(97,function(){return Jg(),null}))}function Kee(t,e){iF.push(e,t),Vg||(Vg=!0,px(97,function(){return Jg(),null}))}function N1e(){if(AS===null)return!1;var t=AS;if(AS=null,(Lr&48)!==0)throw Error(Tn(331));var e=Lr;Lr|=32;var n=iF;iF=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(d){if(s===null)throw Error(Tn(330));Mg(s,d)}}for(n=rF,rF=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(d){if(s===null)throw Error(Tn(330));Mg(s,d)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return Lr=e,Rf(),!0}function PV(t,e,n){e=TH(n,e),e=Aee(t,e,1),Cg(t,e),e=Dc(),t=vM(t,1),t!==null&&(uM(t,1,e),mu(t,e))}function Mg(t,e){if(t.tag===3)PV(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){PV(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mf===null||!mf.has(r))){t=TH(e,t);var i=Pee(n,t,1);if(Cg(n,i),i=Dc(),n=vM(n,1),n!==null)uM(n,1,i),mu(n,i);else if(typeof r.componentDidCatch=="function"&&(mf===null||!mf.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function B1e(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dc(),t.pingedLanes|=t.suspendedLanes&n,El===t&&(Ga&n)===n&&(ma===4||ma===3&&(Ga&62914560)===Ga&&500>qa()-RH?x3(t,0):IH|=n),mu(t,e)}function $1e(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=V3()===99?1:2:(ap===0&&(ap=_w),e=W_(62914560&~ap),e===0&&(e=4194304))),n=Dc(),t=vM(t,e),t!==null&&(uM(t,e,n),mu(t,n))}var zee;zee=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ec.current)dd=!0;else if((n&r)!==0)dd=(t.flags&16384)!==0;else{switch(dd=!1,e.tag){case 3:_V(e),rN();break;case 5:dV(e);break;case 1:tc(e.type)&&rI(e);break;case 4:z$(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Hs(GI,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?wV(t,e,n):(Hs(Us,Us.current&1),e=up(t,e,n),e!==null?e.sibling:null);Hs(Us,Us.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return TV(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hs(Us,Us.current),r)break;return null;case 23:case 24:return e.lanes=0,iN(t,e,n)}return up(t,e,n)}else dd=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=q3(e,Xa.current),w3(e,n),i=EH(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,tc(r)){var s=!0;rI(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vH(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&XI(e,r,o,t),i.updater=mM,e.stateNode=i,i._reactInternals=e,K$(e,r,t,n),e=W$(null,e,r,!0,s,n)}else e.tag=0,ql(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=U1e(i),t=td(i,t),s){case 0:e=G$(null,e,i,t,n);break e;case 1:e=bV(null,e,i,t,n);break e;case 11:e=yV(null,e,i,t,n);break e;case 14:e=vV(null,e,i,td(i.type,t),r,n);break e}throw Error(Tn(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:td(r,i),G$(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:td(r,i),bV(t,e,r,i,n);case 3:if(_V(e),r=e.updateQueue,t===null||r===null)throw Error(Tn(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,gee(t,e),gx(e,r,null,n),r=e.memoizedState.element,r===i)rN(),e=up(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(mg=_3(e.stateNode.containerInfo.firstChild),cp=e,s=wf=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],E3.push(s);for(n=bee(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else ql(t,e,r,n),rN();e=e.child}return e;case 5:return dV(e),t===null&&q$(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,F$(r,i)?o=null:s!==null&&F$(r,s)&&(e.flags|=16),Ree(t,e),ql(t,e,o,n),e.child;case 6:return t===null&&q$(e),null;case 13:return wV(t,e,n);case 4:return z$(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ZI(e,null,r,n):ql(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:td(r,i),yV(t,e,r,i,n);case 7:return ql(t,e,e.pendingProps,n),e.child;case 8:return ql(t,e,e.pendingProps.children,n),e.child;case 12:return ql(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var l=e.type._context;if(Hs(GI,l._currentValue),l._currentValue=s,o!==null)if(l=o.value,s=ou(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(o.children===i.children&&!ec.current){e=up(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var d=l.dependencies;if(d!==null){o=l.child;for(var h=d.firstContext;h!==null;){if(h.context===r&&(h.observedBits&s)!==0){l.tag===1&&(h=Tg(-1,n&-n),h.tag=2,Cg(l,h)),l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),pee(l.return,n),d.lanes|=n;break}h=h.next}}else o=l.tag===10&&l.type===e.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}ql(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,w3(e,n),i=gu(i,s.unstable_observedBits),r=r(i),e.flags|=1,ql(t,e,r,n),e.child;case 14:return i=e.type,s=td(i,e.pendingProps),s=td(i.type,s),vV(t,e,i,s,r,n);case 15:return Iee(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:td(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,tc(r)?(t=!0,rI(e)):t=!1,w3(e,n),yee(e,r,i),K$(e,r,i,n),W$(null,e,r,!0,t,n);case 19:return TV(t,e,n);case 23:return iN(t,e,n);case 24:return iN(t,e,n)}throw Error(Tn(156,e.tag))};function F1e(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function au(t,e,n,r){return new F1e(t,e,n,r)}function OH(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U1e(t){if(typeof t=="function")return OH(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aM)return 11;if(t===lM)return 14}return 2}function Gg(t,e){var n=t.alternate;return n===null?(n=au(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lI(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")OH(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ug:return k3(n.children,i,s,e);case _Q:o=8,i|=16;break;case GU:o=8,i|=1;break;case xS:return t=au(12,n,e,i|8),t.elementType=xS,t.type=xS,t.lanes=s,t;case kS:return t=au(13,n,e,i),t.type=kS,t.elementType=kS,t.lanes=s,t;case $I:return t=au(19,n,e,i),t.elementType=$I,t.lanes=s,t;case QU:return LH(n,i,s,e);case w$:return t=au(24,n,e,i),t.elementType=w$,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WU:o=10;break e;case YU:o=9;break e;case aM:o=11;break e;case lM:o=14;break e;case XU:o=16,r=null;break e;case ZU:o=22;break e}throw Error(Tn(130,t==null?t:typeof t,""))}return e=au(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function k3(t,e,n,r){return t=au(7,t,r,e),t.lanes=n,t}function LH(t,e,n,r){return t=au(23,t,r,e),t.elementType=QU,t.lanes=n,t}function aN(t,e,n){return t=au(6,t,null,e),t.lanes=n,t}function lN(t,e,n){return e=au(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H1e(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qD(0),this.expirationTimes=qD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qD(0),this.mutableSourceEagerHydrationData=null}function j1e(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:py,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oR(t,e,n,r){var i=e.current,s=Dc(),o=Ig(i);e:if(n){n=n._reactInternals;t:{if(lv(n)!==n||n.tag!==1)throw Error(Tn(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(tc(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(Tn(171))}if(n.tag===1){var d=n.type;if(tc(d)){n=aee(n,d,l);break e}}n=l}else n=qg;return e.context===null?e.context=n:e.pendingContext=n,e=Tg(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Cg(i,e),Rg(i,o,s),o}function cN(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DV(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function AH(t,e){DV(t,e),(t=t.alternate)&&DV(t,e)}function K1e(){return null}function PH(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new H1e(t,e,n!=null&&n.hydrate===!0),e=au(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,vH(e),t[bw]=n.current,nee(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}PH.prototype.render=function(t){oR(t,this._internalRoot,null,null)};PH.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;oR(null,t,null,function(){e[bw]=null})};function l8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z1e(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new PH(t,0,e?{hydrate:!0}:void 0)}function bM(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var h=cN(o);l.call(h)}}oR(e,o,t,i)}else{if(s=n._reactRootContainer=z1e(n,r),o=s._internalRoot,typeof i=="function"){var d=i;i=function(){var h=cN(o);d.call(h)}}$ee(function(){oR(e,o,t,i)})}return cN(o)}DQ=function(t){if(t.tag===13){var e=Dc();Rg(t,4,e),AH(t,4)}};iH=function(t){if(t.tag===13){var e=Dc();Rg(t,67108864,e),AH(t,67108864)}};NQ=function(t){if(t.tag===13){var e=Dc(),n=Ig(t);Rg(t,n,e),AH(t,n)}};BQ=function(t,e){return e()};O$=function(t,e,n){switch(e){case"input":if(S$(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pM(r);if(!i)throw Error(Tn(90));EQ(r),S$(r,i)}}}break;case"textarea":xQ(t,n);break;case"select":e=n.value,e!=null&&y3(t,!!n.multiple,e,!1)}};tH=Bee;OQ=function(t,e,n,r,i){var s=Lr;Lr|=4;try{return $y(98,t.bind(null,e,n,r,i))}finally{Lr=s,Lr===0&&(Ew(),Rf())}};nH=function(){(Lr&49)===0&&(M1e(),Jg())};LQ=function(t,e){var n=Lr;Lr|=2;try{return t(e)}finally{Lr=n,Lr===0&&(Ew(),Rf())}};function qee(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l8(e))throw Error(Tn(200));return j1e(t,e,null,n)}var q1e={Events:[s8,s3,pM,RQ,MQ,Jg,{current:!1}]},AE={findFiberByHostInstance:my,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},V1e={bundleType:AE.bundleType,version:AE.version,rendererPackageName:AE.rendererPackageName,rendererConfig:AE.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:av.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PQ(t),t===null?null:t.stateNode},findFiberByHostInstance:AE.findFiberByHostInstance||K1e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ZT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ZT.isDisabled&&ZT.supportsFiber)try{pH=ZT.inject(V1e),Iy=ZT}catch{}}bu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1e;bu.createPortal=qee;bu.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Tn(188)):Error(Tn(268,Object.keys(t)));return t=PQ(e),t=t===null?null:t.stateNode,t};bu.flushSync=function(t,e){var n=Lr;if((n&48)!==0)return t(e);Lr|=1;try{if(t)return $y(99,t.bind(null,e))}finally{Lr=n,Rf()}};bu.hydrate=function(t,e,n){if(!l8(e))throw Error(Tn(200));return bM(null,t,e,!0,n)};bu.render=function(t,e,n){if(!l8(e))throw Error(Tn(200));return bM(null,t,e,!1,n)};bu.unmountComponentAtNode=function(t){if(!l8(t))throw Error(Tn(40));return t._reactRootContainer?($ee(function(){bM(null,null,t,!1,function(){t._reactRootContainer=null,t[bw]=null})}),!0):!1};bu.unstable_batchedUpdates=Bee;bu.unstable_createPortal=function(t,e){return qee(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};bu.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!l8(n))throw Error(Tn(200));if(t==null||t._reactInternals===void 0)throw Error(Tn(38));return bM(t,e,n,!1,r)};bu.version="17.0.2";function Vee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vee)}catch(t){console.error(t)}}Vee(),sM.exports=bu;var Gee=sM.exports;function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function JT(t){return t.charAt(0)==="/"}function uN(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function G1e(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&JT(t),s=e&&JT(e),o=i||s;if(t&&JT(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l;if(r.length){var d=r[r.length-1];l=d==="."||d===".."||d===""}else l=!1;for(var h=0,f=r.length;f>=0;f--){var v=r[f];v==="."?uN(r,f):v===".."?(uN(r,f),h++):h&&(uN(r,f),h--)}if(!o)for(;h--;h)r.unshift("..");o&&r[0]!==""&&(!r[0]||!JT(r[0]))&&r.unshift("");var w=r.join("/");return l&&w.substr(-1)!=="/"&&(w+="/"),w}var W1e=!0,dN="Invariant failed";function uv(t,e){if(!t){if(W1e)throw new Error(dN);var n=typeof e=="function"?e():e,r=n?dN+": "+n:dN;throw new Error(r)}}function NS(t){return t.charAt(0)==="/"?t:"/"+t}function NV(t){return t.charAt(0)==="/"?t.substr(1):t}function Y1e(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Wee(t,e){return Y1e(t,e)?t.substr(e.length):t}function Yee(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function X1e(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Vl(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Oc(t,e,n,r){var i;typeof t=="string"?(i=X1e(t),i.state=e):(i=Za({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=G1e(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function DH(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,l,d,h){if(t!=null){var f=typeof t=="function"?t(o,l):t;typeof f=="string"?typeof d=="function"?d(f,h):h(!0):h(f!==!1)}else h(!0)}var r=[];function i(o){var l=!0;function d(){l&&o.apply(void 0,arguments)}return r.push(d),function(){l=!1,r=r.filter(function(h){return h!==d})}}function s(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];r.forEach(function(h){return h.apply(void 0,l)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var Xee=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function Zee(t,e){e(window.confirm(t))}function Z1e(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function J1e(){return window.navigator.userAgent.indexOf("Trident")===-1}function Q1e(){return window.navigator.userAgent.indexOf("Firefox")===-1}function ege(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var BV="popstate",$V="hashchange";function FV(){try{return window.history.state||{}}catch{return{}}}function Jee(t){t===void 0&&(t={}),Xee||uv(!1);var e=window.history,n=Z1e(),r=!J1e(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,l=i.getUserConfirmation,d=l===void 0?Zee:l,h=i.keyLength,f=h===void 0?6:h,v=t.basename?Yee(NS(t.basename)):"";function w(_e){var xe=_e||{},Se=xe.key,Ie=xe.state,Ye=window.location,Le=Ye.pathname,Nt=Ye.search,pt=Ye.hash,ze=Le+Nt+pt;return v&&(ze=Wee(ze,v)),Oc(ze,Ie,Se)}function E(){return Math.random().toString(36).substr(2,f)}var C=DH();function O(_e){Za(qe,_e),qe.length=e.length,C.notifyListeners(qe.location,qe.action)}function M(_e){ege(_e)||U(w(_e.state))}function A(){U(w(FV()))}var D=!1;function U(_e){if(D)D=!1,O();else{var xe="POP";C.confirmTransitionTo(_e,xe,d,function(Se){Se?O({action:xe,location:_e}):R(_e)})}}function R(_e){var xe=qe.location,Se=H.indexOf(xe.key);Se===-1&&(Se=0);var Ie=H.indexOf(_e.key);Ie===-1&&(Ie=0);var Ye=Se-Ie;Ye&&(D=!0,ie(Ye))}var X=w(FV()),H=[X.key];function K(_e){return v+Vl(_e)}function W(_e,xe){var Se="PUSH",Ie=Oc(_e,xe,E(),qe.location);C.confirmTransitionTo(Ie,Se,d,function(Ye){if(!!Ye){var Le=K(Ie),Nt=Ie.key,pt=Ie.state;if(n)if(e.pushState({key:Nt,state:pt},null,Le),o)window.location.href=Le;else{var ze=H.indexOf(qe.location.key),nt=H.slice(0,ze+1);nt.push(Ie.key),H=nt,O({action:Se,location:Ie})}else window.location.href=Le}})}function Z(_e,xe){var Se="REPLACE",Ie=Oc(_e,xe,E(),qe.location);C.confirmTransitionTo(Ie,Se,d,function(Ye){if(!!Ye){var Le=K(Ie),Nt=Ie.key,pt=Ie.state;if(n)if(e.replaceState({key:Nt,state:pt},null,Le),o)window.location.replace(Le);else{var ze=H.indexOf(qe.location.key);ze!==-1&&(H[ze]=Ie.key),O({action:Se,location:Ie})}else window.location.replace(Le)}})}function ie(_e){e.go(_e)}function se(){ie(-1)}function oe(){ie(1)}var Q=0;function ae(_e){Q+=_e,Q===1&&_e===1?(window.addEventListener(BV,M),r&&window.addEventListener($V,A)):Q===0&&(window.removeEventListener(BV,M),r&&window.removeEventListener($V,A))}var he=!1;function Ee(_e){_e===void 0&&(_e=!1);var xe=C.setPrompt(_e);return he||(ae(1),he=!0),function(){return he&&(he=!1,ae(-1)),xe()}}function De(_e){var xe=C.appendListener(_e);return ae(1),function(){ae(-1),xe()}}var qe={length:e.length,action:"POP",location:X,createHref:K,push:W,replace:Z,go:ie,goBack:se,goForward:oe,block:Ee,listen:De};return qe}var UV="hashchange",tge={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+NV(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:NV,decodePath:NS},slash:{encodePath:NS,decodePath:NS}};function Qee(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function PE(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function nge(t){window.location.hash=t}function fN(t){window.location.replace(Qee(window.location.href)+"#"+t)}function rge(t){t===void 0&&(t={}),Xee||uv(!1);var e=window.history;Q1e();var n=t,r=n.getUserConfirmation,i=r===void 0?Zee:r,s=n.hashType,o=s===void 0?"slash":s,l=t.basename?Yee(NS(t.basename)):"",d=tge[o],h=d.encodePath,f=d.decodePath;function v(){var xe=f(PE());return l&&(xe=Wee(xe,l)),Oc(xe)}var w=DH();function E(xe){Za(_e,xe),_e.length=e.length,w.notifyListeners(_e.location,_e.action)}var C=!1,O=null;function M(xe,Se){return xe.pathname===Se.pathname&&xe.search===Se.search&&xe.hash===Se.hash}function A(){var xe=PE(),Se=h(xe);if(xe!==Se)fN(Se);else{var Ie=v(),Ye=_e.location;if(!C&&M(Ye,Ie)||O===Vl(Ie))return;O=null,D(Ie)}}function D(xe){if(C)C=!1,E();else{var Se="POP";w.confirmTransitionTo(xe,Se,i,function(Ie){Ie?E({action:Se,location:xe}):U(xe)})}}function U(xe){var Se=_e.location,Ie=K.lastIndexOf(Vl(Se));Ie===-1&&(Ie=0);var Ye=K.lastIndexOf(Vl(xe));Ye===-1&&(Ye=0);var Le=Ie-Ye;Le&&(C=!0,se(Le))}var R=PE(),X=h(R);R!==X&&fN(X);var H=v(),K=[Vl(H)];function W(xe){var Se=document.querySelector("base"),Ie="";return Se&&Se.getAttribute("href")&&(Ie=Qee(window.location.href)),Ie+"#"+h(l+Vl(xe))}function Z(xe,Se){var Ie="PUSH",Ye=Oc(xe,void 0,void 0,_e.location);w.confirmTransitionTo(Ye,Ie,i,function(Le){if(!!Le){var Nt=Vl(Ye),pt=h(l+Nt),ze=PE()!==pt;if(ze){O=Nt,nge(pt);var nt=K.lastIndexOf(Vl(_e.location)),me=K.slice(0,nt+1);me.push(Nt),K=me,E({action:Ie,location:Ye})}else E()}})}function ie(xe,Se){var Ie="REPLACE",Ye=Oc(xe,void 0,void 0,_e.location);w.confirmTransitionTo(Ye,Ie,i,function(Le){if(!!Le){var Nt=Vl(Ye),pt=h(l+Nt),ze=PE()!==pt;ze&&(O=Nt,fN(pt));var nt=K.indexOf(Vl(_e.location));nt!==-1&&(K[nt]=Nt),E({action:Ie,location:Ye})}})}function se(xe){e.go(xe)}function oe(){se(-1)}function Q(){se(1)}var ae=0;function he(xe){ae+=xe,ae===1&&xe===1?window.addEventListener(UV,A):ae===0&&window.removeEventListener(UV,A)}var Ee=!1;function De(xe){xe===void 0&&(xe=!1);var Se=w.setPrompt(xe);return Ee||(he(1),Ee=!0),function(){return Ee&&(Ee=!1,he(-1)),Se()}}function qe(xe){var Se=w.appendListener(xe);return he(1),function(){he(-1),Se()}}var _e={length:e.length,action:"POP",location:H,createHref:W,push:Z,replace:ie,go:se,goBack:oe,goForward:Q,block:De,listen:qe};return _e}function HV(t,e,n){return Math.min(Math.max(t,e),n)}function ige(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,l=e.keyLength,d=l===void 0?6:l,h=DH();function f(W){Za(K,W),K.length=K.entries.length,h.notifyListeners(K.location,K.action)}function v(){return Math.random().toString(36).substr(2,d)}var w=HV(o,0,i.length-1),E=i.map(function(W){return typeof W=="string"?Oc(W,void 0,v()):Oc(W,void 0,W.key||v())}),C=Vl;function O(W,Z){var ie="PUSH",se=Oc(W,Z,v(),K.location);h.confirmTransitionTo(se,ie,n,function(oe){if(!!oe){var Q=K.index,ae=Q+1,he=K.entries.slice(0);he.length>ae?he.splice(ae,he.length-ae,se):he.push(se),f({action:ie,location:se,index:ae,entries:he})}})}function M(W,Z){var ie="REPLACE",se=Oc(W,Z,v(),K.location);h.confirmTransitionTo(se,ie,n,function(oe){!oe||(K.entries[K.index]=se,f({action:ie,location:se}))})}function A(W){var Z=HV(K.index+W,0,K.entries.length-1),ie="POP",se=K.entries[Z];h.confirmTransitionTo(se,ie,n,function(oe){oe?f({action:ie,location:se,index:Z}):f()})}function D(){A(-1)}function U(){A(1)}function R(W){var Z=K.index+W;return Z>=0&&Z<K.entries.length}function X(W){return W===void 0&&(W=!1),h.setPrompt(W)}function H(W){return h.appendListener(W)}var K={length:E.length,action:"POP",location:E[w],index:w,entries:E,createHref:C,push:O,replace:M,go:A,goBack:D,goForward:U,canGo:R,block:X,listen:H};return K}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aF=function(t,e){return aF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},aF(t,e)};function _M(t,e){aF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ls=function(){return ls=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ls.apply(this,arguments)};function Sw(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function ete(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sw(arguments[e]));return t}var Ef;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(Ef||(Ef={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function sge(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function oge(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sge(arguments[e]));return t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xr=function(){return xr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xr.apply(this,arguments)};function age(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Y_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(age(arguments[e]));return t}function lge(t){t.then(null,function(e){console.error(e)})}function cge(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function c8(){return!cge()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function yg(t,e){return t.require(e)}function uge(t){var e;try{e=yg(fp,t)}catch{}try{var n=yg(fp,"process").cwd;e=yg(fp,n()+"/node_modules/"+t)}catch{}return e}var dge={};function Li(){return c8()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:dge}function NH(t,e,n){var r=n||Li(),i=r.__SENTRY__=r.__SENTRY__||{},s=i[t]||(i[t]=e());return s}var tte=Object.prototype.toString;function BH(t){switch(tte.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Mf(t,Error)}}function xw(t,e){return tte.call(t)==="[object "+e+"]"}function nte(t){return xw(t,"ErrorEvent")}function jV(t){return xw(t,"DOMError")}function fge(t){return xw(t,"DOMException")}function W3(t){return xw(t,"String")}function $H(t){return t===null||typeof t!="object"&&typeof t!="function"}function Y3(t){return xw(t,"Object")}function wM(t){return typeof Event!="undefined"&&Mf(t,Event)}function hge(t){return typeof Element!="undefined"&&Mf(t,Element)}function pge(t){return xw(t,"RegExp")}function FH(t){return Boolean(t&&t.then&&typeof t.then=="function")}function gge(t){return Y3(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function rte(t){return typeof t=="number"&&t!==t}function Mf(t,e){try{return t instanceof e}catch{return!1}}function bx(t,e){try{for(var n=t,r=5,i=80,s=[],o=0,l=0,d=" > ",h=d.length,f=void 0;n&&o++<r&&(f=mge(n,e),!(f==="html"||o>1&&l+s.length*h+f.length>=i));)s.push(f),l+=f.length,n=n.parentNode;return s.reverse().join(d)}catch{return"<unknown>"}}function mge(t,e){var n=t,r=[],i,s,o,l,d;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());var h=e&&e.length?e.filter(function(v){return n.getAttribute(v)}).map(function(v){return[v,n.getAttribute(v)]}):null;if(h&&h.length)h.forEach(function(v){r.push("["+v[0]+'="'+v[1]+'"]')});else if(n.id&&r.push("#"+n.id),i=n.className,i&&W3(i))for(s=i.split(/\s+/),d=0;d<s.length;d++)r.push("."+s[d]);var f=["type","name","title","alt"];for(d=0;d<f.length;d++)o=f[d],l=n.getAttribute(o),l&&r.push("["+o+'="'+l+'"]');return r.join("")}function yge(){var t=Li();try{return t.document.location.href}catch{return""}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lF=function(t,e){return lF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},lF(t,e)};function vge(t,e){lF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var va=function(){return va=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},va.apply(this,arguments)};function X3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Og(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function bge(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Og(arguments[e]));return t}var _ge=Object.setPrototypeOf||({__proto__:[]}instanceof Array?wge:Ege);function wge(t,e){return t.__proto__=e,t}function Ege(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t}var Mo=function(t){vge(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return i.message=n,i.name=r.prototype.constructor.name,_ge(i,r.prototype),i}return e}(Error),kw=typeof __SENTRY_DEBUG__=="undefined"?!0:__SENTRY_DEBUG__,Sge=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function xge(t){return t==="http"||t==="https"}function u8(t,e){e===void 0&&(e=!1);var n=t.host,r=t.path,i=t.pass,s=t.port,o=t.projectId,l=t.protocol,d=t.publicKey;return l+"://"+d+(e&&i?":"+i:"")+("@"+n+(s?":"+s:"")+"/"+(r&&r+"/")+o)}function kge(t){var e=Sge.exec(t);if(!e)throw new Mo("Invalid Sentry Dsn: "+t);var n=Og(e.slice(1),6),r=n[0],i=n[1],s=n[2],o=s===void 0?"":s,l=n[3],d=n[4],h=d===void 0?"":d,f=n[5],v="",w=f,E=w.split("/");if(E.length>1&&(v=E.slice(0,-1).join("/"),w=E.pop()),w){var C=w.match(/^\d+/);C&&(w=C[0])}return ite({host:l,pass:o,path:v,projectId:w,port:h,protocol:r,publicKey:i})}function ite(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Tge(t){if(!!kw){var e=t.port,n=t.projectId,r=t.protocol,i=["protocol","publicKey","host","projectId"];if(i.forEach(function(s){if(!t[s])throw new Mo("Invalid Sentry Dsn: "+s+" missing")}),!n.match(/^\d+$/))throw new Mo("Invalid Sentry Dsn: Invalid projectId "+n);if(!xge(r))throw new Mo("Invalid Sentry Dsn: Invalid protocol "+r);if(e&&isNaN(parseInt(e,10)))throw new Mo("Invalid Sentry Dsn: Invalid port "+e);return!0}}function UH(t){var e=typeof t=="string"?kge(t):ite(t);return Tge(e),e}var Cge=["fatal","error","warning","log","info","debug","critical"],Ige=Li(),Rge="Sentry Logger ",aR=["debug","info","warn","error","log","assert"];function ste(t){var e=Li();if(!("console"in e))return t();var n=e.console,r={};aR.forEach(function(i){var s=n[i]&&n[i].__sentry_original__;i in e.console&&s&&(r[i]=n[i],n[i]=s)});try{return t()}finally{Object.keys(r).forEach(function(i){n[i]=r[i]})}}function KV(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return kw?aR.forEach(function(n){e[n]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t&&ste(function(){var s;(s=Ige.console)[n].apply(s,bge([Rge+"["+n+"]:"],r))})}}):aR.forEach(function(n){e[n]=function(){}}),e}var An;kw?An=NH("logger",KV):An=KV();function BS(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}function zV(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function _x(t,e){return W3(t)?pge(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}function Va(t,e,n){if(e in t){var r=t[e],i=n(r);if(typeof i=="function")try{ote(i,r)}catch{}t[e]=i}}function EM(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function ote(t,e){var n=e.prototype||{};t.prototype=e.prototype=n,EM(t,"__sentry_original__",e)}function HH(t){return t.__sentry_original__}function Mge(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function ate(t){var e=t;if(BH(t))e=va({message:t.message,name:t.name,stack:t.stack},VV(t));else if(wM(t)){var n=t;e=va({type:n.type,target:qV(n.target),currentTarget:qV(n.currentTarget)},VV(n)),typeof CustomEvent!="undefined"&&Mf(t,CustomEvent)&&(e.detail=n.detail)}return e}function qV(t){try{return hge(t)?bx(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function VV(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Oge(t,e){e===void 0&&(e=40);var n=Object.keys(ate(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return BS(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:BS(i,e)}return""}function Ry(t){var e,n;if(Y3(t)){var r={};try{for(var i=X3(Object.keys(t)),s=i.next();!s.done;s=i.next()){var o=s.value;typeof t[o]!="undefined"&&(r[o]=Ry(t[o]))}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Array.isArray(t)?t.map(Ry):t}var Lge=50;function Age(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.sort(function(r,i){return r[0]-i[0]}).map(function(r){return r[1]});return function(r,i){var s,o,l,d;i===void 0&&(i=0);var h=[];try{for(var f=X3(r.split(`
`).slice(i)),v=f.next();!v.done;v=f.next()){var w=v.value;try{for(var E=(l=void 0,X3(n)),C=E.next();!C.done;C=E.next()){var O=C.value,M=O(w);if(M){h.push(M);break}}}catch(A){l={error:A}}finally{try{C&&!C.done&&(d=E.return)&&d.call(E)}finally{if(l)throw l.error}}}}catch(A){s={error:A}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(s)throw s.error}}return Pge(h)}}function Pge(t){if(!t.length)return[];var e=t,n=e[0].function||"",r=e[e.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),r.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,Lge).map(function(i){return va(va({},i),{filename:i.filename||e[0].filename,function:i.function||"?"})}).reverse()}var hN="<anonymous>";function Wg(t){try{return!t||typeof t!="function"?hN:t.name||hN}catch{return hN}}function SM(){if(!("fetch"in Li()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function cF(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Dge(){if(!SM())return!1;var t=Li();if(cF(t.fetch))return!0;var e=!1,n=t.document;if(n&&typeof n.createElement=="function")try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=cF(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){kw&&An.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function Nge(){if(!SM())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function Bge(){var t=Li(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}var ws=Li(),$S={},GV={};function $ge(t){if(!GV[t])switch(GV[t]=!0,t){case"console":Fge();break;case"dom":Wge();break;case"xhr":Kge();break;case"fetch":Uge();break;case"history":zge();break;case"error":Yge();break;case"unhandledrejection":Xge();break;default:kw&&An.warn("unknown instrumentation type:",t);return}}function Rc(t,e){$S[t]=$S[t]||[],$S[t].push(e),$ge(t)}function pd(t,e){var n,r;if(!(!t||!$S[t]))try{for(var i=X3($S[t]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(e)}catch(l){kw&&An.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+Wg(o)+`
Error:`,l)}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Fge(){"console"in ws&&aR.forEach(function(t){t in ws.console&&Va(ws.console,t,function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];pd("console",{args:n,level:t}),e&&e.apply(ws.console,n)}})})}function Uge(){!Dge()||Va(ws,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:Hge(e),url:jge(e)},startTimestamp:Date.now()};return pd("fetch",va({},r)),t.apply(ws,e).then(function(i){return pd("fetch",va(va({},r),{endTimestamp:Date.now(),response:i})),i},function(i){throw pd("fetch",va(va({},r),{endTimestamp:Date.now(),error:i})),i})}})}function Hge(t){return t===void 0&&(t=[]),"Request"in ws&&Mf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function jge(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in ws&&Mf(t[0],Request)?t[0].url:String(t[0])}function Kge(){if("XMLHttpRequest"in ws){var t=XMLHttpRequest.prototype;Va(t,"open",function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this,s=n[1],o=i.__sentry_xhr__={method:W3(n[0])?n[0].toUpperCase():n[0],url:n[1]};W3(s)&&o.method==="POST"&&s.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var l=function(){if(i.readyState===4){try{o.status_code=i.status}catch{}pd("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?Va(i,"onreadystatechange",function(d){return function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return l(),d.apply(i,h)}}):i.addEventListener("readystatechange",l),e.apply(i,n)}}),Va(t,"send",function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),pd("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}}var QT;function zge(){if(!Bge())return;var t=ws.onpopstate;ws.onpopstate=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=ws.location.href,s=QT;if(QT=i,pd("history",{from:s,to:i}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=r.length>2?r[2]:void 0;if(s){var o=QT,l=String(s);QT=l,pd("history",{from:o,to:l})}return n.apply(this,r)}}Va(ws.history,"pushState",e),Va(ws.history,"replaceState",e)}var qge=1e3,eC,tC;function Vge(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function Gge(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function WV(t,e){return e===void 0&&(e=!1),function(n){if(!(!n||tC===n)&&!Gge(n)){var r=n.type==="keypress"?"input":n.type;eC===void 0?(t({event:n,name:r,global:e}),tC=n):Vge(tC,n)&&(t({event:n,name:r,global:e}),tC=n),clearTimeout(eC),eC=ws.setTimeout(function(){eC=void 0},qge)}}}function Wge(){if("document"in ws){var t=pd.bind(null,"dom"),e=WV(t,!0);ws.document.addEventListener("click",e,!1),ws.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(n){var r=ws[n]&&ws[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Va(r,"addEventListener",function(i){return function(s,o,l){if(s==="click"||s=="keypress")try{var d=this,h=d.__sentry_instrumentation_handlers__=d.__sentry_instrumentation_handlers__||{},f=h[s]=h[s]||{refCount:0};if(!f.handler){var v=WV(t);f.handler=v,i.call(this,s,v,l)}f.refCount+=1}catch{}return i.call(this,s,o,l)}}),Va(r,"removeEventListener",function(i){return function(s,o,l){if(s==="click"||s=="keypress")try{var d=this,h=d.__sentry_instrumentation_handlers__||{},f=h[s];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,s,f.handler,l),f.handler=void 0,delete h[s]),Object.keys(h).length===0&&delete d.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,l)}}))})}}var pN=null;function Yge(){pN=ws.onerror,ws.onerror=function(t,e,n,r,i){return pd("error",{column:r,error:i,line:n,msg:t,url:e}),pN?pN.apply(this,arguments):!1}}var gN=null;function Xge(){gN=ws.onunhandledrejection,ws.onunhandledrejection=function(t){return pd("unhandledrejection",t),gN?gN.apply(this,arguments):!0}}function Zge(){var t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(var s=0;s<e.length;s++){var o=e[s];if(o===i)return!0}return e.push(i),!1}function r(i){if(t)e.delete(i);else for(var s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return[n,r]}function Lg(){var t=Li(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var r=function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,o=i==="x"?s:s&3|8;return o.toString(16)})}function mN(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function lte(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function by(t){var e=t.message,n=t.event_id;if(e)return e;var r=lte(t);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function uF(t,e,n){var r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=n||"Error")}function wx(t,e){var n=lte(t);if(!!n){var r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism=va(va(va({},r),i),e),e&&"data"in e){var s=va(va({},i&&i.data),e.data);n.mechanism.data=s}}}function YV(t){if(t&&t.__sentry_captured__)return!0;try{EM(t,"__sentry_captured__",!0)}catch{}return!1}function dy(t,e,n){e===void 0&&(e=1/0),n===void 0&&(n=1/0);try{return ute("",t,e,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function cte(t,e,n){e===void 0&&(e=3),n===void 0&&(n=100*1024);var r=dy(t,e);return eme(r)>n?cte(t,e-1,n):r}function ute(t,e,n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Zge());var s=Og(i,2),o=s[0],l=s[1],d=e;if(d&&typeof d.toJSON=="function")try{return d.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!rte(e))return e;var h=Jge(t,e);if(!h.startsWith("[object "))return h;if(n===0)return h.replace("object ","");if(o(e))return"[Circular ~]";var f=Array.isArray(e)?[]:{},v=0,w=BH(e)||wM(e)?ate(e):e;for(var E in w)if(!!Object.prototype.hasOwnProperty.call(w,E)){if(v>=r){f[E]="[MaxProperties ~]";break}var C=w[E];f[E]=ute(E,C,n-1,r,i),v+=1}return l(e),f}function Jge(t,e){try{return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":gge(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+Wg(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":"[object "+Object.getPrototypeOf(e).constructor.name+"]"}catch(n){return"**non-serializable** ("+n+")"}}function Qge(t){return~-encodeURI(t).split(/%..|./).length}function eme(t){return Qge(JSON.stringify(t))}function Uy(t){return new Qg(function(e){e(t)})}function Ex(t){return new Qg(function(e,n){n(t)})}var Qg=function(){function t(e){var n=this;this._state=0,this._handlers=[],this._resolve=function(r){n._setResult(1,r)},this._reject=function(r){n._setResult(2,r)},this._setResult=function(r,i){if(n._state===0){if(FH(i)){i.then(n._resolve,n._reject);return}n._state=r,n._value=i,n._executeHandlers()}},this._executeHandlers=function(){if(n._state!==0){var r=n._handlers.slice();n._handlers=[],r.forEach(function(i){i[0]||(n._state===1&&i[1](n._value),n._state===2&&i[2](n._value),i[0]=!0)})}};try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}return t.prototype.then=function(e,n){var r=this;return new t(function(i,s){r._handlers.push([!1,function(o){if(!e)i(o);else try{i(e(o))}catch(l){s(l)}},function(o){if(!n)s(o);else try{i(n(o))}catch(l){s(l)}}]),r._executeHandlers()})},t.prototype.catch=function(e){return this.then(function(n){return n},e)},t.prototype.finally=function(e){var n=this;return new t(function(r,i){var s,o;return n.then(function(l){o=!1,s=l,e&&e()},function(l){o=!0,s=l,e&&e()}).then(function(){if(o){i(s);return}r(s)})})},t}();function dte(t){var e=[];function n(){return t===void 0||e.length<t}function r(o){return e.splice(e.indexOf(o),1)[0]}function i(o){if(!n())return Ex(new Mo("Not adding Promise due to buffer limit reached."));var l=o();return e.indexOf(l)===-1&&e.push(l),l.then(function(){return r(l)}).then(null,function(){return r(l).then(null,function(){})}),l}function s(o){return new Qg(function(l,d){var h=e.length;if(!h)return l(!0);var f=setTimeout(function(){o&&o>0&&l(!1)},o);e.forEach(function(v){Uy(v).then(function(){--h||(clearTimeout(f),l(!0))},d)})})}return{$:e,add:i,drain:s}}function tme(t){return Cge.indexOf(t)!==-1}function nme(t){return t==="warn"?Ef.Warning:tme(t)?t:Ef.Log}function fte(t){return t>=200&&t<300?"success":t===429?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}var dF={nowSeconds:function(){return Date.now()/1e3}};function rme(){var t=Li().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}function ime(){try{var t=yg(fp,"perf_hooks");return t.performance}catch{return}}var yN=c8()?ime():rme(),XV=yN===void 0?dF:{nowSeconds:function(){return(yN.timeOrigin+yN.now())/1e3}},xM=dF.nowSeconds.bind(dF),fF=XV.nowSeconds.bind(XV),Sx=fF,DE=function(){var t=Li().performance;if(!(!t||!t.now)){var e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,o=t.timing&&t.timing.navigationStart,l=typeof o=="number",d=l?Math.abs(o+n-r):e,h=d<e;return s||h?i<=d?t.timeOrigin:o:r}}(),sme=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ome(t){var e=t.match(sme);if(e){var n=void 0;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function kM(t,e){return e===void 0&&(e=[]),[t,e]}function ame(t){var e=Og(t,2),n=Og(e[1],1),r=Og(n[0],1),i=r[0];return i.type}function TM(t){var e=Og(t,2),n=e[0],r=e[1],i=JSON.stringify(n);return r.reduce(function(s,o){var l=Og(o,2),d=l[0],h=l[1],f=$H(h)?String(h):JSON.stringify(h);return s+`
`+JSON.stringify(d)+`
`+f},i)}function lme(t,e,n){var r=[{type:"client_report"},{timestamp:n||xM(),discarded_events:t}];return kM(e?{dsn:e}:{},[r])}var cme=60*1e3;function ume(t,e){e===void 0&&(e=Date.now());var n=parseInt(""+t,10);if(!isNaN(n))return n*1e3;var r=Date.parse(""+t);return isNaN(r)?cme:r-e}function jH(t,e){return t[e]||t.all||0}function hte(t,e,n){return n===void 0&&(n=Date.now()),jH(t,e)>n}function pte(t,e,n){var r,i,s,o;n===void 0&&(n=Date.now());var l=va({},t),d=e["x-sentry-rate-limits"],h=e["retry-after"];if(d)try{for(var f=X3(d.trim().split(",")),v=f.next();!v.done;v=f.next()){var w=v.value,E=w.split(":",2),C=parseInt(E[0],10),O=(isNaN(C)?60:C)*1e3;if(!E[1])l.all=n+O;else try{for(var M=(s=void 0,X3(E[1].split(";"))),A=M.next();!A.done;A=M.next()){var D=A.value;l[D]=n+O}}catch(U){s={error:U}}finally{try{A&&!A.done&&(o=M.return)&&o.call(M)}finally{if(s)throw s.error}}}}catch(U){r={error:U}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}else h&&(l.all=n+ume(h,n));return l}var ZV=100,lR=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Y_(e._breadcrumbs),n._tags=xr({},e._tags),n._extra=xr({},e._extra),n._contexts=xr({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Y_(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=xr(xr({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,n){var r;return this._tags=xr(xr({},this._tags),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=xr(xr({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,n){var r;return this._extra=xr(xr({},this._extra),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,n){var r;return n===null?delete this._contexts[e]:this._contexts=xr(xr({},this._contexts),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=xr(xr({},this._tags),e._tags),this._extra=xr(xr({},this._extra),e._extra),this._contexts=xr(xr({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Y3(e)&&(e=e,this._tags=xr(xr({},this._tags),e.tags),this._extra=xr(xr({},this._extra),e.extra),this._contexts=xr(xr({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,n){var r=typeof n=="number"?Math.min(n,ZV):ZV;if(r<=0)return this;var i=xr({timestamp:xM()},e);return this._breadcrumbs=Y_(this._breadcrumbs,[i]).slice(-r),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,n){if(this._extra&&Object.keys(this._extra).length&&(e.extra=xr(xr({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=xr(xr({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=xr(xr({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=xr(xr({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=xr({trace:this._span.getTraceContext()},e.contexts);var r=this._span.transaction&&this._span.transaction.name;r&&(e.tags=xr({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Y_(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Y_(gte(),this._eventProcessors),e,n)},t.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=xr(xr({},this._sdkProcessingMetadata),e),this},t.prototype._notifyEventProcessors=function(e,n,r,i){var s=this;return i===void 0&&(i=0),new Qg(function(o,l){var d=e[i];if(n===null||typeof d!="function")o(n);else{var h=d(xr({},n),r);FH(h)?h.then(function(f){return s._notifyEventProcessors(e,f,r,i+1).then(o)}).then(null,l):s._notifyEventProcessors(e,h,r,i+1).then(o).then(null,l)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();function gte(){return NH("globalEventProcessors",function(){return[]})}function KH(t){gte().push(t)}var dme=function(){function t(e){this.errors=0,this.sid=Lg(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var n=fF();this.timestamp=n,this.started=n,e&&this.update(e)}return t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||fF(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:Lg()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var n=this.timestamp-this.started;this.duration=n>=0?n:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status==="ok"?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return Ry({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),JV=typeof __SENTRY_DEBUG__=="undefined"?!0:__SENTRY_DEBUG__,zH=4,fme=100,CM=function(){function t(e,n,r){n===void 0&&(n=new lR),r===void 0&&(r=zH),this._version=r,this._stack=[{}],this.getStackTop().scope=n,e&&this.bindClient(e)}return t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=lR.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,n){var r=this._lastEventId=n&&n.event_id?n.event_id:Lg(),i=n;if(!n){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(o){s=o}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,xr(xr({},i),{event_id:r})),r},t.prototype.captureMessage=function(e,n,r){var i=this._lastEventId=r&&r.event_id?r.event_id:Lg(),s=r;if(!r){var o=void 0;try{throw new Error(e)}catch(l){o=l}s={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,n,xr(xr({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,n){var r=n&&n.event_id?n.event_id:Lg();return e.type!=="transaction"&&(this._lastEventId=r),this._invokeClient("captureEvent",e,xr(xr({},n),{event_id:r})),r},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,n){var r=this.getStackTop(),i=r.scope,s=r.client;if(!(!i||!s)){var o=s.getOptions&&s.getOptions()||{},l=o.beforeBreadcrumb,d=l===void 0?null:l,h=o.maxBreadcrumbs,f=h===void 0?fme:h;if(!(f<=0)){var v=xM(),w=xr({timestamp:v},e),E=d?ste(function(){return d(w,n)}):w;E!==null&&i.addBreadcrumb(E,f)}}},t.prototype.setUser=function(e){var n=this.getScope();n&&n.setUser(e)},t.prototype.setTags=function(e){var n=this.getScope();n&&n.setTags(e)},t.prototype.setExtras=function(e){var n=this.getScope();n&&n.setExtras(e)},t.prototype.setTag=function(e,n){var r=this.getScope();r&&r.setTag(e,n)},t.prototype.setExtra=function(e,n){var r=this.getScope();r&&r.setExtra(e,n)},t.prototype.setContext=function(e,n){var r=this.getScope();r&&r.setContext(e,n)},t.prototype.configureScope=function(e){var n=this.getStackTop(),r=n.scope,i=n.client;r&&i&&e(r)},t.prototype.run=function(e){var n=QV(this);try{e(this)}finally{QV(n)}},t.prototype.getIntegration=function(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return JV&&An.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,n){return this._callExtensionMethod("startTransaction",e,n)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e=this.getStackTop(),n=e&&e.scope,r=n&&n.getSession();r&&r.close(),this._sendSessionUpdate(),n&&n.setSession()},t.prototype.startSession=function(e){var n=this.getStackTop(),r=n.scope,i=n.client,s=i&&i.getOptions()||{},o=s.release,l=s.environment,d=Li(),h=(d.navigator||{}).userAgent,f=new dme(xr(xr(xr({release:o,environment:l},r&&{user:r.getUser()}),h&&{userAgent:h}),e));if(r){var v=r.getSession&&r.getSession();v&&v.status==="ok"&&v.update({status:"exited"}),this.endSession(),r.setSession(f)}return f},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),n=e.scope,r=e.client;if(!!n){var i=n.getSession&&n.getSession();i&&r&&r.captureSession&&r.captureSession(i)}},t.prototype._invokeClient=function(e){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=this.getStackTop(),o=s.scope,l=s.client;l&&l[e]&&(n=l)[e].apply(n,Y_(r,[o]))},t.prototype._callExtensionMethod=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Tw(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);JV&&An.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();function Tw(){var t=Li();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function QV(t){var e=Tw(),n=dg(e);return qH(e,t),n}function Po(){var t=Tw();return(!mte(t)||dg(t).isOlderThan(zH))&&qH(t,new CM),c8()?hme(t):dg(t)}function hme(t){try{var e=Tw().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return dg(t);if(!mte(n)||dg(n).isOlderThan(zH)){var r=dg(t).getStackTop();qH(n,new CM(r.client,lR.clone(r.scope)))}return dg(n)}catch{return dg(t)}}function mte(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function dg(t){return NH("hub",function(){return new CM},t)}function qH(t,e){if(!t)return!1;var n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function yte(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Po();if(r&&r[t])return r[t].apply(r,oge(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function xx(t,e){var n=new Error("Sentry syntheticException");return yte("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function vte(t){yte("withScope",t)}var pme="7";function cR(t,e,n){return{initDsn:t,metadata:e||{},dsn:UH(t),tunnel:n}}function bte(t){var e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"}function _te(t,e){return""+bte(t)+t.projectId+"/"+e+"/"}function wte(t){return Mge({sentry_key:t.publicKey,sentry_version:pme})}function gme(t){return _te(t,"store")}function Ete(t){return gme(t)+"?"+wte(t)}function mme(t){return _te(t,"envelope")}function IM(t,e){return e||mme(t)+"?"+wte(t)}function yme(t,e){var n=UH(t),r=bte(n)+"embed/error-page/",i="dsn="+u8(n);for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&(i+="&name="+encodeURIComponent(e.user.name)),e.user.email&&(i+="&email="+encodeURIComponent(e.user.email))}else i+="&"+encodeURIComponent(s)+"="+encodeURIComponent(e[s]);return r+"?"+i}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ls.apply(this,arguments)};function vme(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function VH(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function yf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(VH(arguments[e]));return t}var mo=typeof __SENTRY_DEBUG__=="undefined"?!0:__SENTRY_DEBUG__,eG=[];function tG(t){return t.reduce(function(e,n){return e.every(function(r){return n.name!==r.name})&&e.push(n),e},[])}function bme(t){var e=t.defaultIntegrations&&yf(t.defaultIntegrations)||[],n=t.integrations,r=yf(tG(e));Array.isArray(n)?r=yf(r.filter(function(o){return n.every(function(l){return l.name!==o.name})}),tG(n)):typeof n=="function"&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map(function(o){return o.name}),s="Debug";return i.indexOf(s)!==-1&&r.push.apply(r,yf(r.splice(i.indexOf(s),1))),r}function _me(t){eG.indexOf(t.name)===-1&&(t.setupOnce(KH,Po),eG.push(t.name),mo&&An.log("Integration installed: "+t.name))}function wme(t){var e={};return bme(t).forEach(function(n){e[n.name]=n,_me(n)}),EM(e,"initialized",!0),e}var nG="Not capturing exception because it's already been captured.",Eme=function(){function t(e,n){this._integrations={},this._numProcessing=0,this._backend=new e(n),this._options=n,n.dsn&&(this._dsn=UH(n.dsn))}return t.prototype.captureException=function(e,n,r){var i=this;if(YV(e)){mo&&An.log(nG);return}var s=n&&n.event_id;return this._process(this._getBackend().eventFromException(e,n).then(function(o){return i._captureEvent(o,n,r)}).then(function(o){s=o})),s},t.prototype.captureMessage=function(e,n,r,i){var s=this,o=r&&r.event_id,l=$H(e)?this._getBackend().eventFromMessage(String(e),n,r):this._getBackend().eventFromException(e,r);return this._process(l.then(function(d){return s._captureEvent(d,r,i)}).then(function(d){o=d})),o},t.prototype.captureEvent=function(e,n,r){if(n&&n.originalException&&YV(n.originalException)){mo&&An.log(nG);return}var i=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(function(s){i=s})),i},t.prototype.captureSession=function(e){if(!this._isEnabled()){mo&&An.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?mo&&An.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(e){var n=this;return this._isClientDoneProcessing(e).then(function(r){return n.getTransport().close(e).then(function(i){return r&&i})})},t.prototype.close=function(e){var n=this;return this.flush(e).then(function(r){return n.getOptions().enabled=!1,r})},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=wme(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch{return mo&&An.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,n){var r,i,s=!1,o=!1,l=n.exception&&n.exception.values;if(l){o=!0;try{for(var d=vme(l),h=d.next();!h.done;h=d.next()){var f=h.value,v=f.mechanism;if(v&&v.handled===!1){s=!0;break}}}catch(C){r={error:C}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}var w=e.status==="ok",E=w&&e.errors===0||w&&s;E&&(e.update(Ls(Ls({},s&&{status:"crashed"}),{errors:e.errors||Number(o||s)})),this.captureSession(e))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientDoneProcessing=function(e){var n=this;return new Qg(function(r){var i=0,s=1,o=setInterval(function(){n._numProcessing==0?(clearInterval(o),r(!0)):(i+=s,e&&i>=e&&(clearInterval(o),r(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,n,r){var i=this,s=this.getOptions(),o=s.normalizeDepth,l=o===void 0?3:o,d=s.normalizeMaxBreadth,h=d===void 0?1e3:d,f=Ls(Ls({},e),{event_id:e.event_id||(r&&r.event_id?r.event_id:Lg()),timestamp:e.timestamp||xM()});this._applyClientOptions(f),this._applyIntegrationsMetadata(f);var v=n;r&&r.captureContext&&(v=lR.clone(v).update(r.captureContext));var w=Uy(f);return v&&(w=v.applyToEvent(f,r)),w.then(function(E){return E&&(E.sdkProcessingMetadata=Ls(Ls({},E.sdkProcessingMetadata),{normalizeDepth:dy(l)+" ("+typeof l+")"})),typeof l=="number"&&l>0?i._normalizeEvent(E,l,h):E})},t.prototype._normalizeEvent=function(e,n,r){if(!e)return null;var i=Ls(Ls(Ls(Ls(Ls({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(s){return Ls(Ls({},s),s.data&&{data:dy(s.data,n,r)})})}),e.user&&{user:dy(e.user,n,r)}),e.contexts&&{contexts:dy(e.contexts,n,r)}),e.extra&&{extra:dy(e.extra,n,r)});return e.contexts&&e.contexts.trace&&(i.contexts.trace=e.contexts.trace),i.sdkProcessingMetadata=Ls(Ls({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},t.prototype._applyClientOptions=function(e){var n=this.getOptions(),r=n.environment,i=n.release,s=n.dist,o=n.maxValueLength,l=o===void 0?250:o;"environment"in e||(e.environment="environment"in n?r:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=BS(e.message,l));var d=e.exception&&e.exception.values&&e.exception.values[0];d&&d.value&&(d.value=BS(d.value,l));var h=e.request;h&&h.url&&(h.url=BS(h.url,l))},t.prototype._applyIntegrationsMetadata=function(e){var n=Object.keys(this._integrations);n.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=yf(e.sdk.integrations||[],n))},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,n,r){return this._processEvent(e,n,r).then(function(i){return i.event_id},function(i){mo&&An.error(i)})},t.prototype._processEvent=function(e,n,r){var i=this,s=this.getOptions(),o=s.beforeSend,l=s.sampleRate,d=this.getTransport();function h(v,w){d.recordLostEvent&&d.recordLostEvent(v,w)}if(!this._isEnabled())return Ex(new Mo("SDK not enabled, will not capture event."));var f=e.type==="transaction";return!f&&typeof l=="number"&&Math.random()>l?(h("sample_rate","event"),Ex(new Mo("Discarding event because it's not included in the random sample (sampling rate = "+l+")"))):this._prepareEvent(e,r,n).then(function(v){if(v===null)throw h("event_processor",e.type||"event"),new Mo("An event processor returned null, will not send event.");var w=n&&n.data&&n.data.__sentry__===!0;if(w||f||!o)return v;var E=o(v,n);return Sme(E)}).then(function(v){if(v===null)throw h("before_send",e.type||"event"),new Mo("`beforeSend` returned `null`, will not send event.");var w=r&&r.getSession&&r.getSession();return!f&&w&&i._updateSessionFromEvent(w,v),i._sendEvent(v),v}).then(null,function(v){throw v instanceof Mo?v:(i.captureException(v,{data:{__sentry__:!0},originalException:v}),new Mo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+v))})},t.prototype._process=function(e){var n=this;this._numProcessing+=1,e.then(function(r){return n._numProcessing-=1,r},function(r){return n._numProcessing-=1,r})},t}();function Sme(t){var e="`beforeSend` method has to return `null` or a valid event.";if(FH(t))return t.then(function(n){if(!(Y3(n)||n===null))throw new Mo(e);return n},function(n){throw new Mo("beforeSend rejected with "+n)});if(!(Y3(t)||t===null))throw new Mo(e);return t}function GH(t){if(!(!t.metadata||!t.metadata.sdk)){var e=t.metadata.sdk,n=e.name,r=e.version;return{name:n,version:r}}}function Ste(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=yf(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=yf(t.sdk.packages||[],e.packages||[])),t}function xte(t,e){var n=GH(e),r=Ls(Ls({sent_at:new Date().toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:u8(e.dsn)}),i="aggregates"in t?"sessions":"session",s=[{type:i},t],o=kM(r,[s]);return[o,i]}function xme(t,e){var n=VH(xte(t,e),2),r=n[0],i=n[1];return{body:TM(r),type:i,url:IM(e.dsn,e.tunnel)}}function kme(t,e){var n=GH(e),r=t.type||"event",i=(t.sdkProcessingMetadata||{}).transactionSampling,s=i||{},o=s.method,l=s.rate;Ste(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var d=Ls(Ls({event_id:t.event_id,sent_at:new Date().toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:u8(e.dsn)}),h=[{type:r,sample_rates:[{id:o,rate:l}]},t];return kM(d,[h])}function Tme(t,e){var n=GH(e),r=t.type||"event",i=r==="transaction"||!!e.tunnel,s=(t.sdkProcessingMetadata||{}).transactionSampling,o=s||{},l=o.method,d=o.rate;Ste(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var h;try{h=JSON.stringify(t)}catch(O){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=O;try{h=JSON.stringify(dy(t))}catch(M){var f=M;h=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:f.message,stack:f.stack}})}}var v={body:h,type:r,url:i?IM(e.dsn,e.tunnel):Ete(e.dsn)};if(i){var w=Ls(Ls({event_id:t.event_id,sent_at:new Date().toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:u8(e.dsn)}),E=[{type:r,sample_rates:[{id:l,rate:d}]},v.body],C=kM(w,[E]);v.body=TM(C)}return v}var Cme=function(){function t(){}return t.prototype.sendEvent=function(e){return Uy({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(e){return Uy(!0)},t}(),Ime=function(){function t(e){this._options=e,this._options.dsn||mo&&An.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(e,n){throw new Mo("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,n,r){throw new Mo("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var n=cR(this._options.dsn,this._options._metadata,this._options.tunnel),r=kme(e,n);this._newTransport.send(r).then(null,function(i){mo&&An.error("Error while sending event:",i)})}else this._transport.sendEvent(e).then(null,function(i){mo&&An.error("Error while sending event:",i)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){mo&&An.warn("Dropping session because custom transport doesn't implement sendSession");return}if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var n=cR(this._options.dsn,this._options._metadata,this._options.tunnel),r=VH(xte(e,n),1),i=r[0];this._newTransport.send(i).then(null,function(s){mo&&An.error("Error while sending session:",s)})}else this._transport.sendSession(e).then(null,function(s){mo&&An.error("Error while sending session:",s)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Cme},t}();function Rme(t,e){e.debug===!0&&(mo?An.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Po(),r=n.getScope();r&&r.update(e.initialScope);var i=new t(e);n.bindClient(i)}var Mme=30;function kte(t,e,n){n===void 0&&(n=dte(t.bufferSize||Mme));var r={},i=function(o){return n.drain(o)};function s(o){var l=ame(o),d=l==="event"?"error":l,h={category:d,body:TM(o)};if(hte(r,d))return Ex({status:"rate_limit",reason:rG(r,d)});var f=function(){return e(h).then(function(v){var w=v.body,E=v.headers,C=v.reason,O=v.statusCode,M=fte(O);return E&&(r=pte(r,E)),M==="success"?Uy({status:M,reason:C}):Ex({status:M,reason:C||w||(M==="rate_limit"?rG(r,d):"Unknown transport error")})})};return n.add(f)}return{send:s,flush:i}}function rG(t,e){return"Too many "+e+" requests, backing off until: "+new Date(jH(t,e)).toISOString()}var uR="6.19.7",iG,Ome=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){iG=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=HH(this)||this;return iG.apply(r,e)}},t.id="FunctionToString",t}(),Lme=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ame=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,n){e(function(r){var i=n();if(i){var s=i.getIntegration(t);if(s){var o=i.getClient(),l=o?o.getOptions():{},d=Pme(s._options,l);return Dme(r,d)?null:r}}return r})},t.id="InboundFilters",t}();function Pme(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),{allowUrls:yf(t.whitelistUrls||[],t.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:yf(t.blacklistUrls||[],t.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:yf(t.ignoreErrors||[],e.ignoreErrors||[],Lme),ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Dme(t,e){return e.ignoreInternal&&Ume(t)?(mo&&An.warn(`Event dropped due to being internal Sentry Error.
Event: `+by(t)),!0):Nme(t,e.ignoreErrors)?(mo&&An.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+by(t)),!0):Bme(t,e.denyUrls)?(mo&&An.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+by(t)+`.
Url: `+dR(t)),!0):$me(t,e.allowUrls)?!1:(mo&&An.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+by(t)+`.
Url: `+dR(t)),!0)}function Nme(t,e){return!e||!e.length?!1:Fme(t).some(function(n){return e.some(function(r){return _x(n,r)})})}function Bme(t,e){if(!e||!e.length)return!1;var n=dR(t);return n?e.some(function(r){return _x(n,r)}):!1}function $me(t,e){if(!e||!e.length)return!0;var n=dR(t);return n?e.some(function(r){return _x(n,r)}):!0}function Fme(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=n===void 0?"":n,i=e.value,s=i===void 0?"":i;return[""+s,r+": "+s]}catch{return mo&&An.error("Cannot extract message for event "+by(t)),[]}return[]}function Ume(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function sG(t){t===void 0&&(t=[]);for(var e=t.length-1;e>=0;e--){var n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function dR(t){try{if(t.stacktrace)return sG(t.stacktrace.frames);var e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?sG(e):null}catch{return mo&&An.error("Cannot extract url for event "+by(t)),null}}var Cw="?",Hme=10,jme=20,Kme=30,zme=40,qme=50;function d8(t,e,n,r){var i={filename:t,function:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}var Vme=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Gme=/\((\S*)(?::(\d+))(?::(\d+))\)/,Wme=function(t){var e=Vme.exec(t);if(e){var n=e[2]&&e[2].indexOf("eval")===0;if(n){var r=Gme.exec(e[2]);r&&(e[2]=r[1],e[3]=r[2],e[4]=r[3])}var i=Sw(Tte(e[1]||Cw,e[2]),2),s=i[0],o=i[1];return d8(o,s,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Yme=[Kme,Wme],Xme=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Zme=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Jme=function(t){var e,n=Xme.exec(t);if(n){var r=n[3]&&n[3].indexOf(" > eval")>-1;if(r){var i=Zme.exec(n[3]);i&&(n[1]=n[1]||"eval",n[3]=i[1],n[4]=i[2],n[5]="")}var s=n[3],o=n[1]||Cw;return e=Sw(Tte(o,s),2),o=e[0],s=e[1],d8(s,o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}},Qme=[qme,Jme],e0e=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,t0e=function(t){var e=e0e.exec(t);return e?d8(e[2],e[1]||Cw,+e[3],e[4]?+e[4]:void 0):void 0},n0e=[zme,t0e],r0e=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i0e=function(t){var e=r0e.exec(t);return e?d8(e[2],e[3]||Cw,+e[1]):void 0},s0e=[Hme,i0e],o0e=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,a0e=function(t){var e=o0e.exec(t);return e?d8(e[5],e[3]||e[4]||Cw,+e[1],+e[2]):void 0},l0e=[jme,a0e],Tte=function(t,e){var n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Cw,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function Cte(t){var e=WH(t),n={type:t&&t.name,value:f0e(t)};return e.length&&(n.stacktrace={frames:e}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function c0e(t,e,n){var r={exception:{values:[{type:wM(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Oge(t)}]},extra:{__serialized__:cte(t)}};if(e){var i=WH(e);i.length&&(r.stacktrace={frames:i})}return r}function vN(t){return{exception:{values:[Cte(t)]}}}function WH(t){var e=t.stacktrace||t.stack||"",n=d0e(t);try{return Age(s0e,l0e,Yme,n0e,Qme)(e,n)}catch{}return[]}var u0e=/Minified React error #\d+;/i;function d0e(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(u0e.test(t.message))return 1}return 0}function f0e(t){var e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function h0e(t,e,n){var r=e&&e.syntheticException||void 0,i=YH(t,r,n);return wx(i),i.level=Ef.Error,e&&e.event_id&&(i.event_id=e.event_id),Uy(i)}function p0e(t,e,n,r){e===void 0&&(e=Ef.Info);var i=n&&n.syntheticException||void 0,s=hF(t,i,r);return s.level=e,n&&n.event_id&&(s.event_id=n.event_id),Uy(s)}function YH(t,e,n,r){var i;if(nte(t)&&t.error){var s=t;return vN(s.error)}if(jV(t)||fge(t)){var o=t;if("stack"in t)i=vN(t);else{var l=o.name||(jV(o)?"DOMError":"DOMException"),d=o.message?l+": "+o.message:l;i=hF(d,e,n),uF(i,d)}return"code"in o&&(i.tags=ls(ls({},i.tags),{"DOMException.code":""+o.code})),i}if(BH(t))return vN(t);if(Y3(t)||wM(t)){var h=t;return i=c0e(h,e,r),wx(i,{synthetic:!0}),i}return i=hF(t,e,n),uF(i,""+t,void 0),wx(i,{synthetic:!0}),i}function hF(t,e,n){var r={message:t};if(n&&e){var i=WH(e);i.length&&(r.stacktrace={frames:i})}return r}var lu=typeof __SENTRY_DEBUG__=="undefined"?!0:__SENTRY_DEBUG__,ld=Li(),nC;function XH(){if(nC)return nC;if(cF(ld.fetch))return nC=ld.fetch.bind(ld);var t=ld.document,e=ld.fetch;if(t&&typeof t.createElement=="function")try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(i){lu&&An.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return nC=e.bind(ld)}function g0e(t,e){var n=Object.prototype.toString.call(ld&&ld.navigator)==="[object Navigator]",r=n&&typeof ld.navigator.sendBeacon=="function";if(r){var i=ld.navigator.sendBeacon.bind(ld.navigator);return i(t,e)}if(SM()){var s=XH();return lge(s(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}))}}function bN(t){var e=t;return e==="event"?"error":e}var _N=Li(),Ite=function(){function t(e){var n=this;this.options=e,this._buffer=dte(30),this._rateLimits={},this._outcomes={},this._api=cR(e.dsn,e._metadata,e.tunnel),this.url=Ete(this._api.dsn),this.options.sendClientReports&&_N.document&&_N.document.addEventListener("visibilitychange",function(){_N.document.visibilityState==="hidden"&&n._flushOutcomes()})}return t.prototype.sendEvent=function(e){return this._sendRequest(Tme(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(xme(e,this._api),e)},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype.recordLostEvent=function(e,n){var r;if(!!this.options.sendClientReports){var i=bN(n)+":"+e;lu&&An.log("Adding outcome: "+i),this._outcomes[i]=(r=this._outcomes[i],(r!=null?r:0)+1)}},t.prototype._flushOutcomes=function(){if(!!this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},!Object.keys(e).length){lu&&An.log("No outcomes to flush");return}lu&&An.log(`Flushing outcomes:
`+JSON.stringify(e,null,2));var n=IM(this._api.dsn,this._api.tunnel),r=Object.keys(e).map(function(s){var o=Sw(s.split(":"),2),l=o[0],d=o[1];return{reason:d,category:l,quantity:e[s]}}),i=lme(r,this._api.tunnel&&u8(this._api.dsn));try{g0e(n,TM(i))}catch(s){lu&&An.error(s)}}},t.prototype._handleResponse=function(e){var n=e.requestType,r=e.response,i=e.headers,s=e.resolve,o=e.reject,l=fte(r.status);if(this._rateLimits=pte(this._rateLimits,i),this._isRateLimited(n)&&lu&&An.warn("Too many "+n+" requests, backing off until: "+this._disabledUntil(n)),l==="success"){s({status:l});return}o(r)},t.prototype._disabledUntil=function(e){var n=bN(e);return new Date(jH(this._rateLimits,n))},t.prototype._isRateLimited=function(e){var n=bN(e);return hte(this._rateLimits,n)},t}(),m0e=function(t){_M(e,t);function e(n,r){r===void 0&&(r=XH());var i=t.call(this,n)||this;return i._fetch=r,i}return e.prototype._sendRequest=function(n,r){var i=this;if(this._isRateLimited(n.type))return this.recordLostEvent("ratelimit_backoff",n.type),Promise.reject({event:r,type:n.type,reason:"Transport for "+n.type+" requests locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429});var s={body:n.body,method:"POST",referrerPolicy:Nge()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(s,this.options.fetchParameters),this.options.headers!==void 0&&(s.headers=this.options.headers),this._buffer.add(function(){return new Qg(function(o,l){i._fetch(n.url,s).then(function(d){var h={"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")};i._handleResponse({requestType:n.type,response:d,headers:h,resolve:o,reject:l})}).catch(l)})}).then(void 0,function(o){throw o instanceof Mo?i.recordLostEvent("queue_overflow",n.type):i.recordLostEvent("network_error",n.type),o})},e}(Ite),y0e=function(t){_M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._sendRequest=function(n,r){var i=this;return this._isRateLimited(n.type)?(this.recordLostEvent("ratelimit_backoff",n.type),Promise.reject({event:r,type:n.type,reason:"Transport for "+n.type+" requests locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new Qg(function(s,o){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===4){var h={"x-sentry-rate-limits":l.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":l.getResponseHeader("Retry-After")};i._handleResponse({requestType:n.type,response:l,headers:h,resolve:s,reject:o})}},l.open("POST",n.url);for(var d in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,d)&&l.setRequestHeader(d,i.options.headers[d]);l.send(n.body)})}).then(void 0,function(s){throw s instanceof Mo?i.recordLostEvent("queue_overflow",n.type):i.recordLostEvent("network_error",n.type),s})},e}(Ite);function v0e(t,e){e===void 0&&(e=XH());function n(r){var i=ls({body:r.body,method:"POST",referrerPolicy:"origin"},t.requestOptions);return e(t.url,i).then(function(s){return s.text().then(function(o){return{body:o,headers:{"x-sentry-rate-limits":s.headers.get("X-Sentry-Rate-Limits"),"retry-after":s.headers.get("Retry-After")},reason:s.statusText,statusCode:s.status}})})}return kte({bufferSize:t.bufferSize},n)}var b0e=4;function _0e(t){function e(n){return new Qg(function(r,i){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===b0e){var l={body:s.response,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")},reason:s.statusText,statusCode:s.status};r(l)}},s.open("POST",t.url);for(var o in t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&s.setRequestHeader(o,t.headers[o]);s.send(n.body)})}return kte({bufferSize:t.bufferSize},e)}var w0e=function(t){_M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eventFromException=function(n,r){return h0e(n,r,this._options.attachStacktrace)},e.prototype.eventFromMessage=function(n,r,i){return r===void 0&&(r=Ef.Info),p0e(n,r,i,this._options.attachStacktrace)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var n=ls(ls({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),r=cR(n.dsn,n._metadata,n.tunnel),i=IM(r.dsn,r.tunnel);if(this._options.transport)return new this._options.transport(n);if(SM()){var s=ls({},n.fetchParameters);return this._newTransport=v0e({requestOptions:s,url:i}),new m0e(n)}return this._newTransport=_0e({url:i,headers:n.headers}),new y0e(n)},e}(Ime),rC=Li(),pF=0;function Rte(){return pF>0}function E0e(){pF+=1,setTimeout(function(){pF-=1})}function Z3(t,e,n){if(e===void 0&&(e={}),typeof t!="function")return t;try{var r=t.__sentry_wrapped__;if(r)return r;if(HH(t))return t}catch{return t}var i=function(){var l=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var d=l.map(function(h){return Z3(h,e)});return t.apply(this,d)}catch(h){throw E0e(),vte(function(f){f.addEventProcessor(function(v){return e.mechanism&&(uF(v,void 0,void 0),wx(v,e.mechanism)),v.extra=ls(ls({},v.extra),{arguments:l}),v}),xx(h)}),h}};try{for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}catch{}ote(i,t),EM(t,"__sentry_wrapped__",i);try{var o=Object.getOwnPropertyDescriptor(i,"name");o.configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch{}return i}function S0e(t){if(t===void 0&&(t={}),!!rC.document){if(!t.eventId){lu&&An.error("Missing eventId option in showReportDialog call");return}if(!t.dsn){lu&&An.error("Missing dsn option in showReportDialog call");return}var e=rC.document.createElement("script");e.async=!0,e.src=yme(t.dsn,t),t.onLoad&&(e.onload=t.onLoad);var n=rC.document.head||rC.document.body;n&&n.appendChild(e)}}var ZH=function(){function t(e){this.name=t.id,this._installFunc={onerror:x0e,onunhandledrejection:k0e},this._options=ls({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var e=this._options;for(var n in e){var r=this._installFunc[n];r&&e[n]&&(I0e(n),r(),this._installFunc[n]=void 0)}},t.id="GlobalHandlers",t}();function x0e(){Rc("error",function(t){var e=Sw(Lte(),2),n=e[0],r=e[1];if(!!n.getIntegration(ZH)){var i=t.msg,s=t.url,o=t.line,l=t.column,d=t.error;if(!(Rte()||d&&d.__sentry_own_request__)){var h=d===void 0&&W3(i)?C0e(i,s,o,l):Mte(YH(d||i,void 0,r,!1),s,o,l);h.level=Ef.Error,Ote(n,d,h,"onerror")}}})}function k0e(){Rc("unhandledrejection",function(t){var e=Sw(Lte(),2),n=e[0],r=e[1];if(!!n.getIntegration(ZH)){var i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(Rte()||i&&i.__sentry_own_request__)return!0;var s=$H(i)?T0e(i):YH(i,void 0,r,!0);s.level=Ef.Error,Ote(n,i,s,"onunhandledrejection")}})}function T0e(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}}function C0e(t,e,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,s=nte(t)?t.message:t,o="Error",l=s.match(i);l&&(o=l[1],s=l[2]);var d={exception:{values:[{type:o,value:s}]}};return Mte(d,e,n,r)}function Mte(t,e,n,r){var i=t.exception=t.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},l=o.stacktrace=o.stacktrace||{},d=l.frames=l.frames||[],h=isNaN(parseInt(r,10))?void 0:r,f=isNaN(parseInt(n,10))?void 0:n,v=W3(e)&&e.length>0?e:yge();return d.length===0&&d.push({colno:h,filename:v,function:"?",in_app:!0,lineno:f}),t}function I0e(t){lu&&An.log("Global Handler attached: "+t)}function Ote(t,e,n,r){wx(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function Lte(){var t=Po(),e=t.getClient(),n=e&&e.getOptions().attachStacktrace;return[t,n]}var R0e=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],M0e=function(){function t(e){this.name=t.id,this._options=ls({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var e=Li();this._options.setTimeout&&Va(e,"setTimeout",oG),this._options.setInterval&&Va(e,"setInterval",oG),this._options.requestAnimationFrame&&Va(e,"requestAnimationFrame",O0e),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Va(XMLHttpRequest.prototype,"send",L0e);var n=this._options.eventTarget;if(n){var r=Array.isArray(n)?n:R0e;r.forEach(A0e)}},t.id="TryCatch",t}();function oG(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=Z3(r,{mechanism:{data:{function:Wg(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function O0e(t){return function(e){return t.apply(this,[Z3(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Wg(t)},handled:!0,type:"instrument"}})])}}function L0e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(s){s in r&&typeof r[s]=="function"&&Va(r,s,function(o){var l={mechanism:{data:{function:s,handler:Wg(o)},handled:!0,type:"instrument"}},d=HH(o);return d&&(l.mechanism.data.handler=Wg(d)),Z3(o,l)})}),t.apply(this,e)}}function A0e(t){var e=Li(),n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Va(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Z3(s.handleEvent.bind(s),{mechanism:{data:{function:"handleEvent",handler:Wg(s),target:t},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[i,Z3(s,{mechanism:{data:{function:"addEventListener",handler:Wg(s),target:t},handled:!0,type:"instrument"}}),o])}}),Va(n,"removeEventListener",function(r){return function(i,s,o){var l=s;try{var d=l&&l.__sentry_wrapped__;d&&r.call(this,i,d,o)}catch{}return r.call(this,i,l,o)}}))}var Ate=function(){function t(e){this.name=t.id,this._options=ls({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(e){!this._options.sentry||Po().addBreadcrumb({category:"sentry."+(e.type==="transaction"?"transaction":"event"),event_id:e.event_id,level:e.level,message:by(e)},{event:e})},t.prototype.setupOnce=function(){this._options.console&&Rc("console",D0e),this._options.dom&&Rc("dom",P0e(this._options.dom)),this._options.xhr&&Rc("xhr",N0e),this._options.fetch&&Rc("fetch",B0e),this._options.history&&Rc("history",$0e)},t.id="Breadcrumbs",t}();function P0e(t){function e(n){var r,i=typeof t=="object"?t.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{r=n.event.target?bx(n.event.target,i):bx(n.event,i)}catch{r="<unknown>"}r.length!==0&&Po().addBreadcrumb({category:"ui."+n.name,message:r},{event:n.event,name:n.name,global:n.global})}return e}function D0e(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:nme(t.level),message:zV(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message="Assertion failed: "+(zV(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1);else return;Po().addBreadcrumb(e,{input:t.args,level:t.level})}function N0e(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,s=e.body;Po().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:s});return}}function B0e(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?Po().addBreadcrumb({category:"fetch",data:t.fetchData,level:Ef.Error,type:"http"},{data:t.error,input:t.args}):Po().addBreadcrumb({category:"fetch",data:ls(ls({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response}))}function $0e(t){var e=Li(),n=t.from,r=t.to,i=mN(e.location.href),s=mN(n),o=mN(r);s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),Po().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var F0e="cause",U0e=5,H0e=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||F0e,this._limit=e.limit||U0e}return t.prototype.setupOnce=function(){KH(function(e,n){var r=Po().getIntegration(t);return r?j0e(r._key,r._limit,e,n):e})},t.id="LinkedErrors",t}();function j0e(t,e,n,r){if(!n.exception||!n.exception.values||!r||!Mf(r.originalException,Error))return n;var i=Pte(e,r.originalException,t);return n.exception.values=ete(i,n.exception.values),n}function Pte(t,e,n,r){if(r===void 0&&(r=[]),!Mf(e[n],Error)||r.length+1>=t)return r;var i=Cte(e[n]);return Pte(t,e[n],n,ete([i],r))}var Q0=Li(),K0e=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){KH(function(e){if(Po().getIntegration(t)){if(!Q0.navigator&&!Q0.location&&!Q0.document)return e;var n=e.request&&e.request.url||Q0.location&&Q0.location.href,r=(Q0.document||{}).referrer,i=(Q0.navigator||{}).userAgent,s=ls(ls(ls({},e.request&&e.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),o=ls(ls({},n&&{url:n}),{headers:s});return ls(ls({},e),{request:o})}return e})},t.id="UserAgent",t}(),z0e=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e(function(r){var i=n().getIntegration(t);if(i){try{if(q0e(r,i._previousEvent))return lu&&An.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=r}return i._previousEvent=r}return r})},t.id="Dedupe",t}();function q0e(t,e){return e?!!(V0e(t,e)||G0e(t,e)):!1}function V0e(t,e){var n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Nte(t,e)||!Dte(t,e))}function G0e(t,e){var n=aG(e),r=aG(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Nte(t,e)||!Dte(t,e))}function Dte(t,e){var n=lG(t),r=lG(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(var i=0;i<r.length;i++){var s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function Nte(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function aG(t){return t.exception&&t.exception.values&&t.exception.values[0]}function lG(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}else if(t.stacktrace)return t.stacktrace.frames}var W0e=function(t){_M(e,t);function e(n){n===void 0&&(n={});var r=this;return n._metadata=n._metadata||{},n._metadata.sdk=n._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:uR}],version:uR},r=t.call(this,w0e,n)||this,r}return e.prototype.showReportDialog=function(n){n===void 0&&(n={});var r=Li().document;if(!!r){if(!this._isEnabled()){lu&&An.error("Trying to call showReportDialog with Sentry Client disabled");return}S0e(ls(ls({},n),{dsn:n.dsn||this.getDsn()}))}},e.prototype._prepareEvent=function(n,r,i){return n.platform=n.platform||"javascript",t.prototype._prepareEvent.call(this,n,r,i)},e.prototype._sendEvent=function(n){var r=this.getIntegration(Ate);r&&r.addSentryBreadcrumb(n),t.prototype._sendEvent.call(this,n)},e}(Eme),Y0e=[new Ame,new Ome,new M0e,new Ate,new ZH,new H0e,new z0e,new K0e];function X0e(t){if(t===void 0&&(t={}),t.defaultIntegrations===void 0&&(t.defaultIntegrations=Y0e),t.release===void 0){var e=Li();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0),Rme(W0e,t),t.autoSessionTracking&&J0e()}function Z0e(t){t===void 0&&(t={});var e=Po(),n=e.getScope();n&&(t.user=ls(ls({},n.getUser()),t.user)),t.eventId||(t.eventId=e.lastEventId());var r=e.getClient();r&&r.showReportDialog(t)}function cG(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function J0e(){var t=Li(),e=t.document;if(typeof e=="undefined"){lu&&An.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var n=Po();!n.captureSession||(cG(n),Rc("history",function(r){var i=r.from,s=r.to;i===void 0||i===s||cG(Po())}))}function Q0e(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:uR}],version:uR},X0e(t)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gF=function(t,e){return gF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gF(t,e)};function eye(t,e){gF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var kx=function(){return kx=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kx.apply(this,arguments)},Bte={exports:{}},zi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=typeof Symbol=="function"&&Symbol.for,JH=Zo?Symbol.for("react.element"):60103,QH=Zo?Symbol.for("react.portal"):60106,RM=Zo?Symbol.for("react.fragment"):60107,MM=Zo?Symbol.for("react.strict_mode"):60108,OM=Zo?Symbol.for("react.profiler"):60114,LM=Zo?Symbol.for("react.provider"):60109,AM=Zo?Symbol.for("react.context"):60110,ej=Zo?Symbol.for("react.async_mode"):60111,PM=Zo?Symbol.for("react.concurrent_mode"):60111,DM=Zo?Symbol.for("react.forward_ref"):60112,NM=Zo?Symbol.for("react.suspense"):60113,tye=Zo?Symbol.for("react.suspense_list"):60120,BM=Zo?Symbol.for("react.memo"):60115,$M=Zo?Symbol.for("react.lazy"):60116,nye=Zo?Symbol.for("react.block"):60121,rye=Zo?Symbol.for("react.fundamental"):60117,iye=Zo?Symbol.for("react.responder"):60118,sye=Zo?Symbol.for("react.scope"):60119;function $c(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JH:switch(t=t.type,t){case ej:case PM:case RM:case OM:case MM:case NM:return t;default:switch(t=t&&t.$$typeof,t){case AM:case DM:case $M:case BM:case LM:return t;default:return e}}case QH:return e}}}function $te(t){return $c(t)===PM}zi.AsyncMode=ej;zi.ConcurrentMode=PM;zi.ContextConsumer=AM;zi.ContextProvider=LM;zi.Element=JH;zi.ForwardRef=DM;zi.Fragment=RM;zi.Lazy=$M;zi.Memo=BM;zi.Portal=QH;zi.Profiler=OM;zi.StrictMode=MM;zi.Suspense=NM;zi.isAsyncMode=function(t){return $te(t)||$c(t)===ej};zi.isConcurrentMode=$te;zi.isContextConsumer=function(t){return $c(t)===AM};zi.isContextProvider=function(t){return $c(t)===LM};zi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JH};zi.isForwardRef=function(t){return $c(t)===DM};zi.isFragment=function(t){return $c(t)===RM};zi.isLazy=function(t){return $c(t)===$M};zi.isMemo=function(t){return $c(t)===BM};zi.isPortal=function(t){return $c(t)===QH};zi.isProfiler=function(t){return $c(t)===OM};zi.isStrictMode=function(t){return $c(t)===MM};zi.isSuspense=function(t){return $c(t)===NM};zi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===RM||t===PM||t===OM||t===MM||t===NM||t===tye||typeof t=="object"&&t!==null&&(t.$$typeof===$M||t.$$typeof===BM||t.$$typeof===LM||t.$$typeof===AM||t.$$typeof===DM||t.$$typeof===rye||t.$$typeof===iye||t.$$typeof===sye||t.$$typeof===nye)};zi.typeOf=$c;Bte.exports=zi;var tj=Bte.exports,oye={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aye={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lye={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fte={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nj={};nj[tj.ForwardRef]=lye;nj[tj.Memo]=Fte;function uG(t){return tj.isMemo(t)?Fte:nj[t.$$typeof]||oye}var cye=Object.defineProperty,uye=Object.getOwnPropertyNames,dG=Object.getOwnPropertySymbols,dye=Object.getOwnPropertyDescriptor,fye=Object.getPrototypeOf,fG=Object.prototype;function Ute(t,e,n){if(typeof e!="string"){if(fG){var r=fye(e);r&&r!==fG&&Ute(t,r,n)}var i=uye(e);dG&&(i=i.concat(dG(e)));for(var s=uG(t),o=uG(e),l=0;l<i.length;++l){var d=i[l];if(!aye[d]&&!(n&&n[d])&&!(o&&o[d])&&!(s&&s[d])){var h=dye(e,d);try{cye(t,d,h)}catch{}}}}return t}var hye=Ute,pye=typeof __SENTRY_DEBUG__=="undefined"?!0:__SENTRY_DEBUG__;function gye(t){var e=t.match(/^([^.]+)/);return e!==null&&parseInt(e[0])>=17}var hG={componentStack:null,error:null,eventId:null},mye=function(t){eye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state=hG,n.resetErrorBoundary=function(){var r=n.props.onReset,i=n.state,s=i.error,o=i.componentStack,l=i.eventId;r&&r(s,o,l),n.setState(hG)},n}return e.prototype.componentDidCatch=function(n,r){var i=this,s=r.componentStack,o=this.props,l=o.beforeCapture,d=o.onError,h=o.showDialog,f=o.dialogOptions;vte(function(v){if(gye(ee.exports.version)){var w=new Error(n.message);w.name="React ErrorBoundary "+w.name,w.stack=s,n.cause=w}l&&l(v,n,s);var E=xx(n,{contexts:{react:{componentStack:s}}});d&&d(n,s,E),h&&Z0e(kx(kx({},f),{eventId:E})),i.setState({error:n,componentStack:s,eventId:E})})},e.prototype.componentDidMount=function(){var n=this.props.onMount;n&&n()},e.prototype.componentWillUnmount=function(){var n=this.state,r=n.error,i=n.componentStack,s=n.eventId,o=this.props.onUnmount;o&&o(r,i,s)},e.prototype.render=function(){var n=this.props,r=n.fallback,i=n.children,s=this.state,o=s.error,l=s.componentStack,d=s.eventId;if(o){var h=void 0;return typeof r=="function"?h=r({error:o,componentStack:l,resetError:this.resetErrorBoundary,eventId:d}):h=r,ee.exports.isValidElement(h)?h:(r&&pye&&An.warn("fallback did not produce a valid ReactElement"),null)}return typeof i=="function"?i():i},e}(ee.exports.Component),wN=Li(),l3;function yye(t,e,n){return vye(t,"react-router-v5",e,n)}function vye(t,e,n,r){n===void 0&&(n=[]);function i(){if(t&&t.location)return t.location.pathname;if(wN&&wN.location)return wN.location.pathname}function s(o){if(n.length===0||!r)return o;for(var l=Hte(n,o,r),d=0;d<l.length;d++)if(l[d].match.isExact)return l[d].match.path;return o}return function(o,l,d){l===void 0&&(l=!0),d===void 0&&(d=!0);var h=i();l&&h&&(l3=o({name:s(h),op:"pageload",tags:{"routing.instrumentation":e}})),d&&t.listen&&t.listen(function(f,v){if(v&&(v==="PUSH"||v==="POP")){l3&&l3.finish();var w={"routing.instrumentation":e};l3=o({name:s(f.pathname),op:"navigation",tags:w})}})}}function Hte(t,e,n,r){return r===void 0&&(r=[]),t.some(function(i){var s=i.path?n(e,i):r.length?r[r.length-1].match:bye(e);return s&&(r.push({route:i,match:s}),i.routes&&Hte(i.routes,e,n,r)),!!s}),r}function bye(t){return{path:"/",url:"/",params:{},isExact:t==="/"}}function _ye(t){var e=t.displayName||t.name,n=function(r){return l3&&r&&r.computedMatch&&r.computedMatch.isExact&&l3.setName(r.computedMatch.path),ee.exports.createElement(t,kx({},r))};return n.displayName="sentryRoute("+e+")",hye(n,t),n}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mF=function(t,e){return mF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},mF(t,e)};function rj(t,e){mF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ei=function(){return Ei=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ei.apply(this,arguments)};function wye(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Eye(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sye(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function jte(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sye(arguments[e]));return t}var Pr=typeof __SENTRY_DEBUG__=="undefined"?!0:__SENTRY_DEBUG__;function ij(t){var e=Po().getClient(),n=t||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function FM(t){var e=t||Po(),n=e.getScope();return n&&n.getTransaction()}function Vo(t){return t/1e3}function xye(t){return t*1e3}function kye(){Rc("error",pG),Rc("unhandledrejection",pG)}function pG(){var t=FM();if(t){var e="internal_error";Pr&&An.log("[Tracing] Transaction: "+e+" -> Global error occured"),t.setStatus(e)}}var yF="finishReason",vF=["heartbeatFailed","idleTimeout","documentHidden"],Kte=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}(),Tye=function(){function t(e){if(this.traceId=Lg(),this.spanId=Lg().substring(16),this.startTimestamp=Sx(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var n=new t(Ei(Ei({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(e,n){var r;return this.tags=Ei(Ei({},this.tags),(r={},r[e]=n,r)),this},t.prototype.setData=function(e,n){var r;return this.data=Ei(Ei({},this.data),(r={},r[e]=n,r)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var n=Cye(e);return n!=="unknown_error"&&this.setStatus(n),this},t.prototype.isSuccess=function(){return this.status==="ok"},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:Sx()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return Ry({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var n,r,i,s,o;return this.data=(n=e.data,n!=null?n:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(r=e.spanId,r!=null?r:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(o=e.traceId,o!=null?o:this.traceId),this},t.prototype.getTraceContext=function(){return Ry({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Ry({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();function Cye(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var zte=function(t){rj(e,t);function e(n,r){var i=t.call(this,n)||this;return i._measurements={},i._hub=Po(),Mf(r,CM)&&(i._hub=r),i.name=n.name||"",i.metadata=n.metadata||{},i._trimEnd=n.trimEnd,i.transaction=i,i}return e.prototype.setName=function(n){this.name=n},e.prototype.initSpanRecorder=function(n){n===void 0&&(n=1e3),this.spanRecorder||(this.spanRecorder=new Kte(n)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(n){this._measurements=Ei({},n)},e.prototype.setMetadata=function(n){this.metadata=Ei(Ei({},this.metadata),n)},e.prototype.finish=function(n){var r=this;if(this.endTimestamp===void 0){if(this.name||(Pr&&An.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,n),this.sampled!==!0){Pr&&An.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var i=this._hub.getClient(),s=i&&i.getTransport&&i.getTransport();s&&s.recordLostEvent&&s.recordLostEvent("sample_rate","transaction");return}var o=this.spanRecorder?this.spanRecorder.spans.filter(function(h){return h!==r&&h.endTimestamp}):[];this._trimEnd&&o.length>0&&(this.endTimestamp=o.reduce(function(h,f){return h.endTimestamp&&f.endTimestamp?h.endTimestamp>f.endTimestamp?h:f:h}).endTimestamp);var l={contexts:{trace:this.getTraceContext()},spans:o,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},d=Object.keys(this._measurements).length>0;return d&&(Pr&&An.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),Pr&&An.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(l)}},e.prototype.toContext=function(){var n=t.prototype.toContext.call(this);return Ry(Ei(Ei({},n),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(n){var r;return t.prototype.updateWithContext.call(this,n),this.name=(r=n.name,r!=null?r:""),this._trimEnd=n.trimEnd,this},e}(Tye),qte=1e3,Iye=5e3,Rye=function(t){rj(e,t);function e(n,r,i,s){i===void 0&&(i="");var o=t.call(this,s)||this;return o._pushActivity=n,o._popActivity=r,o.transactionSpanId=i,o}return e.prototype.add=function(n){var r=this;n.spanId!==this.transactionSpanId&&(n.finish=function(i){n.endTimestamp=typeof i=="number"?i:Sx(),r._popActivity(n.spanId)},n.endTimestamp===void 0&&this._pushActivity(n.spanId)),t.prototype.add.call(this,n)},e}(Kte),Mye=function(t){rj(e,t);function e(n,r,i,s){i===void 0&&(i=qte),s===void 0&&(s=!1);var o=t.call(this,n,r)||this;return o._idleHub=r,o._idleTimeout=i,o._onScope=s,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],r&&s&&(gG(r),Pr&&An.log("Setting idle transaction on scope. Span ID: "+o.spanId),r.configureScope(function(l){return l.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return e.prototype.finish=function(n){var r,i,s=this;if(n===void 0&&(n=Sx()),this._finished=!0,this.activities={},this.spanRecorder){Pr&&An.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);try{for(var o=Eye(this._beforeFinishCallbacks),l=o.next();!l.done;l=o.next()){var d=l.value;d(this,n)}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(h){if(h.spanId===s.spanId)return!0;h.endTimestamp||(h.endTimestamp=n,h.setStatus("cancelled"),Pr&&An.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(h,void 0,2)));var f=h.startTimestamp<n;return f||Pr&&An.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(h,void 0,2)),f}),Pr&&An.log("[Tracing] flushing IdleTransaction")}else Pr&&An.log("[Tracing] No active IdleTransaction");return this._onScope&&gG(this._idleHub),t.prototype.finish.call(this,n)},e.prototype.registerBeforeFinishCallback=function(n){this._beforeFinishCallbacks.push(n)},e.prototype.initSpanRecorder=function(n){var r=this;if(!this.spanRecorder){var i=function(o){r._finished||r._pushActivity(o)},s=function(o){r._finished||r._popActivity(o)};this.spanRecorder=new Rye(i,s,this.spanId,n),Pr&&An.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(n){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),Pr&&An.log("[Tracing] pushActivity: "+n),this.activities[n]=!0,Pr&&An.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(n){var r=this;if(this.activities[n]&&(Pr&&An.log("[Tracing] popActivity "+n),delete this.activities[n],Pr&&An.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=Sx()+i/1e3;setTimeout(function(){r._finished||(r.setTag(yF,vF[1]),r.finish(s))},i)}},e.prototype._beat=function(){if(!this._finished){var n=Object.keys(this.activities).join("");n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(Pr&&An.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(yF,vF[0]),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var n=this;Pr&&An.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout(function(){n._beat()},Iye)},e}(zte);function gG(t){if(t){var e=t.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}}function Oye(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Vte(t,e,n){if(!ij(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:"explicitly_set"}}),t;var r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):n.parentSampled!==void 0?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:"inheritance"}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),Lye(r)?r?(t.sampled=Math.random()<r,t.sampled?(Pr&&An.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Pr&&An.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(Pr&&An.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Pr&&An.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Lye(t){return rte(t)||!(typeof t=="number"||typeof t=="boolean")?(Pr&&An.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(Pr&&An.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}function Aye(t,e){var n=this.getClient(),r=n&&n.getOptions()||{},i=new zte(t,this);return i=Vte(i,r,Ei({parentSampled:t.parentSampled,transactionContext:t},e)),i.sampled&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),i}function Pye(t,e,n,r,i){var s=t.getClient(),o=s&&s.getOptions()||{},l=new Mye(e,t,n,r);return l=Vte(l,o,Ei({parentSampled:e.parentSampled,transactionContext:e},i)),l.sampled&&l.initSpanRecorder(o._experiments&&o._experiments.maxSpans),l}function Dye(){var t=Tw();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Aye),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=Oye))}function Nye(){var t=Tw();if(!!t.__SENTRY__){var e={mongodb:function(){var r=yg(fp,"./integrations/node/mongo");return new r.Mongo},mongoose:function(){var r=yg(fp,"./integrations/node/mongo");return new r.Mongo({mongoose:!0})},mysql:function(){var r=yg(fp,"./integrations/node/mysql");return new r.Mysql},pg:function(){var r=yg(fp,"./integrations/node/postgres");return new r.Postgres}},n=Object.keys(e).filter(function(r){return!!uge(r)}).map(function(r){try{return e[r]()}catch{return}}).filter(function(r){return r});n.length>0&&(t.__SENTRY__.integrations=jte(t.__SENTRY__.integrations||[],n))}}function Bye(){Dye(),c8()&&Nye(),kye()}var iC=Li();function $ye(){iC&&iC.document?iC.document.addEventListener("visibilitychange",function(){var t=FM();if(iC.document.hidden&&t){var e="cancelled";Pr&&An.log("[Tracing] Transaction: "+e+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.setTag(yF,vF[2]),t.finish()}}):Pr&&An.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var sj=function(t,e,n){var r;return function(i){e.value>=0&&(i||n)&&(e.delta=e.value-(r||0),(e.delta||r===void 0)&&(r=e.value,t(e)))}},Fye=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},oj=function(t,e){return{name:t,value:e!=null?e:-1,delta:0,entries:[],id:Fye()}},aj=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if(t==="first-input"&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(r){return r.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch{}},UM=function(t,e){var n=function(r){(r.type==="pagehide"||Li().document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Uye=function(t,e){var n=oj("CLS",0),r,i=0,s=[],o=function(d){if(d&&!d.hadRecentInput){var h=s[0],f=s[s.length-1];i&&s.length!==0&&d.startTime-f.startTime<1e3&&d.startTime-h.startTime<5e3?(i+=d.value,s.push(d)):(i=d.value,s=[d]),i>n.value&&(n.value=i,n.entries=s,r&&r())}},l=aj("layout-shift",o);l&&(r=sj(t,n,e),UM(function(){l.takeRecords().map(o),r(!0)}))},cI=-1,Hye=function(){return Li().document.visibilityState==="hidden"?0:1/0},jye=function(){UM(function(t){var e=t.timeStamp;cI=e},!0)},lj=function(){return cI<0&&(cI=Hye(),jye()),{get firstHiddenTime(){return cI}}},Kye=function(t,e){var n=lj(),r=oj("FID"),i,s=function(l){i&&l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=aj("first-input",s);o&&(i=sj(t,r,e),UM(function(){o.takeRecords().map(s),o.disconnect()},!0))},mG={},zye=function(t,e){var n=lj(),r=oj("LCP"),i,s=function(d){var h=d.startTime;h<n.firstHiddenTime&&(r.value=h,r.entries.push(d)),i&&i()},o=aj("largest-contentful-paint",s);if(o){i=sj(t,r,e);var l=function(){mG[r.id]||(o.takeRecords().map(s),o.disconnect(),mG[r.id]=!0,i(!0))};["keydown","click"].forEach(function(d){addEventListener(d,l,{once:!0,capture:!0})}),UM(l,!0)}},Yu=Li(),qye=function(){function t(e){e===void 0&&(e=!1),this._reportAllChanges=e,this._measurements={},this._performanceCursor=0,!c8()&&Yu&&Yu.performance&&Yu.document&&(Yu.performance.mark&&Yu.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(e){var n=this;if(!(!Yu||!Yu.performance||!Yu.performance.getEntries||!DE)){Pr&&An.log("[Tracing] Adding & adjusting spans using Performance API");var r=Vo(DE),i,s;if(Yu.performance.getEntries().slice(this._performanceCursor).forEach(function(l){var d=Vo(l.startTime),h=Vo(l.duration);if(!(e.op==="navigation"&&r+d<e.startTimestamp))switch(l.entryType){case"navigation":{Vye(e,l,r),i=r+Vo(l.responseStart),s=r+Vo(l.requestStart);break}case"mark":case"paint":case"measure":{var f=Gye(e,l,d,h,r),v=lj(),w=l.startTime<v.firstHiddenTime;l.name==="first-paint"&&w&&(Pr&&An.log("[Measurements] Adding FP"),n._measurements.fp={value:l.startTime},n._measurements["mark.fp"]={value:f}),l.name==="first-contentful-paint"&&w&&(Pr&&An.log("[Measurements] Adding FCP"),n._measurements.fcp={value:l.startTime},n._measurements["mark.fcp"]={value:f});break}case"resource":{var E=l.name.replace(Yu.location.origin,"");Wye(e,l,E,d,h,r);break}}}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var o=Vo(DE);typeof i=="number"&&(Pr&&An.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(i-e.startTimestamp)*1e3},typeof s=="number"&&s<=i&&(this._measurements["ttfb.requestTime"]={value:(i-s)*1e3})),["fcp","fp","lcp"].forEach(function(l){if(!(!n._measurements[l]||o>=e.startTimestamp)){var d=n._measurements[l].value,h=o+Vo(d),f=Math.abs((h-e.startTimestamp)*1e3),v=f-d;Pr&&An.log("[Measurements] Normalized "+l+" from "+d+" to "+f+" ("+v+")"),n._measurements[l].value=f}}),this._measurements["mark.fid"]&&this._measurements.fid&&J3(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Vo(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,e.setMeasurements(this._measurements),Xye(e,this._lcpEntry,this._clsEntry),e.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(e){var n=Yu.navigator;if(!!n){var r=n.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),oC(r.rtt)&&(this._measurements["connection.rtt"]={value:r.rtt}),oC(r.downlink)&&(this._measurements["connection.downlink"]={value:r.downlink})),oC(n.deviceMemory)&&e.setTag("deviceMemory",String(n.deviceMemory)),oC(n.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(n.hardwareConcurrency))}},t.prototype._trackCLS=function(){var e=this;Uye(function(n){var r=n.entries.pop();!r||(Pr&&An.log("[Measurements] Adding CLS"),e._measurements.cls={value:n.value},e._clsEntry=r)})},t.prototype._trackLCP=function(){var e=this;zye(function(n){var r=n.entries.pop();if(!!r){var i=Vo(DE),s=Vo(r.startTime);Pr&&An.log("[Measurements] Adding LCP"),e._measurements.lcp={value:n.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=r}},this._reportAllChanges)},t.prototype._trackFID=function(){var e=this;Kye(function(n){var r=n.entries.pop();if(!!r){var i=Vo(DE),s=Vo(r.startTime);Pr&&An.log("[Measurements] Adding FID"),e._measurements.fid={value:n.value},e._measurements["mark.fid"]={value:i+s}}})},t}();function Vye(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(function(r){sC(t,e,r,n)}),sC(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),sC(t,e,"fetch",n,"cache","domainLookupStart"),sC(t,e,"domainLookup",n,"DNS"),Yye(t,e,n)}function Gye(t,e,n,r,i){var s=i+n,o=s+r;return J3(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}function Wye(t,e,n,r,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var l=s+r,d=l+i;J3(t,{description:n,endTimestamp:d,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:l,data:o})}}function sC(t,e,n,r,i,s){var o=s?e[s]:e[n+"End"],l=e[n+"Start"];!l||!o||J3(t,{op:"browser",description:i!=null?i:n,startTimestamp:r+Vo(l),endTimestamp:r+Vo(o)})}function Yye(t,e,n){J3(t,{op:"browser",description:"request",startTimestamp:n+Vo(e.requestStart),endTimestamp:n+Vo(e.responseEnd)}),J3(t,{op:"browser",description:"response",startTimestamp:n+Vo(e.responseStart),endTimestamp:n+Vo(e.responseEnd)})}function J3(t,e){var n=e.startTimestamp,r=wye(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Ei({startTimestamp:n},r))}function oC(t){return typeof t=="number"&&isFinite(t)}function Xye(t,e,n){e&&(Pr&&An.log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",bx(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size)),n&&n.sources&&(Pr&&An.log("[Measurements] Adding CLS Data"),n.sources.forEach(function(r,i){return t.setTag("cls.source."+(i+1),bx(r.node))}))}var Zye=["localhost",/^\//],fR={traceFetch:!0,traceXHR:!0,tracingOrigins:Zye};function Jye(t){var e=Ei(Ei({},fR),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,o={},l=function(f){if(o[f])return o[f];var v=i;return o[f]=v.some(function(w){return _x(f,w)})&&!_x(f,"sentry_key"),o[f]},d=l;typeof s=="function"&&(d=function(f){return l(f)&&s(f)});var h={};n&&Rc("fetch",function(f){Qye(f,d,h)}),r&&Rc("xhr",function(f){eve(f,d,h)})}function Qye(t,e,n){if(!(!ij()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp){var r=t.fetchData.__span;if(!r)return;var i=n[r];i&&(t.response?i.setHttpStatus(t.response.status):t.error&&i.setStatus("internal_error"),i.finish(),delete n[r]);return}var s=FM();if(s){var i=s.startChild({data:Ei(Ei({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=i.spanId,n[i.spanId]=i;var o=t.args[0]=t.args[0],l=t.args[1]=t.args[1]||{},d=l.headers;Mf(o,Request)&&(d=o.headers),d?typeof d.append=="function"?d.append("sentry-trace",i.toTraceparent()):Array.isArray(d)?d=jte(d,[["sentry-trace",i.toTraceparent()]]):d=Ei(Ei({},d),{"sentry-trace":i.toTraceparent()}):d={"sentry-trace":i.toTraceparent()},l.headers=d}}}function eve(t,e,n){if(!(!ij()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))){var r=t.xhr.__sentry_xhr__;if(t.endTimestamp){var i=t.xhr.__sentry_xhr_span_id__;if(!i)return;var s=n[i];s&&(s.setHttpStatus(r.status_code),s.finish(),delete n[i]);return}var o=FM();if(o){var s=o.startChild({data:Ei(Ei({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,n[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch{}}}}var NE=Li();function tve(t,e,n){if(e===void 0&&(e=!0),n===void 0&&(n=!0),!NE||!NE.location){Pr&&An.warn("Could not initialize routing instrumentation due to invalid location");return}var r=NE.location.href,i;e&&(i=t({name:NE.location.pathname,op:"pageload"})),n&&Rc("history",function(s){var o=s.to,l=s.from;if(l===void 0&&r&&r.indexOf(o)!==-1){r=void 0;return}l!==o&&(r=void 0,i&&(Pr&&An.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:NE.location.pathname,op:"navigation"}))})}var nve=600,rve=Ei({idleTimeout:qte,markBackgroundTransactions:!0,maxTransactionDuration:nve,routingInstrumentation:tve,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},fR),ive=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=fR.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?n=e.tracingOrigins:Pr&&(this._emitOptionsWarning=!0)),this.options=Ei(Ei(Ei({},rve),e),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new qye(r&&r._reportAllChanges)}return t.prototype.setupOnce=function(e,n){var r=this;this._getCurrentHub=n,this._emitOptionsWarning&&(Pr&&An.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Pr&&An.warn("[Tracing] We added a reasonable default for you: "+fR.tracingOrigins));var i=this.options,s=i.routingInstrumentation,o=i.startTransactionOnLocationChange,l=i.startTransactionOnPageLoad,d=i.markBackgroundTransactions,h=i.traceFetch,f=i.traceXHR,v=i.tracingOrigins,w=i.shouldCreateSpanForRequest;s(function(E){return r._createRouteTransaction(E)},l,o),d&&$ye(),Jye({traceFetch:h,traceXHR:f,tracingOrigins:v,shouldCreateSpanForRequest:w})},t.prototype._createRouteTransaction=function(e){var n=this;if(!this._getCurrentHub){Pr&&An.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var r=this.options,i=r.beforeNavigate,s=r.idleTimeout,o=r.maxTransactionDuration,l=e.op==="pageload"?sve():void 0,d=Ei(Ei(Ei({},e),l),{trimEnd:!0}),h=typeof i=="function"?i(d):d,f=h===void 0?Ei(Ei({},d),{sampled:!1}):h;f.sampled===!1&&Pr&&An.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),Pr&&An.log("[Tracing] Starting "+f.op+" transaction on scope");var v=this._getCurrentHub(),w=Li().location,E=Pye(v,f,s,!0,{location:w});return E.registerBeforeFinishCallback(function(C,O){n._metrics.addPerformanceEntries(C),ave(xye(o),C,O)}),E.setTag("idleTimeout",this._configuredIdleTimeout),E},t.id="BrowserTracing",t}();function sve(){var t=ove("sentry-trace");if(t)return ome(t)}function ove(t){var e=Li().document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}function ave(t,e,n){var r=n-e.startTimestamp,i=n&&(r>t||r<0);i&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}Bye();function Ag(t){return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function Of(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lf(t,e,n){return e&&yG(t.prototype,e),n&&yG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bF(t,e){return bF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bF(t,e)}function HM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bF(t,e)}function f8(t,e){if(e&&(Ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pg(t)}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(t)}function em(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){if(Array.isArray(t))return t}function cve(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uve(t,e){if(!!t){if(typeof t=="string")return vG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vG(t,e)}}function dve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(t){return lve(t)||cve(t)||uve(t)||dve()}function bG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bG(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hve={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},pve=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Of(this,t),this.init(e,n)}return Lf(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||hve,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,_G(_G({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),vf=new pve,Yg=function(){function t(){Of(this,t),this.observers={}}return Lf(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(d){d.apply(void 0,i)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(d){d.apply(d,[n].concat(i))})}}}]),t}();function BE(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function wG(t){return t==null?"":""+t}function gve(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function cj(t,e,n){function r(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function EG(t,e,n){var r=cj(t,e,Object),i=r.obj,s=r.k;i[s]=n}function mve(t,e,n,r){var i=cj(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],r&&(s[o]=s[o].concat(n)),r||s[o].push(n)}function hR(t,e){var n=cj(t,e),r=n.obj,i=n.k;if(!!r)return r[i]}function SG(t,e,n){var r=hR(t,n);return r!==void 0?r:hR(e,n)}function Gte(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Gte(t[r],e[r],n):t[r]=e[r]);return t}function E_(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var yve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function vve(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return yve[e]}):t}var jM=typeof window!="undefined"&&window.navigator&&typeof window.navigator.userAgentData=="undefined"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,bve=[" ",",","?","!",";"];function _ve(t,e,n){e=e||"",n=n||"";var r=bve.filter(function(l){return e.indexOf(l)<0&&n.indexOf(l)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(l){return l==="?"?"\\?":l}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function xG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xG(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wve(t){var e=Eve();return function(){var r=Sf(t),i;if(e){var s=Sf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return f8(this,i)}}function Eve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wte(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var o=2,l=r.slice(s,s+o).join(n),d=i[l];d===void 0&&r.length>s+o;)o++,l=r.slice(s,s+o).join(n),d=i[l];if(d===void 0)return;if(d===null)return null;if(e.endsWith(l)){if(typeof d=="string")return d;if(l&&typeof d[l]=="string")return d[l]}var h=r.slice(s+o).join(n);return h?Wte(d,h,n):void 0}i=i[r[s]]}return i}}var Sve=function(t){HM(n,t);var e=wve(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Of(this,n),i=e.call(this),jM&&Yg.call(Pg(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Lf(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,h=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];o&&typeof o!="string"&&(f=f.concat(o)),o&&typeof o=="string"&&(f=f.concat(d?o.split(d):o)),i.indexOf(".")>-1&&(f=i.split("."));var v=hR(this.data,f);return v||!h||typeof o!="string"?v:Wte(this.data&&this.data[i]&&this.data[i][s],o,d)}},{key:"addResource",value:function(i,s,o,l){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},h=this.options.keySeparator;h===void 0&&(h=".");var f=[i,s];o&&(f=f.concat(h?o.split(h):o)),i.indexOf(".")>-1&&(f=i.split("."),l=s,s=f[1]),this.addNamespaces(s),EG(this.data,f,l),d.silent||this.emit("added",i,s,o,l)}},{key:"addResources",value:function(i,s,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var d in o)(typeof o[d]=="string"||Object.prototype.toString.apply(o[d])==="[object Array]")&&this.addResource(i,s,d,o[d],{silent:!0});l.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,l,d){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),l=o,o=s,s=f[1]),this.addNamespaces(s);var v=hR(this.data,f)||{};l?Gte(v,o,d):v=aC(aC({},v),o),EG(this.data,f,v),h.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?aC(aC({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(l){return s[l]&&Object.keys(s[l]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Yg),Yte={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var o=this;return e.forEach(function(l){o.processors[l]&&(n=o.processors[l].process(n,r,i,s))}),n}};function kG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kG(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xve(t){var e=kve();return function(){var r=Sf(t),i;if(e){var s=Sf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return f8(this,i)}}function kve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TG={},CG=function(t){HM(n,t);var e=xve(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Of(this,n),i=e.call(this),jM&&Yg.call(Pg(i)),gve(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Pg(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=vf.create("translator"),i}return Lf(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,d=s.ns||this.options.defaultNS||[],h=o&&i.indexOf(o)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!_ve(i,o,l);if(h&&!f){var v=i.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:i,namespaces:d};var w=i.split(o);(o!==l||o===l&&this.options.ns.indexOf(w[0])>-1)&&(d=w.shift()),i=w.join(l)}return typeof d=="string"&&(d=[d]),{key:i,namespaces:d}}},{key:"translate",value:function(i,s,o){var l=this;if(Ag(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var d=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,h=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),v=f.key,w=f.namespaces,E=w[w.length-1],C=s.lng||this.language,O=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(C&&C.toLowerCase()==="cimode"){if(O){var M=s.nsSeparator||this.options.nsSeparator;return d?(A.res="".concat(E).concat(M).concat(v),A):"".concat(E).concat(M).concat(v)}return d?(A.res=v,A):v}var A=this.resolve(i,s),D=A&&A.res,U=A&&A.usedKey||v,R=A&&A.exactUsedKey||v,X=Object.prototype.toString.apply(D),H=["[object Number]","[object Function]","[object RegExp]"],K=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,W=!this.i18nFormat||this.i18nFormat.handleAsObject,Z=typeof D!="string"&&typeof D!="boolean"&&typeof D!="number";if(W&&D&&Z&&H.indexOf(X)<0&&!(typeof K=="string"&&X==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var ie=this.options.returnedObjectHandler?this.options.returnedObjectHandler(U,D,yl(yl({},s),{},{ns:w})):"key '".concat(v," (").concat(this.language,")' returned an object instead of string.");return d?(A.res=ie,A):ie}if(h){var se=X==="[object Array]",oe=se?[]:{},Q=se?R:U;for(var ae in D)if(Object.prototype.hasOwnProperty.call(D,ae)){var he="".concat(Q).concat(h).concat(ae);oe[ae]=this.translate(he,yl(yl({},s),{joinArrays:!1,ns:w})),oe[ae]===he&&(oe[ae]=D[ae])}D=oe}}else if(W&&typeof K=="string"&&X==="[object Array]")D=D.join(K),D&&(D=this.extendTranslation(D,i,s,o));else{var Ee=!1,De=!1,qe=s.count!==void 0&&typeof s.count!="string",_e=n.hasDefaultValue(s),xe=qe?this.pluralResolver.getSuffix(C,s.count,s):"",Se=s["defaultValue".concat(xe)]||s.defaultValue;!this.isValidLookup(D)&&_e&&(Ee=!0,D=Se),this.isValidLookup(D)||(De=!0,D=v);var Ie=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ye=Ie&&De?void 0:D,Le=_e&&Se!==D&&this.options.updateMissing;if(De||Ee||Le){if(this.logger.log(Le?"updateKey":"missingKey",C,E,v,Le?Se:D),h){var Nt=this.resolve(v,yl(yl({},s),{},{keySeparator:!1}));Nt&&Nt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var pt=[],ze=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ze&&ze[0])for(var nt=0;nt<ze.length;nt++)pt.push(ze[nt]);else this.options.saveMissingTo==="all"?pt=this.languageUtils.toResolveHierarchy(s.lng||this.language):pt.push(s.lng||this.language);var me=function(Ve,dt,ot){var Ze=_e&&ot!==D?ot:Ye;l.options.missingKeyHandler?l.options.missingKeyHandler(Ve,E,dt,Ze,Le,s):l.backendConnector&&l.backendConnector.saveMissing&&l.backendConnector.saveMissing(Ve,E,dt,Ze,Le,s),l.emit("missingKey",Ve,E,dt,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&qe?pt.forEach(function(ut){l.pluralResolver.getSuffixes(ut,s).forEach(function(Ve){me([ut],v+Ve,s["defaultValue".concat(Ve)]||Se)})}):me(pt,v,Se))}D=this.extendTranslation(D,i,s,A,o),De&&D===v&&this.options.appendNamespaceToMissingKey&&(D="".concat(E,":").concat(v)),(De||Ee)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(E,":").concat(v):v,Ee?D:void 0):D=this.options.parseMissingKeyHandler(D))}return d?(A.res=D,A):D}},{key:"extendTranslation",value:function(i,s,o,l,d){var h=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,yl(yl({},this.options.interpolation.defaultVariables),o),l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(yl(yl({},o),{interpolation:yl(yl({},this.options.interpolation),o.interpolation)}));var f=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),v;if(f){var w=i.match(this.interpolator.nestingRegexp);v=w&&w.length}var E=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(E=yl(yl({},this.options.interpolation.defaultVariables),E)),i=this.interpolator.interpolate(i,E,o.lng||this.language,o),f){var C=i.match(this.interpolator.nestingRegexp),O=C&&C.length;v<O&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var D=arguments.length,U=new Array(D),R=0;R<D;R++)U[R]=arguments[R];return d&&d[0]===U[0]&&!o.context?(h.logger.warn("It seems you are nesting recursively key: ".concat(U[0]," in key: ").concat(s[0])),null):h.translate.apply(h,U.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var M=o.postProcess||this.options.postProcess,A=typeof M=="string"?[M]:M;return i!=null&&A&&A.length&&o.applyPostProcessor!==!1&&(i=Yte.handle(A,i,s,this.options&&this.options.postProcessPassResolved?yl({i18nResolved:l},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,d,h,f,v;return typeof i=="string"&&(i=[i]),i.forEach(function(w){if(!s.isValidLookup(l)){var E=s.extractFromKey(w,o),C=E.key;d=C;var O=E.namespaces;s.options.fallbackNS&&(O=O.concat(s.options.fallbackNS));var M=o.count!==void 0&&typeof o.count!="string",A=M&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),D=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",U=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);O.forEach(function(R){s.isValidLookup(l)||(v=R,!TG["".concat(U[0],"-").concat(R)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(v)&&(TG["".concat(U[0],"-").concat(R)]=!0,s.logger.warn('key "'.concat(d,'" for languages "').concat(U.join(", "),`" won't get resolved as namespace "`).concat(v,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),U.forEach(function(X){if(!s.isValidLookup(l)){f=X;var H=[C];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(H,C,X,R,o);else{var K;M&&(K=s.pluralResolver.getSuffix(X,o.count,o));var W="".concat(s.options.pluralSeparator,"zero");if(M&&(H.push(C+K),A&&H.push(C+W)),D){var Z="".concat(C).concat(s.options.contextSeparator).concat(o.context);H.push(Z),M&&(H.push(Z+K),A&&H.push(Z+W))}}for(var ie;ie=H.pop();)s.isValidLookup(l)||(h=ie,l=s.getResource(X,R,ie,o))}}))})}}),{res:l,usedKey:d,exactUsedKey:h,usedLng:f,usedNS:v}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,l):this.resourceStore.getResource(i,s,o,l)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),n}(Yg);function EN(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Tve=function(){function t(e){Of(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vf.create("languageUtils")}return Lf(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=EN(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=EN(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=EN(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var o=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var o=r.getLanguagePartFromCode(s);if(r.isSupportedCode(o))return i=o;i=r.options.supportedLngs.find(function(l){if(l.indexOf(o)===0)return l})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],l=function(h){!h||(i.isSupportedCode(h)?o.push(h):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(h)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(n))):typeof n=="string"&&l(this.formatLanguageCode(n)),s.forEach(function(d){o.indexOf(d)<0&&l(i.formatLanguageCode(d))}),o}}]),t}(),Cve=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ive={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},Rve=["v1","v2","v3"],IG={zero:0,one:1,two:2,few:3,many:4,other:5};function Mve(){var t={};return Cve.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:Ive[e.fc]}})}),t}var Ove=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Of(this,t),this.languageUtils=e,this.options=n,this.logger=vf.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Mve()}return Lf(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,l){return IG[o]-IG[l]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):s.numbers.map(function(o){return r.getSuffix(n,o,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var l=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?l():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!Rve.includes(this.options.compatibilityJSON)}}]),t}();function RG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RG(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Lve=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Of(this,t),this.logger=vf.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return Lf(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:vve,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?E_(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?E_(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?E_(r.nestingPrefix):r.nestingPrefixEscaped||E_("$t("),this.nestingSuffix=r.nestingSuffix?E_(r.nestingSuffix):r.nestingSuffixEscaped||E_(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var o=this,l,d,h,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function v(M){return M.replace(/\$/g,"$$$$")}var w=function(A){if(A.indexOf(o.formatSeparator)<0){var D=SG(r,f,A);return o.alwaysFormat?o.format(D,void 0,i,Xu(Xu(Xu({},s),r),{},{interpolationkey:A})):D}var U=A.split(o.formatSeparator),R=U.shift().trim(),X=U.join(o.formatSeparator).trim();return o.format(SG(r,f,R),X,i,Xu(Xu(Xu({},s),r),{},{interpolationkey:R}))};this.resetRegExp();var E=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,C=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,O=[{regex:this.regexpUnescape,safeValue:function(A){return v(A)}},{regex:this.regexp,safeValue:function(A){return o.escapeValue?v(o.escape(A)):v(A)}}];return O.forEach(function(M){for(h=0;l=M.regex.exec(n);){var A=l[1].trim();if(d=w(A),d===void 0)if(typeof E=="function"){var D=E(n,l,s);d=typeof D=="string"?D:""}else if(s&&s.hasOwnProperty(A))d="";else if(C){d=l[0];continue}else o.logger.warn("missed to pass in variable ".concat(A," for interpolating ").concat(n)),d="";else typeof d!="string"&&!o.useRawValueToEscape&&(d=wG(d));var U=M.safeValue(d);if(n=n.replace(l[0],U),C?(M.regex.lastIndex+=d.length,M.regex.lastIndex-=l[0].length):M.regex.lastIndex=0,h++,h>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,l,d=Xu({},s);d.applyPostProcessor=!1,delete d.defaultValue;function h(E,C){var O=this.nestingOptionsSeparator;if(E.indexOf(O)<0)return E;var M=E.split(new RegExp("".concat(O,"[ ]*{"))),A="{".concat(M[1]);E=M[0],A=this.interpolate(A,d);var D=A.match(/'/g),U=A.match(/"/g);(D&&D.length%2===0&&!U||U.length%2!==0)&&(A=A.replace(/'/g,'"'));try{d=JSON.parse(A),C&&(d=Xu(Xu({},C),d))}catch(R){return this.logger.warn("failed parsing options string in nesting for key ".concat(E),R),"".concat(E).concat(O).concat(A)}return delete d.defaultValue,E}for(;o=this.nestingRegexp.exec(n);){var f=[],v=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var w=o[1].split(this.formatSeparator).map(function(E){return E.trim()});o[1]=w.shift(),f=w,v=!0}if(l=r(h.call(this,o[1].trim(),d),d),l&&o[0]===n&&typeof l!="string")return l;typeof l!="string"&&(l=wG(l)),l||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),l=""),v&&(l=f.reduce(function(E,C){return i.format(E,C,s.lng,Xu(Xu({},s),{},{interpolationkey:o[1].trim()}))},l.trim())),n=n.replace(o[0],l),this.regexp.lastIndex=0}return n}}]),t}();function MG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MG(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ave(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(!!o){var l=o.split(":"),d=fve(l),h=d[0],f=d.slice(1),v=f.join(":").trim().replace(/^'+|'+$/g,"");n[h.trim()]||(n[h.trim()]=v),v==="false"&&(n[h.trim()]=!1),v==="true"&&(n[h.trim()]=!0),isNaN(v)||(n[h.trim()]=parseInt(v,10))}})}}return{formatName:e,formatOptions:n}}function S_(t){var e={};return function(r,i,s){var o=i+JSON.stringify(s),l=e[o];return l||(l=t(i,s),e[o]=l),l(r)}}var Pve=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Of(this,t),this.logger=vf.create("formatter"),this.options=e,this.formats={number:S_(function(n,r){var i=new Intl.NumberFormat(n,r);return function(s){return i.format(s)}}),currency:S_(function(n,r){var i=new Intl.NumberFormat(n,eg(eg({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:S_(function(n,r){var i=new Intl.DateTimeFormat(n,eg({},r));return function(s){return i.format(s)}}),relativetime:S_(function(n,r){var i=new Intl.RelativeTimeFormat(n,eg({},r));return function(s){return i.format(s,r.range||"day")}}),list:S_(function(n,r){var i=new Intl.ListFormat(n,eg({},r));return function(s){return i.format(s)}})},this.init(e)}return Lf(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=S_(r)}},{key:"format",value:function(n,r,i,s){var o=this,l=r.split(this.formatSeparator),d=l.reduce(function(h,f){var v=Ave(f),w=v.formatName,E=v.formatOptions;if(o.formats[w]){var C=h;try{var O=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},M=O.locale||O.lng||s.locale||s.lng||i;C=o.formats[w](h,M,eg(eg(eg({},E),s),O))}catch(A){o.logger.warn(A)}return C}else o.logger.warn("there was no format function for ".concat(w));return h},n);return d}}]),t}();function OG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OG(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dve(t){var e=Nve();return function(){var r=Sf(t),i;if(e){var s=Sf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return f8(this,i)}}function Nve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bve(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var $ve=function(t){HM(n,t);var e=Dve(n);function n(r,i,s){var o,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Of(this,n),o=e.call(this),jM&&Yg.call(Pg(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=l,o.logger=vf.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=l.maxParallelReads||10,o.readingCalls=0,o.maxRetries=l.maxRetries>=0?l.maxRetries:5,o.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,l.backend,l),o}return Lf(n,[{key:"queueLoad",value:function(i,s,o,l){var d=this,h={},f={},v={},w={};return i.forEach(function(E){var C=!0;s.forEach(function(O){var M="".concat(E,"|").concat(O);!o.reload&&d.store.hasResourceBundle(E,O)?d.state[M]=2:d.state[M]<0||(d.state[M]===1?f[M]===void 0&&(f[M]=!0):(d.state[M]=1,C=!1,f[M]===void 0&&(f[M]=!0),h[M]===void 0&&(h[M]=!0),w[O]===void 0&&(w[O]=!0)))}),C||(v[E]=!0)}),(Object.keys(h).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(h),pending:Object.keys(f),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(w)}}},{key:"loaded",value:function(i,s,o){var l=i.split("|"),d=l[0],h=l[1];s&&this.emit("failedLoading",d,h,s),o&&this.store.addResourceBundle(d,h,o),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(v){mve(v.loaded,[d],h),Bve(v,i),s&&v.errors.push(s),v.pendingCount===0&&!v.done&&(Object.keys(v.loaded).forEach(function(w){f[w]||(f[w]={});var E=v.loaded[w];E.length&&E.forEach(function(C){f[w][C]===void 0&&(f[w][C]=!0)})}),v.done=!0,v.errors.length?v.callback(v.errors):v.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(v){return!v.done})}},{key:"read",value:function(i,s,o){var l=this,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:d,wait:h,callback:f});return}return this.readingCalls++,this.backend[o](i,s,function(v,w){if(l.readingCalls--,l.waitingReads.length>0){var E=l.waitingReads.shift();l.read(E.lng,E.ns,E.fcName,E.tried,E.wait,E.callback)}if(v&&w&&d<l.maxRetries){setTimeout(function(){l.read.call(l,i,s,o,d+1,h*2,f)},h);return}f(v,w)})}},{key:"prepareLoading",value:function(i,s){var o=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var h=this.queueLoad(i,s,l,d);if(!h.toLoad.length)return h.pending.length||d(),null;h.toLoad.forEach(function(f){o.loadOne(f)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=i.split("|"),d=l[0],h=l[1];this.read(d,h,"read",void 0,void 0,function(f,v){f&&s.logger.warn("".concat(o,"loading namespace ").concat(h," for language ").concat(d," failed"),f),!f&&v&&s.logger.log("".concat(o,"loaded namespace ").concat(h," for language ").concat(d),v),s.loaded(i,f,v)})}},{key:"saveMissing",value:function(i,s,o,l,d){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}o==null||o===""||(this.backend&&this.backend.create&&this.backend.create(i,s,o,l,null,LG(LG({},h),{},{isUpdate:d})),!(!i||!i[0])&&this.store.addResource(i[0],s,o,l))}}]),n}(Yg);function Fve(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Ag(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Ag(e[2])==="object"||Ag(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function AG(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function PG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PG(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uve(t){var e=Hve();return function(){var r=Sf(t),i;if(e){var s=Sf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return f8(this,i)}}function Hve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lC(){}function jve(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var pR=function(t){HM(n,t);var e=Uve(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Of(this,n),r=e.call(this),jM&&Yg.call(Pg(r)),r.options=AG(i),r.services={},r.logger=vf,r.modules={external:[]},jve(Pg(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),f8(r,Pg(r));setTimeout(function(){r.init(i,s)},0)}return r}return Lf(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var l=Fve();this.options=Qd(Qd(Qd({},l),this.options),AG(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Qd(Qd({},l.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function d(A){return A?typeof A=="function"?new A:A:null}if(!this.options.isClone){this.modules.logger?vf.init(d(this.modules.logger),this.options):vf.init(null,this.options);var h;this.modules.formatter?h=this.modules.formatter:typeof Intl!="undefined"&&(h=Pve);var f=new Tve(this.options);this.store=new Sve(this.options.resources,this.options);var v=this.services;v.logger=vf,v.resourceStore=this.store,v.languageUtils=f,v.pluralResolver=new Ove(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(v.formatter=d(h),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Lve(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new $ve(d(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(A){for(var D=arguments.length,U=new Array(D>1?D-1:0),R=1;R<D;R++)U[R-1]=arguments[R];i.emit.apply(i,[A].concat(U))}),this.modules.languageDetector&&(v.languageDetector=d(this.modules.languageDetector),v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=d(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new CG(this.services,this.options),this.translator.on("*",function(A){for(var D=arguments.length,U=new Array(D>1?D-1:0),R=1;R<D;R++)U[R-1]=arguments[R];i.emit.apply(i,[A].concat(U))}),this.modules.external.forEach(function(A){A.init&&A.init(i)})}if(this.format=this.options.interpolation.format,o||(o=lC),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var w=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);w.length>0&&w[0]!=="dev"&&(this.options.lng=w[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var E=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];E.forEach(function(A){i[A]=function(){var D;return(D=i.store)[A].apply(D,arguments)}});var C=["addResource","addResources","addResourceBundle","removeResourceBundle"];C.forEach(function(A){i[A]=function(){var D;return(D=i.store)[A].apply(D,arguments),i}});var O=BE(),M=function(){var D=function(R,X){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),O.resolve(X),o(R,X)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return D(null,i.t.bind(i));i.changeLanguage(i.options.lng,D)};return this.options.resources||!this.options.initImmediate?M():setTimeout(M,0),O}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lC,l=o,d=typeof i=="string"?i:this.language;if(typeof i=="function"&&(l=i),!this.options.resources||this.options.partialBundledLanguages){if(d&&d.toLowerCase()==="cimode")return l();var h=[],f=function(E){if(!!E){var C=s.services.languageUtils.toResolveHierarchy(E);C.forEach(function(O){h.indexOf(O)<0&&h.push(O)})}};if(d)f(d);else{var v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.forEach(function(w){return f(w)})}this.options.preload&&this.options.preload.forEach(function(w){return f(w)}),this.services.backendConnector.load(h,this.options.ns,function(w){!w&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),l(w)})}else l(null)}},{key:"reloadResources",value:function(i,s,o){var l=BE();return i||(i=this.languages),s||(s=this.options.ns),o||(o=lC),this.services.backendConnector.reload(i,s,function(d){l.resolve(),o(d)}),l}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&Yte.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var l=BE();this.emit("languageChanging",i);var d=function(w){o.language=w,o.languages=o.services.languageUtils.toResolveHierarchy(w),o.resolvedLanguage=void 0,o.setResolvedLanguage(w)},h=function(w,E){E?(d(E),o.translator.changeLanguage(E),o.isLanguageChangingTo=void 0,o.emit("languageChanged",E),o.logger.log("languageChanged",E)):o.isLanguageChangingTo=void 0,l.resolve(function(){return o.t.apply(o,arguments)}),s&&s(w,function(){return o.t.apply(o,arguments)})},f=function(w){!i&&!w&&o.services.languageDetector&&(w=[]);var E=typeof w=="string"?w:o.services.languageUtils.getBestMatchFromCodes(w);E&&(o.language||d(E),o.translator.language||o.translator.changeLanguage(E),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(E)),o.loadResources(E,function(C){h(C,E)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(f):f(i),l}},{key:"getFixedT",value:function(i,s,o){var l=this,d=function h(f,v){var w;if(Ag(v)!=="object"){for(var E=arguments.length,C=new Array(E>2?E-2:0),O=2;O<E;O++)C[O-2]=arguments[O];w=l.options.overloadTranslationOptionHandler([f,v].concat(C))}else w=Qd({},v);w.lng=w.lng||h.lng,w.lngs=w.lngs||h.lngs,w.ns=w.ns||h.ns,w.keyPrefix=w.keyPrefix||o||h.keyPrefix;var M=l.options.keySeparator||".",A=w.keyPrefix?"".concat(w.keyPrefix).concat(M).concat(f):f;return l.t(A,w)};return typeof i=="string"?d.lng=i:d.lngs=i,d.ns=s,d.keyPrefix=o,d}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var l=this.resolvedLanguage||this.languages[0],d=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;var f=function(E,C){var O=s.services.backendConnector.state["".concat(E,"|").concat(C)];return O===-1||O===2};if(o.precheck){var v=o.precheck(this,f);if(v!==void 0)return v}return!!(this.hasResourceBundle(l,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(l,i)&&(!d||f(h,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,l=BE();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(d){o.options.ns.indexOf(d)<0&&o.options.ns.push(d)}),this.loadResources(function(d){l.resolve(),s&&s(d)}),l):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=BE();typeof i=="string"&&(i=[i]);var l=this.options.preload||[],d=i.filter(function(h){return l.indexOf(h)<0});return d.length?(this.options.preload=l.concat(d),this.loadResources(function(h){o.resolve(),s&&s(h)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lC,l=Qd(Qd(Qd({},this.options),s),{isClone:!0}),d=new n(l);(s.debug!==void 0||s.prefix!==void 0)&&(d.logger=d.logger.clone(s));var h=["store","services","language"];return h.forEach(function(f){d[f]=i[f]}),d.services=Qd({},this.services),d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d.translator=new CG(d.services,d.options),d.translator.on("*",function(f){for(var v=arguments.length,w=new Array(v>1?v-1:0),E=1;E<v;E++)w[E-1]=arguments[E];d.emit.apply(d,[f].concat(w))}),d.init(l,o),d.translator.options=d.options,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Yg);em(pR,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new pR(t,e)});var xl=pR.createInstance();xl.createInstance=pR.createInstance;xl.createInstance;xl.init;xl.loadResources;xl.reloadResources;xl.use;xl.changeLanguage;xl.getFixedT;xl.t;xl.exists;xl.setDefaultNamespace;xl.hasLoadedNamespace;xl.loadNamespaces;xl.loadLanguages;function Kve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xte(t,e){if(t==null)return{};var n=Kve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function _y(t){return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function uj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zve={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},qve=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function DG(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(zve[n[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=t.indexOf("-->");return{type:"comment",comment:r!==-1?t.slice(4,r):""}}for(var i=new RegExp(qve),s=null;(s=i.exec(t))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),e.attrs[l[0]]=l[1],i.lastIndex--}else s[2]&&(e.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return e}var Vve=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Gve=/^\s*$/,Wve=Object.create(null);function Zte(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(Zte,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var Yve={parse:function(t,e){e||(e={}),e.components||(e.components=Wve);var n,r=[],i=[],s=-1,o=!1;if(t.indexOf("<")!==0){var l=t.indexOf("<");r.push({type:"text",content:l===-1?t:t.substring(0,l)})}return t.replace(Vve,function(d,h){if(o){if(d!=="</"+n.name+">")return;o=!1}var f,v=d.charAt(1)!=="/",w=d.startsWith("<!--"),E=h+d.length,C=t.charAt(E);if(w){var O=DG(d);return s<0?(r.push(O),r):((f=i[s]).children.push(O),r)}if(v&&(s++,(n=DG(d)).type==="tag"&&e.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!C||C==="<"||n.children.push({type:"text",content:t.slice(E,t.indexOf("<",E))}),s===0&&r.push(n),(f=i[s-1])&&f.children.push(n),i[s]=n),(!v||n.voidElement)&&(s>-1&&(n.voidElement||n.name===d.slice(2,-1))&&(s--,n=s===-1?r:i[s]),!o&&C!=="<"&&C)){f=s===-1?r:i[s].children;var M=t.indexOf("<",E),A=t.slice(E,M===-1?void 0:M);Gve.test(A)&&(A=" "),(M>-1&&s+f.length>=0||A!==" ")&&f.push({type:"text",content:A})}}),r},stringify:function(t){return t.reduce(function(e,n){return e+Zte("",n)},"")}};function Xve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zve(t,e,n){return e&&NG(t.prototype,e),n&&NG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Jve=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Qve={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},e2e=function(e){return Qve[e]},t2e=function(e){return e.replace(Jve,e2e)};function BG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BG(Object(n),!0).forEach(function(r){uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _F={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t2e},Jte,Qte=ee.exports.createContext();function n2e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_F=$G($G({},_F),t)}function ene(){return _F}var r2e=function(){function t(){Xve(this,t),this.usedNamespaces={}}return Zve(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function i2e(t){Jte=t}function tne(){return Jte}var s2e={type:"3rdParty",init:function(e){n2e(e.options.react),i2e(e)}};function uI(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var FG={};function gR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&FG[e[0]]||(typeof e[0]=="string"&&(FG[e[0]]=new Date),uI.apply(void 0,e))}function UG(t,e,n){t.loadNamespaces(e,function(){if(t.isInitialized)n();else{var r=function i(){setTimeout(function(){t.off("initialized",i)},0),n()};t.on("initialized",r)}})}function o2e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var o=function(d,h){var f=e.services.backendConnector.state["".concat(d,"|").concat(h)];return f===-1||f===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function a2e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return gR("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{precheck:function(s,o){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,t))return!1}}):o2e(t,e,n)}var l2e=["format"],c2e=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function HG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HG(Object(n),!0).forEach(function(r){uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SN(t,e){if(!t)return!1;var n=t.props?t.props.children:t.children;return e?n.length>0:!!n}function xN(t){return t?t.props?t.props.children:t.children:[]}function u2e(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return ee.exports.isValidElement(e)})}function cS(t){return Array.isArray(t)?t:[t]}function d2e(t,e){var n=Io({},e);return n.props=Object.assign(t.props,e.props),n}function nne(t,e){if(!t)return"";var n="",r=cS(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return r.forEach(function(s,o){if(typeof s=="string")n+="".concat(s);else if(ee.exports.isValidElement(s)){var l=Object.keys(s.props).length,d=i.indexOf(s.type)>-1,h=s.props.children;if(!h&&d&&l===0)n+="<".concat(s.type,"/>");else if(!h&&(!d||l!==0))n+="<".concat(o,"></").concat(o,">");else if(s.props.i18nIsDynamicList)n+="<".concat(o,"></").concat(o,">");else if(d&&l===1&&typeof h=="string")n+="<".concat(s.type,">").concat(h,"</").concat(s.type,">");else{var f=nne(h,e);n+="<".concat(o,">").concat(f,"</").concat(o,">")}}else if(s===null)uI("Trans: the passed in value is invalid - seems you passed in a null child.");else if(_y(s)==="object"){var v=s.format,w=Xte(s,l2e),E=Object.keys(w);if(E.length===1){var C=v?"".concat(E[0],", ").concat(v):E[0];n+="{{".concat(C,"}}")}else uI("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else uI("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),n}function f2e(t,e,n,r,i,s){if(e==="")return[];var o=r.transKeepBasicHtmlNodesFor||[],l=e&&new RegExp(o.join("|")).test(e);if(!t&&!l)return[e];var d={};function h(M){var A=cS(M);A.forEach(function(D){typeof D!="string"&&(SN(D)?h(xN(D)):_y(D)==="object"&&!ee.exports.isValidElement(D)&&Object.assign(d,D))})}h(t);var f=Yve.parse("<0>".concat(e,"</0>")),v=Io(Io({},d),i);function w(M,A,D){var U=xN(M),R=C(U,A.children,D);return u2e(U)&&R.length===0?U:R}function E(M,A,D,U,R){M.dummy&&(M.children=A),D.push(ee.exports.cloneElement(M,Io(Io({},M.props),{},{key:U}),R?void 0:A))}function C(M,A,D){var U=cS(M),R=cS(A);return R.reduce(function(X,H,K){var W=H.children&&H.children[0]&&H.children[0].content&&n.services.interpolator.interpolate(H.children[0].content,v,n.language);if(H.type==="tag"){var Z=U[parseInt(H.name,10)];!Z&&D.length===1&&D[0][H.name]&&(Z=D[0][H.name]),Z||(Z={});var ie=Object.keys(H.attrs).length!==0?d2e({props:H.attrs},Z):Z,se=ee.exports.isValidElement(ie),oe=se&&SN(H,!0)&&!H.voidElement,Q=l&&_y(ie)==="object"&&ie.dummy&&!se,ae=_y(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,H.name);if(typeof ie=="string"){var he=n.services.interpolator.interpolate(ie,v,n.language);X.push(he)}else if(SN(ie)||oe){var Ee=w(ie,H,D);E(ie,Ee,X,K)}else if(Q){var De=C(U,H.children,D);X.push(ee.exports.cloneElement(ie,Io(Io({},ie.props),{},{key:K}),De))}else if(Number.isNaN(parseFloat(H.name)))if(ae){var qe=w(ie,H,D);E(ie,qe,X,K,H.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(H.name)>-1)if(H.voidElement)X.push(ee.exports.createElement(H.name,{key:"".concat(H.name,"-").concat(K)}));else{var _e=C(U,H.children,D);X.push(ee.exports.createElement(H.name,{key:"".concat(H.name,"-").concat(K)},_e))}else if(H.voidElement)X.push("<".concat(H.name," />"));else{var xe=C(U,H.children,D);X.push("<".concat(H.name,">").concat(xe,"</").concat(H.name,">"))}else if(_y(ie)==="object"&&!se){var Se=H.children[0]?W:null;Se&&X.push(Se)}else H.children.length===1&&W?X.push(ee.exports.cloneElement(ie,Io(Io({},ie.props),{},{key:K}),W)):X.push(ee.exports.cloneElement(ie,Io(Io({},ie.props),{},{key:K})))}else if(H.type==="text"){var Ie=r.transWrapTextNodes,Ye=s?r.unescape(n.services.interpolator.interpolate(H.content,v,n.language)):n.services.interpolator.interpolate(H.content,v,n.language);Ie?X.push(ee.exports.createElement(Ie,{key:"".concat(H.name,"-").concat(K)},Ye)):X.push(Ye)}return X},[])}var O=C([{dummy:!0,children:t||[]}],f,cS(t||[]));return xN(O[0])}function xf(t){var e=t.children,n=t.count,r=t.parent,i=t.i18nKey,s=t.context,o=t.tOptions,l=o===void 0?{}:o,d=t.values,h=t.defaults,f=t.components,v=t.ns,w=t.i18n,E=t.t,C=t.shouldUnescape,O=Xte(t,c2e),M=ee.exports.useContext(Qte)||{},A=M.i18n,D=M.defaultNS,U=w||A||tne();if(!U)return gR("You will need to pass in an i18next instance by using i18nextReactModule"),e;var R=E||U.t.bind(U)||function(he){return he};s&&(l.context=s);var X=Io(Io({},ene()),U.options&&U.options.react),H=v||R.ns||D||U.options&&U.options.defaultNS;H=typeof H=="string"?[H]:H||["translation"];var K=h||nne(e,X)||X.transEmptyNodeValue||i,W=X.hashTransKey,Z=i||(W?W(K):K),ie=d?l.interpolation:{interpolation:Io(Io({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},se=Io(Io(Io(Io({},l),{},{count:n},d),ie),{},{defaultValue:K,ns:H}),oe=Z?R(Z,se):K,Q=f2e(f||e,oe,U,X,se,C),ae=r!==void 0?r:X.defaultTransParent;return ae?ee.exports.createElement(ae,O,Q):Q}function h2e(t){if(Array.isArray(t))return t}function p2e(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,l=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function jG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g2e(t,e){if(!!t){if(typeof t=="string")return jG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jG(t,e)}}function m2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y2e(t,e){return h2e(t)||p2e(t,e)||g2e(t,e)||m2e()}function KG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KG(Object(n),!0).forEach(function(r){uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var v2e=function(e,n){var r=ee.exports.useRef();return ee.exports.useEffect(function(){r.current=n?r.current:e},[e,n]),r.current};function Ir(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=ee.exports.useContext(Qte)||{},i=r.i18n,s=r.defaultNS,o=n||i||tne();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new r2e),!o){gR("You will need to pass in an i18next instance by using initReactI18next");var l=function(Z){return Array.isArray(Z)?Z[Z.length-1]:Z},d=[l,{},!1];return d.t=l,d.i18n={},d.ready=!1,d}o.options.react&&o.options.react.wait!==void 0&&gR("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var h=kN(kN(kN({},ene()),o.options.react),e),f=h.useSuspense,v=h.keyPrefix,w=t||s||o.options&&o.options.defaultNS;w=typeof w=="string"?[w]:w||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(w);var E=(o.isInitialized||o.initializedStoreOnce)&&w.every(function(W){return a2e(W,o,h)});function C(){return o.getFixedT(null,h.nsMode==="fallback"?w:w[0],v)}var O=ee.exports.useState(C),M=y2e(O,2),A=M[0],D=M[1],U=w.join(),R=v2e(U),X=ee.exports.useRef(!0);ee.exports.useEffect(function(){var W=h.bindI18n,Z=h.bindI18nStore;X.current=!0,!E&&!f&&UG(o,w,function(){X.current&&D(C)}),E&&R&&R!==U&&X.current&&D(C);function ie(){X.current&&D(C)}return W&&o&&o.on(W,ie),Z&&o&&o.store.on(Z,ie),function(){X.current=!1,W&&o&&W.split(" ").forEach(function(se){return o.off(se,ie)}),Z&&o&&Z.split(" ").forEach(function(se){return o.store.off(se,ie)})}},[o,U]);var H=ee.exports.useRef(!0);ee.exports.useEffect(function(){X.current&&!H.current&&D(C),H.current=!1},[o,v]);var K=[A,o,E];if(K.t=A,K.i18n=o,K.ready=E,E||!E&&!f)return K;throw new Promise(function(W){UG(o,w,function(){W()})})}function wF(t){return wF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wF(t)}var rne=[],b2e=rne.forEach,_2e=rne.slice;function EF(t){return b2e.call(_2e.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}function ine(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest=="undefined"?"undefined":wF(XMLHttpRequest))==="object"}function w2e(t){return!!t&&typeof t.then=="function"}function E2e(t){return w2e(t)?t:Promise.resolve(t)}var mR={exports:{}},SF={exports:{}};(function(t,e){var n=typeof self!="undefined"?self:Sy,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function d(ae){return ae&&DataView.prototype.isPrototypeOf(ae)}if(l.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(ae){return ae&&h.indexOf(Object.prototype.toString.call(ae))>-1};function v(ae){if(typeof ae!="string"&&(ae=String(ae)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ae))throw new TypeError("Invalid character in header field name");return ae.toLowerCase()}function w(ae){return typeof ae!="string"&&(ae=String(ae)),ae}function E(ae){var he={next:function(){var Ee=ae.shift();return{done:Ee===void 0,value:Ee}}};return l.iterable&&(he[Symbol.iterator]=function(){return he}),he}function C(ae){this.map={},ae instanceof C?ae.forEach(function(he,Ee){this.append(Ee,he)},this):Array.isArray(ae)?ae.forEach(function(he){this.append(he[0],he[1])},this):ae&&Object.getOwnPropertyNames(ae).forEach(function(he){this.append(he,ae[he])},this)}C.prototype.append=function(ae,he){ae=v(ae),he=w(he);var Ee=this.map[ae];this.map[ae]=Ee?Ee+", "+he:he},C.prototype.delete=function(ae){delete this.map[v(ae)]},C.prototype.get=function(ae){return ae=v(ae),this.has(ae)?this.map[ae]:null},C.prototype.has=function(ae){return this.map.hasOwnProperty(v(ae))},C.prototype.set=function(ae,he){this.map[v(ae)]=w(he)},C.prototype.forEach=function(ae,he){for(var Ee in this.map)this.map.hasOwnProperty(Ee)&&ae.call(he,this.map[Ee],Ee,this)},C.prototype.keys=function(){var ae=[];return this.forEach(function(he,Ee){ae.push(Ee)}),E(ae)},C.prototype.values=function(){var ae=[];return this.forEach(function(he){ae.push(he)}),E(ae)},C.prototype.entries=function(){var ae=[];return this.forEach(function(he,Ee){ae.push([Ee,he])}),E(ae)},l.iterable&&(C.prototype[Symbol.iterator]=C.prototype.entries);function O(ae){if(ae.bodyUsed)return Promise.reject(new TypeError("Already read"));ae.bodyUsed=!0}function M(ae){return new Promise(function(he,Ee){ae.onload=function(){he(ae.result)},ae.onerror=function(){Ee(ae.error)}})}function A(ae){var he=new FileReader,Ee=M(he);return he.readAsArrayBuffer(ae),Ee}function D(ae){var he=new FileReader,Ee=M(he);return he.readAsText(ae),Ee}function U(ae){for(var he=new Uint8Array(ae),Ee=new Array(he.length),De=0;De<he.length;De++)Ee[De]=String.fromCharCode(he[De]);return Ee.join("")}function R(ae){if(ae.slice)return ae.slice(0);var he=new Uint8Array(ae.byteLength);return he.set(new Uint8Array(ae)),he.buffer}function X(){return this.bodyUsed=!1,this._initBody=function(ae){this._bodyInit=ae,ae?typeof ae=="string"?this._bodyText=ae:l.blob&&Blob.prototype.isPrototypeOf(ae)?this._bodyBlob=ae:l.formData&&FormData.prototype.isPrototypeOf(ae)?this._bodyFormData=ae:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(ae)?this._bodyText=ae.toString():l.arrayBuffer&&l.blob&&d(ae)?(this._bodyArrayBuffer=R(ae.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ae)||f(ae))?this._bodyArrayBuffer=R(ae):this._bodyText=ae=Object.prototype.toString.call(ae):this._bodyText="",this.headers.get("content-type")||(typeof ae=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(ae)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var ae=O(this);if(ae)return ae;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var ae=O(this);if(ae)return ae;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(U(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var H=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function K(ae){var he=ae.toUpperCase();return H.indexOf(he)>-1?he:ae}function W(ae,he){he=he||{};var Ee=he.body;if(ae instanceof W){if(ae.bodyUsed)throw new TypeError("Already read");this.url=ae.url,this.credentials=ae.credentials,he.headers||(this.headers=new C(ae.headers)),this.method=ae.method,this.mode=ae.mode,this.signal=ae.signal,!Ee&&ae._bodyInit!=null&&(Ee=ae._bodyInit,ae.bodyUsed=!0)}else this.url=String(ae);if(this.credentials=he.credentials||this.credentials||"same-origin",(he.headers||!this.headers)&&(this.headers=new C(he.headers)),this.method=K(he.method||this.method||"GET"),this.mode=he.mode||this.mode||null,this.signal=he.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Ee)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ee)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function Z(ae){var he=new FormData;return ae.trim().split("&").forEach(function(Ee){if(Ee){var De=Ee.split("="),qe=De.shift().replace(/\+/g," "),_e=De.join("=").replace(/\+/g," ");he.append(decodeURIComponent(qe),decodeURIComponent(_e))}}),he}function ie(ae){var he=new C,Ee=ae.replace(/\r?\n[\t ]+/g," ");return Ee.split(/\r?\n/).forEach(function(De){var qe=De.split(":"),_e=qe.shift().trim();if(_e){var xe=qe.join(":").trim();he.append(_e,xe)}}),he}X.call(W.prototype);function se(ae,he){he||(he={}),this.type="default",this.status=he.status===void 0?200:he.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in he?he.statusText:"OK",this.headers=new C(he.headers),this.url=he.url||"",this._initBody(ae)}X.call(se.prototype),se.prototype.clone=function(){return new se(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},se.error=function(){var ae=new se(null,{status:0,statusText:""});return ae.type="error",ae};var oe=[301,302,303,307,308];se.redirect=function(ae,he){if(oe.indexOf(he)===-1)throw new RangeError("Invalid status code");return new se(null,{status:he,headers:{location:ae}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(he,Ee){this.message=he,this.name=Ee;var De=Error(he);this.stack=De.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Q(ae,he){return new Promise(function(Ee,De){var qe=new W(ae,he);if(qe.signal&&qe.signal.aborted)return De(new o.DOMException("Aborted","AbortError"));var _e=new XMLHttpRequest;function xe(){_e.abort()}_e.onload=function(){var Se={status:_e.status,statusText:_e.statusText,headers:ie(_e.getAllResponseHeaders()||"")};Se.url="responseURL"in _e?_e.responseURL:Se.headers.get("X-Request-URL");var Ie="response"in _e?_e.response:_e.responseText;Ee(new se(Ie,Se))},_e.onerror=function(){De(new TypeError("Network request failed"))},_e.ontimeout=function(){De(new TypeError("Network request failed"))},_e.onabort=function(){De(new o.DOMException("Aborted","AbortError"))},_e.open(qe.method,qe.url,!0),qe.credentials==="include"?_e.withCredentials=!0:qe.credentials==="omit"&&(_e.withCredentials=!1),"responseType"in _e&&l.blob&&(_e.responseType="blob"),qe.headers.forEach(function(Se,Ie){_e.setRequestHeader(Ie,Se)}),qe.signal&&(qe.signal.addEventListener("abort",xe),_e.onreadystatechange=function(){_e.readyState===4&&qe.signal.removeEventListener("abort",xe)}),_e.send(typeof qe._bodyInit=="undefined"?null:qe._bodyInit)})}return Q.polyfill=!0,s.fetch||(s.fetch=Q,s.Headers=C,s.Request=W,s.Response=se),o.Headers=C,o.Request=W,o.Response=se,o.fetch=Q,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(SF,SF.exports);(function(t,e){var n;if(typeof fetch=="function"&&(typeof Sy!="undefined"&&Sy.fetch?n=Sy.fetch:typeof window!="undefined"&&window.fetch?n=window.fetch:n=fetch),typeof Jae!="undefined"&&(typeof window=="undefined"||typeof window.document=="undefined")){var r=n||SF.exports;r.default&&(r=r.default),e.default=r,t.exports=e.default}})(mR,mR.exports);var sne=mR.exports,zG=Wae({__proto__:null,default:sne},[mR.exports]);function yR(t){return yR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yR(t)}var mp;typeof fetch=="function"&&(typeof global!="undefined"&&global.fetch?mp=global.fetch:typeof window!="undefined"&&window.fetch?mp=window.fetch:mp=fetch);var Tx;ine()&&(typeof global!="undefined"&&global.XMLHttpRequest?Tx=global.XMLHttpRequest:typeof window!="undefined"&&window.XMLHttpRequest&&(Tx=window.XMLHttpRequest));var vR;typeof ActiveXObject=="function"&&(typeof global!="undefined"&&global.ActiveXObject?vR=global.ActiveXObject:typeof window!="undefined"&&window.ActiveXObject&&(vR=window.ActiveXObject));!mp&&zG&&!Tx&&!vR&&(mp=sne||zG);typeof mp!="function"&&(mp=void 0);var xF=function(e,n){if(n&&yR(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},qG=function(e,n,r){mp(e,n).then(function(i){if(!i.ok)return r(i.statusText||"Error",{status:i.status});i.text().then(function(s){r(null,{status:i.status,data:s})}).catch(r)}).catch(r)},VG=!1,S2e=function(e,n,r,i){e.queryStringParams&&(n=xF(n,e.queryStringParams));var s=EF({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);r&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,l=EF({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},VG?{}:o);try{qG(n,l,i)}catch(d){if(!o||Object.keys(o).length===0||!d.message||d.message.indexOf("not implemented")<0)return i(d);try{Object.keys(o).forEach(function(h){delete l[h]}),qG(n,l,i),VG=!0}catch(h){i(h)}}},x2e=function(e,n,r,i){r&&yR(r)==="object"&&(r=xF("",r).slice(1)),e.queryStringParams&&(n=xF(n,e.queryStringParams));try{var s;Tx?s=new Tx:s=new vR("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var l in o)s.setRequestHeader(l,o[l]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(d){console&&console.log(d)}},k2e=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},mp)return S2e(e,n,r,i);if(ine()||typeof ActiveXObject=="function")return x2e(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function T2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C2e(t,e,n){return e&&GG(t.prototype,e),n&&GG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I2e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R2e=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return I2e({},r,i||"")},request:k2e,reloadInterval:typeof window!="undefined"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},one=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};T2e(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return C2e(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=EF(i,this.options||{},R2e()),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,o){var l=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(n,i)),d=E2e(d),d.then(function(h){if(!h)return o(null,{});var f=l.services.interpolator.interpolate(h,{lng:n.join("+"),ns:i.join("+")});l.loadUrl(f,o,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var o=this;this.options.request(this.options,n,void 0,function(l,d){if(d&&(d.status>=500&&d.status<600||!d.status))return r("failed loading "+n+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return r("failed loading "+n+"; status code: "+d.status,!1);if(!d&&l&&l.message&&l.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+l.message,!0);if(l)return r(l,!1);var h,f;try{typeof d.data=="string"?h=o.options.parse(d.data,i,s):h=d.data}catch{f="failed parsing "+n+" to json"}if(f)return r(f,!1);r(null,h)})}},{key:"create",value:function(n,r,i,s,o){var l=this;if(!!this.options.addPath){typeof n=="string"&&(n=[n]);var d=this.options.parsePayload(r,i,s),h=0,f=[],v=[];n.forEach(function(w){var E=l.options.addPath;typeof l.options.addPath=="function"&&(E=l.options.addPath(w,r));var C=l.services.interpolator.interpolate(E,{lng:w,ns:r});l.options.request(l.options,C,d,function(O,M){h+=1,f.push(O),v.push(M),h===n.length&&o&&o(f,v)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,o=r.logger,l=i.language;if(!(l&&l.toLowerCase()==="cimode")){var d=[],h=function(v){var w=s.toResolveHierarchy(v);w.forEach(function(E){d.indexOf(E)<0&&d.push(E)})};h(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return h(f)}),d.forEach(function(f){n.allOptions.ns.forEach(function(v){i.read(f,v,"read",null,null,function(w,E){w&&o.warn("loading namespace ".concat(v," for language ").concat(f," failed"),w),!w&&E&&o.log("loaded namespace ".concat(v," for language ").concat(f),E),i.loaded("".concat(f,"|").concat(v),w,E)})})})}}}]),t}();one.type="backend";function M2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O2e(t,e,n){return e&&WG(t.prototype,e),n&&WG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var ane=[],L2e=ane.forEach,A2e=ane.slice;function P2e(t){return L2e.call(A2e.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var YG=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,D2e=function(e,n,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(n),o="".concat(e,"=").concat(s);if(i.maxAge>0){var l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(i.domain){if(!YG.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!YG.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var d=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(d){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},XG={create:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),i&&(s.domain=i),document.cookie=D2e(e,encodeURIComponent(n),s)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},N2e={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document!="undefined"){var r=XG.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document!="undefined"&&XG.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},B2e={name:"querystring",lookup:function(e){var n;if(typeof window!="undefined"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),s=i.split("&"),o=0;o<s.length;o++){var l=s[o].indexOf("=");if(l>0){var d=s[o].substring(0,l);d===e.lookupQuerystring&&(n=s[o].substring(l+1))}}}return n}},$E=null,ZG=function(){if($E!==null)return $E;try{$E=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{$E=!1}return $E},$2e={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&ZG()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&ZG()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},FE=null,JG=function(){if(FE!==null)return FE;try{FE=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{FE=!1}return FE},F2e={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&JG()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&JG()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},U2e={name:"navigator",lookup:function(e){var n=[];if(typeof navigator!="undefined"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},H2e={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document!="undefined"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},j2e={name:"path",lookup:function(e){var n;if(typeof window!="undefined"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},K2e={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window!="undefined"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(!!r)return r[n]}};function z2e(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var lne=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M2e(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return O2e(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=P2e(r,this.options||{},z2e()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(N2e),this.addDetector(B2e),this.addDetector($2e),this.addDetector(F2e),this.addDetector(U2e),this.addDetector(H2e),this.addDetector(j2e),this.addDetector(K2e)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(s){if(r.detectors[s]){var o=r.detectors[s].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(n,i.options)}))}}]),t}();lne.type="languageDetector";function kF(t,e){return kF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kF(t,e)}function kf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kF(t,e)}var cne={exports:{}},q2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",V2e=q2e,G2e=V2e;function une(){}function dne(){}dne.resetWarningCache=une;var W2e=function(){function t(r,i,s,o,l,d){if(d!==G2e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dne,resetWarningCache:une};return n.PropTypes=n,n};cne.exports=W2e();var QG=cne.exports,TN=1073741823,eW=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function Y2e(){var t="__global_unique_id__";return eW[t]=(eW[t]||0)+1}function X2e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Z2e(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function J2e(t){return Array.isArray(t)?t[0]:t}function Q2e(t,e){var n,r,i="__create-react-context-"+Y2e()+"__",s=function(l){kf(d,l);function d(){var f;return f=l.apply(this,arguments)||this,f.emitter=Z2e(f.props.value),f}var h=d.prototype;return h.getChildContext=function(){var v;return v={},v[i]=this.emitter,v},h.componentWillReceiveProps=function(v){if(this.props.value!==v.value){var w=this.props.value,E=v.value,C;X2e(w,E)?C=0:(C=typeof e=="function"?e(w,E):TN,C|=0,C!==0&&this.emitter.set(v.value,C))}},h.render=function(){return this.props.children},d}(ee.exports.Component);s.childContextTypes=(n={},n[i]=QG.object.isRequired,n);var o=function(l){kf(d,l);function d(){var f;return f=l.apply(this,arguments)||this,f.state={value:f.getValue()},f.onUpdate=function(v,w){var E=f.observedBits|0;(E&w)!==0&&f.setState({value:f.getValue()})},f}var h=d.prototype;return h.componentWillReceiveProps=function(v){var w=v.observedBits;this.observedBits=w==null?TN:w},h.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var v=this.props.observedBits;this.observedBits=v==null?TN:v},h.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},h.getValue=function(){return this.context[i]?this.context[i].get():t},h.render=function(){return J2e(this.props.children)(this.state.value)},d}(ee.exports.Component);return o.contextTypes=(r={},r[i]=QG.object,r),{Provider:s,Consumer:o}}var ebe=z.createContext||Q2e,Iw={exports:{}},tbe=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},bR=tbe;Iw.exports=pne;Iw.exports.parse=dj;Iw.exports.compile=rbe;Iw.exports.tokensToFunction=fne;Iw.exports.tokensToRegExp=hne;var nbe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function dj(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",l;(l=nbe.exec(t))!=null;){var d=l[0],h=l[1],f=l.index;if(s+=t.slice(i,f),i=f+d.length,h){s+=h[1];continue}var v=t[i],w=l[2],E=l[3],C=l[4],O=l[5],M=l[6],A=l[7];s&&(n.push(s),s="");var D=w!=null&&v!=null&&v!==w,U=M==="+"||M==="*",R=M==="?"||M==="*",X=l[2]||o,H=C||O;n.push({name:E||r++,prefix:w||"",delimiter:X,optional:R,repeat:U,partial:D,asterisk:!!A,pattern:H?obe(H):A?".*":"[^"+dI(X)+"]+?"})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function rbe(t,e){return fne(dj(t,e),e)}function ibe(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function sbe(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function fne(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",hj(e)));return function(i,s){for(var o="",l=i||{},d=s||{},h=d.pretty?ibe:encodeURIComponent,f=0;f<t.length;f++){var v=t[f];if(typeof v=="string"){o+=v;continue}var w=l[v.name],E;if(w==null)if(v.optional){v.partial&&(o+=v.prefix);continue}else throw new TypeError('Expected "'+v.name+'" to be defined');if(bR(w)){if(!v.repeat)throw new TypeError('Expected "'+v.name+'" to not repeat, but received `'+JSON.stringify(w)+"`");if(w.length===0){if(v.optional)continue;throw new TypeError('Expected "'+v.name+'" to not be empty')}for(var C=0;C<w.length;C++){if(E=h(w[C]),!n[f].test(E))throw new TypeError('Expected all "'+v.name+'" to match "'+v.pattern+'", but received `'+JSON.stringify(E)+"`");o+=(C===0?v.prefix:v.delimiter)+E}continue}if(E=v.asterisk?sbe(w):h(w),!n[f].test(E))throw new TypeError('Expected "'+v.name+'" to match "'+v.pattern+'", but received "'+E+'"');o+=v.prefix+E}return o}}function dI(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function obe(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function fj(t,e){return t.keys=e,t}function hj(t){return t&&t.sensitive?"":"i"}function abe(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return fj(t,e)}function lbe(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(pne(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",hj(n));return fj(s,e)}function cbe(t,e,n){return hne(dj(t,n),e,n)}function hne(t,e,n){bR(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var l=t[o];if(typeof l=="string")s+=dI(l);else{var d=dI(l.prefix),h="(?:"+l.pattern+")";e.push(l),l.repeat&&(h+="(?:"+d+h+")*"),l.optional?l.partial?h=d+"("+h+")?":h="(?:"+d+"("+h+"))?":h=d+"("+h+")",s+=h}}var f=dI(n.delimiter||"/"),v=s.slice(-f.length)===f;return r||(s=(v?s.slice(0,-f.length):s)+"(?:"+f+"(?=$))?"),i?s+="$":s+=r&&v?"":"(?="+f+"|$)",fj(new RegExp("^"+s,hj(n)),e)}function pne(t,e,n){return bR(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?abe(t,e):bR(t)?lbe(t,e,n):cbe(t,e,n)}var ube=Iw.exports;function KM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gne=function(e){var n=ebe();return n.displayName=e,n},mne=gne("Router-History"),Hy=gne("Router"),zM=function(t){kf(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return z.createElement(Hy.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},z.createElement(mne.Provider,{children:this.props.children||null,value:this.props.history}))},e}(z.Component);z.Component;z.Component;var tW={},dbe=1e4,nW=0;function fbe(t,e){var n=""+e.end+e.strict+e.sensitive,r=tW[n]||(tW[n]={});if(r[t])return r[t];var i=[],s=ube(t,i,e),o={regexp:s,keys:i};return nW<dbe&&(r[t]=o,nW++),o}function pj(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,l=o===void 0?!1:o,d=n.sensitive,h=d===void 0?!1:d,f=[].concat(r);return f.reduce(function(v,w){if(!w&&w!=="")return null;if(v)return v;var E=fbe(w,{end:s,strict:l,sensitive:h}),C=E.regexp,O=E.keys,M=C.exec(t);if(!M)return null;var A=M[0],D=M.slice(1),U=t===A;return s&&!U?null:{path:w,url:w==="/"&&A===""?"/":A,isExact:U,params:O.reduce(function(R,X,H){return R[X.name]=D[H],R},{})}},null)}function hbe(t){return z.Children.count(t)===0}var pbe=function(t){kf(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return z.createElement(Hy.Consumer,null,function(s){s||uv(!1);var o=i.props.location||s.location,l=i.props.computedMatch?i.props.computedMatch:i.props.path?pj(o.pathname,i.props):s.match,d=Za({},s,{location:o,match:l}),h=i.props,f=h.children,v=h.component,w=h.render;return Array.isArray(f)&&hbe(f)&&(f=null),z.createElement(Hy.Provider,{value:d},d.match?f?typeof f=="function"?f(d):f:v?z.createElement(v,d):w?w(d):null:typeof f=="function"?f(d):null)})},e}(z.Component);function gj(t){return t.charAt(0)==="/"?t:"/"+t}function gbe(t,e){return t?Za({},e,{pathname:gj(t)+e.pathname}):e}function mbe(t,e){if(!t)return e;var n=gj(t);return e.pathname.indexOf(n)!==0?e:Za({},e,{pathname:e.pathname.substr(n.length)})}function rW(t){return typeof t=="string"?t:Vl(t)}function CN(t){return function(){uv(!1)}}function iW(){}z.Component;var ybe=function(t){kf(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return z.createElement(Hy.Consumer,null,function(s){s||uv(!1);var o=i.props.location||s.location,l,d;return z.Children.forEach(i.props.children,function(h){if(d==null&&z.isValidElement(h)){l=h;var f=h.props.path||h.props.from;d=f?pj(o.pathname,Za({},h.props,{path:f})):s.match}}),d?z.cloneElement(l,{location:o,computedMatch:d}):null})},e}(z.Component),yne=z.useContext;function Tp(){return yne(mne)}function tm(){return yne(Hy).location}var vbe=function(t){kf(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.history=Jee(r.props),r}var n=e.prototype;return n.render=function(){return z.createElement(zM,{history:this.history,children:this.props.children})},e}(z.Component);z.Component;var TF=function(e,n){return typeof e=="function"?e(n):e},CF=function(e,n){return typeof e=="string"?Oc(e,null,null,n):e},mj=function(e){return e},Q3=z.forwardRef;typeof Q3=="undefined"&&(Q3=mj);function bbe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var _be=Q3(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,s=KM(t,["innerRef","navigate","onClick"]),o=s.target,l=Za({},s,{onClick:function(h){try{i&&i(h)}catch(f){throw h.preventDefault(),f}!h.defaultPrevented&&h.button===0&&(!o||o==="_self")&&!bbe(h)&&(h.preventDefault(),r())}});return mj!==Q3?l.ref=e||n:l.ref=n,z.createElement("a",l)}),jy=Q3(function(t,e){var n=t.component,r=n===void 0?_be:n,i=t.replace,s=t.to,o=t.innerRef,l=KM(t,["component","replace","to","innerRef"]);return z.createElement(Hy.Consumer,null,function(d){d||uv(!1);var h=d.history,f=CF(TF(s,d.location),d.location),v=f?h.createHref(f):"",w=Za({},l,{href:v,navigate:function(){var C=TF(s,d.location),O=Vl(d.location)===Vl(CF(C)),M=i||O?h.replace:h.push;M(C)}});return mj!==Q3?w.ref=e||o:w.innerRef=o,z.createElement(r,w)})}),vne=function(e){return e},_R=z.forwardRef;typeof _R=="undefined"&&(_R=vne);function wbe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}_R(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,s=i===void 0?"active":i,o=t.activeStyle,l=t.className,d=t.exact,h=t.isActive,f=t.location,v=t.sensitive,w=t.strict,E=t.style,C=t.to,O=t.innerRef,M=KM(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return z.createElement(Hy.Consumer,null,function(A){A||uv(!1);var D=f||A.location,U=CF(TF(C,D),D),R=U.pathname,X=R&&R.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),H=X?pj(D.pathname,{path:X,exact:d,sensitive:v,strict:w}):null,K=!!(h?h(H,D):H),W=typeof l=="function"?l(K):l,Z=typeof E=="function"?E(K):E;K&&(W=wbe(W,s),Z=Za({},Z,o));var ie=Za({"aria-current":K&&r||null,className:W,style:Z,to:U},M);return vne!==_R?ie.ref=e||O:ie.innerRef=O,z.createElement(jy,ie)})});function yj(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var vj={};yj(vj,"SSRProvider",()=>Ebe);yj(vj,"useSSRSafeId",()=>bne);yj(vj,"useIsSSR",()=>_ne);const qM={prefix:String(Math.round(Math.random()*1e10)),current:0},wR=z.createContext(qM);function Ebe(t){let e=ee.exports.useContext(wR),n=ee.exports.useMemo(()=>({prefix:e===qM?"":`${e.prefix}-${++e.current}`,current:0}),[e]);return z.createElement(wR.Provider,{value:n},t.children)}let Sbe=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement);function bne(t){let e=ee.exports.useContext(wR);return e===qM&&!Sbe&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),ee.exports.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}function _ne(){let e=ee.exports.useContext(wR)!==qM,[n,r]=ee.exports.useState(e);return typeof window!="undefined"&&e&&ee.exports.useLayoutEffect(()=>{r(!1)},[]),n}function wne(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=wne(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ene(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=wne(t))&&(r&&(r+=" "),r+=e);return r}function VM(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var xbe={};VM(xbe,"useControlledState",()=>h8);function h8(t,e,n){let[r,i]=ee.exports.useState(t||e),s=ee.exports.useRef(t!==void 0),o=s.current,l=t!==void 0,d=ee.exports.useRef(r);o!==l&&console.warn(`WARN: A component changed from ${o?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}.`),s.current=l;let h=ee.exports.useCallback((f,...v)=>{let w=(E,...C)=>{n&&(Object.is(d.current,E)||n(E,...C)),l||(d.current=E)};typeof f=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((C,...O)=>{let M=f(l?d.current:C,...O);return w(M,...v),l?C:M})):(l||i(f),w(f,...v))},[l,n]);return l?d.current=t:t=r,[t,h]}var bj={};VM(bj,"clamp",()=>Sne);VM(bj,"snapValueToStep",()=>xne);VM(bj,"toFixedNumber",()=>kbe);function Sne(t,e=-1/0,n=1/0){return Math.min(Math.max(t,e),n)}function xne(t,e,n,r){let i=(t-(isNaN(e)?0:e))%r,s=Math.abs(i)*2>=r?t+Math.sign(i)*(r-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&s>n&&(s=Math.floor(n/r)*r):s<e?s=e:!isNaN(n)&&s>n&&(s=e+Math.floor((n-e)/r)*r);let o=r.toString(),l=o.indexOf("."),d=l>=0?o.length-l:0;if(d>0){let h=Math.pow(10,d);s=Math.round(s*h)/h}return s}function kbe(t,e,n=10){const r=Math.pow(n,e);return Math.round(t*r)/r}function vi(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var _j={};vi(_j,"useId",()=>Nc);vi(_j,"mergeIds",()=>kne);vi(_j,"useSlotId",()=>yp);var Tbe={};vi(Tbe,"useLayoutEffect",()=>Ea);const Ea=typeof window!="undefined"?z.useLayoutEffect:()=>{};let ER=new Map;function Nc(t){let[e,n]=ee.exports.useState(t),r=ee.exports.useRef(null),i=bne(e),s=ee.exports.useCallback(o=>{r.current=o},[]);return ER.set(i,s),Ea(()=>{let o=i;return()=>{ER.delete(o)}},[i]),ee.exports.useEffect(()=>{let o=r.current;o&&(r.current=null,n(o))}),i}function kne(t,e){if(t===e)return t;let n=ER.get(t);if(n)return n(e),e;let r=ER.get(e);return r?(r(t),t):e}function yp(t=[]){let e=Nc(),[n,r]=Pne(e),i=ee.exports.useCallback(()=>{r(function*(){yield e,yield document.getElementById(e)?e:null})},[e,r]);return Ea(i,[e,i,...t]),n}var Cbe={};vi(Cbe,"chain",()=>Ky);function Ky(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}var Ibe={};vi(Ibe,"mergeProps",()=>di);function di(...t){let e={...t[0]};for(let n=1;n<t.length;n++){let r=t[n];for(let i in r){let s=e[i],o=r[i];typeof s=="function"&&typeof o=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?e[i]=Ky(s,o):(i==="className"||i==="UNSAFE_className")&&typeof s=="string"&&typeof o=="string"?e[i]=Ene(s,o):i==="id"&&s&&o?e.id=kne(s,o):e[i]=o!==void 0?o:s}}return e}var Rbe={};vi(Rbe,"mergeRefs",()=>Mbe);function Mbe(...t){return e=>{for(let n of t)typeof n=="function"?n(e):n!=null&&(n.current=e)}}var Obe={};vi(Obe,"filterDOMProps",()=>dv);const Lbe=new Set(["id"]),Abe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Pbe=/^(data-.*)$/;function dv(t,e={}){let{labelable:n,propNames:r}=e,i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(Lbe.has(s)||n&&Abe.has(s)||(r==null?void 0:r.has(s))||Pbe.test(s))&&(i[s]=t[s]);return i}var Dbe={};vi(Dbe,"focusWithoutScrolling",()=>dp);function dp(t){if(Nbe())t.focus({preventScroll:!0});else{let e=Bbe(t);t.focus(),$be(e)}}let cC=null;function Nbe(){if(cC==null){cC=!1;try{var t=document.createElement("div");t.focus({get preventScroll(){return cC=!0,!0}})}catch{}}return cC}function Bbe(t){for(var e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function $be(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}var Fbe={};vi(Fbe,"getOffset",()=>Tne);function Tne(t,e,n="horizontal"){let r=t.getBoundingClientRect();return e?n==="horizontal"?r.right:r.bottom:n==="horizontal"?r.left:r.top}var Cne={};vi(Cne,"clamp",()=>Sne);vi(Cne,"snapValueToStep",()=>xne);var Ube={};vi(Ube,"runAfterTransition",()=>wj);let X_=new Map,IF=new Set;function sW(){if(typeof window=="undefined")return;let t=n=>{let r=X_.get(n.target);r||(r=new Set,X_.set(n.target,r),n.target.addEventListener("transitioncancel",e)),r.add(n.propertyName)},e=n=>{let r=X_.get(n.target);if(!!r&&(r.delete(n.propertyName),r.size===0&&(n.target.removeEventListener("transitioncancel",e),X_.delete(n.target)),X_.size===0)){for(let i of IF)i();IF.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",e)}typeof document!="undefined"&&(document.readyState!=="loading"?sW():document.addEventListener("DOMContentLoaded",sW));function wj(t){requestAnimationFrame(()=>{X_.size===0?t():IF.add(t)})}var Hbe={};vi(Hbe,"useDrag1D",()=>jbe);const uC=[];function jbe(t){console.warn("useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html");let{containerRef:e,reverse:n,orientation:r,onHover:i,onDrag:s,onPositionChange:o,onIncrement:l,onDecrement:d,onIncrementToMax:h,onDecrementToMin:f,onCollapseToggle:v}=t,w=K=>r==="horizontal"?K.clientX:K.clientY,E=K=>{let W=Tne(e.current,n,r),Z=w(K);return n?W-Z:Z-W},C=ee.exports.useRef(!1),O=ee.exports.useRef(0),M=ee.exports.useRef({onPositionChange:o,onDrag:s});M.current.onDrag=s,M.current.onPositionChange=o;let A=K=>{K.preventDefault();let W=E(K);C.current||(C.current=!0,M.current.onDrag&&M.current.onDrag(!0),M.current.onPositionChange&&M.current.onPositionChange(W)),O.current!==W&&(O.current=W,o&&o(W))},D=K=>{const W=K.target;C.current=!1;let Z=E(K);M.current.onDrag&&M.current.onDrag(!1),M.current.onPositionChange&&M.current.onPositionChange(Z),uC.splice(uC.indexOf(W),1),window.removeEventListener("mouseup",D,!1),window.removeEventListener("mousemove",A,!1)};return{onMouseDown:K=>{const W=K.currentTarget;uC.some(Z=>W.contains(Z))||(uC.push(W),window.addEventListener("mousemove",A,!1),window.addEventListener("mouseup",D,!1))},onMouseEnter:()=>{i&&i(!0)},onMouseOut:()=>{i&&i(!1)},onKeyDown:K=>{switch(K.key){case"Left":case"ArrowLeft":r==="horizontal"&&(K.preventDefault(),d&&!n?d():l&&n&&l());break;case"Up":case"ArrowUp":r==="vertical"&&(K.preventDefault(),d&&!n?d():l&&n&&l());break;case"Right":case"ArrowRight":r==="horizontal"&&(K.preventDefault(),l&&!n?l():d&&n&&d());break;case"Down":case"ArrowDown":r==="vertical"&&(K.preventDefault(),l&&!n?l():d&&n&&d());break;case"Home":K.preventDefault(),f&&f();break;case"End":K.preventDefault(),h&&h();break;case"Enter":K.preventDefault(),v&&v();break}}}}var Kbe={};vi(Kbe,"useGlobalListeners",()=>GM);function GM(){let t=ee.exports.useRef(new Map),e=ee.exports.useCallback((i,s,o,l)=>{let d=l!=null&&l.once?(...h)=>{t.current.delete(o),o(...h)}:o;t.current.set(o,{type:s,eventTarget:i,fn:d,options:l}),i.addEventListener(s,o,l)},[]),n=ee.exports.useCallback((i,s,o,l)=>{var d;let h=((d=t.current.get(o))===null||d===void 0?void 0:d.fn)||o;i.removeEventListener(s,h,l),t.current.delete(o)},[]),r=ee.exports.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return ee.exports.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}var zbe={};vi(zbe,"useLabels",()=>p8);function p8(t,e){let{id:n,"aria-label":r,"aria-labelledby":i}=t;return n=Nc(n),i&&r?i=[...new Set([...i.trim().split(/\s+/),n])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!r&&!i&&e&&(r=e),{id:n,"aria-label":r,"aria-labelledby":i}}var qbe={};vi(qbe,"useObjectRef",()=>Rw);function Rw(t){const e=ee.exports.useRef();return Ea(()=>{!t||(typeof t=="function"?t(e.current):t.current=e.current)},[t]),e}var Vbe={};vi(Vbe,"useUpdateEffect",()=>Gbe);function Gbe(t,e){const n=ee.exports.useRef(!0);ee.exports.useEffect(()=>{n.current?n.current=!1:t()},e)}var Wbe={};vi(Wbe,"useResizeObserver",()=>Xbe);function Ybe(){return typeof window.ResizeObserver!="undefined"}function Xbe(t){const{ref:e,onResize:n}=t;ee.exports.useEffect(()=>{let r=e==null?void 0:e.current;if(!!r)if(Ybe()){const i=new window.ResizeObserver(s=>{!s.length||n()});return i.observe(r),()=>{r&&i.unobserve(r)}}else return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)}},[n,e])}var Zbe={};vi(Zbe,"useSyncRef",()=>WM);function WM(t,e){Ea(()=>{if(t&&t.ref&&e)return t.ref.current=e.current,()=>{t.ref.current=null}},[t,e])}var Jbe={};vi(Jbe,"getScrollParent",()=>Ej);function Ej(t){for(;t&&!Qbe(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function Qbe(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}var e_e={};vi(e_e,"useViewportSize",()=>t_e);let af=typeof window!="undefined"&&window.visualViewport;function t_e(){let[t,e]=ee.exports.useState(()=>oW());return ee.exports.useEffect(()=>{let n=()=>{e(r=>{let i=oW();return i.width===r.width&&i.height===r.height?r:i})};return af?af.addEventListener("resize",n):window.addEventListener("resize",n),()=>{af?af.removeEventListener("resize",n):window.removeEventListener("resize",n)}},[]),t}function oW(){return{width:(af==null?void 0:af.width)||window.innerWidth,height:(af==null?void 0:af.height)||window.innerHeight}}var n_e={};vi(n_e,"useDescription",()=>Ine);let r_e=0;const IN=new Map;function Ine(t){let[e,n]=ee.exports.useState(null);return Ea(()=>{if(!t)return;let r=IN.get(t);if(r)n(r.element.id);else{let i=`react-aria-description-${r_e++}`;n(i);let s=document.createElement("div");s.id=i,s.style.display="none",s.textContent=t,document.body.appendChild(s),r={refCount:0,element:s},IN.set(t,r)}return r.refCount++,()=>{--r.refCount===0&&(r.element.remove(),IN.delete(t))}},[t]),{"aria-describedby":t?e:void 0}}var nm={};vi(nm,"isMac",()=>Mw);vi(nm,"isIPhone",()=>Rne);vi(nm,"isIPad",()=>Mne);vi(nm,"isIOS",()=>g8);vi(nm,"isAppleDevice",()=>One);vi(nm,"isWebKit",()=>Lne);vi(nm,"isChrome",()=>Ane);vi(nm,"isAndroid",()=>i_e);function Sj(t){var e;return typeof window=="undefined"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function xj(t){return typeof window!="undefined"&&window.navigator!=null?t.test((window.navigator.userAgentData||window.navigator).platform):!1}function Mw(){return xj(/^Mac/i)}function Rne(){return xj(/^iPhone/i)}function Mne(){return xj(/^iPad/i)||Mw()&&navigator.maxTouchPoints>1}function g8(){return Rne()||Mne()}function One(){return Mw()||g8()}function Lne(){return Sj(/AppleWebKit/i)&&!Ane()}function Ane(){return Sj(/Chrome/i)}function i_e(){return Sj(/Android/i)}var s_e={};vi(s_e,"useEvent",()=>kj);function kj(t,e,n,r){let i=ee.exports.useRef(n);i.current=n;let s=n==null;ee.exports.useEffect(()=>{if(s)return;let o=t.current,l=d=>i.current.call(this,d);return o.addEventListener(e,l,r),()=>{o.removeEventListener(e,l,r)}},[t,e,r,s])}var o_e={};vi(o_e,"useValueEffect",()=>Pne);function Pne(t){let[e,n]=ee.exports.useState(t),r=ee.exports.useRef(e),i=ee.exports.useRef(null);r.current=e;let s=ee.exports.useRef(null);s.current=()=>{let l=i.current.next();if(l.done){i.current=null;return}e===l.value?s.current():n(l.value)},Ea(()=>{i.current&&s.current()});let o=ee.exports.useCallback(l=>{i.current=l(r.current),s.current()},[i,s]);return[e,o]}var a_e={};vi(a_e,"scrollIntoView",()=>RF);function RF(t,e){let n=aW(t,e,"left"),r=aW(t,e,"top"),i=e.offsetWidth,s=e.offsetHeight,o=t.scrollLeft,l=t.scrollTop,d=o+t.offsetWidth,h=l+t.offsetHeight;n<=o?o=n:n+i>d&&(o+=n+i-d),r<=l?l=r:r+s>h&&(l+=r+s-h),t.scrollLeft=o,t.scrollTop=l}function aW(t,e,n){const r=n==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[r],e.offsetParent!==t);){if(e.offsetParent.contains(t)){i-=t[r];break}e=e.offsetParent}return i}var MF=function(t,e){return MF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},MF(t,e)};function YM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");MF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Pi=function(){return Pi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pi.apply(this,arguments)};function RN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var li;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(li||(li={}));var _s;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(_s||(_s={}));var ew;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(ew||(ew={}));function lW(t){return t.type===_s.literal}function l_e(t){return t.type===_s.argument}function Dne(t){return t.type===_s.number}function Nne(t){return t.type===_s.date}function Bne(t){return t.type===_s.time}function $ne(t){return t.type===_s.select}function Fne(t){return t.type===_s.plural}function c_e(t){return t.type===_s.pound}function Une(t){return t.type===_s.tag}function Hne(t){return!!(t&&typeof t=="object"&&t.type===ew.number)}function OF(t){return!!(t&&typeof t=="object"&&t.type===ew.dateTime)}var jne=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,u_e=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function d_e(t){var e={};return t.replace(u_e,function(n){var r=n.length;switch(n[0]){case"G":e.era=r===4?"long":r===5?"narrow":"short";break;case"y":e.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var f_e=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function h_e(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(f_e).filter(function(w){return w.length>0}),n=[],r=0,i=e;r<i.length;r++){var s=i[r],o=s.split("/");if(o.length===0)throw new Error("Invalid number skeleton");for(var l=o[0],d=o.slice(1),h=0,f=d;h<f.length;h++){var v=f[h];if(v.length===0)throw new Error("Invalid number skeleton")}n.push({stem:l,options:d})}return n}function p_e(t){return t.replace(/^(.*?)-/,"")}var cW=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Kne=/^(@+)?(\+|#+)?[rs]?$/g,g_e=/(\*)(0+)|(#+)(0+)|(0+)/g,zne=/^(0+)$/;function uW(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(Kne,function(n,r,i){return typeof i!="string"?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):i==="+"?e.minimumSignificantDigits=r.length:r[0]==="#"?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),e}function qne(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function m_e(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!zne.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function dW(t){var e={},n=qne(t);return n||e}function y_e(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=p_e(i.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=Pi(Pi(Pi({},e),{notation:"scientific"}),i.options.reduce(function(d,h){return Pi(Pi({},d),dW(h))},{}));continue;case"engineering":e=Pi(Pi(Pi({},e),{notation:"engineering"}),i.options.reduce(function(d,h){return Pi(Pi({},d),dW(h))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(g_e,function(d,h,f,v,w,E){if(h)e.minimumIntegerDigits=f.length;else{if(v&&w)throw new Error("We currently do not support maximum integer digits");if(E)throw new Error("We currently do not support exact integer digits")}return""});continue}if(zne.test(i.stem)){e.minimumIntegerDigits=i.stem.length;continue}if(cW.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(cW,function(d,h,f,v,w,E){return f==="*"?e.minimumFractionDigits=h.length:v&&v[0]==="#"?e.maximumFractionDigits=v.length:w&&E?(e.minimumFractionDigits=w.length,e.maximumFractionDigits=w.length+E.length):(e.minimumFractionDigits=h.length,e.maximumFractionDigits=h.length),""});var s=i.options[0];s==="w"?e=Pi(Pi({},e),{trailingZeroDisplay:"stripIfInteger"}):s&&(e=Pi(Pi({},e),uW(s)));continue}if(Kne.test(i.stem)){e=Pi(Pi({},e),uW(i.stem));continue}var o=qne(i.stem);o&&(e=Pi(Pi({},e),o));var l=m_e(i.stem);l&&(e=Pi(Pi({},e),l))}return e}var dC={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function v_e(t,e){for(var n="",r=0;r<t.length;r++){var i=t.charAt(r);if(i==="j"){for(var s=0;r+1<t.length&&t.charAt(r+1)===i;)s++,r++;var o=1+(s&1),l=s<2?1:3+(s>>1),d="a",h=b_e(e);for((h=="H"||h=="k")&&(l=0);l-- >0;)n+=d;for(;o-- >0;)n=h+n}else i==="J"?n+="H":n+=i}return n}function b_e(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,r;n!=="root"&&(r=t.maximize().region);var i=dC[r||""]||dC[n||""]||dC["".concat(n,"-001")]||dC["001"];return i[0]}var MN,w_e=new RegExp("^".concat(jne.source,"*")),E_e=new RegExp("".concat(jne.source,"*$"));function mi(t,e){return{start:t,end:e}}var S_e=!!String.prototype.startsWith,x_e=!!String.fromCodePoint,k_e=!!Object.fromEntries,T_e=!!String.prototype.codePointAt,C_e=!!String.prototype.trimStart,I_e=!!String.prototype.trimEnd,R_e=!!Number.isSafeInteger,M_e=R_e?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},LF=!0;try{var O_e=Gne("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");LF=((MN=O_e.exec("a"))===null||MN===void 0?void 0:MN[0])==="a"}catch{LF=!1}var fW=S_e?function(e,n,r){return e.startsWith(n,r)}:function(e,n,r){return e.slice(r,r+n.length)===n},AF=x_e?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=e.length,s=0,o;i>s;){if(o=e[s++],o>1114111)throw RangeError(o+" is not a valid code point");r+=o<65536?String.fromCharCode(o):String.fromCharCode(((o-=65536)>>10)+55296,o%1024+56320)}return r},hW=k_e?Object.fromEntries:function(e){for(var n={},r=0,i=e;r<i.length;r++){var s=i[r],o=s[0],l=s[1];n[o]=l}return n},Vne=T_e?function(e,n){return e.codePointAt(n)}:function(e,n){var r=e.length;if(!(n<0||n>=r)){var i=e.charCodeAt(n),s;return i<55296||i>56319||n+1===r||(s=e.charCodeAt(n+1))<56320||s>57343?i:(i-55296<<10)+(s-56320)+65536}},L_e=C_e?function(e){return e.trimStart()}:function(e){return e.replace(w_e,"")},A_e=I_e?function(e){return e.trimEnd()}:function(e){return e.replace(E_e,"")};function Gne(t,e){return new RegExp(t,e)}var PF;if(LF){var pW=Gne("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");PF=function(e,n){var r;pW.lastIndex=n;var i=pW.exec(e);return(r=i[1])!==null&&r!==void 0?r:""}}else PF=function(e,n){for(var r=[];;){var i=Vne(e,n);if(i===void 0||Wne(i)||B_e(i))break;r.push(i),n+=i>=65536?2:1}return AF.apply(void 0,r)};var P_e=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,r){for(var i=[];!this.isEOF();){var s=this.char();if(s===123){var o=this.parseArgument(e,r);if(o.err)return o;i.push(o.val)}else{if(s===125&&e>0)break;if(s===35&&(n==="plural"||n==="selectordinal")){var l=this.clonePosition();this.bump(),i.push({type:_s.pound,location:mi(l,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(li.UNMATCHED_CLOSING_TAG,mi(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&DF(this.peek()||0)){var o=this.parseTag(e,n);if(o.err)return o;i.push(o.val)}else{var o=this.parseLiteral(e,n);if(o.err)return o;i.push(o.val)}}}return{val:i,err:null}},t.prototype.parseTag=function(e,n){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:_s.literal,value:"<".concat(i,"/>"),location:mi(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,n,!0);if(s.err)return s;var o=s.val,l=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!DF(this.char()))return this.error(li.INVALID_TAG,mi(l,this.clonePosition()));var d=this.clonePosition(),h=this.parseTagName();return i!==h?this.error(li.UNMATCHED_CLOSING_TAG,mi(d,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:_s.tag,value:i,children:o,location:mi(r,this.clonePosition())},err:null}:this.error(li.INVALID_TAG,mi(l,this.clonePosition())))}else return this.error(li.UNCLOSED_TAG,mi(r,this.clonePosition()))}else return this.error(li.INVALID_TAG,mi(r,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&N_e(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var r=this.clonePosition(),i="";;){var s=this.tryParseQuote(n);if(s){i+=s;continue}var o=this.tryParseUnquoted(e,n);if(o){i+=o;continue}var l=this.tryParseLeftAngleBracket();if(l){i+=l;continue}break}var d=mi(r,this.clonePosition());return{val:{type:_s.literal,value:i,location:d},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!D_e(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return AF.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&e>0?null:(this.bump(),AF(r))},t.prototype.parseArgument=function(e,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(li.EXPECT_ARGUMENT_CLOSING_BRACE,mi(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(li.EMPTY_ARGUMENT,mi(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(li.MALFORMED_ARGUMENT,mi(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(li.EXPECT_ARGUMENT_CLOSING_BRACE,mi(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:_s.argument,value:i,location:mi(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(li.EXPECT_ARGUMENT_CLOSING_BRACE,mi(r,this.clonePosition())):this.parseArgumentOptions(e,n,i,r);default:return this.error(li.MALFORMED_ARGUMENT,mi(r,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),r=PF(this.message,n),i=n+r.length;this.bumpTo(i);var s=this.clonePosition(),o=mi(e,s);return{value:r,location:o}},t.prototype.parseArgumentOptions=function(e,n,r,i){var s,o=this.clonePosition(),l=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(l){case"":return this.error(li.EXPECT_ARGUMENT_TYPE,mi(o,d));case"number":case"date":case"time":{this.bumpSpace();var h=null;if(this.bumpIf(",")){this.bumpSpace();var f=this.clonePosition(),v=this.parseSimpleArgStyleIfPossible();if(v.err)return v;var w=A_e(v.val);if(w.length===0)return this.error(li.EXPECT_ARGUMENT_STYLE,mi(this.clonePosition(),this.clonePosition()));var E=mi(f,this.clonePosition());h={style:w,styleLocation:E}}var C=this.tryParseArgumentClose(i);if(C.err)return C;var O=mi(i,this.clonePosition());if(h&&fW(h==null?void 0:h.style,"::",0)){var M=L_e(h.style.slice(2));if(l==="number"){var v=this.parseNumberSkeletonFromString(M,h.styleLocation);return v.err?v:{val:{type:_s.number,value:r,location:O,style:v.val},err:null}}else{if(M.length===0)return this.error(li.EXPECT_DATE_TIME_SKELETON,O);var A=M;this.locale&&(A=v_e(M,this.locale));var w={type:ew.dateTime,pattern:A,location:h.styleLocation,parsedOptions:this.shouldParseSkeletons?d_e(A):{}},D=l==="date"?_s.date:_s.time;return{val:{type:D,value:r,location:O,style:w},err:null}}}return{val:{type:l==="number"?_s.number:l==="date"?_s.date:_s.time,value:r,location:O,style:(s=h==null?void 0:h.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var U=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(li.EXPECT_SELECT_ARGUMENT_OPTIONS,mi(U,Pi({},U)));this.bumpSpace();var R=this.parseIdentifierIfPossible(),X=0;if(l!=="select"&&R.value==="offset"){if(!this.bumpIf(":"))return this.error(li.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,mi(this.clonePosition(),this.clonePosition()));this.bumpSpace();var v=this.tryParseDecimalInteger(li.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,li.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(v.err)return v;this.bumpSpace(),R=this.parseIdentifierIfPossible(),X=v.val}var H=this.tryParsePluralOrSelectOptions(e,l,n,R);if(H.err)return H;var C=this.tryParseArgumentClose(i);if(C.err)return C;var K=mi(i,this.clonePosition());return l==="select"?{val:{type:_s.select,value:r,options:hW(H.val),location:K},err:null}:{val:{type:_s.plural,value:r,options:hW(H.val),offset:X,pluralType:l==="plural"?"cardinal":"ordinal",location:K},err:null}}default:return this.error(li.INVALID_ARGUMENT_TYPE,mi(o,d))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(li.EXPECT_ARGUMENT_CLOSING_BRACE,mi(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(li.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,mi(i,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var r=[];try{r=h_e(e)}catch{return this.error(li.INVALID_NUMBER_SKELETON,n)}return{val:{type:ew.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?y_e(r):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,r,i){for(var s,o=!1,l=[],d=new Set,h=i.value,f=i.location;;){if(h.length===0){var v=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var w=this.tryParseDecimalInteger(li.EXPECT_PLURAL_ARGUMENT_SELECTOR,li.INVALID_PLURAL_ARGUMENT_SELECTOR);if(w.err)return w;f=mi(v,this.clonePosition()),h=this.message.slice(v.offset,this.offset())}else break}if(d.has(h))return this.error(n==="select"?li.DUPLICATE_SELECT_ARGUMENT_SELECTOR:li.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,f);h==="other"&&(o=!0),this.bumpSpace();var E=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?li.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:li.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,mi(this.clonePosition(),this.clonePosition()));var C=this.parseMessage(e+1,n,r);if(C.err)return C;var O=this.tryParseArgumentClose(E);if(O.err)return O;l.push([h,{value:C.val,location:mi(E,this.clonePosition())}]),d.add(h),this.bumpSpace(),s=this.parseIdentifierIfPossible(),h=s.value,f=s.location}return l.length===0?this.error(n==="select"?li.EXPECT_SELECT_ARGUMENT_SELECTOR:li.EXPECT_PLURAL_ARGUMENT_SELECTOR,mi(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(li.MISSING_OTHER_CLAUSE,mi(this.clonePosition(),this.clonePosition())):{val:l,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var r=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var s=!1,o=0;!this.isEOF();){var l=this.char();if(l>=48&&l<=57)s=!0,o=o*10+(l-48),this.bump();else break}var d=mi(i,this.clonePosition());return s?(o*=r,M_e(o)?{val:o,err:null}:this.error(n,d)):this.error(e,d)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=Vne(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(fW(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),r=this.message.indexOf(e,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&Wne(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(e>=65536?2:1));return r!=null?r:null},t}();function DF(t){return t>=97&&t<=122||t>=65&&t<=90}function D_e(t){return DF(t)||t===47}function N_e(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function Wne(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function B_e(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function NF(t){t.forEach(function(e){if(delete e.location,$ne(e)||Fne(e))for(var n in e.options)delete e.options[n].location,NF(e.options[n].value);else Dne(e)&&Hne(e.style)||(Nne(e)||Bne(e))&&OF(e.style)?delete e.style.location:Une(e)&&NF(e.children)})}function $_e(t,e){e===void 0&&(e={}),e=Pi({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new P_e(t,e).parse();if(n.err){var r=SyntaxError(li[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return e!=null&&e.captureLocation||NF(n.val),n.val}function ON(t,e){var n=e&&e.cache?e.cache:z_e,r=e&&e.serializer?e.serializer:K_e,i=e&&e.strategy?e.strategy:U_e;return i(t,{cache:n,serializer:r})}function F_e(t){return t==null||typeof t=="number"||typeof t=="boolean"}function Yne(t,e,n,r){var i=F_e(r)?r:n(r),s=e.get(i);return typeof s=="undefined"&&(s=t.call(this,r),e.set(i,s)),s}function Xne(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),s=e.get(i);return typeof s=="undefined"&&(s=t.apply(this,r),e.set(i,s)),s}function Tj(t,e,n,r,i){return n.bind(e,t,r,i)}function U_e(t,e){var n=t.length===1?Yne:Xne;return Tj(t,this,n,e.cache.create(),e.serializer)}function H_e(t,e){return Tj(t,this,Xne,e.cache.create(),e.serializer)}function j_e(t,e){return Tj(t,this,Yne,e.cache.create(),e.serializer)}var K_e=function(){return JSON.stringify(arguments)};function Cj(){this.cache=Object.create(null)}Cj.prototype.get=function(t){return this.cache[t]};Cj.prototype.set=function(t,e){this.cache[t]=e};var z_e={create:function(){return new Cj}},LN={variadic:H_e,monadic:j_e},tw;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(tw||(tw={}));var XM=function(t){YM(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.code=r,s.originalMessage=i,s}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),gW=function(t){YM(e,t);function e(n,r,i,s){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(i).join('", "'),'"'),tw.INVALID_VALUE,s)||this}return e}(XM),q_e=function(t){YM(e,t);function e(n,r,i){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),tw.INVALID_VALUE,i)||this}return e}(XM),V_e=function(t){YM(e,t);function e(n,r){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),tw.MISSING_VALUE,r)||this}return e}(XM),vl;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(vl||(vl={}));function G_e(t){return t.length<2?t:t.reduce(function(e,n){var r=e[e.length-1];return!r||r.type!==vl.literal||n.type!==vl.literal?e.push(n):r.value+=n.value,e},[])}function W_e(t){return typeof t=="function"}function fI(t,e,n,r,i,s,o){if(t.length===1&&lW(t[0]))return[{type:vl.literal,value:t[0].value}];for(var l=[],d=0,h=t;d<h.length;d++){var f=h[d];if(lW(f)){l.push({type:vl.literal,value:f.value});continue}if(c_e(f)){typeof s=="number"&&l.push({type:vl.literal,value:n.getNumberFormat(e).format(s)});continue}var v=f.value;if(!(i&&v in i))throw new V_e(v,o);var w=i[v];if(l_e(f)){(!w||typeof w=="string"||typeof w=="number")&&(w=typeof w=="string"||typeof w=="number"?String(w):""),l.push({type:typeof w=="string"?vl.literal:vl.object,value:w});continue}if(Nne(f)){var E=typeof f.style=="string"?r.date[f.style]:OF(f.style)?f.style.parsedOptions:void 0;l.push({type:vl.literal,value:n.getDateTimeFormat(e,E).format(w)});continue}if(Bne(f)){var E=typeof f.style=="string"?r.time[f.style]:OF(f.style)?f.style.parsedOptions:r.time.medium;l.push({type:vl.literal,value:n.getDateTimeFormat(e,E).format(w)});continue}if(Dne(f)){var E=typeof f.style=="string"?r.number[f.style]:Hne(f.style)?f.style.parsedOptions:void 0;E&&E.scale&&(w=w*(E.scale||1)),l.push({type:vl.literal,value:n.getNumberFormat(e,E).format(w)});continue}if(Une(f)){var C=f.children,O=f.value,M=i[O];if(!W_e(M))throw new q_e(O,"function",o);var A=fI(C,e,n,r,i,s),D=M(A.map(function(X){return X.value}));Array.isArray(D)||(D=[D]),l.push.apply(l,D.map(function(X){return{type:typeof X=="string"?vl.literal:vl.object,value:X}}))}if($ne(f)){var U=f.options[w]||f.options.other;if(!U)throw new gW(f.value,w,Object.keys(f.options),o);l.push.apply(l,fI(U.value,e,n,r,i));continue}if(Fne(f)){var U=f.options["=".concat(w)];if(!U){if(!Intl.PluralRules)throw new XM(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,tw.MISSING_INTL_API,o);var R=n.getPluralRules(e,{type:f.pluralType}).select(w-(f.offset||0));U=f.options[R]||f.options.other}if(!U)throw new gW(f.value,w,Object.keys(f.options),o);l.push.apply(l,fI(U.value,e,n,r,i,w-(f.offset||0)));continue}}return G_e(l)}function Y_e(t,e){return e?Pi(Pi(Pi({},t||{}),e||{}),Object.keys(t).reduce(function(n,r){return n[r]=Pi(Pi({},t[r]),e[r]||{}),n},{})):t}function X_e(t,e){return e?Object.keys(t).reduce(function(n,r){return n[r]=Y_e(t[r],e[r]),n},Pi({},t)):t}function AN(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function Z_e(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ON(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,RN([void 0],n,!1)))},{cache:AN(t.number),strategy:LN.variadic}),getDateTimeFormat:ON(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,RN([void 0],n,!1)))},{cache:AN(t.dateTime),strategy:LN.variadic}),getPluralRules:ON(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,RN([void 0],n,!1)))},{cache:AN(t.pluralRules),strategy:LN.variadic})}}var J_e=function(){function t(e,n,r,i){var s=this;if(n===void 0&&(n=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(o){var l=s.formatToParts(o);if(l.length===1)return l[0].value;var d=l.reduce(function(h,f){return!h.length||f.type!==vl.literal||typeof h[h.length-1]!="string"?h.push(f.value):h[h.length-1]+=f.value,h},[]);return d.length<=1?d[0]||"":d},this.formatToParts=function(o){return fI(s.ast,s.locales,s.formatters,s.formats,o,void 0,s.message)},this.resolvedOptions=function(){return{locale:s.resolvedLocale.toString()}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{ignoreTag:i==null?void 0:i.ignoreTag,locale:this.resolvedLocale})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=X_e(t.formats,r),this.formatters=i&&i.formatters||Z_e(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])},t.__parse=$_e,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),Q_e=J_e;function Zne(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e3e={};Zne(e3e,"MessageDictionary",()=>Jne);class Jne{getStringForLocale(e,n){let r=this.messages[n];r||(r=t3e(n,this.messages,this.defaultLocale),this.messages[n]=r);let i=r[e];if(!i)throw new Error(`Could not find intl message ${e} in ${n} locale`);return i}constructor(e,n="en-US"){this.messages={...e},this.defaultLocale=n}}function t3e(t,e,n="en-US"){if(e[t])return e[t];let r=n3e(t);if(e[r])return e[r];for(let i in e)if(i.startsWith(r+"-"))return e[i];return e[n]}function n3e(t){return Intl.Locale?new Intl.Locale(t).language:t.split("-")[0]}var r3e={};Zne(r3e,"MessageFormatter",()=>Qne);class Qne{format(e,n){let r=this.cache[e];if(!r){let s=this.messages.getStringForLocale(e,this.locale);if(!s)throw new Error(`Could not find intl message ${e} in ${this.locale} locale`);r=new Q_e(s,this.locale),this.cache[e]=r}let i;return n&&(i=Object.keys(n).reduce((s,o)=>(s[o]=n[o]==null?!1:n[o],s),{})),r.format(i)}constructor(e,n){this.locale=e,this.messages=n,this.cache={}}}let PN=new Map;class i3e{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,n){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} \u2013 ${this.formatter.format(n)}`}formatRangeToParts(e,n){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),i=this.formatter.formatToParts(n);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return a3e()&&(this.resolvedHourCycle||(this.resolvedHourCycle=l3e(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,n={}){this.formatter=ere(e,n),this.options=n}}const s3e={true:{ja:"h11"},false:{}};function ere(t,e={}){if(typeof e.hour12=="boolean"&&o3e()){e={...e};let i=s3e[String(e.hour12)][t.split("-")[0]],s=e.hour12?"h12":"h23";e.hourCycle=i!=null?i:s,delete e.hour12}let n=t+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(PN.has(n))return PN.get(n);let r=new Intl.DateTimeFormat(t,e);return PN.set(n,r),r}let DN=null;function o3e(){return DN==null&&(DN=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),DN}let NN=null;function a3e(){return NN==null&&(NN=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),NN}function l3e(t,e){if(!e.timeStyle&&!e.hour)return;t=t.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),t+=(t.includes("-u-")?"":"-u")+"-nu-latn";let n=ere(t,{...e,timeZone:void 0}),r=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(s=>s.type==="hour").value,10),i=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(s=>s.type==="hour").value,10);if(r===0&&i===23)return"h23";if(r===24&&i===23)return"h24";if(r===0&&i===11)return"h11";if(r===12&&i===11)return"h12";throw new Error("Unexpected hour cycle result")}let BN=new Map,BF=!1;try{BF=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let SR=!1;try{SR=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const tre={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}};class c3e{format(e){let n="";if(!BF&&this.options.signDisplay!=null?n=d3e(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!SR){var r;let{unit:i,unitDisplay:s="short",locale:o}=this.resolvedOptions(),l=(r=tre[i])===null||r===void 0?void 0:r[s];n+=l[o]||l.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} \u2013 ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(n);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!BF&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!SR&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=u3e(e,n),this.options=n}}function u3e(t,e={}){let{numberingSystem:n}=e;if(n&&t.indexOf("-u-nu-")===-1&&(t=`${t}-u-nu-${n}`),e.style==="unit"&&!SR){var r;let{unit:o,unitDisplay:l="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=tre[o])===null||r===void 0)&&r[l]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let i=t+(e?Object.entries(e).sort((o,l)=>o[0]<l[0]?-1:1).join():"");if(BN.has(i))return BN.get(i);let s=new Intl.NumberFormat(t,e);return BN.set(i,s),s}function d3e(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=t.format(-n),s=t.format(n),o=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(o,"+").replace("!!!",s)}else return t.format(n)}}function fv(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var nre={};fv(nre,"I18nProvider",()=>p3e);fv(nre,"useLocale",()=>rm);const f3e=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),h3e=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function rre(t){if(Intl.Locale){let n=new Intl.Locale(t).maximize().script;return f3e.has(n)}let e=t.split("-")[0];return h3e.has(e)}function ire(){let t=typeof navigator!="undefined"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:rre(t)?"rtl":"ltr"}}let $F=ire(),uS=new Set;function mW(){$F=ire();for(let t of uS)t($F)}function sre(){let t=_ne(),[e,n]=ee.exports.useState($F);return ee.exports.useEffect(()=>(uS.size===0&&window.addEventListener("languagechange",mW),uS.add(n),()=>{uS.delete(n),uS.size===0&&window.removeEventListener("languagechange",mW)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const ore=z.createContext(null);function p3e(t){let{locale:e,children:n}=t,r=sre(),i=e?{locale:e,direction:rre(e)?"rtl":"ltr"}:r;return z.createElement(ore.Provider,{value:i},n)}function rm(){let t=sre();return ee.exports.useContext(ore)||t}var g3e={};fv(g3e,"useMessageFormatter",()=>Ij);const yW=new WeakMap;function m3e(t){let e=yW.get(t);return e||(e=new Jne(t),yW.set(t,e)),e}function Ij(t){let{locale:e}=rm(),n=ee.exports.useMemo(()=>m3e(t),[t]),r=ee.exports.useMemo(()=>new Qne(e,n),[e,n]);return ee.exports.useCallback((i,s)=>r.format(i,s),[r])}var y3e={};fv(y3e,"useDateFormatter",()=>v3e);function v3e(t){let e=ee.exports.useRef(null);t&&e.current&&b3e(t,e.current)&&(t=e.current),e.current=t;let{locale:n}=rm();return ee.exports.useMemo(()=>new i3e(n,t),[n,t])}function b3e(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i of n)if(e[i]!==t[i])return!1;return!0}var _3e={};fv(_3e,"useNumberFormatter",()=>w3e);function w3e(t={}){let{locale:e}=rm();return ee.exports.useMemo(()=>new c3e(e,t),[e,t])}var E3e={};fv(E3e,"useCollator",()=>ZM);let $N=new Map;function ZM(t){let{locale:e}=rm(),n=e+(t?Object.entries(t).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if($N.has(n))return $N.get(n);let r=new Intl.Collator(e,t);return $N.set(n,r),r}var S3e={};fv(S3e,"useFilter",()=>x3e);function x3e(t){let e=ZM({usage:"search",...t});return{startsWith(n,r){return r.length===0?!0:(n=n.normalize("NFC"),r=r.normalize("NFC"),e.compare(n.slice(0,r.length),r)===0)},endsWith(n,r){return r.length===0?!0:(n=n.normalize("NFC"),r=r.normalize("NFC"),e.compare(n.slice(-r.length),r)===0)},contains(n,r){if(r.length===0)return!0;n=n.normalize("NFC"),r=r.normalize("NFC");let i=0,s=r.length;for(;i+s<=n.length;i++){let o=n.slice(i,i+s);if(e.compare(r,o)===0)return!0}return!1}}}function Cx(t){return t&&t.ownerDocument||document}function k3e(t){var e=Cx(t);return e&&e.defaultView||window}function T3e(t,e){return k3e(t).getComputedStyle(t,e)}var C3e=/([A-Z])/g;function I3e(t){return t.replace(C3e,"-$1").toLowerCase()}var R3e=/^ms-/;function fC(t){return I3e(t).replace(R3e,"-ms-")}var M3e=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function O3e(t){return!!(t&&M3e.test(t))}function fg(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(fC(e))||T3e(t).getPropertyValue(fC(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(fC(i)):O3e(i)?r+=i+"("+s+") ":n+=fC(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function L3e(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function A3e(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function P3e(t){return"window"in t&&t.window===t?t:A3e(t)&&t.defaultView||!1}function are(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=P3e(r);if(i===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],i):r[e]=i}return n}var FS=are("pageXOffset"),US=are("pageYOffset");function T3(t){var e=Cx(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!L3e(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+US(r)-(r.clientTop||0),left:n.left+FS(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var D3e=function(e){return!!e&&"offsetParent"in e};function N3e(t){for(var e=Cx(t),n=t&&t.offsetParent;D3e(n)&&n.nodeName!=="HTML"&&fg(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var B3e=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function vW(t,e){var n={top:0,left:0},r;if(fg(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||N3e(t);r=T3(t),B3e(i)!=="html"&&(n=T3(i));var s=String(fg(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-US(i)||0;var o=String(fg(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-FS(i)||0}var l=String(fg(t,"marginTop")||0),d=String(fg(t,"marginLeft")||0);return Za({},r,{top:r.top-n.top-(parseInt(l,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}function Sa(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var $3e={};Sa($3e,"Pressable",()=>V3e);var F3e={};Sa(F3e,"usePress",()=>hv);let c3="default",FF="",hI=new WeakMap;function UF(t){g8()?(c3==="default"&&(FF=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),c3="disabled"):t&&(hI.set(t,t.style.userSelect),t.style.userSelect="none")}function dS(t){if(g8()){if(c3!=="disabled")return;c3="restoring",setTimeout(()=>{wj(()=>{c3==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=FF||""),FF="",c3="default")})},300)}else if(t&&hI.has(t)){let e=hI.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),hI.delete(t)}}function HF(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}class U3e{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function lre(t){let e=ee.exports.useRef({isFocused:!1,onBlur:t,observer:null});return e.current.onBlur=t,Ea(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),ee.exports.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=n.target,i=s=>{var o,l;e.current.isFocused=!1,r.disabled&&((l=(o=e.current).onBlur)===null||l===void 0||l.call(o,new U3e("blur",s))),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{e.current.isFocused&&r.disabled&&(e.current.observer.disconnect(),r.dispatchEvent(new FocusEvent("blur")),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[])}const xR=z.createContext(null);xR.displayName="PressResponderContext";function H3e(t){let e=ee.exports.useContext(xR);if(e){let{register:n,...r}=e;t=di(r,t),n()}return WM(e,t.ref),t}function hv(t){let{onPress:e,onPressChange:n,onPressStart:r,onPressEnd:i,onPressUp:s,isDisabled:o,isPressed:l,preventFocusOnPress:d,shouldCancelOnPointerExit:h,allowTextSelectionOnPress:f,ref:v,...w}=H3e(t),E=ee.exports.useRef(null);E.current={onPress:e,onPressChange:n,onPressStart:r,onPressEnd:i,onPressUp:s,isDisabled:o,shouldCancelOnPointerExit:h};let[C,O]=ee.exports.useState(!1),M=ee.exports.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:A,removeAllGlobalListeners:D}=GM(),U=ee.exports.useMemo(()=>{let R=M.current,X=(se,oe)=>{let{onPressStart:Q,onPressChange:ae,isDisabled:he}=E.current;he||R.didFirePressStart||(Q&&Q({type:"pressstart",pointerType:oe,target:se.currentTarget,shiftKey:se.shiftKey,metaKey:se.metaKey,ctrlKey:se.ctrlKey,altKey:se.altKey}),ae&&ae(!0),R.didFirePressStart=!0,O(!0))},H=(se,oe,Q=!0)=>{let{onPressEnd:ae,onPressChange:he,onPress:Ee,isDisabled:De}=E.current;!R.didFirePressStart||(R.ignoreClickAfterPress=!0,R.didFirePressStart=!1,ae&&ae({type:"pressend",pointerType:oe,target:se.currentTarget,shiftKey:se.shiftKey,metaKey:se.metaKey,ctrlKey:se.ctrlKey,altKey:se.altKey}),he&&he(!1),O(!1),Ee&&Q&&!De&&Ee({type:"press",pointerType:oe,target:se.currentTarget,shiftKey:se.shiftKey,metaKey:se.metaKey,ctrlKey:se.ctrlKey,altKey:se.altKey}))},K=(se,oe)=>{let{onPressUp:Q,isDisabled:ae}=E.current;ae||Q&&Q({type:"pressup",pointerType:oe,target:se.currentTarget,shiftKey:se.shiftKey,metaKey:se.metaKey,ctrlKey:se.ctrlKey,altKey:se.altKey})},W=se=>{R.isPressed&&(R.isOverTarget&&H(Vh(R.target,se),R.pointerType,!1),R.isPressed=!1,R.isOverTarget=!1,R.activePointerId=null,R.pointerType=null,D(),f||dS(R.target))},Z={onKeyDown(se){FN(se.nativeEvent)&&se.currentTarget.contains(se.target)&&(_W(se.target)&&se.preventDefault(),se.stopPropagation(),!R.isPressed&&!se.repeat&&(R.target=se.currentTarget,R.isPressed=!0,X(se,"keyboard"),A(document,"keyup",ie,!1)))},onKeyUp(se){FN(se.nativeEvent)&&!se.repeat&&se.currentTarget.contains(se.target)&&K(Vh(R.target,se),"keyboard")},onClick(se){se&&!se.currentTarget.contains(se.target)||se&&se.button===0&&(se.stopPropagation(),o&&se.preventDefault(),!R.ignoreClickAfterPress&&!R.ignoreEmulatedMouseEvents&&(R.pointerType==="virtual"||HF(se.nativeEvent))&&(!o&&!d&&dp(se.currentTarget),X(se,"virtual"),K(se,"virtual"),H(se,"virtual")),R.ignoreEmulatedMouseEvents=!1,R.ignoreClickAfterPress=!1)}},ie=se=>{if(R.isPressed&&FN(se)){_W(se.target)&&se.preventDefault(),se.stopPropagation(),R.isPressed=!1;let oe=se.target;H(Vh(R.target,se),"keyboard",R.target.contains(oe)),D(),(R.target.contains(oe)&&cre(R.target)||R.target.getAttribute("role")==="link")&&R.target.click()}};if(typeof PointerEvent!="undefined"){Z.onPointerDown=ae=>{if(!(ae.button!==0||!ae.currentTarget.contains(ae.target))){if(q3e(ae.nativeEvent)){R.pointerType="virtual";return}UN(ae.currentTarget)&&ae.preventDefault(),R.pointerType=ae.pointerType,ae.stopPropagation(),R.isPressed||(R.isPressed=!0,R.isOverTarget=!0,R.activePointerId=ae.pointerId,R.target=ae.currentTarget,!o&&!d&&dp(ae.currentTarget),f||UF(R.target),X(ae,R.pointerType),A(document,"pointermove",se,!1),A(document,"pointerup",oe,!1),A(document,"pointercancel",Q,!1))}},Z.onMouseDown=ae=>{!ae.currentTarget.contains(ae.target)||ae.button===0&&(UN(ae.currentTarget)&&ae.preventDefault(),ae.stopPropagation())},Z.onPointerUp=ae=>{!ae.currentTarget.contains(ae.target)||R.pointerType==="virtual"||ae.button===0&&x_(ae,ae.currentTarget)&&K(ae,R.pointerType||ae.pointerType)};let se=ae=>{ae.pointerId===R.activePointerId&&(x_(ae,R.target)?R.isOverTarget||(R.isOverTarget=!0,X(Vh(R.target,ae),R.pointerType)):R.isOverTarget&&(R.isOverTarget=!1,H(Vh(R.target,ae),R.pointerType,!1),E.current.shouldCancelOnPointerExit&&W(ae)))},oe=ae=>{ae.pointerId===R.activePointerId&&R.isPressed&&ae.button===0&&(x_(ae,R.target)?H(Vh(R.target,ae),R.pointerType):R.isOverTarget&&H(Vh(R.target,ae),R.pointerType,!1),R.isPressed=!1,R.isOverTarget=!1,R.activePointerId=null,R.pointerType=null,D(),f||dS(R.target))},Q=ae=>{W(ae)};Z.onDragStart=ae=>{!ae.currentTarget.contains(ae.target)||W(ae)}}else{Z.onMouseDown=Q=>{Q.button!==0||!Q.currentTarget.contains(Q.target)||(UN(Q.currentTarget)&&Q.preventDefault(),Q.stopPropagation(),!R.ignoreEmulatedMouseEvents&&(R.isPressed=!0,R.isOverTarget=!0,R.target=Q.currentTarget,R.pointerType=HF(Q.nativeEvent)?"virtual":"mouse",!o&&!d&&dp(Q.currentTarget),X(Q,R.pointerType),A(document,"mouseup",se,!1)))},Z.onMouseEnter=Q=>{!Q.currentTarget.contains(Q.target)||(Q.stopPropagation(),R.isPressed&&!R.ignoreEmulatedMouseEvents&&(R.isOverTarget=!0,X(Q,R.pointerType)))},Z.onMouseLeave=Q=>{!Q.currentTarget.contains(Q.target)||(Q.stopPropagation(),R.isPressed&&!R.ignoreEmulatedMouseEvents&&(R.isOverTarget=!1,H(Q,R.pointerType,!1),E.current.shouldCancelOnPointerExit&&W(Q)))},Z.onMouseUp=Q=>{!Q.currentTarget.contains(Q.target)||!R.ignoreEmulatedMouseEvents&&Q.button===0&&K(Q,R.pointerType)};let se=Q=>{if(Q.button===0){if(R.isPressed=!1,D(),R.ignoreEmulatedMouseEvents){R.ignoreEmulatedMouseEvents=!1;return}x_(Q,R.target)?H(Vh(R.target,Q),R.pointerType):R.isOverTarget&&H(Vh(R.target,Q),R.pointerType,!1),R.isOverTarget=!1}};Z.onTouchStart=Q=>{if(!Q.currentTarget.contains(Q.target))return;Q.stopPropagation();let ae=j3e(Q.nativeEvent);!ae||(R.activePointerId=ae.identifier,R.ignoreEmulatedMouseEvents=!0,R.isOverTarget=!0,R.isPressed=!0,R.target=Q.currentTarget,R.pointerType="touch",!o&&!d&&dp(Q.currentTarget),f||UF(R.target),X(Q,R.pointerType),A(window,"scroll",oe,!0))},Z.onTouchMove=Q=>{if(!Q.currentTarget.contains(Q.target)||(Q.stopPropagation(),!R.isPressed))return;let ae=bW(Q.nativeEvent,R.activePointerId);ae&&x_(ae,Q.currentTarget)?R.isOverTarget||(R.isOverTarget=!0,X(Q,R.pointerType)):R.isOverTarget&&(R.isOverTarget=!1,H(Q,R.pointerType,!1),E.current.shouldCancelOnPointerExit&&W(Q))},Z.onTouchEnd=Q=>{if(!Q.currentTarget.contains(Q.target)||(Q.stopPropagation(),!R.isPressed))return;let ae=bW(Q.nativeEvent,R.activePointerId);ae&&x_(ae,Q.currentTarget)?(K(Q,R.pointerType),H(Q,R.pointerType)):R.isOverTarget&&H(Q,R.pointerType,!1),R.isPressed=!1,R.activePointerId=null,R.isOverTarget=!1,R.ignoreEmulatedMouseEvents=!0,f||dS(R.target),D()},Z.onTouchCancel=Q=>{!Q.currentTarget.contains(Q.target)||(Q.stopPropagation(),R.isPressed&&W(Q))};let oe=Q=>{R.isPressed&&Q.target.contains(R.target)&&W({currentTarget:R.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};Z.onDragStart=Q=>{!Q.currentTarget.contains(Q.target)||W(Q)}}return Z},[A,o,d,D,f]);return ee.exports.useEffect(()=>()=>{f||dS(M.current.target)},[f]),{isPressed:l||C,pressProps:di(w,U)}}function cre(t){return t.tagName==="A"&&t.hasAttribute("href")}function FN(t){const{key:e,code:n,target:r}=t,i=r,{tagName:s,isContentEditable:o}=i,l=i.getAttribute("role");return(e==="Enter"||e===" "||e==="Spacebar"||n==="Space")&&s!=="INPUT"&&s!=="TEXTAREA"&&o!==!0&&(!cre(i)||l==="button"&&e!=="Enter")&&!(l==="link"&&e!=="Enter")}function j3e(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function bW(t,e){const n=t.changedTouches;for(let r=0;r<n.length;r++){const i=n[r];if(i.identifier===e)return i}return null}function Vh(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function K3e(t){let e=t.width/2||t.radiusX||0,n=t.height/2||t.radiusY||0;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function z3e(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function x_(t,e){let n=e.getBoundingClientRect(),r=K3e(t);return z3e(n,r)}function UN(t){return!t.draggable}function _W(t){return!((t.tagName==="INPUT"||t.tagName==="BUTTON")&&t.type==="submit")}function q3e(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}const V3e=z.forwardRef(({children:t,...e},n)=>{let r=ee.exports.useRef();n=n!=null?n:r;let{pressProps:i}=hv({...e,ref:n}),s=z.Children.only(t);return z.cloneElement(s,{ref:n,...di(s.props,i)})});var G3e={};Sa(G3e,"PressResponder",()=>W3e);const W3e=z.forwardRef(({children:t,...e},n)=>{let r=ee.exports.useRef(!1),i=ee.exports.useContext(xR),s=di(i||{},{...e,ref:n||(i==null?void 0:i.ref),register(){r.current=!0,i&&i.register()}});return WM(i,n),ee.exports.useEffect(()=>{r.current||console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component.")},[]),z.createElement(xR.Provider,{value:s},t)});var Y3e={};Sa(Y3e,"useFocus",()=>m8);function m8(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=ee.exports.useCallback(d=>{if(d.target===d.currentTarget)return r&&r(d),i&&i(!1),!0},[r,i]),o=lre(s),l=ee.exports.useCallback(d=>{d.target===d.currentTarget&&(n&&n(d),i&&i(!0),o(d))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?l:void 0,onBlur:!e&&(r||i)?s:null}}}var Ow={};Sa(Ow,"isFocusVisible",()=>pv);Sa(Ow,"getInteractionModality",()=>Rj);Sa(Ow,"setInteractionModality",()=>ure);Sa(Ow,"useInteractionModality",()=>dre);Sa(Ow,"useFocusVisible",()=>fre);Sa(Ow,"useFocusVisibleListener",()=>Mj);let bp=null,Ix=new Set,wW=!1,zy=!1,jF=!1;const X3e={Tab:!0,Escape:!0};function JM(t,e){for(let n of Ix)n(t,e)}function Z3e(t){return!(t.metaKey||!Mw()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function EW(t){zy=!0,Z3e(t)&&(bp="keyboard",JM("keyboard",t))}function k_(t){bp="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(zy=!0,JM("pointer",t))}function J3e(t){HF(t)&&(zy=!0,bp="virtual")}function Q3e(t){t.target===window||t.target===document||(!zy&&!jF&&(bp="virtual",JM("virtual",t)),zy=!1,jF=!1)}function ewe(){zy=!1,jF=!0}function kR(){if(typeof window=="undefined"||wW)return;let t=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){zy=!0,t.apply(this,arguments)},document.addEventListener("keydown",EW,!0),document.addEventListener("keyup",EW,!0),document.addEventListener("click",J3e,!0),window.addEventListener("focus",Q3e,!0),window.addEventListener("blur",ewe,!1),typeof PointerEvent!="undefined"?(document.addEventListener("pointerdown",k_,!0),document.addEventListener("pointermove",k_,!0),document.addEventListener("pointerup",k_,!0)):(document.addEventListener("mousedown",k_,!0),document.addEventListener("mousemove",k_,!0),document.addEventListener("mouseup",k_,!0)),wW=!0}typeof document!="undefined"&&(document.readyState!=="loading"?kR():document.addEventListener("DOMContentLoaded",kR));function pv(){return bp!=="pointer"}function Rj(){return bp}function ure(t){bp=t,JM(t,null)}function dre(){kR();let[t,e]=ee.exports.useState(bp);return ee.exports.useEffect(()=>{let n=()=>{e(bp)};return Ix.add(n),()=>{Ix.delete(n)}},[]),t}function twe(t,e,n){return!(t&&e==="keyboard"&&n instanceof KeyboardEvent&&!X3e[n.key])}function fre(t={}){let{isTextInput:e,autoFocus:n}=t,[r,i]=ee.exports.useState(n||pv());return Mj(s=>{i(s)},[e],{isTextInput:e}),{isFocusVisible:r}}function Mj(t,e,n){kR(),ee.exports.useEffect(()=>{let r=(i,s)=>{!twe(n==null?void 0:n.isTextInput,i,s)||t(pv())};return Ix.add(r),()=>{Ix.delete(r)}},e)}var nwe={};Sa(nwe,"useFocusWithin",()=>QM);function QM(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=ee.exports.useRef({isFocusWithin:!1}),o=ee.exports.useCallback(h=>{s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(h),i&&i(!1))},[n,i,s]),l=lre(o),d=ee.exports.useCallback(h=>{s.current.isFocusWithin||(r&&r(h),i&&i(!0),s.current.isFocusWithin=!0,l(h))},[r,i,l]);return e?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:d,onBlur:o}}}var rwe={};Sa(rwe,"useHover",()=>y8);let TR=!1,HN=0;function KF(){TR=!0,setTimeout(()=>{TR=!1},50)}function SW(t){t.pointerType==="touch"&&KF()}function iwe(){if(typeof document!="undefined")return typeof PointerEvent!="undefined"?document.addEventListener("pointerup",SW):document.addEventListener("touchend",KF),HN++,()=>{HN--,!(HN>0)&&(typeof PointerEvent!="undefined"?document.removeEventListener("pointerup",SW):document.removeEventListener("touchend",KF))}}function y8(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=ee.exports.useState(!1),l=ee.exports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;ee.exports.useEffect(iwe,[]);let{hoverProps:d,triggerHoverEnd:h}=ee.exports.useMemo(()=>{let f=(E,C)=>{if(l.pointerType=C,i||C==="touch"||l.isHovered||!E.currentTarget.contains(E.target))return;l.isHovered=!0;let O=E.currentTarget;l.target=O,e&&e({type:"hoverstart",target:O,pointerType:C}),n&&n(!0),o(!0)},v=(E,C)=>{if(l.pointerType="",l.target=null,C==="touch"||!l.isHovered)return;l.isHovered=!1;let O=E.currentTarget;r&&r({type:"hoverend",target:O,pointerType:C}),n&&n(!1),o(!1)},w={};return typeof PointerEvent!="undefined"?(w.onPointerEnter=E=>{TR&&E.pointerType==="mouse"||f(E,E.pointerType)},w.onPointerLeave=E=>{!i&&E.currentTarget.contains(E.target)&&v(E,E.pointerType)}):(w.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},w.onMouseEnter=E=>{!l.ignoreEmulatedMouseEvents&&!TR&&f(E,"mouse"),l.ignoreEmulatedMouseEvents=!1},w.onMouseLeave=E=>{!i&&E.currentTarget.contains(E.target)&&v(E,"mouse")}),{hoverProps:w,triggerHoverEnd:v}},[e,n,r,i,l]);return ee.exports.useEffect(()=>{i&&h({currentTarget:l.target},l.pointerType)},[i]),{hoverProps:d,isHovered:s}}var swe={};Sa(swe,"useInteractOutside",()=>hre);function hre(t){let{ref:e,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:i}=t,o=ee.exports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1,onInteractOutside:n,onInteractOutsideStart:i}).current;o.onInteractOutside=n,o.onInteractOutsideStart=i,ee.exports.useEffect(()=>{if(r)return;let l=d=>{hC(d,e)&&o.onInteractOutside&&(o.onInteractOutsideStart&&o.onInteractOutsideStart(d),o.isPointerDown=!0)};if(typeof PointerEvent!="undefined"){let d=h=>{o.isPointerDown&&o.onInteractOutside&&hC(h,e)&&(o.isPointerDown=!1,o.onInteractOutside(h))};return document.addEventListener("pointerdown",l,!0),document.addEventListener("pointerup",d,!0),()=>{document.removeEventListener("pointerdown",l,!0),document.removeEventListener("pointerup",d,!0)}}else{let d=f=>{o.ignoreEmulatedMouseEvents?o.ignoreEmulatedMouseEvents=!1:o.isPointerDown&&o.onInteractOutside&&hC(f,e)&&(o.isPointerDown=!1,o.onInteractOutside(f))},h=f=>{o.ignoreEmulatedMouseEvents=!0,o.onInteractOutside&&o.isPointerDown&&hC(f,e)&&(o.isPointerDown=!1,o.onInteractOutside(f))};return document.addEventListener("mousedown",l,!0),document.addEventListener("mouseup",d,!0),document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",h,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("mouseup",d,!0),document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",h,!0)}}},[e,o,r])}function hC(t,e){if(t.button>0)return!1;if(t.target){const n=t.target.ownerDocument;if(!n||!n.documentElement.contains(t.target))return!1}return e.current&&!e.current.contains(t.target)}var owe={};Sa(owe,"useKeyboard",()=>pre);function xW(t){if(!t)return;let e=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){e=!1}};t(r),e&&n.stopPropagation()}}function pre(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:xW(t.onKeyDown),onKeyUp:xW(t.onKeyUp)}}}var awe={};Sa(awe,"useMove",()=>lwe);function lwe(t){let{onMoveStart:e,onMove:n,onMoveEnd:r}=t,i=ee.exports.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:s,removeGlobalListener:o}=GM();return{moveProps:ee.exports.useMemo(()=>{let d={},h=()=>{UF(),i.current.didMove=!1},f=(E,C,O,M)=>{O===0&&M===0||(i.current.didMove||(i.current.didMove=!0,e==null||e({type:"movestart",pointerType:C,shiftKey:E.shiftKey,metaKey:E.metaKey,ctrlKey:E.ctrlKey,altKey:E.altKey})),n({type:"move",pointerType:C,deltaX:O,deltaY:M,shiftKey:E.shiftKey,metaKey:E.metaKey,ctrlKey:E.ctrlKey,altKey:E.altKey}))},v=(E,C)=>{dS(),i.current.didMove&&(r==null||r({type:"moveend",pointerType:C,shiftKey:E.shiftKey,metaKey:E.metaKey,ctrlKey:E.ctrlKey,altKey:E.altKey}))};if(typeof PointerEvent=="undefined"){let E=A=>{A.button===0&&(f(A,"mouse",A.pageX-i.current.lastPosition.pageX,A.pageY-i.current.lastPosition.pageY),i.current.lastPosition={pageX:A.pageX,pageY:A.pageY})},C=A=>{A.button===0&&(v(A,"mouse"),o(window,"mousemove",E,!1),o(window,"mouseup",C,!1))};d.onMouseDown=A=>{A.button===0&&(h(),A.stopPropagation(),A.preventDefault(),i.current.lastPosition={pageX:A.pageX,pageY:A.pageY},s(window,"mousemove",E,!1),s(window,"mouseup",C,!1))};let O=A=>{let D=[...A.changedTouches].findIndex(({identifier:U})=>U===i.current.id);if(D>=0){let{pageX:U,pageY:R}=A.changedTouches[D];f(A,"touch",U-i.current.lastPosition.pageX,R-i.current.lastPosition.pageY),i.current.lastPosition={pageX:U,pageY:R}}},M=A=>{[...A.changedTouches].findIndex(({identifier:U})=>U===i.current.id)>=0&&(v(A,"touch"),i.current.id=null,o(window,"touchmove",O),o(window,"touchend",M),o(window,"touchcancel",M))};d.onTouchStart=A=>{if(A.changedTouches.length===0||i.current.id!=null)return;let{pageX:D,pageY:U,identifier:R}=A.changedTouches[0];h(),A.stopPropagation(),A.preventDefault(),i.current.lastPosition={pageX:D,pageY:U},i.current.id=R,s(window,"touchmove",O,!1),s(window,"touchend",M,!1),s(window,"touchcancel",M,!1)}}else{let E=O=>{if(O.pointerId===i.current.id){let M=O.pointerType||"mouse";f(O,M,O.pageX-i.current.lastPosition.pageX,O.pageY-i.current.lastPosition.pageY),i.current.lastPosition={pageX:O.pageX,pageY:O.pageY}}},C=O=>{if(O.pointerId===i.current.id){let M=O.pointerType||"mouse";v(O,M),i.current.id=null,o(window,"pointermove",E,!1),o(window,"pointerup",C,!1),o(window,"pointercancel",C,!1)}};d.onPointerDown=O=>{O.button===0&&i.current.id==null&&(h(),O.stopPropagation(),O.preventDefault(),i.current.lastPosition={pageX:O.pageX,pageY:O.pageY},i.current.id=O.pointerId,s(window,"pointermove",E,!1),s(window,"pointerup",C,!1),s(window,"pointercancel",C,!1))}}let w=(E,C,O)=>{h(),f(E,"keyboard",C,O),v(E,"keyboard")};return d.onKeyDown=E=>{switch(E.key){case"Left":case"ArrowLeft":E.preventDefault(),E.stopPropagation(),w(E,-1,0);break;case"Right":case"ArrowRight":E.preventDefault(),E.stopPropagation(),w(E,1,0);break;case"Up":case"ArrowUp":E.preventDefault(),E.stopPropagation(),w(E,0,-1);break;case"Down":case"ArrowDown":E.preventDefault(),E.stopPropagation(),w(E,0,1);break}},d},[i,e,n,r,s,o])}}var cwe={};Sa(cwe,"useScrollWheel",()=>uwe);function uwe(t,e){let{onScroll:n,isDisabled:r}=t,i=ee.exports.useCallback(s=>{s.ctrlKey||(s.preventDefault(),s.stopPropagation(),n&&n({deltaX:s.deltaX,deltaY:s.deltaY}))},[n]);kj(e,"wheel",r?null:i)}var dwe={};Sa(dwe,"useLongPress",()=>Oj);const fwe=500;function Oj(t){let{isDisabled:e,onLongPressStart:n,onLongPressEnd:r,onLongPress:i,threshold:s=fwe,accessibilityDescription:o}=t;const l=ee.exports.useRef(null);let{addGlobalListener:d,removeGlobalListener:h}=GM(),{pressProps:f}=hv({isDisabled:e,onPressStart(w){if((w.pointerType==="mouse"||w.pointerType==="touch")&&(n&&n({...w,type:"longpressstart"}),l.current=setTimeout(()=>{w.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...w,type:"longpress"}),l.current=null},s),w.pointerType==="touch")){let E=C=>{C.preventDefault()};d(w.target,"contextmenu",E,{once:!0}),d(window,"pointerup",()=>{setTimeout(()=>{h(w.target,"contextmenu",E)},30)},{once:!0})}},onPressEnd(w){l.current&&clearTimeout(l.current),r&&(w.pointerType==="mouse"||w.pointerType==="touch")&&r({...w,type:"longpressend"})}}),v=Ine(i&&!e?o:null);return{longPressProps:di(f,v)}}function gre(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var mre={};gre(mre,"useVisuallyHidden",()=>Lj);gre(mre,"VisuallyHidden",()=>yre);const kW={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"};function Lj(t={}){let{style:e,isFocusable:n}=t,[r,i]=ee.exports.useState(!1),{focusProps:s}=m8({isDisabled:!n,onFocusChange:i}),o=ee.exports.useMemo(()=>r?e:e?{...kW,...e}:kW,[r]);return{visuallyHiddenProps:{...s,style:o}}}function yre(t){let{children:e,elementType:n="div",isFocusable:r,style:i,...s}=t,{visuallyHiddenProps:o}=Lj(t);return z.createElement(n,di(s,o),e)}function bd(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function hwe(t){return t&&t.__esModule?t.default:t}var pwe={};bd(pwe,"useOverlayPosition",()=>Aj);const TW={top:"top",bottom:"top",left:"left",right:"left"},CR={top:"bottom",bottom:"top",left:"right",right:"left"},gwe={top:"left",left:"top"},zF={top:"height",left:"width"},pC={};let T_=typeof window!="undefined"&&window.visualViewport;function mwe(t){let e=0,n=0,r=0,i=0,s={};if(t.tagName==="BODY"){var o;e=(o=T_==null?void 0:T_.width)!==null&&o!==void 0?o:document.documentElement.clientWidth;var l;n=(l=T_==null?void 0:T_.height)!==null&&l!==void 0?l:document.documentElement.clientHeight,s.top=US(Cx(t).documentElement)||US(t),s.left=FS(Cx(t).documentElement)||FS(t)}else({width:e,height:n,top:r,left:i}=T3(t)),s.top=US(t),s.left=FS(t);return{width:e,height:n,scroll:s,top:r,left:i}}function ywe(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function CW(t,e,n,r,i){let s=r.scroll[t],o=r[zF[t]],l=e-i-s,d=e+i-s+n;return l<0?-l:d>o?Math.max(o-d,-l):0}function vwe(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function IW(t){if(pC[t])return pC[t];let[e,n]=t.split(" "),r=TW[e]||"right",i=gwe[r];TW[n]||(n="center");let s=zF[r],o=zF[i];return pC[t]={placement:e,crossPlacement:n,axis:r,crossAxis:i,size:s,crossSize:o},pC[t]}function jN(t,e,n,r,i,s,o,l){let{placement:d,crossPlacement:h,axis:f,crossAxis:v,size:w,crossSize:E}=r,C={};C[v]=t[v],h==="center"?C[v]+=(t[E]-n[E])/2:h!==v&&(C[v]+=t[E]-n[E]),C[v]+=s;let O=t[v]+t[E]/2-n[E],M=t[v]+t[E]/2;if(C[v]=Math.min(Math.max(O,C[v]),M),d===f){const A=l?o[w]:e[w];C[CR[f]]=Math.floor(A-t[f]+i)}else C[f]=Math.floor(t[f]+t[w]+i);return C}function bwe(t,e,n,r,i,s){return t.top!=null?Math.max(0,e.height+e.top+e.scroll.top-(n.top+t.top)-(i.top+i.bottom+s)):Math.max(0,r.top+n.top-(e.top+e.scroll.top)-(i.top+i.bottom+s))}function RW(t,e,n,r,i,s){let{placement:o,axis:l,size:d}=s;return o===l?Math.max(0,n[l]-t[l]-t.scroll[l]+e[l]-r[l]-r[CR[l]]-i):Math.max(0,t[d]+t[l]+t.scroll[l]-e[l]-n[l]-n[d]-r[l]-r[CR[l]]-i)}function _we(t,e,n,r,i,s,o,l,d,h,f,v,w){let E=IW(t),{size:C,crossAxis:O,crossSize:M,placement:A,crossPlacement:D}=E,U=jN(e,l,n,E,h,f,d,v),R=h,X=RW(l,d,e,i,s+h,E);if(o&&r[C]>X){let Z=IW(`${CR[A]} ${D}`),ie=jN(e,l,n,Z,h,f,d,v);RW(l,d,e,i,s+h,Z)>X&&(E=Z,U=ie,R=h)}let H=CW(O,U[O],n[M],l,s);U[O]+=H;let K=bwe(U,l,d,e,i,s);w&&w<K&&(K=w),n.height=Math.min(n.height,K),U=jN(e,l,n,E,R,f,d,v),H=CW(O,U[O],n[M],l,s),U[O]+=H;let W={};return W[O]=e[O]-U[O]+e[M]/2,{position:U,maxHeight:K,arrowOffsetLeft:W.left,arrowOffsetTop:W.top,placement:E.placement}}function wwe(t){let{placement:e,targetNode:n,overlayNode:r,scrollNode:i,padding:s,shouldFlip:o,boundaryElement:l,offset:d,crossOffset:h,maxHeight:f}=t,v=r.offsetParent||document.body,w=v.tagName==="BODY";const E=window.getComputedStyle(v).position;let C=!!E&&E!=="static",O=w?T3(n):vW(n,v);if(!w){let X=String(fg(n,"marginTop")),H=String(fg(n,"marginLeft"));O.top+=parseInt(X,10)||0,O.left+=parseInt(H,10)||0}let M=T3(r),A=vwe(r);M.width+=A.left+A.right,M.height+=A.top+A.bottom;let D=ywe(i),U=mwe(l),R=l.tagName==="BODY"?T3(v):vW(v,l);return _we(e,O,M,D,A,s,o,U,R,d,h,C,f)}const vre=new WeakMap;function Ewe(t){let{triggerRef:e,isOpen:n,onClose:r}=t;ee.exports.useEffect(()=>{if(!n)return;let i=s=>{let o=s.target;if(!e.current||o instanceof Node&&!o.contains(e.current))return;let l=r||vre.get(e.current);l&&l()};return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[n,r,e])}let C_=typeof window!="undefined"&&window.visualViewport;function Aj(t){let{direction:e}=rm(),{targetRef:n,overlayRef:r,scrollRef:i=r,placement:s="bottom",containerPadding:o=12,shouldFlip:l=!0,boundaryElement:d=typeof document!="undefined"?document.body:null,offset:h=0,crossOffset:f=0,shouldUpdatePosition:v=!0,isOpen:w=!0,onClose:E,maxHeight:C}=t,[O,M]=ee.exports.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),A=[v,s,r.current,n.current,i.current,o,l,d,h,f,w,e,C],D=ee.exports.useCallback(()=>{v===!1||!w||!r.current||!n.current||!i.current||!d||M(wwe({placement:xwe(s,e),overlayNode:r.current,targetNode:n.current,scrollNode:i.current,padding:o,shouldFlip:l,boundaryElement:d,offset:h,crossOffset:f,maxHeight:C}))},A);Ea(D,A),Swe(D);let U=ee.exports.useRef(!1);Ea(()=>{let X,H=()=>{U.current=!0,clearTimeout(X),X=setTimeout(()=>{U.current=!1},500),D()};return C_==null||C_.addEventListener("resize",H),()=>{C_==null||C_.removeEventListener("resize",H)}},[D]);let R=ee.exports.useCallback(()=>{U.current||E()},[E,U]);return Ewe({triggerRef:n,isOpen:w,onClose:E?R:void 0}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...O.position,maxHeight:O.maxHeight}},placement:O.placement,arrowProps:{style:{left:O.arrowOffsetLeft,top:O.arrowOffsetTop}},updatePosition:D}}function Swe(t){Ea(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function xwe(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}var kwe={};bd(kwe,"useOverlay",()=>Pj);const Gh=[];function Pj(t,e){let{onClose:n,shouldCloseOnBlur:r,isOpen:i,isDismissable:s=!1,isKeyboardDismissDisabled:o=!1,shouldCloseOnInteractOutside:l}=t;ee.exports.useEffect(()=>(i&&Gh.push(e),()=>{let C=Gh.indexOf(e);C>=0&&Gh.splice(C,1)}),[i,e]);let d=()=>{Gh[Gh.length-1]===e&&n&&n()},h=C=>{(!l||l(C.target))&&Gh[Gh.length-1]===e&&(C.stopPropagation(),C.preventDefault())},f=C=>{(!l||l(C.target))&&(Gh[Gh.length-1]===e&&(C.stopPropagation(),C.preventDefault()),d())},v=C=>{C.key==="Escape"&&!o&&(C.stopPropagation(),C.preventDefault(),d())};hre({ref:e,onInteractOutside:s?f:null,onInteractOutsideStart:h});let{focusWithinProps:w}=QM({isDisabled:!r,onBlurWithin:C=>{(!l||l(C.relatedTarget))&&n()}}),E=C=>{C.target===C.currentTarget&&C.preventDefault()};return{overlayProps:{onKeyDown:v,...w},underlayProps:{onPointerDown:E}}}var Twe={};bd(Twe,"useOverlayTrigger",()=>bre);function bre(t,e,n){let{type:r}=t,{isOpen:i}=e;ee.exports.useEffect(()=>{n&&n.current&&vre.set(n.current,e.close)});let s;r==="menu"?s=!0:r==="listbox"&&(s="listbox");let o=Nc();return{triggerProps:{"aria-haspopup":s,"aria-expanded":i,"aria-controls":i?o:null},overlayProps:{id:o}}}var Cwe={};bd(Cwe,"usePreventScroll",()=>Dj);const KN=typeof window!="undefined"&&window.visualViewport,Iwe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Dj(t={}){let{isDisabled:e}=t;Ea(()=>{if(!e)return g8()?Mwe():Rwe()},[e])}function Rwe(){return Ky(HS(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),HS(document.documentElement,"overflow","hidden"))}function Mwe(){let t,e=0,n=v=>{t=Ej(v.target),!(t===document.documentElement&&t===document.body)&&(e=v.changedTouches[0].pageY)},r=v=>{if(t===document.documentElement||t===document.body){v.preventDefault();return}let w=v.changedTouches[0].pageY,E=t.scrollTop,C=t.scrollHeight-t.clientHeight;(E<=0&&w>e||E>=C&&w<e)&&v.preventDefault(),e=w},i=v=>{let w=v.target;OW(w)&&w!==document.activeElement&&(v.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},s=v=>{let w=v.target;OW(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",KN&&(KN.height<window.innerHeight?requestAnimationFrame(()=>{MW(w)}):KN.addEventListener("resize",()=>MW(w),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,h=Ky(HS(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),HS(document.documentElement,"overflow","hidden"),HS(document.body,"marginTop",`-${d}px`));window.scrollTo(0,0);let f=Ky(UE(document,"touchstart",n,{passive:!1,capture:!0}),UE(document,"touchmove",r,{passive:!1,capture:!0}),UE(document,"touchend",i,{passive:!1,capture:!0}),UE(document,"focus",s,!0),UE(window,"scroll",o));return()=>{h(),f(),window.scrollTo(l,d)}}function HS(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function UE(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function MW(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=Ej(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,i=t.getBoundingClientRect().top;i>r+t.clientHeight&&(n.scrollTop+=i-r)}t=n.parentElement}}function OW(t){return t instanceof HTMLInputElement&&!Iwe.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var v8={};bd(v8,"ModalProvider",()=>_re);bd(v8,"useModalProvider",()=>wre);bd(v8,"OverlayProvider",()=>Nj);bd(v8,"OverlayContainer",()=>eO);bd(v8,"useModal",()=>Ere);const IR=z.createContext(null);function _re(t){let{children:e}=t,n=ee.exports.useContext(IR),[r,i]=ee.exports.useState(0),s=ee.exports.useMemo(()=>({parent:n,modalCount:r,addModal(){i(o=>o+1),n&&n.addModal()},removeModal(){i(o=>o-1),n&&n.removeModal()}}),[n,r]);return z.createElement(IR.Provider,{value:s},e)}function wre(){let t=ee.exports.useContext(IR);return{modalProviderProps:{"aria-hidden":t&&t.modalCount>0?!0:null}}}function Owe(t){let{modalProviderProps:e}=wre();return z.createElement("div",{"data-overlay-container":!0,...t,...e})}function Nj(t){return z.createElement(_re,null,z.createElement(Owe,t))}function eO(t){let{portalContainer:e=document.body,...n}=t;z.useEffect(()=>{if(e.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[e]);let r=z.createElement(Nj,n);return Gee.createPortal(r,e)}function Ere(t){let e=ee.exports.useContext(IR);if(!e)throw new Error("Modal is not contained within a provider");return ee.exports.useEffect(()=>{if(!((t==null?void 0:t.isDisabled)||!e||!e.parent))return e.parent.addModal(),()=>{e&&e.parent&&e.parent.removeModal()}},[e,e.parent,t==null?void 0:t.isDisabled]),{modalProps:{"data-ismodal":!(t!=null&&t.isDisabled)}}}var Lwe={};bd(Lwe,"DismissButton",()=>iie);var Sre={},xre={};xre=JSON.parse('{"dismiss":"\u062A\u062C\u0627\u0647\u0644"}');var kre={};kre=JSON.parse('{"dismiss":"\u041E\u0442\u0445\u0432\u044A\u0440\u043B\u044F\u043D\u0435"}');var Tre={};Tre=JSON.parse('{"dismiss":"Odstranit"}');var Cre={};Cre=JSON.parse('{"dismiss":"Luk"}');var Ire={};Ire=JSON.parse('{"dismiss":"Schlie\xDFen"}');var Rre={};Rre=JSON.parse('{"dismiss":"\u0391\u03C0\u03CC\u03C1\u03C1\u03B9\u03C8\u03B7"}');var Mre={};Mre=JSON.parse('{"dismiss":"Dismiss"}');var Ore={};Ore=JSON.parse('{"dismiss":"Descartar"}');var Lre={};Lre=JSON.parse('{"dismiss":"L\xF5peta"}');var Are={};Are=JSON.parse('{"dismiss":"Hylk\xE4\xE4"}');var Pre={};Pre=JSON.parse('{"dismiss":"Rejeter"}');var Dre={};Dre=JSON.parse('{"dismiss":"\u05D4\u05EA\u05E2\u05DC\u05DD"}');var Nre={};Nre=JSON.parse('{"dismiss":"Odbaci"}');var Bre={};Bre=JSON.parse('{"dismiss":"Elutas\xEDt\xE1s"}');var $re={};$re=JSON.parse('{"dismiss":"Ignora"}');var Fre={};Fre=JSON.parse('{"dismiss":"\u9589\u3058\u308B"}');var Ure={};Ure=JSON.parse('{"dismiss":"\uBB34\uC2DC"}');var Hre={};Hre=JSON.parse('{"dismiss":"Atmesti"}');var jre={};jre=JSON.parse('{"dismiss":"Ner\u0101d\u012Bt"}');var Kre={};Kre=JSON.parse('{"dismiss":"Lukk"}');var zre={};zre=JSON.parse('{"dismiss":"Negeren"}');var qre={};qre=JSON.parse('{"dismiss":"Zignoruj"}');var Vre={};Vre=JSON.parse('{"dismiss":"Descartar"}');var Gre={};Gre=JSON.parse('{"dismiss":"Dispensar"}');var Wre={};Wre=JSON.parse('{"dismiss":"Revocare"}');var Yre={};Yre=JSON.parse('{"dismiss":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C"}');var Xre={};Xre=JSON.parse('{"dismiss":"Zru\u0161i\u0165"}');var Zre={};Zre=JSON.parse('{"dismiss":"Opusti"}');var Jre={};Jre=JSON.parse('{"dismiss":"Odbaci"}');var Qre={};Qre=JSON.parse('{"dismiss":"Avvisa"}');var eie={};eie=JSON.parse('{"dismiss":"Kapat"}');var tie={};tie=JSON.parse('{"dismiss":"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}');var nie={};nie=JSON.parse('{"dismiss":"\u53D6\u6D88"}');var rie={};rie=JSON.parse('{"dismiss":"\u95DC\u9589"}');Sre={"ar-AE":xre,"bg-BG":kre,"cs-CZ":Tre,"da-DK":Cre,"de-DE":Ire,"el-GR":Rre,"en-US":Mre,"es-ES":Ore,"et-EE":Lre,"fi-FI":Are,"fr-FR":Pre,"he-IL":Dre,"hr-HR":Nre,"hu-HU":Bre,"it-IT":$re,"ja-JP":Fre,"ko-KR":Ure,"lt-LT":Hre,"lv-LV":jre,"nb-NO":Kre,"nl-NL":zre,"pl-PL":qre,"pt-BR":Vre,"pt-PT":Gre,"ro-RO":Wre,"ru-RU":Yre,"sk-SK":Xre,"sl-SI":Zre,"sr-SP":Jre,"sv-SE":Qre,"tr-TR":eie,"uk-UA":tie,"zh-CN":nie,"zh-TW":rie};function iie(t){let{onDismiss:e,...n}=t,r=Ij(hwe(Sre)),i=p8(n,r("dismiss")),s=()=>{e&&e()};return z.createElement(yre,null,z.createElement("button",{...i,tabIndex:-1,onClick:s}))}var Awe={};bd(Awe,"ariaHideOutside",()=>Pwe);let HE=new WeakMap;function Pwe(t,e=document.body){let n=new Set(t),r=new Set,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(d){return d instanceof HTMLElement&&d.dataset.liveAnnouncer==="true"&&n.add(d),n.has(d)||r.has(d.parentElement)?NodeFilter.FILTER_REJECT:d instanceof HTMLElement&&d.getAttribute("role")==="row"||t.some(h=>d.contains(h))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),s=d=>{var h;let f=(h=HE.get(d))!==null&&h!==void 0?h:0;d.getAttribute("aria-hidden")==="true"&&f===0||(f===0&&d.setAttribute("aria-hidden","true"),r.add(d),HE.set(d,f+1))},o=i.nextNode();for(;o!=null;)s(o),o=i.nextNode();let l=new MutationObserver(d=>{for(let h of d)if(!(h.type!=="childList"||h.addedNodes.length===0)&&![...n,...r].some(f=>f.contains(h.target)))for(let f of h.addedNodes)f instanceof HTMLElement&&f.dataset.liveAnnouncer==="true"?n.add(f):f instanceof Element&&s(f)});return l.observe(e,{childList:!0,subtree:!0}),()=>{l.disconnect();for(let d of r){let h=HE.get(d);h===1?(d.removeAttribute("aria-hidden"),HE.delete(d)):HE.set(d,h-1)}}}var sie={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(!!s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var d in s)e.call(s,d)&&s[d]&&r.push(d);else r.push(s.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(sie);var qr=sie.exports;function Cp(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var tO={};Cp(tO,"FocusScope",()=>Bj);Cp(tO,"useFocusManager",()=>$we);Cp(tO,"getFocusableTreeWalker",()=>Jl);Cp(tO,"createFocusManager",()=>Vwe);var Dwe={};Cp(Dwe,"focusSafely",()=>qy);function qy(t){if(Rj()==="virtual"){let e=document.activeElement;wj(()=>{document.activeElement===e&&document.contains(t)&&dp(t)})}else dp(t)}function Nwe(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;let{display:e,visibility:n}=t.style,r=e!=="none"&&n!=="hidden"&&n!=="collapse";if(r){const{getComputedStyle:i}=t.ownerDocument.defaultView;let{display:s,visibility:o}=i(t);r=s!=="none"&&o!=="hidden"&&o!=="collapse"}return r}function Bwe(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function oie(t,e){return t.nodeName!=="#comment"&&Nwe(t)&&Bwe(t,e)&&(!t.parentElement||oie(t.parentElement,t))}const qF=z.createContext(null);let bl=null,C3=new Map;function Bj(t){let{children:e,contain:n,restoreFocus:r,autoFocus:i}=t,s=ee.exports.useRef(),o=ee.exports.useRef(),l=ee.exports.useRef([]),d=ee.exports.useContext(qF),h=d==null?void 0:d.scopeRef;Ea(()=>{let v=s.current.nextSibling,w=[];for(;v&&v!==o.current;)w.push(v),v=v.nextSibling;l.current=w},[e,h]),Ea(()=>(C3.set(l,h),()=>{(l===bl||nO(l,bl))&&(!h||C3.has(h))&&(bl=h),C3.delete(l)}),[l,h]),jwe(l,n),qwe(l,r,n),zwe(l,i);let f=Fwe(l);return z.createElement(qF.Provider,{value:{scopeRef:l,focusManager:f}},z.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),e,z.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function $we(){var t;return(t=ee.exports.useContext(qF))===null||t===void 0?void 0:t.focusManager}function Fwe(t){return{focusNext(e={}){let n=t.current,{from:r,tabbable:i,wrap:s}=e,o=r||document.activeElement,l=n[0].previousElementSibling,d=Jl(u3(n),{tabbable:i},n);d.currentNode=fd(o,n)?o:l;let h=d.nextNode();return!h&&s&&(d.currentNode=l,h=d.nextNode()),h&&Yl(h,!0),h},focusPrevious(e={}){let n=t.current,{from:r,tabbable:i,wrap:s}=e,o=r||document.activeElement,l=n[n.length-1].nextElementSibling,d=Jl(u3(n),{tabbable:i},n);d.currentNode=fd(o,n)?o:l;let h=d.previousNode();return!h&&s&&(d.currentNode=l,h=d.previousNode()),h&&Yl(h,!0),h},focusFirst(e={}){let n=t.current,{tabbable:r}=e,i=Jl(u3(n),{tabbable:r},n);i.currentNode=n[0].previousElementSibling;let s=i.nextNode();return s&&Yl(s,!0),s},focusLast(e={}){let n=t.current,{tabbable:r}=e,i=Jl(u3(n),{tabbable:r},n);i.currentNode=n[n.length-1].nextElementSibling;let s=i.previousNode();return s&&Yl(s,!0),s}}}const $j=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Uwe=$j.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";$j.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Hwe=$j.join(':not([hidden]):not([tabindex="-1"]),');function u3(t){return t[0].parentElement}function jwe(t,e){let n=ee.exports.useRef(),r=ee.exports.useRef(null);Ea(()=>{let i=t.current;if(!e)return;let s=d=>{if(d.key!=="Tab"||d.altKey||d.ctrlKey||d.metaKey||t!==bl)return;let h=document.activeElement,f=t.current;if(!fd(h,f))return;let v=Jl(u3(f),{tabbable:!0},f);v.currentNode=h;let w=d.shiftKey?v.previousNode():v.nextNode();w||(v.currentNode=d.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,w=d.shiftKey?v.previousNode():v.nextNode()),d.preventDefault(),w&&Yl(w,!0)},o=d=>{!bl||nO(bl,t)?(bl=t,n.current=d.target):t===bl&&!LW(d.target,t)?n.current?n.current.focus():bl&&aie(bl.current):t===bl&&(n.current=d.target)},l=d=>{r.current=requestAnimationFrame(()=>{t===bl&&!LW(document.activeElement,t)&&(bl=t,n.current=d.target,n.current.focus())})};return document.addEventListener("keydown",s,!1),document.addEventListener("focusin",o,!1),i.forEach(d=>d.addEventListener("focusin",o,!1)),i.forEach(d=>d.addEventListener("focusout",l,!1)),()=>{document.removeEventListener("keydown",s,!1),document.removeEventListener("focusin",o,!1),i.forEach(d=>d.removeEventListener("focusin",o,!1)),i.forEach(d=>d.removeEventListener("focusout",l,!1))}},[t,e]),ee.exports.useEffect(()=>()=>cancelAnimationFrame(r.current),[r])}function Kwe(t){for(let e of C3.keys())if(fd(t,e.current))return!0;return!1}function fd(t,e){return e.some(n=>n.contains(t))}function LW(t,e){for(let n of C3.keys())if((n===e||nO(e,n))&&fd(t,n.current))return!0;return!1}function nO(t,e){let n=C3.get(e);return n?n===t?!0:nO(t,n):!1}function Yl(t,e=!1){if(t!=null&&!e)try{qy(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function aie(t){let e=t[0].previousElementSibling,n=Jl(u3(t),{tabbable:!0},t);n.currentNode=e,Yl(n.nextNode())}function zwe(t,e){const n=z.useRef(e);ee.exports.useEffect(()=>{n.current&&(bl=t,fd(document.activeElement,bl.current)||aie(t.current)),n.current=!1},[])}function qwe(t,e,n){const r=ee.exports.useRef(typeof document!="undefined"?document.activeElement:null);Ea(()=>{let i=r.current;if(!e)return;let s=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey)return;let l=document.activeElement;if(!fd(l,t.current))return;let d=Jl(document.body,{tabbable:!0});d.currentNode=l;let h=o.shiftKey?d.previousNode():d.nextNode();if((!document.body.contains(i)||i===document.body)&&(i=null),(!h||!fd(h,t.current))&&i){d.currentNode=i;do h=o.shiftKey?d.previousNode():d.nextNode();while(fd(h,t.current));o.preventDefault(),o.stopPropagation(),h?Yl(h,!0):Kwe(i)?Yl(i,!0):l.blur()}};return n||document.addEventListener("keydown",s,!0),()=>{n||document.removeEventListener("keydown",s,!0),e&&i&&fd(document.activeElement,t.current)&&requestAnimationFrame(()=>{document.body.contains(i)&&Yl(i)})}},[t,e,n])}function Jl(t,e,n){let r=e!=null&&e.tabbable?Hwe:Uwe,i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var o;return!(e==null||(o=e.from)===null||o===void 0)&&o.contains(s)?NodeFilter.FILTER_REJECT:s.matches(r)&&oie(s)&&(!n||fd(s,n))&&(!(e!=null&&e.accept)||e.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}function Vwe(t,e={}){return{focusNext(n={}){let r=t.current;if(!r)return;let{from:i,tabbable:s=e.tabbable,wrap:o=e.wrap,accept:l=e.accept}=n,d=i||document.activeElement,h=Jl(r,{tabbable:s,accept:l});r.contains(d)&&(h.currentNode=d);let f=h.nextNode();return!f&&o&&(h.currentNode=r,f=h.nextNode()),f&&Yl(f,!0),f},focusPrevious(n=e){let r=t.current;if(!r)return;let{from:i,tabbable:s=e.tabbable,wrap:o=e.wrap,accept:l=e.accept}=n,d=i||document.activeElement,h=Jl(r,{tabbable:s,accept:l});if(r.contains(d))h.currentNode=d;else{let v=zN(h);return v&&Yl(v,!0),v}let f=h.previousNode();return!f&&o&&(h.currentNode=r,f=zN(h)),f&&Yl(f,!0),f},focusFirst(n=e){let r=t.current;if(!r)return;let{tabbable:i=e.tabbable,accept:s=e.accept}=n,l=Jl(r,{tabbable:i,accept:s}).nextNode();return l&&Yl(l,!0),l},focusLast(n=e){let r=t.current;if(!r)return;let{tabbable:i=e.tabbable,accept:s=e.accept}=n,o=Jl(r,{tabbable:i,accept:s}),l=zN(o);return l&&Yl(l,!0),l}}}function zN(t){let e,n;do n=t.lastChild(),n&&(e=n);while(n);return e}var Gwe={};Cp(Gwe,"FocusRing",()=>Ywe);var Wwe={};Cp(Wwe,"useFocusRing",()=>lie);function lie(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=ee.exports.useRef({isFocused:!1,isFocusVisible:e||pv()}),[s,o]=ee.exports.useState(!1),[l,d]=ee.exports.useState(()=>i.current.isFocused&&i.current.isFocusVisible),h=ee.exports.useCallback(()=>d(i.current.isFocused&&i.current.isFocusVisible),[]),f=ee.exports.useCallback(E=>{i.current.isFocused=E,o(E),h()},[h]);Mj(E=>{i.current.isFocusVisible=E,h()},[],{isTextInput:n});let{focusProps:v}=m8({isDisabled:r,onFocusChange:f}),{focusWithinProps:w}=QM({isDisabled:!r,onFocusWithinChange:f});return{isFocused:s,isFocusVisible:i.current.isFocused&&l,focusProps:r?w:v}}function Ywe(t){let{children:e,focusClass:n,focusRingClass:r}=t,{isFocused:i,isFocusVisible:s,focusProps:o}=lie(t),l=z.Children.only(e);return z.cloneElement(l,di(l.props,{...o,className:Ene({[n||""]:i,[r||""]:s})}))}var cie={};Cp(cie,"FocusableProvider",()=>die);Cp(cie,"useFocusable",()=>Fj);let uie=z.createContext(null);function Xwe(t){let e=ee.exports.useContext(uie)||{};WM(e,t);let{ref:n,...r}=e;return r}function Zwe(t,e){let{children:n,...r}=t,i={...r,ref:e};return z.createElement(uie.Provider,{value:i},n)}let die=z.forwardRef(Zwe);function Fj(t,e){let{focusProps:n}=m8(t),{keyboardProps:r}=pre(t),i=di(n,r),s=Xwe(e),o=t.isDisabled?{}:s,l=ee.exports.useRef(t.autoFocus);return ee.exports.useEffect(()=>{l.current&&e.current&&qy(e.current),l.current=!1},[e]),{focusableProps:di({...i,tabIndex:t.excludeFromTabOrder&&!t.isDisabled?-1:void 0},o)}}function fie(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Jwe={};fie(Jwe,"useButton",()=>Lw);function Lw(t,e){let{elementType:n="button",isDisabled:r,onPress:i,onPressStart:s,onPressEnd:o,onPressChange:l,preventFocusOnPress:d,allowFocusWhenDisabled:h,onClick:f,href:v,target:w,rel:E,type:C="button"}=t,O;n==="button"?O={type:C,disabled:r}:O={role:"button",tabIndex:r?void 0:0,href:n==="a"&&r?void 0:v,target:n==="a"?w:void 0,type:n==="input"?C:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?E:void 0};let{pressProps:M,isPressed:A}=hv({onPressStart:s,onPressEnd:o,onPressChange:l,onPress:i,isDisabled:r,preventFocusOnPress:d,ref:e}),{focusableProps:D}=Fj(t,e);h&&(D.tabIndex=r?-1:D.tabIndex);let U=di(D,M,dv(t,{labelable:!0}));return{isPressed:A,buttonProps:di(O,U,{"aria-haspopup":t["aria-haspopup"],"aria-expanded":t["aria-expanded"],"aria-controls":t["aria-controls"],"aria-pressed":t["aria-pressed"],onClick:R=>{f&&(f(R),console.warn("onClick is deprecated, please use onPress"))}})}}var Qwe={};fie(Qwe,"useToggleButton",()=>hie);function hie(t,e,n){const{isSelected:r}=e,{isPressed:i,buttonProps:s}=Lw({...t,onPress:Ky(e.toggle,t.onPress)},n);return{isPressed:i,buttonProps:di(s,{"aria-pressed":r})}}const e5e="_header_s2tyq_1",t5e="_nav_s2tyq_10",n5e="_headerLogo_s2tyq_19",r5e="_leftNav_s2tyq_25",i5e="_hideMobile_s2tyq_25",s5e="_rightNav_s2tyq_37",o5e="_roomAvatar_s2tyq_53",a5e="_backButton_s2tyq_69",l5e="_userName_s2tyq_90",c5e="_signOutButton_s2tyq_98",u5e="_versionMismatchWarning_s2tyq_107";var gd={header:e5e,nav:t5e,headerLogo:n5e,leftNav:r5e,hideMobile:i5e,rightNav:s5e,roomAvatar:o5e,backButton:a5e,userName:l5e,signOutButton:c5e,versionMismatchWarning:u5e};function d5e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var f5e={};d5e(f5e,"useOverlayTriggerState",()=>rO);function rO(t){let[e,n]=h8(t.isOpen,t.defaultOpen||!1,t.onOpenChange);return{isOpen:e,setOpen:n,open(){n(!0)},close(){n(!1)},toggle(){n(!e)}}}function h5e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var p5e={};h5e(p5e,"useDialog",()=>pie);function pie(t,e){let{role:n="dialog"}=t,r=yp();return r=t["aria-label"]?void 0:r,ee.exports.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){qy(e.current);let i=setTimeout(()=>{document.activeElement===e.current&&(e.current.blur(),qy(e.current))},500);return()=>{clearTimeout(i)}}},[e]),{dialogProps:{...dv(t,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||r},titleProps:{id:r}}}function g5e(t){return ee.exports.createElement("svg",{width:22,height:20,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M20.2758 2.69628C20.8924 2.07969 20.8924 1.08 20.2758 0.463417C19.6592 -0.15317 18.6596 -0.15317 18.043 0.463417L10.8919 7.61447L3.74087 0.463417C3.12429 -0.15317 2.1246 -0.15317 1.50802 0.463417C0.891428 1.08 0.891428 2.07969 1.50802 2.69628L8.65907 9.84733L1.2017 17.3047C0.585111 17.9213 0.585111 18.921 1.2017 19.5376C1.81829 20.1541 2.81797 20.1541 3.43456 19.5376L10.8919 12.0802L18.3493 19.5375C18.9659 20.1541 19.9656 20.1541 20.5822 19.5375C21.1987 18.921 21.1987 17.9213 20.5822 17.3047L13.1248 9.84732L20.2758 2.69628Z",fill:"#6F7882"}))}const m5e="_modalOverlay_1ce0k_1",y5e="_modal_1ce0k_1",v5e="_modalHeader_1ce0k_24",b5e="_closeButton_1ce0k_36",_5e="_content_1ce0k_47",w5e="_mobileFullScreen_1ce0k_62";var Z_={modalOverlay:m5e,modal:y5e,modalHeader:v5e,closeButton:b5e,content:_5e,mobileFullScreen:w5e};function im({title:t,children:e,className:n,mobileFullScreen:r,onClose:i,...s}){const{t:o}=Ir(),l=ee.exports.useRef(),{overlayProps:d,underlayProps:h}=Pj({...s,onClose:i},l);Dj();const{modalProps:f}=Ere(),{dialogProps:v,titleProps:w}=pie(s,l),E=ee.exports.useRef(),{buttonProps:C}=Lw({onPress:()=>i()},E);return z.createElement(eO,null,z.createElement("div",{className:Z_.modalOverlay,...h},z.createElement(Bj,{contain:!0,restoreFocus:!0,autoFocus:!0},z.createElement("div",{...d,...v,...f,ref:l,className:qr(Z_.modal,{[Z_.mobileFullScreen]:r},n)},z.createElement("div",{className:Z_.modalHeader},z.createElement("h3",{...w},t),z.createElement("button",{...C,ref:E,className:Z_.closeButton,title:o("Close")},z.createElement(g5e,null))),e))))}function Aw({children:t,className:e,...n}){return z.createElement("div",{className:qr(Z_.content,e),...n},t)}function yu(){const t=rO({}),e=ee.exports.useMemo(()=>({isOpen:t.isOpen,onClose:t.close}),[t]);return{modalState:t,modalProps:e}}const E5e="_button_g8sb2_17",S5e="_toolbarButton_g8sb2_18",x5e="_toolbarButtonSecondary_g8sb2_19",k5e="_iconButton_g8sb2_20",T5e="_iconCopyButton_g8sb2_21",C5e="_secondary_g8sb2_22",I5e="_secondaryHangup_g8sb2_23",R5e="_copyButton_g8sb2_24",M5e="_dropdownButton_g8sb2_25",O5e="_on_g8sb2_77",L5e="_off_g8sb2_78",A5e="_stroke_g8sb2_86",P5e="_hangupButton_g8sb2_102",D5e="_secondaryCopy_g8sb2_132",N5e="_lg_g8sb2_207",B5e="_linkButton_g8sb2_211";var da={button:E5e,toolbarButton:S5e,toolbarButtonSecondary:x5e,iconButton:k5e,iconCopyButton:T5e,secondary:C5e,secondaryHangup:I5e,copyButton:R5e,dropdownButton:M5e,on:O5e,off:L5e,stroke:A5e,hangupButton:P5e,secondaryCopy:D5e,lg:N5e,linkButton:B5e};function Uj(t){return ee.exports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M6.37785 4.70549C6.37785 2.79707 7.99961 1.25 10.0001 1.25C12.0007 1.25 13.6224 2.79707 13.6224 4.70548V9.87324C13.6224 11.7817 12.0007 13.3287 10.0001 13.3287C7.99961 13.3287 6.37785 11.7817 6.37785 9.87324V4.70549Z",fill:"white"}),ee.exports.createElement("path",{d:"M3.66099 8.77015C4.30219 8.77015 4.82198 9.266 4.82198 9.87768C4.82198 12.5957 7.1314 14.8024 9.98617 14.8095C9.99084 14.8094 9.99552 14.8094 10.0002 14.8094C10.0049 14.8094 10.0095 14.8094 10.0141 14.8095C12.8688 14.8022 15.178 12.5956 15.178 9.87768C15.178 9.266 15.6978 8.77015 16.339 8.77015C16.9802 8.77015 17.5 9.266 17.5 9.87768C17.5 13.4496 14.7509 16.4077 11.1612 16.9394V17.6425C11.1612 18.2541 10.6414 18.75 10.0002 18.75C9.359 18.75 8.83921 18.2541 8.83921 17.6425V16.9395C5.24925 16.4079 2.5 13.4497 2.5 9.87768C2.5 9.266 3.01979 8.77015 3.66099 8.77015Z",fill:"white"}))}function $5e(t){return ee.exports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M2.74372 1.50628C2.40201 1.16457 1.84799 1.16457 1.50628 1.50628C1.16457 1.84799 1.16457 2.40201 1.50628 2.74372L6.5 7.73744V10C6.5 11.933 8.067 13.5 10 13.5C10.6491 13.5 11.2569 13.3233 11.778 13.0154L13.042 14.2794C12.1838 14.8906 11.1339 15.25 10 15.25C7.10051 15.25 4.75 12.8995 4.75 10C4.75 9.51675 4.35825 9.125 3.875 9.125C3.39175 9.125 3 9.51675 3 10C3 13.5697 5.67198 16.5153 9.125 16.9458V17.875C9.125 18.3582 9.51675 18.75 10 18.75C10.4832 18.75 10.875 18.3582 10.875 17.875V16.9458C12.1531 16.7865 13.3242 16.2825 14.2924 15.5299L17.2563 18.4937C17.598 18.8354 18.152 18.8354 18.4937 18.4937C18.8354 18.152 18.8354 17.598 18.4937 17.2563L2.74372 1.50628Z",fill:"#394049"}),ee.exports.createElement("path",{d:"M15.0678 11.3763L16.439 12.7504C16.8001 11.9061 17 10.9764 17 10C17 9.51675 16.6082 9.125 16.125 9.125C15.6418 9.125 15.25 9.51675 15.25 10C15.25 10.4762 15.1866 10.9376 15.0678 11.3763Z",fill:"#394049"}),ee.exports.createElement("path",{d:"M6.87692 3.16834L13.5 9.80523V4.75C13.5 2.817 11.933 1.25 10 1.25C8.63618 1.25 7.45455 2.03005 6.87692 3.16834Z",fill:"#394049"}))}function iO(t){return ee.exports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M2.50001 3.33334C1.11929 3.33334 0 4.45264 0 5.83336V14.1667C0 15.5474 1.11929 16.6667 2.50001 16.6667H11.6667C13.0474 16.6667 14.1667 15.5474 14.1667 14.1667V5.83336C14.1667 4.45264 13.0474 3.33334 11.6667 3.33334H2.50001Z",fill:"white"}),ee.exports.createElement("path",{d:"M18.6462 5.24983L15.8334 7.50004V12.5001L18.6462 14.7503C19.1918 15.1868 20.0001 14.7983 20.0001 14.0996V5.90056C20.0001 5.2018 19.1918 4.81332 18.6462 5.24983Z",fill:"white"}))}function F5e(t){return ee.exports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M0.290472 1.37627C0.677768 0.985743 1.3057 0.985743 1.69299 1.37627L16.569 16.3762C16.9563 16.7668 16.9563 17.3999 16.569 17.7904C16.1817 18.181 15.5538 18.181 15.1665 17.7904L0.290472 2.79048C-0.096824 2.39995 -0.096824 1.76679 0.290472 1.37627Z",fill:"#394049"}),ee.exports.createElement("path",{d:"M0.597515 5.19186C0.323238 5.646 0.165249 6.17941 0.165249 6.75001V14.0833C0.165249 15.7402 1.49729 17.0833 3.14045 17.0833H12.363L0.639137 5.2371C0.624608 5.22242 0.610733 5.20733 0.597515 5.19186Z",fill:"#394049"}),ee.exports.createElement("path",{d:"M14.2148 6.75002V11.9031L6.14598 3.75002H11.2396C12.8828 3.75002 14.2148 5.09317 14.2148 6.75002Z",fill:"#394049"}),ee.exports.createElement("path",{d:"M18.3887 5.88312L15.8677 7.91669V12.9167L18.3887 14.9503C19.038 15.4741 19.9999 15.0079 19.9999 14.1694V6.66399C19.9999 5.82548 19.038 5.35931 18.3887 5.88312Z",fill:"#394049"}))}function U5e(t){return ee.exports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M10.007 6.46375C8.60094 6.4097 5.70947 6.77458 5.00651 6.95945C4.96493 6.97038 4.91704 6.98261 4.86347 6.99628C3.78418 7.27174 0.402266 8.13487 0.0368686 10.8697C-0.246222 12.9885 1.17146 13.6298 1.88015 13.5322C2.37066 13.4707 3.77508 13.2486 5.0727 13.0158C6.34691 12.7872 6.34626 11.9466 6.34582 11.3782C6.34581 11.3677 6.34581 11.3574 6.34581 11.3471L6.34581 10.2044C6.34581 9.91339 6.61929 9.74516 6.9965 9.69969C8.33185 9.51831 9.44662 9.5178 10.0046 9.51779L10.0093 9.51779C10.5672 9.51779 11.6682 9.51832 13.0035 9.6997C13.3807 9.74517 13.6542 9.9134 13.6542 10.2044L13.6542 11.3471C13.6542 11.3574 13.6542 11.3677 13.6542 11.3782C13.6537 11.9466 13.6531 12.7872 14.9273 13.0158C16.2249 13.2486 17.6293 13.4707 18.1198 13.5322C18.8285 13.6298 20.2462 12.9885 19.9631 10.8697C19.5977 8.13487 16.2158 7.27174 15.1365 6.99629C15.083 6.98262 15.0351 6.97039 14.9935 6.95946C14.2905 6.77459 11.413 6.4097 10.007 6.46375Z",fill:"white"}))}function H5e(t){return ee.exports.createElement("svg",{width:24,height:17,viewBox:"0 0 24 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 0.5C2.09315 0.5 0.75 1.84314 0.75 3.5V13.5713C0.75 15.2282 2.09315 16.5713 3.75 16.5713H20.2499C21.9067 16.5713 23.2499 15.2282 23.2499 13.5713V3.5C23.2499 1.84315 21.9067 0.5 20.2499 0.5H3.75ZM12.7998 11.9106C12.7998 12.3524 12.4416 12.7106 11.9998 12.7106C11.558 12.7106 11.1998 12.3524 11.1998 11.9106L11.1998 7.09206L9.43158 8.86029C9.11916 9.17271 8.61263 9.17271 8.30021 8.86029C7.98779 8.54787 7.98779 8.04134 8.30021 7.72892L11.4341 4.59501C11.7465 4.28259 12.2531 4.28259 12.5655 4.59501L15.6994 7.72892C16.0118 8.04134 16.0118 8.54787 15.6994 8.86029C15.387 9.17271 14.8805 9.17271 14.568 8.86029L12.7998 7.09206L12.7998 11.9106Z",fill:"white"}))}function j5e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0988 9.01625C20.3188 9.59375 20.8825 9.97875 21.5013 9.97875C22.3263 9.97875 23 10.6525 23 11.4775V12.5225C23 13.3475 22.3263 14.0213 21.5013 14.0213C20.8825 14.0213 20.3188 14.4062 20.0988 14.9838C20.0806 15.0292 20.0624 15.0753 20.0441 15.1218C19.9792 15.2863 19.9125 15.4555 19.8375 15.6163C19.5763 16.18 19.7 16.84 20.14 17.28C20.7313 17.8575 20.7313 18.8062 20.14 19.3975L19.3975 20.14C18.82 20.7313 17.8713 20.7313 17.28 20.14C16.8538 19.7 16.18 19.5763 15.6163 19.8375C15.41 19.9338 15.2037 20.0163 14.9838 20.0988C14.4062 20.3188 14.0213 20.8825 14.0213 21.5013C14.0213 22.3263 13.3475 23 12.5225 23H11.4775C10.6525 23 9.97875 22.3263 9.97875 21.5013C9.97875 20.8825 9.59375 20.3188 9.01625 20.0988C8.97079 20.0806 8.92466 20.0624 8.87815 20.044C8.71368 19.9792 8.54454 19.9125 8.38375 19.8375C7.82 19.5763 7.16 19.7 6.72 20.14C6.1425 20.7313 5.19375 20.7313 4.6025 20.14L3.86 19.3975C3.26875 18.82 3.26875 17.8713 3.86 17.28C4.3 16.8538 4.42375 16.18 4.1625 15.6163C4.06625 15.41 3.98375 15.2037 3.90125 14.9838C3.68125 14.4062 3.1175 14.0213 2.49875 14.0213C1.67375 14.0213 1 13.3475 1 12.5225V11.4775C1 10.6525 1.67375 9.97875 2.49875 9.97875C3.1175 9.97875 3.68125 9.59375 3.90125 9.01625C3.94464 8.87742 3.99897 8.74406 4.0539 8.60926C4.086 8.53046 4.11831 8.45117 4.14875 8.37C4.41 7.80625 4.28625 7.14625 3.84625 6.70625C3.255 6.12875 3.255 5.18 3.84625 4.58875L4.6025 3.86C5.18 3.26875 6.12875 3.26875 6.72 3.86C7.14625 4.3 7.82 4.42375 8.38375 4.1625C8.59 4.06625 8.79625 3.97 9.01625 3.90125C9.59375 3.68125 9.97875 3.1175 9.97875 2.49875C9.97875 1.67375 10.6525 1 11.4775 1H12.5225C13.3475 1 14.0213 1.67375 14.0213 2.49875C14.0213 3.13125 14.4062 3.68125 14.9838 3.90125C15.0292 3.91943 15.0753 3.93762 15.1218 3.95595C15.2863 4.02079 15.4555 4.08746 15.6163 4.1625C16.18 4.42375 16.84 4.3 17.28 3.86C17.8575 3.26875 18.8062 3.26875 19.3975 3.86L20.14 4.6025C20.7313 5.18 20.7313 6.12875 20.14 6.72C19.7 7.14625 19.5763 7.82 19.8375 8.38375C19.9338 8.59 20.0163 8.79625 20.0988 9.01625ZM12 17.5C8.96125 17.5 6.5 15.0387 6.5 12C6.5 8.96125 8.96125 6.5 12 6.5C15.0387 6.5 17.5 8.96125 17.5 12C17.5 15.0387 15.0387 17.5 12 17.5Z",fill:"#ffffff"}))}function gie(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M18.8914 9.0784C18.5132 9.0784 18.2066 8.777 18.2066 8.4052V5.71251H15.4678C15.0896 5.71251 14.783 5.41111 14.783 5.03931C14.783 4.66751 15.0896 4.36611 15.4678 4.36611H18.2066V1.6732C18.2066 1.3014 18.5132 1 18.8914 1C19.2696 1 19.5761 1.3014 19.5761 1.6732V4.36611H22.3153C22.6934 4.36611 23 4.66751 23 5.03931C23 5.41111 22.6934 5.71251 22.3153 5.71251H19.5761V8.4052C19.5761 8.777 19.2696 9.0784 18.8914 9.0784Z",fill:"#ffffff"}),ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5002 11.5094C19.8949 11.5094 20.281 11.4736 20.6555 11.4051C20.7505 11.9558 20.8 12.5221 20.8 13.1C20.8 18.5676 16.3676 23 10.9 23C5.43238 23 1 18.5676 1 13.1C1 7.63238 5.43238 3.2 10.9 3.2C11.7973 3.2 12.6666 3.31937 13.4931 3.54308C13.3177 4.11118 13.2234 4.71396 13.2234 5.33841C13.2234 8.74655 16.0336 11.5094 19.5002 11.5094ZM11.1308 21.4653C13.2927 21.4653 15.2551 20.6258 16.6993 19.2603C15.7939 17.0769 13.6417 15.5412 11.1308 15.5412C8.61988 15.5412 6.46768 17.0769 5.56225 19.2603C7.00643 20.6258 8.96888 21.4653 11.1308 21.4653ZM11.2799 7.81768C9.78854 7.9515 8.62035 9.18434 8.62035 10.6854C8.62035 12.2759 9.93179 13.5652 11.5495 13.5652C12.6276 13.5652 13.5696 12.9927 14.0781 12.1401C12.6655 11.1035 11.6462 9.57751 11.2799 7.81768Z",fill:"#ffffff"}))}function mie(t){return ee.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("g",{clipPath:"url(#clip0_965_9448)"},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.70711 5.36321C2.09763 4.97268 2.73182 4.97166 3.1236 5.36091L8.08934 10.2946L13.0391 5.34488C13.4296 4.95435 14.0638 4.95333 14.4556 5.34258C14.8474 5.73184 14.8484 6.36398 14.4579 6.75451L8.80101 12.4114C8.41049 12.8019 7.7763 12.8029 7.38452 12.4137L1.70939 6.77513C1.3176 6.38587 1.31658 5.75373 1.70711 5.36321Z",fill:"#8E99A4"})),ee.exports.createElement("defs",null,ee.exports.createElement("clipPath",{id:"clip0_965_9448"},ee.exports.createElement("rect",{width:16,height:16,fill:"white"}))))}function K5e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M21 8.59V4C21 3.45 20.55 3 20 3H15.41C14.52 3 14.07 4.08 14.7 4.71L16.29 6.3L6.29 16.3L4.7 14.71C4.08 14.08 3 14.52 3 15.41V20C3 20.55 3.45 21 4 21H8.59C9.48 21 9.93 19.92 9.3 19.29L7.71 17.7L17.71 7.7L19.3 9.29C19.92 9.92 21 9.48 21 8.59Z",fill:"white"}))}function z5e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M21.29 4.12L16.7 8.71L18.29 10.3C18.92 10.93 18.47 12.01 17.58 12.01H13C12.45 12.01 12 11.56 12 11.01V6.41C12 5.52 13.08 5.07 13.71 5.7L15.3 7.29L19.89 2.7C20.28 2.31 20.91 2.31 21.3 2.7C21.68 3.1 21.68 3.73 21.29 4.12ZM4.11997 21.29L8.70997 16.7L10.3 18.29C10.93 18.92 12.01 18.47 12.01 17.58V13C12.01 12.45 11.56 12 11.01 12H6.40997C5.51997 12 5.06997 13.08 5.69997 13.71L7.28997 15.3L2.69997 19.89C2.30997 20.28 2.30997 20.91 2.69997 21.3C3.09997 21.68 3.72997 21.68 4.11997 21.29Z",fill:"white"}))}function q5e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var V5e={};q5e(V5e,"useTooltipTriggerState",()=>yie);const G5e=1500,AW=500;let ey={},W5e=0,jE=!1,Wh=null,ty=null;function yie(t={}){let{delay:e=G5e}=t,{isOpen:n,open:r,close:i}=rO(t),s=ee.exports.useMemo(()=>`${++W5e}`,[]),o=ee.exports.useRef(),l=()=>{ey[s]=f},d=()=>{for(let w in ey)w!==s&&(ey[w](!0),delete ey[w])},h=()=>{clearTimeout(o.current),o.current=null,d(),l(),jE=!0,r(),Wh&&(clearTimeout(Wh),Wh=null),ty&&(clearTimeout(ty),ty=null)},f=w=>{w?(clearTimeout(o.current),o.current=null,i()):o.current||(o.current=setTimeout(()=>{o.current=null,i()},AW)),Wh&&(clearTimeout(Wh),Wh=null),jE&&(ty&&clearTimeout(ty),ty=setTimeout(()=>{delete ey[s],ty=null,jE=!1},AW))},v=()=>{d(),l(),!n&&!Wh&&!jE?Wh=setTimeout(()=>{Wh=null,jE=!0,h()},e):n||h()};return ee.exports.useEffect(()=>()=>{clearTimeout(o.current),ey[s]&&delete ey[s]},[s]),{isOpen:n,open:w=>{!w&&e>0&&!o.current?v():h()},close:f}}function vie(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Y5e={};vie(Y5e,"useTooltip",()=>bie);function bie(t,e){let n=dv(t,{labelable:!0}),{hoverProps:r}=y8({onHoverStart:()=>e==null?void 0:e.open(!0),onHoverEnd:()=>e==null?void 0:e.close()});return{tooltipProps:di(n,r,{role:"tooltip"})}}var X5e={};vie(X5e,"useTooltipTrigger",()=>_ie);function _ie(t,e,n){let{isDisabled:r,trigger:i}=t,s=Nc(),o=ee.exports.useRef(!1),l=ee.exports.useRef(!1),d=()=>{(o.current||l.current)&&e.open(l.current)},h=D=>{!o.current&&!l.current&&e.close(D)};ee.exports.useEffect(()=>{let D=U=>{n&&n.current&&U.key==="Escape"&&e.close(!0)};if(e.isOpen)return document.addEventListener("keydown",D,!0),()=>{document.removeEventListener("keydown",D,!0)}},[n,e]);let f=()=>{i!=="focus"&&(Rj()==="pointer"?o.current=!0:o.current=!1,d())},v=()=>{i!=="focus"&&(l.current=!1,o.current=!1,h())},w=()=>{l.current=!1,o.current=!1,h(!0)},E=()=>{pv()&&(l.current=!0,d())},C=()=>{l.current=!1,o.current=!1,h(!0)},{hoverProps:O}=y8({isDisabled:r,onHoverStart:f,onHoverEnd:v}),{pressProps:M}=hv({onPressStart:w}),{focusableProps:A}=Fj({isDisabled:r,onFocus:E,onBlur:C},n);return{triggerProps:{"aria-describedby":e.isOpen?s:void 0,...di(A,O,M)},tooltipProps:{id:s}}}const Z5e="_tooltip_gl6io_1";var J5e={tooltip:Z5e};const Q5e=ee.exports.forwardRef(({state:t,className:e,children:n,...r},i)=>{const{tooltipProps:s}=bie(r,t);return z.createElement("div",{className:qr(J5e.tooltip,e),...di(r,s),ref:i},n)}),Af=ee.exports.forwardRef(({children:t,placement:e,tooltip:n,...r},i)=>{const s={delay:250,...r},o=yie(s),l=Rw(i),d=ee.exports.useRef(),{triggerProps:h,tooltipProps:f}=_ie(s,o,l),{overlayProps:v}=Aj({placement:e||"top",targetRef:l,overlayRef:d,isOpen:o.isOpen,offset:12});return z.createElement(die,{ref:l,...h},z.createElement(t.type,{...di(t.props,r)}),o.isOpen&&z.createElement(eO,null,z.createElement(Q5e,{state:o,ref:d,...di(f,v)},n())))});function e6e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.63174 0.583224C2.15798 0.109466 1.38987 0.109466 0.91611 0.583224C0.442351 1.05698 0.442351 1.8251 0.91611 2.29885L5.3958 6.77855H5.37083L15.3629 16.7706V16.7456L20.7144 22.0972C21.1882 22.5709 21.9563 22.5709 22.4301 22.0972C22.9038 21.6234 22.9038 20.8553 22.4301 20.3816L2.63174 0.583224ZM15.3629 3.23319V9.88521L10.2275 4.74987L13.2404 2.2391C14.0833 1.53675 15.3629 2.13608 15.3629 3.23319ZM4.07191 16.8718H7.7929V16.872L13.2404 21.4116C14.0833 22.114 15.3629 21.5146 15.3629 20.4175V20.2018L2.4839 7.32287C1.87536 7.79641 1.48389 8.53577 1.48389 9.36657V14.2838C1.48389 15.7131 2.64258 16.8718 4.07191 16.8718Z",fill:"white"}))}function t6e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M11.9699 2.22605L6 7.20093L1.5 7.20093C0.671573 7.20093 0 7.8725 0 8.70093V15.3009C0 16.1294 0.671571 16.8009 1.5 16.8009L6 16.8009L11.9699 21.7758C12.4584 22.1829 13.2 21.8355 13.2 21.1996V2.80221C13.2 2.16634 12.4584 1.81897 11.9699 2.22605Z",fill:"white"}),ee.exports.createElement("path",{d:"M17.5896 7.78682C17.2506 7.35087 16.6223 7.27234 16.1864 7.61141C15.7515 7.94959 15.6723 8.57548 16.0083 9.01128L16.0117 9.01586C16.0162 9.02185 16.0246 9.03334 16.0365 9.05007C16.0603 9.08359 16.0977 9.13784 16.1441 9.21085C16.2374 9.3574 16.3654 9.57639 16.4941 9.85222C16.7544 10.4099 17.0003 11.1627 17.0003 12.0008C17.0003 12.8388 16.7544 13.5916 16.4941 14.1493C16.3654 14.4251 16.2374 14.6441 16.1441 14.7907C16.0977 14.8637 16.0603 14.9179 16.0365 14.9514C16.0246 14.9682 16.0162 14.9797 16.0117 14.9857L16.0083 14.9903C15.6723 15.4261 15.7515 16.0519 16.1864 16.3901C16.6223 16.7292 17.2506 16.6506 17.5896 16.2147L16.8003 15.6008C17.5896 16.2147 17.5896 16.2147 17.5896 16.2147L17.5914 16.2124L17.5936 16.2095L17.5994 16.2021L17.6158 16.1802C17.6289 16.1626 17.6463 16.1389 17.6672 16.1094C17.709 16.0505 17.7654 15.9682 17.8315 15.8644C17.9632 15.6574 18.1352 15.3621 18.3065 14.9951C18.6462 14.267 19.0003 13.2199 19.0003 12.0008C19.0003 10.7816 18.6462 9.73448 18.3065 9.00645C18.1352 8.63942 17.9632 8.34412 17.8315 8.1371C17.7654 8.03333 17.709 7.95097 17.6672 7.89207C17.6463 7.8626 17.6289 7.83893 17.6158 7.82132L17.5994 7.79946L17.5936 7.79198L17.5914 7.78911L17.5905 7.78789C17.5905 7.78789 17.5896 7.78682 16.8003 8.40076L17.5896 7.78682Z",fill:"white"}))}function Hj(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M11.9699 2.22605L6 7.20093L1.5 7.20093C0.671573 7.20093 0 7.8725 0 8.70093V15.3009C0 16.1294 0.671571 16.8009 1.5 16.8009L6 16.8009L11.9699 21.7758C12.4584 22.1829 13.2 21.8355 13.2 21.1996V2.80221C13.2 2.16634 12.4584 1.81897 11.9699 2.22605Z",fill:"white"}),ee.exports.createElement("path",{d:"M21.1888 4.1866C20.8497 3.75065 20.2214 3.67212 19.7855 4.01119C19.35 4.34988 19.2712 4.97715 19.6089 5.41304L19.6097 5.41402L19.6107 5.41531L19.6243 5.43347C19.6376 5.45126 19.6589 5.48033 19.6872 5.52017C19.7438 5.59988 19.828 5.72244 19.9308 5.88385C20.1365 6.20718 20.4145 6.68332 20.6932 7.28057C21.2535 8.48111 21.7994 10.134 21.7994 12.0005C21.7994 13.8671 21.2535 15.52 20.6932 16.7205C20.4145 17.3178 20.1365 17.7939 19.9308 18.1172C19.828 18.2786 19.7438 18.4012 19.6872 18.4809C19.6589 18.5208 19.6376 18.5498 19.6243 18.5676L19.6107 18.5858L19.6097 18.5871L19.6088 18.5882C19.2712 19.0241 19.3501 19.6512 19.7855 19.9899C20.2214 20.329 20.8497 20.2504 21.1888 19.8145L20.4435 19.2348C21.1888 19.8145 21.1888 19.8145 21.1888 19.8145L21.1908 19.8119L21.1936 19.8082L21.2019 19.7974L21.2284 19.7621C21.2503 19.7327 21.2805 19.6915 21.3179 19.6389C21.3925 19.5338 21.4958 19.3832 21.6181 19.191C21.8623 18.8072 22.1843 18.2547 22.5056 17.5663C23.1453 16.1954 23.7994 14.2482 23.7994 12.0005C23.7994 9.75284 23.1453 7.80569 22.5056 6.4348C22.1843 5.74634 21.8623 5.1939 21.6181 4.81009C21.4958 4.61793 21.3925 4.46727 21.3179 4.36217C21.2805 4.30959 21.2503 4.26835 21.2284 4.23893L21.2019 4.20373L21.1936 4.19288L21.1908 4.18917L21.1897 4.18774C21.1897 4.18774 21.1888 4.1866 20.3994 4.80054L21.1888 4.1866Z",fill:"white"}),ee.exports.createElement("path",{d:"M17.5896 7.78682C17.2506 7.35087 16.6223 7.27234 16.1864 7.61141C15.7515 7.94959 15.6723 8.57548 16.0083 9.01128L16.0117 9.01586C16.0162 9.02185 16.0246 9.03334 16.0365 9.05007C16.0603 9.08359 16.0977 9.13784 16.1441 9.21085C16.2374 9.3574 16.3654 9.57639 16.4941 9.85222C16.7544 10.4099 17.0003 11.1627 17.0003 12.0008C17.0003 12.8388 16.7544 13.5916 16.4941 14.1493C16.3654 14.4251 16.2374 14.6441 16.1441 14.7907C16.0977 14.8637 16.0603 14.9179 16.0365 14.9514C16.0246 14.9682 16.0162 14.9797 16.0117 14.9857L16.0083 14.9903C15.6723 15.4261 15.7515 16.0519 16.1864 16.3901C16.6223 16.7292 17.2506 16.6506 17.5896 16.2147L16.8003 15.6008C17.5896 16.2147 17.5896 16.2147 17.5896 16.2147L17.5914 16.2124L17.5936 16.2095L17.5994 16.2021L17.6158 16.1802C17.6289 16.1626 17.6463 16.1389 17.6672 16.1094C17.709 16.0505 17.7654 15.9682 17.8315 15.8644C17.9632 15.6574 18.1352 15.3621 18.3065 14.9951C18.6462 14.267 19.0003 13.2199 19.0003 12.0008C19.0003 10.7816 18.6462 9.73448 18.3065 9.00645C18.1352 8.63942 17.9632 8.34412 17.8315 8.1371C17.7654 8.03333 17.709 7.95097 17.6672 7.89207C17.6463 7.8626 17.6289 7.83893 17.6158 7.82132L17.5994 7.79946L17.5936 7.79198L17.5914 7.78911L17.5905 7.78789C17.5905 7.78789 17.5896 7.78682 16.8003 8.40076L17.5896 7.78682Z",fill:"white"}))}function wie({volume:t}){return t<=0?z.createElement(e6e,null):t<=.5?z.createElement(t6e,null):z.createElement(Hj,null)}const Eie={default:[da.button],toolbar:[da.toolbarButton],toolbarSecondary:[da.toolbarButtonSecondary],icon:[da.iconButton],secondary:[da.secondary],copy:[da.copyButton],secondaryCopy:[da.secondaryCopy,da.copyButton],iconCopy:[da.iconCopyButton],secondaryHangup:[da.secondaryHangup],dropdown:[da.dropdownButton],link:[da.linkButton]},Sie={lg:[da.lg]},Di=ee.exports.forwardRef(({variant:t="default",size:e,on:n,off:r,iconStyle:i,className:s,children:o,onPress:l,onPressStart:d,...h},f)=>{const v=Rw(f),{buttonProps:w}=Lw({onPress:l,onPressStart:d,...h},v);let E=w;if(h.type==="submit"&&!h.onPress){const{...C}=w;E=C}return z.createElement("button",{className:qr(Eie[t],Sie[e],da[i],s,{[da.on]:n,[da.off]:r}),...di(h,E),ref:v},z.createElement(z.Fragment,null,o,t==="dropdown"&&z.createElement(mie,null)))});function xie({muted:t,...e}){const{t:n}=Ir();return z.createElement(Af,{tooltip:()=>n(t?"Unmute microphone":"Mute microphone")},z.createElement(Di,{variant:"toolbar",...e,off:t},t?z.createElement($5e,null):z.createElement(Uj,null)))}function kie({muted:t,...e}){const{t:n}=Ir();return z.createElement(Af,{tooltip:()=>n(t?"Turn on camera":"Turn off camera")},z.createElement(Di,{variant:"toolbar",...e,off:t},t?z.createElement(F5e,null):z.createElement(iO,null)))}function n6e({enabled:t,className:e,...n}){const{t:r}=Ir();return z.createElement(Af,{tooltip:()=>r(t?"Stop sharing screen":"Share screen")},z.createElement(Di,{variant:"toolbarSecondary",...n,on:t},z.createElement(H5e,null)))}function Tie({className:t,...e}){const{t:n}=Ir(),r=ee.exports.useCallback(()=>n("Leave"),[n]);return z.createElement(Af,{tooltip:r},z.createElement(Di,{variant:"toolbar",className:qr(da.hangupButton,t),...e},z.createElement(U5e,null)))}function r6e({className:t,...e}){const{t:n}=Ir(),r=ee.exports.useCallback(()=>n("Invite"),[n]);return z.createElement(Af,{tooltip:r},z.createElement(Di,{variant:"toolbar",...e},z.createElement(gie,null)))}function i6e({volume:t,...e}){const{t:n}=Ir(),r=ee.exports.useCallback(()=>n("Local volume"),[n]);return z.createElement(Af,{tooltip:r},z.createElement(Di,{variant:"icon",...e},z.createElement(wie,{volume:t})))}function s6e({fullscreen:t,...e}){const{t:n}=Ir(),r=ee.exports.useCallback(()=>n(t?"Exit full screen":"Full screen"),[t,n]);return z.createElement(Af,{tooltip:r},z.createElement(Di,{variant:"icon",...e},t?z.createElement(z5e,null):z.createElement(K5e,null)))}var o6e=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(i){t.addRange(i)}),e&&e.focus()}},a6e=o6e,PW={"text/plain":"Text","text/html":"Url",default:"Text"},l6e="Copy to clipboard: #{key}, Enter";function c6e(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function u6e(t,e){var n,r,i,s,o,l,d=!1;e||(e={}),n=e.debug||!1;try{i=a6e(),s=document.createRange(),o=document.getSelection(),l=document.createElement("span"),l.textContent=t,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(f){if(f.stopPropagation(),e.format)if(f.preventDefault(),typeof f.clipboardData=="undefined"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var v=PW[e.format]||PW.default;window.clipboardData.setData(v,t)}else f.clipboardData.clearData(),f.clipboardData.setData(e.format,t);e.onCopy&&(f.preventDefault(),e.onCopy(f.clipboardData))}),document.body.appendChild(l),s.selectNodeContents(l),o.addRange(s);var h=document.execCommand("copy");if(!h)throw new Error("copy command was unsuccessful");d=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),d=!0}catch(v){n&&console.error("unable to copy using clipboardData: ",v),n&&console.error("falling back to prompt"),r=c6e("message"in e?e.message:l6e),window.prompt(r,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),l&&document.body.removeChild(l),i()}return d}var d6e=u6e;function f6e(t,e){var n=ee.exports.useState(!1),r=n[0],i=n[1],s=e&&e.successDuration;return ee.exports.useEffect(function(){if(r&&s){var o=setTimeout(function(){i(!1)},s);return function(){clearTimeout(o)}}},[r,s]),[r,function(){var o=d6e(t);i(o)}]}function nw(t){return ee.exports.createElement("svg",{fill:"none",height:24,stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"m20 6-11 11-5-5"}))}function h6e(t){return ee.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V8.66667C2 9.77124 2.89543 10.6667 4 10.6667H5.33333V12C5.33333 13.1046 6.22877 14 7.33333 14H12C13.1046 14 14 13.1046 14 12V7.33333C14 6.22876 13.1046 5.33333 12 5.33333H10.6667V4C10.6667 2.89543 9.77123 2 8.66667 2H4ZM9.33333 5.33333V4C9.33333 3.63181 9.03486 3.33333 8.66667 3.33333H4C3.63181 3.33333 3.33333 3.63181 3.33333 4V8.66667C3.33333 9.03486 3.63181 9.33333 4 9.33333H5.33333V7.33333C5.33333 6.22877 6.22876 5.33333 7.33333 5.33333H9.33333ZM6.66667 7.33333C6.66667 6.96514 6.96514 6.66667 7.33333 6.66667H12C12.3682 6.66667 12.6667 6.96514 12.6667 7.33333V12C12.6667 12.3682 12.3682 12.6667 12 12.6667H7.33333C6.96514 12.6667 6.66667 12.3682 6.66667 12V7.33333Z",fill:"#8E99A4"}))}function jj({value:t,children:e,className:n,variant:r,copiedMessage:i,...s}){const{t:o}=Ir(),[l,d]=f6e(t,{successDuration:3e3});return z.createElement(Di,{...s,variant:r==="icon"?"iconCopy":r||"copy",on:l,className:n,onPress:d,iconStyle:l?"stroke":"fill"},l?z.createElement(z.Fragment,null,r!=="icon"&&z.createElement("span",null,i||o("Copied!")),z.createElement(nw,null)):z.createElement(z.Fragment,null,r!=="icon"&&z.createElement("span",null,e||t),z.createElement(h6e,null)))}function Kj({children:t,to:e,size:n,variant:r,className:i,...s}){return z.createElement(jy,{className:qr(Eie[r||"secondary"],Sie[n],i),to:e,...s},t)}function p6e(t){return ee.exports.createElement("svg",{width:260,height:30,viewBox:"0 0 260 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("circle",{cx:15,cy:15,r:13,fill:"white"}),ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30ZM12.2579 6.98923C12.2579 6.38376 12.7497 5.89292 13.3565 5.89292C17.4687 5.89292 20.8024 9.21967 20.8024 13.3234C20.8024 13.9289 20.3106 14.4197 19.7038 14.4197C19.0971 14.4197 18.6052 13.9289 18.6052 13.3234C18.6052 10.4306 16.2553 8.08554 13.3565 8.08554C12.7497 8.08554 12.2579 7.59471 12.2579 6.98923ZM24.1066 13.3235C24.1066 12.7181 23.6148 12.2272 23.008 12.2272C22.4013 12.2272 21.9094 12.7181 21.9094 13.3235C21.9094 16.2163 19.5595 18.5614 16.6607 18.5614C16.0539 18.5614 15.5621 19.0523 15.5621 19.6577C15.5621 20.2632 16.0539 20.754 16.6607 20.754C20.7729 20.754 24.1066 17.4273 24.1066 13.3235ZM17.7601 23.011C17.7601 23.6164 17.2682 24.1073 16.6615 24.1073C12.5492 24.1073 9.21553 20.7805 9.21553 16.6768C9.21553 16.0713 9.70739 15.5805 10.3141 15.5805C10.9209 15.5805 11.4127 16.0713 11.4127 16.6768C11.4127 19.5696 13.7627 21.9146 16.6615 21.9146C17.2682 21.9146 17.7601 22.4055 17.7601 23.011ZM5.89281 16.6769C5.89281 17.2824 6.38466 17.7732 6.9914 17.7732C7.59813 17.7732 8.08999 17.2824 8.08999 16.6769C8.08999 13.7841 10.4399 11.439 13.3388 11.439C13.9455 11.439 14.4373 10.9482 14.4373 10.3427C14.4373 9.73722 13.9455 9.24639 13.3388 9.24639C9.22647 9.24639 5.89281 12.5731 5.89281 16.6769Z",fill:"#0DBD8B"}),ee.exports.createElement("path",{d:"M53.5406 17.258H42.8052C42.932 18.3814 43.3397 19.2782 44.0282 19.9486C44.7167 20.6009 45.6227 20.927 46.746 20.927C47.4889 20.927 48.1593 20.7459 48.7572 20.3835C49.3551 20.0211 49.7809 19.5319 50.0346 18.9159H53.296C52.8611 20.3472 52.0458 21.5068 50.8499 22.3947C49.6722 23.2644 48.2771 23.6992 46.6645 23.6992C44.5627 23.6992 42.8596 23.0016 41.555 21.6065C40.2686 20.2114 39.6254 18.4448 39.6254 16.3068C39.6254 14.2231 40.2776 12.4747 41.5822 11.0614C42.8867 9.64814 44.5718 8.94151 46.6373 8.94151C48.7029 8.94151 50.3698 9.63908 51.6381 11.0342C52.9245 12.4112 53.5677 14.1506 53.5677 16.2524L53.5406 17.258ZM46.6373 11.5778C45.6227 11.5778 44.7801 11.8767 44.1098 12.4747C43.4394 13.0726 43.0226 13.8698 42.8596 14.8663H50.3607C50.2158 13.8698 49.8172 13.0726 49.1649 12.4747C48.5126 11.8767 47.6701 11.5778 46.6373 11.5778Z",fill:"white"}),ee.exports.createElement("path",{d:"M55.7934 19.1605V2.9895H59.0276V19.2148C59.0276 19.9396 59.4262 20.302 60.2234 20.302L60.7941 20.2748V23.3459C60.4861 23.4003 60.16 23.4274 59.8157 23.4274C58.4206 23.4274 57.3969 23.0741 56.7446 22.3675C56.1104 21.6609 55.7934 20.5919 55.7934 19.1605Z",fill:"white"}),ee.exports.createElement("path",{d:"M75.8563 17.258H65.121C65.2478 18.3814 65.6555 19.2782 66.344 19.9486C67.0325 20.6009 67.9384 20.927 69.0618 20.927C69.8047 20.927 70.4751 20.7459 71.073 20.3835C71.6709 20.0211 72.0967 19.5319 72.3503 18.9159H75.6117C75.1769 20.3472 74.3615 21.5068 73.1657 22.3947C71.988 23.2644 70.5928 23.6992 68.9803 23.6992C66.8785 23.6992 65.1753 23.0016 63.8708 21.6065C62.5843 20.2114 61.9411 18.4448 61.9411 16.3068C61.9411 14.2231 62.5934 12.4747 63.898 11.0614C65.2025 9.64814 66.8875 8.94151 68.9531 8.94151C71.0186 8.94151 72.6855 9.63908 73.9539 11.0342C75.2403 12.4112 75.8835 14.1506 75.8835 16.2524L75.8563 17.258ZM68.9531 11.5778C67.9384 11.5778 67.0959 11.8767 66.4255 12.4747C65.7551 13.0726 65.3384 13.8698 65.1753 14.8663H72.6765C72.5315 13.8698 72.1329 13.0726 71.4806 12.4747C70.8284 11.8767 69.9859 11.5778 68.9531 11.5778Z",fill:"white"}),ee.exports.createElement("path",{d:"M90.448 15.274V23.3731H87.2138V14.9207C87.2138 12.7827 86.326 11.7137 84.5503 11.7137C83.59 11.7137 82.82 12.0217 82.2402 12.6377C81.6785 13.2538 81.3977 14.0963 81.3977 15.1653V23.3731H78.1635V9.26764H81.1531V11.1429C81.4973 10.5088 82.0228 9.98333 82.7294 9.5666C83.436 9.14987 84.3148 8.94151 85.3657 8.94151C87.3225 8.94151 88.7358 9.68438 89.6055 11.1701C90.8013 9.68438 92.3958 8.94151 94.3888 8.94151C96.0376 8.94151 97.3059 9.45789 98.1937 10.4907C99.0816 11.5053 99.5255 12.8461 99.5255 14.513V23.3731H96.2913V14.9207C96.2913 12.7827 95.4035 11.7137 93.6278 11.7137C92.6494 11.7137 91.8703 12.0308 91.2905 12.6649C90.7288 13.2809 90.448 14.1506 90.448 15.274Z",fill:"white"}),ee.exports.createElement("path",{d:"M115.61 17.258H104.874C105.001 18.3814 105.409 19.2782 106.097 19.9486C106.786 20.6009 107.692 20.927 108.815 20.927C109.558 20.927 110.228 20.7459 110.826 20.3835C111.424 20.0211 111.85 19.5319 112.104 18.9159H115.365C114.93 20.3472 114.115 21.5068 112.919 22.3947C111.741 23.2644 110.346 23.6992 108.734 23.6992C106.632 23.6992 104.929 23.0016 103.624 21.6065C102.338 20.2114 101.694 18.4448 101.694 16.3068C101.694 14.2231 102.347 12.4747 103.651 11.0614C104.956 9.64814 106.641 8.94151 108.706 8.94151C110.772 8.94151 112.439 9.63908 113.707 11.0342C114.994 12.4112 115.637 14.1506 115.637 16.2524L115.61 17.258ZM108.706 11.5778C107.692 11.5778 106.849 11.8767 106.179 12.4747C105.508 13.0726 105.092 13.8698 104.929 14.8663H112.43C112.285 13.8698 111.886 13.0726 111.234 12.4747C110.582 11.8767 109.739 11.5778 108.706 11.5778Z",fill:"white"}),ee.exports.createElement("path",{d:"M120.906 9.26764V11.1429C121.232 10.5269 121.767 10.0105 122.51 9.59378C123.271 9.15893 124.186 8.94151 125.255 8.94151C126.922 8.94151 128.208 9.44883 129.114 10.4635C130.038 11.4781 130.5 12.828 130.5 14.513V23.3731H127.266V14.9207C127.266 13.9242 127.03 13.1451 126.559 12.5834C126.106 12.0036 125.409 11.7137 124.467 11.7137C123.434 11.7137 122.619 12.0217 122.021 12.6377C121.441 13.2538 121.151 14.1053 121.151 15.1925V23.3731H117.917V9.26764H120.906Z",fill:"white"}),ee.exports.createElement("path",{d:"M139.946 20.4922V23.2915C139.547 23.4003 138.985 23.4546 138.261 23.4546C135.507 23.4546 134.13 22.0685 134.13 19.2964V11.8496H131.982V9.26764H134.13V5.5986H137.364V9.26764H140V11.8496H137.364V18.9702C137.364 20.0755 137.889 20.6281 138.94 20.6281L139.946 20.4922Z",fill:"white"}),ee.exports.createElement("path",{d:"M148.304 20.864C146.768 19.184 146 17.056 146 14.48C146 11.904 146.768 9.784 148.304 8.12C149.856 6.44 151.896 5.6 154.424 5.6C156.504 5.6 158.264 6.176 159.704 7.328C161.144 8.48 162.064 10.024 162.464 11.96H160.616C160.28 10.52 159.552 9.376 158.432 8.528C157.312 7.68 155.976 7.256 154.424 7.256C152.44 7.256 150.84 7.92 149.624 9.248C148.424 10.576 147.824 12.32 147.824 14.48C147.824 16.64 148.424 18.384 149.624 19.712C150.84 21.04 152.44 21.704 154.424 21.704C155.976 21.704 157.312 21.28 158.432 20.432C159.552 19.584 160.28 18.44 160.616 17H162.464C162.064 18.936 161.144 20.48 159.704 21.632C158.264 22.784 156.504 23.36 154.424 23.36C151.896 23.36 149.856 22.528 148.304 20.864Z",fill:"white"}),ee.exports.createElement("path",{d:"M173.63 17.192C171.438 17.192 169.942 17.24 169.142 17.336C168.358 17.416 167.782 17.552 167.414 17.744C166.758 18.112 166.43 18.704 166.43 19.52C166.43 21.088 167.358 21.872 169.214 21.872C170.638 21.872 171.726 21.552 172.478 20.912C173.246 20.272 173.63 19.416 173.63 18.344V17.192ZM169.022 23.288C167.63 23.288 166.566 22.952 165.83 22.28C165.11 21.592 164.75 20.688 164.75 19.568C164.75 18.832 164.942 18.176 165.326 17.6C165.726 17.024 166.27 16.6 166.958 16.328C167.534 16.104 168.278 15.96 169.19 15.896C170.102 15.816 171.582 15.776 173.63 15.776V14.984C173.63 12.968 172.478 11.96 170.174 11.96C168.19 11.96 167.038 12.768 166.718 14.384H165.062C165.238 13.2 165.742 12.256 166.574 11.552C167.422 10.848 168.646 10.496 170.246 10.496C171.958 10.496 173.23 10.896 174.062 11.696C174.91 12.496 175.334 13.6 175.334 15.008V23H173.702V21.224C172.854 22.6 171.294 23.288 169.022 23.288Z",fill:"white"}),ee.exports.createElement("path",{d:"M179.418 20.312V5H181.122V20.12C181.122 20.616 181.202 20.96 181.362 21.152C181.538 21.344 181.85 21.44 182.298 21.44L182.778 21.392V22.952C182.506 23 182.21 23.024 181.89 23.024C180.242 23.024 179.418 22.12 179.418 20.312Z",fill:"white"}),ee.exports.createElement("path",{d:"M185.582 20.312V5H187.286V20.12C187.286 20.616 187.366 20.96 187.526 21.152C187.702 21.344 188.014 21.44 188.462 21.44L188.942 21.392V22.952C188.67 23 188.374 23.024 188.054 23.024C186.406 23.024 185.582 22.12 185.582 20.312Z",fill:"white"}),ee.exports.createElement("path",{d:"M201 10C201 5.58172 204.582 2 209 2H252C256.418 2 260 5.58172 260 10V20C260 24.4183 256.418 28 252 28H209C204.582 28 201 24.4183 201 20V10Z",fill:"#368BD6"}),ee.exports.createElement("path",{d:"M212.076 20H216.492C218.99 20 220.215 18.7269 220.215 17.0277C220.215 15.3764 219.043 14.407 217.882 14.3484V14.2418C218.947 13.9915 219.789 13.2457 219.789 11.9194C219.789 10.2947 218.617 9.09091 216.252 9.09091H212.076V20ZM214.052 18.3487V15.1527H216.231C217.451 15.1527 218.207 15.8984 218.207 16.8732C218.207 17.7415 217.61 18.3487 216.178 18.3487H214.052ZM214.052 13.7305V10.7209H216.05C217.211 10.7209 217.813 11.3335 217.813 12.1751C217.813 13.1339 217.035 13.7305 216.007 13.7305H214.052ZM221.934 20H229.072V18.3434H223.911V15.3658H228.662V13.7092H223.911V10.7475H229.03V9.09091H221.934V20ZM230.566 10.7475H233.938V20H235.898V10.7475H239.27V9.09091H230.566V10.7475ZM241.031 20L241.931 17.31H246.032L246.938 20H249.047L245.201 9.09091H242.762L238.921 20H241.031ZM242.464 15.7227L243.939 11.3281H244.024L245.5 15.7227H242.464Z",fill:"white"}))}const g6e="_caption_6c8yz_1",m6e="_micro_6c8yz_6",y6e="_regular_6c8yz_11",v6e="_semiBold_6c8yz_15",b6e="_bold_6c8yz_19",_6e="_link_6c8yz_23",w6e="_primary_6c8yz_27",E6e="_overflowEllipsis_6c8yz_31";var _a={caption:g6e,micro:m6e,regular:y6e,semiBold:v6e,bold:b6e,link:_6e,primary:w6e,overflowEllipsis:E6e};const zj=ee.exports.forwardRef(({as:t="h1",children:e,className:n,fontWeight:r,overflowEllipsis:i,...s},o)=>ee.exports.createElement(t,{...s,className:qr(_a[r],{[_a.overflowEllipsis]:i},n),ref:o},e)),S6e=ee.exports.forwardRef(({as:t="h2",children:e,className:n,fontWeight:r,overflowEllipsis:i,...s},o)=>ee.exports.createElement(t,{...s,className:qr(_a[r],{[_a.overflowEllipsis]:i},n),ref:o},e)),VF=ee.exports.forwardRef(({as:t="h3",children:e,className:n,fontWeight:r,overflowEllipsis:i,...s},o)=>ee.exports.createElement(t,{...s,className:qr(_a[r],{[_a.overflowEllipsis]:i},n),ref:o},e)),Ja=ee.exports.forwardRef(({as:t="p",children:e,className:n,fontWeight:r,overflowEllipsis:i,...s},o)=>ee.exports.createElement(t,{...s,className:qr(_a[r],{[_a.overflowEllipsis]:i},n),ref:o},e)),sO=ee.exports.forwardRef(({as:t="p",children:e,className:n,fontWeight:r,overflowEllipsis:i,...s},o)=>ee.exports.createElement(t,{...s,className:qr(_a.caption,_a[r],{[_a.overflowEllipsis]:i},n),ref:o},e));ee.exports.forwardRef(({as:t="p",children:e,className:n,fontWeight:r,overflowEllipsis:i,...s},o)=>ee.exports.createElement(t,{...s,className:qr(_a.micro,_a[r],{[_a.overflowEllipsis]:i},n),ref:o},e));const cu=ee.exports.forwardRef(({as:t,children:e,className:n,color:r="link",href:i,to:s,fontWeight:o,overflowEllipsis:l,...d},h)=>{const f=t||(s?jy:"a");let v;return i&&(v={href:i,target:"_blank",rel:"noreferrer noopener"}),ee.exports.createElement(f,{...v,...d,to:s,className:qr(_a[r],_a[o],{[_a.overflowEllipsis]:l},n),ref:h},e)});var Cie={exports:{}},x6e={},k6e=Object.freeze(Object.defineProperty({__proto__:null,default:x6e},Symbol.toStringTag,{value:"Module"})),I_=Zae(k6e);(function(t,e){// @license magnet:?xt=urn:btih:8e4f440f4c65981c5bf93c76d35135ba5064d8b7&dn=apache-2.0.txt Apache-2.0
var n=function(){var r={},i,s,o=function(){var d=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename!="undefined"&&(d=d||__filename),function(h){h=h||{};var f;f||(f=typeof h!="undefined"?h:{});var v,w;f.ready=new Promise(function(ce,be){v=ce,w=be});var E;if(typeof window!="undefined")E=function(ce){window.crypto.getRandomValues(ce)};else if(t.exports){var C=I_;E=function(ce){var be=C.randomBytes(ce.length);ce.set(be)},process=Sy.process}else throw Error("Cannot find global to attach library to");if(typeof OLM_OPTIONS!="undefined")for(var O in OLM_OPTIONS)OLM_OPTIONS.hasOwnProperty(O)&&(f[O]=OLM_OPTIONS[O]);f.onRuntimeInitialized=function(){an=f._olm_error(),r.PRIVATE_KEY_LENGTH=f._olm_pk_private_key_length(),i&&i()},f.onAbort=function(ce){s&&s(ce)};var M={},A;for(A in f)f.hasOwnProperty(A)&&(M[A]=f[A]);var D=typeof window=="object",U=typeof importScripts=="function",R="",X,H,K,W,Z;typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"?(R=U?I_.dirname(R)+"/":__dirname+"/",X=function(ce,be){return W||(W=I_),Z||(Z=I_),ce=Z.normalize(ce),W.readFileSync(ce,be?null:"utf8")},K=function(ce){return ce=X(ce,!0),ce.buffer||(ce=new Uint8Array(ce)),ce.buffer||Ze("Assertion failed: undefined"),ce},H=function(ce,be,Ke){W||(W=I_),Z||(Z=I_),ce=Z.normalize(ce),W.readFile(ce,function(Bt,we){Bt?Ke(Bt):be(we.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(ce){throw ce}),process.on("unhandledRejection",Ze),f.inspect=function(){return"[Emscripten Module object]"}):(D||U)&&(U?R=self.location.href:typeof document!="undefined"&&document.currentScript&&(R=document.currentScript.src),d&&(R=d),R.indexOf("blob:")!==0?R=R.substr(0,R.lastIndexOf("/")+1):R="",X=function(ce){var be=new XMLHttpRequest;return be.open("GET",ce,!1),be.send(null),be.responseText},U&&(K=function(ce){var be=new XMLHttpRequest;return be.open("GET",ce,!1),be.responseType="arraybuffer",be.send(null),new Uint8Array(be.response)}),H=function(ce,be,Ke){var Bt=new XMLHttpRequest;Bt.open("GET",ce,!0),Bt.responseType="arraybuffer",Bt.onload=function(){Bt.status==200||Bt.status==0&&Bt.response?be(Bt.response):Ke()},Bt.onerror=Ke,Bt.send(null)}),f.print||console.log.bind(console);var ie=f.printErr||console.warn.bind(console);for(A in M)M.hasOwnProperty(A)&&(f[A]=M[A]);M=null;var se;f.wasmBinary&&(se=f.wasmBinary),f.noExitRuntime,typeof WebAssembly!="object"&&Ze("no native wasm support detected");function oe(ce){var be="i8";switch(be.charAt(be.length-1)==="*"&&(be="i32"),be){case"i1":Se[ce>>0]=0;break;case"i8":Se[ce>>0]=0;break;case"i16":Ye[ce>>1]=0;break;case"i32":Le[ce>>2]=0;break;case"i64":rn=[0,(_n=0,1<=+Math.abs(_n)?0<_n?(Math.min(+Math.floor(_n/4294967296),4294967295)|0)>>>0:~~+Math.ceil((_n-+(~~_n>>>0))/4294967296)>>>0:0)],Le[ce>>2]=rn[0],Le[ce+4>>2]=rn[1];break;case"float":Nt[ce>>2]=0;break;case"double":pt[ce>>3]=0;break;default:Ze("invalid type for setValue: "+be)}}function Q(ce,be){switch(be=be||"i8",be.charAt(be.length-1)==="*"&&(be="i32"),be){case"i1":return Se[ce>>0];case"i8":return Se[ce>>0];case"i16":return Ye[ce>>1];case"i32":return Le[ce>>2];case"i64":return Le[ce>>2];case"float":return Nt[ce>>2];case"double":return pt[ce>>3];default:Ze("invalid type for getValue: "+be)}return null}var ae,he=!1,Ee=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function De(ce,be){if(ce){var Ke=Ie,Bt=ce+be;for(be=ce;Ke[be]&&!(be>=Bt);)++be;if(16<be-ce&&Ke.subarray&&Ee)ce=Ee.decode(Ke.subarray(ce,be));else{for(Bt="";ce<be;){var we=Ke[ce++];if(we&128){var Oe=Ke[ce++]&63;if((we&224)==192)Bt+=String.fromCharCode((we&31)<<6|Oe);else{var ge=Ke[ce++]&63;we=(we&240)==224?(we&15)<<12|Oe<<6|ge:(we&7)<<18|Oe<<12|ge<<6|Ke[ce++]&63,65536>we?Bt+=String.fromCharCode(we):(we-=65536,Bt+=String.fromCharCode(55296|we>>10,56320|we&1023))}}else Bt+=String.fromCharCode(we)}ce=Bt}}else ce="";return ce}function qe(ce,be,Ke,Bt){if(!(0<Bt))return 0;var we=Ke;Bt=Ke+Bt-1;for(var Oe=0;Oe<ce.length;++Oe){var ge=ce.charCodeAt(Oe);if(55296<=ge&&57343>=ge){var Re=ce.charCodeAt(++Oe);ge=65536+((ge&1023)<<10)|Re&1023}if(127>=ge){if(Ke>=Bt)break;be[Ke++]=ge}else{if(2047>=ge){if(Ke+1>=Bt)break;be[Ke++]=192|ge>>6}else{if(65535>=ge){if(Ke+2>=Bt)break;be[Ke++]=224|ge>>12}else{if(Ke+3>=Bt)break;be[Ke++]=240|ge>>18,be[Ke++]=128|ge>>12&63}be[Ke++]=128|ge>>6&63}be[Ke++]=128|ge&63}}return be[Ke]=0,Ke-we}function _e(ce){for(var be=0,Ke=0;Ke<ce.length;++Ke){var Bt=ce.charCodeAt(Ke);55296<=Bt&&57343>=Bt&&(Bt=65536+((Bt&1023)<<10)|ce.charCodeAt(++Ke)&1023),127>=Bt?++be:be=2047>=Bt?be+2:65535>=Bt?be+3:be+4}return be}function xe(ce,be){for(var Ke=0;Ke<ce.length;++Ke)Se[be++>>0]=ce.charCodeAt(Ke)}var Se,Ie,Ye,Le,Nt,pt,ze,nt=[],me=[],ut=[];function Ve(){var ce=f.preRun.shift();nt.unshift(ce)}var dt=0,ot=null;f.preloadedImages={},f.preloadedAudios={};function Ze(ce){throw f.onAbort&&f.onAbort(ce),ie(ce),he=!0,ce=new WebAssembly.RuntimeError("abort("+ce+"). Build with -s ASSERTIONS=1 for more info."),w(ce),ce}function kt(){return ln.startsWith("data:application/octet-stream;base64,")}var ln;if(ln="olm.wasm",!kt()){var Ht=ln;ln=f.locateFile?f.locateFile(Ht,R):R+Ht}function nn(){var ce=ln;try{if(ce==ln&&se)return new Uint8Array(se);if(K)return K(ce);throw"both async and sync fetching of the wasm failed"}catch(be){Ze(be)}}function qn(){if(!se&&(D||U)){if(typeof fetch=="function"&&!ln.startsWith("file://"))return fetch(ln,{credentials:"same-origin"}).then(function(ce){if(!ce.ok)throw"failed to load wasm binary file at '"+ln+"'";return ce.arrayBuffer()}).catch(function(){return nn()});if(H)return new Promise(function(ce,be){H(ln,function(Ke){ce(new Uint8Array(Ke))},be)})}return Promise.resolve().then(function(){return nn()})}var _n,rn;function Yt(ce){for(;0<ce.length;){var be=ce.shift();if(typeof be=="function")be(f);else{var Ke=be.cc;typeof Ke=="number"?be.bc===void 0?ze.get(Ke)():ze.get(Ke)(be.bc):Ke(be.bc===void 0?null:be.bc)}}}var gn={a:function(ce,be,Ke){Ie.copyWithin(ce,be,be+Ke)},b:function(){Ze("OOM")}};(function(){function ce(we){f.asm=we.exports,ae=f.asm.c,we=ae.buffer,f.HEAP8=Se=new Int8Array(we),f.HEAP16=Ye=new Int16Array(we),f.HEAP32=Le=new Int32Array(we),f.HEAPU8=Ie=new Uint8Array(we),f.HEAPU16=new Uint16Array(we),f.HEAPU32=new Uint32Array(we),f.HEAPF32=Nt=new Float32Array(we),f.HEAPF64=pt=new Float64Array(we),ze=f.asm.e,me.unshift(f.asm.d),dt--,f.monitorRunDependencies&&f.monitorRunDependencies(dt),dt==0&&ot&&(we=ot,ot=null,we())}function be(we){ce(we.instance)}function Ke(we){return qn().then(function(Oe){return WebAssembly.instantiate(Oe,Bt)}).then(function(Oe){return Oe}).then(we,function(Oe){ie("failed to asynchronously prepare wasm: "+Oe),Ze(Oe)})}var Bt={a:gn};if(dt++,f.monitorRunDependencies&&f.monitorRunDependencies(dt),f.instantiateWasm)try{return f.instantiateWasm(Bt,ce)}catch(we){return ie("Module.instantiateWasm callback failed with error: "+we),!1}return function(){return se||typeof WebAssembly.instantiateStreaming!="function"||kt()||ln.startsWith("file://")||typeof fetch!="function"?Ke(be):fetch(ln,{credentials:"same-origin"}).then(function(we){return WebAssembly.instantiateStreaming(we,Bt).then(be,function(Oe){return ie("wasm streaming compile failed: "+Oe),ie("falling back to ArrayBuffer instantiation"),Ke(be)})})}().catch(w),{}})(),f.___wasm_call_ctors=function(){return(f.___wasm_call_ctors=f.asm.d).apply(null,arguments)},f._olm_pk_encryption_last_error=function(){return(f._olm_pk_encryption_last_error=f.asm.f).apply(null,arguments)},f.__olm_error_to_string=function(){return(f.__olm_error_to_string=f.asm.g).apply(null,arguments)},f._olm_pk_encryption_last_error_code=function(){return(f._olm_pk_encryption_last_error_code=f.asm.h).apply(null,arguments)},f._olm_pk_encryption_size=function(){return(f._olm_pk_encryption_size=f.asm.i).apply(null,arguments)},f._olm_pk_encryption=function(){return(f._olm_pk_encryption=f.asm.j).apply(null,arguments)},f._olm_clear_pk_encryption=function(){return(f._olm_clear_pk_encryption=f.asm.k).apply(null,arguments)},f._olm_pk_encryption_set_recipient_key=function(){return(f._olm_pk_encryption_set_recipient_key=f.asm.l).apply(null,arguments)},f._olm_pk_key_length=function(){return(f._olm_pk_key_length=f.asm.m).apply(null,arguments)},f._olm_pk_ciphertext_length=function(){return(f._olm_pk_ciphertext_length=f.asm.n).apply(null,arguments)},f._olm_pk_mac_length=function(){return(f._olm_pk_mac_length=f.asm.o).apply(null,arguments)},f._olm_pk_encrypt_random_length=function(){return(f._olm_pk_encrypt_random_length=f.asm.p).apply(null,arguments)},f._olm_pk_encrypt=function(){return(f._olm_pk_encrypt=f.asm.q).apply(null,arguments)},f._olm_pk_decryption_last_error=function(){return(f._olm_pk_decryption_last_error=f.asm.r).apply(null,arguments)},f._olm_pk_decryption_last_error_code=function(){return(f._olm_pk_decryption_last_error_code=f.asm.s).apply(null,arguments)},f._olm_pk_decryption_size=function(){return(f._olm_pk_decryption_size=f.asm.t).apply(null,arguments)},f._olm_pk_decryption=function(){return(f._olm_pk_decryption=f.asm.u).apply(null,arguments)},f._olm_clear_pk_decryption=function(){return(f._olm_clear_pk_decryption=f.asm.v).apply(null,arguments)},f._olm_pk_private_key_length=function(){return(f._olm_pk_private_key_length=f.asm.w).apply(null,arguments)},f._olm_pk_generate_key_random_length=function(){return(f._olm_pk_generate_key_random_length=f.asm.x).apply(null,arguments)},f._olm_pk_key_from_private=function(){return(f._olm_pk_key_from_private=f.asm.y).apply(null,arguments)},f._olm_pk_generate_key=function(){return(f._olm_pk_generate_key=f.asm.z).apply(null,arguments)},f._olm_pickle_pk_decryption_length=function(){return(f._olm_pickle_pk_decryption_length=f.asm.A).apply(null,arguments)},f._olm_pickle_pk_decryption=function(){return(f._olm_pickle_pk_decryption=f.asm.B).apply(null,arguments)},f._olm_unpickle_pk_decryption=function(){return(f._olm_unpickle_pk_decryption=f.asm.C).apply(null,arguments)},f._olm_pk_max_plaintext_length=function(){return(f._olm_pk_max_plaintext_length=f.asm.D).apply(null,arguments)},f._olm_pk_decrypt=function(){return(f._olm_pk_decrypt=f.asm.E).apply(null,arguments)},f._olm_pk_get_private_key=function(){return(f._olm_pk_get_private_key=f.asm.F).apply(null,arguments)},f._olm_pk_signing_size=function(){return(f._olm_pk_signing_size=f.asm.G).apply(null,arguments)},f._olm_pk_signing=function(){return(f._olm_pk_signing=f.asm.H).apply(null,arguments)},f._olm_pk_signing_last_error=function(){return(f._olm_pk_signing_last_error=f.asm.I).apply(null,arguments)},f._olm_pk_signing_last_error_code=function(){return(f._olm_pk_signing_last_error_code=f.asm.J).apply(null,arguments)},f._olm_clear_pk_signing=function(){return(f._olm_clear_pk_signing=f.asm.K).apply(null,arguments)},f._olm_pk_signing_seed_length=function(){return(f._olm_pk_signing_seed_length=f.asm.L).apply(null,arguments)},f._olm_pk_signing_public_key_length=function(){return(f._olm_pk_signing_public_key_length=f.asm.M).apply(null,arguments)},f._olm_pk_signing_key_from_seed=function(){return(f._olm_pk_signing_key_from_seed=f.asm.N).apply(null,arguments)},f._olm_pk_signature_length=function(){return(f._olm_pk_signature_length=f.asm.O).apply(null,arguments)},f._olm_pk_sign=function(){return(f._olm_pk_sign=f.asm.P).apply(null,arguments)},f._olm_get_library_version=function(){return(f._olm_get_library_version=f.asm.Q).apply(null,arguments)},f._olm_error=function(){return(f._olm_error=f.asm.R).apply(null,arguments)},f._olm_account_last_error=function(){return(f._olm_account_last_error=f.asm.S).apply(null,arguments)},f._olm_account_last_error_code=function(){return(f._olm_account_last_error_code=f.asm.T).apply(null,arguments)},f._olm_session_last_error=function(){return(f._olm_session_last_error=f.asm.U).apply(null,arguments)},f._olm_session_last_error_code=function(){return(f._olm_session_last_error_code=f.asm.V).apply(null,arguments)},f._olm_utility_last_error=function(){return(f._olm_utility_last_error=f.asm.W).apply(null,arguments)},f._olm_utility_last_error_code=function(){return(f._olm_utility_last_error_code=f.asm.X).apply(null,arguments)},f._olm_account_size=function(){return(f._olm_account_size=f.asm.Y).apply(null,arguments)},f._olm_session_size=function(){return(f._olm_session_size=f.asm.Z).apply(null,arguments)},f._olm_utility_size=function(){return(f._olm_utility_size=f.asm._).apply(null,arguments)},f._olm_account=function(){return(f._olm_account=f.asm.$).apply(null,arguments)},f._olm_session=function(){return(f._olm_session=f.asm.aa).apply(null,arguments)},f._olm_utility=function(){return(f._olm_utility=f.asm.ba).apply(null,arguments)},f._olm_clear_account=function(){return(f._olm_clear_account=f.asm.ca).apply(null,arguments)},f._olm_clear_session=function(){return(f._olm_clear_session=f.asm.da).apply(null,arguments)},f._olm_clear_utility=function(){return(f._olm_clear_utility=f.asm.ea).apply(null,arguments)},f._olm_pickle_account_length=function(){return(f._olm_pickle_account_length=f.asm.fa).apply(null,arguments)},f._olm_pickle_session_length=function(){return(f._olm_pickle_session_length=f.asm.ga).apply(null,arguments)},f._olm_pickle_account=function(){return(f._olm_pickle_account=f.asm.ha).apply(null,arguments)},f._olm_pickle_session=function(){return(f._olm_pickle_session=f.asm.ia).apply(null,arguments)},f._olm_unpickle_account=function(){return(f._olm_unpickle_account=f.asm.ja).apply(null,arguments)},f._olm_unpickle_session=function(){return(f._olm_unpickle_session=f.asm.ka).apply(null,arguments)},f._olm_create_account_random_length=function(){return(f._olm_create_account_random_length=f.asm.la).apply(null,arguments)},f._olm_create_account=function(){return(f._olm_create_account=f.asm.ma).apply(null,arguments)},f._olm_account_identity_keys_length=function(){return(f._olm_account_identity_keys_length=f.asm.na).apply(null,arguments)},f._olm_account_identity_keys=function(){return(f._olm_account_identity_keys=f.asm.oa).apply(null,arguments)},f._olm_account_signature_length=function(){return(f._olm_account_signature_length=f.asm.pa).apply(null,arguments)},f._olm_account_sign=function(){return(f._olm_account_sign=f.asm.qa).apply(null,arguments)},f._olm_account_one_time_keys_length=function(){return(f._olm_account_one_time_keys_length=f.asm.ra).apply(null,arguments)},f._olm_account_one_time_keys=function(){return(f._olm_account_one_time_keys=f.asm.sa).apply(null,arguments)},f._olm_account_mark_keys_as_published=function(){return(f._olm_account_mark_keys_as_published=f.asm.ta).apply(null,arguments)},f._olm_account_max_number_of_one_time_keys=function(){return(f._olm_account_max_number_of_one_time_keys=f.asm.ua).apply(null,arguments)},f._olm_account_generate_one_time_keys_random_length=function(){return(f._olm_account_generate_one_time_keys_random_length=f.asm.va).apply(null,arguments)},f._olm_account_generate_one_time_keys=function(){return(f._olm_account_generate_one_time_keys=f.asm.wa).apply(null,arguments)},f._olm_account_generate_fallback_key_random_length=function(){return(f._olm_account_generate_fallback_key_random_length=f.asm.xa).apply(null,arguments)},f._olm_account_generate_fallback_key=function(){return(f._olm_account_generate_fallback_key=f.asm.ya).apply(null,arguments)},f._olm_account_fallback_key_length=function(){return(f._olm_account_fallback_key_length=f.asm.za).apply(null,arguments)},f._olm_account_fallback_key=function(){return(f._olm_account_fallback_key=f.asm.Aa).apply(null,arguments)},f._olm_account_unpublished_fallback_key_length=function(){return(f._olm_account_unpublished_fallback_key_length=f.asm.Ba).apply(null,arguments)},f._olm_account_unpublished_fallback_key=function(){return(f._olm_account_unpublished_fallback_key=f.asm.Ca).apply(null,arguments)},f._olm_account_forget_old_fallback_key=function(){return(f._olm_account_forget_old_fallback_key=f.asm.Da).apply(null,arguments)},f._olm_create_outbound_session_random_length=function(){return(f._olm_create_outbound_session_random_length=f.asm.Ea).apply(null,arguments)},f._olm_create_outbound_session=function(){return(f._olm_create_outbound_session=f.asm.Fa).apply(null,arguments)},f._olm_create_inbound_session=function(){return(f._olm_create_inbound_session=f.asm.Ga).apply(null,arguments)},f._olm_create_inbound_session_from=function(){return(f._olm_create_inbound_session_from=f.asm.Ha).apply(null,arguments)},f._olm_session_id_length=function(){return(f._olm_session_id_length=f.asm.Ia).apply(null,arguments)},f._olm_session_id=function(){return(f._olm_session_id=f.asm.Ja).apply(null,arguments)},f._olm_session_has_received_message=function(){return(f._olm_session_has_received_message=f.asm.Ka).apply(null,arguments)},f._olm_session_describe=function(){return(f._olm_session_describe=f.asm.La).apply(null,arguments)},f._olm_matches_inbound_session=function(){return(f._olm_matches_inbound_session=f.asm.Ma).apply(null,arguments)},f._olm_matches_inbound_session_from=function(){return(f._olm_matches_inbound_session_from=f.asm.Na).apply(null,arguments)},f._olm_remove_one_time_keys=function(){return(f._olm_remove_one_time_keys=f.asm.Oa).apply(null,arguments)},f._olm_encrypt_message_type=function(){return(f._olm_encrypt_message_type=f.asm.Pa).apply(null,arguments)},f._olm_encrypt_random_length=function(){return(f._olm_encrypt_random_length=f.asm.Qa).apply(null,arguments)},f._olm_encrypt_message_length=function(){return(f._olm_encrypt_message_length=f.asm.Ra).apply(null,arguments)},f._olm_encrypt=function(){return(f._olm_encrypt=f.asm.Sa).apply(null,arguments)},f._olm_decrypt_max_plaintext_length=function(){return(f._olm_decrypt_max_plaintext_length=f.asm.Ta).apply(null,arguments)},f._olm_decrypt=function(){return(f._olm_decrypt=f.asm.Ua).apply(null,arguments)},f._olm_sha256_length=function(){return(f._olm_sha256_length=f.asm.Va).apply(null,arguments)},f._olm_sha256=function(){return(f._olm_sha256=f.asm.Wa).apply(null,arguments)},f._olm_ed25519_verify=function(){return(f._olm_ed25519_verify=f.asm.Xa).apply(null,arguments)},f._olm_inbound_group_session_size=function(){return(f._olm_inbound_group_session_size=f.asm.Ya).apply(null,arguments)},f._olm_inbound_group_session=function(){return(f._olm_inbound_group_session=f.asm.Za).apply(null,arguments)},f._olm_clear_inbound_group_session=function(){return(f._olm_clear_inbound_group_session=f.asm._a).apply(null,arguments)},f._olm_inbound_group_session_last_error=function(){return(f._olm_inbound_group_session_last_error=f.asm.$a).apply(null,arguments)},f._olm_inbound_group_session_last_error_code=function(){return(f._olm_inbound_group_session_last_error_code=f.asm.ab).apply(null,arguments)},f._olm_init_inbound_group_session=function(){return(f._olm_init_inbound_group_session=f.asm.bb).apply(null,arguments)},f._olm_import_inbound_group_session=function(){return(f._olm_import_inbound_group_session=f.asm.cb).apply(null,arguments)},f._olm_pickle_inbound_group_session_length=function(){return(f._olm_pickle_inbound_group_session_length=f.asm.db).apply(null,arguments)},f._olm_pickle_inbound_group_session=function(){return(f._olm_pickle_inbound_group_session=f.asm.eb).apply(null,arguments)},f._olm_unpickle_inbound_group_session=function(){return(f._olm_unpickle_inbound_group_session=f.asm.fb).apply(null,arguments)},f._olm_group_decrypt_max_plaintext_length=function(){return(f._olm_group_decrypt_max_plaintext_length=f.asm.gb).apply(null,arguments)},f._olm_group_decrypt=function(){return(f._olm_group_decrypt=f.asm.hb).apply(null,arguments)},f._olm_inbound_group_session_id_length=function(){return(f._olm_inbound_group_session_id_length=f.asm.ib).apply(null,arguments)},f._olm_inbound_group_session_id=function(){return(f._olm_inbound_group_session_id=f.asm.jb).apply(null,arguments)},f._olm_inbound_group_session_first_known_index=function(){return(f._olm_inbound_group_session_first_known_index=f.asm.kb).apply(null,arguments)},f._olm_inbound_group_session_is_verified=function(){return(f._olm_inbound_group_session_is_verified=f.asm.lb).apply(null,arguments)},f._olm_export_inbound_group_session_length=function(){return(f._olm_export_inbound_group_session_length=f.asm.mb).apply(null,arguments)},f._olm_export_inbound_group_session=function(){return(f._olm_export_inbound_group_session=f.asm.nb).apply(null,arguments)},f._olm_sas_last_error=function(){return(f._olm_sas_last_error=f.asm.ob).apply(null,arguments)},f._olm_sas_last_error_code=function(){return(f._olm_sas_last_error_code=f.asm.pb).apply(null,arguments)},f._olm_sas_size=function(){return(f._olm_sas_size=f.asm.qb).apply(null,arguments)},f._olm_sas=function(){return(f._olm_sas=f.asm.rb).apply(null,arguments)},f._olm_clear_sas=function(){return(f._olm_clear_sas=f.asm.sb).apply(null,arguments)},f._olm_create_sas_random_length=function(){return(f._olm_create_sas_random_length=f.asm.tb).apply(null,arguments)},f._olm_create_sas=function(){return(f._olm_create_sas=f.asm.ub).apply(null,arguments)},f._olm_sas_pubkey_length=function(){return(f._olm_sas_pubkey_length=f.asm.vb).apply(null,arguments)},f._olm_sas_get_pubkey=function(){return(f._olm_sas_get_pubkey=f.asm.wb).apply(null,arguments)},f._olm_sas_set_their_key=function(){return(f._olm_sas_set_their_key=f.asm.xb).apply(null,arguments)},f._olm_sas_is_their_key_set=function(){return(f._olm_sas_is_their_key_set=f.asm.yb).apply(null,arguments)},f._olm_sas_generate_bytes=function(){return(f._olm_sas_generate_bytes=f.asm.zb).apply(null,arguments)},f._olm_sas_mac_length=function(){return(f._olm_sas_mac_length=f.asm.Ab).apply(null,arguments)},f._olm_sas_calculate_mac_fixed_base64=function(){return(f._olm_sas_calculate_mac_fixed_base64=f.asm.Bb).apply(null,arguments)},f._olm_sas_calculate_mac=function(){return(f._olm_sas_calculate_mac=f.asm.Cb).apply(null,arguments)},f._olm_sas_calculate_mac_long_kdf=function(){return(f._olm_sas_calculate_mac_long_kdf=f.asm.Db).apply(null,arguments)},f._olm_outbound_group_session_size=function(){return(f._olm_outbound_group_session_size=f.asm.Eb).apply(null,arguments)},f._olm_outbound_group_session=function(){return(f._olm_outbound_group_session=f.asm.Fb).apply(null,arguments)},f._olm_clear_outbound_group_session=function(){return(f._olm_clear_outbound_group_session=f.asm.Gb).apply(null,arguments)},f._olm_outbound_group_session_last_error=function(){return(f._olm_outbound_group_session_last_error=f.asm.Hb).apply(null,arguments)},f._olm_outbound_group_session_last_error_code=function(){return(f._olm_outbound_group_session_last_error_code=f.asm.Ib).apply(null,arguments)},f._olm_pickle_outbound_group_session_length=function(){return(f._olm_pickle_outbound_group_session_length=f.asm.Jb).apply(null,arguments)},f._olm_pickle_outbound_group_session=function(){return(f._olm_pickle_outbound_group_session=f.asm.Kb).apply(null,arguments)},f._olm_unpickle_outbound_group_session=function(){return(f._olm_unpickle_outbound_group_session=f.asm.Lb).apply(null,arguments)},f._olm_init_outbound_group_session_random_length=function(){return(f._olm_init_outbound_group_session_random_length=f.asm.Mb).apply(null,arguments)},f._olm_init_outbound_group_session=function(){return(f._olm_init_outbound_group_session=f.asm.Nb).apply(null,arguments)},f._olm_group_encrypt_message_length=function(){return(f._olm_group_encrypt_message_length=f.asm.Ob).apply(null,arguments)},f._olm_group_encrypt=function(){return(f._olm_group_encrypt=f.asm.Pb).apply(null,arguments)},f._olm_outbound_group_session_id_length=function(){return(f._olm_outbound_group_session_id_length=f.asm.Qb).apply(null,arguments)},f._olm_outbound_group_session_id=function(){return(f._olm_outbound_group_session_id=f.asm.Rb).apply(null,arguments)},f._olm_outbound_group_session_message_index=function(){return(f._olm_outbound_group_session_message_index=f.asm.Sb).apply(null,arguments)},f._olm_outbound_group_session_key_length=function(){return(f._olm_outbound_group_session_key_length=f.asm.Tb).apply(null,arguments)},f._olm_outbound_group_session_key=function(){return(f._olm_outbound_group_session_key=f.asm.Ub).apply(null,arguments)},f._malloc=function(){return(f._malloc=f.asm.Vb).apply(null,arguments)},f._free=function(){return(f._free=f.asm.Wb).apply(null,arguments)};var cn=f.stackSave=function(){return(cn=f.stackSave=f.asm.Xb).apply(null,arguments)},Et=f.stackRestore=function(){return(Et=f.stackRestore=f.asm.Yb).apply(null,arguments)},it=f.stackAlloc=function(){return(it=f.stackAlloc=f.asm.Zb).apply(null,arguments)};f.ALLOC_STACK=1;var Qe;ot=function ce(){Qe||Pt(),Qe||(ot=ce)};function Pt(){function ce(){if(!Qe&&(Qe=!0,f.calledRun=!0,!he)){if(Yt(me),v(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var be=f.postRun.shift();ut.unshift(be)}Yt(ut)}}if(!(0<dt)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ve();Yt(nt),0<dt||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),ce()},1)):ce())}}if(f.run=Pt,f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();Pt();function St(){var ce=f._olm_outbound_group_session_size();this.ac=Dn(ce),this.$b=f._olm_outbound_group_session(this.ac)}function Ut(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_outbound_group_session_last_error(arguments[0])),Error("OLM."+be);return be}}St.prototype.free=function(){f._olm_clear_outbound_group_session(this.$b),Vn(this.$b)},St.prototype.pickle=en(function(ce){ce=mn(ce);var be=Ut(f._olm_pickle_outbound_group_session_length)(this.$b),Ke=Kt(ce),Bt=Kt(be+1);try{Ut(f._olm_pickle_outbound_group_session)(this.$b,Ke,ce.length,Bt,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Bt,be)}),St.prototype.unpickle=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce);be=mn(be);var Bt=Kt(be);try{Ut(f._olm_unpickle_outbound_group_session)(this.$b,Ke,ce.length,Bt,be.length)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}}),St.prototype.create=en(function(){var ce=Ut(f._olm_init_outbound_group_session_random_length)(this.$b),be=Gn(ce,E);try{Ut(f._olm_init_outbound_group_session)(this.$b,be,ce)}finally{pn(be,ce)}}),St.prototype.encrypt=function(ce){try{var be=_e(ce),Ke=Ut(f._olm_group_encrypt_message_length)(this.$b,be),Bt=Dn(be+1);qe(ce,Ie,Bt,be+1);var we=Dn(Ke+1);return Ut(f._olm_group_encrypt)(this.$b,Bt,be,we,Ke),oe(we+Ke),De(we,Ke)}finally{Bt!==void 0&&(pn(Bt,be+1),Vn(Bt)),we!==void 0&&Vn(we)}},St.prototype.session_id=en(function(){var ce=Ut(f._olm_outbound_group_session_id_length)(this.$b),be=Kt(ce+1);return Ut(f._olm_outbound_group_session_id)(this.$b,be,ce),De(be,ce)}),St.prototype.session_key=en(function(){var ce=Ut(f._olm_outbound_group_session_key_length)(this.$b),be=Kt(ce+1);Ut(f._olm_outbound_group_session_key)(this.$b,be,ce);var Ke=De(be,ce);return pn(be,ce),Ke}),St.prototype.message_index=function(){return Ut(f._olm_outbound_group_session_message_index)(this.$b)},r.OutboundGroupSession=St;function tn(){var ce=f._olm_inbound_group_session_size();this.ac=Dn(ce),this.$b=f._olm_inbound_group_session(this.ac)}function Pn(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_inbound_group_session_last_error(arguments[0])),Error("OLM."+be);return be}}tn.prototype.free=function(){f._olm_clear_inbound_group_session(this.$b),Vn(this.$b)},tn.prototype.pickle=en(function(ce){ce=mn(ce);var be=Pn(f._olm_pickle_inbound_group_session_length)(this.$b),Ke=Kt(ce),Bt=Kt(be+1);try{Pn(f._olm_pickle_inbound_group_session)(this.$b,Ke,ce.length,Bt,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Bt,be)}),tn.prototype.unpickle=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce);be=mn(be);var Bt=Kt(be);try{Pn(f._olm_unpickle_inbound_group_session)(this.$b,Ke,ce.length,Bt,be.length)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}}),tn.prototype.create=en(function(ce){ce=mn(ce);var be=Kt(ce);try{Pn(f._olm_init_inbound_group_session)(this.$b,be,ce.length)}finally{for(pn(be,ce.length),be=0;be<ce.length;be++)ce[be]=0}}),tn.prototype.import_session=en(function(ce){ce=mn(ce);var be=Kt(ce);try{Pn(f._olm_import_inbound_group_session)(this.$b,be,ce.length)}finally{for(pn(be,ce.length),be=0;be<ce.length;be++)ce[be]=0}}),tn.prototype.decrypt=en(function(ce){try{var be=Dn(ce.length);xe(ce,be);var Ke=Pn(f._olm_group_decrypt_max_plaintext_length)(this.$b,be,ce.length);xe(ce,be);var Bt=Dn(Ke+1),we=Kt(4),Oe=Pn(f._olm_group_decrypt)(this.$b,be,ce.length,Bt,Ke,we);return oe(Bt+Oe),{plaintext:De(Bt,Oe),message_index:Q(we,"i32")}}finally{be!==void 0&&Vn(be),Bt!==void 0&&(pn(Bt,Oe),Vn(Bt))}}),tn.prototype.session_id=en(function(){var ce=Pn(f._olm_inbound_group_session_id_length)(this.$b),be=Kt(ce+1);return Pn(f._olm_inbound_group_session_id)(this.$b,be,ce),De(be,ce)}),tn.prototype.first_known_index=en(function(){return Pn(f._olm_inbound_group_session_first_known_index)(this.$b)}),tn.prototype.export_session=en(function(ce){var be=Pn(f._olm_export_inbound_group_session_length)(this.$b),Ke=Kt(be+1);return Ut(f._olm_export_inbound_group_session)(this.$b,Ke,be,ce),ce=De(Ke,be),pn(Ke,be),ce}),r.InboundGroupSession=tn;function yn(){var ce=f._olm_pk_encryption_size();this.ac=Dn(ce),this.$b=f._olm_pk_encryption(this.ac)}function Yn(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_pk_encryption_last_error(arguments[0])),Error("OLM."+be);return be}}yn.prototype.free=function(){f._olm_clear_pk_encryption(this.$b),Vn(this.$b)},yn.prototype.set_recipient_key=en(function(ce){ce=mn(ce);var be=Kt(ce);Yn(f._olm_pk_encryption_set_recipient_key)(this.$b,be,ce.length)}),yn.prototype.encrypt=en(function(ce){try{var be=_e(ce),Ke=Dn(be+1);qe(ce,Ie,Ke,be+1);var Bt=Yn(f._olm_pk_encrypt_random_length)(),we=Gn(Bt,E),Oe=Yn(f._olm_pk_ciphertext_length)(this.$b,be),ge=Dn(Oe+1),Re=Yn(f._olm_pk_mac_length)(this.$b),Be=Kt(Re+1);oe(Be+Re);var _t=Yn(f._olm_pk_key_length)(),At=Kt(_t+1);return oe(At+_t),Yn(f._olm_pk_encrypt)(this.$b,Ke,be,ge,Oe,Be,Re,At,_t,we,Bt),oe(ge+Oe),{ciphertext:De(ge,Oe),mac:De(Be,Re),ephemeral:De(At,_t)}}finally{we!==void 0&&pn(we,Bt),Ke!==void 0&&(pn(Ke,be+1),Vn(Ke)),ge!==void 0&&Vn(ge)}});function un(){var ce=f._olm_pk_decryption_size();this.ac=Dn(ce),this.$b=f._olm_pk_decryption(this.ac)}function vn(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_pk_decryption_last_error(arguments[0])),Error("OLM."+be);return be}}un.prototype.free=function(){f._olm_clear_pk_decryption(this.$b),Vn(this.$b)},un.prototype.init_with_private_key=en(function(ce){var be=Kt(ce.length);f.HEAPU8.set(ce,be);var Ke=vn(f._olm_pk_key_length)(),Bt=Kt(Ke+1);try{vn(f._olm_pk_key_from_private)(this.$b,Bt,Ke,be,ce.length)}finally{pn(be,ce.length)}return De(Bt,Ke)}),un.prototype.generate_key=en(function(){var ce=vn(f._olm_pk_private_key_length)(),be=Gn(ce,E),Ke=vn(f._olm_pk_key_length)(),Bt=Kt(Ke+1);try{vn(f._olm_pk_key_from_private)(this.$b,Bt,Ke,be,ce)}finally{pn(be,ce)}return De(Bt,Ke)}),un.prototype.get_private_key=en(function(){var ce=Yn(f._olm_pk_private_key_length)(),be=Kt(ce);vn(f._olm_pk_get_private_key)(this.$b,be,ce);var Ke=new Uint8Array(new Uint8Array(f.HEAPU8.buffer,be,ce));return pn(be,ce),Ke}),un.prototype.pickle=en(function(ce){ce=mn(ce);var be=vn(f._olm_pickle_pk_decryption_length)(this.$b),Ke=Kt(ce),Bt=Kt(be+1);try{vn(f._olm_pickle_pk_decryption)(this.$b,Ke,ce.length,Bt,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Bt,be)}),un.prototype.unpickle=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce),Bt=mn(be),we=Kt(Bt);be=vn(f._olm_pk_key_length)();var Oe=Kt(be+1);try{vn(f._olm_unpickle_pk_decryption)(this.$b,Ke,ce.length,we,Bt.length,Oe,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Oe,be)}),un.prototype.decrypt=en(function(ce,be,Ke){try{var Bt=_e(Ke),we=Dn(Bt+1);qe(Ke,Ie,we,Bt+1);var Oe=mn(ce),ge=Kt(Oe),Re=mn(be),Be=Kt(Re),_t=vn(f._olm_pk_max_plaintext_length)(this.$b,Bt),At=Dn(_t+1),Lt=vn(f._olm_pk_decrypt)(this.$b,ge,Oe.length,Be,Re.length,we,Bt,At,_t);return oe(At+Lt),De(At,Lt)}finally{At!==void 0&&(pn(At,Lt+1),Vn(At)),we!==void 0&&Vn(we)}});function sn(){var ce=f._olm_pk_signing_size();this.ac=Dn(ce),this.$b=f._olm_pk_signing(this.ac)}function zn(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_pk_signing_last_error(arguments[0])),Error("OLM."+be);return be}}sn.prototype.free=function(){f._olm_clear_pk_signing(this.$b),Vn(this.$b)},sn.prototype.init_with_seed=en(function(ce){var be=Kt(ce.length);f.HEAPU8.set(ce,be);var Ke=zn(f._olm_pk_signing_public_key_length)(),Bt=Kt(Ke+1);try{zn(f._olm_pk_signing_key_from_seed)(this.$b,Bt,Ke,be,ce.length)}finally{pn(be,ce.length)}return De(Bt,Ke)}),sn.prototype.generate_seed=en(function(){var ce=zn(f._olm_pk_signing_seed_length)(),be=Gn(ce,E),Ke=new Uint8Array(new Uint8Array(f.HEAPU8.buffer,be,ce));return pn(be,ce),Ke}),sn.prototype.sign=en(function(ce){try{var be=_e(ce),Ke=Dn(be+1);qe(ce,Ie,Ke,be+1);var Bt=zn(f._olm_pk_signature_length)(),we=Kt(Bt+1);return zn(f._olm_pk_sign)(this.$b,Ke,be,we,Bt),De(we,Bt)}finally{Ke!==void 0&&(pn(Ke,be+1),Vn(Ke))}});function Un(){var ce=f._olm_sas_size(),be=f._olm_create_sas_random_length(),Ke=Gn(be,E);this.ac=Dn(ce),this.$b=f._olm_sas(this.ac),f._olm_create_sas(this.$b,Ke,be),pn(Ke,be)}function nr(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_sas_last_error(arguments[0])),Error("OLM."+be);return be}}Un.prototype.free=function(){f._olm_clear_sas(this.$b),Vn(this.$b)},Un.prototype.get_pubkey=en(function(){var ce=nr(f._olm_sas_pubkey_length)(this.$b),be=Kt(ce+1);return nr(f._olm_sas_get_pubkey)(this.$b,be,ce),De(be,ce)}),Un.prototype.set_their_key=en(function(ce){ce=mn(ce);var be=Kt(ce);nr(f._olm_sas_set_their_key)(this.$b,be,ce.length)}),Un.prototype.is_their_key_set=en(function(){return!!nr(f._olm_sas_is_their_key_set)(this.$b)}),Un.prototype.generate_bytes=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce),Bt=Kt(be);return nr(f._olm_sas_generate_bytes)(this.$b,Ke,ce.length,Bt,be),new Uint8Array(new Uint8Array(f.HEAPU8.buffer,Bt,be))}),Un.prototype.calculate_mac=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce);be=mn(be);var Bt=Kt(be),we=nr(f._olm_sas_mac_length)(this.$b),Oe=Kt(we+1);return nr(f._olm_sas_calculate_mac)(this.$b,Ke,ce.length,Bt,be.length,Oe,we),De(Oe,we)}),Un.prototype.calculate_mac_long_kdf=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce);be=mn(be);var Bt=Kt(be),we=nr(f._olm_sas_mac_length)(this.$b),Oe=Kt(we+1);return nr(f._olm_sas_calculate_mac_long_kdf)(this.$b,Ke,ce.length,Bt,be.length,Oe,we),De(Oe,we)});var Dn=f._malloc,Vn=f._free,an;function Gn(ce,be){var Ke=it(ce);return be(new Uint8Array(f.HEAPU8.buffer,Ke,ce)),Ke}function Kt(ce){return typeof ce=="number"?Gn(ce,function(be){be.fill(0)}):Gn(ce.length,function(be){be.set(ce)})}function mn(ce){if(ce instanceof Uint8Array)var be=ce;else be=Array(_e(ce)+1),ce=qe(ce,be,0,be.length),be.length=ce;return be}function en(ce){return function(){var be=cn();try{return ce.apply(this,arguments)}finally{Et(be)}}}function pn(ce,be){for(;0<be--;)f.HEAP8[ce++]=0}function Nn(){var ce=f._olm_account_size();this.ac=Dn(ce),this.$b=f._olm_account(this.ac)}function Hn(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_account_last_error(arguments[0])),Error("OLM."+be);return be}}Nn.prototype.free=function(){f._olm_clear_account(this.$b),Vn(this.$b)},Nn.prototype.create=en(function(){var ce=Hn(f._olm_create_account_random_length)(this.$b),be=Gn(ce,E);try{Hn(f._olm_create_account)(this.$b,be,ce)}finally{pn(be,ce)}}),Nn.prototype.identity_keys=en(function(){var ce=Hn(f._olm_account_identity_keys_length)(this.$b),be=Kt(ce+1);return Hn(f._olm_account_identity_keys)(this.$b,be,ce),De(be,ce)}),Nn.prototype.sign=en(function(ce){var be=Hn(f._olm_account_signature_length)(this.$b);ce=mn(ce);var Ke=Kt(ce),Bt=Kt(be+1);try{Hn(f._olm_account_sign)(this.$b,Ke,ce.length,Bt,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Bt,be)}),Nn.prototype.one_time_keys=en(function(){var ce=Hn(f._olm_account_one_time_keys_length)(this.$b),be=Kt(ce+1);return Hn(f._olm_account_one_time_keys)(this.$b,be,ce),De(be,ce)}),Nn.prototype.mark_keys_as_published=en(function(){Hn(f._olm_account_mark_keys_as_published)(this.$b)}),Nn.prototype.max_number_of_one_time_keys=en(function(){return Hn(f._olm_account_max_number_of_one_time_keys)(this.$b)}),Nn.prototype.generate_one_time_keys=en(function(ce){var be=Hn(f._olm_account_generate_one_time_keys_random_length)(this.$b,ce),Ke=Gn(be,E);try{Hn(f._olm_account_generate_one_time_keys)(this.$b,ce,Ke,be)}finally{pn(Ke,be)}}),Nn.prototype.remove_one_time_keys=en(function(ce){Hn(f._olm_remove_one_time_keys)(this.$b,ce.$b)}),Nn.prototype.generate_fallback_key=en(function(){var ce=Hn(f._olm_account_generate_fallback_key_random_length)(this.$b),be=Gn(ce,E);try{Hn(f._olm_account_generate_fallback_key)(this.$b,be,ce)}finally{pn(be,ce)}}),Nn.prototype.fallback_key=en(function(){var ce=Hn(f._olm_account_fallback_key_length)(this.$b),be=Kt(ce+1);return Hn(f._olm_account_fallback_key)(this.$b,be,ce),De(be,ce)}),Nn.prototype.unpublished_fallback_key=en(function(){var ce=Hn(f._olm_account_unpublished_fallback_key_length)(this.$b),be=Kt(ce+1);return Hn(f._olm_account_unpublished_fallback_key)(this.$b,be,ce),De(be,ce)}),Nn.prototype.forget_old_fallback_key=en(function(){Hn(f._olm_account_forget_old_fallback_key)(this.$b)}),Nn.prototype.pickle=en(function(ce){ce=mn(ce);var be=Hn(f._olm_pickle_account_length)(this.$b),Ke=Kt(ce),Bt=Kt(be+1);try{Hn(f._olm_pickle_account)(this.$b,Ke,ce.length,Bt,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Bt,be)}),Nn.prototype.unpickle=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce);be=mn(be);var Bt=Kt(be);try{Hn(f._olm_unpickle_account)(this.$b,Ke,ce.length,Bt,be.length)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}});function Cn(){var ce=f._olm_session_size();this.ac=Dn(ce),this.$b=f._olm_session(this.ac)}function tr(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_session_last_error(arguments[0])),Error("OLM."+be);return be}}Cn.prototype.free=function(){f._olm_clear_session(this.$b),Vn(this.$b)},Cn.prototype.pickle=en(function(ce){ce=mn(ce);var be=tr(f._olm_pickle_session_length)(this.$b),Ke=Kt(ce),Bt=Kt(be+1);try{tr(f._olm_pickle_session)(this.$b,Ke,ce.length,Bt,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Bt,be)}),Cn.prototype.unpickle=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce);be=mn(be);var Bt=Kt(be);try{tr(f._olm_unpickle_session)(this.$b,Ke,ce.length,Bt,be.length)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}}),Cn.prototype.create_outbound=en(function(ce,be,Ke){var Bt=tr(f._olm_create_outbound_session_random_length)(this.$b),we=Gn(Bt,E);be=mn(be),Ke=mn(Ke);var Oe=Kt(be),ge=Kt(Ke);try{tr(f._olm_create_outbound_session)(this.$b,ce.$b,Oe,be.length,ge,Ke.length,we,Bt)}finally{pn(we,Bt)}}),Cn.prototype.create_inbound=en(function(ce,be){be=mn(be);var Ke=Kt(be);try{tr(f._olm_create_inbound_session)(this.$b,ce.$b,Ke,be.length)}finally{for(pn(Ke,be.length),ce=0;ce<be.length;ce++)be[ce]=0}}),Cn.prototype.create_inbound_from=en(function(ce,be,Ke){be=mn(be);var Bt=Kt(be);Ke=mn(Ke);var we=Kt(Ke);try{tr(f._olm_create_inbound_session_from)(this.$b,ce.$b,Bt,be.length,we,Ke.length)}finally{for(pn(we,Ke.length),ce=0;ce<Ke.length;ce++)Ke[ce]=0}}),Cn.prototype.session_id=en(function(){var ce=tr(f._olm_session_id_length)(this.$b),be=Kt(ce+1);return tr(f._olm_session_id)(this.$b,be,ce),De(be,ce)}),Cn.prototype.has_received_message=function(){return!!tr(f._olm_session_has_received_message)(this.$b)},Cn.prototype.matches_inbound=en(function(ce){ce=mn(ce);var be=Kt(ce);return!!tr(f._olm_matches_inbound_session)(this.$b,be,ce.length)}),Cn.prototype.matches_inbound_from=en(function(ce,be){ce=mn(ce);var Ke=Kt(ce);be=mn(be);var Bt=Kt(be);return!!tr(f._olm_matches_inbound_session_from)(this.$b,Ke,ce.length,Bt,be.length)}),Cn.prototype.encrypt=en(function(ce){try{var be=tr(f._olm_encrypt_random_length)(this.$b),Ke=tr(f._olm_encrypt_message_type)(this.$b),Bt=_e(ce),we=tr(f._olm_encrypt_message_length)(this.$b,Bt),Oe=Gn(be,E),ge=Dn(Bt+1);qe(ce,Ie,ge,Bt+1);var Re=Dn(we+1);return tr(f._olm_encrypt)(this.$b,ge,Bt,Oe,be,Re,we),oe(Re+we),{type:Ke,body:De(Re,we)}}finally{Oe!==void 0&&pn(Oe,be),ge!==void 0&&(pn(ge,Bt+1),Vn(ge)),Re!==void 0&&Vn(Re)}}),Cn.prototype.decrypt=en(function(ce,be){try{var Ke=Dn(be.length);xe(be,Ke);var Bt=tr(f._olm_decrypt_max_plaintext_length)(this.$b,ce,Ke,be.length);xe(be,Ke);var we=Dn(Bt+1),Oe=tr(f._olm_decrypt)(this.$b,ce,Ke,be.length,we,Bt);return oe(we+Oe),De(we,Oe)}finally{Ke!==void 0&&Vn(Ke),we!==void 0&&(pn(we,Bt),Vn(we))}}),Cn.prototype.describe=en(function(){try{var ce=Dn(256);return tr(f._olm_session_describe)(this.$b,ce,256),De(ce)}finally{ce!==void 0&&Vn(ce)}});function Jn(){var ce=f._olm_utility_size();this.ac=Dn(ce),this.$b=f._olm_utility(this.ac)}function Ii(ce){return function(){var be=ce.apply(this,arguments);if(be===an)throw be=De(f._olm_utility_last_error(arguments[0])),Error("OLM."+be);return be}}return Jn.prototype.free=function(){f._olm_clear_utility(this.$b),Vn(this.$b)},Jn.prototype.sha256=en(function(ce){var be=Ii(f._olm_sha256_length)(this.$b);ce=mn(ce);var Ke=Kt(ce),Bt=Kt(be+1);try{Ii(f._olm_sha256)(this.$b,Ke,ce.length,Bt,be)}finally{for(pn(Ke,ce.length),Ke=0;Ke<ce.length;Ke++)ce[Ke]=0}return De(Bt,be)}),Jn.prototype.ed25519_verify=en(function(ce,be,Ke){ce=mn(ce);var Bt=Kt(ce);be=mn(be);var we=Kt(be);Ke=mn(Ke);var Oe=Kt(Ke);try{Ii(f._olm_ed25519_verify)(this.$b,Bt,ce.length,we,be.length,Oe,Ke.length)}finally{for(pn(we,be.length),ce=0;ce<be.length;ce++)be[ce]=0}}),r.Account=Nn,r.Session=Cn,r.Utility=Jn,r.PkEncryption=yn,r.PkDecryption=un,r.PkSigning=sn,r.SAS=Un,r.get_library_version=en(function(){var ce=Kt(3);return f._olm_get_library_version(ce,ce+1,ce+2),[Q(ce,"i8"),Q(ce+1,"i8"),Q(ce+2,"i8")]}),h.ready}}();t.exports=o;var l;return r.init=function(d){return l||(d&&(OLM_OPTIONS=d),l=new Promise(function(h,f){i=function(){h()},s=function(v){f(v)},o()}),l)},r}();typeof window!="undefined"&&(window.Olm=n),t.exports=n;// @license-end
})(Cie);var T6e=Cie.exports,C6e="/assets/olm.b3e0f9b4.wasm";function I6e(){return new Worker("/assets/IndexedDBWorker.311ce70f.js",{type:"module"})}const oO=(t=window.location.search,e=window.location.hash)=>{const n=e.indexOf("?"),r=new URLSearchParams(n===-1?"":e.substring(n)),i=new URLSearchParams(t),s=h=>r.has(h)||i.has(h),o=h=>{var f;return(f=r.get(h))!=null?f:i.get(h)},l=h=>[...r.getAll(h),...i.getAll(h)],d=n===-1?e:e.substring(0,n);return{roomAlias:d.length>1?d:null,roomId:o("roomId"),viaServers:l("via"),isEmbedded:s("embed"),preload:s("preload"),hideHeader:s("hideHeader"),hideScreensharing:s("hideScreensharing"),isPtt:s("ptt"),e2eEnabled:o("enableE2e")!=="false",userId:o("userId"),displayName:o("displayName"),deviceId:o("deviceId"),baseUrl:o("baseUrl"),lang:o("lang")}},Iie=()=>{const{hash:t,search:e}=tm();return ee.exports.useMemo(()=>oO(e,t),[e,t])},Vy="https://sorachat.eu.org",b8=new URL(Vy).host;class pI extends Error{constructor(){super("Crypto store data was expected, but none was found")}}const R6e="element-call-sync",DW="element-call-crypto";function M6e(t){return new Promise((e,n)=>{const r=(i,s,o)=>{i==="PREPARED"?(e(),t.removeListener(sr.Sync,r)):i==="ERROR"&&(n(o==null?void 0:o.error),t.removeListener(sr.Sync,r))};t.on(sr.Sync,r)})}async function RR(t,e){window.OLM_OPTIONS={},await T6e.init({locateFile:()=>C6e});let n;try{n=window.indexedDB}catch{}const r={};if(n&&localStorage?r.store=new JJ({indexedDB:window.indexedDB,localStorage,dbName:R6e,workerFactory:()=>new I6e}):localStorage&&(r.store=new ix({localStorage})),e)if(n){if(!await ur.exists(n,DW))throw new pI}else if(localStorage){if(!i$.exists(localStorage))throw new pI}else throw new pI;n?r.cryptoStore=new ur(n,DW):localStorage?r.cryptoStore=new i$(localStorage):r.cryptoStore=new qx;const{e2eEnabled:i}=oO();i||V.info("Disabling E2E: group call signalling will NOT be encrypted.");const s=iM({...r,...t,useAuthorizationHeader:!0,localTimeoutMs:5e3,useE2eForGroupCall:i});try{await s.store.startup()}catch(o){console.error("Error starting matrix client store. Falling back to memory store.",o),s.store=new ix({localStorage}),await s.store.startup()}return s.initCrypto&&await s.initCrypto(),await s.startClient({initialSyncLimit:50}),await M6e(s),s}function aO(t){return t.trim().replace(/\s/g,"-").replace(/[^\w-]/g,"").toLowerCase()}function O6e(t,e){return`#${aO(t)}:${e.getDomain()}`}function L6e(t){return t.match(/([^:]+):.*$/)[1].substring(1).split("-").map(e=>e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e).join(" ").toLowerCase()}function A6e(t){if(!t)return!1;const e=t.match(/[^:]+:(.*)$/);return e.length<2?!1:e[1]===b8}async function qj(t,e,n){const r=t.createRoom({visibility:OU.Private,preset:t8.PublicChat,name:e,room_alias_name:aO(e),power_level_content_override:{invite:100,kick:100,ban:100,redact:50,state_default:0,events_default:0,users_default:0,events:{"m.room.power_levels":100,"m.room.history_visibility":100,"m.room.tombstone":100,"m.room.encryption":100,"m.room.name":50,"m.room.message":0,"m.room.encrypted":50,"m.sticker":50,"org.matrix.msc3401.call.member":0},users:{[t.getUserId()]:100}}});await new Promise((s,o)=>{const l=async h=>{h.roomId===(await r).room_id&&(s(),d())};r.catch(h=>{o(h),d()});const d=()=>{t.off(sr.Room,l)};t.on(sr.Room,l)});const i=await r;return console.log(`Creating ${n?"PTT":"video"} group call room`),await t.createGroupCall(i.room_id,n?Hg.Voice:Hg.Video,n,Qx.Room),[O6e(e,t),i.room_id]}function MR(t){if(t.startsWith("#")){const[e,n]=t.replace("#","").split(":");return n!==b8?`${window.location.protocol}//${window.location.host}/room/${t}`:`${window.location.protocol}//${window.location.host}/${e}`}else return`${window.location.protocol}//${window.location.host}/room/#?roomId=${t}`}function P6e(t,e,n=96){const r=Math.floor(n*window.devicePixelRatio),i=Math.floor(n*window.devicePixelRatio);return e&&t.mxcUrlToHttp(e,r,i,"crop")}const D6e="_avatar_1gnro_1",N6e="_xs_1gnro_27",B6e="_sm_1gnro_34",$6e="_md_1gnro_41",F6e="_lg_1gnro_48",U6e="_xl_1gnro_55";var NW={avatar:D6e,xs:N6e,sm:B6e,md:$6e,lg:F6e,xl:U6e};const BW=["#5C56F5","#03B381","#368BD6","#AC3BA8","#E64F7A","#FF812D","#2DC2C5","#74D12C"];var fu=(t=>(t.XS="xs",t.SM="sm",t.MD="md",t.LG="lg",t.XL="xl",t))(fu||{});const Rie=new Map([["xs",22],["sm",32],["md",36],["lg",42],["xl",90]]);function H6e(t,e){let n=0;for(let r=0;r<t.length;r++)n+=t.charCodeAt(r);return n%e}const j6e=(t,e,n)=>e!=null&&e.startsWith("mxc://")?t&&P6e(t,e,n):e,_p=({bgKey:t,src:e,fallback:n,size:r="md",className:i,style:s={},...o})=>{const{client:l}=_d(),[d,h,f]=ee.exports.useMemo(()=>Object.values(fu).includes(r)?[NW[r],Rie.get(r),{}]:[null,r,{width:r,height:r,borderRadius:r,fontSize:Math.round(r/2)}],[r]),v=ee.exports.useMemo(()=>j6e(l,e,h),[l,e,h]),w=ee.exports.useMemo(()=>{const E=H6e(t||n||e||"",BW.length);return BW[E]},[t,e,n]);return z.createElement("div",{className:qr(NW.avatar,d,i),style:{backgroundColor:w,...f,...s},...o},v?z.createElement("img",{src:v}):typeof n=="string"?z.createElement("span",null,n):n)},K6e=({userIds:t,room:e,...n})=>{const{t:r}=Ir(),i=ee.exports.useMemo(()=>[...t].map(s=>{var o,l;return z.createElement("li",null,(l=(o=e.getMember(s))==null?void 0:o.name)!=null?l:s)}),[t,e]);return z.createElement(im,{title:r("Incompatible versions"),isDismissable:!0,...n},z.createElement(Aw,null,z.createElement(Ja,null,z.createElement(xf,null,"Other users are trying to join this call from incompatible versions. These users should ensure that they have refreshed their browsers:",z.createElement("ul",null,i)))))};function z6e(t){return ee.exports.createElement("svg",{width:20,height:16,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M18.6663 8H1.33301M1.33301 8L7.83301 14.5M1.33301 8L7.83301 1.5",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}function sm({children:t,className:e,...n}){return z.createElement("header",{className:qr(gd.header,e),...n},t)}function om({children:t,className:e,hideMobile:n,...r}){return z.createElement("div",{className:qr(gd.nav,gd.leftNav,{[gd.hideMobile]:n},e),...r},t)}function am({children:t,className:e,hideMobile:n,...r}){return z.createElement("div",{className:qr(gd.nav,gd.rightNav,{[gd.hideMobile]:n},e),...r},t)}function Gy({className:t}){return z.createElement(jy,{className:qr(gd.headerLogo,t),to:"/"},z.createElement(p6e,null))}function OR({roomName:t,avatarUrl:e}){return z.createElement(z.Fragment,null,z.createElement("div",{className:gd.roomAvatar},z.createElement(_p,{size:fu.MD,src:e,bgKey:t,fallback:t.slice(0,1).toUpperCase()}),z.createElement(iO,{width:16,height:16})),z.createElement(VF,{fontWeight:"semiBold"},t))}function q6e({roomName:t,avatarUrl:e,isEmbedded:n,...r}){const i=ee.exports.useRef(),{buttonProps:s}=Lw(r,i);return n?z.createElement("div",{ref:i},z.createElement(OR,{roomName:t,avatarUrl:e})):z.createElement("button",{className:gd.backButton,ref:i,...s},z.createElement(z6e,{width:16,height:16}),z.createElement(OR,{roomName:t,avatarUrl:e}))}function V6e({users:t,room:e}){const{t:n}=Ir(),{modalState:r,modalProps:i}=yu(),s=ee.exports.useCallback(()=>{r.open()},[r]);return t.size===0?null:z.createElement("span",{className:gd.versionMismatchWarning},n("Incompatible versions!"),z.createElement(Di,{variant:"link",onClick:s},n("Details")),r.isOpen&&z.createElement(K6e,{userIds:t,room:e,...i}))}/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const G6e=4,$W=0,FW=1,W6e=2;function Pw(t){let e=t.length;for(;--e>=0;)t[e]=0}const Y6e=0,Mie=1,X6e=2,Z6e=3,J6e=258,Vj=29,_8=256,Rx=_8+1+Vj,I3=30,Gj=19,Oie=2*Rx+1,wy=15,qN=16,Q6e=7,Wj=256,Lie=16,Aie=17,Pie=18,GF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gI=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),e4e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Die=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t4e=512,np=new Array((Rx+2)*2);Pw(np);const jS=new Array(I3*2);Pw(jS);const Mx=new Array(t4e);Pw(Mx);const Ox=new Array(J6e-Z6e+1);Pw(Ox);const Yj=new Array(Vj);Pw(Yj);const LR=new Array(I3);Pw(LR);function VN(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let Nie,Bie,$ie;function GN(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Fie=t=>t<256?Mx[t]:Mx[256+(t>>>7)],Lx=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Ql=(t,e,n)=>{t.bi_valid>qN-n?(t.bi_buf|=e<<t.bi_valid&65535,Lx(t,t.bi_buf),t.bi_buf=e>>qN-t.bi_valid,t.bi_valid+=n-qN):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},uf=(t,e,n)=>{Ql(t,n[e*2],n[e*2+1])},Uie=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},n4e=t=>{t.bi_valid===16?(Lx(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},r4e=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,d=e.stat_desc.max_length;let h,f,v,w,E,C,O=0;for(w=0;w<=wy;w++)t.bl_count[w]=0;for(n[t.heap[t.heap_max]*2+1]=0,h=t.heap_max+1;h<Oie;h++)f=t.heap[h],w=n[n[f*2+1]*2+1]+1,w>d&&(w=d,O++),n[f*2+1]=w,!(f>r)&&(t.bl_count[w]++,E=0,f>=l&&(E=o[f-l]),C=n[f*2],t.opt_len+=C*(w+E),s&&(t.static_len+=C*(i[f*2+1]+E)));if(O!==0){do{for(w=d-1;t.bl_count[w]===0;)w--;t.bl_count[w]--,t.bl_count[w+1]+=2,t.bl_count[d]--,O-=2}while(O>0);for(w=d;w!==0;w--)for(f=t.bl_count[w];f!==0;)v=t.heap[--h],!(v>r)&&(n[v*2+1]!==w&&(t.opt_len+=(w-n[v*2+1])*n[v*2],n[v*2+1]=w),f--)}},Hie=(t,e,n)=>{const r=new Array(wy+1);let i=0,s,o;for(s=1;s<=wy;s++)r[s]=i=i+n[s-1]<<1;for(o=0;o<=e;o++){let l=t[o*2+1];l!==0&&(t[o*2]=Uie(r[l]++,l))}},i4e=()=>{let t,e,n,r,i;const s=new Array(wy+1);for(n=0,r=0;r<Vj-1;r++)for(Yj[r]=n,t=0;t<1<<GF[r];t++)Ox[n++]=r;for(Ox[n-1]=r,i=0,r=0;r<16;r++)for(LR[r]=i,t=0;t<1<<gI[r];t++)Mx[i++]=r;for(i>>=7;r<I3;r++)for(LR[r]=i<<7,t=0;t<1<<gI[r]-7;t++)Mx[256+i++]=r;for(e=0;e<=wy;e++)s[e]=0;for(t=0;t<=143;)np[t*2+1]=8,t++,s[8]++;for(;t<=255;)np[t*2+1]=9,t++,s[9]++;for(;t<=279;)np[t*2+1]=7,t++,s[7]++;for(;t<=287;)np[t*2+1]=8,t++,s[8]++;for(Hie(np,Rx+1,s),t=0;t<I3;t++)jS[t*2+1]=5,jS[t*2]=Uie(t,5);Nie=new VN(np,GF,_8+1,Rx,wy),Bie=new VN(jS,gI,0,I3,wy),$ie=new VN(new Array(0),e4e,0,Gj,Q6e)},jie=t=>{let e;for(e=0;e<Rx;e++)t.dyn_ltree[e*2]=0;for(e=0;e<I3;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Gj;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Wj*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Kie=t=>{t.bi_valid>8?Lx(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},s4e=(t,e,n,r)=>{Kie(t),r&&(Lx(t,n),Lx(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},UW=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},WN=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&UW(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!UW(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},HW=(t,e,n)=>{let r,i,s=0,o,l;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+s*2]<<8|t.pending_buf[t.d_buf+s*2+1],i=t.pending_buf[t.l_buf+s],s++,r===0?uf(t,i,e):(o=Ox[i],uf(t,o+_8+1,e),l=GF[o],l!==0&&(i-=Yj[o],Ql(t,i,l)),r--,o=Fie(r),uf(t,o,n),l=gI[o],l!==0&&(r-=LR[o],Ql(t,r,l)));while(s<t.last_lit);uf(t,Wj,e)},WF=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,l,d=-1,h;for(t.heap_len=0,t.heap_max=Oie,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=d=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)h=t.heap[++t.heap_len]=d<2?++d:0,n[h*2]=1,t.depth[h]=0,t.opt_len--,i&&(t.static_len-=r[h*2+1]);for(e.max_code=d,o=t.heap_len>>1;o>=1;o--)WN(t,n,o);h=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],WN(t,n,1),l=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=l,n[h*2]=n[o*2]+n[l*2],t.depth[h]=(t.depth[o]>=t.depth[l]?t.depth[o]:t.depth[l])+1,n[o*2+1]=n[l*2+1]=h,t.heap[1]=h++,WN(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],r4e(t,e),Hie(n,d,t.bl_count)},jW=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],l=0,d=7,h=4;for(o===0&&(d=138,h=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++l<d&&s===o)&&(l<h?t.bl_tree[s*2]+=l:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[Lie*2]++):l<=10?t.bl_tree[Aie*2]++:t.bl_tree[Pie*2]++,l=0,i=s,o===0?(d=138,h=3):s===o?(d=6,h=3):(d=7,h=4))},KW=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],l=0,d=7,h=4;for(o===0&&(d=138,h=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++l<d&&s===o)){if(l<h)do uf(t,s,t.bl_tree);while(--l!==0);else s!==0?(s!==i&&(uf(t,s,t.bl_tree),l--),uf(t,Lie,t.bl_tree),Ql(t,l-3,2)):l<=10?(uf(t,Aie,t.bl_tree),Ql(t,l-3,3)):(uf(t,Pie,t.bl_tree),Ql(t,l-11,7));l=0,i=s,o===0?(d=138,h=3):s===o?(d=6,h=3):(d=7,h=4)}},o4e=t=>{let e;for(jW(t,t.dyn_ltree,t.l_desc.max_code),jW(t,t.dyn_dtree,t.d_desc.max_code),WF(t,t.bl_desc),e=Gj-1;e>=3&&t.bl_tree[Die[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},a4e=(t,e,n,r)=>{let i;for(Ql(t,e-257,5),Ql(t,n-1,5),Ql(t,r-4,4),i=0;i<r;i++)Ql(t,t.bl_tree[Die[i]*2+1],3);KW(t,t.dyn_ltree,e-1),KW(t,t.dyn_dtree,n-1)},l4e=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return $W;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return FW;for(n=32;n<_8;n++)if(t.dyn_ltree[n*2]!==0)return FW;return $W};let zW=!1;const c4e=t=>{zW||(i4e(),zW=!0),t.l_desc=new GN(t.dyn_ltree,Nie),t.d_desc=new GN(t.dyn_dtree,Bie),t.bl_desc=new GN(t.bl_tree,$ie),t.bi_buf=0,t.bi_valid=0,jie(t)},zie=(t,e,n,r)=>{Ql(t,(Y6e<<1)+(r?1:0),3),s4e(t,e,n,!0)},u4e=t=>{Ql(t,Mie<<1,3),uf(t,Wj,np),n4e(t)},d4e=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===W6e&&(t.strm.data_type=l4e(t)),WF(t,t.l_desc),WF(t,t.d_desc),o=o4e(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?zie(t,e,n,r):t.strategy===G6e||s===i?(Ql(t,(Mie<<1)+(r?1:0),3),HW(t,np,jS)):(Ql(t,(X6e<<1)+(r?1:0),3),a4e(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),HW(t,t.dyn_ltree,t.dyn_dtree)),jie(t),r&&Kie(t)},f4e=(t,e,n)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Ox[n]+_8+1)*2]++,t.dyn_dtree[Fie(e)*2]++),t.last_lit===t.lit_bufsize-1);var h4e=c4e,p4e=zie,g4e=d4e,m4e=f4e,y4e=u4e,v4e={_tr_init:h4e,_tr_stored_block:p4e,_tr_flush_block:g4e,_tr_tally:m4e,_tr_align:y4e};const b4e=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Ax=b4e;const _4e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},w4e=new Uint32Array(_4e()),E4e=(t,e,n,r)=>{const i=w4e,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Go=E4e,Wy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gv={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:S4e,_tr_stored_block:x4e,_tr_flush_block:k4e,_tr_tally:Dg,_tr_align:T4e}=v4e,{Z_NO_FLUSH:mv,Z_PARTIAL_FLUSH:C4e,Z_FULL_FLUSH:I4e,Z_FINISH:Ng,Z_BLOCK:qW,Z_OK:df,Z_STREAM_END:VW,Z_STREAM_ERROR:hu,Z_DATA_ERROR:R4e,Z_BUF_ERROR:YN,Z_DEFAULT_COMPRESSION:M4e,Z_FILTERED:O4e,Z_HUFFMAN_ONLY:gC,Z_RLE:L4e,Z_FIXED:A4e,Z_DEFAULT_STRATEGY:P4e,Z_UNKNOWN:D4e,Z_DEFLATED:lO}=gv,N4e=9,B4e=15,$4e=8,F4e=29,U4e=256,YF=U4e+1+F4e,H4e=30,j4e=19,K4e=2*YF+1,z4e=15,ci=3,vg=258,md=vg+ci+1,q4e=32,cO=42,XF=69,mI=73,yI=91,vI=103,Ey=113,fS=666,Oo=1,w8=2,Yy=3,Dw=4,V4e=3,bg=(t,e)=>(t.msg=Wy[e],e),GW=t=>(t<<1)-(t>4?9:0),hg=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let G4e=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Bg=G4e;const sg=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},ba=(t,e)=>{k4e(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,sg(t.strm)},ki=(t,e)=>{t.pending_buf[t.pending++]=e},KE=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},W4e=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Ax(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Go(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},qie=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,l=t.nice_match;const d=t.strstart>t.w_size-md?t.strstart-(t.w_size-md):0,h=t.window,f=t.w_mask,v=t.prev,w=t.strstart+vg;let E=h[r+o-1],C=h[r+o];t.prev_length>=t.good_match&&(n>>=2),l>t.lookahead&&(l=t.lookahead);do if(i=e,!(h[i+o]!==C||h[i+o-1]!==E||h[i]!==h[r]||h[++i]!==h[r+1])){r+=2,i++;do;while(h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&r<w);if(s=vg-(w-r),r=w-vg,s>o){if(t.match_start=e,o=s,s>=l)break;E=h[r+o-1],C=h[r+o]}}while((e=v[e&f])>d&&--n!==0);return o<=t.lookahead?o:t.lookahead},Xy=t=>{const e=t.w_size;let n,r,i,s,o;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-md)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do i=t.head[--n],t.head[n]=i>=e?i-e:0;while(--r);r=e,n=r;do i=t.prev[--n],t.prev[n]=i>=e?i-e:0;while(--r);s+=e}if(t.strm.avail_in===0)break;if(r=W4e(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=r,t.lookahead+t.insert>=ci)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=Bg(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=Bg(t,t.ins_h,t.window[o+ci-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ci)););}while(t.lookahead<md&&t.strm.avail_in!==0)},Y4e=(t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Xy(t),t.lookahead===0&&e===mv)return Oo;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,ba(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-md&&(ba(t,!1),t.strm.avail_out===0))return Oo}return t.insert=0,e===Ng?(ba(t,!0),t.strm.avail_out===0?Yy:Dw):(t.strstart>t.block_start&&(ba(t,!1),t.strm.avail_out===0),Oo)},XN=(t,e)=>{let n,r;for(;;){if(t.lookahead<md){if(Xy(t),t.lookahead<md&&e===mv)return Oo;if(t.lookahead===0)break}if(n=0,t.lookahead>=ci&&(t.ins_h=Bg(t,t.ins_h,t.window[t.strstart+ci-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-md&&(t.match_length=qie(t,n)),t.match_length>=ci)if(r=Dg(t,t.strstart-t.match_start,t.match_length-ci),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ci){t.match_length--;do t.strstart++,t.ins_h=Bg(t,t.ins_h,t.window[t.strstart+ci-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Bg(t,t.ins_h,t.window[t.strstart+1]);else r=Dg(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ba(t,!1),t.strm.avail_out===0))return Oo}return t.insert=t.strstart<ci-1?t.strstart:ci-1,e===Ng?(ba(t,!0),t.strm.avail_out===0?Yy:Dw):t.last_lit&&(ba(t,!1),t.strm.avail_out===0)?Oo:w8},R_=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<md){if(Xy(t),t.lookahead<md&&e===mv)return Oo;if(t.lookahead===0)break}if(n=0,t.lookahead>=ci&&(t.ins_h=Bg(t,t.ins_h,t.window[t.strstart+ci-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ci-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-md&&(t.match_length=qie(t,n),t.match_length<=5&&(t.strategy===O4e||t.match_length===ci&&t.strstart-t.match_start>4096)&&(t.match_length=ci-1)),t.prev_length>=ci&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ci,r=Dg(t,t.strstart-1-t.prev_match,t.prev_length-ci),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Bg(t,t.ins_h,t.window[t.strstart+ci-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ci-1,t.strstart++,r&&(ba(t,!1),t.strm.avail_out===0))return Oo}else if(t.match_available){if(r=Dg(t,0,t.window[t.strstart-1]),r&&ba(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Oo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Dg(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ci-1?t.strstart:ci-1,e===Ng?(ba(t,!0),t.strm.avail_out===0?Yy:Dw):t.last_lit&&(ba(t,!1),t.strm.avail_out===0)?Oo:w8},X4e=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=vg){if(Xy(t),t.lookahead<=vg&&e===mv)return Oo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ci&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+vg;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=vg-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ci?(n=Dg(t,1,t.match_length-ci),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Dg(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ba(t,!1),t.strm.avail_out===0))return Oo}return t.insert=0,e===Ng?(ba(t,!0),t.strm.avail_out===0?Yy:Dw):t.last_lit&&(ba(t,!1),t.strm.avail_out===0)?Oo:w8},Z4e=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Xy(t),t.lookahead===0)){if(e===mv)return Oo;break}if(t.match_length=0,n=Dg(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ba(t,!1),t.strm.avail_out===0))return Oo}return t.insert=0,e===Ng?(ba(t,!0),t.strm.avail_out===0?Yy:Dw):t.last_lit&&(ba(t,!1),t.strm.avail_out===0)?Oo:w8};function ef(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const hS=[new ef(0,0,0,0,Y4e),new ef(4,4,8,4,XN),new ef(4,5,16,8,XN),new ef(4,6,32,32,XN),new ef(4,4,16,16,R_),new ef(8,16,32,32,R_),new ef(8,16,128,128,R_),new ef(8,32,128,256,R_),new ef(32,128,258,1024,R_),new ef(32,258,258,4096,R_)],J4e=t=>{t.window_size=2*t.w_size,hg(t.head),t.max_lazy_match=hS[t.level].max_lazy,t.good_match=hS[t.level].good_length,t.nice_match=hS[t.level].nice_length,t.max_chain_length=hS[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ci-1,t.match_available=0,t.ins_h=0};function Q4e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lO,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(K4e*2),this.dyn_dtree=new Uint16Array((2*H4e+1)*2),this.bl_tree=new Uint16Array((2*j4e+1)*2),hg(this.dyn_ltree),hg(this.dyn_dtree),hg(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(z4e+1),this.heap=new Uint16Array(2*YF+1),hg(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*YF+1),hg(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Vie=t=>{if(!t||!t.state)return bg(t,hu);t.total_in=t.total_out=0,t.data_type=D4e;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?cO:Ey,t.adler=e.wrap===2?0:1,e.last_flush=mv,S4e(e),df},Gie=t=>{const e=Vie(t);return e===df&&J4e(t.state),e},eEe=(t,e)=>!t||!t.state||t.state.wrap!==2?hu:(t.state.gzhead=e,df),Wie=(t,e,n,r,i,s)=>{if(!t)return hu;let o=1;if(e===M4e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>N4e||n!==lO||r<8||r>15||e<0||e>9||s<0||s>A4e)return bg(t,hu);r===8&&(r=9);const l=new Q4e;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ci-1)/ci),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=e,l.strategy=s,l.method=n,Gie(t)},tEe=(t,e)=>Wie(t,e,lO,B4e,$4e,P4e),nEe=(t,e)=>{let n,r;if(!t||!t.state||e>qW||e<0)return t?bg(t,hu):hu;const i=t.state;if(!t.output||!t.input&&t.avail_in!==0||i.status===fS&&e!==Ng)return bg(t,t.avail_out===0?YN:hu);i.strm=t;const s=i.last_flush;if(i.last_flush=e,i.status===cO)if(i.wrap===2)t.adler=0,ki(i,31),ki(i,139),ki(i,8),i.gzhead?(ki(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ki(i,i.gzhead.time&255),ki(i,i.gzhead.time>>8&255),ki(i,i.gzhead.time>>16&255),ki(i,i.gzhead.time>>24&255),ki(i,i.level===9?2:i.strategy>=gC||i.level<2?4:0),ki(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(ki(i,i.gzhead.extra.length&255),ki(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Go(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=XF):(ki(i,0),ki(i,0),ki(i,0),ki(i,0),ki(i,0),ki(i,i.level===9?2:i.strategy>=gC||i.level<2?4:0),ki(i,V4e),i.status=Ey);else{let o=lO+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=gC||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,o|=l<<6,i.strstart!==0&&(o|=q4e),o+=31-o%31,i.status=Ey,KE(i,o),i.strstart!==0&&(KE(i,t.adler>>>16),KE(i,t.adler&65535)),t.adler=1}if(i.status===XF)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=Go(t.adler,i.pending_buf,i.pending-n,n)),sg(t),n=i.pending,i.pending===i.pending_buf_size));)ki(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=Go(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=mI)}else i.status=mI;if(i.status===mI)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=Go(t.adler,i.pending_buf,i.pending-n,n)),sg(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.name.length?r=i.gzhead.name.charCodeAt(i.gzindex++)&255:r=0,ki(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(t.adler=Go(t.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.gzindex=0,i.status=yI)}else i.status=yI;if(i.status===yI)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=Go(t.adler,i.pending_buf,i.pending-n,n)),sg(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.comment.length?r=i.gzhead.comment.charCodeAt(i.gzindex++)&255:r=0,ki(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(t.adler=Go(t.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.status=vI)}else i.status=vI;if(i.status===vI&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&sg(t),i.pending+2<=i.pending_buf_size&&(ki(i,t.adler&255),ki(i,t.adler>>8&255),t.adler=0,i.status=Ey)):i.status=Ey),i.pending!==0){if(sg(t),t.avail_out===0)return i.last_flush=-1,df}else if(t.avail_in===0&&GW(e)<=GW(s)&&e!==Ng)return bg(t,YN);if(i.status===fS&&t.avail_in!==0)return bg(t,YN);if(t.avail_in!==0||i.lookahead!==0||e!==mv&&i.status!==fS){let o=i.strategy===gC?Z4e(i,e):i.strategy===L4e?X4e(i,e):hS[i.level].func(i,e);if((o===Yy||o===Dw)&&(i.status=fS),o===Oo||o===Yy)return t.avail_out===0&&(i.last_flush=-1),df;if(o===w8&&(e===C4e?T4e(i):e!==qW&&(x4e(i,0,0,!1),e===I4e&&(hg(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),sg(t),t.avail_out===0))return i.last_flush=-1,df}return e!==Ng?df:i.wrap<=0?VW:(i.wrap===2?(ki(i,t.adler&255),ki(i,t.adler>>8&255),ki(i,t.adler>>16&255),ki(i,t.adler>>24&255),ki(i,t.total_in&255),ki(i,t.total_in>>8&255),ki(i,t.total_in>>16&255),ki(i,t.total_in>>24&255)):(KE(i,t.adler>>>16),KE(i,t.adler&65535)),sg(t),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?df:VW)},rEe=t=>{if(!t||!t.state)return hu;const e=t.state.status;return e!==cO&&e!==XF&&e!==mI&&e!==yI&&e!==vI&&e!==Ey&&e!==fS?bg(t,hu):(t.state=null,e===Ey?bg(t,R4e):df)},iEe=(t,e)=>{let n=e.length;if(!t||!t.state)return hu;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==cO||r.lookahead)return hu;if(i===1&&(t.adler=Ax(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(hg(r.head),r.strstart=0,r.block_start=0,r.insert=0);let d=new Uint8Array(r.w_size);d.set(e.subarray(n-r.w_size,n),0),e=d,n=r.w_size}const s=t.avail_in,o=t.next_in,l=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Xy(r);r.lookahead>=ci;){let d=r.strstart,h=r.lookahead-(ci-1);do r.ins_h=Bg(r,r.ins_h,r.window[d+ci-1]),r.prev[d&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=d,d++;while(--h);r.strstart=d,r.lookahead=ci-1,Xy(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ci-1,r.match_available=0,t.next_in=o,t.input=l,t.avail_in=s,r.wrap=i,df};var sEe=tEe,oEe=Wie,aEe=Gie,lEe=Vie,cEe=eEe,uEe=nEe,dEe=rEe,fEe=iEe,hEe="pako deflate (from Nodeca project)",KS={deflateInit:sEe,deflateInit2:oEe,deflateReset:aEe,deflateResetKeep:lEe,deflateSetHeader:cEe,deflate:uEe,deflateEnd:dEe,deflateSetDictionary:fEe,deflateInfo:hEe};const pEe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gEe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)pEe(n,r)&&(t[r]=n[r])}}return t},mEe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},uO={assign:gEe,flattenChunks:mEe};let Yie=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Yie=!1}const Px=new Uint8Array(256);for(let t=0;t<256;t++)Px[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Px[254]=Px[254]=1;var yEe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,l=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),s=0,i=0;s<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const vEe=(t,e)=>{if(e<65534&&t.subarray&&Yie)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var bEe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let l=Px[o];if(l>4){s[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|t[r++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return vEe(s,i)},_Ee=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Px[t[n]]>e?n:e},Dx={string2buf:yEe,buf2string:bEe,utf8border:_Ee};function wEe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Xie=wEe;const Zie=Object.prototype.toString,{Z_NO_FLUSH:EEe,Z_SYNC_FLUSH:SEe,Z_FULL_FLUSH:xEe,Z_FINISH:kEe,Z_OK:AR,Z_STREAM_END:TEe,Z_DEFAULT_COMPRESSION:CEe,Z_DEFAULT_STRATEGY:IEe,Z_DEFLATED:REe}=gv;function E8(t){this.options=uO.assign({level:CEe,method:REe,chunkSize:16384,windowBits:15,memLevel:8,strategy:IEe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xie,this.strm.avail_out=0;let n=KS.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==AR)throw new Error(Wy[n]);if(e.header&&KS.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Dx.string2buf(e.dictionary):Zie.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=KS.deflateSetDictionary(this.strm,r),n!==AR)throw new Error(Wy[n]);this._dict_set=!0}}E8.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?kEe:EEe,typeof t=="string"?n.input=Dx.string2buf(t):Zie.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===SEe||s===xEe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=KS.deflate(n,s),i===TEe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=KS.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===AR;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};E8.prototype.onData=function(t){this.chunks.push(t)};E8.prototype.onEnd=function(t){t===AR&&(this.result=uO.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Xj(t,e){const n=new E8(e);if(n.push(t,!0),n.err)throw n.msg||Wy[n.err];return n.result}function MEe(t,e){return e=e||{},e.raw=!0,Xj(t,e)}function OEe(t,e){return e=e||{},e.gzip=!0,Xj(t,e)}var LEe=E8,AEe=Xj,PEe=MEe,DEe=OEe,NEe=gv,BEe={Deflate:LEe,deflate:AEe,deflateRaw:PEe,gzip:DEe,constants:NEe};const mC=30,$Ee=12;var FEe=function(e,n){let r,i,s,o,l,d,h,f,v,w,E,C,O,M,A,D,U,R,X,H,K,W,Z,ie;const se=e.state;r=e.next_in,Z=e.input,i=r+(e.avail_in-5),s=e.next_out,ie=e.output,o=s-(n-e.avail_out),l=s+(e.avail_out-257),d=se.dmax,h=se.wsize,f=se.whave,v=se.wnext,w=se.window,E=se.hold,C=se.bits,O=se.lencode,M=se.distcode,A=(1<<se.lenbits)-1,D=(1<<se.distbits)-1;e:do{C<15&&(E+=Z[r++]<<C,C+=8,E+=Z[r++]<<C,C+=8),U=O[E&A];t:for(;;){if(R=U>>>24,E>>>=R,C-=R,R=U>>>16&255,R===0)ie[s++]=U&65535;else if(R&16){X=U&65535,R&=15,R&&(C<R&&(E+=Z[r++]<<C,C+=8),X+=E&(1<<R)-1,E>>>=R,C-=R),C<15&&(E+=Z[r++]<<C,C+=8,E+=Z[r++]<<C,C+=8),U=M[E&D];n:for(;;){if(R=U>>>24,E>>>=R,C-=R,R=U>>>16&255,R&16){if(H=U&65535,R&=15,C<R&&(E+=Z[r++]<<C,C+=8,C<R&&(E+=Z[r++]<<C,C+=8)),H+=E&(1<<R)-1,H>d){e.msg="invalid distance too far back",se.mode=mC;break e}if(E>>>=R,C-=R,R=s-o,H>R){if(R=H-R,R>f&&se.sane){e.msg="invalid distance too far back",se.mode=mC;break e}if(K=0,W=w,v===0){if(K+=h-R,R<X){X-=R;do ie[s++]=w[K++];while(--R);K=s-H,W=ie}}else if(v<R){if(K+=h+v-R,R-=v,R<X){X-=R;do ie[s++]=w[K++];while(--R);if(K=0,v<X){R=v,X-=R;do ie[s++]=w[K++];while(--R);K=s-H,W=ie}}}else if(K+=v-R,R<X){X-=R;do ie[s++]=w[K++];while(--R);K=s-H,W=ie}for(;X>2;)ie[s++]=W[K++],ie[s++]=W[K++],ie[s++]=W[K++],X-=3;X&&(ie[s++]=W[K++],X>1&&(ie[s++]=W[K++]))}else{K=s-H;do ie[s++]=ie[K++],ie[s++]=ie[K++],ie[s++]=ie[K++],X-=3;while(X>2);X&&(ie[s++]=ie[K++],X>1&&(ie[s++]=ie[K++]))}}else if((R&64)===0){U=M[(U&65535)+(E&(1<<R)-1)];continue n}else{e.msg="invalid distance code",se.mode=mC;break e}break}}else if((R&64)===0){U=O[(U&65535)+(E&(1<<R)-1)];continue t}else if(R&32){se.mode=$Ee;break e}else{e.msg="invalid literal/length code",se.mode=mC;break e}break}}while(r<i&&s<l);X=C>>3,r-=X,C-=X<<3,E&=(1<<C)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<l?257+(l-s):257-(s-l),se.hold=E,se.bits=C};const M_=15,WW=852,YW=592,XW=0,ZN=1,ZW=2,UEe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),HEe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),jEe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),KEe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zEe=(t,e,n,r,i,s,o,l)=>{const d=l.bits;let h=0,f=0,v=0,w=0,E=0,C=0,O=0,M=0,A=0,D=0,U,R,X,H,K,W=null,Z=0,ie;const se=new Uint16Array(M_+1),oe=new Uint16Array(M_+1);let Q=null,ae=0,he,Ee,De;for(h=0;h<=M_;h++)se[h]=0;for(f=0;f<r;f++)se[e[n+f]]++;for(E=d,w=M_;w>=1&&se[w]===0;w--);if(E>w&&(E=w),w===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(v=1;v<w&&se[v]===0;v++);for(E<v&&(E=v),M=1,h=1;h<=M_;h++)if(M<<=1,M-=se[h],M<0)return-1;if(M>0&&(t===XW||w!==1))return-1;for(oe[1]=0,h=1;h<M_;h++)oe[h+1]=oe[h]+se[h];for(f=0;f<r;f++)e[n+f]!==0&&(o[oe[e[n+f]]++]=f);if(t===XW?(W=Q=o,ie=19):t===ZN?(W=UEe,Z-=257,Q=HEe,ae-=257,ie=256):(W=jEe,Q=KEe,ie=-1),D=0,f=0,h=v,K=s,C=E,O=0,X=-1,A=1<<E,H=A-1,t===ZN&&A>WW||t===ZW&&A>YW)return 1;for(;;){he=h-O,o[f]<ie?(Ee=0,De=o[f]):o[f]>ie?(Ee=Q[ae+o[f]],De=W[Z+o[f]]):(Ee=32+64,De=0),U=1<<h-O,R=1<<C,v=R;do R-=U,i[K+(D>>O)+R]=he<<24|Ee<<16|De|0;while(R!==0);for(U=1<<h-1;D&U;)U>>=1;if(U!==0?(D&=U-1,D+=U):D=0,f++,--se[h]===0){if(h===w)break;h=e[n+o[f]]}if(h>E&&(D&H)!==X){for(O===0&&(O=E),K+=v,C=h-O,M=1<<C;C+O<w&&(M-=se[C+O],!(M<=0));)C++,M<<=1;if(A+=1<<C,t===ZN&&A>WW||t===ZW&&A>YW)return 1;X=D&H,i[X]=E<<24|C<<16|K-s|0}}return D!==0&&(i[K+D]=h-O<<24|64<<16|0),l.bits=E,0};var zS=zEe;const qEe=0,Jie=1,Qie=2,{Z_FINISH:JW,Z_BLOCK:VEe,Z_TREES:yC,Z_OK:Zy,Z_STREAM_END:GEe,Z_NEED_DICT:WEe,Z_STREAM_ERROR:vu,Z_DATA_ERROR:ese,Z_MEM_ERROR:tse,Z_BUF_ERROR:YEe,Z_DEFLATED:QW}=gv,nse=1,eY=2,tY=3,nY=4,rY=5,iY=6,sY=7,oY=8,aY=9,lY=10,PR=11,Yh=12,JN=13,cY=14,QN=15,uY=16,dY=17,fY=18,hY=19,vC=20,bC=21,pY=22,gY=23,mY=24,yY=25,vY=26,eB=27,bY=28,_Y=29,vs=30,rse=31,XEe=32,ZEe=852,JEe=592,QEe=15,eSe=QEe,wY=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function tSe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ise=t=>{if(!t||!t.state)return vu;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=nse,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ZEe),e.distcode=e.distdyn=new Int32Array(JEe),e.sane=1,e.back=-1,Zy},sse=t=>{if(!t||!t.state)return vu;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ise(t)},ose=(t,e)=>{let n;if(!t||!t.state)return vu;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?vu:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,sse(t))},ase=(t,e)=>{if(!t)return vu;const n=new tSe;t.state=n,n.window=null;const r=ose(t,e);return r!==Zy&&(t.state=null),r},nSe=t=>ase(t,eSe);let EY=!0,tB,nB;const rSe=t=>{if(EY){tB=new Int32Array(512),nB=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(zS(Jie,t.lens,0,288,tB,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;zS(Qie,t.lens,0,32,nB,0,t.work,{bits:5}),EY=!1}t.lencode=tB,t.lenbits=9,t.distcode=nB,t.distbits=5},lse=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},iSe=(t,e)=>{let n,r,i,s,o,l,d,h,f,v,w,E,C,O,M=0,A,D,U,R,X,H,K,W;const Z=new Uint8Array(4);let ie,se;const oe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return vu;n=t.state,n.mode===Yh&&(n.mode=JN),o=t.next_out,i=t.output,d=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,h=n.hold,f=n.bits,v=l,w=d,W=Zy;e:for(;;)switch(n.mode){case nse:if(n.wrap===0){n.mode=JN;break}for(;f<16;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(n.wrap&2&&h===35615){n.check=0,Z[0]=h&255,Z[1]=h>>>8&255,n.check=Go(n.check,Z,2,0),h=0,f=0,n.mode=eY;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=vs;break}if((h&15)!==QW){t.msg="unknown compression method",n.mode=vs;break}if(h>>>=4,f-=4,K=(h&15)+8,n.wbits===0)n.wbits=K;else if(K>n.wbits){t.msg="invalid window size",n.mode=vs;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=h&512?lY:Yh,h=0,f=0;break;case eY:for(;f<16;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(n.flags=h,(n.flags&255)!==QW){t.msg="unknown compression method",n.mode=vs;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=vs;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&(Z[0]=h&255,Z[1]=h>>>8&255,n.check=Go(n.check,Z,2,0)),h=0,f=0,n.mode=tY;case tY:for(;f<32;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}n.head&&(n.head.time=h),n.flags&512&&(Z[0]=h&255,Z[1]=h>>>8&255,Z[2]=h>>>16&255,Z[3]=h>>>24&255,n.check=Go(n.check,Z,4,0)),h=0,f=0,n.mode=nY;case nY:for(;f<16;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&(Z[0]=h&255,Z[1]=h>>>8&255,n.check=Go(n.check,Z,2,0)),h=0,f=0,n.mode=rY;case rY:if(n.flags&1024){for(;f<16;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&(Z[0]=h&255,Z[1]=h>>>8&255,n.check=Go(n.check,Z,2,0)),h=0,f=0}else n.head&&(n.head.extra=null);n.mode=iY;case iY:if(n.flags&1024&&(E=n.length,E>l&&(E=l),E&&(n.head&&(K=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+E),K)),n.flags&512&&(n.check=Go(n.check,r,E,s)),l-=E,s+=E,n.length-=E),n.length))break e;n.length=0,n.mode=sY;case sY:if(n.flags&2048){if(l===0)break e;E=0;do K=r[s+E++],n.head&&K&&n.length<65536&&(n.head.name+=String.fromCharCode(K));while(K&&E<l);if(n.flags&512&&(n.check=Go(n.check,r,E,s)),l-=E,s+=E,K)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=oY;case oY:if(n.flags&4096){if(l===0)break e;E=0;do K=r[s+E++],n.head&&K&&n.length<65536&&(n.head.comment+=String.fromCharCode(K));while(K&&E<l);if(n.flags&512&&(n.check=Go(n.check,r,E,s)),l-=E,s+=E,K)break e}else n.head&&(n.head.comment=null);n.mode=aY;case aY:if(n.flags&512){for(;f<16;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=vs;break}h=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Yh;break;case lY:for(;f<32;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}t.adler=n.check=wY(h),h=0,f=0,n.mode=PR;case PR:if(n.havedict===0)return t.next_out=o,t.avail_out=d,t.next_in=s,t.avail_in=l,n.hold=h,n.bits=f,WEe;t.adler=n.check=1,n.mode=Yh;case Yh:if(e===VEe||e===yC)break e;case JN:if(n.last){h>>>=f&7,f-=f&7,n.mode=eB;break}for(;f<3;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}switch(n.last=h&1,h>>>=1,f-=1,h&3){case 0:n.mode=cY;break;case 1:if(rSe(n),n.mode=vC,e===yC){h>>>=2,f-=2;break e}break;case 2:n.mode=dY;break;case 3:t.msg="invalid block type",n.mode=vs}h>>>=2,f-=2;break;case cY:for(h>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=vs;break}if(n.length=h&65535,h=0,f=0,n.mode=QN,e===yC)break e;case QN:n.mode=uY;case uY:if(E=n.length,E){if(E>l&&(E=l),E>d&&(E=d),E===0)break e;i.set(r.subarray(s,s+E),o),l-=E,s+=E,d-=E,o+=E,n.length-=E;break}n.mode=Yh;break;case dY:for(;f<14;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(n.nlen=(h&31)+257,h>>>=5,f-=5,n.ndist=(h&31)+1,h>>>=5,f-=5,n.ncode=(h&15)+4,h>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=vs;break}n.have=0,n.mode=fY;case fY:for(;n.have<n.ncode;){for(;f<3;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}n.lens[oe[n.have++]]=h&7,h>>>=3,f-=3}for(;n.have<19;)n.lens[oe[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ie={bits:n.lenbits},W=zS(qEe,n.lens,0,19,n.lencode,0,n.work,ie),n.lenbits=ie.bits,W){t.msg="invalid code lengths set",n.mode=vs;break}n.have=0,n.mode=hY;case hY:for(;n.have<n.nlen+n.ndist;){for(;M=n.lencode[h&(1<<n.lenbits)-1],A=M>>>24,D=M>>>16&255,U=M&65535,!(A<=f);){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(U<16)h>>>=A,f-=A,n.lens[n.have++]=U;else{if(U===16){for(se=A+2;f<se;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(h>>>=A,f-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=vs;break}K=n.lens[n.have-1],E=3+(h&3),h>>>=2,f-=2}else if(U===17){for(se=A+3;f<se;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}h>>>=A,f-=A,K=0,E=3+(h&7),h>>>=3,f-=3}else{for(se=A+7;f<se;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}h>>>=A,f-=A,K=0,E=11+(h&127),h>>>=7,f-=7}if(n.have+E>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=vs;break}for(;E--;)n.lens[n.have++]=K}}if(n.mode===vs)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=vs;break}if(n.lenbits=9,ie={bits:n.lenbits},W=zS(Jie,n.lens,0,n.nlen,n.lencode,0,n.work,ie),n.lenbits=ie.bits,W){t.msg="invalid literal/lengths set",n.mode=vs;break}if(n.distbits=6,n.distcode=n.distdyn,ie={bits:n.distbits},W=zS(Qie,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ie),n.distbits=ie.bits,W){t.msg="invalid distances set",n.mode=vs;break}if(n.mode=vC,e===yC)break e;case vC:n.mode=bC;case bC:if(l>=6&&d>=258){t.next_out=o,t.avail_out=d,t.next_in=s,t.avail_in=l,n.hold=h,n.bits=f,FEe(t,w),o=t.next_out,i=t.output,d=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,h=n.hold,f=n.bits,n.mode===Yh&&(n.back=-1);break}for(n.back=0;M=n.lencode[h&(1<<n.lenbits)-1],A=M>>>24,D=M>>>16&255,U=M&65535,!(A<=f);){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(D&&(D&240)===0){for(R=A,X=D,H=U;M=n.lencode[H+((h&(1<<R+X)-1)>>R)],A=M>>>24,D=M>>>16&255,U=M&65535,!(R+A<=f);){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}h>>>=R,f-=R,n.back+=R}if(h>>>=A,f-=A,n.back+=A,n.length=U,D===0){n.mode=vY;break}if(D&32){n.back=-1,n.mode=Yh;break}if(D&64){t.msg="invalid literal/length code",n.mode=vs;break}n.extra=D&15,n.mode=pY;case pY:if(n.extra){for(se=n.extra;f<se;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=gY;case gY:for(;M=n.distcode[h&(1<<n.distbits)-1],A=M>>>24,D=M>>>16&255,U=M&65535,!(A<=f);){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if((D&240)===0){for(R=A,X=D,H=U;M=n.distcode[H+((h&(1<<R+X)-1)>>R)],A=M>>>24,D=M>>>16&255,U=M&65535,!(R+A<=f);){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}h>>>=R,f-=R,n.back+=R}if(h>>>=A,f-=A,n.back+=A,D&64){t.msg="invalid distance code",n.mode=vs;break}n.offset=U,n.extra=D&15,n.mode=mY;case mY:if(n.extra){for(se=n.extra;f<se;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=vs;break}n.mode=yY;case yY:if(d===0)break e;if(E=w-d,n.offset>E){if(E=n.offset-E,E>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=vs;break}E>n.wnext?(E-=n.wnext,C=n.wsize-E):C=n.wnext-E,E>n.length&&(E=n.length),O=n.window}else O=i,C=o-n.offset,E=n.length;E>d&&(E=d),d-=E,n.length-=E;do i[o++]=O[C++];while(--E);n.length===0&&(n.mode=bC);break;case vY:if(d===0)break e;i[o++]=n.length,d--,n.mode=bC;break;case eB:if(n.wrap){for(;f<32;){if(l===0)break e;l--,h|=r[s++]<<f,f+=8}if(w-=d,t.total_out+=w,n.total+=w,w&&(t.adler=n.check=n.flags?Go(n.check,i,w,o-w):Ax(n.check,i,w,o-w)),w=d,(n.flags?h:wY(h))!==n.check){t.msg="incorrect data check",n.mode=vs;break}h=0,f=0}n.mode=bY;case bY:if(n.wrap&&n.flags){for(;f<32;){if(l===0)break e;l--,h+=r[s++]<<f,f+=8}if(h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=vs;break}h=0,f=0}n.mode=_Y;case _Y:W=GEe;break e;case vs:W=ese;break e;case rse:return tse;case XEe:default:return vu}return t.next_out=o,t.avail_out=d,t.next_in=s,t.avail_in=l,n.hold=h,n.bits=f,(n.wsize||w!==t.avail_out&&n.mode<vs&&(n.mode<eB||e!==JW))&&lse(t,t.output,t.next_out,w-t.avail_out),v-=t.avail_in,w-=t.avail_out,t.total_in+=v,t.total_out+=w,n.total+=w,n.wrap&&w&&(t.adler=n.check=n.flags?Go(n.check,i,w,t.next_out-w):Ax(n.check,i,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Yh?128:0)+(n.mode===vC||n.mode===QN?256:0),(v===0&&w===0||e===JW)&&W===Zy&&(W=YEe),W},sSe=t=>{if(!t||!t.state)return vu;let e=t.state;return e.window&&(e.window=null),t.state=null,Zy},oSe=(t,e)=>{if(!t||!t.state)return vu;const n=t.state;return(n.wrap&2)===0?vu:(n.head=e,e.done=!1,Zy)},aSe=(t,e)=>{const n=e.length;let r,i,s;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==PR)?vu:r.mode===PR&&(i=1,i=Ax(i,e,n,0),i!==r.check)?ese:(s=lse(t,e,n,n),s?(r.mode=rse,tse):(r.havedict=1,Zy))};var lSe=sse,cSe=ose,uSe=ise,dSe=nSe,fSe=ase,hSe=iSe,pSe=sSe,gSe=oSe,mSe=aSe,ySe="pako inflate (from Nodeca project)",rp={inflateReset:lSe,inflateReset2:cSe,inflateResetKeep:uSe,inflateInit:dSe,inflateInit2:fSe,inflate:hSe,inflateEnd:pSe,inflateGetHeader:gSe,inflateSetDictionary:mSe,inflateInfo:ySe};function vSe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bSe=vSe;const cse=Object.prototype.toString,{Z_NO_FLUSH:_Se,Z_FINISH:wSe,Z_OK:Nx,Z_STREAM_END:rB,Z_NEED_DICT:iB,Z_STREAM_ERROR:ESe,Z_DATA_ERROR:SY,Z_MEM_ERROR:SSe}=gv;function S8(t){this.options=uO.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xie,this.strm.avail_out=0;let n=rp.inflateInit2(this.strm,e.windowBits);if(n!==Nx)throw new Error(Wy[n]);if(this.header=new bSe,rp.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Dx.string2buf(e.dictionary):cse.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=rp.inflateSetDictionary(this.strm,e.dictionary),n!==Nx)))throw new Error(Wy[n])}S8.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?wSe:_Se,cse.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=rp.inflate(n,o),s===iB&&i&&(s=rp.inflateSetDictionary(n,i),s===Nx?s=rp.inflate(n,o):s===SY&&(s=iB));n.avail_in>0&&s===rB&&n.state.wrap>0&&t[n.next_in]!==0;)rp.inflateReset(n),s=rp.inflate(n,o);switch(s){case ESe:case SY:case iB:case SSe:return this.onEnd(s),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||s===rB))if(this.options.to==="string"){let d=Dx.utf8border(n.output,n.next_out),h=n.next_out-d,f=Dx.buf2string(n.output,d);n.next_out=h,n.avail_out=r-h,h&&n.output.set(n.output.subarray(d,d+h),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Nx&&l===0)){if(s===rB)return s=rp.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};S8.prototype.onData=function(t){this.chunks.push(t)};S8.prototype.onEnd=function(t){t===Nx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uO.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Zj(t,e){const n=new S8(e);if(n.push(t),n.err)throw n.msg||Wy[n.err];return n.result}function xSe(t,e){return e=e||{},e.raw=!0,Zj(t,e)}var kSe=S8,TSe=Zj,CSe=xSe,ISe=Zj,RSe=gv,MSe={Inflate:kSe,inflate:TSe,inflateRaw:CSe,ungzip:ISe,constants:RSe};const{Deflate:OSe,deflate:LSe,deflateRaw:ASe,gzip:PSe}=BEe,{Inflate:DSe,inflate:NSe,inflateRaw:BSe,ungzip:$Se}=MSe;var FSe=OSe,USe=LSe,HSe=ASe,jSe=PSe,KSe=DSe,zSe=NSe,qSe=BSe,VSe=$Se,GSe=gv,WSe={Deflate:FSe,deflate:USe,deflateRaw:HSe,gzip:jSe,Inflate:KSe,inflate:zSe,inflateRaw:qSe,ungzip:VSe,constants:GSe};const YSe=30*1e3,xY=1024*1024*5;class XSe{constructor(){this.logs="",this.originalFunctions={}}monkeyPatch(e){const n={log:"I",info:"I",warn:"W",error:"E"};Object.keys(n).forEach(r=>{const i=n[r],s=e[r].bind(e);this.originalFunctions[r]=s,e[r]=(...o)=>{this.log(i,...o),s(...o)}})}bypassRageshake(e,...n){this.originalFunctions[e](...n)}log(e,...n){const r=new Date().toISOString();n=n.map(s=>s instanceof DOMException?s.message+` (${s.name} | ${s.code})`:s instanceof Error?s.message+(s.stack?`
${s.stack}`:""):typeof s=="object"?JSON.stringify(s,nxe()):s);let i=`${r} ${e} ${n.join(" ")}
`;i=i.replace(/token=[a-zA-Z0-9-]+/gm,"token=xxxxx"),this.logs+=i}flush(e){if(e)return this.logs;const n=this.logs;return this.logs="",n}}class ZSe{constructor(e,n){this.indexedDB=e,this.logger=n,this.index=0,this.db=null,this.flushPromise=null,this.flushAgainPromise=null,this.id="instance-"+vd(16)}connect(){const e=this.indexedDB.open("logs");return new Promise((n,r)=>{e.onsuccess=i=>{this.db=i.target.result,setInterval(this.flush.bind(this),YSe),n()},e.onerror=i=>{const s="Failed to open log database: "+i.target.error.name;V.error(s),r(new Error(s))},e.onupgradeneeded=i=>{const s=i.target.result,o=s.createObjectStore("logs",{keyPath:["id","index"]});o.createIndex("id","id",{unique:!1}),o.add(this.generateLogEntry(new Date+" ::: Log database was created.")),s.createObjectStore("logslastmod",{keyPath:"id"}).add(this.generateLastModifiedTime())}})}flush(){return this.flushPromise?this.flushAgainPromise?this.flushAgainPromise:(this.flushAgainPromise=this.flushPromise.then(()=>this.flush()).then(()=>{this.flushAgainPromise=null}),this.flushAgainPromise):(this.flushPromise=new Promise((e,n)=>{if(!this.db){n(new Error("No connected database"));return}const r=this.logger.flush();if(r.length===0){e();return}const i=this.db.transaction(["logs","logslastmod"],"readwrite"),s=i.objectStore("logs");i.oncomplete=l=>{e()},i.onerror=l=>{V.error("Failed to flush logs : ",l),n(new Error("Failed to write logs: "+l.target.errorCode))},s.add(this.generateLogEntry(r)),i.objectStore("logslastmod").put(this.generateLastModifiedTime())}).then(()=>{this.flushPromise=null}),this.flushPromise)}async consume(){const e=this.db;function n(h,f){const v=e.transaction("logs","readonly").objectStore("logs");return new Promise((w,E)=>{const C=v.index("id").openCursor(IDBKeyRange.only(h),"prev");let O="";C.onerror=M=>{E(new Error("Query failed: "+M.target.errorCode))},C.onsuccess=M=>{const A=M.target.result;if(!A){w(O);return}O=A.value.lines+O,O.length>=f?w(O):A.continue()}})}function r(){const h=e.transaction("logslastmod","readonly").objectStore("logslastmod");return JSe(h,void 0,f=>({id:f.value.id,ts:f.value.ts})).then(f=>f.sort((v,w)=>w.ts-v.ts).map(v=>v.id))}function i(h){return new Promise((f,v)=>{const w=e.transaction(["logs","logslastmod"],"readwrite"),E=w.objectStore("logs"),C=E.index("id").openKeyCursor(IDBKeyRange.only(h));C.onsuccess=M=>{const A=M.target.result;!A||(E.delete(A.primaryKey),A.continue())},w.oncomplete=()=>{f()},w.onerror=M=>{v(new Error(`Failed to delete logs for '${h}' : ${M.target.errorCode}`))},w.objectStore("logslastmod").delete(h)})}const s=await r();let o=[];const l=[];let d=0;for(let h=0;h<s.length;h++){const f=await n(s[h],xY-d);if(l.push({lines:f,id:s[h]}),d+=f.length,d>=xY){o=s.slice(h+1);break}}return o.length>0&&(V.log("Removing logs: ",o),Promise.all(o.map(h=>i(h))).then(()=>{V.log(`Removed ${o.length} old logs.`)},h=>{V.error(h)})),l}generateLogEntry(e){return{id:this.id,lines:e,index:this.index++}}generateLastModifiedTime(){return{id:this.id,ts:Date.now()}}}function JSe(t,e,n){const r=t.openCursor(e);return new Promise((i,s)=>{const o=[];r.onerror=l=>{s(new Error("Query failed: "+l.target.errorCode))},r.onsuccess=l=>{const d=l.target.result;if(!d){i(o);return}o.push(n(d)),d.continue()}})}function QSe(t=!0){return global.mx_rage_initPromise?global.mx_rage_initPromise:(global.mx_rage_logger=new XSe,global.mx_rage_logger.monkeyPatch(window.console),t?exe():(global.mx_rage_initPromise=Promise.resolve(),global.mx_rage_initPromise))}function exe(){if(global.mx_rage_initStoragePromise)return global.mx_rage_initStoragePromise;V.log("Configuring rageshake persistence...");let t;try{t=window.indexedDB}catch{}return t?(global.mx_rage_store=new ZSe(t,global.mx_rage_logger),global.mx_rage_initStoragePromise=global.mx_rage_store.connect(),global.mx_rage_initStoragePromise):(global.mx_rage_initStoragePromise=Promise.resolve(),global.mx_rage_initStoragePromise)}async function txe(){if(!global.mx_rage_logger)throw new Error("No console logger, did you forget to call init()?");return global.mx_rage_store?(await global.mx_rage_store.flush(),global.mx_rage_store.consume()):[{lines:global.mx_rage_logger.flush(!0),id:"-"}]}const nxe=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return"<$ cycle-trimmed $>";t.add(n)}return n}};var rxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fo=globalThis&&globalThis.__assign||function(){return fo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fo.apply(this,arguments)},kY={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},TY={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},_C={width:"20px",height:"20px",position:"absolute"},ixe={top:fo(fo({},kY),{top:"-5px"}),right:fo(fo({},TY),{left:void 0,right:"-5px"}),bottom:fo(fo({},kY),{top:void 0,bottom:"-5px"}),left:fo(fo({},TY),{left:"-5px"}),topRight:fo(fo({},_C),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:fo(fo({},_C),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:fo(fo({},_C),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:fo(fo({},_C),{left:"-10px",top:"-10px",cursor:"nw-resize"})},sxe=function(t){rxe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return e.prototype.render=function(){return ee.exports.createElement("div",{className:this.props.className||"",style:fo(fo({position:"absolute",userSelect:"none"},ixe[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},e}(ee.exports.PureComponent),oxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rf=globalThis&&globalThis.__assign||function(){return rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rf.apply(this,arguments)},axe={width:"auto",height:"auto"},wC=function(t,e,n){return Math.max(Math.min(t,n),e)},CY=function(t,e){return Math.round(t/e)*e},O_=function(t,e){return new RegExp(t,"i").test(e)},EC=function(t){return Boolean(t.touches&&t.touches.length)},lxe=function(t){return Boolean((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},IY=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(s,o,l){return Math.abs(o-t)<Math.abs(e[s]-t)?l:s},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},sB=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:t+"px"},SC=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},cxe=function(t,e,n,r,i,s,o){return r=SC(r,t.width,e,n),i=SC(i,t.height,e,n),s=SC(s,t.width,e,n),o=SC(o,t.height,e,n),{maxWidth:typeof r=="undefined"?void 0:Number(r),maxHeight:typeof i=="undefined"?void 0:Number(i),minWidth:typeof s=="undefined"?void 0:Number(s),minHeight:typeof o=="undefined"?void 0:Number(o)}},uxe=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],RY="__resizable_base__",dxe=function(t){oxe(e,t);function e(n){var r=t.call(this,n)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableRight=0,r.resizableTop=0,r.resizableBottom=0,r.targetLeft=0,r.targetTop=0,r.appendBase=function(){if(!r.resizable||!r.window)return null;var i=r.parentNode;if(!i)return null;var s=r.window.document.createElement("div");return s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.transform="scale(0, 0)",s.style.left="0",s.style.flex="0 0 100%",s.classList?s.classList.add(RY):s.className+=RY,i.appendChild(s),s},r.removeBase=function(i){var s=r.parentNode;!s||s.removeChild(i)},r.ref=function(i){i&&(r.resizable=i)},r.state={isResizing:!1,width:typeof(r.propsSize&&r.propsSize.width)=="undefined"?"auto":r.propsSize&&r.propsSize.width,height:typeof(r.propsSize&&r.propsSize.height)=="undefined"?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||axe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(l){if(typeof n.state[l]=="undefined"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&n.propsSize[l].toString().endsWith("%")){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var d=n.getParentSize(),h=Number(n.state[l].toString().replace("px","")),f=h/d[l]*100;return f+"%"}return sB(n.state[l])},s=r&&typeof r.width!="undefined"&&!this.state.isResizing?sB(r.width):i("width"),o=r&&typeof r.height!="undefined"&&!this.state.isResizing?sB(r.height):i("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i=="undefined"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,s=this.state.direction,o=i&&O_("left",s),l=i&&O_("top",s),d,h;if(this.props.bounds==="parent"){var f=this.parentNode;f&&(d=o?this.resizableRight-this.parentLeft:f.offsetWidth+(this.parentLeft-this.resizableLeft),h=l?this.resizableBottom-this.parentTop:f.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(d=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(d=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return d&&Number.isFinite(d)&&(n=n&&n<d?n:d),h&&Number.isFinite(h)&&(r=r&&r<h?r:h),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,s=this.props.resizeRatio||1,o=this.state,l=o.direction,d=o.original,h=this.props,f=h.lockAspectRatio,v=h.lockAspectRatioExtraHeight,w=h.lockAspectRatioExtraWidth,E=d.width,C=d.height,O=v||0,M=w||0;return O_("right",l)&&(E=d.width+(n-d.x)*s/i,f&&(C=(E-M)/this.ratio+O)),O_("left",l)&&(E=d.width-(n-d.x)*s/i,f&&(C=(E-M)/this.ratio+O)),O_("bottom",l)&&(C=d.height+(r-d.y)*s/i,f&&(E=(C-O)*this.ratio+M)),O_("top",l)&&(C=d.height-(r-d.y)*s/i,f&&(E=(C-O)*this.ratio+M)),{newWidth:E,newHeight:C}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,s){var o=this.props,l=o.lockAspectRatio,d=o.lockAspectRatioExtraHeight,h=o.lockAspectRatioExtraWidth,f=typeof s.width=="undefined"?10:s.width,v=typeof i.width=="undefined"||i.width<0?n:i.width,w=typeof s.height=="undefined"?10:s.height,E=typeof i.height=="undefined"||i.height<0?r:i.height,C=d||0,O=h||0;if(l){var M=(w-C)*this.ratio+O,A=(E-C)*this.ratio+O,D=(f-O)/this.ratio+C,U=(v-O)/this.ratio+C,R=Math.max(f,M),X=Math.min(v,A),H=Math.max(w,D),K=Math.min(E,U);n=wC(n,R,X),r=wC(r,H,K)}else n=wC(n,f,v),r=wC(r,w,E);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var r=n.getBoundingClientRect();this.parentLeft=r.left,this.parentTop=r.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left,this.targetTop=i.top}if(this.resizable){var s=this.resizable.getBoundingClientRect(),o=s.left,l=s.top,d=s.right,h=s.bottom;this.resizableLeft=o,this.resizableRight=d,this.resizableTop=l,this.resizableBottom=h}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(n.nativeEvent&&lxe(n.nativeEvent)?(i=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&EC(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(n,r,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,d=this.window.getComputedStyle(this.resizable);if(d.flexBasis!=="auto"){var h=this.parentNode;if(h){var f=this.window.getComputedStyle(h).flexDirection;this.flexDir=f.startsWith("row")?"row":"column",l=d.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var v={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:rf(rf({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(v)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&EC(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,o=i.maxHeight,l=i.minWidth,d=i.minHeight,h=EC(n)?n.touches[0].clientX:n.clientX,f=EC(n)?n.touches[0].clientY:n.clientY,v=this.state,w=v.direction,E=v.original,C=v.width,O=v.height,M=this.getParentSize(),A=cxe(M,this.window.innerWidth,this.window.innerHeight,s,o,l,d);s=A.maxWidth,o=A.maxHeight,l=A.minWidth,d=A.minHeight;var D=this.calculateNewSizeFromDirection(h,f),U=D.newHeight,R=D.newWidth,X=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(R=IY(R,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(U=IY(U,this.props.snap.y,this.props.snapGap));var H=this.calculateNewSizeFromAspectRatio(R,U,{width:X.maxWidth,height:X.maxHeight},{width:l,height:d});if(R=H.newWidth,U=H.newHeight,this.props.grid){var K=CY(R,this.props.grid[0]),W=CY(U,this.props.grid[1]),Z=this.props.snapGap||0;R=Z===0||Math.abs(K-R)<=Z?K:R,U=Z===0||Math.abs(W-U)<=Z?W:U}var ie={width:R-E.width,height:U-E.height};if(C&&typeof C=="string"){if(C.endsWith("%")){var se=R/M.width*100;R=se+"%"}else if(C.endsWith("vw")){var oe=R/this.window.innerWidth*100;R=oe+"vw"}else if(C.endsWith("vh")){var Q=R/this.window.innerHeight*100;R=Q+"vh"}}if(O&&typeof O=="string"){if(O.endsWith("%")){var se=U/M.height*100;U=se+"%"}else if(O.endsWith("vw")){var oe=U/this.window.innerWidth*100;U=oe+"vw"}else if(O.endsWith("vh")){var Q=U/this.window.innerHeight*100;U=Q+"vh"}}var ae={width:this.createSizeForCssProperty(R,"width"),height:this.createSizeForCssProperty(U,"height")};this.flexDir==="row"?ae.flexBasis=ae.width:this.flexDir==="column"&&(ae.flexBasis=ae.height),sM.exports.flushSync(function(){r.setState(ae)}),this.props.onResize&&this.props.onResize(n,w,this.resizable,ie)}},e.prototype.onMouseUp=function(n){var r=this.state,i=r.isResizing,s=r.direction,o=r.original;if(!(!i||!this.resizable)){var l={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(n,s,this.resizable,l),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:rf(rf({},this.state.backgroundStyle),{cursor:"auto"})})}},e.prototype.updateSize=function(n){this.setState({width:n.width,height:n.height})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,s=r.handleStyles,o=r.handleClasses,l=r.handleWrapperStyle,d=r.handleWrapperClass,h=r.handleComponent;if(!i)return null;var f=Object.keys(i).map(function(v){return i[v]!==!1?ee.exports.createElement(sxe,{key:v,direction:v,onResizeStart:n.onResizeStart,replaceStyles:s&&s[v],className:o&&o[v]},h&&h[v]?h[v]:null):null});return ee.exports.createElement("div",{className:d,style:l},f)},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(o,l){return uxe.indexOf(l)!==-1||(o[l]=n.props[l]),o},{}),i=rf(rf(rf({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return ee.exports.createElement(s,rf({ref:this.ref,style:i,className:this.props.className},r),this.state.isResizing&&ee.exports.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(ee.exports.PureComponent),use={exports:{}};(function(t,e){(function(n,r){t.exports=r(ee.exports)})(Sy,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var l=i[o]={i:o,l:!1,exports:{}};return r[o].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=r,s.c=i,s.d=function(o,l,d){s.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:d})},s.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,l){if(1&l&&(o=s(o)),8&l||4&l&&typeof o=="object"&&o&&o.__esModule)return o;var d=Object.create(null);if(s.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:o}),2&l&&typeof o!="string")for(var h in o)s.d(d,h,function(f){return o[f]}.bind(null,h));return d},s.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(l,"a",l),l},s.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},s.p="",s(s.s=48)}([function(r,i){r.exports=n},function(r,i){var s=r.exports={version:"2.6.12"};typeof __e=="number"&&(__e=s)},function(r,i,s){var o=s(26)("wks"),l=s(17),d=s(3).Symbol,h=typeof d=="function";(r.exports=function(f){return o[f]||(o[f]=h&&d[f]||(h?d:l)("Symbol."+f))}).store=o},function(r,i){var s=r.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=s)},function(r,i,s){r.exports=!s(8)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(r,i){var s={}.hasOwnProperty;r.exports=function(o,l){return s.call(o,l)}},function(r,i,s){var o=s(7),l=s(16);r.exports=s(4)?function(d,h,f){return o.f(d,h,l(1,f))}:function(d,h,f){return d[h]=f,d}},function(r,i,s){var o=s(10),l=s(35),d=s(23),h=Object.defineProperty;i.f=s(4)?Object.defineProperty:function(f,v,w){if(o(f),v=d(v,!0),o(w),l)try{return h(f,v,w)}catch{}if("get"in w||"set"in w)throw TypeError("Accessors not supported!");return"value"in w&&(f[v]=w.value),f}},function(r,i){r.exports=function(s){try{return!!s()}catch{return!0}}},function(r,i,s){var o=s(40),l=s(22);r.exports=function(d){return o(l(d))}},function(r,i,s){var o=s(11);r.exports=function(l){if(!o(l))throw TypeError(l+" is not an object!");return l}},function(r,i){r.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},function(r,i){r.exports={}},function(r,i,s){var o=s(39),l=s(27);r.exports=Object.keys||function(d){return o(d,l)}},function(r,i){r.exports=!0},function(r,i,s){var o=s(3),l=s(1),d=s(53),h=s(6),f=s(5),v=function(w,E,C){var O,M,A,D=w&v.F,U=w&v.G,R=w&v.S,X=w&v.P,H=w&v.B,K=w&v.W,W=U?l:l[E]||(l[E]={}),Z=W.prototype,ie=U?o:R?o[E]:(o[E]||{}).prototype;for(O in U&&(C=E),C)(M=!D&&ie&&ie[O]!==void 0)&&f(W,O)||(A=M?ie[O]:C[O],W[O]=U&&typeof ie[O]!="function"?C[O]:H&&M?d(A,o):K&&ie[O]==A?function(se){var oe=function(Q,ae,he){if(this instanceof se){switch(arguments.length){case 0:return new se;case 1:return new se(Q);case 2:return new se(Q,ae)}return new se(Q,ae,he)}return se.apply(this,arguments)};return oe.prototype=se.prototype,oe}(A):X&&typeof A=="function"?d(Function.call,A):A,X&&((W.virtual||(W.virtual={}))[O]=A,w&v.R&&Z&&!Z[O]&&h(Z,O,A)))};v.F=1,v.G=2,v.S=4,v.P=8,v.B=16,v.W=32,v.U=64,v.R=128,r.exports=v},function(r,i){r.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},function(r,i){var s=0,o=Math.random();r.exports=function(l){return"Symbol(".concat(l===void 0?"":l,")_",(++s+o).toString(36))}},function(r,i,s){var o=s(22);r.exports=function(l){return Object(o(l))}},function(r,i){i.f={}.propertyIsEnumerable},function(r,i,s){var o=s(52)(!0);s(34)(String,"String",function(l){this._t=String(l),this._i=0},function(){var l,d=this._t,h=this._i;return h>=d.length?{value:void 0,done:!0}:(l=o(d,h),this._i+=l.length,{value:l,done:!1})})},function(r,i){var s=Math.ceil,o=Math.floor;r.exports=function(l){return isNaN(l=+l)?0:(l>0?o:s)(l)}},function(r,i){r.exports=function(s){if(s==null)throw TypeError("Can't call method on  "+s);return s}},function(r,i,s){var o=s(11);r.exports=function(l,d){if(!o(l))return l;var h,f;if(d&&typeof(h=l.toString)=="function"&&!o(f=h.call(l))||typeof(h=l.valueOf)=="function"&&!o(f=h.call(l))||!d&&typeof(h=l.toString)=="function"&&!o(f=h.call(l)))return f;throw TypeError("Can't convert object to primitive value")}},function(r,i){var s={}.toString;r.exports=function(o){return s.call(o).slice(8,-1)}},function(r,i,s){var o=s(26)("keys"),l=s(17);r.exports=function(d){return o[d]||(o[d]=l(d))}},function(r,i,s){var o=s(1),l=s(3),d=l["__core-js_shared__"]||(l["__core-js_shared__"]={});(r.exports=function(h,f){return d[h]||(d[h]=f!==void 0?f:{})})("versions",[]).push({version:o.version,mode:s(14)?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(r,i){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(r,i,s){var o=s(7).f,l=s(5),d=s(2)("toStringTag");r.exports=function(h,f,v){h&&!l(h=v?h:h.prototype,d)&&o(h,d,{configurable:!0,value:f})}},function(r,i,s){s(62);for(var o=s(3),l=s(6),d=s(12),h=s(2)("toStringTag"),f="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),v=0;v<f.length;v++){var w=f[v],E=o[w],C=E&&E.prototype;C&&!C[h]&&l(C,h,w),d[w]=d.Array}},function(r,i,s){i.f=s(2)},function(r,i,s){var o=s(3),l=s(1),d=s(14),h=s(30),f=s(7).f;r.exports=function(v){var w=l.Symbol||(l.Symbol=d?{}:o.Symbol||{});v.charAt(0)=="_"||v in w||f(w,v,{value:h.f(v)})}},function(r,i){i.f=Object.getOwnPropertySymbols},function(r,i){r.exports=function(s,o,l){return Math.min(Math.max(s,o),l)}},function(r,i,s){var o=s(14),l=s(15),d=s(37),h=s(6),f=s(12),v=s(55),w=s(28),E=s(61),C=s(2)("iterator"),O=!([].keys&&"next"in[].keys()),M=function(){return this};r.exports=function(A,D,U,R,X,H,K){v(U,D,R);var W,Z,ie,se=function(xe){if(!O&&xe in he)return he[xe];switch(xe){case"keys":case"values":return function(){return new U(this,xe)}}return function(){return new U(this,xe)}},oe=D+" Iterator",Q=X=="values",ae=!1,he=A.prototype,Ee=he[C]||he["@@iterator"]||X&&he[X],De=Ee||se(X),qe=X?Q?se("entries"):De:void 0,_e=D=="Array"&&he.entries||Ee;if(_e&&(ie=E(_e.call(new A)))!==Object.prototype&&ie.next&&(w(ie,oe,!0),o||typeof ie[C]=="function"||h(ie,C,M)),Q&&Ee&&Ee.name!=="values"&&(ae=!0,De=function(){return Ee.call(this)}),o&&!K||!O&&!ae&&he[C]||h(he,C,De),f[D]=De,f[oe]=M,X)if(W={values:Q?De:se("values"),keys:H?De:se("keys"),entries:qe},K)for(Z in W)Z in he||d(he,Z,W[Z]);else l(l.P+l.F*(O||ae),D,W);return W}},function(r,i,s){r.exports=!s(4)&&!s(8)(function(){return Object.defineProperty(s(36)("div"),"a",{get:function(){return 7}}).a!=7})},function(r,i,s){var o=s(11),l=s(3).document,d=o(l)&&o(l.createElement);r.exports=function(h){return d?l.createElement(h):{}}},function(r,i,s){r.exports=s(6)},function(r,i,s){var o=s(10),l=s(56),d=s(27),h=s(25)("IE_PROTO"),f=function(){},v=function(){var w,E=s(36)("iframe"),C=d.length;for(E.style.display="none",s(60).appendChild(E),E.src="javascript:",(w=E.contentWindow.document).open(),w.write("<script>document.F=Object<\/script>"),w.close(),v=w.F;C--;)delete v.prototype[d[C]];return v()};r.exports=Object.create||function(w,E){var C;return w!==null?(f.prototype=o(w),C=new f,f.prototype=null,C[h]=w):C=v(),E===void 0?C:l(C,E)}},function(r,i,s){var o=s(5),l=s(9),d=s(57)(!1),h=s(25)("IE_PROTO");r.exports=function(f,v){var w,E=l(f),C=0,O=[];for(w in E)w!=h&&o(E,w)&&O.push(w);for(;v.length>C;)o(E,w=v[C++])&&(~d(O,w)||O.push(w));return O}},function(r,i,s){var o=s(24);r.exports=Object("z").propertyIsEnumerable(0)?Object:function(l){return o(l)=="String"?l.split(""):Object(l)}},function(r,i,s){var o=s(39),l=s(27).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(d){return o(d,l)}},function(r,i,s){var o=s(24),l=s(2)("toStringTag"),d=o(function(){return arguments}())=="Arguments";r.exports=function(h){var f,v,w;return h===void 0?"Undefined":h===null?"Null":typeof(v=function(E,C){try{return E[C]}catch{}}(f=Object(h),l))=="string"?v:d?o(f):(w=o(f))=="Object"&&typeof f.callee=="function"?"Arguments":w}},function(r,i){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}r.exports=s},function(r,i){var s=/-?\d+(\.\d+)?%?/g;r.exports=function(o){return o.match(s)}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.getBase16Theme=i.createStyling=i.invertTheme=void 0;var o=M(s(49)),l=M(s(76)),d=M(s(81)),h=M(s(89)),f=M(s(93)),v=function(Z){if(Z&&Z.__esModule)return Z;var ie={};if(Z!=null)for(var se in Z)Object.prototype.hasOwnProperty.call(Z,se)&&(ie[se]=Z[se]);return ie.default=Z,ie}(s(94)),w=M(s(132)),E=M(s(133)),C=M(s(138)),O=s(139);function M(Z){return Z&&Z.__esModule?Z:{default:Z}}var A=v.default,D=(0,h.default)(A),U=(0,C.default)(E.default,O.rgb2yuv,function(Z){var ie,se=(0,d.default)(Z,3),oe=se[0],Q=se[1],ae=se[2];return[(ie=oe,ie<.25?1:ie<.5?.9-ie:1.1-ie),Q,ae]},O.yuv2rgb,w.default),R=function(Z){return function(ie){return{className:[ie.className,Z.className].filter(Boolean).join(" "),style:(0,l.default)({},ie.style||{},Z.style||{})}}},X=function(Z,ie){var se=(0,h.default)(ie);for(var oe in Z)se.indexOf(oe)===-1&&se.push(oe);return se.reduce(function(Q,ae){return Q[ae]=function(he,Ee){if(he===void 0)return Ee;if(Ee===void 0)return he;var De=he===void 0?"undefined":(0,o.default)(he),qe=Ee===void 0?"undefined":(0,o.default)(Ee);switch(De){case"string":switch(qe){case"string":return[Ee,he].filter(Boolean).join(" ");case"object":return R({className:he,style:Ee});case"function":return function(_e){for(var xe=arguments.length,Se=Array(xe>1?xe-1:0),Ie=1;Ie<xe;Ie++)Se[Ie-1]=arguments[Ie];return R({className:he})(Ee.apply(void 0,[_e].concat(Se)))}}case"object":switch(qe){case"string":return R({className:Ee,style:he});case"object":return(0,l.default)({},Ee,he);case"function":return function(_e){for(var xe=arguments.length,Se=Array(xe>1?xe-1:0),Ie=1;Ie<xe;Ie++)Se[Ie-1]=arguments[Ie];return R({style:he})(Ee.apply(void 0,[_e].concat(Se)))}}case"function":switch(qe){case"string":return function(_e){for(var xe=arguments.length,Se=Array(xe>1?xe-1:0),Ie=1;Ie<xe;Ie++)Se[Ie-1]=arguments[Ie];return he.apply(void 0,[R(_e)({className:Ee})].concat(Se))};case"object":return function(_e){for(var xe=arguments.length,Se=Array(xe>1?xe-1:0),Ie=1;Ie<xe;Ie++)Se[Ie-1]=arguments[Ie];return he.apply(void 0,[R(_e)({style:Ee})].concat(Se))};case"function":return function(_e){for(var xe=arguments.length,Se=Array(xe>1?xe-1:0),Ie=1;Ie<xe;Ie++)Se[Ie-1]=arguments[Ie];return he.apply(void 0,[Ee.apply(void 0,[_e].concat(Se))].concat(Se))}}}}(Z[ae],ie[ae]),Q},{})},H=function(Z,ie){for(var se=arguments.length,oe=Array(se>2?se-2:0),Q=2;Q<se;Q++)oe[Q-2]=arguments[Q];if(ie===null)return Z;Array.isArray(ie)||(ie=[ie]);var ae=ie.map(function(Ee){return Z[Ee]}).filter(Boolean),he=ae.reduce(function(Ee,De){return typeof De=="string"?Ee.className=[Ee.className,De].filter(Boolean).join(" "):(De===void 0?"undefined":(0,o.default)(De))==="object"?Ee.style=(0,l.default)({},Ee.style,De):typeof De=="function"&&(Ee=(0,l.default)({},Ee,De.apply(void 0,[Ee].concat(oe)))),Ee},{className:"",style:{}});return he.className||delete he.className,(0,h.default)(he.style).length===0&&delete he.style,he},K=i.invertTheme=function(Z){return(0,h.default)(Z).reduce(function(ie,se){return ie[se]=/^base/.test(se)?U(Z[se]):se==="scheme"?Z[se]+":inverted":Z[se],ie},{})},W=(i.createStyling=(0,f.default)(function(Z){for(var ie=arguments.length,se=Array(ie>3?ie-3:0),oe=3;oe<ie;oe++)se[oe-3]=arguments[oe];var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=Q.defaultBase16,Ee=he===void 0?A:he,De=Q.base16Themes,qe=De===void 0?null:De,_e=W(ae,qe);_e&&(ae=(0,l.default)({},_e,ae));var xe=D.reduce(function(Le,Nt){return Le[Nt]=ae[Nt]||Ee[Nt],Le},{}),Se=(0,h.default)(ae).reduce(function(Le,Nt){return D.indexOf(Nt)===-1&&(Le[Nt]=ae[Nt]),Le},{}),Ie=Z(xe),Ye=X(Se,Ie);return(0,f.default)(H,2).apply(void 0,[Ye].concat(se))},3),i.getBase16Theme=function(Z,ie){if(Z&&Z.extend&&(Z=Z.extend),typeof Z=="string"){var se=Z.split(":"),oe=(0,d.default)(se,2),Q=oe[0],ae=oe[1];Z=(ie||{})[Q]||v[Q],ae==="inverted"&&(Z=K(Z))}return Z&&Z.hasOwnProperty("base00")?Z:void 0})},function(r,i,s){var o,l=typeof Reflect=="object"?Reflect:null,d=l&&typeof l.apply=="function"?l.apply:function(R,X,H){return Function.prototype.apply.call(R,X,H)};o=l&&typeof l.ownKeys=="function"?l.ownKeys:Object.getOwnPropertySymbols?function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:function(R){return Object.getOwnPropertyNames(R)};var h=Number.isNaN||function(R){return R!=R};function f(){f.init.call(this)}r.exports=f,r.exports.once=function(R,X){return new Promise(function(H,K){function W(){Z!==void 0&&R.removeListener("error",Z),H([].slice.call(arguments))}var Z;X!=="error"&&(Z=function(ie){R.removeListener(X,W),K(ie)},R.once("error",Z)),R.once(X,W)})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var v=10;function w(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}function E(R){return R._maxListeners===void 0?f.defaultMaxListeners:R._maxListeners}function C(R,X,H,K){var W,Z,ie,se;if(w(H),(Z=R._events)===void 0?(Z=R._events=Object.create(null),R._eventsCount=0):(Z.newListener!==void 0&&(R.emit("newListener",X,H.listener?H.listener:H),Z=R._events),ie=Z[X]),ie===void 0)ie=Z[X]=H,++R._eventsCount;else if(typeof ie=="function"?ie=Z[X]=K?[H,ie]:[ie,H]:K?ie.unshift(H):ie.push(H),(W=E(R))>0&&ie.length>W&&!ie.warned){ie.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+ie.length+" "+String(X)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=R,oe.type=X,oe.count=ie.length,se=oe,console&&console.warn&&console.warn(se)}return R}function O(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(R,X,H){var K={fired:!1,wrapFn:void 0,target:R,type:X,listener:H},W=O.bind(K);return W.listener=H,K.wrapFn=W,W}function A(R,X,H){var K=R._events;if(K===void 0)return[];var W=K[X];return W===void 0?[]:typeof W=="function"?H?[W.listener||W]:[W]:H?function(Z){for(var ie=new Array(Z.length),se=0;se<ie.length;++se)ie[se]=Z[se].listener||Z[se];return ie}(W):U(W,W.length)}function D(R){var X=this._events;if(X!==void 0){var H=X[R];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}function U(R,X){for(var H=new Array(X),K=0;K<X;++K)H[K]=R[K];return H}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return v},set:function(R){if(typeof R!="number"||R<0||h(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");v=R}}),f.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||h(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this},f.prototype.getMaxListeners=function(){return E(this)},f.prototype.emit=function(R){for(var X=[],H=1;H<arguments.length;H++)X.push(arguments[H]);var K=R==="error",W=this._events;if(W!==void 0)K=K&&W.error===void 0;else if(!K)return!1;if(K){var Z;if(X.length>0&&(Z=X[0]),Z instanceof Error)throw Z;var ie=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw ie.context=Z,ie}var se=W[R];if(se===void 0)return!1;if(typeof se=="function")d(se,this,X);else{var oe=se.length,Q=U(se,oe);for(H=0;H<oe;++H)d(Q[H],this,X)}return!0},f.prototype.addListener=function(R,X){return C(this,R,X,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(R,X){return C(this,R,X,!0)},f.prototype.once=function(R,X){return w(X),this.on(R,M(this,R,X)),this},f.prototype.prependOnceListener=function(R,X){return w(X),this.prependListener(R,M(this,R,X)),this},f.prototype.removeListener=function(R,X){var H,K,W,Z,ie;if(w(X),(K=this._events)===void 0)return this;if((H=K[R])===void 0)return this;if(H===X||H.listener===X)--this._eventsCount==0?this._events=Object.create(null):(delete K[R],K.removeListener&&this.emit("removeListener",R,H.listener||X));else if(typeof H!="function"){for(W=-1,Z=H.length-1;Z>=0;Z--)if(H[Z]===X||H[Z].listener===X){ie=H[Z].listener,W=Z;break}if(W<0)return this;W===0?H.shift():function(se,oe){for(;oe+1<se.length;oe++)se[oe]=se[oe+1];se.pop()}(H,W),H.length===1&&(K[R]=H[0]),K.removeListener!==void 0&&this.emit("removeListener",R,ie||X)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(R){var X,H,K;if((H=this._events)===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[R]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete H[R]),this;if(arguments.length===0){var W,Z=Object.keys(H);for(K=0;K<Z.length;++K)(W=Z[K])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(X=H[R])=="function")this.removeListener(R,X);else if(X!==void 0)for(K=X.length-1;K>=0;K--)this.removeListener(R,X[K]);return this},f.prototype.listeners=function(R){return A(this,R,!0)},f.prototype.rawListeners=function(R){return A(this,R,!1)},f.listenerCount=function(R,X){return typeof R.listenerCount=="function"?R.listenerCount(X):D.call(R,X)},f.prototype.listenerCount=D,f.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(r,i,s){r.exports.Dispatcher=s(140)},function(r,i,s){r.exports=s(142)},function(r,i,s){i.__esModule=!0;var o=h(s(50)),l=h(s(65)),d=typeof l.default=="function"&&typeof o.default=="symbol"?function(f){return typeof f}:function(f){return f&&typeof l.default=="function"&&f.constructor===l.default&&f!==l.default.prototype?"symbol":typeof f};function h(f){return f&&f.__esModule?f:{default:f}}i.default=typeof l.default=="function"&&d(o.default)==="symbol"?function(f){return f===void 0?"undefined":d(f)}:function(f){return f&&typeof l.default=="function"&&f.constructor===l.default&&f!==l.default.prototype?"symbol":f===void 0?"undefined":d(f)}},function(r,i,s){r.exports={default:s(51),__esModule:!0}},function(r,i,s){s(20),s(29),r.exports=s(30).f("iterator")},function(r,i,s){var o=s(21),l=s(22);r.exports=function(d){return function(h,f){var v,w,E=String(l(h)),C=o(f),O=E.length;return C<0||C>=O?d?"":void 0:(v=E.charCodeAt(C))<55296||v>56319||C+1===O||(w=E.charCodeAt(C+1))<56320||w>57343?d?E.charAt(C):v:d?E.slice(C,C+2):w-56320+(v-55296<<10)+65536}}},function(r,i,s){var o=s(54);r.exports=function(l,d,h){if(o(l),d===void 0)return l;switch(h){case 1:return function(f){return l.call(d,f)};case 2:return function(f,v){return l.call(d,f,v)};case 3:return function(f,v,w){return l.call(d,f,v,w)}}return function(){return l.apply(d,arguments)}}},function(r,i){r.exports=function(s){if(typeof s!="function")throw TypeError(s+" is not a function!");return s}},function(r,i,s){var o=s(38),l=s(16),d=s(28),h={};s(6)(h,s(2)("iterator"),function(){return this}),r.exports=function(f,v,w){f.prototype=o(h,{next:l(1,w)}),d(f,v+" Iterator")}},function(r,i,s){var o=s(7),l=s(10),d=s(13);r.exports=s(4)?Object.defineProperties:function(h,f){l(h);for(var v,w=d(f),E=w.length,C=0;E>C;)o.f(h,v=w[C++],f[v]);return h}},function(r,i,s){var o=s(9),l=s(58),d=s(59);r.exports=function(h){return function(f,v,w){var E,C=o(f),O=l(C.length),M=d(w,O);if(h&&v!=v){for(;O>M;)if((E=C[M++])!=E)return!0}else for(;O>M;M++)if((h||M in C)&&C[M]===v)return h||M||0;return!h&&-1}}},function(r,i,s){var o=s(21),l=Math.min;r.exports=function(d){return d>0?l(o(d),9007199254740991):0}},function(r,i,s){var o=s(21),l=Math.max,d=Math.min;r.exports=function(h,f){return(h=o(h))<0?l(h+f,0):d(h,f)}},function(r,i,s){var o=s(3).document;r.exports=o&&o.documentElement},function(r,i,s){var o=s(5),l=s(18),d=s(25)("IE_PROTO"),h=Object.prototype;r.exports=Object.getPrototypeOf||function(f){return f=l(f),o(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},function(r,i,s){var o=s(63),l=s(64),d=s(12),h=s(9);r.exports=s(34)(Array,"Array",function(f,v){this._t=h(f),this._i=0,this._k=v},function(){var f=this._t,v=this._k,w=this._i++;return!f||w>=f.length?(this._t=void 0,l(1)):l(0,v=="keys"?w:v=="values"?f[w]:[w,f[w]])},"values"),d.Arguments=d.Array,o("keys"),o("values"),o("entries")},function(r,i){r.exports=function(){}},function(r,i){r.exports=function(s,o){return{value:o,done:!!s}}},function(r,i,s){r.exports={default:s(66),__esModule:!0}},function(r,i,s){s(67),s(73),s(74),s(75),r.exports=s(1).Symbol},function(r,i,s){var o=s(3),l=s(5),d=s(4),h=s(15),f=s(37),v=s(68).KEY,w=s(8),E=s(26),C=s(28),O=s(17),M=s(2),A=s(30),D=s(31),U=s(69),R=s(70),X=s(10),H=s(11),K=s(18),W=s(9),Z=s(23),ie=s(16),se=s(38),oe=s(71),Q=s(72),ae=s(32),he=s(7),Ee=s(13),De=Q.f,qe=he.f,_e=oe.f,xe=o.Symbol,Se=o.JSON,Ie=Se&&Se.stringify,Ye=M("_hidden"),Le=M("toPrimitive"),Nt={}.propertyIsEnumerable,pt=E("symbol-registry"),ze=E("symbols"),nt=E("op-symbols"),me=Object.prototype,ut=typeof xe=="function"&&!!ae.f,Ve=o.QObject,dt=!Ve||!Ve.prototype||!Ve.prototype.findChild,ot=d&&w(function(){return se(qe({},"a",{get:function(){return qe(this,"a",{value:7}).a}})).a!=7})?function(Qe,Pt,St){var Ut=De(me,Pt);Ut&&delete me[Pt],qe(Qe,Pt,St),Ut&&Qe!==me&&qe(me,Pt,Ut)}:qe,Ze=function(Qe){var Pt=ze[Qe]=se(xe.prototype);return Pt._k=Qe,Pt},kt=ut&&typeof xe.iterator=="symbol"?function(Qe){return typeof Qe=="symbol"}:function(Qe){return Qe instanceof xe},ln=function(Qe,Pt,St){return Qe===me&&ln(nt,Pt,St),X(Qe),Pt=Z(Pt,!0),X(St),l(ze,Pt)?(St.enumerable?(l(Qe,Ye)&&Qe[Ye][Pt]&&(Qe[Ye][Pt]=!1),St=se(St,{enumerable:ie(0,!1)})):(l(Qe,Ye)||qe(Qe,Ye,ie(1,{})),Qe[Ye][Pt]=!0),ot(Qe,Pt,St)):qe(Qe,Pt,St)},Ht=function(Qe,Pt){X(Qe);for(var St,Ut=U(Pt=W(Pt)),tn=0,Pn=Ut.length;Pn>tn;)ln(Qe,St=Ut[tn++],Pt[St]);return Qe},nn=function(Qe){var Pt=Nt.call(this,Qe=Z(Qe,!0));return!(this===me&&l(ze,Qe)&&!l(nt,Qe))&&(!(Pt||!l(this,Qe)||!l(ze,Qe)||l(this,Ye)&&this[Ye][Qe])||Pt)},qn=function(Qe,Pt){if(Qe=W(Qe),Pt=Z(Pt,!0),Qe!==me||!l(ze,Pt)||l(nt,Pt)){var St=De(Qe,Pt);return!St||!l(ze,Pt)||l(Qe,Ye)&&Qe[Ye][Pt]||(St.enumerable=!0),St}},_n=function(Qe){for(var Pt,St=_e(W(Qe)),Ut=[],tn=0;St.length>tn;)l(ze,Pt=St[tn++])||Pt==Ye||Pt==v||Ut.push(Pt);return Ut},rn=function(Qe){for(var Pt,St=Qe===me,Ut=_e(St?nt:W(Qe)),tn=[],Pn=0;Ut.length>Pn;)!l(ze,Pt=Ut[Pn++])||St&&!l(me,Pt)||tn.push(ze[Pt]);return tn};ut||(f((xe=function(){if(this instanceof xe)throw TypeError("Symbol is not a constructor!");var Qe=O(arguments.length>0?arguments[0]:void 0),Pt=function(St){this===me&&Pt.call(nt,St),l(this,Ye)&&l(this[Ye],Qe)&&(this[Ye][Qe]=!1),ot(this,Qe,ie(1,St))};return d&&dt&&ot(me,Qe,{configurable:!0,set:Pt}),Ze(Qe)}).prototype,"toString",function(){return this._k}),Q.f=qn,he.f=ln,s(41).f=oe.f=_n,s(19).f=nn,ae.f=rn,d&&!s(14)&&f(me,"propertyIsEnumerable",nn,!0),A.f=function(Qe){return Ze(M(Qe))}),h(h.G+h.W+h.F*!ut,{Symbol:xe});for(var Yt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),gn=0;Yt.length>gn;)M(Yt[gn++]);for(var cn=Ee(M.store),Et=0;cn.length>Et;)D(cn[Et++]);h(h.S+h.F*!ut,"Symbol",{for:function(Qe){return l(pt,Qe+="")?pt[Qe]:pt[Qe]=xe(Qe)},keyFor:function(Qe){if(!kt(Qe))throw TypeError(Qe+" is not a symbol!");for(var Pt in pt)if(pt[Pt]===Qe)return Pt},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),h(h.S+h.F*!ut,"Object",{create:function(Qe,Pt){return Pt===void 0?se(Qe):Ht(se(Qe),Pt)},defineProperty:ln,defineProperties:Ht,getOwnPropertyDescriptor:qn,getOwnPropertyNames:_n,getOwnPropertySymbols:rn});var it=w(function(){ae.f(1)});h(h.S+h.F*it,"Object",{getOwnPropertySymbols:function(Qe){return ae.f(K(Qe))}}),Se&&h(h.S+h.F*(!ut||w(function(){var Qe=xe();return Ie([Qe])!="[null]"||Ie({a:Qe})!="{}"||Ie(Object(Qe))!="{}"})),"JSON",{stringify:function(Qe){for(var Pt,St,Ut=[Qe],tn=1;arguments.length>tn;)Ut.push(arguments[tn++]);if(St=Pt=Ut[1],(H(Pt)||Qe!==void 0)&&!kt(Qe))return R(Pt)||(Pt=function(Pn,yn){if(typeof St=="function"&&(yn=St.call(this,Pn,yn)),!kt(yn))return yn}),Ut[1]=Pt,Ie.apply(Se,Ut)}}),xe.prototype[Le]||s(6)(xe.prototype,Le,xe.prototype.valueOf),C(xe,"Symbol"),C(Math,"Math",!0),C(o.JSON,"JSON",!0)},function(r,i,s){var o=s(17)("meta"),l=s(11),d=s(5),h=s(7).f,f=0,v=Object.isExtensible||function(){return!0},w=!s(8)(function(){return v(Object.preventExtensions({}))}),E=function(O){h(O,o,{value:{i:"O"+ ++f,w:{}}})},C=r.exports={KEY:o,NEED:!1,fastKey:function(O,M){if(!l(O))return typeof O=="symbol"?O:(typeof O=="string"?"S":"P")+O;if(!d(O,o)){if(!v(O))return"F";if(!M)return"E";E(O)}return O[o].i},getWeak:function(O,M){if(!d(O,o)){if(!v(O))return!0;if(!M)return!1;E(O)}return O[o].w},onFreeze:function(O){return w&&C.NEED&&v(O)&&!d(O,o)&&E(O),O}}},function(r,i,s){var o=s(13),l=s(32),d=s(19);r.exports=function(h){var f=o(h),v=l.f;if(v)for(var w,E=v(h),C=d.f,O=0;E.length>O;)C.call(h,w=E[O++])&&f.push(w);return f}},function(r,i,s){var o=s(24);r.exports=Array.isArray||function(l){return o(l)=="Array"}},function(r,i,s){var o=s(9),l=s(41).f,d={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(f){return h&&d.call(f)=="[object Window]"?function(v){try{return l(v)}catch{return h.slice()}}(f):l(o(f))}},function(r,i,s){var o=s(19),l=s(16),d=s(9),h=s(23),f=s(5),v=s(35),w=Object.getOwnPropertyDescriptor;i.f=s(4)?w:function(E,C){if(E=d(E),C=h(C,!0),v)try{return w(E,C)}catch{}if(f(E,C))return l(!o.f.call(E,C),E[C])}},function(r,i){},function(r,i,s){s(31)("asyncIterator")},function(r,i,s){s(31)("observable")},function(r,i,s){i.__esModule=!0;var o,l=s(77),d=(o=l)&&o.__esModule?o:{default:o};i.default=d.default||function(h){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(h[w]=v[w])}return h}},function(r,i,s){r.exports={default:s(78),__esModule:!0}},function(r,i,s){s(79),r.exports=s(1).Object.assign},function(r,i,s){var o=s(15);o(o.S+o.F,"Object",{assign:s(80)})},function(r,i,s){var o=s(4),l=s(13),d=s(32),h=s(19),f=s(18),v=s(40),w=Object.assign;r.exports=!w||s(8)(function(){var E={},C={},O=Symbol(),M="abcdefghijklmnopqrst";return E[O]=7,M.split("").forEach(function(A){C[A]=A}),w({},E)[O]!=7||Object.keys(w({},C)).join("")!=M})?function(E,C){for(var O=f(E),M=arguments.length,A=1,D=d.f,U=h.f;M>A;)for(var R,X=v(arguments[A++]),H=D?l(X).concat(D(X)):l(X),K=H.length,W=0;K>W;)R=H[W++],o&&!U.call(X,R)||(O[R]=X[R]);return O}:w},function(r,i,s){i.__esModule=!0;var o=d(s(82)),l=d(s(85));function d(h){return h&&h.__esModule?h:{default:h}}i.default=function(h,f){if(Array.isArray(h))return h;if((0,o.default)(Object(h)))return function(v,w){var E=[],C=!0,O=!1,M=void 0;try{for(var A,D=(0,l.default)(v);!(C=(A=D.next()).done)&&(E.push(A.value),!w||E.length!==w);C=!0);}catch(U){O=!0,M=U}finally{try{!C&&D.return&&D.return()}finally{if(O)throw M}}return E}(h,f);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(r,i,s){r.exports={default:s(83),__esModule:!0}},function(r,i,s){s(29),s(20),r.exports=s(84)},function(r,i,s){var o=s(42),l=s(2)("iterator"),d=s(12);r.exports=s(1).isIterable=function(h){var f=Object(h);return f[l]!==void 0||"@@iterator"in f||d.hasOwnProperty(o(f))}},function(r,i,s){r.exports={default:s(86),__esModule:!0}},function(r,i,s){s(29),s(20),r.exports=s(87)},function(r,i,s){var o=s(10),l=s(88);r.exports=s(1).getIterator=function(d){var h=l(d);if(typeof h!="function")throw TypeError(d+" is not iterable!");return o(h.call(d))}},function(r,i,s){var o=s(42),l=s(2)("iterator"),d=s(12);r.exports=s(1).getIteratorMethod=function(h){if(h!=null)return h[l]||h["@@iterator"]||d[o(h)]}},function(r,i,s){r.exports={default:s(90),__esModule:!0}},function(r,i,s){s(91),r.exports=s(1).Object.keys},function(r,i,s){var o=s(18),l=s(13);s(92)("keys",function(){return function(d){return l(o(d))}})},function(r,i,s){var o=s(15),l=s(1),d=s(8);r.exports=function(h,f){var v=(l.Object||{})[h]||Object[h],w={};w[h]=f(v),o(o.S+o.F*d(function(){v(1)}),"Object",w)}},function(r,i,s){(function(o){var l=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],d=/^\s+|\s+$/g,h=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,f=/\{\n\/\* \[wrapped with (.+)\] \*/,v=/,? & /,w=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,C=/^\[object .+?Constructor\]$/,O=/^0o[0-7]+$/i,M=/^(?:0|[1-9]\d*)$/,A=parseInt,D=typeof o=="object"&&o&&o.Object===Object&&o,U=typeof self=="object"&&self&&self.Object===Object&&self,R=D||U||Function("return this")();function X(Et,it,Qe){switch(Qe.length){case 0:return Et.call(it);case 1:return Et.call(it,Qe[0]);case 2:return Et.call(it,Qe[0],Qe[1]);case 3:return Et.call(it,Qe[0],Qe[1],Qe[2])}return Et.apply(it,Qe)}function H(Et,it){return!!(Et&&Et.length)&&function(Qe,Pt,St){if(Pt!=Pt)return function(Pn,yn,Yn,un){for(var vn=Pn.length,sn=Yn+(un?1:-1);un?sn--:++sn<vn;)if(yn(Pn[sn],sn,Pn))return sn;return-1}(Qe,K,St);for(var Ut=St-1,tn=Qe.length;++Ut<tn;)if(Qe[Ut]===Pt)return Ut;return-1}(Et,it,0)>-1}function K(Et){return Et!=Et}function W(Et,it){for(var Qe=Et.length,Pt=0;Qe--;)Et[Qe]===it&&Pt++;return Pt}function Z(Et,it){for(var Qe=-1,Pt=Et.length,St=0,Ut=[];++Qe<Pt;){var tn=Et[Qe];tn!==it&&tn!=="__lodash_placeholder__"||(Et[Qe]="__lodash_placeholder__",Ut[St++]=Qe)}return Ut}var ie,se,oe,Q=Function.prototype,ae=Object.prototype,he=R["__core-js_shared__"],Ee=(ie=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"",De=Q.toString,qe=ae.hasOwnProperty,_e=ae.toString,xe=RegExp("^"+De.call(qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=Object.create,Ie=Math.max,Ye=Math.min,Le=(se=Ze(Object,"defineProperty"),(oe=Ze.name)&&oe.length>2?se:void 0);function Nt(Et){return Yt(Et)?Se(Et):{}}function pt(Et){return!(!Yt(Et)||function(it){return!!Ee&&Ee in it}(Et))&&(function(it){var Qe=Yt(it)?_e.call(it):"";return Qe=="[object Function]"||Qe=="[object GeneratorFunction]"}(Et)||function(it){var Qe=!1;if(it!=null&&typeof it.toString!="function")try{Qe=!!(it+"")}catch{}return Qe}(Et)?xe:C).test(function(it){if(it!=null){try{return De.call(it)}catch{}try{return it+""}catch{}}return""}(Et))}function ze(Et,it,Qe,Pt){for(var St=-1,Ut=Et.length,tn=Qe.length,Pn=-1,yn=it.length,Yn=Ie(Ut-tn,0),un=Array(yn+Yn),vn=!Pt;++Pn<yn;)un[Pn]=it[Pn];for(;++St<tn;)(vn||St<Ut)&&(un[Qe[St]]=Et[St]);for(;Yn--;)un[Pn++]=Et[St++];return un}function nt(Et,it,Qe,Pt){for(var St=-1,Ut=Et.length,tn=-1,Pn=Qe.length,yn=-1,Yn=it.length,un=Ie(Ut-Pn,0),vn=Array(un+Yn),sn=!Pt;++St<un;)vn[St]=Et[St];for(var zn=St;++yn<Yn;)vn[zn+yn]=it[yn];for(;++tn<Pn;)(sn||St<Ut)&&(vn[zn+Qe[tn]]=Et[St++]);return vn}function me(Et){return function(){var it=arguments;switch(it.length){case 0:return new Et;case 1:return new Et(it[0]);case 2:return new Et(it[0],it[1]);case 3:return new Et(it[0],it[1],it[2]);case 4:return new Et(it[0],it[1],it[2],it[3]);case 5:return new Et(it[0],it[1],it[2],it[3],it[4]);case 6:return new Et(it[0],it[1],it[2],it[3],it[4],it[5]);case 7:return new Et(it[0],it[1],it[2],it[3],it[4],it[5],it[6])}var Qe=Nt(Et.prototype),Pt=Et.apply(Qe,it);return Yt(Pt)?Pt:Qe}}function ut(Et,it,Qe,Pt,St,Ut,tn,Pn,yn,Yn){var un=128&it,vn=1&it,sn=2&it,zn=24&it,Un=512&it,nr=sn?void 0:me(Et);return function Dn(){for(var Vn=arguments.length,an=Array(Vn),Gn=Vn;Gn--;)an[Gn]=arguments[Gn];if(zn)var Kt=ot(Dn),mn=W(an,Kt);if(Pt&&(an=ze(an,Pt,St,zn)),Ut&&(an=nt(an,Ut,tn,zn)),Vn-=mn,zn&&Vn<Yn){var en=Z(an,Kt);return Ve(Et,it,ut,Dn.placeholder,Qe,an,en,Pn,yn,Yn-Vn)}var pn=vn?Qe:this,Nn=sn?pn[Et]:Et;return Vn=an.length,Pn?an=nn(an,Pn):Un&&Vn>1&&an.reverse(),un&&yn<Vn&&(an.length=yn),this&&this!==R&&this instanceof Dn&&(Nn=nr||me(Nn)),Nn.apply(pn,an)}}function Ve(Et,it,Qe,Pt,St,Ut,tn,Pn,yn,Yn){var un=8&it;it|=un?32:64,4&(it&=~(un?64:32))||(it&=-4);var vn=Qe(Et,it,St,un?Ut:void 0,un?tn:void 0,un?void 0:Ut,un?void 0:tn,Pn,yn,Yn);return vn.placeholder=Pt,qn(vn,Et,it)}function dt(Et,it,Qe,Pt,St,Ut,tn,Pn){var yn=2&it;if(!yn&&typeof Et!="function")throw new TypeError("Expected a function");var Yn=Pt?Pt.length:0;if(Yn||(it&=-97,Pt=St=void 0),tn=tn===void 0?tn:Ie(cn(tn),0),Pn=Pn===void 0?Pn:cn(Pn),Yn-=St?St.length:0,64&it){var un=Pt,vn=St;Pt=St=void 0}var sn=[Et,it,Qe,Pt,St,un,vn,Ut,tn,Pn];if(Et=sn[0],it=sn[1],Qe=sn[2],Pt=sn[3],St=sn[4],!(Pn=sn[9]=sn[9]==null?yn?0:Et.length:Ie(sn[9]-Yn,0))&&24&it&&(it&=-25),it&&it!=1)zn=it==8||it==16?function(Un,nr,Dn){var Vn=me(Un);return function an(){for(var Gn=arguments.length,Kt=Array(Gn),mn=Gn,en=ot(an);mn--;)Kt[mn]=arguments[mn];var pn=Gn<3&&Kt[0]!==en&&Kt[Gn-1]!==en?[]:Z(Kt,en);if((Gn-=pn.length)<Dn)return Ve(Un,nr,ut,an.placeholder,void 0,Kt,pn,void 0,void 0,Dn-Gn);var Nn=this&&this!==R&&this instanceof an?Vn:Un;return X(Nn,this,Kt)}}(Et,it,Pn):it!=32&&it!=33||St.length?ut.apply(void 0,sn):function(Un,nr,Dn,Vn){var an=1&nr,Gn=me(Un);return function Kt(){for(var mn=-1,en=arguments.length,pn=-1,Nn=Vn.length,Hn=Array(Nn+en),Cn=this&&this!==R&&this instanceof Kt?Gn:Un;++pn<Nn;)Hn[pn]=Vn[pn];for(;en--;)Hn[pn++]=arguments[++mn];return X(Cn,an?Dn:this,Hn)}}(Et,it,Qe,Pt);else var zn=function(Un,nr,Dn){var Vn=1&nr,an=me(Un);return function Gn(){var Kt=this&&this!==R&&this instanceof Gn?an:Un;return Kt.apply(Vn?Dn:this,arguments)}}(Et,it,Qe);return qn(zn,Et,it)}function ot(Et){return Et.placeholder}function Ze(Et,it){var Qe=function(Pt,St){return Pt==null?void 0:Pt[St]}(Et,it);return pt(Qe)?Qe:void 0}function kt(Et){var it=Et.match(f);return it?it[1].split(v):[]}function ln(Et,it){var Qe=it.length,Pt=Qe-1;return it[Pt]=(Qe>1?"& ":"")+it[Pt],it=it.join(Qe>2?", ":" "),Et.replace(h,`{
/* [wrapped with `+it+`] */
`)}function Ht(Et,it){return!!(it=it==null?9007199254740991:it)&&(typeof Et=="number"||M.test(Et))&&Et>-1&&Et%1==0&&Et<it}function nn(Et,it){for(var Qe=Et.length,Pt=Ye(it.length,Qe),St=function(tn,Pn){var yn=-1,Yn=tn.length;for(Pn||(Pn=Array(Yn));++yn<Yn;)Pn[yn]=tn[yn];return Pn}(Et);Pt--;){var Ut=it[Pt];Et[Pt]=Ht(Ut,Qe)?St[Ut]:void 0}return Et}var qn=Le?function(Et,it,Qe){var Pt,St=it+"";return Le(Et,"toString",{configurable:!0,enumerable:!1,value:(Pt=ln(St,_n(kt(St),Qe)),function(){return Pt})})}:function(Et){return Et};function _n(Et,it){return function(Qe,Pt){for(var St=-1,Ut=Qe?Qe.length:0;++St<Ut&&Pt(Qe[St],St,Qe)!==!1;);}(l,function(Qe){var Pt="_."+Qe[0];it&Qe[1]&&!H(Et,Pt)&&Et.push(Pt)}),Et.sort()}function rn(Et,it,Qe){var Pt=dt(Et,8,void 0,void 0,void 0,void 0,void 0,it=Qe?void 0:it);return Pt.placeholder=rn.placeholder,Pt}function Yt(Et){var it=typeof Et;return!!Et&&(it=="object"||it=="function")}function gn(Et){return Et?(Et=function(it){if(typeof it=="number")return it;if(function(St){return typeof St=="symbol"||function(Ut){return!!Ut&&typeof Ut=="object"}(St)&&_e.call(St)=="[object Symbol]"}(it))return NaN;if(Yt(it)){var Qe=typeof it.valueOf=="function"?it.valueOf():it;it=Yt(Qe)?Qe+"":Qe}if(typeof it!="string")return it===0?it:+it;it=it.replace(d,"");var Pt=E.test(it);return Pt||O.test(it)?A(it.slice(2),Pt?2:8):w.test(it)?NaN:+it}(Et))===1/0||Et===-1/0?17976931348623157e292*(Et<0?-1:1):Et==Et?Et:0:Et===0?Et:0}function cn(Et){var it=gn(Et),Qe=it%1;return it==it?Qe?it-Qe:it:0}rn.placeholder={},r.exports=rn}).call(this,s(43))},function(r,i,s){function o(nt){return nt&&nt.__esModule?nt.default:nt}i.__esModule=!0;var l=s(95);i.threezerotwofour=o(l);var d=s(96);i.apathy=o(d);var h=s(97);i.ashes=o(h);var f=s(98);i.atelierDune=o(f);var v=s(99);i.atelierForest=o(v);var w=s(100);i.atelierHeath=o(w);var E=s(101);i.atelierLakeside=o(E);var C=s(102);i.atelierSeaside=o(C);var O=s(103);i.bespin=o(O);var M=s(104);i.brewer=o(M);var A=s(105);i.bright=o(A);var D=s(106);i.chalk=o(D);var U=s(107);i.codeschool=o(U);var R=s(108);i.colors=o(R);var X=s(109);i.default=o(X);var H=s(110);i.eighties=o(H);var K=s(111);i.embers=o(K);var W=s(112);i.flat=o(W);var Z=s(113);i.google=o(Z);var ie=s(114);i.grayscale=o(ie);var se=s(115);i.greenscreen=o(se);var oe=s(116);i.harmonic=o(oe);var Q=s(117);i.hopscotch=o(Q);var ae=s(118);i.isotope=o(ae);var he=s(119);i.marrakesh=o(he);var Ee=s(120);i.mocha=o(Ee);var De=s(121);i.monokai=o(De);var qe=s(122);i.ocean=o(qe);var _e=s(123);i.paraiso=o(_e);var xe=s(124);i.pop=o(xe);var Se=s(125);i.railscasts=o(Se);var Ie=s(126);i.shapeshifter=o(Ie);var Ye=s(127);i.solarized=o(Ye);var Le=s(128);i.summerfruit=o(Le);var Nt=s(129);i.tomorrow=o(Nt);var pt=s(130);i.tube=o(pt);var ze=s(131);i.twilight=o(ze)},function(r,i,s){i.__esModule=!0,i.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"brewer",author:"timoth\xE9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},r.exports=i.default},function(r,i,s){var o=s(33);function l(d){var h=Math.round(o(d,0,255)).toString(16);return h.length==1?"0"+h:h}r.exports=function(d){var h=d.length===4?l(255*d[3]):"";return"#"+l(d[0])+l(d[1])+l(d[2])+h}},function(r,i,s){var o=s(134),l=s(135),d=s(136),h=s(137),f={"#":l,hsl:function(w){var E=o(w),C=h(E);return E.length===4&&C.push(E[3]),C},rgb:d};function v(w){for(var E in f)if(w.indexOf(E)===0)return f[E](w)}v.rgb=d,v.hsl=o,v.hex=l,r.exports=v},function(r,i,s){var o=s(44),l=s(33);function d(h,f){switch(h=parseFloat(h),f){case 0:return l(h,0,360);case 1:case 2:return l(h,0,100);case 3:return l(h,0,1)}}r.exports=function(h){return o(h).map(d)}},function(r,i){r.exports=function(s){s.length!==4&&s.length!==5||(s=function(d){for(var h="#",f=1;f<d.length;f++){var v=d.charAt(f);h+=v+v}return h}(s));var o=[parseInt(s.substring(1,3),16),parseInt(s.substring(3,5),16),parseInt(s.substring(5,7),16)];if(s.length===9){var l=parseFloat((parseInt(s.substring(7,9),16)/255).toFixed(2));o.push(l)}return o}},function(r,i,s){var o=s(44),l=s(33);function d(h,f){return f<3?h.indexOf("%")!=-1?Math.round(255*l(parseInt(h,10),0,100)/100):l(parseInt(h,10),0,255):l(parseFloat(h),0,1)}r.exports=function(h){return o(h).map(d)}},function(r,i){r.exports=function(s){var o,l,d,h,f,v=s[0]/360,w=s[1]/100,E=s[2]/100;if(w==0)return[f=255*E,f,f];o=2*E-(l=E<.5?E*(1+w):E+w-E*w),h=[0,0,0];for(var C=0;C<3;C++)(d=v+1/3*-(C-1))<0&&d++,d>1&&d--,f=6*d<1?o+6*(l-o)*d:2*d<1?l:3*d<2?o+(l-o)*(2/3-d)*6:o,h[C]=255*f;return h}},function(r,i,s){(function(o){var l=typeof o=="object"&&o&&o.Object===Object&&o,d=typeof self=="object"&&self&&self.Object===Object&&self,h=l||d||Function("return this")();function f(Z,ie,se){switch(se.length){case 0:return Z.call(ie);case 1:return Z.call(ie,se[0]);case 2:return Z.call(ie,se[0],se[1]);case 3:return Z.call(ie,se[0],se[1],se[2])}return Z.apply(ie,se)}function v(Z,ie){for(var se=-1,oe=ie.length,Q=Z.length;++se<oe;)Z[Q+se]=ie[se];return Z}var w=Object.prototype,E=w.hasOwnProperty,C=w.toString,O=h.Symbol,M=w.propertyIsEnumerable,A=O?O.isConcatSpreadable:void 0,D=Math.max;function U(Z){return R(Z)||function(ie){return function(se){return function(oe){return!!oe&&typeof oe=="object"}(se)&&function(oe){return oe!=null&&function(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=9007199254740991}(oe.length)&&!function(Q){var ae=function(he){var Ee=typeof he;return!!he&&(Ee=="object"||Ee=="function")}(Q)?C.call(Q):"";return ae=="[object Function]"||ae=="[object GeneratorFunction]"}(oe)}(se)}(ie)&&E.call(ie,"callee")&&(!M.call(ie,"callee")||C.call(ie)=="[object Arguments]")}(Z)||!!(A&&Z&&Z[A])}var R=Array.isArray,X,H,K,W=(H=function(Z){var ie=(Z=function oe(Q,ae,he,Ee,De){var qe=-1,_e=Q.length;for(he||(he=U),De||(De=[]);++qe<_e;){var xe=Q[qe];ae>0&&he(xe)?ae>1?oe(xe,ae-1,he,Ee,De):v(De,xe):Ee||(De[De.length]=xe)}return De}(Z,1)).length,se=ie;for(X;se--;)if(typeof Z[se]!="function")throw new TypeError("Expected a function");return function(){for(var oe=0,Q=ie?Z[oe].apply(this,arguments):arguments[0];++oe<ie;)Q=Z[oe].call(this,Q);return Q}},K=D(K===void 0?H.length-1:K,0),function(){for(var Z=arguments,ie=-1,se=D(Z.length-K,0),oe=Array(se);++ie<se;)oe[ie]=Z[K+ie];ie=-1;for(var Q=Array(K+1);++ie<K;)Q[ie]=Z[ie];return Q[K]=oe,f(H,this,Q)});r.exports=W}).call(this,s(43))},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.yuv2rgb=function(o){var l,d,h,f=o[0],v=o[1],w=o[2];return l=1*f+0*v+1.13983*w,d=1*f+-.39465*v+-.5806*w,h=1*f+2.02311*v+0*w,l=Math.min(Math.max(0,l),1),d=Math.min(Math.max(0,d),1),h=Math.min(Math.max(0,h),1),[255*l,255*d,255*h]},i.rgb2yuv=function(o){var l=o[0]/255,d=o[1]/255,h=o[2]/255;return[.299*l+.587*d+.114*h,-.14713*l+-.28886*d+.436*h,.615*l+-.51499*d+-.10001*h]}},function(r,i,s){function o(h,f,v){return f in h?Object.defineProperty(h,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[f]=v,h}var l=s(141),d=function(){function h(){o(this,"_callbacks",void 0),o(this,"_isDispatching",void 0),o(this,"_isHandled",void 0),o(this,"_isPending",void 0),o(this,"_lastID",void 0),o(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var f=h.prototype;return f.register=function(v){var w="ID_"+this._lastID++;return this._callbacks[w]=v,w},f.unregister=function(v){this._callbacks[v]||l(!1),delete this._callbacks[v]},f.waitFor=function(v){this._isDispatching||l(!1);for(var w=0;w<v.length;w++){var E=v[w];this._isPending[E]?this._isHandled[E]||l(!1):(this._callbacks[E]||l(!1),this._invokeCallback(E))}},f.dispatch=function(v){this._isDispatching&&l(!1),this._startDispatching(v);try{for(var w in this._callbacks)this._isPending[w]||this._invokeCallback(w)}finally{this._stopDispatching()}},f.isDispatching=function(){return this._isDispatching},f._invokeCallback=function(v){this._isPending[v]=!0,this._callbacks[v](this._pendingPayload),this._isHandled[v]=!0},f._startDispatching=function(v){for(var w in this._callbacks)this._isPending[w]=!1,this._isHandled[w]=!1;this._pendingPayload=v,this._isDispatching=!0},f._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},h}();r.exports=d},function(r,i,s){r.exports=function(o,l){for(var d=arguments.length,h=new Array(d>2?d-2:0),f=2;f<d;f++)h[f-2]=arguments[f];if(!o){var v;if(l===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=0;(v=new Error(l.replace(/%s/g,function(){return String(h[w++])}))).name="Invariant Violation"}throw v.framesToPop=1,v}}},function(r,i,s){function o(we,Oe,ge){return Oe in we?Object.defineProperty(we,Oe,{value:ge,enumerable:!0,configurable:!0,writable:!0}):we[Oe]=ge,we}function l(we,Oe){var ge=Object.keys(we);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(we);Oe&&(Re=Re.filter(function(Be){return Object.getOwnPropertyDescriptor(we,Be).enumerable})),ge.push.apply(ge,Re)}return ge}function d(we){for(var Oe=1;Oe<arguments.length;Oe++){var ge=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?l(Object(ge),!0).forEach(function(Re){o(we,Re,ge[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(we,Object.getOwnPropertyDescriptors(ge)):l(Object(ge)).forEach(function(Re){Object.defineProperty(we,Re,Object.getOwnPropertyDescriptor(ge,Re))})}return we}function h(we,Oe){if(!(we instanceof Oe))throw new TypeError("Cannot call a class as a function")}function f(we,Oe){for(var ge=0;ge<Oe.length;ge++){var Re=Oe[ge];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(we,Re.key,Re)}}function v(we,Oe,ge){return Oe&&f(we.prototype,Oe),ge&&f(we,ge),we}function w(we,Oe){return(w=Object.setPrototypeOf||function(ge,Re){return ge.__proto__=Re,ge})(we,Oe)}function E(we,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Oe&&w(we,Oe)}function C(we){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(Oe){return Oe.__proto__||Object.getPrototypeOf(Oe)})(we)}function O(we){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe})(we)}function M(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function A(we,Oe){return!Oe||O(Oe)!=="object"&&typeof Oe!="function"?M(we):Oe}function D(we){var Oe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ge,Re=C(we);if(Oe){var Be=C(this).constructor;ge=Reflect.construct(Re,arguments,Be)}else ge=Re.apply(this,arguments);return A(this,ge)}}s.r(i);var U=s(0),R=s.n(U);function X(){var we=this.constructor.getDerivedStateFromProps(this.props,this.state);we!=null&&this.setState(we)}function H(we){this.setState(function(Oe){var ge=this.constructor.getDerivedStateFromProps(we,Oe);return ge!=null?ge:null}.bind(this))}function K(we,Oe){try{var ge=this.props,Re=this.state;this.props=we,this.state=Oe,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(ge,Re)}finally{this.props=ge,this.state=Re}}function W(we){var Oe=we.prototype;if(!Oe||!Oe.isReactComponent)throw new Error("Can only polyfill class components");if(typeof we.getDerivedStateFromProps!="function"&&typeof Oe.getSnapshotBeforeUpdate!="function")return we;var ge=null,Re=null,Be=null;if(typeof Oe.componentWillMount=="function"?ge="componentWillMount":typeof Oe.UNSAFE_componentWillMount=="function"&&(ge="UNSAFE_componentWillMount"),typeof Oe.componentWillReceiveProps=="function"?Re="componentWillReceiveProps":typeof Oe.UNSAFE_componentWillReceiveProps=="function"&&(Re="UNSAFE_componentWillReceiveProps"),typeof Oe.componentWillUpdate=="function"?Be="componentWillUpdate":typeof Oe.UNSAFE_componentWillUpdate=="function"&&(Be="UNSAFE_componentWillUpdate"),ge!==null||Re!==null||Be!==null){var _t=we.displayName||we.name,At=typeof we.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+_t+" uses "+At+" but also contains the following legacy lifecycles:"+(ge!==null?`
  `+ge:"")+(Re!==null?`
  `+Re:"")+(Be!==null?`
  `+Be:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof we.getDerivedStateFromProps=="function"&&(Oe.componentWillMount=X,Oe.componentWillReceiveProps=H),typeof Oe.getSnapshotBeforeUpdate=="function"){if(typeof Oe.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");Oe.componentWillUpdate=K;var Lt=Oe.componentDidUpdate;Oe.componentDidUpdate=function(yt,qt,Rn){var Bn=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Rn;Lt.call(this,yt,qt,Bn)}}return we}function Z(we,Oe){if(we==null)return{};var ge,Re,Be=function(At,Lt){if(At==null)return{};var yt,qt,Rn={},Bn=Object.keys(At);for(qt=0;qt<Bn.length;qt++)yt=Bn[qt],Lt.indexOf(yt)>=0||(Rn[yt]=At[yt]);return Rn}(we,Oe);if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(we);for(Re=0;Re<_t.length;Re++)ge=_t[Re],Oe.indexOf(ge)>=0||Object.prototype.propertyIsEnumerable.call(we,ge)&&(Be[ge]=we[ge])}return Be}function ie(we){var Oe=function(ge){return{}.toString.call(ge).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(we);return Oe==="number"&&(Oe=isNaN(we)?"nan":(0|we)!=we?"float":"integer"),Oe}X.__suppressDeprecationWarning=!0,H.__suppressDeprecationWarning=!0,K.__suppressDeprecationWarning=!0;var se={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},oe={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},Q={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},ae=s(45),he=function(we){var Oe=function(ge){return{backgroundColor:ge.base00,ellipsisColor:ge.base09,braceColor:ge.base07,expandedIcon:ge.base0D,collapsedIcon:ge.base0E,keyColor:ge.base07,arrayKeyColor:ge.base0C,objectSize:ge.base04,copyToClipboard:ge.base0F,copyToClipboardCheck:ge.base0D,objectBorder:ge.base02,dataTypes:{boolean:ge.base0E,date:ge.base0D,float:ge.base0B,function:ge.base0D,integer:ge.base0F,string:ge.base09,nan:ge.base08,null:ge.base0A,undefined:ge.base05,regexp:ge.base0A,background:ge.base02},editVariable:{editIcon:ge.base0E,cancelIcon:ge.base09,removeIcon:ge.base09,addIcon:ge.base0E,checkIcon:ge.base0E,background:ge.base01,color:ge.base0A,border:ge.base07},addKeyModal:{background:ge.base05,border:ge.base04,color:ge.base0A,labelColor:ge.base01},validationFailure:{background:ge.base09,iconColor:ge.base01,fontColor:ge.base01}}}(we);return{"app-container":{fontFamily:Q.globalFontFamily,cursor:Q.globalCursor,backgroundColor:Oe.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:Oe.ellipsisColor,fontSize:Q.ellipsisFontSize,lineHeight:Q.ellipsisLineHeight,cursor:Q.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:Q.braceCursor,fontWeight:Q.braceFontWeight,color:Oe.braceColor},"expanded-icon":{color:Oe.expandedIcon},"collapsed-icon":{color:Oe.collapsedIcon},colon:{display:"inline-block",margin:Q.keyMargin,color:Oe.keyColor,verticalAlign:"top"},objectKeyVal:function(ge,Re){return{style:d({paddingTop:Q.keyValPaddingTop,paddingRight:Q.keyValPaddingRight,paddingBottom:Q.keyValPaddingBottom,borderLeft:Q.keyValBorderLeft+" "+Oe.objectBorder,":hover":{paddingLeft:Re.paddingLeft-1+"px",borderLeft:Q.keyValBorderHover+" "+Oe.objectBorder}},Re)}},"object-key-val-no-border":{padding:Q.keyValPadding},"pushed-content":{marginLeft:Q.pushedContentMarginLeft},variableValue:function(ge,Re){return{style:d({display:"inline-block",paddingRight:Q.variableValuePaddingRight,position:"relative"},Re)}},"object-name":{display:"inline-block",color:Oe.keyColor,letterSpacing:Q.keyLetterSpacing,fontStyle:Q.keyFontStyle,verticalAlign:Q.keyVerticalAlign,opacity:Q.keyOpacity,":hover":{opacity:Q.keyOpacityHover}},"array-key":{display:"inline-block",color:Oe.arrayKeyColor,letterSpacing:Q.keyLetterSpacing,fontStyle:Q.keyFontStyle,verticalAlign:Q.keyVerticalAlign,opacity:Q.keyOpacity,":hover":{opacity:Q.keyOpacityHover}},"object-size":{color:Oe.objectSize,borderRadius:Q.objectSizeBorderRadius,fontStyle:Q.objectSizeFontStyle,margin:Q.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:Q.dataTypeFontSize,marginRight:Q.dataTypeMarginRight,opacity:Q.datatypeOpacity},boolean:{display:"inline-block",color:Oe.dataTypes.boolean},date:{display:"inline-block",color:Oe.dataTypes.date},"date-value":{marginLeft:Q.dateValueMarginLeft},float:{display:"inline-block",color:Oe.dataTypes.float},function:{display:"inline-block",color:Oe.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:Oe.dataTypes.integer},string:{display:"inline-block",color:Oe.dataTypes.string},nan:{display:"inline-block",color:Oe.dataTypes.nan,fontSize:Q.nanFontSize,fontWeight:Q.nanFontWeight,backgroundColor:Oe.dataTypes.background,padding:Q.nanPadding,borderRadius:Q.nanBorderRadius},null:{display:"inline-block",color:Oe.dataTypes.null,fontSize:Q.nullFontSize,fontWeight:Q.nullFontWeight,backgroundColor:Oe.dataTypes.background,padding:Q.nullPadding,borderRadius:Q.nullBorderRadius},undefined:{display:"inline-block",color:Oe.dataTypes.undefined,fontSize:Q.undefinedFontSize,padding:Q.undefinedPadding,borderRadius:Q.undefinedBorderRadius,backgroundColor:Oe.dataTypes.background},regexp:{display:"inline-block",color:Oe.dataTypes.regexp},"copy-to-clipboard":{cursor:Q.clipboardCursor},"copy-icon":{color:Oe.copyToClipboard,fontSize:Q.iconFontSize,marginRight:Q.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:Oe.copyToClipboardCheck,marginLeft:Q.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:Q.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:Q.metaDataPadding},"icon-container":{display:"inline-block",width:Q.iconContainerWidth},tooltip:{padding:Q.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:Oe.editVariable.removeIcon,cursor:Q.iconCursor,fontSize:Q.iconFontSize,marginRight:Q.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:Oe.editVariable.addIcon,cursor:Q.iconCursor,fontSize:Q.iconFontSize,marginRight:Q.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:Oe.editVariable.editIcon,cursor:Q.iconCursor,fontSize:Q.iconFontSize,marginRight:Q.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:Q.iconCursor,color:Oe.editVariable.checkIcon,fontSize:Q.iconFontSize,paddingRight:Q.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:Q.iconCursor,color:Oe.editVariable.cancelIcon,fontSize:Q.iconFontSize,paddingRight:Q.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:Q.editInputMinWidth,borderRadius:Q.editInputBorderRadius,backgroundColor:Oe.editVariable.background,color:Oe.editVariable.color,padding:Q.editInputPadding,marginRight:Q.editInputMarginRight,fontFamily:Q.editInputFontFamily},"detected-row":{paddingTop:Q.detectedRowPaddingTop},"key-modal-request":{position:Q.addKeyCoverPosition,top:Q.addKeyCoverPositionPx,left:Q.addKeyCoverPositionPx,right:Q.addKeyCoverPositionPx,bottom:Q.addKeyCoverPositionPx,backgroundColor:Q.addKeyCoverBackground},"key-modal":{width:Q.addKeyModalWidth,backgroundColor:Oe.addKeyModal.background,marginLeft:Q.addKeyModalMargin,marginRight:Q.addKeyModalMargin,padding:Q.addKeyModalPadding,borderRadius:Q.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:Oe.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:Oe.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:Oe.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:Oe.addKeyModal.labelColor,fontSize:Q.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:Oe.editVariable.addIcon,fontSize:Q.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:Oe.ellipsisColor,fontSize:Q.ellipsisFontSize,lineHeight:Q.ellipsisLineHeight,cursor:Q.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:Oe.validationFailure.fontColor,backgroundColor:Oe.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:Oe.validationFailure.iconColor,fontSize:Q.iconFontSize,transform:"rotate(45deg)"}}};function Ee(we,Oe,ge){return we||console.error("theme has not been set"),function(Re){var Be=se;return Re!==!1&&Re!=="none"||(Be=oe),Object(ae.createStyling)(he,{defaultBase16:Be})(Re)}(we)(Oe,ge)}var De=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=(Re.rjvId,Re.type_name),_t=Re.displayDataTypes,At=Re.theme;return _t?R.a.createElement("span",Object.assign({className:"data-type-label"},Ee(At,"data-type-label")),Be):null}}]),ge}(R.a.PureComponent),qe=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props;return R.a.createElement("div",Ee(Re.theme,"boolean"),R.a.createElement(De,Object.assign({type_name:"bool"},Re)),Re.value?"true":"false")}}]),ge}(R.a.PureComponent),_e=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props;return R.a.createElement("div",Ee(Re.theme,"date"),R.a.createElement(De,Object.assign({type_name:"date"},Re)),R.a.createElement("span",Object.assign({className:"date-value"},Ee(Re.theme,"date-value")),Re.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),ge}(R.a.PureComponent),xe=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props;return R.a.createElement("div",Ee(Re.theme,"float"),R.a.createElement(De,Object.assign({type_name:"float"},Re)),this.props.value)}}]),ge}(R.a.PureComponent);function Se(we,Oe){(Oe==null||Oe>we.length)&&(Oe=we.length);for(var ge=0,Re=new Array(Oe);ge<Oe;ge++)Re[ge]=we[ge];return Re}function Ie(we,Oe){if(we){if(typeof we=="string")return Se(we,Oe);var ge=Object.prototype.toString.call(we).slice(8,-1);return ge==="Object"&&we.constructor&&(ge=we.constructor.name),ge==="Map"||ge==="Set"?Array.from(we):ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge)?Se(we,Oe):void 0}}function Ye(we,Oe){var ge;if(typeof Symbol=="undefined"||we[Symbol.iterator]==null){if(Array.isArray(we)||(ge=Ie(we))||Oe&&we&&typeof we.length=="number"){ge&&(we=ge);var Re=0,Be=function(){};return{s:Be,n:function(){return Re>=we.length?{done:!0}:{done:!1,value:we[Re++]}},e:function(yt){throw yt},f:Be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _t,At=!0,Lt=!1;return{s:function(){ge=we[Symbol.iterator]()},n:function(){var yt=ge.next();return At=yt.done,yt},e:function(yt){Lt=!0,_t=yt},f:function(){try{At||ge.return==null||ge.return()}finally{if(Lt)throw _t}}}}function Le(we){return function(Oe){if(Array.isArray(Oe))return Se(Oe)}(we)||function(Oe){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Oe))return Array.from(Oe)}(we)||Ie(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Nt=s(46),pt=new(s(47)).Dispatcher,ze=new(function(we){E(ge,we);var Oe=D(ge);function ge(){var Re;h(this,ge);for(var Be=arguments.length,_t=new Array(Be),At=0;At<Be;At++)_t[At]=arguments[At];return(Re=Oe.call.apply(Oe,[this].concat(_t))).objects={},Re.set=function(Lt,yt,qt,Rn){Re.objects[Lt]===void 0&&(Re.objects[Lt]={}),Re.objects[Lt][yt]===void 0&&(Re.objects[Lt][yt]={}),Re.objects[Lt][yt][qt]=Rn},Re.get=function(Lt,yt,qt,Rn){return Re.objects[Lt]===void 0||Re.objects[Lt][yt]===void 0||Re.objects[Lt][yt][qt]==null?Rn:Re.objects[Lt][yt][qt]},Re.handleAction=function(Lt){var yt=Lt.rjvId,qt=Lt.data;switch(Lt.name){case"RESET":Re.emit("reset-"+yt);break;case"VARIABLE_UPDATED":Lt.data.updated_src=Re.updateSrc(yt,qt),Re.set(yt,"action","variable-update",d(d({},qt),{},{type:"variable-edited"})),Re.emit("variable-update-"+yt);break;case"VARIABLE_REMOVED":Lt.data.updated_src=Re.updateSrc(yt,qt),Re.set(yt,"action","variable-update",d(d({},qt),{},{type:"variable-removed"})),Re.emit("variable-update-"+yt);break;case"VARIABLE_ADDED":Lt.data.updated_src=Re.updateSrc(yt,qt),Re.set(yt,"action","variable-update",d(d({},qt),{},{type:"variable-added"})),Re.emit("variable-update-"+yt);break;case"ADD_VARIABLE_KEY_REQUEST":Re.set(yt,"action","new-key-request",qt),Re.emit("add-key-request-"+yt)}},Re.updateSrc=function(Lt,yt){var qt=yt.name,Rn=yt.namespace,Bn=yt.new_value,dr=(yt.existing_value,yt.variable_removed);Rn.shift();var Mr,rr=Re.get(Lt,"global","src"),Or=Re.deepCopy(rr,Le(Rn)),ei=Or,Qn=Ye(Rn);try{for(Qn.s();!(Mr=Qn.n()).done;)ei=ei[Mr.value]}catch(Sn){Qn.e(Sn)}finally{Qn.f()}return dr?ie(ei)=="array"?ei.splice(qt,1):delete ei[qt]:qt!==null?ei[qt]=Bn:Or=Bn,Re.set(Lt,"global","src",Or),Or},Re.deepCopy=function(Lt,yt){var qt,Rn=ie(Lt),Bn=yt.shift();return Rn=="array"?qt=Le(Lt):Rn=="object"&&(qt=d({},Lt)),Bn!==void 0&&(qt[Bn]=Re.deepCopy(Lt[Bn],yt)),qt},Re}return ge}(Nt.EventEmitter));pt.register(ze.handleAction.bind(ze));var nt=ze,me=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;return h(this,ge),(Be=Oe.call(this,Re)).toggleCollapsed=function(){Be.setState({collapsed:!Be.state.collapsed},function(){nt.set(Be.props.rjvId,Be.props.namespace,"collapsed",Be.state.collapsed)})},Be.getFunctionDisplay=function(_t){var At=M(Be).props;return _t?R.a.createElement("span",null,Be.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),R.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},R.a.createElement("span",null,"{"),R.a.createElement("span",Ee(At.theme,"ellipsis"),"..."),R.a.createElement("span",null,"}"))):Be.props.value.toString().slice(9,-1)},Be.state={collapsed:nt.get(Re.rjvId,Re.namespace,"collapsed",!0)},Be}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=this.state.collapsed;return R.a.createElement("div",Ee(Re.theme,"function"),R.a.createElement(De,Object.assign({type_name:"function"},Re)),R.a.createElement("span",Object.assign({},Ee(Re.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(Be)))}}]),ge}(R.a.PureComponent),ut=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){return R.a.createElement("div",Ee(this.props.theme,"nan"),"NaN")}}]),ge}(R.a.PureComponent),Ve=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){return R.a.createElement("div",Ee(this.props.theme,"null"),"NULL")}}]),ge}(R.a.PureComponent),dt=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props;return R.a.createElement("div",Ee(Re.theme,"integer"),R.a.createElement(De,Object.assign({type_name:"int"},Re)),this.props.value)}}]),ge}(R.a.PureComponent),ot=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props;return R.a.createElement("div",Ee(Re.theme,"regexp"),R.a.createElement(De,Object.assign({type_name:"regexp"},Re)),this.props.value.toString())}}]),ge}(R.a.PureComponent),Ze=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;return h(this,ge),(Be=Oe.call(this,Re)).toggleCollapsed=function(){Be.setState({collapsed:!Be.state.collapsed},function(){nt.set(Be.props.rjvId,Be.props.namespace,"collapsed",Be.state.collapsed)})},Be.state={collapsed:nt.get(Re.rjvId,Re.namespace,"collapsed",!0)},Be}return v(ge,[{key:"render",value:function(){this.state.collapsed;var Re=this.props,Be=Re.collapseStringsAfterLength,_t=Re.theme,At=Re.value,Lt={style:{cursor:"default"}};return ie(Be)==="integer"&&At.length>Be&&(Lt.style.cursor="pointer",this.state.collapsed&&(At=R.a.createElement("span",null,At.substring(0,Be),R.a.createElement("span",Ee(_t,"ellipsis")," ...")))),R.a.createElement("div",Ee(_t,"string"),R.a.createElement(De,Object.assign({type_name:"string"},Re)),R.a.createElement("span",Object.assign({className:"string-value"},Lt,{onClick:this.toggleCollapsed}),'"',At,'"'))}}]),ge}(R.a.PureComponent),kt=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){return R.a.createElement("div",Ee(this.props.theme,"undefined"),"undefined")}}]),ge}(R.a.PureComponent);function ln(){return(ln=Object.assign||function(we){for(var Oe=1;Oe<arguments.length;Oe++){var ge=arguments[Oe];for(var Re in ge)Object.prototype.hasOwnProperty.call(ge,Re)&&(we[Re]=ge[Re])}return we}).apply(this,arguments)}var Ht=U.useLayoutEffect,nn=function(we){var Oe=Object(U.useRef)(we);return Ht(function(){Oe.current=we}),Oe},qn=function(we,Oe){typeof we!="function"?we.current=Oe:we(Oe)},_n=function(we,Oe){var ge=Object(U.useRef)();return Object(U.useCallback)(function(Re){we.current=Re,ge.current&&qn(ge.current,null),ge.current=Oe,Oe&&qn(Oe,Re)},[Oe])},rn={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Yt=function(we){Object.keys(rn).forEach(function(Oe){we.style.setProperty(Oe,rn[Oe],"important")})},gn=null,cn=function(){},Et=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],it=!!document.documentElement.currentStyle,Qe=function(we,Oe){var ge=we.cacheMeasurements,Re=we.maxRows,Be=we.minRows,_t=we.onChange,At=_t===void 0?cn:_t,Lt=we.onHeightChange,yt=Lt===void 0?cn:Lt,qt=function(Qn,Sn){if(Qn==null)return{};var gr,or,fn={},_r=Object.keys(Qn);for(or=0;or<_r.length;or++)gr=_r[or],Sn.indexOf(gr)>=0||(fn[gr]=Qn[gr]);return fn}(we,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),Rn,Bn=qt.value!==void 0,dr=Object(U.useRef)(null),Mr=_n(dr,Oe),rr=Object(U.useRef)(0),Or=Object(U.useRef)(),ei=function(){var Qn=dr.current,Sn=ge&&Or.current?Or.current:function(_r){var Fe=window.getComputedStyle(_r);if(Fe===null)return null;var fi,gt=(fi=Fe,Et.reduce(function(cs,Ps){return cs[Ps]=fi[Ps],cs},{})),qi=gt.boxSizing;return qi===""?null:(it&&qi==="border-box"&&(gt.width=parseFloat(gt.width)+parseFloat(gt.borderRightWidth)+parseFloat(gt.borderLeftWidth)+parseFloat(gt.paddingRight)+parseFloat(gt.paddingLeft)+"px"),{sizingStyle:gt,paddingSize:parseFloat(gt.paddingBottom)+parseFloat(gt.paddingTop),borderSize:parseFloat(gt.borderBottomWidth)+parseFloat(gt.borderTopWidth)})}(Qn);if(Sn){Or.current=Sn;var gr=function(_r,Fe,fi,gt){fi===void 0&&(fi=1),gt===void 0&&(gt=1/0),gn||((gn=document.createElement("textarea")).setAttribute("tab-index","-1"),gn.setAttribute("aria-hidden","true"),Yt(gn)),gn.parentNode===null&&document.body.appendChild(gn);var qi=_r.paddingSize,cs=_r.borderSize,Ps=_r.sizingStyle,Jo=Ps.boxSizing;Object.keys(Ps).forEach(function(hr){var xs=hr;gn.style[xs]=Ps[xs]}),Yt(gn),gn.value=Fe;var No=function(hr,xs){var Bo=hr.scrollHeight;return xs.sizingStyle.boxSizing==="border-box"?Bo+xs.borderSize:Bo-xs.paddingSize}(gn,_r);gn.value="x";var Qo=gn.scrollHeight-qi,xi=Qo*fi;Jo==="border-box"&&(xi=xi+qi+cs),No=Math.max(xi,No);var Ss=Qo*gt;return Jo==="border-box"&&(Ss=Ss+qi+cs),[No=Math.min(Ss,No),Qo]}(Sn,Qn.value||Qn.placeholder||"x",Be,Re),or=gr[0],fn=gr[1];rr.current!==or&&(rr.current=or,Qn.style.setProperty("height",or+"px","important"),yt(or,{rowHeight:fn}))}};return Object(U.useLayoutEffect)(ei),Rn=nn(ei),Object(U.useLayoutEffect)(function(){var Qn=function(Sn){Rn.current(Sn)};return window.addEventListener("resize",Qn),function(){window.removeEventListener("resize",Qn)}},[]),Object(U.createElement)("textarea",ln({},qt,{onChange:function(Qn){Bn||ei(),At(Qn)},ref:Mr}))},Pt=Object(U.forwardRef)(Qe);function St(we){we=we.trim();try{if((we=JSON.stringify(JSON.parse(we)))[0]==="[")return Ut("array",JSON.parse(we));if(we[0]==="{")return Ut("object",JSON.parse(we));if(we.match(/\-?\d+\.\d+/)&&we.match(/\-?\d+\.\d+/)[0]===we)return Ut("float",parseFloat(we));if(we.match(/\-?\d+e-\d+/)&&we.match(/\-?\d+e-\d+/)[0]===we)return Ut("float",Number(we));if(we.match(/\-?\d+/)&&we.match(/\-?\d+/)[0]===we)return Ut("integer",parseInt(we));if(we.match(/\-?\d+e\+\d+/)&&we.match(/\-?\d+e\+\d+/)[0]===we)return Ut("integer",Number(we))}catch{}switch(we=we.toLowerCase()){case"undefined":return Ut("undefined",void 0);case"nan":return Ut("nan",NaN);case"null":return Ut("null",null);case"true":return Ut("boolean",!0);case"false":return Ut("boolean",!1);default:if(we=Date.parse(we))return Ut("date",new Date(we))}return Ut(!1,null)}function Ut(we,Oe){return{type:we,value:Oe}}var tn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),ge}(R.a.PureComponent),Pn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),ge}(R.a.PureComponent),yn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]),At=an(Be).style;return R.a.createElement("span",_t,R.a.createElement("svg",{fill:At.color,width:At.height,height:At.width,style:At,viewBox:"0 0 1792 1792"},R.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),ge}(R.a.PureComponent),Yn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]),At=an(Be).style;return R.a.createElement("span",_t,R.a.createElement("svg",{fill:At.color,width:At.height,height:At.width,style:At,viewBox:"0 0 1792 1792"},R.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),ge}(R.a.PureComponent),un=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",{style:d(d({},an(Be).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},R.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),ge}(R.a.PureComponent),vn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",{style:d(d({},an(Be).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},R.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),ge}(R.a.PureComponent),sn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("g",null,R.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),ge}(R.a.PureComponent),zn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("g",null,R.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),ge}(R.a.PureComponent),Un=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("g",null,R.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),ge}(R.a.PureComponent),nr=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("g",null,R.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),ge}(R.a.PureComponent),Dn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("g",null,R.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),ge}(R.a.PureComponent),Vn=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.style,_t=Z(Re,["style"]);return R.a.createElement("span",_t,R.a.createElement("svg",Object.assign({},an(Be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),R.a.createElement("g",null,R.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),ge}(R.a.PureComponent);function an(we){return we||(we={}),{style:d(d({verticalAlign:"middle"},we),{},{color:we.color?we.color:"#000000",height:"1em",width:"1em"})}}var Gn=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;return h(this,ge),(Be=Oe.call(this,Re)).copiedTimer=null,Be.handleCopy=function(){var _t=document.createElement("textarea"),At=Be.props,Lt=At.clickCallback,yt=At.src,qt=At.namespace;_t.innerHTML=JSON.stringify(Be.clipboardValue(yt),null,"  "),document.body.appendChild(_t),_t.select(),document.execCommand("copy"),document.body.removeChild(_t),Be.copiedTimer=setTimeout(function(){Be.setState({copied:!1})},5500),Be.setState({copied:!0},function(){typeof Lt=="function"&&Lt({src:yt,namespace:qt,name:qt[qt.length-1]})})},Be.getClippyIcon=function(){var _t=Be.props.theme;return Be.state.copied?R.a.createElement("span",null,R.a.createElement(sn,Object.assign({className:"copy-icon"},Ee(_t,"copy-icon"))),R.a.createElement("span",Ee(_t,"copy-icon-copied"),"\u2714")):R.a.createElement(sn,Object.assign({className:"copy-icon"},Ee(_t,"copy-icon")))},Be.clipboardValue=function(_t){switch(ie(_t)){case"function":case"regexp":return _t.toString();default:return _t}},Be.state={copied:!1},Be}return v(ge,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var Re=this.props,Be=(Re.src,Re.theme),_t=Re.hidden,At=Re.rowHovered,Lt=Ee(Be,"copy-to-clipboard").style,yt="inline";return _t&&(yt="none"),R.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:At?"inline-block":"none"}},R.a.createElement("span",{style:d(d({},Lt),{},{display:yt}),onClick:this.handleCopy},this.getClippyIcon()))}}]),ge}(R.a.PureComponent),Kt=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;return h(this,ge),(Be=Oe.call(this,Re)).getEditIcon=function(){var _t=Be.props,At=_t.variable,Lt=_t.theme;return R.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:Be.state.hovered?"inline-block":"none"}},R.a.createElement(Dn,Object.assign({className:"click-to-edit-icon"},Ee(Lt,"editVarIcon"),{onClick:function(){Be.prepopInput(At)}})))},Be.prepopInput=function(_t){if(Be.props.onEdit!==!1){var At=function(yt){var qt;switch(ie(yt)){case"undefined":qt="undefined";break;case"nan":qt="NaN";break;case"string":qt=yt;break;case"date":case"function":case"regexp":qt=yt.toString();break;default:try{qt=JSON.stringify(yt,null,"  ")}catch{qt=""}}return qt}(_t.value),Lt=St(At);Be.setState({editMode:!0,editValue:At,parsedInput:{type:Lt.type,value:Lt.value}})}},Be.getRemoveIcon=function(){var _t=Be.props,At=_t.variable,Lt=_t.namespace,yt=_t.theme,qt=_t.rjvId;return R.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:Be.state.hovered?"inline-block":"none"}},R.a.createElement(zn,Object.assign({className:"click-to-remove-icon"},Ee(yt,"removeVarIcon"),{onClick:function(){pt.dispatch({name:"VARIABLE_REMOVED",rjvId:qt,data:{name:At.name,namespace:Lt,existing_value:At.value,variable_removed:!0}})}})))},Be.getValue=function(_t,At){var Lt=!At&&_t.type,yt=M(Be).props;switch(Lt){case!1:return Be.getEditInput();case"string":return R.a.createElement(Ze,Object.assign({value:_t.value},yt));case"integer":return R.a.createElement(dt,Object.assign({value:_t.value},yt));case"float":return R.a.createElement(xe,Object.assign({value:_t.value},yt));case"boolean":return R.a.createElement(qe,Object.assign({value:_t.value},yt));case"function":return R.a.createElement(me,Object.assign({value:_t.value},yt));case"null":return R.a.createElement(Ve,yt);case"nan":return R.a.createElement(ut,yt);case"undefined":return R.a.createElement(kt,yt);case"date":return R.a.createElement(_e,Object.assign({value:_t.value},yt));case"regexp":return R.a.createElement(ot,Object.assign({value:_t.value},yt));default:return R.a.createElement("div",{className:"object-value"},JSON.stringify(_t.value))}},Be.getEditInput=function(){var _t=Be.props.theme,At=Be.state.editValue;return R.a.createElement("div",null,R.a.createElement(Pt,Object.assign({type:"text",inputRef:function(Lt){return Lt&&Lt.focus()},value:At,className:"variable-editor",onChange:function(Lt){var yt=Lt.target.value,qt=St(yt);Be.setState({editValue:yt,parsedInput:{type:qt.type,value:qt.value}})},onKeyDown:function(Lt){switch(Lt.key){case"Escape":Be.setState({editMode:!1,editValue:""});break;case"Enter":(Lt.ctrlKey||Lt.metaKey)&&Be.submitEdit(!0)}Lt.stopPropagation()},placeholder:"update this value",minRows:2},Ee(_t,"edit-input"))),R.a.createElement("div",Ee(_t,"edit-icon-container"),R.a.createElement(zn,Object.assign({className:"edit-cancel"},Ee(_t,"cancel-icon"),{onClick:function(){Be.setState({editMode:!1,editValue:""})}})),R.a.createElement(Vn,Object.assign({className:"edit-check string-value"},Ee(_t,"check-icon"),{onClick:function(){Be.submitEdit()}})),R.a.createElement("div",null,Be.showDetected())))},Be.submitEdit=function(_t){var At=Be.props,Lt=At.variable,yt=At.namespace,qt=At.rjvId,Rn=Be.state,Bn=Rn.editValue,dr=Rn.parsedInput,Mr=Bn;_t&&dr.type&&(Mr=dr.value),Be.setState({editMode:!1}),pt.dispatch({name:"VARIABLE_UPDATED",rjvId:qt,data:{name:Lt.name,namespace:yt,existing_value:Lt.value,new_value:Mr,variable_removed:!1}})},Be.showDetected=function(){var _t=Be.props,At=_t.theme,Lt=(_t.variable,_t.namespace,_t.rjvId,Be.state.parsedInput),yt=(Lt.type,Lt.value,Be.getDetectedInput());if(yt)return R.a.createElement("div",null,R.a.createElement("div",Ee(At,"detected-row"),yt,R.a.createElement(Vn,{className:"edit-check detected",style:d({verticalAlign:"top",paddingLeft:"3px"},Ee(At,"check-icon").style),onClick:function(){Be.submitEdit(!0)}})))},Be.getDetectedInput=function(){var _t=Be.state.parsedInput,At=_t.type,Lt=_t.value,yt=M(Be).props,qt=yt.theme;if(At!==!1)switch(At.toLowerCase()){case"object":return R.a.createElement("span",null,R.a.createElement("span",{style:d(d({},Ee(qt,"brace").style),{},{cursor:"default"})},"{"),R.a.createElement("span",{style:d(d({},Ee(qt,"ellipsis").style),{},{cursor:"default"})},"..."),R.a.createElement("span",{style:d(d({},Ee(qt,"brace").style),{},{cursor:"default"})},"}"));case"array":return R.a.createElement("span",null,R.a.createElement("span",{style:d(d({},Ee(qt,"brace").style),{},{cursor:"default"})},"["),R.a.createElement("span",{style:d(d({},Ee(qt,"ellipsis").style),{},{cursor:"default"})},"..."),R.a.createElement("span",{style:d(d({},Ee(qt,"brace").style),{},{cursor:"default"})},"]"));case"string":return R.a.createElement(Ze,Object.assign({value:Lt},yt));case"integer":return R.a.createElement(dt,Object.assign({value:Lt},yt));case"float":return R.a.createElement(xe,Object.assign({value:Lt},yt));case"boolean":return R.a.createElement(qe,Object.assign({value:Lt},yt));case"function":return R.a.createElement(me,Object.assign({value:Lt},yt));case"null":return R.a.createElement(Ve,yt);case"nan":return R.a.createElement(ut,yt);case"undefined":return R.a.createElement(kt,yt);case"date":return R.a.createElement(_e,Object.assign({value:new Date(Lt)},yt))}},Be.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},Be}return v(ge,[{key:"render",value:function(){var Re=this,Be=this.props,_t=Be.variable,At=Be.singleIndent,Lt=Be.type,yt=Be.theme,qt=Be.namespace,Rn=Be.indentWidth,Bn=Be.enableClipboard,dr=Be.onEdit,Mr=Be.onDelete,rr=Be.onSelect,Or=Be.displayArrayKey,ei=Be.quotesOnKeys,Qn=this.state.editMode;return R.a.createElement("div",Object.assign({},Ee(yt,"objectKeyVal",{paddingLeft:Rn*At}),{onMouseEnter:function(){return Re.setState(d(d({},Re.state),{},{hovered:!0}))},onMouseLeave:function(){return Re.setState(d(d({},Re.state),{},{hovered:!1}))},className:"variable-row",key:_t.name}),Lt=="array"?Or?R.a.createElement("span",Object.assign({},Ee(yt,"array-key"),{key:_t.name+"_"+qt}),_t.name,R.a.createElement("div",Ee(yt,"colon"),":")):null:R.a.createElement("span",null,R.a.createElement("span",Object.assign({},Ee(yt,"object-name"),{className:"object-key",key:_t.name+"_"+qt}),!!ei&&R.a.createElement("span",{style:{verticalAlign:"top"}},'"'),R.a.createElement("span",{style:{display:"inline-block"}},_t.name),!!ei&&R.a.createElement("span",{style:{verticalAlign:"top"}},'"')),R.a.createElement("span",Ee(yt,"colon"),":")),R.a.createElement("div",Object.assign({className:"variable-value",onClick:rr===!1&&dr===!1?null:function(Sn){var gr=Le(qt);(Sn.ctrlKey||Sn.metaKey)&&dr!==!1?Re.prepopInput(_t):rr!==!1&&(gr.shift(),rr(d(d({},_t),{},{namespace:gr})))}},Ee(yt,"variableValue",{cursor:rr===!1?"default":"pointer"})),this.getValue(_t,Qn)),Bn?R.a.createElement(Gn,{rowHovered:this.state.hovered,hidden:Qn,src:_t.value,clickCallback:Bn,theme:yt,namespace:[].concat(Le(qt),[_t.name])}):null,dr!==!1&&Qn==0?this.getEditIcon():null,Mr!==!1&&Qn==0?this.getRemoveIcon():null)}}]),ge}(R.a.PureComponent),mn=function(we){E(ge,we);var Oe=D(ge);function ge(){var Re;h(this,ge);for(var Be=arguments.length,_t=new Array(Be),At=0;At<Be;At++)_t[At]=arguments[At];return(Re=Oe.call.apply(Oe,[this].concat(_t))).getObjectSize=function(){var Lt=Re.props,yt=Lt.size,qt=Lt.theme;if(Lt.displayObjectSize)return R.a.createElement("span",Object.assign({className:"object-size"},Ee(qt,"object-size")),yt," item",yt===1?"":"s")},Re.getAddAttribute=function(Lt){var yt=Re.props,qt=yt.theme,Rn=yt.namespace,Bn=yt.name,dr=yt.src,Mr=yt.rjvId,rr=yt.depth;return R.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:Lt?"inline-block":"none"}},R.a.createElement(Un,Object.assign({className:"click-to-add-icon"},Ee(qt,"addVarIcon"),{onClick:function(){var Or={name:rr>0?Bn:null,namespace:Rn.splice(0,Rn.length-1),existing_value:dr,variable_removed:!1,key_name:null};ie(dr)==="object"?pt.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:Mr,data:Or}):pt.dispatch({name:"VARIABLE_ADDED",rjvId:Mr,data:d(d({},Or),{},{new_value:[].concat(Le(dr),[null])})})}})))},Re.getRemoveObject=function(Lt){var yt=Re.props,qt=yt.theme,Rn=(yt.hover,yt.namespace),Bn=yt.name,dr=yt.src,Mr=yt.rjvId;if(Rn.length!==1)return R.a.createElement("span",{className:"click-to-remove",style:{display:Lt?"inline-block":"none"}},R.a.createElement(zn,Object.assign({className:"click-to-remove-icon"},Ee(qt,"removeVarIcon"),{onClick:function(){pt.dispatch({name:"VARIABLE_REMOVED",rjvId:Mr,data:{name:Bn,namespace:Rn.splice(0,Rn.length-1),existing_value:dr,variable_removed:!0}})}})))},Re.render=function(){var Lt=Re.props,yt=Lt.theme,qt=Lt.onDelete,Rn=Lt.onAdd,Bn=Lt.enableClipboard,dr=Lt.src,Mr=Lt.namespace,rr=Lt.rowHovered;return R.a.createElement("div",Object.assign({},Ee(yt,"object-meta-data"),{className:"object-meta-data",onClick:function(Or){Or.stopPropagation()}}),Re.getObjectSize(),Bn?R.a.createElement(Gn,{rowHovered:rr,clickCallback:Bn,src:dr,theme:yt,namespace:Mr}):null,Rn!==!1?Re.getAddAttribute(rr):null,qt!==!1?Re.getRemoveObject(rr):null)},Re}return ge}(R.a.PureComponent);function en(we){var Oe=we.parent_type,ge=we.namespace,Re=we.quotesOnKeys,Be=we.theme,_t=we.jsvRoot,At=we.name,Lt=we.displayArrayKey,yt=we.name?we.name:"";return!_t||At!==!1&&At!==null?Oe=="array"?Lt?R.a.createElement("span",Object.assign({},Ee(Be,"array-key"),{key:ge}),R.a.createElement("span",{className:"array-key"},yt),R.a.createElement("span",Ee(Be,"colon"),":")):R.a.createElement("span",null):R.a.createElement("span",Object.assign({},Ee(Be,"object-name"),{key:ge}),R.a.createElement("span",{className:"object-key"},Re&&R.a.createElement("span",{style:{verticalAlign:"top"}},'"'),R.a.createElement("span",null,yt),Re&&R.a.createElement("span",{style:{verticalAlign:"top"}},'"')),R.a.createElement("span",Ee(Be,"colon"),":")):R.a.createElement("span",null)}function pn(we){var Oe=we.theme;switch(we.iconStyle){case"triangle":return R.a.createElement(vn,Object.assign({},Ee(Oe,"expanded-icon"),{className:"expanded-icon"}));case"square":return R.a.createElement(yn,Object.assign({},Ee(Oe,"expanded-icon"),{className:"expanded-icon"}));default:return R.a.createElement(tn,Object.assign({},Ee(Oe,"expanded-icon"),{className:"expanded-icon"}))}}function Nn(we){var Oe=we.theme;switch(we.iconStyle){case"triangle":return R.a.createElement(un,Object.assign({},Ee(Oe,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return R.a.createElement(Yn,Object.assign({},Ee(Oe,"collapsed-icon"),{className:"collapsed-icon"}));default:return R.a.createElement(Pn,Object.assign({},Ee(Oe,"collapsed-icon"),{className:"collapsed-icon"}))}}var Hn=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;return h(this,ge),(Be=Oe.call(this,Re)).toggleCollapsed=function(_t){var At=[];for(var Lt in Be.state.expanded)At.push(Be.state.expanded[Lt]);At[_t]=!At[_t],Be.setState({expanded:At})},Be.state={expanded:[]},Be}return v(ge,[{key:"getExpandedIcon",value:function(Re){var Be=this.props,_t=Be.theme,At=Be.iconStyle;return this.state.expanded[Re]?R.a.createElement(pn,{theme:_t,iconStyle:At}):R.a.createElement(Nn,{theme:_t,iconStyle:At})}},{key:"render",value:function(){var Re=this,Be=this.props,_t=Be.src,At=Be.groupArraysAfterLength,Lt=(Be.depth,Be.name),yt=Be.theme,qt=Be.jsvRoot,Rn=Be.namespace,Bn=(Be.parent_type,Z(Be,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),dr=0,Mr=5*this.props.indentWidth;qt||(dr=5*this.props.indentWidth);var rr=At,Or=Math.ceil(_t.length/rr);return R.a.createElement("div",Object.assign({className:"object-key-val"},Ee(yt,qt?"jsv-root":"objectKeyVal",{paddingLeft:dr})),R.a.createElement(en,this.props),R.a.createElement("span",null,R.a.createElement(mn,Object.assign({size:_t.length},this.props))),Le(Array(Or)).map(function(ei,Qn){return R.a.createElement("div",Object.assign({key:Qn,className:"object-key-val array-group"},Ee(yt,"objectKeyVal",{marginLeft:6,paddingLeft:Mr})),R.a.createElement("span",Ee(yt,"brace-row"),R.a.createElement("div",Object.assign({className:"icon-container"},Ee(yt,"icon-container"),{onClick:function(Sn){Re.toggleCollapsed(Qn)}}),Re.getExpandedIcon(Qn)),Re.state.expanded[Qn]?R.a.createElement(Jn,Object.assign({key:Lt+Qn,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:rr,index_offset:Qn*rr,src:_t.slice(Qn*rr,Qn*rr+rr),namespace:Rn,type:"array",parent_type:"array_group",theme:yt},Bn)):R.a.createElement("span",Object.assign({},Ee(yt,"brace"),{onClick:function(Sn){Re.toggleCollapsed(Qn)},className:"array-group-brace"}),"[",R.a.createElement("div",Object.assign({},Ee(yt,"array-group-meta-data"),{className:"array-group-meta-data"}),R.a.createElement("span",Object.assign({className:"object-size"},Ee(yt,"object-size")),Qn*rr," - ",Qn*rr+rr>_t.length?_t.length:Qn*rr+rr)),"]")))}))}}]),ge}(R.a.PureComponent),Cn=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;h(this,ge),(Be=Oe.call(this,Re)).toggleCollapsed=function(){Be.setState({expanded:!Be.state.expanded},function(){nt.set(Be.props.rjvId,Be.props.namespace,"expanded",Be.state.expanded)})},Be.getObjectContent=function(At,Lt,yt){return R.a.createElement("div",{className:"pushed-content object-container"},R.a.createElement("div",Object.assign({className:"object-content"},Ee(Be.props.theme,"pushed-content")),Be.renderObjectContents(Lt,yt)))},Be.getEllipsis=function(){return Be.state.size===0?null:R.a.createElement("div",Object.assign({},Ee(Be.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:Be.toggleCollapsed}),"...")},Be.getObjectMetaData=function(At){var Lt=Be.props,yt=(Lt.rjvId,Lt.theme,Be.state),qt=yt.size,Rn=yt.hovered;return R.a.createElement(mn,Object.assign({rowHovered:Rn,size:qt},Be.props))},Be.renderObjectContents=function(At,Lt){var yt,qt=Be.props,Rn=qt.depth,Bn=qt.parent_type,dr=qt.index_offset,Mr=qt.groupArraysAfterLength,rr=qt.namespace,Or=Be.state.object_type,ei=[],Qn=Object.keys(At||{});return Be.props.sortKeys&&Or!=="array"&&(Qn=Qn.sort()),Qn.forEach(function(Sn){if(yt=new tr(Sn,At[Sn]),Bn==="array_group"&&dr&&(yt.name=parseInt(yt.name)+dr),At.hasOwnProperty(Sn))if(yt.type==="object")ei.push(R.a.createElement(Jn,Object.assign({key:yt.name,depth:Rn+1,name:yt.name,src:yt.value,namespace:rr.concat(yt.name),parent_type:Or},Lt)));else if(yt.type==="array"){var gr=Jn;Mr&&yt.value.length>Mr&&(gr=Hn),ei.push(R.a.createElement(gr,Object.assign({key:yt.name,depth:Rn+1,name:yt.name,src:yt.value,namespace:rr.concat(yt.name),type:"array",parent_type:Or},Lt)))}else ei.push(R.a.createElement(Kt,Object.assign({key:yt.name+"_"+rr,variable:yt,singleIndent:5,namespace:rr,type:Be.props.type},Lt)))}),ei};var _t=ge.getState(Re);return Be.state=d(d({},_t),{},{prevProps:{}}),Be}return v(ge,[{key:"getBraceStart",value:function(Re,Be){var _t=this,At=this.props,Lt=At.src,yt=At.theme,qt=At.iconStyle;if(At.parent_type==="array_group")return R.a.createElement("span",null,R.a.createElement("span",Ee(yt,"brace"),Re==="array"?"[":"{"),Be?this.getObjectMetaData(Lt):null);var Rn=Be?pn:Nn;return R.a.createElement("span",null,R.a.createElement("span",Object.assign({onClick:function(Bn){_t.toggleCollapsed()}},Ee(yt,"brace-row")),R.a.createElement("div",Object.assign({className:"icon-container"},Ee(yt,"icon-container")),R.a.createElement(Rn,{theme:yt,iconStyle:qt})),R.a.createElement(en,this.props),R.a.createElement("span",Ee(yt,"brace"),Re==="array"?"[":"{")),Be?this.getObjectMetaData(Lt):null)}},{key:"render",value:function(){var Re=this,Be=this.props,_t=Be.depth,At=Be.src,Lt=(Be.namespace,Be.name,Be.type,Be.parent_type),yt=Be.theme,qt=Be.jsvRoot,Rn=Be.iconStyle,Bn=Z(Be,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),dr=this.state,Mr=dr.object_type,rr=dr.expanded,Or={};return qt||Lt==="array_group"?Lt==="array_group"&&(Or.borderLeft=0,Or.display="inline"):Or.paddingLeft=5*this.props.indentWidth,R.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return Re.setState(d(d({},Re.state),{},{hovered:!0}))},onMouseLeave:function(){return Re.setState(d(d({},Re.state),{},{hovered:!1}))}},Ee(yt,qt?"jsv-root":"objectKeyVal",Or)),this.getBraceStart(Mr,rr),rr?this.getObjectContent(_t,At,d({theme:yt,iconStyle:Rn},Bn)):this.getEllipsis(),R.a.createElement("span",{className:"brace-row"},R.a.createElement("span",{style:d(d({},Ee(yt,"brace").style),{},{paddingLeft:rr?"3px":"0px"})},Mr==="array"?"]":"}"),rr?null:this.getObjectMetaData(At)))}}],[{key:"getDerivedStateFromProps",value:function(Re,Be){var _t=Be.prevProps;return Re.src!==_t.src||Re.collapsed!==_t.collapsed||Re.name!==_t.name||Re.namespace!==_t.namespace||Re.rjvId!==_t.rjvId?d(d({},ge.getState(Re)),{},{prevProps:Re}):null}}]),ge}(R.a.PureComponent);Cn.getState=function(we){var Oe=Object.keys(we.src).length,ge=(we.collapsed===!1||we.collapsed!==!0&&we.collapsed>we.depth)&&(!we.shouldCollapse||we.shouldCollapse({name:we.name,src:we.src,type:ie(we.src),namespace:we.namespace})===!1)&&Oe!==0;return{expanded:nt.get(we.rjvId,we.namespace,"expanded",ge),object_type:we.type==="array"?"array":"object",parent_type:we.type==="array"?"array":"object",size:Oe,hovered:!1}};var tr=function we(Oe,ge){h(this,we),this.name=Oe,this.value=ge,this.type=ie(ge)};W(Cn);var Jn=Cn,Ii=function(we){E(ge,we);var Oe=D(ge);function ge(){var Re;h(this,ge);for(var Be=arguments.length,_t=new Array(Be),At=0;At<Be;At++)_t[At]=arguments[At];return(Re=Oe.call.apply(Oe,[this].concat(_t))).render=function(){var Lt=M(Re).props,yt=[Lt.name],qt=Jn;return Array.isArray(Lt.src)&&Lt.groupArraysAfterLength&&Lt.src.length>Lt.groupArraysAfterLength&&(qt=Hn),R.a.createElement("div",{className:"pretty-json-container object-container"},R.a.createElement("div",{className:"object-content"},R.a.createElement(qt,Object.assign({namespace:yt,depth:0,jsvRoot:!0},Lt))))},Re}return ge}(R.a.PureComponent),ce=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;return h(this,ge),(Be=Oe.call(this,Re)).closeModal=function(){pt.dispatch({rjvId:Be.props.rjvId,name:"RESET"})},Be.submit=function(){Be.props.submit(Be.state.input)},Be.state={input:Re.input?Re.input:""},Be}return v(ge,[{key:"render",value:function(){var Re=this,Be=this.props,_t=Be.theme,At=Be.rjvId,Lt=Be.isValid,yt=this.state.input,qt=Lt(yt);return R.a.createElement("div",Object.assign({className:"key-modal-request"},Ee(_t,"key-modal-request"),{onClick:this.closeModal}),R.a.createElement("div",Object.assign({},Ee(_t,"key-modal"),{onClick:function(Rn){Rn.stopPropagation()}}),R.a.createElement("div",Ee(_t,"key-modal-label"),"Key Name:"),R.a.createElement("div",{style:{position:"relative"}},R.a.createElement("input",Object.assign({},Ee(_t,"key-modal-input"),{className:"key-modal-input",ref:function(Rn){return Rn&&Rn.focus()},spellCheck:!1,value:yt,placeholder:"...",onChange:function(Rn){Re.setState({input:Rn.target.value})},onKeyPress:function(Rn){qt&&Rn.key==="Enter"?Re.submit():Rn.key==="Escape"&&Re.closeModal()}})),qt?R.a.createElement(Vn,Object.assign({},Ee(_t,"key-modal-submit"),{className:"key-modal-submit",onClick:function(Rn){return Re.submit()}})):null),R.a.createElement("span",Ee(_t,"key-modal-cancel"),R.a.createElement(nr,Object.assign({},Ee(_t,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){pt.dispatch({rjvId:At,name:"RESET"})}})))))}}]),ge}(R.a.PureComponent),be=function(we){E(ge,we);var Oe=D(ge);function ge(){var Re;h(this,ge);for(var Be=arguments.length,_t=new Array(Be),At=0;At<Be;At++)_t[At]=arguments[At];return(Re=Oe.call.apply(Oe,[this].concat(_t))).isValid=function(Lt){var yt=Re.props.rjvId,qt=nt.get(yt,"action","new-key-request");return Lt!=""&&Object.keys(qt.existing_value).indexOf(Lt)===-1},Re.submit=function(Lt){var yt=Re.props.rjvId,qt=nt.get(yt,"action","new-key-request");qt.new_value=d({},qt.existing_value),qt.new_value[Lt]=Re.props.defaultValue,pt.dispatch({name:"VARIABLE_ADDED",rjvId:yt,data:qt})},Re}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.active,_t=Re.theme,At=Re.rjvId;return Be?R.a.createElement(ce,{rjvId:At,theme:_t,isValid:this.isValid,submit:this.submit}):null}}]),ge}(R.a.PureComponent),Ke=function(we){E(ge,we);var Oe=D(ge);function ge(){return h(this,ge),Oe.apply(this,arguments)}return v(ge,[{key:"render",value:function(){var Re=this.props,Be=Re.message,_t=Re.active,At=Re.theme,Lt=Re.rjvId;return _t?R.a.createElement("div",Object.assign({className:"validation-failure"},Ee(At,"validation-failure"),{onClick:function(){pt.dispatch({rjvId:Lt,name:"RESET"})}}),R.a.createElement("span",Ee(At,"validation-failure-label"),Be),R.a.createElement(nr,Ee(At,"validation-failure-clear"))):null}}]),ge}(R.a.PureComponent),Bt=function(we){E(ge,we);var Oe=D(ge);function ge(Re){var Be;return h(this,ge),(Be=Oe.call(this,Re)).rjvId=Date.now().toString(),Be.getListeners=function(){return{reset:Be.resetState,"variable-update":Be.updateSrc,"add-key-request":Be.addKeyRequest}},Be.updateSrc=function(){var _t,At=nt.get(Be.rjvId,"action","variable-update"),Lt=At.name,yt=At.namespace,qt=At.new_value,Rn=At.existing_value,Bn=(At.variable_removed,At.updated_src),dr=At.type,Mr=Be.props,rr=Mr.onEdit,Or=Mr.onDelete,ei=Mr.onAdd,Qn={existing_src:Be.state.src,new_value:qt,updated_src:Bn,name:Lt,namespace:yt,existing_value:Rn};switch(dr){case"variable-added":_t=ei(Qn);break;case"variable-edited":_t=rr(Qn);break;case"variable-removed":_t=Or(Qn)}_t!==!1?(nt.set(Be.rjvId,"global","src",Bn),Be.setState({src:Bn})):Be.setState({validationFailure:!0})},Be.addKeyRequest=function(){Be.setState({addKeyRequest:!0})},Be.resetState=function(){Be.setState({validationFailure:!1,addKeyRequest:!1})},Be.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:ge.defaultProps.src,name:ge.defaultProps.name,theme:ge.defaultProps.theme,validationMessage:ge.defaultProps.validationMessage,prevSrc:ge.defaultProps.src,prevName:ge.defaultProps.name,prevTheme:ge.defaultProps.theme},Be}return v(ge,[{key:"componentDidMount",value:function(){nt.set(this.rjvId,"global","src",this.state.src);var Re=this.getListeners();for(var Be in Re)nt.on(Be+"-"+this.rjvId,Re[Be]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(Re,Be){Be.addKeyRequest!==!1&&this.setState({addKeyRequest:!1}),Be.editKeyRequest!==!1&&this.setState({editKeyRequest:!1}),Re.src!==this.state.src&&nt.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var Re=this.getListeners();for(var Be in Re)nt.removeListener(Be+"-"+this.rjvId,Re[Be])}},{key:"render",value:function(){var Re=this.state,Be=Re.validationFailure,_t=Re.validationMessage,At=Re.addKeyRequest,Lt=Re.theme,yt=Re.src,qt=Re.name,Rn=this.props,Bn=Rn.style,dr=Rn.defaultValue;return R.a.createElement("div",{className:"react-json-view",style:d(d({},Ee(Lt,"app-container").style),Bn)},R.a.createElement(Ke,{message:_t,active:Be,theme:Lt,rjvId:this.rjvId}),R.a.createElement(Ii,Object.assign({},this.props,{src:yt,name:qt,theme:Lt,type:ie(yt),rjvId:this.rjvId})),R.a.createElement(be,{active:At,theme:Lt,rjvId:this.rjvId,defaultValue:dr}))}}],[{key:"getDerivedStateFromProps",value:function(Re,Be){if(Re.src!==Be.prevSrc||Re.name!==Be.prevName||Re.theme!==Be.prevTheme){var _t={src:Re.src,name:Re.name,theme:Re.theme,validationMessage:Re.validationMessage,prevSrc:Re.src,prevName:Re.name,prevTheme:Re.theme};return ge.validateState(_t)}return null}}]),ge}(R.a.PureComponent);Bt.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},Bt.validateState=function(we){var Oe={};return ie(we.theme)!=="object"||function(ge){var Re=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if(ie(ge)==="object"){for(var Be=0;Be<Re.length;Be++)if(!(Re[Be]in ge))return!1;return!0}return!1}(we.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),Oe.theme="rjv-default"),ie(we.src)!=="object"&&ie(we.src)!=="array"&&(console.error("react-json-view error:","src property must be a valid json object"),Oe.name="ERROR",Oe.src={message:"src property must be a valid json object"}),d(d({},we),Oe)},W(Bt),i.default=Bt}])})})(use);var fxe=Xae(use.exports);/*! For license information please see mermaid.esm.min.mjs.LICENSE.txt */var hxe={1362:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(ze,nt,me,ut){for(me=me||{},ut=ze.length;ut--;me[ze[ut]]=nt);return me},s=[1,6],o=[1,7],l=[1,8],d=[1,9],h=[1,12],f=[1,11],v=[1,15,24],w=[1,19],E=[1,31],C=[1,34],O=[1,32],M=[1,33],A=[1,35],D=[1,36],U=[1,37],R=[1,38],X=[1,41],H=[1,42],K=[1,43],W=[1,44],Z=[15,24],ie=[1,56],se=[1,57],oe=[1,58],Q=[1,59],ae=[1,60],he=[1,61],Ee=[15,24,31,38,39,47,50,51,52,53,54,55,60,62],De=[15,24,29,31,38,39,43,47,50,51,52,53,54,55,60,62,77,78,79,80],qe=[7,8,9,10,15,18,22,24],_e=[47,77,78,79,80],xe=[47,54,55,77,78,79,80],Se=[47,50,51,52,53,77,78,79,80],Ie=[15,24,31],Ye=[1,93],Le={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,CLASS_DIAGRAM:22,statements:23,EOF:24,statement:25,className:26,alphaNumToken:27,classLiteralName:28,GENERICTYPE:29,relationStatement:30,LABEL:31,classStatement:32,methodStatement:33,annotationStatement:34,clickStatement:35,cssClassStatement:36,CLASS:37,STYLE_SEPARATOR:38,STRUCT_START:39,members:40,STRUCT_STOP:41,ANNOTATION_START:42,ANNOTATION_END:43,MEMBER:44,SEPARATOR:45,relation:46,STR:47,relationType:48,lineType:49,AGGREGATION:50,EXTENSION:51,COMPOSITION:52,DEPENDENCY:53,LINE:54,DOTTED_LINE:55,CALLBACK:56,LINK:57,LINK_TARGET:58,CLICK:59,CALLBACK_NAME:60,CALLBACK_ARGS:61,HREF:62,CSSCLASS:63,commentToken:64,textToken:65,graphCodeTokens:66,textNoTagsToken:67,TAGSTART:68,TAGEND:69,"==":70,"--":71,PCT:72,DEFAULT:73,SPACE:74,MINUS:75,keywords:76,UNICODE_TEXT:77,NUM:78,ALPHA:79,BQUOTE_STR:80,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"CLASS_DIAGRAM",24:"EOF",29:"GENERICTYPE",31:"LABEL",37:"CLASS",38:"STYLE_SEPARATOR",39:"STRUCT_START",41:"STRUCT_STOP",42:"ANNOTATION_START",43:"ANNOTATION_END",44:"MEMBER",45:"SEPARATOR",47:"STR",50:"AGGREGATION",51:"EXTENSION",52:"COMPOSITION",53:"DEPENDENCY",54:"LINE",55:"DOTTED_LINE",56:"CALLBACK",57:"LINK",58:"LINK_TARGET",59:"CLICK",60:"CALLBACK_NAME",61:"CALLBACK_ARGS",62:"HREF",63:"CSSCLASS",66:"graphCodeTokens",68:"TAGSTART",69:"TAGEND",70:"==",71:"--",72:"PCT",73:"DEFAULT",74:"SPACE",75:"MINUS",76:"keywords",77:"UNICODE_TEXT",78:"NUM",79:"ALPHA",80:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[23,1],[23,2],[23,3],[26,1],[26,1],[26,2],[26,2],[26,2],[25,1],[25,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[32,2],[32,4],[32,5],[32,7],[34,4],[40,1],[40,2],[33,1],[33,2],[33,1],[33,1],[30,3],[30,4],[30,4],[30,5],[46,3],[46,2],[46,2],[46,1],[48,1],[48,1],[48,1],[48,1],[49,1],[49,1],[35,3],[35,4],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[36,3],[64,1],[64,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[67,1],[67,1],[67,1],[67,1],[27,1],[27,1],[27,1],[28,1]],performAction:function(ze,nt,me,ut,Ve,dt,ot){var Ze=dt.length-1;switch(Ve){case 4:ut.setDirection("TB");break;case 5:ut.setDirection("BT");break;case 6:ut.setDirection("RL");break;case 7:ut.setDirection("LR");break;case 11:ut.parseDirective("%%{","open_directive");break;case 12:ut.parseDirective(dt[Ze],"type_directive");break;case 13:dt[Ze]=dt[Ze].trim().replace(/'/g,'"'),ut.parseDirective(dt[Ze],"arg_directive");break;case 14:ut.parseDirective("}%%","close_directive","class");break;case 19:case 20:this.$=dt[Ze];break;case 21:this.$=dt[Ze-1]+dt[Ze];break;case 22:case 23:this.$=dt[Ze-1]+"~"+dt[Ze];break;case 24:ut.addRelation(dt[Ze]);break;case 25:dt[Ze-1].title=ut.cleanupLabel(dt[Ze]),ut.addRelation(dt[Ze-1]);break;case 33:ut.addClass(dt[Ze]);break;case 34:ut.addClass(dt[Ze-2]),ut.setCssClass(dt[Ze-2],dt[Ze]);break;case 35:ut.addClass(dt[Ze-3]),ut.addMembers(dt[Ze-3],dt[Ze-1]);break;case 36:ut.addClass(dt[Ze-5]),ut.setCssClass(dt[Ze-5],dt[Ze-3]),ut.addMembers(dt[Ze-5],dt[Ze-1]);break;case 37:ut.addAnnotation(dt[Ze],dt[Ze-2]);break;case 38:this.$=[dt[Ze]];break;case 39:dt[Ze].push(dt[Ze-1]),this.$=dt[Ze];break;case 40:case 42:case 43:break;case 41:ut.addMember(dt[Ze-1],ut.cleanupLabel(dt[Ze]));break;case 44:this.$={id1:dt[Ze-2],id2:dt[Ze],relation:dt[Ze-1],relationTitle1:"none",relationTitle2:"none"};break;case 45:this.$={id1:dt[Ze-3],id2:dt[Ze],relation:dt[Ze-1],relationTitle1:dt[Ze-2],relationTitle2:"none"};break;case 46:this.$={id1:dt[Ze-3],id2:dt[Ze],relation:dt[Ze-2],relationTitle1:"none",relationTitle2:dt[Ze-1]};break;case 47:this.$={id1:dt[Ze-4],id2:dt[Ze],relation:dt[Ze-2],relationTitle1:dt[Ze-3],relationTitle2:dt[Ze-1]};break;case 48:this.$={type1:dt[Ze-2],type2:dt[Ze],lineType:dt[Ze-1]};break;case 49:this.$={type1:"none",type2:dt[Ze],lineType:dt[Ze-1]};break;case 50:this.$={type1:dt[Ze-1],type2:"none",lineType:dt[Ze]};break;case 51:this.$={type1:"none",type2:"none",lineType:dt[Ze]};break;case 52:this.$=ut.relationType.AGGREGATION;break;case 53:this.$=ut.relationType.EXTENSION;break;case 54:this.$=ut.relationType.COMPOSITION;break;case 55:this.$=ut.relationType.DEPENDENCY;break;case 56:this.$=ut.lineType.LINE;break;case 57:this.$=ut.lineType.DOTTED_LINE;break;case 58:case 64:this.$=dt[Ze-2],ut.setClickEvent(dt[Ze-1],dt[Ze]);break;case 59:case 65:this.$=dt[Ze-3],ut.setClickEvent(dt[Ze-2],dt[Ze-1]),ut.setTooltip(dt[Ze-2],dt[Ze]);break;case 60:case 68:this.$=dt[Ze-2],ut.setLink(dt[Ze-1],dt[Ze]);break;case 61:case 69:this.$=dt[Ze-3],ut.setLink(dt[Ze-2],dt[Ze-1],dt[Ze]);break;case 62:case 70:this.$=dt[Ze-3],ut.setLink(dt[Ze-2],dt[Ze-1]),ut.setTooltip(dt[Ze-2],dt[Ze]);break;case 63:case 71:this.$=dt[Ze-4],ut.setLink(dt[Ze-3],dt[Ze-2],dt[Ze]),ut.setTooltip(dt[Ze-3],dt[Ze-1]);break;case 66:this.$=dt[Ze-3],ut.setClickEvent(dt[Ze-2],dt[Ze-1],dt[Ze]);break;case 67:this.$=dt[Ze-4],ut.setClickEvent(dt[Ze-3],dt[Ze-2],dt[Ze-1]),ut.setTooltip(dt[Ze-3],dt[Ze]);break;case 72:ut.setCssClass(dt[Ze-1],dt[Ze])}},table:[{3:1,4:2,5:3,6:4,7:s,8:o,9:l,10:d,11:5,12:10,18:h,22:f},{1:[3]},{1:[2,1]},{1:[2,2]},{3:13,4:2,5:3,6:4,7:s,8:o,9:l,10:d,11:5,12:10,18:h,22:f},{1:[2,8]},i(v,[2,4]),i(v,[2,5]),i(v,[2,6]),i(v,[2,7]),{13:14,19:[1,15]},{15:[1,16]},{19:[2,11]},{1:[2,3]},{14:17,16:[1,18],21:w},i([16,21],[2,12]),{5:29,6:28,7:s,8:o,9:l,10:d,12:10,18:h,23:20,25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:E,42:C,44:O,45:M,56:A,57:D,59:U,63:R,77:X,78:H,79:K,80:W},{15:[1,45]},{17:46,20:[1,47]},{15:[2,14]},{24:[1,48]},{15:[1,49],24:[2,16]},i(Z,[2,24],{31:[1,50]}),i(Z,[2,26]),i(Z,[2,27]),i(Z,[2,28]),i(Z,[2,29]),i(Z,[2,30]),i(Z,[2,31]),i(Z,[2,32]),i(Z,[2,40],{46:51,48:54,49:55,31:[1,53],47:[1,52],50:ie,51:se,52:oe,53:Q,54:ae,55:he}),{26:62,27:39,28:40,77:X,78:H,79:K,80:W},i(Z,[2,42]),i(Z,[2,43]),{27:63,77:X,78:H,79:K},{26:64,27:39,28:40,77:X,78:H,79:K,80:W},{26:65,27:39,28:40,77:X,78:H,79:K,80:W},{26:66,27:39,28:40,77:X,78:H,79:K,80:W},{47:[1,67]},i(Ee,[2,19],{27:39,28:40,26:68,29:[1,69],77:X,78:H,79:K,80:W}),i(Ee,[2,20],{29:[1,70]}),i(De,[2,86]),i(De,[2,87]),i(De,[2,88]),i([15,24,29,31,38,39,47,50,51,52,53,54,55,60,62],[2,89]),i(qe,[2,9]),{14:71,21:w},{21:[2,13]},{1:[2,15]},{5:29,6:28,7:s,8:o,9:l,10:d,12:10,18:h,23:72,24:[2,17],25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:E,42:C,44:O,45:M,56:A,57:D,59:U,63:R,77:X,78:H,79:K,80:W},i(Z,[2,25]),{26:73,27:39,28:40,47:[1,74],77:X,78:H,79:K,80:W},{46:75,48:54,49:55,50:ie,51:se,52:oe,53:Q,54:ae,55:he},i(Z,[2,41]),{49:76,54:ae,55:he},i(_e,[2,51],{48:77,50:ie,51:se,52:oe,53:Q}),i(xe,[2,52]),i(xe,[2,53]),i(xe,[2,54]),i(xe,[2,55]),i(Se,[2,56]),i(Se,[2,57]),i(Z,[2,33],{38:[1,78],39:[1,79]}),{43:[1,80]},{47:[1,81]},{47:[1,82]},{60:[1,83],62:[1,84]},{27:85,77:X,78:H,79:K},i(Ee,[2,21]),i(Ee,[2,22]),i(Ee,[2,23]),{15:[1,86]},{24:[2,18]},i(Ie,[2,44]),{26:87,27:39,28:40,77:X,78:H,79:K,80:W},{26:88,27:39,28:40,47:[1,89],77:X,78:H,79:K,80:W},i(_e,[2,50],{48:90,50:ie,51:se,52:oe,53:Q}),i(_e,[2,49]),{27:91,77:X,78:H,79:K},{40:92,44:Ye},{26:94,27:39,28:40,77:X,78:H,79:K,80:W},i(Z,[2,58],{47:[1,95]}),i(Z,[2,60],{47:[1,97],58:[1,96]}),i(Z,[2,64],{47:[1,98],61:[1,99]}),i(Z,[2,68],{47:[1,101],58:[1,100]}),i(Z,[2,72]),i(qe,[2,10]),i(Ie,[2,46]),i(Ie,[2,45]),{26:102,27:39,28:40,77:X,78:H,79:K,80:W},i(_e,[2,48]),i(Z,[2,34],{39:[1,103]}),{41:[1,104]},{40:105,41:[2,38],44:Ye},i(Z,[2,37]),i(Z,[2,59]),i(Z,[2,61]),i(Z,[2,62],{58:[1,106]}),i(Z,[2,65]),i(Z,[2,66],{47:[1,107]}),i(Z,[2,69]),i(Z,[2,70],{58:[1,108]}),i(Ie,[2,47]),{40:109,44:Ye},i(Z,[2,35]),{41:[2,39]},i(Z,[2,63]),i(Z,[2,67]),i(Z,[2,71]),{41:[1,110]},i(Z,[2,36])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],12:[2,11],13:[2,3],19:[2,14],47:[2,13],48:[2,15],72:[2,18],105:[2,39]},parseError:function(ze,nt){if(!nt.recoverable){var me=new Error(ze);throw me.hash=nt,me}this.trace(ze)},parse:function(ze){var nt=this,me=[0],ut=[],Ve=[null],dt=[],ot=this.table,Ze="",kt=0,ln=0,Ht=0,nn=2,qn=1,_n=dt.slice.call(arguments,1),rn=Object.create(this.lexer),Yt={yy:{}};for(var gn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,gn)&&(Yt.yy[gn]=this.yy[gn]);rn.setInput(ze,Yt.yy),Yt.yy.lexer=rn,Yt.yy.parser=this,rn.yylloc===void 0&&(rn.yylloc={});var cn=rn.yylloc;dt.push(cn);var Et=rn.options&&rn.options.ranges;function it(){var zn;return typeof(zn=ut.pop()||rn.lex()||qn)!="number"&&(zn instanceof Array&&(zn=(ut=zn).pop()),zn=nt.symbols_[zn]||zn),zn}typeof Yt.yy.parseError=="function"?this.parseError=Yt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Qe,Pt,St,Ut,tn,Pn,yn,Yn,un,vn={};;){if(St=me[me.length-1],this.defaultActions[St]?Ut=this.defaultActions[St]:(Qe==null&&(Qe=it()),Ut=ot[St]&&ot[St][Qe]),Ut===void 0||!Ut.length||!Ut[0]){var sn="";for(Pn in un=[],ot[St])this.terminals_[Pn]&&Pn>nn&&un.push("'"+this.terminals_[Pn]+"'");sn=rn.showPosition?"Parse error on line "+(kt+1)+`:
`+rn.showPosition()+`
Expecting `+un.join(", ")+", got '"+(this.terminals_[Qe]||Qe)+"'":"Parse error on line "+(kt+1)+": Unexpected "+(Qe==qn?"end of input":"'"+(this.terminals_[Qe]||Qe)+"'"),this.parseError(sn,{text:rn.match,token:this.terminals_[Qe]||Qe,line:rn.yylineno,loc:cn,expected:un})}if(Ut[0]instanceof Array&&Ut.length>1)throw new Error("Parse Error: multiple actions possible at state: "+St+", token: "+Qe);switch(Ut[0]){case 1:me.push(Qe),Ve.push(rn.yytext),dt.push(rn.yylloc),me.push(Ut[1]),Qe=null,Pt?(Qe=Pt,Pt=null):(ln=rn.yyleng,Ze=rn.yytext,kt=rn.yylineno,cn=rn.yylloc,Ht>0);break;case 2:if(yn=this.productions_[Ut[1]][1],vn.$=Ve[Ve.length-yn],vn._$={first_line:dt[dt.length-(yn||1)].first_line,last_line:dt[dt.length-1].last_line,first_column:dt[dt.length-(yn||1)].first_column,last_column:dt[dt.length-1].last_column},Et&&(vn._$.range=[dt[dt.length-(yn||1)].range[0],dt[dt.length-1].range[1]]),(tn=this.performAction.apply(vn,[Ze,ln,kt,Yt.yy,Ut[1],Ve,dt].concat(_n)))!==void 0)return tn;yn&&(me=me.slice(0,-1*yn*2),Ve=Ve.slice(0,-1*yn),dt=dt.slice(0,-1*yn)),me.push(this.productions_[Ut[1]][0]),Ve.push(vn.$),dt.push(vn._$),Yn=ot[me[me.length-2]][me[me.length-1]],me.push(Yn);break;case 3:return!0}}return!0}},Nt={EOF:1,parseError:function(ze,nt){if(!this.yy.parser)throw new Error(ze);this.yy.parser.parseError(ze,nt)},setInput:function(ze,nt){return this.yy=nt||this.yy||{},this._input=ze,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ze=this._input[0];return this.yytext+=ze,this.yyleng++,this.offset++,this.match+=ze,this.matched+=ze,ze.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ze},unput:function(ze){var nt=ze.length,me=ze.split(/(?:\r\n?|\n)/g);this._input=ze+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-nt),this.offset-=nt;var ut=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),me.length-1&&(this.yylineno-=me.length-1);var Ve=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:me?(me.length===ut.length?this.yylloc.first_column:0)+ut[ut.length-me.length].length-me[0].length:this.yylloc.first_column-nt},this.options.ranges&&(this.yylloc.range=[Ve[0],Ve[0]+this.yyleng-nt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ze){this.unput(this.match.slice(ze))},pastInput:function(){var ze=this.matched.substr(0,this.matched.length-this.match.length);return(ze.length>20?"...":"")+ze.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ze=this.match;return ze.length<20&&(ze+=this._input.substr(0,20-ze.length)),(ze.substr(0,20)+(ze.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ze=this.pastInput(),nt=new Array(ze.length+1).join("-");return ze+this.upcomingInput()+`
`+nt+"^"},test_match:function(ze,nt){var me,ut,Ve;if(this.options.backtrack_lexer&&(Ve={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ve.yylloc.range=this.yylloc.range.slice(0))),(ut=ze[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ut.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ut?ut[ut.length-1].length-ut[ut.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ze[0].length},this.yytext+=ze[0],this.match+=ze[0],this.matches=ze,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ze[0].length),this.matched+=ze[0],me=this.performAction.call(this,this.yy,this,nt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),me)return me;if(this._backtrack){for(var dt in Ve)this[dt]=Ve[dt];return!1}return!1},next:function(){if(this.done)return this.EOF;var ze,nt,me,ut;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Ve=this._currentRules(),dt=0;dt<Ve.length;dt++)if((me=this._input.match(this.rules[Ve[dt]]))&&(!nt||me[0].length>nt[0].length)){if(nt=me,ut=dt,this.options.backtrack_lexer){if((ze=this.test_match(me,Ve[dt]))!==!1)return ze;if(this._backtrack){nt=!1;continue}return!1}if(!this.options.flex)break}return nt?(ze=this.test_match(nt,Ve[ut]))!==!1&&ze:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(ze){this.conditionStack.push(ze)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ze){return(ze=this.conditionStack.length-1-Math.abs(ze||0))>=0?this.conditionStack[ze]:"INITIAL"},pushState:function(ze){this.begin(ze)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(ze,nt,me,ut){switch(me){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:case 10:case 12:case 19:break;case 11:return 15;case 13:case 14:return 22;case 15:return this.begin("struct"),39;case 16:return"EOF_IN_STRUCT";case 17:return"OPEN_IN_STRUCT";case 18:return this.popState(),41;case 20:return"MEMBER";case 21:return 37;case 22:return 63;case 23:return 56;case 24:return 57;case 25:return 59;case 26:return 42;case 27:return 43;case 28:this.begin("generic");break;case 29:case 32:case 35:case 38:case 41:case 44:this.popState();break;case 30:return"GENERICTYPE";case 31:this.begin("string");break;case 33:return"STR";case 34:this.begin("bqstring");break;case 36:return"BQUOTE_STR";case 37:this.begin("href");break;case 39:return 62;case 40:this.begin("callback_name");break;case 42:this.popState(),this.begin("callback_args");break;case 43:return 60;case 45:return 61;case 46:case 47:case 48:case 49:return 58;case 50:case 51:return 51;case 52:case 53:return 53;case 54:return 52;case 55:return 50;case 56:return 54;case 57:return 55;case 58:return 31;case 59:return 38;case 60:return 75;case 61:return"DOT";case 62:return"PLUS";case 63:return 72;case 64:case 65:return"EQUALS";case 66:return 79;case 67:return"PUNCTUATION";case 68:return 78;case 69:return 77;case 70:return 74;case 71:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[44,45],inclusive:!1},callback_name:{rules:[41,42,43],inclusive:!1},href:{rules:[38,39],inclusive:!1},struct:{rules:[16,17,18,19,20],inclusive:!1},generic:{rules:[29,30],inclusive:!1},bqstring:{rules:[35,36],inclusive:!1},string:{rules:[32,33],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,13,14,15,21,22,23,24,25,26,27,28,31,34,37,40,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0}}};function pt(){this.yy={}}return Le.lexer=Nt,pt.prototype=Le,Le.Parser=pt,new pt}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(8218).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},5890:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(K,W,Z,ie){for(Z=Z||{},ie=K.length;ie--;Z[K[ie]]=W);return Z},s=[1,2],o=[1,5],l=[6,9,11,23,41],d=[1,17],h=[1,20],f=[1,25],v=[1,26],w=[1,27],E=[1,28],C=[1,37],O=[23,38,39],M=[4,6,9,11,23,41],A=[34,35,36,37],D=[22,29],U=[1,55],R={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,ALPHANUM:23,attribute:24,attributeType:25,attributeName:26,attributeKeyType:27,attributeComment:28,ATTRIBUTE_WORD:29,ATTRIBUTE_KEY:30,COMMENT:31,cardinality:32,relType:33,ZERO_OR_ONE:34,ZERO_OR_MORE:35,ONE_OR_MORE:36,ONLY_ONE:37,NON_IDENTIFYING:38,IDENTIFYING:39,WORD:40,open_directive:41,type_directive:42,arg_directive:43,close_directive:44,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"ALPHANUM",29:"ATTRIBUTE_WORD",30:"ATTRIBUTE_KEY",31:"COMMENT",34:"ZERO_OR_ONE",35:"ZERO_OR_MORE",36:"ONE_OR_MORE",37:"ONLY_ONE",38:"NON_IDENTIFYING",39:"IDENTIFYING",40:"WORD",41:"open_directive",42:"type_directive",43:"arg_directive",44:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[17,1],[21,1],[21,2],[24,2],[24,3],[24,3],[24,4],[25,1],[26,1],[27,1],[28,1],[18,3],[32,1],[32,1],[32,1],[32,1],[33,1],[33,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(K,W,Z,ie,se,oe,Q){var ae=oe.length-1;switch(se){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:oe[ae-1].push(oe[ae]),this.$=oe[ae-1];break;case 5:case 6:case 16:case 23:case 24:case 25:case 35:this.$=oe[ae];break;case 12:ie.addEntity(oe[ae-4]),ie.addEntity(oe[ae-2]),ie.addRelationship(oe[ae-4],oe[ae],oe[ae-2],oe[ae-3]);break;case 13:ie.addEntity(oe[ae-3]),ie.addAttributes(oe[ae-3],oe[ae-1]);break;case 14:ie.addEntity(oe[ae-2]);break;case 15:ie.addEntity(oe[ae]);break;case 17:this.$=[oe[ae]];break;case 18:oe[ae].push(oe[ae-1]),this.$=oe[ae];break;case 19:this.$={attributeType:oe[ae-1],attributeName:oe[ae]};break;case 20:this.$={attributeType:oe[ae-2],attributeName:oe[ae-1],attributeKeyType:oe[ae]};break;case 21:this.$={attributeType:oe[ae-2],attributeName:oe[ae-1],attributeComment:oe[ae]};break;case 22:this.$={attributeType:oe[ae-3],attributeName:oe[ae-2],attributeKeyType:oe[ae-1],attributeComment:oe[ae]};break;case 26:case 34:this.$=oe[ae].replace(/"/g,"");break;case 27:this.$={cardA:oe[ae],relType:oe[ae-1],cardB:oe[ae-2]};break;case 28:this.$=ie.Cardinality.ZERO_OR_ONE;break;case 29:this.$=ie.Cardinality.ZERO_OR_MORE;break;case 30:this.$=ie.Cardinality.ONE_OR_MORE;break;case 31:this.$=ie.Cardinality.ONLY_ONE;break;case 32:this.$=ie.Identification.NON_IDENTIFYING;break;case 33:this.$=ie.Identification.IDENTIFYING;break;case 36:ie.parseDirective("%%{","open_directive");break;case 37:ie.parseDirective(oe[ae],"type_directive");break;case 38:oe[ae]=oe[ae].trim().replace(/'/g,'"'),ie.parseDirective(oe[ae],"arg_directive");break;case 39:ie.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:s,7:3,12:4,41:o},{1:[3]},i(l,[2,3],{5:6}),{3:7,4:s,7:3,12:4,41:o},{13:8,42:[1,9]},{42:[2,36]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:d,41:o},{1:[2,2]},{14:18,15:[1,19],44:h},i([15,44],[2,37]),i(l,[2,8],{1:[2,1]}),i(l,[2,4]),{7:15,10:21,12:4,17:16,23:d,41:o},i(l,[2,6]),i(l,[2,7]),i(l,[2,11]),i(l,[2,15],{18:22,32:24,20:[1,23],34:f,35:v,36:w,37:E}),i([6,9,11,15,20,23,34,35,36,37,41],[2,16]),{11:[1,29]},{16:30,43:[1,31]},{11:[2,39]},i(l,[2,5]),{17:32,23:d},{21:33,22:[1,34],24:35,25:36,29:C},{33:38,38:[1,39],39:[1,40]},i(O,[2,28]),i(O,[2,29]),i(O,[2,30]),i(O,[2,31]),i(M,[2,9]),{14:41,44:h},{44:[2,38]},{15:[1,42]},{22:[1,43]},i(l,[2,14]),{21:44,22:[2,17],24:35,25:36,29:C},{26:45,29:[1,46]},{29:[2,23]},{32:47,34:f,35:v,36:w,37:E},i(A,[2,32]),i(A,[2,33]),{11:[1,48]},{19:49,23:[1,51],40:[1,50]},i(l,[2,13]),{22:[2,18]},i(D,[2,19],{27:52,28:53,30:[1,54],31:U}),i([22,29,30,31],[2,24]),{23:[2,27]},i(M,[2,10]),i(l,[2,12]),i(l,[2,34]),i(l,[2,35]),i(D,[2,20],{28:56,31:U}),i(D,[2,21]),i([22,29,31],[2,25]),i(D,[2,26]),i(D,[2,22])],defaultActions:{5:[2,36],7:[2,2],20:[2,39],31:[2,38],37:[2,23],44:[2,18],47:[2,27]},parseError:function(K,W){if(!W.recoverable){var Z=new Error(K);throw Z.hash=W,Z}this.trace(K)},parse:function(K){var W=this,Z=[0],ie=[],se=[null],oe=[],Q=this.table,ae="",he=0,Ee=0,De=0,qe=2,_e=1,xe=oe.slice.call(arguments,1),Se=Object.create(this.lexer),Ie={yy:{}};for(var Ye in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ye)&&(Ie.yy[Ye]=this.yy[Ye]);Se.setInput(K,Ie.yy),Ie.yy.lexer=Se,Ie.yy.parser=this,Se.yylloc===void 0&&(Se.yylloc={});var Le=Se.yylloc;oe.push(Le);var Nt=Se.options&&Se.options.ranges;function pt(){var nn;return typeof(nn=ie.pop()||Se.lex()||_e)!="number"&&(nn instanceof Array&&(nn=(ie=nn).pop()),nn=W.symbols_[nn]||nn),nn}typeof Ie.yy.parseError=="function"?this.parseError=Ie.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var ze,nt,me,ut,Ve,dt,ot,Ze,kt,ln={};;){if(me=Z[Z.length-1],this.defaultActions[me]?ut=this.defaultActions[me]:(ze==null&&(ze=pt()),ut=Q[me]&&Q[me][ze]),ut===void 0||!ut.length||!ut[0]){var Ht="";for(dt in kt=[],Q[me])this.terminals_[dt]&&dt>qe&&kt.push("'"+this.terminals_[dt]+"'");Ht=Se.showPosition?"Parse error on line "+(he+1)+`:
`+Se.showPosition()+`
Expecting `+kt.join(", ")+", got '"+(this.terminals_[ze]||ze)+"'":"Parse error on line "+(he+1)+": Unexpected "+(ze==_e?"end of input":"'"+(this.terminals_[ze]||ze)+"'"),this.parseError(Ht,{text:Se.match,token:this.terminals_[ze]||ze,line:Se.yylineno,loc:Le,expected:kt})}if(ut[0]instanceof Array&&ut.length>1)throw new Error("Parse Error: multiple actions possible at state: "+me+", token: "+ze);switch(ut[0]){case 1:Z.push(ze),se.push(Se.yytext),oe.push(Se.yylloc),Z.push(ut[1]),ze=null,nt?(ze=nt,nt=null):(Ee=Se.yyleng,ae=Se.yytext,he=Se.yylineno,Le=Se.yylloc,De>0);break;case 2:if(ot=this.productions_[ut[1]][1],ln.$=se[se.length-ot],ln._$={first_line:oe[oe.length-(ot||1)].first_line,last_line:oe[oe.length-1].last_line,first_column:oe[oe.length-(ot||1)].first_column,last_column:oe[oe.length-1].last_column},Nt&&(ln._$.range=[oe[oe.length-(ot||1)].range[0],oe[oe.length-1].range[1]]),(Ve=this.performAction.apply(ln,[ae,Ee,he,Ie.yy,ut[1],se,oe].concat(xe)))!==void 0)return Ve;ot&&(Z=Z.slice(0,-1*ot*2),se=se.slice(0,-1*ot),oe=oe.slice(0,-1*ot)),Z.push(this.productions_[ut[1]][0]),se.push(ln.$),oe.push(ln._$),Ze=Q[Z[Z.length-2]][Z[Z.length-1]],Z.push(Ze);break;case 3:return!0}}return!0}},X={EOF:1,parseError:function(K,W){if(!this.yy.parser)throw new Error(K);this.yy.parser.parseError(K,W)},setInput:function(K,W){return this.yy=W||this.yy||{},this._input=K,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var K=this._input[0];return this.yytext+=K,this.yyleng++,this.offset++,this.match+=K,this.matched+=K,K.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),K},unput:function(K){var W=K.length,Z=K.split(/(?:\r\n?|\n)/g);this._input=K+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Z.length-1&&(this.yylineno-=Z.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Z?(Z.length===ie.length?this.yylloc.first_column:0)+ie[ie.length-Z.length].length-Z[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(K){this.unput(this.match.slice(K))},pastInput:function(){var K=this.matched.substr(0,this.matched.length-this.match.length);return(K.length>20?"...":"")+K.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var K=this.match;return K.length<20&&(K+=this._input.substr(0,20-K.length)),(K.substr(0,20)+(K.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var K=this.pastInput(),W=new Array(K.length+1).join("-");return K+this.upcomingInput()+`
`+W+"^"},test_match:function(K,W){var Z,ie,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),(ie=K[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ie?ie[ie.length-1].length-ie[ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+K[0].length},this.yytext+=K[0],this.match+=K[0],this.matches=K,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(K[0].length),this.matched+=K[0],Z=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Z)return Z;if(this._backtrack){for(var oe in se)this[oe]=se[oe];return!1}return!1},next:function(){if(this.done)return this.EOF;var K,W,Z,ie;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),oe=0;oe<se.length;oe++)if((Z=this._input.match(this.rules[se[oe]]))&&(!W||Z[0].length>W[0].length)){if(W=Z,ie=oe,this.options.backtrack_lexer){if((K=this.test_match(Z,se[oe]))!==!1)return K;if(this._backtrack){W=!1;continue}return!1}if(!this.options.flex)break}return W?(K=this.test_match(W,se[ie]))!==!1&&K:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(K){this.conditionStack.push(K)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(K){return(K=this.conditionStack.length-1-Math.abs(K||0))>=0?this.conditionStack[K]:"INITIAL"},pushState:function(K){this.begin(K)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(K,W,Z,ie){switch(Z){case 0:return this.begin("open_directive"),41;case 1:return this.begin("type_directive"),42;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),44;case 4:return 43;case 5:case 6:case 8:case 13:case 17:break;case 7:return 11;case 9:return 9;case 10:return 40;case 11:return 4;case 12:return this.begin("block"),20;case 14:return 30;case 15:return 29;case 16:return 31;case 18:return this.popState(),22;case 19:case 32:return W.yytext[0];case 20:case 24:return 34;case 21:case 25:return 35;case 22:case 26:return 36;case 23:return 37;case 27:case 29:case 30:return 38;case 28:return 39;case 31:return 23;case 33:return 6}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:(?:PK)|(?:FK))/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},block:{rules:[13,14,15,16,17,18,19],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,20,21,22,23,24,25,26,27,28,29,30,31,32,33],inclusive:!0}}};function H(){this.yy={}}return R.lexer=X,H.prototype=R,R.Parser=H,new H}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(8009).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3602:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(Sn,gr,or,fn){for(or=or||{},fn=Sn.length;fn--;or[Sn[fn]]=gr);return or},s=[1,9],o=[1,7],l=[1,6],d=[1,8],h=[1,20,21,22,23,38,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],f=[2,10],v=[1,20],w=[1,21],E=[1,22],C=[1,23],O=[1,30],M=[1,59],A=[1,45],D=[1,49],U=[1,33],R=[1,34],X=[1,35],H=[1,36],K=[1,37],W=[1,53],Z=[1,60],ie=[1,48],se=[1,50],oe=[1,52],Q=[1,56],ae=[1,57],he=[1,38],Ee=[1,39],De=[1,40],qe=[1,41],_e=[1,58],xe=[1,47],Se=[1,51],Ie=[1,54],Ye=[1,55],Le=[1,46],Nt=[1,63],pt=[1,68],ze=[1,20,21,22,23,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],nt=[1,72],me=[1,71],ut=[1,73],Ve=[20,21,23,74,75],dt=[1,94],ot=[1,99],Ze=[1,102],kt=[1,103],ln=[1,96],Ht=[1,101],nn=[1,104],qn=[1,97],_n=[1,109],rn=[1,108],Yt=[1,98],gn=[1,100],cn=[1,105],Et=[1,106],it=[1,107],Qe=[1,110],Pt=[20,21,22,23,74,75],St=[20,21,22,23,48,74,75],Ut=[20,21,22,23,40,47,48,50,52,54,56,58,59,60,62,64,66,67,69,74,75,84,88,98,99,102,104,105,115,116,117,118,119,120],tn=[20,21,23],Pn=[20,21,23,47,59,60,74,75,84,88,98,99,102,104,105,115,116,117,118,119,120],yn=[1,12,20,21,22,23,24,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],Yn=[47,59,60,84,88,98,99,102,104,105,115,116,117,118,119,120],un=[1,143],vn=[1,151],sn=[1,152],zn=[1,153],Un=[1,154],nr=[1,138],Dn=[1,139],Vn=[1,135],an=[1,146],Gn=[1,147],Kt=[1,148],mn=[1,149],en=[1,150],pn=[1,155],Nn=[1,156],Hn=[1,141],Cn=[1,144],tr=[1,140],Jn=[1,137],Ii=[20,21,22,23,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],ce=[1,159],be=[20,21,22,23,26,47,59,60,84,98,99,102,104,105,115,116,117,118,119,120],Ke=[20,21,22,23,24,26,38,40,41,42,47,51,53,55,57,59,60,61,63,65,66,68,70,74,75,79,80,81,82,83,84,85,88,98,99,102,104,105,106,107,115,116,117,118,119,120],Bt=[12,21,22,24],we=[22,99],Oe=[1,242],ge=[1,237],Re=[1,238],Be=[1,246],_t=[1,243],At=[1,240],Lt=[1,239],yt=[1,241],qt=[1,244],Rn=[1,245],Bn=[1,247],dr=[1,265],Mr=[20,21,23,99],rr=[20,21,22,23,59,60,79,95,98,99,102,103,104,105,106],Or={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,link:44,node:45,vertex:46,AMP:47,STYLE_SEPARATOR:48,idString:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,ALPHA:59,COLON:60,PIPE:61,CYLINDERSTART:62,CYLINDEREND:63,DIAMOND_START:64,DIAMOND_STOP:65,TAGEND:66,TRAPSTART:67,TRAPEND:68,INVTRAPSTART:69,INVTRAPEND:70,linkStatement:71,arrowText:72,TESTSTR:73,START_LINK:74,LINK:75,textToken:76,STR:77,keywords:78,STYLE:79,LINKSTYLE:80,CLASSDEF:81,CLASS:82,CLICK:83,DOWN:84,UP:85,textNoTags:86,textNoTagsToken:87,DEFAULT:88,stylesOpt:89,alphaNum:90,CALLBACKNAME:91,CALLBACKARGS:92,HREF:93,LINK_TARGET:94,HEX:95,numList:96,INTERPOLATE:97,NUM:98,COMMA:99,style:100,styleComponent:101,MINUS:102,UNIT:103,BRKT:104,DOT:105,PCT:106,TAGSTART:107,alphaNumToken:108,idStringToken:109,alphaNumStatement:110,direction_tb:111,direction_bt:112,direction_rl:113,direction_lr:114,PUNCTUATION:115,UNICODE_TEXT:116,PLUS:117,EQUALS:118,MULT:119,UNDERSCORE:120,graphCodeTokens:121,ARROW_CROSS:122,ARROW_POINT:123,ARROW_CIRCLE:124,ARROW_OPEN:125,QUOTE:126,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",47:"AMP",48:"STYLE_SEPARATOR",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"ALPHA",60:"COLON",61:"PIPE",62:"CYLINDERSTART",63:"CYLINDEREND",64:"DIAMOND_START",65:"DIAMOND_STOP",66:"TAGEND",67:"TRAPSTART",68:"TRAPEND",69:"INVTRAPSTART",70:"INVTRAPEND",73:"TESTSTR",74:"START_LINK",75:"LINK",77:"STR",79:"STYLE",80:"LINKSTYLE",81:"CLASSDEF",82:"CLASS",83:"CLICK",84:"DOWN",85:"UP",88:"DEFAULT",91:"CALLBACKNAME",92:"CALLBACKARGS",93:"HREF",94:"LINK_TARGET",95:"HEX",97:"INTERPOLATE",98:"NUM",99:"COMMA",102:"MINUS",103:"UNIT",104:"BRKT",105:"DOT",106:"PCT",107:"TAGSTART",111:"direction_tb",112:"direction_bt",113:"direction_rl",114:"direction_lr",115:"PUNCTUATION",116:"UNICODE_TEXT",117:"PLUS",118:"EQUALS",119:"MULT",120:"UNDERSCORE",122:"ARROW_CROSS",123:"ARROW_POINT",124:"ARROW_CIRCLE",125:"ARROW_OPEN",126:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[45,1],[45,5],[45,3],[46,4],[46,6],[46,4],[46,4],[46,4],[46,8],[46,4],[46,4],[46,4],[46,6],[46,4],[46,4],[46,4],[46,4],[46,4],[46,1],[44,2],[44,3],[44,3],[44,1],[44,3],[71,1],[72,3],[39,1],[39,2],[39,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[86,1],[86,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[96,1],[96,3],[89,1],[89,3],[100,1],[100,2],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[87,1],[87,1],[87,1],[87,1],[49,1],[49,2],[90,1],[90,2],[110,1],[110,1],[110,1],[110,1],[43,1],[43,1],[43,1],[43,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1]],performAction:function(Sn,gr,or,fn,_r,Fe,fi){var gt=Fe.length-1;switch(_r){case 5:fn.parseDirective("%%{","open_directive");break;case 6:fn.parseDirective(Fe[gt],"type_directive");break;case 7:Fe[gt]=Fe[gt].trim().replace(/'/g,'"'),fn.parseDirective(Fe[gt],"arg_directive");break;case 8:fn.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:Fe[gt]!==[]&&Fe[gt-1].push(Fe[gt]),this.$=Fe[gt-1];break;case 12:case 78:case 80:case 92:case 148:case 150:case 151:case 74:case 146:this.$=Fe[gt];break;case 19:fn.setDirection("TB"),this.$="TB";break;case 20:fn.setDirection(Fe[gt-1]),this.$=Fe[gt-1];break;case 35:this.$=Fe[gt-1].nodes;break;case 41:this.$=fn.addSubGraph(Fe[gt-6],Fe[gt-1],Fe[gt-4]);break;case 42:this.$=fn.addSubGraph(Fe[gt-3],Fe[gt-1],Fe[gt-3]);break;case 43:this.$=fn.addSubGraph(void 0,Fe[gt-1],void 0);break;case 48:fn.addLink(Fe[gt-2].stmt,Fe[gt],Fe[gt-1]),this.$={stmt:Fe[gt],nodes:Fe[gt].concat(Fe[gt-2].nodes)};break;case 49:fn.addLink(Fe[gt-3].stmt,Fe[gt-1],Fe[gt-2]),this.$={stmt:Fe[gt-1],nodes:Fe[gt-1].concat(Fe[gt-3].nodes)};break;case 50:this.$={stmt:Fe[gt-1],nodes:Fe[gt-1]};break;case 51:this.$={stmt:Fe[gt],nodes:Fe[gt]};break;case 52:case 119:case 121:this.$=[Fe[gt]];break;case 53:this.$=Fe[gt-4].concat(Fe[gt]);break;case 54:this.$=[Fe[gt-2]],fn.setClass(Fe[gt-2],Fe[gt]);break;case 55:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"square");break;case 56:this.$=Fe[gt-5],fn.addVertex(Fe[gt-5],Fe[gt-2],"circle");break;case 57:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"ellipse");break;case 58:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"stadium");break;case 59:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"subroutine");break;case 60:this.$=Fe[gt-7],fn.addVertex(Fe[gt-7],Fe[gt-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Fe[gt-5],Fe[gt-3]]]));break;case 61:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"cylinder");break;case 62:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"round");break;case 63:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"diamond");break;case 64:this.$=Fe[gt-5],fn.addVertex(Fe[gt-5],Fe[gt-2],"hexagon");break;case 65:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"odd");break;case 66:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"trapezoid");break;case 67:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"inv_trapezoid");break;case 68:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"lean_right");break;case 69:this.$=Fe[gt-3],fn.addVertex(Fe[gt-3],Fe[gt-1],"lean_left");break;case 70:this.$=Fe[gt],fn.addVertex(Fe[gt]);break;case 71:Fe[gt-1].text=Fe[gt],this.$=Fe[gt-1];break;case 72:case 73:Fe[gt-2].text=Fe[gt-1],this.$=Fe[gt-2];break;case 75:var qi=fn.destructLink(Fe[gt],Fe[gt-2]);this.$={type:qi.type,stroke:qi.stroke,length:qi.length,text:Fe[gt-1]};break;case 76:qi=fn.destructLink(Fe[gt]),this.$={type:qi.type,stroke:qi.stroke,length:qi.length};break;case 77:this.$=Fe[gt-1];break;case 79:case 93:case 149:case 147:this.$=Fe[gt-1]+""+Fe[gt];break;case 94:case 95:this.$=Fe[gt-4],fn.addClass(Fe[gt-2],Fe[gt]);break;case 96:this.$=Fe[gt-4],fn.setClass(Fe[gt-2],Fe[gt]);break;case 97:case 105:this.$=Fe[gt-1],fn.setClickEvent(Fe[gt-1],Fe[gt]);break;case 98:case 106:this.$=Fe[gt-3],fn.setClickEvent(Fe[gt-3],Fe[gt-2]),fn.setTooltip(Fe[gt-3],Fe[gt]);break;case 99:this.$=Fe[gt-2],fn.setClickEvent(Fe[gt-2],Fe[gt-1],Fe[gt]);break;case 100:this.$=Fe[gt-4],fn.setClickEvent(Fe[gt-4],Fe[gt-3],Fe[gt-2]),fn.setTooltip(Fe[gt-4],Fe[gt]);break;case 101:case 107:this.$=Fe[gt-1],fn.setLink(Fe[gt-1],Fe[gt]);break;case 102:case 108:this.$=Fe[gt-3],fn.setLink(Fe[gt-3],Fe[gt-2]),fn.setTooltip(Fe[gt-3],Fe[gt]);break;case 103:case 109:this.$=Fe[gt-3],fn.setLink(Fe[gt-3],Fe[gt-2],Fe[gt]);break;case 104:case 110:this.$=Fe[gt-5],fn.setLink(Fe[gt-5],Fe[gt-4],Fe[gt]),fn.setTooltip(Fe[gt-5],Fe[gt-2]);break;case 111:this.$=Fe[gt-4],fn.addVertex(Fe[gt-2],void 0,void 0,Fe[gt]);break;case 112:case 114:this.$=Fe[gt-4],fn.updateLink(Fe[gt-2],Fe[gt]);break;case 113:this.$=Fe[gt-4],fn.updateLink([Fe[gt-2]],Fe[gt]);break;case 115:this.$=Fe[gt-8],fn.updateLinkInterpolate([Fe[gt-6]],Fe[gt-2]),fn.updateLink([Fe[gt-6]],Fe[gt]);break;case 116:this.$=Fe[gt-8],fn.updateLinkInterpolate(Fe[gt-6],Fe[gt-2]),fn.updateLink(Fe[gt-6],Fe[gt]);break;case 117:this.$=Fe[gt-6],fn.updateLinkInterpolate([Fe[gt-4]],Fe[gt]);break;case 118:this.$=Fe[gt-6],fn.updateLinkInterpolate(Fe[gt-4],Fe[gt]);break;case 120:case 122:Fe[gt-2].push(Fe[gt]),this.$=Fe[gt-2];break;case 124:this.$=Fe[gt-1]+Fe[gt];break;case 152:this.$="v";break;case 153:this.$="-";break;case 154:this.$={stmt:"dir",value:"TB"};break;case 155:this.$={stmt:"dir",value:"BT"};break;case 156:this.$={stmt:"dir",value:"RL"};break;case 157:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:s,16:4,21:o,22:l,24:d},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:s,16:4,21:o,22:l,24:d},i(h,f,{17:11}),{7:12,13:[1,13]},{16:14,21:o,22:l,24:d},{16:15,21:o,22:l,24:d},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:v,21:w,22:E,23:C,32:24,33:25,34:26,35:27,36:28,37:29,38:O,43:31,45:32,46:42,47:M,49:43,59:A,60:D,79:U,80:R,81:X,82:H,83:K,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,109:44,111:he,112:Ee,113:De,114:qe,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le},{8:61,10:[1,62],15:Nt},i([10,15],[2,6]),i(h,[2,17]),i(h,[2,18]),i(h,[2,19]),{20:[1,65],21:[1,66],22:pt,27:64,30:67},i(ze,[2,11]),i(ze,[2,12]),i(ze,[2,13]),i(ze,[2,14]),i(ze,[2,15]),i(ze,[2,16]),{9:69,20:nt,21:me,23:ut,44:70,71:74,74:[1,75],75:[1,76]},{9:77,20:nt,21:me,23:ut},{9:78,20:nt,21:me,23:ut},{9:79,20:nt,21:me,23:ut},{9:80,20:nt,21:me,23:ut},{9:81,20:nt,21:me,23:ut},{9:83,20:nt,21:me,22:[1,82],23:ut},i(ze,[2,44]),i(Ve,[2,51],{30:84,22:pt}),{22:[1,85]},{22:[1,86]},{22:[1,87]},{22:[1,88]},{26:dt,47:ot,59:Ze,60:kt,77:[1,92],84:ln,90:91,91:[1,89],93:[1,90],98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:93,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(ze,[2,154]),i(ze,[2,155]),i(ze,[2,156]),i(ze,[2,157]),i(Pt,[2,52],{48:[1,111]}),i(St,[2,70],{109:123,40:[1,112],47:M,50:[1,113],52:[1,114],54:[1,115],56:[1,116],58:[1,117],59:A,60:D,62:[1,118],64:[1,119],66:[1,120],67:[1,121],69:[1,122],84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le}),i(Ut,[2,146]),i(Ut,[2,171]),i(Ut,[2,172]),i(Ut,[2,173]),i(Ut,[2,174]),i(Ut,[2,175]),i(Ut,[2,176]),i(Ut,[2,177]),i(Ut,[2,178]),i(Ut,[2,179]),i(Ut,[2,180]),i(Ut,[2,181]),i(Ut,[2,182]),i(Ut,[2,183]),i(Ut,[2,184]),i(Ut,[2,185]),i(Ut,[2,186]),{9:124,20:nt,21:me,23:ut},{11:125,14:[1,126]},i(tn,[2,8]),i(h,[2,20]),i(h,[2,26]),i(h,[2,27]),{21:[1,127]},i(Pn,[2,34],{30:128,22:pt}),i(ze,[2,35]),{45:129,46:42,47:M,49:43,59:A,60:D,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,109:44,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le},i(yn,[2,45]),i(yn,[2,46]),i(yn,[2,47]),i(Yn,[2,74],{72:130,61:[1,132],73:[1,131]}),{22:un,24:vn,26:sn,38:zn,39:133,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i([47,59,60,61,73,84,88,98,99,102,104,105,115,116,117,118,119,120],[2,76]),i(ze,[2,36]),i(ze,[2,37]),i(ze,[2,38]),i(ze,[2,39]),i(ze,[2,40]),{22:un,24:vn,26:sn,38:zn,39:157,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(Ii,f,{17:158}),i(Ve,[2,50],{47:ce}),{26:dt,47:ot,59:Ze,60:kt,84:ln,90:160,95:[1,161],98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:93,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{88:[1,162],96:163,98:[1,164]},{26:dt,47:ot,59:Ze,60:kt,84:ln,88:[1,165],90:166,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:93,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{26:dt,47:ot,59:Ze,60:kt,84:ln,90:167,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:93,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(tn,[2,97],{22:[1,168],92:[1,169]}),i(tn,[2,101],{22:[1,170]}),i(tn,[2,105],{108:95,110:172,22:[1,171],26:dt,47:ot,59:Ze,60:kt,84:ln,98:Ht,99:nn,102:qn,104:_n,105:rn,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe}),i(tn,[2,107],{22:[1,173]}),i(be,[2,148]),i(be,[2,150]),i(be,[2,151]),i(be,[2,152]),i(be,[2,153]),i(Ke,[2,158]),i(Ke,[2,159]),i(Ke,[2,160]),i(Ke,[2,161]),i(Ke,[2,162]),i(Ke,[2,163]),i(Ke,[2,164]),i(Ke,[2,165]),i(Ke,[2,166]),i(Ke,[2,167]),i(Ke,[2,168]),i(Ke,[2,169]),i(Ke,[2,170]),{47:M,49:174,59:A,60:D,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,109:44,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le},{22:un,24:vn,26:sn,38:zn,39:175,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:177,42:Un,47:ot,50:[1,176],59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:178,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:179,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:180,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{59:[1,181]},{22:un,24:vn,26:sn,38:zn,39:182,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:183,42:Un,47:ot,59:Ze,60:kt,64:[1,184],66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:185,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:186,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:187,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(Ut,[2,147]),i(Bt,[2,3]),{8:188,15:Nt},{15:[2,7]},i(h,[2,28]),i(Pn,[2,33]),i(Ve,[2,48],{30:189,22:pt}),i(Yn,[2,71],{22:[1,190]}),{22:[1,191]},{22:un,24:vn,26:sn,38:zn,39:192,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,75:[1,193],76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(Ke,[2,78]),i(Ke,[2,80]),i(Ke,[2,136]),i(Ke,[2,137]),i(Ke,[2,138]),i(Ke,[2,139]),i(Ke,[2,140]),i(Ke,[2,141]),i(Ke,[2,142]),i(Ke,[2,143]),i(Ke,[2,144]),i(Ke,[2,145]),i(Ke,[2,81]),i(Ke,[2,82]),i(Ke,[2,83]),i(Ke,[2,84]),i(Ke,[2,85]),i(Ke,[2,86]),i(Ke,[2,87]),i(Ke,[2,88]),i(Ke,[2,89]),i(Ke,[2,90]),i(Ke,[2,91]),{9:196,20:nt,21:me,22:un,23:ut,24:vn,26:sn,38:zn,40:[1,195],42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{18:18,19:19,20:v,21:w,22:E,23:C,32:24,33:25,34:26,35:27,36:28,37:29,38:O,42:[1,197],43:31,45:32,46:42,47:M,49:43,59:A,60:D,79:U,80:R,81:X,82:H,83:K,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,109:44,111:he,112:Ee,113:De,114:qe,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le},{22:pt,30:198},{22:[1,199],26:dt,47:ot,59:Ze,60:kt,84:ln,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:172,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:[1,200]},{22:[1,201]},{22:[1,202],99:[1,203]},i(we,[2,119]),{22:[1,204]},{22:[1,205],26:dt,47:ot,59:Ze,60:kt,84:ln,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:172,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:[1,206],26:dt,47:ot,59:Ze,60:kt,84:ln,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:172,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{77:[1,207]},i(tn,[2,99],{22:[1,208]}),{77:[1,209],94:[1,210]},{77:[1,211]},i(be,[2,149]),{77:[1,212],94:[1,213]},i(Pt,[2,54],{109:123,47:M,59:A,60:D,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le}),{22:un,24:vn,26:sn,38:zn,41:[1,214],42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:215,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,51:[1,216],59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,53:[1,217],59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,55:[1,218],59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,57:[1,219],59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{60:[1,220]},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,59:Ze,60:kt,63:[1,221],66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,59:Ze,60:kt,65:[1,222],66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,39:223,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,41:[1,224],42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,59:Ze,60:kt,66:nr,68:[1,225],70:[1,226],74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,59:Ze,60:kt,66:nr,68:[1,228],70:[1,227],74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{9:229,20:nt,21:me,23:ut},i(Ve,[2,49],{47:ce}),i(Yn,[2,73]),i(Yn,[2,72]),{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,59:Ze,60:kt,61:[1,230],66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(Yn,[2,75]),i(Ke,[2,79]),{22:un,24:vn,26:sn,38:zn,39:231,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(Ii,f,{17:232}),i(ze,[2,43]),{46:233,47:M,49:43,59:A,60:D,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,109:44,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le},{22:Oe,59:ge,60:Re,79:Be,89:234,95:_t,98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},{22:Oe,59:ge,60:Re,79:Be,89:248,95:_t,98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},{22:Oe,59:ge,60:Re,79:Be,89:249,95:_t,97:[1,250],98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},{22:Oe,59:ge,60:Re,79:Be,89:251,95:_t,97:[1,252],98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},{98:[1,253]},{22:Oe,59:ge,60:Re,79:Be,89:254,95:_t,98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},{22:Oe,59:ge,60:Re,79:Be,89:255,95:_t,98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},{26:dt,47:ot,59:Ze,60:kt,84:ln,90:256,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:93,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(tn,[2,98]),{77:[1,257]},i(tn,[2,102],{22:[1,258]}),i(tn,[2,103]),i(tn,[2,106]),i(tn,[2,108],{22:[1,259]}),i(tn,[2,109]),i(St,[2,55]),{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,51:[1,260],59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(St,[2,62]),i(St,[2,57]),i(St,[2,58]),i(St,[2,59]),{59:[1,261]},i(St,[2,61]),i(St,[2,63]),{22:un,24:vn,26:sn,38:zn,42:Un,47:ot,59:Ze,60:kt,65:[1,262],66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(St,[2,65]),i(St,[2,66]),i(St,[2,68]),i(St,[2,67]),i(St,[2,69]),i(Bt,[2,4]),i([22,47,59,60,84,88,98,99,102,104,105,115,116,117,118,119,120],[2,77]),{22:un,24:vn,26:sn,38:zn,41:[1,263],42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{18:18,19:19,20:v,21:w,22:E,23:C,32:24,33:25,34:26,35:27,36:28,37:29,38:O,42:[1,264],43:31,45:32,46:42,47:M,49:43,59:A,60:D,79:U,80:R,81:X,82:H,83:K,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,109:44,111:he,112:Ee,113:De,114:qe,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le},i(Pt,[2,53]),i(tn,[2,111],{99:dr}),i(Mr,[2,121],{101:266,22:Oe,59:ge,60:Re,79:Be,95:_t,98:At,102:Lt,103:yt,104:qt,105:Rn,106:Bn}),i(rr,[2,123]),i(rr,[2,125]),i(rr,[2,126]),i(rr,[2,127]),i(rr,[2,128]),i(rr,[2,129]),i(rr,[2,130]),i(rr,[2,131]),i(rr,[2,132]),i(rr,[2,133]),i(rr,[2,134]),i(rr,[2,135]),i(tn,[2,112],{99:dr}),i(tn,[2,113],{99:dr}),{22:[1,267]},i(tn,[2,114],{99:dr}),{22:[1,268]},i(we,[2,120]),i(tn,[2,94],{99:dr}),i(tn,[2,95],{99:dr}),i(tn,[2,96],{108:95,110:172,26:dt,47:ot,59:Ze,60:kt,84:ln,98:Ht,99:nn,102:qn,104:_n,105:rn,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe}),i(tn,[2,100]),{94:[1,269]},{94:[1,270]},{51:[1,271]},{61:[1,272]},{65:[1,273]},{9:274,20:nt,21:me,23:ut},i(ze,[2,42]),{22:Oe,59:ge,60:Re,79:Be,95:_t,98:At,100:275,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},i(rr,[2,124]),{26:dt,47:ot,59:Ze,60:kt,84:ln,90:276,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:93,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{26:dt,47:ot,59:Ze,60:kt,84:ln,90:277,98:Ht,99:nn,102:qn,104:_n,105:rn,108:95,110:93,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(tn,[2,104]),i(tn,[2,110]),i(St,[2,56]),{22:un,24:vn,26:sn,38:zn,39:278,42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:134,77:Vn,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},i(St,[2,64]),i(Ii,f,{17:279}),i(Mr,[2,122],{101:266,22:Oe,59:ge,60:Re,79:Be,95:_t,98:At,102:Lt,103:yt,104:qt,105:Rn,106:Bn}),i(tn,[2,117],{108:95,110:172,22:[1,280],26:dt,47:ot,59:Ze,60:kt,84:ln,98:Ht,99:nn,102:qn,104:_n,105:rn,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe}),i(tn,[2,118],{108:95,110:172,22:[1,281],26:dt,47:ot,59:Ze,60:kt,84:ln,98:Ht,99:nn,102:qn,104:_n,105:rn,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe}),{22:un,24:vn,26:sn,38:zn,41:[1,282],42:Un,47:ot,59:Ze,60:kt,66:nr,74:Dn,76:194,78:145,79:an,80:Gn,81:Kt,82:mn,83:en,84:pn,85:Nn,87:136,88:Hn,98:Ht,99:nn,102:Cn,104:_n,105:rn,106:tr,107:Jn,108:142,115:Yt,116:gn,117:cn,118:Et,119:it,120:Qe},{18:18,19:19,20:v,21:w,22:E,23:C,32:24,33:25,34:26,35:27,36:28,37:29,38:O,42:[1,283],43:31,45:32,46:42,47:M,49:43,59:A,60:D,79:U,80:R,81:X,82:H,83:K,84:W,88:Z,98:ie,99:se,102:oe,104:Q,105:ae,109:44,111:he,112:Ee,113:De,114:qe,115:_e,116:xe,117:Se,118:Ie,119:Ye,120:Le},{22:Oe,59:ge,60:Re,79:Be,89:284,95:_t,98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},{22:Oe,59:ge,60:Re,79:Be,89:285,95:_t,98:At,100:235,101:236,102:Lt,103:yt,104:qt,105:Rn,106:Bn},i(St,[2,60]),i(ze,[2,41]),i(tn,[2,115],{99:dr}),i(tn,[2,116],{99:dr})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],126:[2,7]},parseError:function(Sn,gr){if(!gr.recoverable){var or=new Error(Sn);throw or.hash=gr,or}this.trace(Sn)},parse:function(Sn){var gr=this,or=[0],fn=[],_r=[null],Fe=[],fi=this.table,gt="",qi=0,cs=0,Ps=0,Jo=2,No=1,Qo=Fe.slice.call(arguments,1),xi=Object.create(this.lexer),Ss={yy:{}};for(var hr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,hr)&&(Ss.yy[hr]=this.yy[hr]);xi.setInput(Sn,Ss.yy),Ss.yy.lexer=xi,Ss.yy.parser=this,xi.yylloc===void 0&&(xi.yylloc={});var xs=xi.yylloc;Fe.push(xs);var Bo=xi.options&&xi.options.ranges;function ri(){var st;return typeof(st=fn.pop()||xi.lex()||No)!="number"&&(st instanceof Array&&(st=(fn=st).pop()),st=gr.symbols_[st]||st),st}typeof Ss.yy.parseError=="function"?this.parseError=Ss.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var bi,ks,es,Ni,Bi,ps,Wi,yo,to,Ks={};;){if(es=or[or.length-1],this.defaultActions[es]?Ni=this.defaultActions[es]:(bi==null&&(bi=ri()),Ni=fi[es]&&fi[es][bi]),Ni===void 0||!Ni.length||!Ni[0]){var kl="";for(ps in to=[],fi[es])this.terminals_[ps]&&ps>Jo&&to.push("'"+this.terminals_[ps]+"'");kl=xi.showPosition?"Parse error on line "+(qi+1)+`:
`+xi.showPosition()+`
Expecting `+to.join(", ")+", got '"+(this.terminals_[bi]||bi)+"'":"Parse error on line "+(qi+1)+": Unexpected "+(bi==No?"end of input":"'"+(this.terminals_[bi]||bi)+"'"),this.parseError(kl,{text:xi.match,token:this.terminals_[bi]||bi,line:xi.yylineno,loc:xs,expected:to})}if(Ni[0]instanceof Array&&Ni.length>1)throw new Error("Parse Error: multiple actions possible at state: "+es+", token: "+bi);switch(Ni[0]){case 1:or.push(bi),_r.push(xi.yytext),Fe.push(xi.yylloc),or.push(Ni[1]),bi=null,ks?(bi=ks,ks=null):(cs=xi.yyleng,gt=xi.yytext,qi=xi.yylineno,xs=xi.yylloc,Ps>0);break;case 2:if(Wi=this.productions_[Ni[1]][1],Ks.$=_r[_r.length-Wi],Ks._$={first_line:Fe[Fe.length-(Wi||1)].first_line,last_line:Fe[Fe.length-1].last_line,first_column:Fe[Fe.length-(Wi||1)].first_column,last_column:Fe[Fe.length-1].last_column},Bo&&(Ks._$.range=[Fe[Fe.length-(Wi||1)].range[0],Fe[Fe.length-1].range[1]]),(Bi=this.performAction.apply(Ks,[gt,cs,qi,Ss.yy,Ni[1],_r,Fe].concat(Qo)))!==void 0)return Bi;Wi&&(or=or.slice(0,-1*Wi*2),_r=_r.slice(0,-1*Wi),Fe=Fe.slice(0,-1*Wi)),or.push(this.productions_[Ni[1]][0]),_r.push(Ks.$),Fe.push(Ks._$),yo=fi[or[or.length-2]][or[or.length-1]],or.push(yo);break;case 3:return!0}}return!0}},ei={EOF:1,parseError:function(Sn,gr){if(!this.yy.parser)throw new Error(Sn);this.yy.parser.parseError(Sn,gr)},setInput:function(Sn,gr){return this.yy=gr||this.yy||{},this._input=Sn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Sn=this._input[0];return this.yytext+=Sn,this.yyleng++,this.offset++,this.match+=Sn,this.matched+=Sn,Sn.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Sn},unput:function(Sn){var gr=Sn.length,or=Sn.split(/(?:\r\n?|\n)/g);this._input=Sn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-gr),this.offset-=gr;var fn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),or.length-1&&(this.yylineno-=or.length-1);var _r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:or?(or.length===fn.length?this.yylloc.first_column:0)+fn[fn.length-or.length].length-or[0].length:this.yylloc.first_column-gr},this.options.ranges&&(this.yylloc.range=[_r[0],_r[0]+this.yyleng-gr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Sn){this.unput(this.match.slice(Sn))},pastInput:function(){var Sn=this.matched.substr(0,this.matched.length-this.match.length);return(Sn.length>20?"...":"")+Sn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Sn=this.match;return Sn.length<20&&(Sn+=this._input.substr(0,20-Sn.length)),(Sn.substr(0,20)+(Sn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Sn=this.pastInput(),gr=new Array(Sn.length+1).join("-");return Sn+this.upcomingInput()+`
`+gr+"^"},test_match:function(Sn,gr){var or,fn,_r;if(this.options.backtrack_lexer&&(_r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_r.yylloc.range=this.yylloc.range.slice(0))),(fn=Sn[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=fn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:fn?fn[fn.length-1].length-fn[fn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Sn[0].length},this.yytext+=Sn[0],this.match+=Sn[0],this.matches=Sn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Sn[0].length),this.matched+=Sn[0],or=this.performAction.call(this,this.yy,this,gr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),or)return or;if(this._backtrack){for(var Fe in _r)this[Fe]=_r[Fe];return!1}return!1},next:function(){if(this.done)return this.EOF;var Sn,gr,or,fn;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var _r=this._currentRules(),Fe=0;Fe<_r.length;Fe++)if((or=this._input.match(this.rules[_r[Fe]]))&&(!gr||or[0].length>gr[0].length)){if(gr=or,fn=Fe,this.options.backtrack_lexer){if((Sn=this.test_match(or,_r[Fe]))!==!1)return Sn;if(this._backtrack){gr=!1;continue}return!1}if(!this.options.flex)break}return gr?(Sn=this.test_match(gr,_r[fn]))!==!1&&Sn:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Sn){this.conditionStack.push(Sn)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Sn){return(Sn=this.conditionStack.length-1-Math.abs(Sn||0))>=0?this.conditionStack[Sn]:"INITIAL"},pushState:function(Sn){this.begin(Sn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Sn,gr,or,fn){switch(or){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:this.begin("string");break;case 8:case 17:case 20:case 23:case 26:this.popState();break;case 9:return"STR";case 10:return 79;case 11:return 88;case 12:return 80;case 13:return 97;case 14:return 81;case 15:return 82;case 16:this.begin("href");break;case 18:return 93;case 19:this.begin("callbackname");break;case 21:this.popState(),this.begin("callbackargs");break;case 22:return 91;case 24:return 92;case 25:this.begin("click");break;case 27:return 83;case 28:case 29:return Sn.lex.firstGraph()&&this.begin("dir"),24;case 30:return 38;case 31:return 42;case 32:case 33:case 34:case 35:return 94;case 36:return this.popState(),25;case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:return this.popState(),26;case 47:return 111;case 48:return 112;case 49:return 113;case 50:return 114;case 51:return 98;case 52:return 104;case 53:return 48;case 54:return 60;case 55:return 47;case 56:return 20;case 57:return 99;case 58:return 119;case 59:case 60:case 61:return 75;case 62:case 63:case 64:return 74;case 65:return 52;case 66:return 53;case 67:return 54;case 68:return 55;case 69:return 56;case 70:return 57;case 71:return 58;case 72:return 62;case 73:return 63;case 74:return 102;case 75:return 105;case 76:return 120;case 77:return 117;case 78:return 106;case 79:case 80:return 118;case 81:return 107;case 82:return 66;case 83:return 85;case 84:return"SEP";case 85:return 84;case 86:return 59;case 87:return 68;case 88:return 67;case 89:return 70;case 90:return 69;case 91:return 115;case 92:return 116;case 93:return 61;case 94:return 50;case 95:return 51;case 96:return 40;case 97:return 41;case 98:return 64;case 99:return 65;case 100:return 126;case 101:return 21;case 102:return 22;case 103:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[23,24],inclusive:!1},callbackname:{rules:[20,21,22],inclusive:!1},href:{rules:[17,18],inclusive:!1},click:{rules:[26,27],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[36,37,38,39,40,41,42,43,44,45,46],inclusive:!1},string:{rules:[8,9],inclusive:!1},INITIAL:{rules:[0,5,6,7,10,11,12,13,14,15,16,19,25,28,29,30,31,32,33,34,35,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103],inclusive:!0}}};function Qn(){this.yy={}}return Or.lexer=ei,Qn.prototype=Or,Or.Parser=Qn,new Qn}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(5354).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},9959:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(W,Z,ie,se){for(ie=ie||{},se=W.length;se--;ie[W[se]]=Z);return ie},s=[1,3],o=[1,5],l=[7,9,11,12,13,14,15,16,17,18,19,20,22,29,34],d=[1,15],h=[1,16],f=[1,17],v=[1,18],w=[1,19],E=[1,20],C=[1,21],O=[1,22],M=[1,23],A=[1,25],D=[1,27],U=[1,30],R=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,29,34],X={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,section:20,clickStatement:21,taskTxt:22,taskData:23,openDirective:24,typeDirective:25,closeDirective:26,":":27,argDirective:28,click:29,callbackname:30,callbackargs:31,href:32,clickStatementDebug:33,open_directive:34,type_directive:35,arg_directive:36,close_directive:37,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"section",22:"taskTxt",23:"taskData",27:":",29:"click",30:"callbackname",31:"callbackargs",32:"href",34:"open_directive",35:"type_directive",36:"arg_directive",37:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[21,2],[21,3],[21,3],[21,4],[21,3],[21,4],[21,2],[33,2],[33,3],[33,3],[33,4],[33,3],[33,4],[33,2],[24,1],[25,1],[28,1],[26,1]],performAction:function(W,Z,ie,se,oe,Q,ae){var he=Q.length-1;switch(oe){case 2:return Q[he-1];case 3:case 7:case 8:this.$=[];break;case 4:Q[he-1].push(Q[he]),this.$=Q[he-1];break;case 5:case 6:this.$=Q[he];break;case 9:se.setDateFormat(Q[he].substr(11)),this.$=Q[he].substr(11);break;case 10:se.enableInclusiveEndDates(),this.$=Q[he].substr(18);break;case 11:se.TopAxis(),this.$=Q[he].substr(8);break;case 12:se.setAxisFormat(Q[he].substr(11)),this.$=Q[he].substr(11);break;case 13:se.setExcludes(Q[he].substr(9)),this.$=Q[he].substr(9);break;case 14:se.setIncludes(Q[he].substr(9)),this.$=Q[he].substr(9);break;case 15:se.setTodayMarker(Q[he].substr(12)),this.$=Q[he].substr(12);break;case 16:se.setTitle(Q[he].substr(6)),this.$=Q[he].substr(6);break;case 17:se.addSection(Q[he].substr(8)),this.$=Q[he].substr(8);break;case 19:se.addTask(Q[he-1],Q[he]),this.$="task";break;case 23:this.$=Q[he-1],se.setClickEvent(Q[he-1],Q[he],null);break;case 24:this.$=Q[he-2],se.setClickEvent(Q[he-2],Q[he-1],Q[he]);break;case 25:this.$=Q[he-2],se.setClickEvent(Q[he-2],Q[he-1],null),se.setLink(Q[he-2],Q[he]);break;case 26:this.$=Q[he-3],se.setClickEvent(Q[he-3],Q[he-2],Q[he-1]),se.setLink(Q[he-3],Q[he]);break;case 27:this.$=Q[he-2],se.setClickEvent(Q[he-2],Q[he],null),se.setLink(Q[he-2],Q[he-1]);break;case 28:this.$=Q[he-3],se.setClickEvent(Q[he-3],Q[he-1],Q[he]),se.setLink(Q[he-3],Q[he-2]);break;case 29:this.$=Q[he-1],se.setLink(Q[he-1],Q[he]);break;case 30:case 36:this.$=Q[he-1]+" "+Q[he];break;case 31:case 32:case 34:this.$=Q[he-2]+" "+Q[he-1]+" "+Q[he];break;case 33:case 35:this.$=Q[he-3]+" "+Q[he-2]+" "+Q[he-1]+" "+Q[he];break;case 37:se.parseDirective("%%{","open_directive");break;case 38:se.parseDirective(Q[he],"type_directive");break;case 39:Q[he]=Q[he].trim().replace(/'/g,'"'),se.parseDirective(Q[he],"arg_directive");break;case 40:se.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:s,24:4,34:o},{1:[3]},{3:6,4:2,5:s,24:4,34:o},i(l,[2,3],{6:7}),{25:8,35:[1,9]},{35:[2,37]},{1:[2,1]},{4:26,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:d,13:h,14:f,15:v,16:w,17:E,18:C,19:O,20:M,21:24,22:A,24:4,29:D,34:o},{26:28,27:[1,29],37:U},i([27,37],[2,38]),i(l,[2,8],{1:[2,2]}),i(l,[2,4]),{4:26,10:31,12:d,13:h,14:f,15:v,16:w,17:E,18:C,19:O,20:M,21:24,22:A,24:4,29:D,34:o},i(l,[2,6]),i(l,[2,7]),i(l,[2,9]),i(l,[2,10]),i(l,[2,11]),i(l,[2,12]),i(l,[2,13]),i(l,[2,14]),i(l,[2,15]),i(l,[2,16]),i(l,[2,17]),i(l,[2,18]),{23:[1,32]},i(l,[2,20]),{30:[1,33],32:[1,34]},{11:[1,35]},{28:36,36:[1,37]},{11:[2,40]},i(l,[2,5]),i(l,[2,19]),i(l,[2,23],{31:[1,38],32:[1,39]}),i(l,[2,29],{30:[1,40]}),i(R,[2,21]),{26:41,37:U},{37:[2,39]},i(l,[2,24],{32:[1,42]}),i(l,[2,25]),i(l,[2,27],{31:[1,43]}),{11:[1,44]},i(l,[2,26]),i(l,[2,28]),i(R,[2,22])],defaultActions:{5:[2,37],6:[2,1],30:[2,40],37:[2,39]},parseError:function(W,Z){if(!Z.recoverable){var ie=new Error(W);throw ie.hash=Z,ie}this.trace(W)},parse:function(W){var Z=this,ie=[0],se=[],oe=[null],Q=[],ae=this.table,he="",Ee=0,De=0,qe=0,_e=2,xe=1,Se=Q.slice.call(arguments,1),Ie=Object.create(this.lexer),Ye={yy:{}};for(var Le in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Le)&&(Ye.yy[Le]=this.yy[Le]);Ie.setInput(W,Ye.yy),Ye.yy.lexer=Ie,Ye.yy.parser=this,Ie.yylloc===void 0&&(Ie.yylloc={});var Nt=Ie.yylloc;Q.push(Nt);var pt=Ie.options&&Ie.options.ranges;function ze(){var qn;return typeof(qn=se.pop()||Ie.lex()||xe)!="number"&&(qn instanceof Array&&(qn=(se=qn).pop()),qn=Z.symbols_[qn]||qn),qn}typeof Ye.yy.parseError=="function"?this.parseError=Ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var nt,me,ut,Ve,dt,ot,Ze,kt,ln,Ht={};;){if(ut=ie[ie.length-1],this.defaultActions[ut]?Ve=this.defaultActions[ut]:(nt==null&&(nt=ze()),Ve=ae[ut]&&ae[ut][nt]),Ve===void 0||!Ve.length||!Ve[0]){var nn="";for(ot in ln=[],ae[ut])this.terminals_[ot]&&ot>_e&&ln.push("'"+this.terminals_[ot]+"'");nn=Ie.showPosition?"Parse error on line "+(Ee+1)+`:
`+Ie.showPosition()+`
Expecting `+ln.join(", ")+", got '"+(this.terminals_[nt]||nt)+"'":"Parse error on line "+(Ee+1)+": Unexpected "+(nt==xe?"end of input":"'"+(this.terminals_[nt]||nt)+"'"),this.parseError(nn,{text:Ie.match,token:this.terminals_[nt]||nt,line:Ie.yylineno,loc:Nt,expected:ln})}if(Ve[0]instanceof Array&&Ve.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ut+", token: "+nt);switch(Ve[0]){case 1:ie.push(nt),oe.push(Ie.yytext),Q.push(Ie.yylloc),ie.push(Ve[1]),nt=null,me?(nt=me,me=null):(De=Ie.yyleng,he=Ie.yytext,Ee=Ie.yylineno,Nt=Ie.yylloc,qe>0);break;case 2:if(Ze=this.productions_[Ve[1]][1],Ht.$=oe[oe.length-Ze],Ht._$={first_line:Q[Q.length-(Ze||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(Ze||1)].first_column,last_column:Q[Q.length-1].last_column},pt&&(Ht._$.range=[Q[Q.length-(Ze||1)].range[0],Q[Q.length-1].range[1]]),(dt=this.performAction.apply(Ht,[he,De,Ee,Ye.yy,Ve[1],oe,Q].concat(Se)))!==void 0)return dt;Ze&&(ie=ie.slice(0,-1*Ze*2),oe=oe.slice(0,-1*Ze),Q=Q.slice(0,-1*Ze)),ie.push(this.productions_[Ve[1]][0]),oe.push(Ht.$),Q.push(Ht._$),kt=ae[ie[ie.length-2]][ie[ie.length-1]],ie.push(kt);break;case 3:return!0}}return!0}},H={EOF:1,parseError:function(W,Z){if(!this.yy.parser)throw new Error(W);this.yy.parser.parseError(W,Z)},setInput:function(W,Z){return this.yy=Z||this.yy||{},this._input=W,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var W=this._input[0];return this.yytext+=W,this.yyleng++,this.offset++,this.match+=W,this.matched+=W,W.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),W},unput:function(W){var Z=W.length,ie=W.split(/(?:\r\n?|\n)/g);this._input=W+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Z),this.offset-=Z;var se=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ie.length-1&&(this.yylineno-=ie.length-1);var oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ie?(ie.length===se.length?this.yylloc.first_column:0)+se[se.length-ie.length].length-ie[0].length:this.yylloc.first_column-Z},this.options.ranges&&(this.yylloc.range=[oe[0],oe[0]+this.yyleng-Z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(W){this.unput(this.match.slice(W))},pastInput:function(){var W=this.matched.substr(0,this.matched.length-this.match.length);return(W.length>20?"...":"")+W.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var W=this.match;return W.length<20&&(W+=this._input.substr(0,20-W.length)),(W.substr(0,20)+(W.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var W=this.pastInput(),Z=new Array(W.length+1).join("-");return W+this.upcomingInput()+`
`+Z+"^"},test_match:function(W,Z){var ie,se,oe;if(this.options.backtrack_lexer&&(oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(oe.yylloc.range=this.yylloc.range.slice(0))),(se=W[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=se.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:se?se[se.length-1].length-se[se.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+W[0].length},this.yytext+=W[0],this.match+=W[0],this.matches=W,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(W[0].length),this.matched+=W[0],ie=this.performAction.call(this,this.yy,this,Z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ie)return ie;if(this._backtrack){for(var Q in oe)this[Q]=oe[Q];return!1}return!1},next:function(){if(this.done)return this.EOF;var W,Z,ie,se;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var oe=this._currentRules(),Q=0;Q<oe.length;Q++)if((ie=this._input.match(this.rules[oe[Q]]))&&(!Z||ie[0].length>Z[0].length)){if(Z=ie,se=Q,this.options.backtrack_lexer){if((W=this.test_match(ie,oe[Q]))!==!1)return W;if(this._backtrack){Z=!1;continue}return!1}if(!this.options.flex)break}return Z?(W=this.test_match(Z,oe[se]))!==!1&&W:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(W){this.conditionStack.push(W)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(W){return(W=this.conditionStack.length-1-Math.abs(W||0))>=0?this.conditionStack[W]:"INITIAL"},pushState:function(W){this.begin(W)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(W,Z,ie,se){switch(ie){case 0:return this.begin("open_directive"),34;case 1:return this.begin("type_directive"),35;case 2:return this.popState(),this.begin("arg_directive"),27;case 3:return this.popState(),this.popState(),37;case 4:return 36;case 5:case 6:case 7:case 9:case 10:case 11:break;case 8:return 11;case 12:this.begin("href");break;case 13:case 16:case 19:case 22:this.popState();break;case 14:return 32;case 15:this.begin("callbackname");break;case 17:this.popState(),this.begin("callbackargs");break;case 18:return 30;case 20:return 31;case 21:this.begin("click");break;case 23:return 29;case 24:return 5;case 25:return 12;case 26:return 13;case 27:return 14;case 28:return 15;case 29:return 17;case 30:return 16;case 31:return 18;case 32:return"date";case 33:return 19;case 34:return 20;case 35:return 22;case 36:return 23;case 37:return 27;case 38:return 7;case 39:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[19,20],inclusive:!1},callbackname:{rules:[16,17,18],inclusive:!1},href:{rules:[13,14],inclusive:!1},click:{rules:[22,23],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,15,21,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};function K(){this.yy={}}return X.lexer=H,K.prototype=X,X.Parser=K,new K}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(6878).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},2553:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(C,O,M,A){for(M=M||{},A=C.length;A--;M[C[A]]=O);return M},s=[2,3],o=[1,7],l=[7,12,15,17,19,20,21],d=[7,11,12,15,17,19,20,21],h=[2,20],f=[1,32],v={trace:function(){},yy:{},symbols_:{error:2,start:3,GG:4,":":5,document:6,EOF:7,DIR:8,options:9,body:10,OPT:11,NL:12,line:13,statement:14,COMMIT:15,commit_arg:16,BRANCH:17,ID:18,CHECKOUT:19,MERGE:20,RESET:21,reset_arg:22,STR:23,HEAD:24,reset_parents:25,CARET:26,$accept:0,$end:1},terminals_:{2:"error",4:"GG",5:":",7:"EOF",8:"DIR",11:"OPT",12:"NL",15:"COMMIT",17:"BRANCH",18:"ID",19:"CHECKOUT",20:"MERGE",21:"RESET",23:"STR",24:"HEAD",26:"CARET"},productions_:[0,[3,4],[3,5],[6,0],[6,2],[9,2],[9,1],[10,0],[10,2],[13,2],[13,1],[14,2],[14,2],[14,2],[14,2],[14,2],[16,0],[16,1],[22,2],[22,2],[25,0],[25,2]],performAction:function(C,O,M,A,D,U,R){var X=U.length-1;switch(D){case 1:return U[X-1];case 2:return A.setDirection(U[X-3]),U[X-1];case 4:A.setOptions(U[X-1]),this.$=U[X];break;case 5:U[X-1]+=U[X],this.$=U[X-1];break;case 7:this.$=[];break;case 8:U[X-1].push(U[X]),this.$=U[X-1];break;case 9:this.$=U[X-1];break;case 11:A.commit(U[X]);break;case 12:A.branch(U[X]);break;case 13:A.checkout(U[X]);break;case 14:A.merge(U[X]);break;case 15:A.reset(U[X]);break;case 16:this.$="";break;case 17:this.$=U[X];break;case 18:this.$=U[X-1]+":"+U[X];break;case 19:this.$=U[X-1]+":"+A.count,A.count=0;break;case 20:A.count=0;break;case 21:A.count+=1}},table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3],8:[1,4]},{6:5,7:s,9:6,12:o},{5:[1,8]},{7:[1,9]},i(l,[2,7],{10:10,11:[1,11]}),i(d,[2,6]),{6:12,7:s,9:6,12:o},{1:[2,1]},{7:[2,4],12:[1,15],13:13,14:14,15:[1,16],17:[1,17],19:[1,18],20:[1,19],21:[1,20]},i(d,[2,5]),{7:[1,21]},i(l,[2,8]),{12:[1,22]},i(l,[2,10]),{12:[2,16],16:23,23:[1,24]},{18:[1,25]},{18:[1,26]},{18:[1,27]},{18:[1,30],22:28,24:[1,29]},{1:[2,2]},i(l,[2,9]),{12:[2,11]},{12:[2,17]},{12:[2,12]},{12:[2,13]},{12:[2,14]},{12:[2,15]},{12:h,25:31,26:f},{12:h,25:33,26:f},{12:[2,18]},{12:h,25:34,26:f},{12:[2,19]},{12:[2,21]}],defaultActions:{9:[2,1],21:[2,2],23:[2,11],24:[2,17],25:[2,12],26:[2,13],27:[2,14],28:[2,15],31:[2,18],33:[2,19],34:[2,21]},parseError:function(C,O){if(!O.recoverable){var M=new Error(C);throw M.hash=O,M}this.trace(C)},parse:function(C){var O=this,M=[0],A=[],D=[null],U=[],R=this.table,X="",H=0,K=0,W=0,Z=2,ie=1,se=U.slice.call(arguments,1),oe=Object.create(this.lexer),Q={yy:{}};for(var ae in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ae)&&(Q.yy[ae]=this.yy[ae]);oe.setInput(C,Q.yy),Q.yy.lexer=oe,Q.yy.parser=this,oe.yylloc===void 0&&(oe.yylloc={});var he=oe.yylloc;U.push(he);var Ee=oe.options&&oe.options.ranges;function De(){var me;return typeof(me=A.pop()||oe.lex()||ie)!="number"&&(me instanceof Array&&(me=(A=me).pop()),me=O.symbols_[me]||me),me}typeof Q.yy.parseError=="function"?this.parseError=Q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var qe,_e,xe,Se,Ie,Ye,Le,Nt,pt,ze={};;){if(xe=M[M.length-1],this.defaultActions[xe]?Se=this.defaultActions[xe]:(qe==null&&(qe=De()),Se=R[xe]&&R[xe][qe]),Se===void 0||!Se.length||!Se[0]){var nt="";for(Ye in pt=[],R[xe])this.terminals_[Ye]&&Ye>Z&&pt.push("'"+this.terminals_[Ye]+"'");nt=oe.showPosition?"Parse error on line "+(H+1)+`:
`+oe.showPosition()+`
Expecting `+pt.join(", ")+", got '"+(this.terminals_[qe]||qe)+"'":"Parse error on line "+(H+1)+": Unexpected "+(qe==ie?"end of input":"'"+(this.terminals_[qe]||qe)+"'"),this.parseError(nt,{text:oe.match,token:this.terminals_[qe]||qe,line:oe.yylineno,loc:he,expected:pt})}if(Se[0]instanceof Array&&Se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+qe);switch(Se[0]){case 1:M.push(qe),D.push(oe.yytext),U.push(oe.yylloc),M.push(Se[1]),qe=null,_e?(qe=_e,_e=null):(K=oe.yyleng,X=oe.yytext,H=oe.yylineno,he=oe.yylloc,W>0);break;case 2:if(Le=this.productions_[Se[1]][1],ze.$=D[D.length-Le],ze._$={first_line:U[U.length-(Le||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Le||1)].first_column,last_column:U[U.length-1].last_column},Ee&&(ze._$.range=[U[U.length-(Le||1)].range[0],U[U.length-1].range[1]]),(Ie=this.performAction.apply(ze,[X,K,H,Q.yy,Se[1],D,U].concat(se)))!==void 0)return Ie;Le&&(M=M.slice(0,-1*Le*2),D=D.slice(0,-1*Le),U=U.slice(0,-1*Le)),M.push(this.productions_[Se[1]][0]),D.push(ze.$),U.push(ze._$),Nt=R[M[M.length-2]][M[M.length-1]],M.push(Nt);break;case 3:return!0}}return!0}},w={EOF:1,parseError:function(C,O){if(!this.yy.parser)throw new Error(C);this.yy.parser.parseError(C,O)},setInput:function(C,O){return this.yy=O||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var C=this._input[0];return this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C,C.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},unput:function(C){var O=C.length,M=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var A=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===A.length?this.yylloc.first_column:0)+A[A.length-M.length].length-M[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(C){this.unput(this.match.slice(C))},pastInput:function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var C=this.pastInput(),O=new Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+O+"^"},test_match:function(C,O){var M,A,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),(A=C[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=A.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:A?A[A.length-1].length-A[A.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],M=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var U in D)this[U]=D[U];return!1}return!1},next:function(){if(this.done)return this.EOF;var C,O,M,A;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),U=0;U<D.length;U++)if((M=this._input.match(this.rules[D[U]]))&&(!O||M[0].length>O[0].length)){if(O=M,A=U,this.options.backtrack_lexer){if((C=this.test_match(M,D[U]))!==!1)return C;if(this._backtrack){O=!1;continue}return!1}if(!this.options.flex)break}return O?(C=this.test_match(O,D[A]))!==!1&&C:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(C){this.conditionStack.push(C)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(C){return(C=this.conditionStack.length-1-Math.abs(C||0))>=0?this.conditionStack[C]:"INITIAL"},pushState:function(C){this.begin(C)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(C,O,M,A){switch(M){case 0:return 12;case 1:case 2:case 3:break;case 4:return 4;case 5:return 15;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 19;case 10:case 11:return 8;case 12:return 5;case 13:return 26;case 14:this.begin("options");break;case 15:case 18:this.popState();break;case 16:return 11;case 17:this.begin("string");break;case 19:return 23;case 20:return 18;case 21:return 7}},rules:[/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:branch\b)/i,/^(?:merge\b)/i,/^(?:reset\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:end\r?\n)/i,/^(?:[^\n]+\r?\n)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[a-zA-Z][-_\.a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],conditions:{options:{rules:[15,16],inclusive:!1},string:{rules:[18,19],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,20,21],inclusive:!0}}};function E(){this.yy={}}return v.lexer=w,E.prototype=v,v.Parser=E,new E}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(8183).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},6765:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(h,f,v,w){for(v=v||{},w=h.length;w--;v[h[w]]=f);return v},s=[6,9,10],o={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(h,f,v,w,E,C,O){switch(C.length,E){case 1:return w;case 4:break;case 6:w.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},i(s,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},i(s,[2,3]),i(s,[2,4]),i(s,[2,5]),i(s,[2,6])],defaultActions:{4:[2,1]},parseError:function(h,f){if(!f.recoverable){var v=new Error(h);throw v.hash=f,v}this.trace(h)},parse:function(h){var f=this,v=[0],w=[],E=[null],C=[],O=this.table,M="",A=0,D=0,U=0,R=2,X=1,H=C.slice.call(arguments,1),K=Object.create(this.lexer),W={yy:{}};for(var Z in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Z)&&(W.yy[Z]=this.yy[Z]);K.setInput(h,W.yy),W.yy.lexer=K,W.yy.parser=this,K.yylloc===void 0&&(K.yylloc={});var ie=K.yylloc;C.push(ie);var se=K.options&&K.options.ranges;function oe(){var Le;return typeof(Le=w.pop()||K.lex()||X)!="number"&&(Le instanceof Array&&(Le=(w=Le).pop()),Le=f.symbols_[Le]||Le),Le}typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Q,ae,he,Ee,De,qe,_e,xe,Se,Ie={};;){if(he=v[v.length-1],this.defaultActions[he]?Ee=this.defaultActions[he]:(Q==null&&(Q=oe()),Ee=O[he]&&O[he][Q]),Ee===void 0||!Ee.length||!Ee[0]){var Ye="";for(qe in Se=[],O[he])this.terminals_[qe]&&qe>R&&Se.push("'"+this.terminals_[qe]+"'");Ye=K.showPosition?"Parse error on line "+(A+1)+`:
`+K.showPosition()+`
Expecting `+Se.join(", ")+", got '"+(this.terminals_[Q]||Q)+"'":"Parse error on line "+(A+1)+": Unexpected "+(Q==X?"end of input":"'"+(this.terminals_[Q]||Q)+"'"),this.parseError(Ye,{text:K.match,token:this.terminals_[Q]||Q,line:K.yylineno,loc:ie,expected:Se})}if(Ee[0]instanceof Array&&Ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+he+", token: "+Q);switch(Ee[0]){case 1:v.push(Q),E.push(K.yytext),C.push(K.yylloc),v.push(Ee[1]),Q=null,ae?(Q=ae,ae=null):(D=K.yyleng,M=K.yytext,A=K.yylineno,ie=K.yylloc,U>0);break;case 2:if(_e=this.productions_[Ee[1]][1],Ie.$=E[E.length-_e],Ie._$={first_line:C[C.length-(_e||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(_e||1)].first_column,last_column:C[C.length-1].last_column},se&&(Ie._$.range=[C[C.length-(_e||1)].range[0],C[C.length-1].range[1]]),(De=this.performAction.apply(Ie,[M,D,A,W.yy,Ee[1],E,C].concat(H)))!==void 0)return De;_e&&(v=v.slice(0,-1*_e*2),E=E.slice(0,-1*_e),C=C.slice(0,-1*_e)),v.push(this.productions_[Ee[1]][0]),E.push(Ie.$),C.push(Ie._$),xe=O[v[v.length-2]][v[v.length-1]],v.push(xe);break;case 3:return!0}}return!0}},l={EOF:1,parseError:function(h,f){if(!this.yy.parser)throw new Error(h);this.yy.parser.parseError(h,f)},setInput:function(h,f){return this.yy=f||this.yy||{},this._input=h,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var h=this._input[0];return this.yytext+=h,this.yyleng++,this.offset++,this.match+=h,this.matched+=h,h.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),h},unput:function(h){var f=h.length,v=h.split(/(?:\r\n?|\n)/g);this._input=h+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var w=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1&&(this.yylineno-=v.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===w.length?this.yylloc.first_column:0)+w[w.length-v.length].length-v[0].length:this.yylloc.first_column-f},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-f]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(h){this.unput(this.match.slice(h))},pastInput:function(){var h=this.matched.substr(0,this.matched.length-this.match.length);return(h.length>20?"...":"")+h.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var h=this.match;return h.length<20&&(h+=this._input.substr(0,20-h.length)),(h.substr(0,20)+(h.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var h=this.pastInput(),f=new Array(h.length+1).join("-");return h+this.upcomingInput()+`
`+f+"^"},test_match:function(h,f){var v,w,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),(w=h[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=w.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.matches=h,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],v=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v)return v;if(this._backtrack){for(var C in E)this[C]=E[C];return!1}return!1},next:function(){if(this.done)return this.EOF;var h,f,v,w;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),C=0;C<E.length;C++)if((v=this._input.match(this.rules[E[C]]))&&(!f||v[0].length>f[0].length)){if(f=v,w=C,this.options.backtrack_lexer){if((h=this.test_match(v,E[C]))!==!1)return h;if(this._backtrack){f=!1;continue}return!1}if(!this.options.flex)break}return f?(h=this.test_match(f,E[w]))!==!1&&h:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(h){this.conditionStack.push(h)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(h){return(h=this.conditionStack.length-1-Math.abs(h||0))>=0?this.conditionStack[h]:"INITIAL"},pushState:function(h){this.begin(h)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(h,f,v,w){switch(v){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function d(){this.yy={}}return o.lexer=l,d.prototype=o,o.Parser=d,new d}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(1428).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},7062:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(H,K,W,Z){for(W=W||{},Z=H.length;Z--;W[H[Z]]=K);return W},s=[1,4],o=[1,5],l=[1,6],d=[1,7],h=[1,9],f=[1,11,13,20,21,22,23],v=[2,5],w=[1,6,11,13,20,21,22,23],E=[20,21,22],C=[2,8],O=[1,18],M=[1,19],A=[1,24],D=[6,20,21,22,23],U={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,openDirective:15,typeDirective:16,closeDirective:17,":":18,argDirective:19,NEWLINE:20,";":21,EOF:22,open_directive:23,type_directive:24,arg_directive:25,close_directive:26,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",18:":",20:"NEWLINE",21:";",22:"EOF",23:"open_directive",24:"type_directive",25:"arg_directive",26:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[15,1],[16,1],[19,1],[17,1]],performAction:function(H,K,W,Z,ie,se,oe){var Q=se.length-1;switch(ie){case 4:Z.setShowData(!0);break;case 7:this.$=se[Q-1];break;case 9:Z.addSection(se[Q-1],Z.cleanupValue(se[Q]));break;case 10:this.$=se[Q].trim(),Z.setTitle(this.$);break;case 17:Z.parseDirective("%%{","open_directive");break;case 18:Z.parseDirective(se[Q],"type_directive");break;case 19:se[Q]=se[Q].trim().replace(/'/g,'"'),Z.parseDirective(se[Q],"arg_directive");break;case 20:Z.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:s,15:8,20:o,21:l,22:d,23:h},{1:[3]},{3:10,4:2,5:3,6:s,15:8,20:o,21:l,22:d,23:h},{3:11,4:2,5:3,6:s,15:8,20:o,21:l,22:d,23:h},i(f,v,{7:12,8:[1,13]}),i(w,[2,14]),i(w,[2,15]),i(w,[2,16]),{16:14,24:[1,15]},{24:[2,17]},{1:[2,1]},{1:[2,2]},i(E,C,{15:8,9:16,10:17,5:20,1:[2,3],11:O,13:M,23:h}),i(f,v,{7:21}),{17:22,18:[1,23],26:A},i([18,26],[2,18]),i(f,[2,6]),{4:25,20:o,21:l,22:d},{12:[1,26]},{14:[1,27]},i(E,[2,11]),i(E,C,{15:8,9:16,10:17,5:20,1:[2,4],11:O,13:M,23:h}),i(D,[2,12]),{19:28,25:[1,29]},i(D,[2,20]),i(f,[2,7]),i(E,[2,9]),i(E,[2,10]),{17:30,26:A},{26:[2,19]},i(D,[2,13])],defaultActions:{9:[2,17],10:[2,1],11:[2,2],29:[2,19]},parseError:function(H,K){if(!K.recoverable){var W=new Error(H);throw W.hash=K,W}this.trace(H)},parse:function(H){var K=this,W=[0],Z=[],ie=[null],se=[],oe=this.table,Q="",ae=0,he=0,Ee=0,De=2,qe=1,_e=se.slice.call(arguments,1),xe=Object.create(this.lexer),Se={yy:{}};for(var Ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ie)&&(Se.yy[Ie]=this.yy[Ie]);xe.setInput(H,Se.yy),Se.yy.lexer=xe,Se.yy.parser=this,xe.yylloc===void 0&&(xe.yylloc={});var Ye=xe.yylloc;se.push(Ye);var Le=xe.options&&xe.options.ranges;function Nt(){var Ht;return typeof(Ht=Z.pop()||xe.lex()||qe)!="number"&&(Ht instanceof Array&&(Ht=(Z=Ht).pop()),Ht=K.symbols_[Ht]||Ht),Ht}typeof Se.yy.parseError=="function"?this.parseError=Se.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var pt,ze,nt,me,ut,Ve,dt,ot,Ze,kt={};;){if(nt=W[W.length-1],this.defaultActions[nt]?me=this.defaultActions[nt]:(pt==null&&(pt=Nt()),me=oe[nt]&&oe[nt][pt]),me===void 0||!me.length||!me[0]){var ln="";for(Ve in Ze=[],oe[nt])this.terminals_[Ve]&&Ve>De&&Ze.push("'"+this.terminals_[Ve]+"'");ln=xe.showPosition?"Parse error on line "+(ae+1)+`:
`+xe.showPosition()+`
Expecting `+Ze.join(", ")+", got '"+(this.terminals_[pt]||pt)+"'":"Parse error on line "+(ae+1)+": Unexpected "+(pt==qe?"end of input":"'"+(this.terminals_[pt]||pt)+"'"),this.parseError(ln,{text:xe.match,token:this.terminals_[pt]||pt,line:xe.yylineno,loc:Ye,expected:Ze})}if(me[0]instanceof Array&&me.length>1)throw new Error("Parse Error: multiple actions possible at state: "+nt+", token: "+pt);switch(me[0]){case 1:W.push(pt),ie.push(xe.yytext),se.push(xe.yylloc),W.push(me[1]),pt=null,ze?(pt=ze,ze=null):(he=xe.yyleng,Q=xe.yytext,ae=xe.yylineno,Ye=xe.yylloc,Ee>0);break;case 2:if(dt=this.productions_[me[1]][1],kt.$=ie[ie.length-dt],kt._$={first_line:se[se.length-(dt||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(dt||1)].first_column,last_column:se[se.length-1].last_column},Le&&(kt._$.range=[se[se.length-(dt||1)].range[0],se[se.length-1].range[1]]),(ut=this.performAction.apply(kt,[Q,he,ae,Se.yy,me[1],ie,se].concat(_e)))!==void 0)return ut;dt&&(W=W.slice(0,-1*dt*2),ie=ie.slice(0,-1*dt),se=se.slice(0,-1*dt)),W.push(this.productions_[me[1]][0]),ie.push(kt.$),se.push(kt._$),ot=oe[W[W.length-2]][W[W.length-1]],W.push(ot);break;case 3:return!0}}return!0}},R={EOF:1,parseError:function(H,K){if(!this.yy.parser)throw new Error(H);this.yy.parser.parseError(H,K)},setInput:function(H,K){return this.yy=K||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];return this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H,H.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var K=H.length,W=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-K),this.offset-=K;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),W.length-1&&(this.yylineno-=W.length-1);var ie=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:W?(W.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-W.length].length-W[0].length:this.yylloc.first_column-K},this.options.ranges&&(this.yylloc.range=[ie[0],ie[0]+this.yyleng-K]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),K=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+K+"^"},test_match:function(H,K){var W,Z,ie;if(this.options.backtrack_lexer&&(ie={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ie.yylloc.range=this.yylloc.range.slice(0))),(Z=H[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],W=this.performAction.call(this,this.yy,this,K,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),W)return W;if(this._backtrack){for(var se in ie)this[se]=ie[se];return!1}return!1},next:function(){if(this.done)return this.EOF;var H,K,W,Z;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ie=this._currentRules(),se=0;se<ie.length;se++)if((W=this._input.match(this.rules[ie[se]]))&&(!K||W[0].length>K[0].length)){if(K=W,Z=se,this.options.backtrack_lexer){if((H=this.test_match(W,ie[se]))!==!1)return H;if(this._backtrack){K=!1;continue}return!1}if(!this.options.flex)break}return K?(H=this.test_match(K,ie[Z]))!==!1&&H:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(H){this.conditionStack.push(H)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(H){return(H=this.conditionStack.length-1-Math.abs(H||0))>=0?this.conditionStack[H]:"INITIAL"},pushState:function(H){this.begin(H)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(H,K,W,Z){switch(W){case 0:return this.begin("open_directive"),23;case 1:return this.begin("type_directive"),24;case 2:return this.popState(),this.begin("arg_directive"),18;case 3:return this.popState(),this.popState(),26;case 4:return 25;case 5:case 6:case 8:case 9:break;case 7:return 20;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:this.begin("string");break;case 13:this.popState();break;case 14:return"txt";case 15:return 6;case 16:return 8;case 17:return"value";case 18:return 22}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,15,16,17,18],inclusive:!0}}};function X(){this.yy={}}return U.lexer=R,X.prototype=U,U.Parser=X,new X}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(4551).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3176:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(nt,me,ut,Ve){for(ut=ut||{},Ve=nt.length;Ve--;ut[nt[Ve]]=me);return ut},s=[1,3],o=[1,5],l=[1,17],d=[2,10],h=[1,21],f=[1,22],v=[1,23],w=[1,24],E=[1,25],C=[1,26],O=[1,19],M=[1,27],A=[1,28],D=[1,31],U=[66,67],R=[5,8,14,35,36,37,38,39,40,48,55,57,66,67],X=[5,6,8,14,35,36,37,38,39,40,48,66,67],H=[1,51],K=[1,52],W=[1,53],Z=[1,54],ie=[1,55],se=[1,56],oe=[1,57],Q=[57,58],ae=[1,69],he=[1,65],Ee=[1,66],De=[1,67],qe=[1,68],_e=[1,70],xe=[1,74],Se=[1,75],Ie=[1,72],Ye=[1,73],Le=[5,8,14,35,36,37,38,39,40,48,66,67],Nt={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,open_directive:14,type_directive:15,arg_directive:16,close_directive:17,requirementDef:18,elementDef:19,relationshipDef:20,requirementType:21,requirementName:22,STRUCT_START:23,requirementBody:24,ID:25,COLONSEP:26,id:27,TEXT:28,text:29,RISK:30,riskLevel:31,VERIFYMTHD:32,verifyType:33,STRUCT_STOP:34,REQUIREMENT:35,FUNCTIONAL_REQUIREMENT:36,INTERFACE_REQUIREMENT:37,PERFORMANCE_REQUIREMENT:38,PHYSICAL_REQUIREMENT:39,DESIGN_CONSTRAINT:40,LOW_RISK:41,MED_RISK:42,HIGH_RISK:43,VERIFY_ANALYSIS:44,VERIFY_DEMONSTRATION:45,VERIFY_INSPECTION:46,VERIFY_TEST:47,ELEMENT:48,elementName:49,elementBody:50,TYPE:51,type:52,DOCREF:53,ref:54,END_ARROW_L:55,relationship:56,LINE:57,END_ARROW_R:58,CONTAINS:59,COPIES:60,DERIVES:61,SATISFIES:62,VERIFIES:63,REFINES:64,TRACES:65,unqString:66,qString:67,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"open_directive",15:"type_directive",16:"arg_directive",17:"close_directive",23:"STRUCT_START",25:"ID",26:"COLONSEP",28:"TEXT",30:"RISK",32:"VERIFYMTHD",34:"STRUCT_STOP",35:"REQUIREMENT",36:"FUNCTIONAL_REQUIREMENT",37:"INTERFACE_REQUIREMENT",38:"PERFORMANCE_REQUIREMENT",39:"PHYSICAL_REQUIREMENT",40:"DESIGN_CONSTRAINT",41:"LOW_RISK",42:"MED_RISK",43:"HIGH_RISK",44:"VERIFY_ANALYSIS",45:"VERIFY_DEMONSTRATION",46:"VERIFY_INSPECTION",47:"VERIFY_TEST",48:"ELEMENT",51:"TYPE",53:"DOCREF",55:"END_ARROW_L",57:"LINE",58:"END_ARROW_R",59:"CONTAINS",60:"COPIES",61:"DERIVES",62:"SATISFIES",63:"VERIFIES",64:"REFINES",65:"TRACES",66:"unqString",67:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[18,5],[24,5],[24,5],[24,5],[24,5],[24,2],[24,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[31,1],[31,1],[31,1],[33,1],[33,1],[33,1],[33,1],[19,5],[50,5],[50,5],[50,2],[50,1],[20,5],[20,5],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[22,1],[22,1],[27,1],[27,1],[29,1],[29,1],[49,1],[49,1],[52,1],[52,1],[54,1],[54,1]],performAction:function(nt,me,ut,Ve,dt,ot,Ze){var kt=ot.length-1;switch(dt){case 6:Ve.parseDirective("%%{","open_directive");break;case 7:Ve.parseDirective(ot[kt],"type_directive");break;case 8:ot[kt]=ot[kt].trim().replace(/'/g,'"'),Ve.parseDirective(ot[kt],"arg_directive");break;case 9:Ve.parseDirective("}%%","close_directive","pie");break;case 10:this.$=[];break;case 16:Ve.addRequirement(ot[kt-3],ot[kt-4]);break;case 17:Ve.setNewReqId(ot[kt-2]);break;case 18:Ve.setNewReqText(ot[kt-2]);break;case 19:Ve.setNewReqRisk(ot[kt-2]);break;case 20:Ve.setNewReqVerifyMethod(ot[kt-2]);break;case 23:this.$=Ve.RequirementType.REQUIREMENT;break;case 24:this.$=Ve.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 25:this.$=Ve.RequirementType.INTERFACE_REQUIREMENT;break;case 26:this.$=Ve.RequirementType.PERFORMANCE_REQUIREMENT;break;case 27:this.$=Ve.RequirementType.PHYSICAL_REQUIREMENT;break;case 28:this.$=Ve.RequirementType.DESIGN_CONSTRAINT;break;case 29:this.$=Ve.RiskLevel.LOW_RISK;break;case 30:this.$=Ve.RiskLevel.MED_RISK;break;case 31:this.$=Ve.RiskLevel.HIGH_RISK;break;case 32:this.$=Ve.VerifyType.VERIFY_ANALYSIS;break;case 33:this.$=Ve.VerifyType.VERIFY_DEMONSTRATION;break;case 34:this.$=Ve.VerifyType.VERIFY_INSPECTION;break;case 35:this.$=Ve.VerifyType.VERIFY_TEST;break;case 36:Ve.addElement(ot[kt-3]);break;case 37:Ve.setNewElementType(ot[kt-2]);break;case 38:Ve.setNewElementDocRef(ot[kt-2]);break;case 41:Ve.addRelationship(ot[kt-2],ot[kt],ot[kt-4]);break;case 42:Ve.addRelationship(ot[kt-2],ot[kt-4],ot[kt]);break;case 43:this.$=Ve.Relationships.CONTAINS;break;case 44:this.$=Ve.Relationships.COPIES;break;case 45:this.$=Ve.Relationships.DERIVES;break;case 46:this.$=Ve.Relationships.SATISFIES;break;case 47:this.$=Ve.Relationships.VERIFIES;break;case 48:this.$=Ve.Relationships.REFINES;break;case 49:this.$=Ve.Relationships.TRACES}},table:[{3:1,4:2,6:s,9:4,14:o},{1:[3]},{3:7,4:2,5:[1,6],6:s,9:4,14:o},{5:[1,8]},{10:9,15:[1,10]},{15:[2,6]},{3:11,4:2,6:s,9:4,14:o},{1:[2,2]},{4:16,5:l,7:12,8:d,9:4,14:o,18:13,19:14,20:15,21:18,27:20,35:h,36:f,37:v,38:w,39:E,40:C,48:O,66:M,67:A},{11:29,12:[1,30],17:D},i([12,17],[2,7]),{1:[2,1]},{8:[1,32]},{4:16,5:l,7:33,8:d,9:4,14:o,18:13,19:14,20:15,21:18,27:20,35:h,36:f,37:v,38:w,39:E,40:C,48:O,66:M,67:A},{4:16,5:l,7:34,8:d,9:4,14:o,18:13,19:14,20:15,21:18,27:20,35:h,36:f,37:v,38:w,39:E,40:C,48:O,66:M,67:A},{4:16,5:l,7:35,8:d,9:4,14:o,18:13,19:14,20:15,21:18,27:20,35:h,36:f,37:v,38:w,39:E,40:C,48:O,66:M,67:A},{4:16,5:l,7:36,8:d,9:4,14:o,18:13,19:14,20:15,21:18,27:20,35:h,36:f,37:v,38:w,39:E,40:C,48:O,66:M,67:A},{4:16,5:l,7:37,8:d,9:4,14:o,18:13,19:14,20:15,21:18,27:20,35:h,36:f,37:v,38:w,39:E,40:C,48:O,66:M,67:A},{22:38,66:[1,39],67:[1,40]},{49:41,66:[1,42],67:[1,43]},{55:[1,44],57:[1,45]},i(U,[2,23]),i(U,[2,24]),i(U,[2,25]),i(U,[2,26]),i(U,[2,27]),i(U,[2,28]),i(R,[2,52]),i(R,[2,53]),i(X,[2,4]),{13:46,16:[1,47]},i(X,[2,9]),{1:[2,3]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{23:[1,48]},{23:[2,50]},{23:[2,51]},{23:[1,49]},{23:[2,56]},{23:[2,57]},{56:50,59:H,60:K,61:W,62:Z,63:ie,64:se,65:oe},{56:58,59:H,60:K,61:W,62:Z,63:ie,64:se,65:oe},{11:59,17:D},{17:[2,8]},{5:[1,60]},{5:[1,61]},{57:[1,62]},i(Q,[2,43]),i(Q,[2,44]),i(Q,[2,45]),i(Q,[2,46]),i(Q,[2,47]),i(Q,[2,48]),i(Q,[2,49]),{58:[1,63]},i(X,[2,5]),{5:ae,24:64,25:he,28:Ee,30:De,32:qe,34:_e},{5:xe,34:Se,50:71,51:Ie,53:Ye},{27:76,66:M,67:A},{27:77,66:M,67:A},i(Le,[2,16]),{26:[1,78]},{26:[1,79]},{26:[1,80]},{26:[1,81]},{5:ae,24:82,25:he,28:Ee,30:De,32:qe,34:_e},i(Le,[2,22]),i(Le,[2,36]),{26:[1,83]},{26:[1,84]},{5:xe,34:Se,50:85,51:Ie,53:Ye},i(Le,[2,40]),i(Le,[2,41]),i(Le,[2,42]),{27:86,66:M,67:A},{29:87,66:[1,88],67:[1,89]},{31:90,41:[1,91],42:[1,92],43:[1,93]},{33:94,44:[1,95],45:[1,96],46:[1,97],47:[1,98]},i(Le,[2,21]),{52:99,66:[1,100],67:[1,101]},{54:102,66:[1,103],67:[1,104]},i(Le,[2,39]),{5:[1,105]},{5:[1,106]},{5:[2,54]},{5:[2,55]},{5:[1,107]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[1,108]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[1,109]},{5:[2,58]},{5:[2,59]},{5:[1,110]},{5:[2,60]},{5:[2,61]},{5:ae,24:111,25:he,28:Ee,30:De,32:qe,34:_e},{5:ae,24:112,25:he,28:Ee,30:De,32:qe,34:_e},{5:ae,24:113,25:he,28:Ee,30:De,32:qe,34:_e},{5:ae,24:114,25:he,28:Ee,30:De,32:qe,34:_e},{5:xe,34:Se,50:115,51:Ie,53:Ye},{5:xe,34:Se,50:116,51:Ie,53:Ye},i(Le,[2,17]),i(Le,[2,18]),i(Le,[2,19]),i(Le,[2,20]),i(Le,[2,37]),i(Le,[2,38])],defaultActions:{5:[2,6],7:[2,2],11:[2,1],32:[2,3],33:[2,11],34:[2,12],35:[2,13],36:[2,14],37:[2,15],39:[2,50],40:[2,51],42:[2,56],43:[2,57],47:[2,8],88:[2,54],89:[2,55],91:[2,29],92:[2,30],93:[2,31],95:[2,32],96:[2,33],97:[2,34],98:[2,35],100:[2,58],101:[2,59],103:[2,60],104:[2,61]},parseError:function(nt,me){if(!me.recoverable){var ut=new Error(nt);throw ut.hash=me,ut}this.trace(nt)},parse:function(nt){var me=this,ut=[0],Ve=[],dt=[null],ot=[],Ze=this.table,kt="",ln=0,Ht=0,nn=0,qn=2,_n=1,rn=ot.slice.call(arguments,1),Yt=Object.create(this.lexer),gn={yy:{}};for(var cn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,cn)&&(gn.yy[cn]=this.yy[cn]);Yt.setInput(nt,gn.yy),gn.yy.lexer=Yt,gn.yy.parser=this,Yt.yylloc===void 0&&(Yt.yylloc={});var Et=Yt.yylloc;ot.push(Et);var it=Yt.options&&Yt.options.ranges;function Qe(){var Un;return typeof(Un=Ve.pop()||Yt.lex()||_n)!="number"&&(Un instanceof Array&&(Un=(Ve=Un).pop()),Un=me.symbols_[Un]||Un),Un}typeof gn.yy.parseError=="function"?this.parseError=gn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Pt,St,Ut,tn,Pn,yn,Yn,un,vn,sn={};;){if(Ut=ut[ut.length-1],this.defaultActions[Ut]?tn=this.defaultActions[Ut]:(Pt==null&&(Pt=Qe()),tn=Ze[Ut]&&Ze[Ut][Pt]),tn===void 0||!tn.length||!tn[0]){var zn="";for(yn in vn=[],Ze[Ut])this.terminals_[yn]&&yn>qn&&vn.push("'"+this.terminals_[yn]+"'");zn=Yt.showPosition?"Parse error on line "+(ln+1)+`:
`+Yt.showPosition()+`
Expecting `+vn.join(", ")+", got '"+(this.terminals_[Pt]||Pt)+"'":"Parse error on line "+(ln+1)+": Unexpected "+(Pt==_n?"end of input":"'"+(this.terminals_[Pt]||Pt)+"'"),this.parseError(zn,{text:Yt.match,token:this.terminals_[Pt]||Pt,line:Yt.yylineno,loc:Et,expected:vn})}if(tn[0]instanceof Array&&tn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ut+", token: "+Pt);switch(tn[0]){case 1:ut.push(Pt),dt.push(Yt.yytext),ot.push(Yt.yylloc),ut.push(tn[1]),Pt=null,St?(Pt=St,St=null):(Ht=Yt.yyleng,kt=Yt.yytext,ln=Yt.yylineno,Et=Yt.yylloc,nn>0);break;case 2:if(Yn=this.productions_[tn[1]][1],sn.$=dt[dt.length-Yn],sn._$={first_line:ot[ot.length-(Yn||1)].first_line,last_line:ot[ot.length-1].last_line,first_column:ot[ot.length-(Yn||1)].first_column,last_column:ot[ot.length-1].last_column},it&&(sn._$.range=[ot[ot.length-(Yn||1)].range[0],ot[ot.length-1].range[1]]),(Pn=this.performAction.apply(sn,[kt,Ht,ln,gn.yy,tn[1],dt,ot].concat(rn)))!==void 0)return Pn;Yn&&(ut=ut.slice(0,-1*Yn*2),dt=dt.slice(0,-1*Yn),ot=ot.slice(0,-1*Yn)),ut.push(this.productions_[tn[1]][0]),dt.push(sn.$),ot.push(sn._$),un=Ze[ut[ut.length-2]][ut[ut.length-1]],ut.push(un);break;case 3:return!0}}return!0}},pt={EOF:1,parseError:function(nt,me){if(!this.yy.parser)throw new Error(nt);this.yy.parser.parseError(nt,me)},setInput:function(nt,me){return this.yy=me||this.yy||{},this._input=nt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var nt=this._input[0];return this.yytext+=nt,this.yyleng++,this.offset++,this.match+=nt,this.matched+=nt,nt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),nt},unput:function(nt){var me=nt.length,ut=nt.split(/(?:\r\n?|\n)/g);this._input=nt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-me),this.offset-=me;var Ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ut.length-1&&(this.yylineno-=ut.length-1);var dt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ut?(ut.length===Ve.length?this.yylloc.first_column:0)+Ve[Ve.length-ut.length].length-ut[0].length:this.yylloc.first_column-me},this.options.ranges&&(this.yylloc.range=[dt[0],dt[0]+this.yyleng-me]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(nt){this.unput(this.match.slice(nt))},pastInput:function(){var nt=this.matched.substr(0,this.matched.length-this.match.length);return(nt.length>20?"...":"")+nt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var nt=this.match;return nt.length<20&&(nt+=this._input.substr(0,20-nt.length)),(nt.substr(0,20)+(nt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var nt=this.pastInput(),me=new Array(nt.length+1).join("-");return nt+this.upcomingInput()+`
`+me+"^"},test_match:function(nt,me){var ut,Ve,dt;if(this.options.backtrack_lexer&&(dt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(dt.yylloc.range=this.yylloc.range.slice(0))),(Ve=nt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ve?Ve[Ve.length-1].length-Ve[Ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+nt[0].length},this.yytext+=nt[0],this.match+=nt[0],this.matches=nt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(nt[0].length),this.matched+=nt[0],ut=this.performAction.call(this,this.yy,this,me,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ut)return ut;if(this._backtrack){for(var ot in dt)this[ot]=dt[ot];return!1}return!1},next:function(){if(this.done)return this.EOF;var nt,me,ut,Ve;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var dt=this._currentRules(),ot=0;ot<dt.length;ot++)if((ut=this._input.match(this.rules[dt[ot]]))&&(!me||ut[0].length>me[0].length)){if(me=ut,Ve=ot,this.options.backtrack_lexer){if((nt=this.test_match(ut,dt[ot]))!==!1)return nt;if(this._backtrack){me=!1;continue}return!1}if(!this.options.flex)break}return me?(nt=this.test_match(me,dt[Ve]))!==!1&&nt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(nt){this.conditionStack.push(nt)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(nt){return(nt=this.conditionStack.length-1-Math.abs(nt||0))>=0?this.conditionStack[nt]:"INITIAL"},pushState:function(nt){this.begin(nt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(nt,me,ut,Ve){switch(ut){case 0:return this.begin("open_directive"),14;case 1:return this.begin("type_directive"),15;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),17;case 4:return 16;case 5:return 5;case 6:case 7:case 8:break;case 9:return 8;case 10:return 6;case 11:return 23;case 12:return 34;case 13:return 26;case 14:return 25;case 15:return 28;case 16:return 30;case 17:return 32;case 18:return 35;case 19:return 36;case 20:return 37;case 21:return 38;case 22:return 39;case 23:return 40;case 24:return 41;case 25:return 42;case 26:return 43;case 27:return 44;case 28:return 45;case 29:return 46;case 30:return 47;case 31:return 48;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 62;case 36:return 63;case 37:return 64;case 38:return 65;case 39:return 51;case 40:return 53;case 41:return 55;case 42:return 58;case 43:return 57;case 44:this.begin("string");break;case 45:this.popState();break;case 46:return"qString";case 47:return me.yytext=me.yytext.trim(),66}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[45,46],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,47],inclusive:!0}}};function ze(){this.yy={}}return Nt.lexer=pt,ze.prototype=Nt,Nt.Parser=ze,new ze}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(8800).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},6876:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(Le,Nt,pt,ze){for(pt=pt||{},ze=Le.length;ze--;pt[Le[ze]]=Nt);return pt},s=[1,2],o=[1,3],l=[1,5],d=[1,7],h=[2,5],f=[1,15],v=[1,17],w=[1,18],E=[1,19],C=[1,21],O=[1,22],M=[1,23],A=[1,29],D=[1,30],U=[1,31],R=[1,32],X=[1,33],H=[1,34],K=[1,37],W=[1,38],Z=[1,39],ie=[1,40],se=[1,41],oe=[1,42],Q=[1,45],ae=[1,4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67],he=[1,58],Ee=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,42,46,47,48,49,57,67],De=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,41,42,46,47,48,49,57,67],qe=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,42,46,47,48,49,57,67],_e=[55,56,57],xe=[1,4,5,7,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67],Se={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,activate:23,deactivate:24,note_statement:25,links_statement:26,link_statement:27,properties_statement:28,details_statement:29,title:30,text2:31,loop:32,end:33,rect:34,opt:35,alt:36,else_sections:37,par:38,par_sections:39,and:40,else:41,note:42,placement:43,over:44,actor_pair:45,links:46,link:47,properties:48,details:49,spaceList:50,",":51,left_of:52,right_of:53,signaltype:54,"+":55,"-":56,ACTOR:57,SOLID_OPEN_ARROW:58,DOTTED_OPEN_ARROW:59,SOLID_ARROW:60,DOTTED_ARROW:61,SOLID_CROSS:62,DOTTED_CROSS:63,SOLID_POINT:64,DOTTED_POINT:65,TXT:66,open_directive:67,type_directive:68,arg_directive:69,close_directive:70,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"activate",24:"deactivate",30:"title",32:"loop",33:"end",34:"rect",35:"opt",36:"alt",38:"par",40:"and",41:"else",42:"note",44:"over",46:"links",47:"link",48:"properties",49:"details",51:",",52:"left_of",53:"right_of",55:"+",56:"-",57:"ACTOR",58:"SOLID_OPEN_ARROW",59:"DOTTED_OPEN_ARROW",60:"SOLID_ARROW",61:"DOTTED_ARROW",62:"SOLID_CROSS",63:"DOTTED_CROSS",64:"SOLID_POINT",65:"DOTTED_POINT",66:"TXT",67:"open_directive",68:"type_directive",69:"arg_directive",70:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,1],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,3],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[39,1],[39,4],[37,1],[37,4],[25,4],[25,4],[26,3],[27,3],[28,3],[29,3],[50,2],[50,1],[45,3],[45,1],[43,1],[43,1],[21,5],[21,5],[21,4],[17,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[31,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(Le,Nt,pt,ze,nt,me,ut){var Ve=me.length-1;switch(nt){case 4:return ze.apply(me[Ve]),me[Ve];case 5:case 9:this.$=[];break;case 6:me[Ve-1].push(me[Ve]),this.$=me[Ve-1];break;case 7:case 8:case 45:this.$=me[Ve];break;case 12:me[Ve-3].type="addParticipant",me[Ve-3].description=ze.parseMessage(me[Ve-1]),this.$=me[Ve-3];break;case 13:me[Ve-1].type="addParticipant",this.$=me[Ve-1];break;case 14:me[Ve-3].type="addActor",me[Ve-3].description=ze.parseMessage(me[Ve-1]),this.$=me[Ve-3];break;case 15:me[Ve-1].type="addActor",this.$=me[Ve-1];break;case 17:ze.enableSequenceNumbers();break;case 18:this.$={type:"activeStart",signalType:ze.LINETYPE.ACTIVE_START,actor:me[Ve-1]};break;case 19:this.$={type:"activeEnd",signalType:ze.LINETYPE.ACTIVE_END,actor:me[Ve-1]};break;case 25:this.$=[{type:"setTitle",text:me[Ve-1]}];break;case 26:me[Ve-1].unshift({type:"loopStart",loopText:ze.parseMessage(me[Ve-2]),signalType:ze.LINETYPE.LOOP_START}),me[Ve-1].push({type:"loopEnd",loopText:me[Ve-2],signalType:ze.LINETYPE.LOOP_END}),this.$=me[Ve-1];break;case 27:me[Ve-1].unshift({type:"rectStart",color:ze.parseMessage(me[Ve-2]),signalType:ze.LINETYPE.RECT_START}),me[Ve-1].push({type:"rectEnd",color:ze.parseMessage(me[Ve-2]),signalType:ze.LINETYPE.RECT_END}),this.$=me[Ve-1];break;case 28:me[Ve-1].unshift({type:"optStart",optText:ze.parseMessage(me[Ve-2]),signalType:ze.LINETYPE.OPT_START}),me[Ve-1].push({type:"optEnd",optText:ze.parseMessage(me[Ve-2]),signalType:ze.LINETYPE.OPT_END}),this.$=me[Ve-1];break;case 29:me[Ve-1].unshift({type:"altStart",altText:ze.parseMessage(me[Ve-2]),signalType:ze.LINETYPE.ALT_START}),me[Ve-1].push({type:"altEnd",signalType:ze.LINETYPE.ALT_END}),this.$=me[Ve-1];break;case 30:me[Ve-1].unshift({type:"parStart",parText:ze.parseMessage(me[Ve-2]),signalType:ze.LINETYPE.PAR_START}),me[Ve-1].push({type:"parEnd",signalType:ze.LINETYPE.PAR_END}),this.$=me[Ve-1];break;case 33:this.$=me[Ve-3].concat([{type:"and",parText:ze.parseMessage(me[Ve-1]),signalType:ze.LINETYPE.PAR_AND},me[Ve]]);break;case 35:this.$=me[Ve-3].concat([{type:"else",altText:ze.parseMessage(me[Ve-1]),signalType:ze.LINETYPE.ALT_ELSE},me[Ve]]);break;case 36:this.$=[me[Ve-1],{type:"addNote",placement:me[Ve-2],actor:me[Ve-1].actor,text:me[Ve]}];break;case 37:me[Ve-2]=[].concat(me[Ve-1],me[Ve-1]).slice(0,2),me[Ve-2][0]=me[Ve-2][0].actor,me[Ve-2][1]=me[Ve-2][1].actor,this.$=[me[Ve-1],{type:"addNote",placement:ze.PLACEMENT.OVER,actor:me[Ve-2].slice(0,2),text:me[Ve]}];break;case 38:this.$=[me[Ve-1],{type:"addLinks",actor:me[Ve-1].actor,text:me[Ve]}];break;case 39:this.$=[me[Ve-1],{type:"addALink",actor:me[Ve-1].actor,text:me[Ve]}];break;case 40:this.$=[me[Ve-1],{type:"addProperties",actor:me[Ve-1].actor,text:me[Ve]}];break;case 41:this.$=[me[Ve-1],{type:"addDetails",actor:me[Ve-1].actor,text:me[Ve]}];break;case 44:this.$=[me[Ve-2],me[Ve]];break;case 46:this.$=ze.PLACEMENT.LEFTOF;break;case 47:this.$=ze.PLACEMENT.RIGHTOF;break;case 48:this.$=[me[Ve-4],me[Ve-1],{type:"addMessage",from:me[Ve-4].actor,to:me[Ve-1].actor,signalType:me[Ve-3],msg:me[Ve]},{type:"activeStart",signalType:ze.LINETYPE.ACTIVE_START,actor:me[Ve-1]}];break;case 49:this.$=[me[Ve-4],me[Ve-1],{type:"addMessage",from:me[Ve-4].actor,to:me[Ve-1].actor,signalType:me[Ve-3],msg:me[Ve]},{type:"activeEnd",signalType:ze.LINETYPE.ACTIVE_END,actor:me[Ve-4]}];break;case 50:this.$=[me[Ve-3],me[Ve-1],{type:"addMessage",from:me[Ve-3].actor,to:me[Ve-1].actor,signalType:me[Ve-2],msg:me[Ve]}];break;case 51:this.$={type:"addParticipant",actor:me[Ve]};break;case 52:this.$=ze.LINETYPE.SOLID_OPEN;break;case 53:this.$=ze.LINETYPE.DOTTED_OPEN;break;case 54:this.$=ze.LINETYPE.SOLID;break;case 55:this.$=ze.LINETYPE.DOTTED;break;case 56:this.$=ze.LINETYPE.SOLID_CROSS;break;case 57:this.$=ze.LINETYPE.DOTTED_CROSS;break;case 58:this.$=ze.LINETYPE.SOLID_POINT;break;case 59:this.$=ze.LINETYPE.DOTTED_POINT;break;case 60:this.$=ze.parseMessage(me[Ve].trim().substring(1));break;case 61:ze.parseDirective("%%{","open_directive");break;case 62:ze.parseDirective(me[Ve],"type_directive");break;case 63:me[Ve]=me[Ve].trim().replace(/'/g,'"'),ze.parseDirective(me[Ve],"arg_directive");break;case 64:ze.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:s,5:o,6:4,7:l,11:6,67:d},{1:[3]},{3:8,4:s,5:o,6:4,7:l,11:6,67:d},{3:9,4:s,5:o,6:4,7:l,11:6,67:d},{3:10,4:s,5:o,6:4,7:l,11:6,67:d},i([1,4,5,16,20,22,23,24,30,32,34,35,36,38,42,46,47,48,49,57,67],h,{8:11}),{12:12,68:[1,13]},{68:[2,61]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:f,5:v,6:35,9:14,10:16,11:6,16:w,17:36,20:E,21:20,22:C,23:O,24:M,25:24,26:25,27:26,28:27,29:28,30:A,32:D,34:U,35:R,36:X,38:H,42:K,46:W,47:Z,48:ie,49:se,57:oe,67:d},{13:43,14:[1,44],70:Q},i([14,70],[2,62]),i(ae,[2,6]),{6:35,10:46,11:6,16:w,17:36,20:E,21:20,22:C,23:O,24:M,25:24,26:25,27:26,28:27,29:28,30:A,32:D,34:U,35:R,36:X,38:H,42:K,46:W,47:Z,48:ie,49:se,57:oe,67:d},i(ae,[2,8]),i(ae,[2,9]),{17:47,57:oe},{17:48,57:oe},{5:[1,49]},i(ae,[2,17]),{17:50,57:oe},{17:51,57:oe},{5:[1,52]},{5:[1,53]},{5:[1,54]},{5:[1,55]},{5:[1,56]},{31:57,66:he},{19:[1,59]},{19:[1,60]},{19:[1,61]},{19:[1,62]},{19:[1,63]},i(ae,[2,31]),{54:64,58:[1,65],59:[1,66],60:[1,67],61:[1,68],62:[1,69],63:[1,70],64:[1,71],65:[1,72]},{43:73,44:[1,74],52:[1,75],53:[1,76]},{17:77,57:oe},{17:78,57:oe},{17:79,57:oe},{17:80,57:oe},i([5,18,51,58,59,60,61,62,63,64,65,66],[2,51]),{5:[1,81]},{15:82,69:[1,83]},{5:[2,64]},i(ae,[2,7]),{5:[1,85],18:[1,84]},{5:[1,87],18:[1,86]},i(ae,[2,16]),{5:[1,88]},{5:[1,89]},i(ae,[2,20]),i(ae,[2,21]),i(ae,[2,22]),i(ae,[2,23]),i(ae,[2,24]),{5:[1,90]},{5:[2,60]},i(Ee,h,{8:91}),i(Ee,h,{8:92}),i(Ee,h,{8:93}),i(De,h,{37:94,8:95}),i(qe,h,{39:96,8:97}),{17:100,55:[1,98],56:[1,99],57:oe},i(_e,[2,52]),i(_e,[2,53]),i(_e,[2,54]),i(_e,[2,55]),i(_e,[2,56]),i(_e,[2,57]),i(_e,[2,58]),i(_e,[2,59]),{17:101,57:oe},{17:103,45:102,57:oe},{57:[2,46]},{57:[2,47]},{31:104,66:he},{31:105,66:he},{31:106,66:he},{31:107,66:he},i(xe,[2,10]),{13:108,70:Q},{70:[2,63]},{19:[1,109]},i(ae,[2,13]),{19:[1,110]},i(ae,[2,15]),i(ae,[2,18]),i(ae,[2,19]),i(ae,[2,25]),{4:f,5:v,6:35,9:14,10:16,11:6,16:w,17:36,20:E,21:20,22:C,23:O,24:M,25:24,26:25,27:26,28:27,29:28,30:A,32:D,33:[1,111],34:U,35:R,36:X,38:H,42:K,46:W,47:Z,48:ie,49:se,57:oe,67:d},{4:f,5:v,6:35,9:14,10:16,11:6,16:w,17:36,20:E,21:20,22:C,23:O,24:M,25:24,26:25,27:26,28:27,29:28,30:A,32:D,33:[1,112],34:U,35:R,36:X,38:H,42:K,46:W,47:Z,48:ie,49:se,57:oe,67:d},{4:f,5:v,6:35,9:14,10:16,11:6,16:w,17:36,20:E,21:20,22:C,23:O,24:M,25:24,26:25,27:26,28:27,29:28,30:A,32:D,33:[1,113],34:U,35:R,36:X,38:H,42:K,46:W,47:Z,48:ie,49:se,57:oe,67:d},{33:[1,114]},{4:f,5:v,6:35,9:14,10:16,11:6,16:w,17:36,20:E,21:20,22:C,23:O,24:M,25:24,26:25,27:26,28:27,29:28,30:A,32:D,33:[2,34],34:U,35:R,36:X,38:H,41:[1,115],42:K,46:W,47:Z,48:ie,49:se,57:oe,67:d},{33:[1,116]},{4:f,5:v,6:35,9:14,10:16,11:6,16:w,17:36,20:E,21:20,22:C,23:O,24:M,25:24,26:25,27:26,28:27,29:28,30:A,32:D,33:[2,32],34:U,35:R,36:X,38:H,40:[1,117],42:K,46:W,47:Z,48:ie,49:se,57:oe,67:d},{17:118,57:oe},{17:119,57:oe},{31:120,66:he},{31:121,66:he},{31:122,66:he},{51:[1,123],66:[2,45]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},{5:[1,124]},{5:[1,125]},{5:[1,126]},i(ae,[2,26]),i(ae,[2,27]),i(ae,[2,28]),i(ae,[2,29]),{19:[1,127]},i(ae,[2,30]),{19:[1,128]},{31:129,66:he},{31:130,66:he},{5:[2,50]},{5:[2,36]},{5:[2,37]},{17:131,57:oe},i(xe,[2,11]),i(ae,[2,12]),i(ae,[2,14]),i(De,h,{8:95,37:132}),i(qe,h,{8:97,39:133}),{5:[2,48]},{5:[2,49]},{66:[2,44]},{33:[2,35]},{33:[2,33]}],defaultActions:{7:[2,61],8:[2,1],9:[2,2],10:[2,3],45:[2,64],58:[2,60],75:[2,46],76:[2,47],83:[2,63],104:[2,38],105:[2,39],106:[2,40],107:[2,41],120:[2,50],121:[2,36],122:[2,37],129:[2,48],130:[2,49],131:[2,44],132:[2,35],133:[2,33]},parseError:function(Le,Nt){if(!Nt.recoverable){var pt=new Error(Le);throw pt.hash=Nt,pt}this.trace(Le)},parse:function(Le){var Nt=this,pt=[0],ze=[],nt=[null],me=[],ut=this.table,Ve="",dt=0,ot=0,Ze=0,kt=2,ln=1,Ht=me.slice.call(arguments,1),nn=Object.create(this.lexer),qn={yy:{}};for(var _n in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_n)&&(qn.yy[_n]=this.yy[_n]);nn.setInput(Le,qn.yy),qn.yy.lexer=nn,qn.yy.parser=this,nn.yylloc===void 0&&(nn.yylloc={});var rn=nn.yylloc;me.push(rn);var Yt=nn.options&&nn.options.ranges;function gn(){var un;return typeof(un=ze.pop()||nn.lex()||ln)!="number"&&(un instanceof Array&&(un=(ze=un).pop()),un=Nt.symbols_[un]||un),un}typeof qn.yy.parseError=="function"?this.parseError=qn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var cn,Et,it,Qe,Pt,St,Ut,tn,Pn,yn={};;){if(it=pt[pt.length-1],this.defaultActions[it]?Qe=this.defaultActions[it]:(cn==null&&(cn=gn()),Qe=ut[it]&&ut[it][cn]),Qe===void 0||!Qe.length||!Qe[0]){var Yn="";for(St in Pn=[],ut[it])this.terminals_[St]&&St>kt&&Pn.push("'"+this.terminals_[St]+"'");Yn=nn.showPosition?"Parse error on line "+(dt+1)+`:
`+nn.showPosition()+`
Expecting `+Pn.join(", ")+", got '"+(this.terminals_[cn]||cn)+"'":"Parse error on line "+(dt+1)+": Unexpected "+(cn==ln?"end of input":"'"+(this.terminals_[cn]||cn)+"'"),this.parseError(Yn,{text:nn.match,token:this.terminals_[cn]||cn,line:nn.yylineno,loc:rn,expected:Pn})}if(Qe[0]instanceof Array&&Qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+it+", token: "+cn);switch(Qe[0]){case 1:pt.push(cn),nt.push(nn.yytext),me.push(nn.yylloc),pt.push(Qe[1]),cn=null,Et?(cn=Et,Et=null):(ot=nn.yyleng,Ve=nn.yytext,dt=nn.yylineno,rn=nn.yylloc,Ze>0);break;case 2:if(Ut=this.productions_[Qe[1]][1],yn.$=nt[nt.length-Ut],yn._$={first_line:me[me.length-(Ut||1)].first_line,last_line:me[me.length-1].last_line,first_column:me[me.length-(Ut||1)].first_column,last_column:me[me.length-1].last_column},Yt&&(yn._$.range=[me[me.length-(Ut||1)].range[0],me[me.length-1].range[1]]),(Pt=this.performAction.apply(yn,[Ve,ot,dt,qn.yy,Qe[1],nt,me].concat(Ht)))!==void 0)return Pt;Ut&&(pt=pt.slice(0,-1*Ut*2),nt=nt.slice(0,-1*Ut),me=me.slice(0,-1*Ut)),pt.push(this.productions_[Qe[1]][0]),nt.push(yn.$),me.push(yn._$),tn=ut[pt[pt.length-2]][pt[pt.length-1]],pt.push(tn);break;case 3:return!0}}return!0}},Ie={EOF:1,parseError:function(Le,Nt){if(!this.yy.parser)throw new Error(Le);this.yy.parser.parseError(Le,Nt)},setInput:function(Le,Nt){return this.yy=Nt||this.yy||{},this._input=Le,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Le=this._input[0];return this.yytext+=Le,this.yyleng++,this.offset++,this.match+=Le,this.matched+=Le,Le.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Le},unput:function(Le){var Nt=Le.length,pt=Le.split(/(?:\r\n?|\n)/g);this._input=Le+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Nt),this.offset-=Nt;var ze=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pt.length-1&&(this.yylineno-=pt.length-1);var nt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pt?(pt.length===ze.length?this.yylloc.first_column:0)+ze[ze.length-pt.length].length-pt[0].length:this.yylloc.first_column-Nt},this.options.ranges&&(this.yylloc.range=[nt[0],nt[0]+this.yyleng-Nt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Le){this.unput(this.match.slice(Le))},pastInput:function(){var Le=this.matched.substr(0,this.matched.length-this.match.length);return(Le.length>20?"...":"")+Le.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Le=this.match;return Le.length<20&&(Le+=this._input.substr(0,20-Le.length)),(Le.substr(0,20)+(Le.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Le=this.pastInput(),Nt=new Array(Le.length+1).join("-");return Le+this.upcomingInput()+`
`+Nt+"^"},test_match:function(Le,Nt){var pt,ze,nt;if(this.options.backtrack_lexer&&(nt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(nt.yylloc.range=this.yylloc.range.slice(0))),(ze=Le[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ze.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ze?ze[ze.length-1].length-ze[ze.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Le[0].length},this.yytext+=Le[0],this.match+=Le[0],this.matches=Le,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Le[0].length),this.matched+=Le[0],pt=this.performAction.call(this,this.yy,this,Nt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pt)return pt;if(this._backtrack){for(var me in nt)this[me]=nt[me];return!1}return!1},next:function(){if(this.done)return this.EOF;var Le,Nt,pt,ze;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var nt=this._currentRules(),me=0;me<nt.length;me++)if((pt=this._input.match(this.rules[nt[me]]))&&(!Nt||pt[0].length>Nt[0].length)){if(Nt=pt,ze=me,this.options.backtrack_lexer){if((Le=this.test_match(pt,nt[me]))!==!1)return Le;if(this._backtrack){Nt=!1;continue}return!1}if(!this.options.flex)break}return Nt?(Le=this.test_match(Nt,nt[ze]))!==!1&&Le:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Le){this.conditionStack.push(Le)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Le){return(Le=this.conditionStack.length-1-Math.abs(Le||0))>=0?this.conditionStack[Le]:"INITIAL"},pushState:function(Le){this.begin(Le)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Le,Nt,pt,ze){switch(pt){case 0:return this.begin("open_directive"),67;case 1:return this.begin("type_directive"),68;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),70;case 4:return 69;case 5:case 39:case 52:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return this.begin("ID"),16;case 12:return this.begin("ID"),20;case 13:return Nt.yytext=Nt.yytext.trim(),this.begin("ALIAS"),57;case 14:return this.popState(),this.popState(),this.begin("LINE"),18;case 15:return this.popState(),this.popState(),5;case 16:return this.begin("LINE"),32;case 17:return this.begin("LINE"),34;case 18:return this.begin("LINE"),35;case 19:return this.begin("LINE"),36;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),38;case 22:return this.begin("LINE"),40;case 23:return this.popState(),19;case 24:return 33;case 25:return 52;case 26:return 53;case 27:return 46;case 28:return 47;case 29:return 48;case 30:return 49;case 31:return 44;case 32:return 42;case 33:return this.begin("ID"),23;case 34:return this.begin("ID"),24;case 35:return 30;case 36:return 7;case 37:return 22;case 38:return 51;case 40:return Nt.yytext=Nt.yytext.trim(),57;case 41:return 60;case 42:return 61;case 43:return 58;case 44:return 59;case 45:return 62;case 46:return 63;case 47:return 64;case 48:return 65;case 49:return 66;case 50:return 55;case 51:return 56;case 53:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\b)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,13],inclusive:!1},ALIAS:{rules:[7,8,14,15],inclusive:!1},LINE:{rules:[7,8,23],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,16,17,18,19,20,21,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53],inclusive:!0}}};function Ye(){this.yy={}}return Se.lexer=Ie,Ye.prototype=Se,Se.Parser=Ye,new Ye}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(1993).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3584:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(_e,xe,Se,Ie){for(Se=Se||{},Ie=_e.length;Ie--;Se[_e[Ie]]=xe);return Se},s=[1,2],o=[1,3],l=[1,5],d=[1,7],h=[2,5],f=[1,15],v=[1,17],w=[1,19],E=[1,20],C=[1,21],O=[1,22],M=[1,30],A=[1,23],D=[1,24],U=[1,25],R=[1,26],X=[1,27],H=[1,32],K=[1,33],W=[1,34],Z=[1,35],ie=[1,31],se=[1,38],oe=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],Q=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],ae=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],he=[4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],Ee={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"-->":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,openDirective:31,typeDirective:32,closeDirective:33,":":34,argDirective:35,direction_tb:36,direction_bt:37,direction_rl:38,direction_lr:39,eol:40,";":41,EDGE_STATE:42,left_of:43,right_of:44,open_directive:45,type_directive:46,arg_directive:47,close_directive:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"-->",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",34:":",36:"direction_tb",37:"direction_bt",38:"direction_rl",39:"direction_lr",41:";",42:"EDGE_STATE",43:"left_of",44:"right_of",45:"open_directive",46:"type_directive",47:"arg_directive",48:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[40,1],[40,1],[11,1],[11,1],[28,1],[28,1],[31,1],[32,1],[35,1],[33,1]],performAction:function(_e,xe,Se,Ie,Ye,Le,Nt){var pt=Le.length-1;switch(Ye){case 4:return Ie.setRootDoc(Le[pt]),Le[pt];case 5:this.$=[];break;case 6:Le[pt]!="nl"&&(Le[pt-1].push(Le[pt]),this.$=Le[pt-1]);break;case 7:case 8:case 36:case 37:this.$=Le[pt];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:Le[pt],type:"default",description:""};break;case 11:this.$={stmt:"state",id:Le[pt-1],type:"default",description:Ie.trimColon(Le[pt])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:Le[pt-2],type:"default",description:""},state2:{stmt:"state",id:Le[pt],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:Le[pt-3],type:"default",description:""},state2:{stmt:"state",id:Le[pt-1],type:"default",description:""},description:Le[pt].substr(1).trim()};break;case 17:this.$={stmt:"state",id:Le[pt-3],type:"default",description:"",doc:Le[pt-1]};break;case 18:var ze=Le[pt],nt=Le[pt-2].trim();if(Le[pt].match(":")){var me=Le[pt].split(":");ze=me[0],nt=[nt,me[1]]}this.$={stmt:"state",id:ze,type:"default",description:nt};break;case 19:this.$={stmt:"state",id:Le[pt-3],type:"default",description:Le[pt-5],doc:Le[pt-1]};break;case 20:this.$={stmt:"state",id:Le[pt],type:"fork"};break;case 21:this.$={stmt:"state",id:Le[pt],type:"join"};break;case 22:this.$={stmt:"state",id:Le[pt],type:"choice"};break;case 23:this.$={stmt:"state",id:Ie.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:Le[pt-1].trim(),note:{position:Le[pt-2].trim(),text:Le[pt].trim()}};break;case 30:Ie.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 31:Ie.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 32:Ie.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 33:Ie.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 40:Ie.parseDirective("%%{","open_directive");break;case 41:Ie.parseDirective(Le[pt],"type_directive");break;case 42:Le[pt]=Le[pt].trim().replace(/'/g,'"'),Ie.parseDirective(Le[pt],"arg_directive");break;case 43:Ie.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:s,5:o,6:4,7:l,31:6,45:d},{1:[3]},{3:8,4:s,5:o,6:4,7:l,31:6,45:d},{3:9,4:s,5:o,6:4,7:l,31:6,45:d},{3:10,4:s,5:o,6:4,7:l,31:6,45:d},i([1,4,5,14,15,17,20,22,23,24,25,26,27,36,37,38,39,42,45],h,{8:11}),{32:12,46:[1,13]},{46:[2,40]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:f,5:v,6:28,9:14,10:16,11:18,14:w,15:E,17:C,20:O,22:M,23:A,24:D,25:U,26:R,27:X,30:29,31:6,36:H,37:K,38:W,39:Z,42:ie,45:d},{33:36,34:[1,37],48:se},i([34,48],[2,41]),i(oe,[2,6]),{6:28,10:39,11:18,14:w,15:E,17:C,20:O,22:M,23:A,24:D,25:U,26:R,27:X,30:29,31:6,36:H,37:K,38:W,39:Z,42:ie,45:d},i(oe,[2,8]),i(oe,[2,9]),i(oe,[2,10],{12:[1,40],13:[1,41]}),i(oe,[2,14]),{16:[1,42]},i(oe,[2,16],{18:[1,43]}),{21:[1,44]},i(oe,[2,20]),i(oe,[2,21]),i(oe,[2,22]),i(oe,[2,23]),{28:45,29:[1,46],43:[1,47],44:[1,48]},i(oe,[2,26]),i(oe,[2,27]),i(Q,[2,36]),i(Q,[2,37]),i(oe,[2,30]),i(oe,[2,31]),i(oe,[2,32]),i(oe,[2,33]),i(ae,[2,28]),{35:49,47:[1,50]},i(ae,[2,43]),i(oe,[2,7]),i(oe,[2,11]),{11:51,22:M,42:ie},i(oe,[2,15]),i(he,h,{8:52}),{22:[1,53]},{22:[1,54]},{21:[1,55]},{22:[2,38]},{22:[2,39]},{33:56,48:se},{48:[2,42]},i(oe,[2,12],{12:[1,57]}),{4:f,5:v,6:28,9:14,10:16,11:18,14:w,15:E,17:C,19:[1,58],20:O,22:M,23:A,24:D,25:U,26:R,27:X,30:29,31:6,36:H,37:K,38:W,39:Z,42:ie,45:d},i(oe,[2,18],{18:[1,59]}),{29:[1,60]},{22:[1,61]},i(ae,[2,29]),i(oe,[2,13]),i(oe,[2,17]),i(he,h,{8:62}),i(oe,[2,24]),i(oe,[2,25]),{4:f,5:v,6:28,9:14,10:16,11:18,14:w,15:E,17:C,19:[1,63],20:O,22:M,23:A,24:D,25:U,26:R,27:X,30:29,31:6,36:H,37:K,38:W,39:Z,42:ie,45:d},i(oe,[2,19])],defaultActions:{7:[2,40],8:[2,1],9:[2,2],10:[2,3],47:[2,38],48:[2,39],50:[2,42]},parseError:function(_e,xe){if(!xe.recoverable){var Se=new Error(_e);throw Se.hash=xe,Se}this.trace(_e)},parse:function(_e){var xe=this,Se=[0],Ie=[],Ye=[null],Le=[],Nt=this.table,pt="",ze=0,nt=0,me=0,ut=2,Ve=1,dt=Le.slice.call(arguments,1),ot=Object.create(this.lexer),Ze={yy:{}};for(var kt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kt)&&(Ze.yy[kt]=this.yy[kt]);ot.setInput(_e,Ze.yy),Ze.yy.lexer=ot,Ze.yy.parser=this,ot.yylloc===void 0&&(ot.yylloc={});var ln=ot.yylloc;Le.push(ln);var Ht=ot.options&&ot.options.ranges;function nn(){var Ut;return typeof(Ut=Ie.pop()||ot.lex()||Ve)!="number"&&(Ut instanceof Array&&(Ut=(Ie=Ut).pop()),Ut=xe.symbols_[Ut]||Ut),Ut}typeof Ze.yy.parseError=="function"?this.parseError=Ze.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var qn,_n,rn,Yt,gn,cn,Et,it,Qe,Pt={};;){if(rn=Se[Se.length-1],this.defaultActions[rn]?Yt=this.defaultActions[rn]:(qn==null&&(qn=nn()),Yt=Nt[rn]&&Nt[rn][qn]),Yt===void 0||!Yt.length||!Yt[0]){var St="";for(cn in Qe=[],Nt[rn])this.terminals_[cn]&&cn>ut&&Qe.push("'"+this.terminals_[cn]+"'");St=ot.showPosition?"Parse error on line "+(ze+1)+`:
`+ot.showPosition()+`
Expecting `+Qe.join(", ")+", got '"+(this.terminals_[qn]||qn)+"'":"Parse error on line "+(ze+1)+": Unexpected "+(qn==Ve?"end of input":"'"+(this.terminals_[qn]||qn)+"'"),this.parseError(St,{text:ot.match,token:this.terminals_[qn]||qn,line:ot.yylineno,loc:ln,expected:Qe})}if(Yt[0]instanceof Array&&Yt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+rn+", token: "+qn);switch(Yt[0]){case 1:Se.push(qn),Ye.push(ot.yytext),Le.push(ot.yylloc),Se.push(Yt[1]),qn=null,_n?(qn=_n,_n=null):(nt=ot.yyleng,pt=ot.yytext,ze=ot.yylineno,ln=ot.yylloc,me>0);break;case 2:if(Et=this.productions_[Yt[1]][1],Pt.$=Ye[Ye.length-Et],Pt._$={first_line:Le[Le.length-(Et||1)].first_line,last_line:Le[Le.length-1].last_line,first_column:Le[Le.length-(Et||1)].first_column,last_column:Le[Le.length-1].last_column},Ht&&(Pt._$.range=[Le[Le.length-(Et||1)].range[0],Le[Le.length-1].range[1]]),(gn=this.performAction.apply(Pt,[pt,nt,ze,Ze.yy,Yt[1],Ye,Le].concat(dt)))!==void 0)return gn;Et&&(Se=Se.slice(0,-1*Et*2),Ye=Ye.slice(0,-1*Et),Le=Le.slice(0,-1*Et)),Se.push(this.productions_[Yt[1]][0]),Ye.push(Pt.$),Le.push(Pt._$),it=Nt[Se[Se.length-2]][Se[Se.length-1]],Se.push(it);break;case 3:return!0}}return!0}},De={EOF:1,parseError:function(_e,xe){if(!this.yy.parser)throw new Error(_e);this.yy.parser.parseError(_e,xe)},setInput:function(_e,xe){return this.yy=xe||this.yy||{},this._input=_e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _e=this._input[0];return this.yytext+=_e,this.yyleng++,this.offset++,this.match+=_e,this.matched+=_e,_e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_e},unput:function(_e){var xe=_e.length,Se=_e.split(/(?:\r\n?|\n)/g);this._input=_e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-xe),this.offset-=xe;var Ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Se.length-1&&(this.yylineno-=Se.length-1);var Ye=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Se?(Se.length===Ie.length?this.yylloc.first_column:0)+Ie[Ie.length-Se.length].length-Se[0].length:this.yylloc.first_column-xe},this.options.ranges&&(this.yylloc.range=[Ye[0],Ye[0]+this.yyleng-xe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(_e){this.unput(this.match.slice(_e))},pastInput:function(){var _e=this.matched.substr(0,this.matched.length-this.match.length);return(_e.length>20?"...":"")+_e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _e=this.match;return _e.length<20&&(_e+=this._input.substr(0,20-_e.length)),(_e.substr(0,20)+(_e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _e=this.pastInput(),xe=new Array(_e.length+1).join("-");return _e+this.upcomingInput()+`
`+xe+"^"},test_match:function(_e,xe){var Se,Ie,Ye;if(this.options.backtrack_lexer&&(Ye={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ye.yylloc.range=this.yylloc.range.slice(0))),(Ie=_e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ie?Ie[Ie.length-1].length-Ie[Ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_e[0].length},this.yytext+=_e[0],this.match+=_e[0],this.matches=_e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_e[0].length),this.matched+=_e[0],Se=this.performAction.call(this,this.yy,this,xe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Se)return Se;if(this._backtrack){for(var Le in Ye)this[Le]=Ye[Le];return!1}return!1},next:function(){if(this.done)return this.EOF;var _e,xe,Se,Ie;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Ye=this._currentRules(),Le=0;Le<Ye.length;Le++)if((Se=this._input.match(this.rules[Ye[Le]]))&&(!xe||Se[0].length>xe[0].length)){if(xe=Se,Ie=Le,this.options.backtrack_lexer){if((_e=this.test_match(Se,Ye[Le]))!==!1)return _e;if(this._backtrack){xe=!1;continue}return!1}if(!this.options.flex)break}return xe?(_e=this.test_match(xe,Ye[Ie]))!==!1&&_e:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(_e){this.conditionStack.push(_e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(_e){return(_e=this.conditionStack.length-1-Math.abs(_e||0))>=0?this.conditionStack[_e]:"INITIAL"},pushState:function(_e){this.begin(_e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(_e,xe,Se,Ie){switch(Se){case 0:case 26:return 36;case 1:case 27:return 37;case 2:case 28:return 38;case 3:case 29:return 39;case 4:return this.begin("open_directive"),45;case 5:return this.begin("type_directive"),46;case 6:return this.popState(),this.begin("arg_directive"),34;case 7:return this.popState(),this.popState(),48;case 8:return 47;case 9:case 10:case 12:case 13:case 14:case 15:case 39:case 45:break;case 11:case 59:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 33:case 36:this.popState();break;case 19:this.pushState("STATE");break;case 20:case 23:return this.popState(),xe.yytext=xe.yytext.slice(0,-8).trim(),23;case 21:case 24:return this.popState(),xe.yytext=xe.yytext.slice(0,-8).trim(),24;case 22:case 25:return this.popState(),xe.yytext=xe.yytext.slice(0,-10).trim(),25;case 30:this.begin("STATE_STRING");break;case 31:return this.popState(),this.pushState("STATE_ID"),"AS";case 32:case 47:return this.popState(),"ID";case 34:return"STATE_DESCR";case 35:return 17;case 37:return this.popState(),this.pushState("struct"),18;case 38:return this.popState(),19;case 40:return this.begin("NOTE"),27;case 41:return this.popState(),this.pushState("NOTE_ID"),43;case 42:return this.popState(),this.pushState("NOTE_ID"),44;case 43:this.popState(),this.pushState("FLOATING_NOTE");break;case 44:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 46:return"NOTE_TEXT";case 48:return this.popState(),this.pushState("NOTE_TEXT"),22;case 49:return this.popState(),xe.yytext=xe.yytext.substr(2).trim(),29;case 50:return this.popState(),xe.yytext=xe.yytext.slice(0,-8).trim(),29;case 51:case 52:return 7;case 53:return 14;case 54:return 42;case 55:return 22;case 56:return xe.yytext=xe.yytext.trim(),12;case 57:return 13;case 58:return 26;case 60:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,19,26,27,28,29,38,39,40,54,55,56,57,58],inclusive:!1},FLOATING_NOTE_ID:{rules:[47],inclusive:!1},FLOATING_NOTE:{rules:[44,45,46],inclusive:!1},NOTE_TEXT:{rules:[49,50],inclusive:!1},NOTE_ID:{rules:[48],inclusive:!1},NOTE:{rules:[41,42,43],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[32],inclusive:!1},STATE_STRING:{rules:[33,34],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,20,21,22,23,24,25,30,31,35,36,37],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,37,40,51,52,53,54,55,56,57,59,60],inclusive:!0}}};function qe(){this.yy={}}return Ee.lexer=De,qe.prototype=Ee,Ee.Parser=qe,new qe}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(3069).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},9763:(t,e,n)=>{t=n.nmd(t);var r=function(){var i=function(M,A,D,U){for(D=D||{},U=M.length;U--;D[M[U]]=A);return D},s=[1,2],o=[1,5],l=[6,9,11,17,18,19,21],d=[1,15],h=[1,16],f=[1,17],v=[1,21],w=[4,6,9,11,17,18,19,21],E={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,section:18,taskName:19,taskData:20,open_directive:21,type_directive:22,arg_directive:23,close_directive:24,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"section",19:"taskName",20:"taskData",21:"open_directive",22:"type_directive",23:"arg_directive",24:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(M,A,D,U,R,X,H){var K=X.length-1;switch(R){case 1:return X[K-1];case 3:case 7:case 8:this.$=[];break;case 4:X[K-1].push(X[K]),this.$=X[K-1];break;case 5:case 6:this.$=X[K];break;case 11:U.setTitle(X[K].substr(6)),this.$=X[K].substr(6);break;case 12:U.addSection(X[K].substr(8)),this.$=X[K].substr(8);break;case 13:U.addTask(X[K-1],X[K]),this.$="task";break;case 15:U.parseDirective("%%{","open_directive");break;case 16:U.parseDirective(X[K],"type_directive");break;case 17:X[K]=X[K].trim().replace(/'/g,'"'),U.parseDirective(X[K],"arg_directive");break;case 18:U.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:s,7:3,12:4,21:o},{1:[3]},i(l,[2,3],{5:6}),{3:7,4:s,7:3,12:4,21:o},{13:8,22:[1,9]},{22:[2,15]},{6:[1,10],7:18,8:11,9:[1,12],10:13,11:[1,14],12:4,17:d,18:h,19:f,21:o},{1:[2,2]},{14:19,15:[1,20],24:v},i([15,24],[2,16]),i(l,[2,8],{1:[2,1]}),i(l,[2,4]),{7:18,10:22,12:4,17:d,18:h,19:f,21:o},i(l,[2,6]),i(l,[2,7]),i(l,[2,11]),i(l,[2,12]),{20:[1,23]},i(l,[2,14]),{11:[1,24]},{16:25,23:[1,26]},{11:[2,18]},i(l,[2,5]),i(l,[2,13]),i(w,[2,9]),{14:27,24:v},{24:[2,17]},{11:[1,28]},i(w,[2,10])],defaultActions:{5:[2,15],7:[2,2],21:[2,18],26:[2,17]},parseError:function(M,A){if(!A.recoverable){var D=new Error(M);throw D.hash=A,D}this.trace(M)},parse:function(M){var A=this,D=[0],U=[],R=[null],X=[],H=this.table,K="",W=0,Z=0,ie=0,se=2,oe=1,Q=X.slice.call(arguments,1),ae=Object.create(this.lexer),he={yy:{}};for(var Ee in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ee)&&(he.yy[Ee]=this.yy[Ee]);ae.setInput(M,he.yy),he.yy.lexer=ae,he.yy.parser=this,ae.yylloc===void 0&&(ae.yylloc={});var De=ae.yylloc;X.push(De);var qe=ae.options&&ae.options.ranges;function _e(){var Ve;return typeof(Ve=U.pop()||ae.lex()||oe)!="number"&&(Ve instanceof Array&&(Ve=(U=Ve).pop()),Ve=A.symbols_[Ve]||Ve),Ve}typeof he.yy.parseError=="function"?this.parseError=he.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var xe,Se,Ie,Ye,Le,Nt,pt,ze,nt,me={};;){if(Ie=D[D.length-1],this.defaultActions[Ie]?Ye=this.defaultActions[Ie]:(xe==null&&(xe=_e()),Ye=H[Ie]&&H[Ie][xe]),Ye===void 0||!Ye.length||!Ye[0]){var ut="";for(Nt in nt=[],H[Ie])this.terminals_[Nt]&&Nt>se&&nt.push("'"+this.terminals_[Nt]+"'");ut=ae.showPosition?"Parse error on line "+(W+1)+`:
`+ae.showPosition()+`
Expecting `+nt.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":"Parse error on line "+(W+1)+": Unexpected "+(xe==oe?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(ut,{text:ae.match,token:this.terminals_[xe]||xe,line:ae.yylineno,loc:De,expected:nt})}if(Ye[0]instanceof Array&&Ye.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ie+", token: "+xe);switch(Ye[0]){case 1:D.push(xe),R.push(ae.yytext),X.push(ae.yylloc),D.push(Ye[1]),xe=null,Se?(xe=Se,Se=null):(Z=ae.yyleng,K=ae.yytext,W=ae.yylineno,De=ae.yylloc,ie>0);break;case 2:if(pt=this.productions_[Ye[1]][1],me.$=R[R.length-pt],me._$={first_line:X[X.length-(pt||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(pt||1)].first_column,last_column:X[X.length-1].last_column},qe&&(me._$.range=[X[X.length-(pt||1)].range[0],X[X.length-1].range[1]]),(Le=this.performAction.apply(me,[K,Z,W,he.yy,Ye[1],R,X].concat(Q)))!==void 0)return Le;pt&&(D=D.slice(0,-1*pt*2),R=R.slice(0,-1*pt),X=X.slice(0,-1*pt)),D.push(this.productions_[Ye[1]][0]),R.push(me.$),X.push(me._$),ze=H[D[D.length-2]][D[D.length-1]],D.push(ze);break;case 3:return!0}}return!0}},C={EOF:1,parseError:function(M,A){if(!this.yy.parser)throw new Error(M);this.yy.parser.parseError(M,A)},setInput:function(M,A){return this.yy=A||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var M=this._input[0];return this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M,M.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},unput:function(M){var A=M.length,D=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A),this.offset-=A;var U=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var R=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===U.length?this.yylloc.first_column:0)+U[U.length-D.length].length-D[0].length:this.yylloc.first_column-A},this.options.ranges&&(this.yylloc.range=[R[0],R[0]+this.yyleng-A]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(M){this.unput(this.match.slice(M))},pastInput:function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var M=this.pastInput(),A=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+A+"^"},test_match:function(M,A){var D,U,R;if(this.options.backtrack_lexer&&(R={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(R.yylloc.range=this.yylloc.range.slice(0))),(U=M[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=U.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:U?U[U.length-1].length-U[U.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],D=this.performAction.call(this,this.yy,this,A,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var X in R)this[X]=R[X];return!1}return!1},next:function(){if(this.done)return this.EOF;var M,A,D,U;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var R=this._currentRules(),X=0;X<R.length;X++)if((D=this._input.match(this.rules[R[X]]))&&(!A||D[0].length>A[0].length)){if(A=D,U=X,this.options.backtrack_lexer){if((M=this.test_match(D,R[X]))!==!1)return M;if(this._backtrack){A=!1;continue}return!1}if(!this.options.flex)break}return A?(M=this.test_match(A,R[U]))!==!1&&M:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(M){this.conditionStack.push(M)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(M){return(M=this.conditionStack.length-1-Math.abs(M||0))>=0?this.conditionStack[M]:"INITIAL"},pushState:function(M){this.begin(M)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(M,A,D,U){switch(D){case 0:return this.begin("open_directive"),21;case 1:return this.begin("type_directive"),22;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),24;case 4:return 23;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return 18;case 13:return 19;case 14:return 20;case 15:return 15;case 16:return 6;case 17:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};function O(){this.yy={}}return E.lexer=C,O.prototype=E,E.Parser=O,new O}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),process.exit(1));var s=n(9143).readFileSync(n(6470).normalize(i[1]),"utf8");return e.parser.parse(s)},n.c[n.s]===t&&e.main(process.argv.slice(1))},9609:t=>{var e=/^(%20|\s)*(javascript|data)/im,n=/[^\x20-\x7E]/gim,r=/^([^:]+):/gm,i=[".","/"];t.exports={sanitizeUrl:function(s){if(!s)return"about:blank";var o,l,d=s.replace(n,"").trim();return function(h){return i.indexOf(h[0])>-1}(d)?d:(l=d.match(r))?(o=l[0],e.test(o)?"about:blank":d):"about:blank"}}},3841:t=>{t.exports=function(e,n){return e.intersect(n)}},7458:(t,e,n)=>{n.d(e,{Z:()=>Vae});var r=n(1941),i=n.n(r),s={debug:1,info:2,warn:3,error:4,fatal:5},o={debug:function(){},info:function(){},warn:function(){},error:function(){},fatal:function(){}},l=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"fatal";isNaN(a)&&(a=a.toLowerCase(),s[a]!==void 0&&(a=s[a])),o.trace=function(){},o.debug=function(){},o.info=function(){},o.warn=function(){},o.error=function(){},o.fatal=function(){},a<=s.fatal&&(o.fatal=console.error?console.error.bind(console,d("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",d("FATAL"))),a<=s.error&&(o.error=console.error?console.error.bind(console,d("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",d("ERROR"))),a<=s.warn&&(o.warn=console.warn?console.warn.bind(console,d("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",d("WARN"))),a<=s.info&&(o.info=console.info?console.info.bind(console,d("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",d("INFO"))),a<=s.debug&&(o.debug=console.debug?console.debug.bind(console,d("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",d("DEBUG")))},d=function(a){var c=i()().format("ss.SSS");return"%c".concat(c," : ").concat(a," : ")};function h(a,c){let g;if(c===void 0)for(const y of a)y!=null&&(g<y||g===void 0&&y>=y)&&(g=y);else{let y=-1;for(let _ of a)(_=c(_,++y,a))!=null&&(g<_||g===void 0&&_>=_)&&(g=_)}return g}function f(a,c){let g;if(c===void 0)for(const y of a)y!=null&&(g>y||g===void 0&&y>=y)&&(g=y);else{let y=-1;for(let _ of a)(_=c(_,++y,a))!=null&&(g>_||g===void 0&&_>=_)&&(g=_)}return g}function v(a){return a}var w=1e-6;function E(a){return"translate("+a+",0)"}function C(a){return"translate(0,"+a+")"}function O(a){return c=>+a(c)}function M(a,c){return c=Math.max(0,a.bandwidth()-2*c)/2,a.round()&&(c=Math.round(c)),g=>+a(g)+c}function A(){return!this.__axis}function D(a,c){var g=[],y=null,_=null,S=6,k=6,I=3,B=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,N=a===1||a===4?-1:1,q=a===4||a===2?"x":"y",re=a===1||a===3?E:C;function ne(de){var Ae=y==null?c.ticks?c.ticks.apply(c,g):c.domain():y,ke=_==null?c.tickFormat?c.tickFormat.apply(c,g):v:_,Ue=Math.max(S,0)+I,$e=c.range(),We=+$e[0]+B,Je=+$e[$e.length-1]+B,ct=(c.bandwidth?M:O)(c.copy(),B),wt=de.selection?de.selection():de,et=wt.selectAll(".domain").data([null]),Ct=wt.selectAll(".tick").data(Ae,c).order(),It=Ct.exit(),Xe=Ct.enter().append("g").attr("class","tick"),at=Ct.select("line"),tt=Ct.select("text");et=et.merge(et.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Ct=Ct.merge(Xe),at=at.merge(Xe.append("line").attr("stroke","currentColor").attr(q+"2",N*S)),tt=tt.merge(Xe.append("text").attr("fill","currentColor").attr(q,N*Ue).attr("dy",a===1?"0em":a===3?"0.71em":"0.32em")),de!==wt&&(et=et.transition(de),Ct=Ct.transition(de),at=at.transition(de),tt=tt.transition(de),It=It.transition(de).attr("opacity",w).attr("transform",function(He){return isFinite(He=ct(He))?re(He+B):this.getAttribute("transform")}),Xe.attr("opacity",w).attr("transform",function(He){var lt=this.parentNode.__axis;return re((lt&&isFinite(lt=lt(He))?lt:ct(He))+B)})),It.remove(),et.attr("d",a===4||a===2?k?"M"+N*k+","+We+"H"+B+"V"+Je+"H"+N*k:"M"+B+","+We+"V"+Je:k?"M"+We+","+N*k+"V"+B+"H"+Je+"V"+N*k:"M"+We+","+B+"H"+Je),Ct.attr("opacity",1).attr("transform",function(He){return re(ct(He)+B)}),at.attr(q+"2",N*S),tt.attr(q,N*Ue).text(ke),wt.filter(A).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===2?"start":a===4?"end":"middle"),wt.each(function(){this.__axis=ct})}return ne.scale=function(de){return arguments.length?(c=de,ne):c},ne.ticks=function(){return g=Array.from(arguments),ne},ne.tickArguments=function(de){return arguments.length?(g=de==null?[]:Array.from(de),ne):g.slice()},ne.tickValues=function(de){return arguments.length?(y=de==null?null:Array.from(de),ne):y&&y.slice()},ne.tickFormat=function(de){return arguments.length?(_=de,ne):_},ne.tickSize=function(de){return arguments.length?(S=k=+de,ne):S},ne.tickSizeInner=function(de){return arguments.length?(S=+de,ne):S},ne.tickSizeOuter=function(de){return arguments.length?(k=+de,ne):k},ne.tickPadding=function(de){return arguments.length?(I=+de,ne):I},ne.offset=function(de){return arguments.length?(B=+de,ne):B},ne}function U(){}function R(a){return a==null?U:function(){return this.querySelector(a)}}function X(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function H(){return[]}function K(a){return a==null?H:function(){return this.querySelectorAll(a)}}function W(a){return function(){return this.matches(a)}}function Z(a){return function(c){return c.matches(a)}}var ie=Array.prototype.find;function se(){return this.firstElementChild}var oe=Array.prototype.filter;function Q(){return Array.from(this.children)}function ae(a){return new Array(a.length)}function he(a,c){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=c}function Ee(a){return function(){return a}}function De(a,c,g,y,_,S){for(var k,I=0,B=c.length,N=S.length;I<N;++I)(k=c[I])?(k.__data__=S[I],y[I]=k):g[I]=new he(a,S[I]);for(;I<B;++I)(k=c[I])&&(_[I]=k)}function qe(a,c,g,y,_,S,k){var I,B,N,q=new Map,re=c.length,ne=S.length,de=new Array(re);for(I=0;I<re;++I)(B=c[I])&&(de[I]=N=k.call(B,B.__data__,I,c)+"",q.has(N)?_[I]=B:q.set(N,B));for(I=0;I<ne;++I)N=k.call(a,S[I],I,S)+"",(B=q.get(N))?(y[I]=B,B.__data__=S[I],q.delete(N)):g[I]=new he(a,S[I]);for(I=0;I<re;++I)(B=c[I])&&q.get(de[I])===B&&(_[I]=B)}function _e(a){return a.__data__}function xe(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function Se(a,c){return a<c?-1:a>c?1:a>=c?0:NaN}he.prototype={constructor:he,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,c){return this._parent.insertBefore(a,c)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var Ie="http://www.w3.org/1999/xhtml";const Ye={svg:"http://www.w3.org/2000/svg",xhtml:Ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Le(a){var c=a+="",g=c.indexOf(":");return g>=0&&(c=a.slice(0,g))!=="xmlns"&&(a=a.slice(g+1)),Ye.hasOwnProperty(c)?{space:Ye[c],local:a}:a}function Nt(a){return function(){this.removeAttribute(a)}}function pt(a){return function(){this.removeAttributeNS(a.space,a.local)}}function ze(a,c){return function(){this.setAttribute(a,c)}}function nt(a,c){return function(){this.setAttributeNS(a.space,a.local,c)}}function me(a,c){return function(){var g=c.apply(this,arguments);g==null?this.removeAttribute(a):this.setAttribute(a,g)}}function ut(a,c){return function(){var g=c.apply(this,arguments);g==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,g)}}function Ve(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function dt(a){return function(){this.style.removeProperty(a)}}function ot(a,c,g){return function(){this.style.setProperty(a,c,g)}}function Ze(a,c,g){return function(){var y=c.apply(this,arguments);y==null?this.style.removeProperty(a):this.style.setProperty(a,y,g)}}function kt(a,c){return a.style.getPropertyValue(c)||Ve(a).getComputedStyle(a,null).getPropertyValue(c)}function ln(a){return function(){delete this[a]}}function Ht(a,c){return function(){this[a]=c}}function nn(a,c){return function(){var g=c.apply(this,arguments);g==null?delete this[a]:this[a]=g}}function qn(a){return a.trim().split(/^|\s+/)}function _n(a){return a.classList||new rn(a)}function rn(a){this._node=a,this._names=qn(a.getAttribute("class")||"")}function Yt(a,c){for(var g=_n(a),y=-1,_=c.length;++y<_;)g.add(c[y])}function gn(a,c){for(var g=_n(a),y=-1,_=c.length;++y<_;)g.remove(c[y])}function cn(a){return function(){Yt(this,a)}}function Et(a){return function(){gn(this,a)}}function it(a,c){return function(){(c.apply(this,arguments)?Yt:gn)(this,a)}}function Qe(){this.textContent=""}function Pt(a){return function(){this.textContent=a}}function St(a){return function(){var c=a.apply(this,arguments);this.textContent=c==null?"":c}}function Ut(){this.innerHTML=""}function tn(a){return function(){this.innerHTML=a}}function Pn(a){return function(){var c=a.apply(this,arguments);this.innerHTML=c==null?"":c}}function yn(){this.nextSibling&&this.parentNode.appendChild(this)}function Yn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function un(a){return function(){var c=this.ownerDocument,g=this.namespaceURI;return g===Ie&&c.documentElement.namespaceURI===Ie?c.createElement(a):c.createElementNS(g,a)}}function vn(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function sn(a){var c=Le(a);return(c.local?vn:un)(c)}function zn(){return null}function Un(){var a=this.parentNode;a&&a.removeChild(this)}function nr(){var a=this.cloneNode(!1),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function Dn(){var a=this.cloneNode(!0),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function Vn(a){return a.trim().split(/^|\s+/).map(function(c){var g="",y=c.indexOf(".");return y>=0&&(g=c.slice(y+1),c=c.slice(0,y)),{type:c,name:g}})}function an(a){return function(){var c=this.__on;if(c){for(var g,y=0,_=-1,S=c.length;y<S;++y)g=c[y],a.type&&g.type!==a.type||g.name!==a.name?c[++_]=g:this.removeEventListener(g.type,g.listener,g.options);++_?c.length=_:delete this.__on}}}function Gn(a,c,g){return function(){var y,_=this.__on,S=function(B){return function(N){B.call(this,N,this.__data__)}}(c);if(_){for(var k=0,I=_.length;k<I;++k)if((y=_[k]).type===a.type&&y.name===a.name)return this.removeEventListener(y.type,y.listener,y.options),this.addEventListener(y.type,y.listener=S,y.options=g),void(y.value=c)}this.addEventListener(a.type,S,g),y={type:a.type,name:a.name,value:c,listener:S,options:g},_?_.push(y):this.__on=[y]}}function Kt(a,c,g){var y=Ve(a),_=y.CustomEvent;typeof _=="function"?_=new _(c,g):(_=y.document.createEvent("Event"),g?(_.initEvent(c,g.bubbles,g.cancelable),_.detail=g.detail):_.initEvent(c,!1,!1)),a.dispatchEvent(_)}function mn(a,c){return function(){return Kt(this,a,c)}}function en(a,c){return function(){return Kt(this,a,c.apply(this,arguments))}}rn.prototype={add:function(a){this._names.indexOf(a)<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var c=this._names.indexOf(a);c>=0&&(this._names.splice(c,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var pn=[null];function Nn(a,c){this._groups=a,this._parents=c}function Hn(){return new Nn([[document.documentElement]],pn)}Nn.prototype=Hn.prototype={constructor:Nn,select:function(a){typeof a!="function"&&(a=R(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k,I=c[_],B=I.length,N=y[_]=new Array(B),q=0;q<B;++q)(S=I[q])&&(k=a.call(S,S.__data__,q,I))&&("__data__"in S&&(k.__data__=S.__data__),N[q]=k);return new Nn(y,this._parents)},selectAll:function(a){a=typeof a=="function"?function(q){return function(){return X(q.apply(this,arguments))}}(a):K(a);for(var c=this._groups,g=c.length,y=[],_=[],S=0;S<g;++S)for(var k,I=c[S],B=I.length,N=0;N<B;++N)(k=I[N])&&(y.push(a.call(k,k.__data__,N,I)),_.push(k));return new Nn(y,_)},selectChild:function(a){return this.select(a==null?se:function(c){return function(){return ie.call(this.children,c)}}(typeof a=="function"?a:Z(a)))},selectChildren:function(a){return this.selectAll(a==null?Q:function(c){return function(){return oe.call(this.children,c)}}(typeof a=="function"?a:Z(a)))},filter:function(a){typeof a!="function"&&(a=W(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k=c[_],I=k.length,B=y[_]=[],N=0;N<I;++N)(S=k[N])&&a.call(S,S.__data__,N,k)&&B.push(S);return new Nn(y,this._parents)},data:function(a,c){if(!arguments.length)return Array.from(this,_e);var g=c?qe:De,y=this._parents,_=this._groups;typeof a!="function"&&(a=Ee(a));for(var S=_.length,k=new Array(S),I=new Array(S),B=new Array(S),N=0;N<S;++N){var q=y[N],re=_[N],ne=re.length,de=xe(a.call(q,q&&q.__data__,N,y)),Ae=de.length,ke=I[N]=new Array(Ae),Ue=k[N]=new Array(Ae),$e=B[N]=new Array(ne);g(q,re,ke,Ue,$e,de,c);for(var We,Je,ct=0,wt=0;ct<Ae;++ct)if(We=ke[ct]){for(ct>=wt&&(wt=ct+1);!(Je=Ue[wt])&&++wt<Ae;);We._next=Je||null}}return(k=new Nn(k,y))._enter=I,k._exit=B,k},enter:function(){return new Nn(this._enter||this._groups.map(ae),this._parents)},exit:function(){return new Nn(this._exit||this._groups.map(ae),this._parents)},join:function(a,c,g){var y=this.enter(),_=this,S=this.exit();return typeof a=="function"?(y=a(y))&&(y=y.selection()):y=y.append(a+""),c!=null&&(_=c(_))&&(_=_.selection()),g==null?S.remove():g(S),y&&_?y.merge(_).order():_},merge:function(a){for(var c=a.selection?a.selection():a,g=this._groups,y=c._groups,_=g.length,S=y.length,k=Math.min(_,S),I=new Array(_),B=0;B<k;++B)for(var N,q=g[B],re=y[B],ne=q.length,de=I[B]=new Array(ne),Ae=0;Ae<ne;++Ae)(N=q[Ae]||re[Ae])&&(de[Ae]=N);for(;B<_;++B)I[B]=g[B];return new Nn(I,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,c=-1,g=a.length;++c<g;)for(var y,_=a[c],S=_.length-1,k=_[S];--S>=0;)(y=_[S])&&(k&&4^y.compareDocumentPosition(k)&&k.parentNode.insertBefore(y,k),k=y);return this},sort:function(a){function c(re,ne){return re&&ne?a(re.__data__,ne.__data__):!re-!ne}a||(a=Se);for(var g=this._groups,y=g.length,_=new Array(y),S=0;S<y;++S){for(var k,I=g[S],B=I.length,N=_[S]=new Array(B),q=0;q<B;++q)(k=I[q])&&(N[q]=k);N.sort(c)}return new Nn(_,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,c=0,g=a.length;c<g;++c)for(var y=a[c],_=0,S=y.length;_<S;++_){var k=y[_];if(k)return k}return null},size:function(){let a=0;for(const c of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var c=this._groups,g=0,y=c.length;g<y;++g)for(var _,S=c[g],k=0,I=S.length;k<I;++k)(_=S[k])&&a.call(_,_.__data__,k,S);return this},attr:function(a,c){var g=Le(a);if(arguments.length<2){var y=this.node();return g.local?y.getAttributeNS(g.space,g.local):y.getAttribute(g)}return this.each((c==null?g.local?pt:Nt:typeof c=="function"?g.local?ut:me:g.local?nt:ze)(g,c))},style:function(a,c,g){return arguments.length>1?this.each((c==null?dt:typeof c=="function"?Ze:ot)(a,c,g==null?"":g)):kt(this.node(),a)},property:function(a,c){return arguments.length>1?this.each((c==null?ln:typeof c=="function"?nn:Ht)(a,c)):this.node()[a]},classed:function(a,c){var g=qn(a+"");if(arguments.length<2){for(var y=_n(this.node()),_=-1,S=g.length;++_<S;)if(!y.contains(g[_]))return!1;return!0}return this.each((typeof c=="function"?it:c?cn:Et)(g,c))},text:function(a){return arguments.length?this.each(a==null?Qe:(typeof a=="function"?St:Pt)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(a==null?Ut:(typeof a=="function"?Pn:tn)(a)):this.node().innerHTML},raise:function(){return this.each(yn)},lower:function(){return this.each(Yn)},append:function(a){var c=typeof a=="function"?a:sn(a);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function(a,c){var g=typeof a=="function"?a:sn(a),y=c==null?zn:typeof c=="function"?c:R(c);return this.select(function(){return this.insertBefore(g.apply(this,arguments),y.apply(this,arguments)||null)})},remove:function(){return this.each(Un)},clone:function(a){return this.select(a?Dn:nr)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,c,g){var y,_,S=Vn(a+""),k=S.length;if(!(arguments.length<2)){for(I=c?Gn:an,y=0;y<k;++y)this.each(I(S[y],c,g));return this}var I=this.node().__on;if(I){for(var B,N=0,q=I.length;N<q;++N)for(y=0,B=I[N];y<k;++y)if((_=S[y]).type===B.type&&_.name===B.name)return B.value}},dispatch:function(a,c){return this.each((typeof c=="function"?en:mn)(a,c))},[Symbol.iterator]:function*(){for(var a=this._groups,c=0,g=a.length;c<g;++c)for(var y,_=a[c],S=0,k=_.length;S<k;++S)(y=_[S])&&(yield y)}};const Cn=Hn;var tr={value:()=>{}};function Jn(){for(var a,c=0,g=arguments.length,y={};c<g;++c){if(!(a=arguments[c]+"")||a in y||/[\s.]/.test(a))throw new Error("illegal type: "+a);y[a]=[]}return new Ii(y)}function Ii(a){this._=a}function ce(a,c){return a.trim().split(/^|\s+/).map(function(g){var y="",_=g.indexOf(".");if(_>=0&&(y=g.slice(_+1),g=g.slice(0,_)),g&&!c.hasOwnProperty(g))throw new Error("unknown type: "+g);return{type:g,name:y}})}function be(a,c){for(var g,y=0,_=a.length;y<_;++y)if((g=a[y]).name===c)return g.value}function Ke(a,c,g){for(var y=0,_=a.length;y<_;++y)if(a[y].name===c){a[y]=tr,a=a.slice(0,y).concat(a.slice(y+1));break}return g!=null&&a.push({name:c,value:g}),a}Ii.prototype=Jn.prototype={constructor:Ii,on:function(a,c){var g,y=this._,_=ce(a+"",y),S=-1,k=_.length;if(!(arguments.length<2)){if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++S<k;)if(g=(a=_[S]).type)y[g]=Ke(y[g],a.name,c);else if(c==null)for(g in y)y[g]=Ke(y[g],a.name,null);return this}for(;++S<k;)if((g=(a=_[S]).type)&&(g=be(y[g],a.name)))return g},copy:function(){var a={},c=this._;for(var g in c)a[g]=c[g].slice();return new Ii(a)},call:function(a,c){if((g=arguments.length-2)>0)for(var g,y,_=new Array(g),S=0;S<g;++S)_[S]=arguments[S+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(S=0,g=(y=this._[a]).length;S<g;++S)y[S].value.apply(c,_)},apply:function(a,c,g){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var y=this._[a],_=0,S=y.length;_<S;++_)y[_].value.apply(c,g)}};const Bt=Jn;var we,Oe,ge=0,Re=0,Be=0,_t=0,At=0,Lt=0,yt=typeof performance=="object"&&performance.now?performance:Date,qt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function Rn(){return At||(qt(Bn),At=yt.now()+Lt)}function Bn(){At=0}function dr(){this._call=this._time=this._next=null}function Mr(a,c,g){var y=new dr;return y.restart(a,c,g),y}function rr(){At=(_t=yt.now())+Lt,ge=Re=0;try{(function(){Rn(),++ge;for(var a,c=we;c;)(a=At-c._time)>=0&&c._call.call(void 0,a),c=c._next;--ge})()}finally{ge=0,function(){for(var a,c,g=we,y=1/0;g;)g._call?(y>g._time&&(y=g._time),a=g,g=g._next):(c=g._next,g._next=null,g=a?a._next=c:we=c);Oe=a,ei(y)}(),At=0}}function Or(){var a=yt.now(),c=a-_t;c>1e3&&(Lt-=c,_t=a)}function ei(a){ge||(Re&&(Re=clearTimeout(Re)),a-At>24?(a<1/0&&(Re=setTimeout(rr,a-yt.now()-Lt)),Be&&(Be=clearInterval(Be))):(Be||(_t=yt.now(),Be=setInterval(Or,1e3)),ge=1,qt(rr)))}function Qn(a,c,g){var y=new dr;return c=c==null?0:+c,y.restart(_=>{y.stop(),a(_+c)},c,g),y}dr.prototype=Mr.prototype={constructor:dr,restart:function(a,c,g){if(typeof a!="function")throw new TypeError("callback is not a function");g=(g==null?Rn():+g)+(c==null?0:+c),this._next||Oe===this||(Oe?Oe._next=this:we=this,Oe=this),this._call=a,this._time=g,ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,ei())}};var Sn=Bt("start","end","cancel","interrupt"),gr=[];function or(a,c,g,y,_,S){var k=a.__transition;if(k){if(g in k)return}else a.__transition={};(function(I,B,N){var q,re=I.__transition;function ne(ke){var Ue,$e,We,Je;if(N.state!==1)return Ae();for(Ue in re)if((Je=re[Ue]).name===N.name){if(Je.state===3)return Qn(ne);Je.state===4?(Je.state=6,Je.timer.stop(),Je.on.call("interrupt",I,I.__data__,Je.index,Je.group),delete re[Ue]):+Ue<B&&(Je.state=6,Je.timer.stop(),Je.on.call("cancel",I,I.__data__,Je.index,Je.group),delete re[Ue])}if(Qn(function(){N.state===3&&(N.state=4,N.timer.restart(de,N.delay,N.time),de(ke))}),N.state=2,N.on.call("start",I,I.__data__,N.index,N.group),N.state===2){for(N.state=3,q=new Array(We=N.tween.length),Ue=0,$e=-1;Ue<We;++Ue)(Je=N.tween[Ue].value.call(I,I.__data__,N.index,N.group))&&(q[++$e]=Je);q.length=$e+1}}function de(ke){for(var Ue=ke<N.duration?N.ease.call(null,ke/N.duration):(N.timer.restart(Ae),N.state=5,1),$e=-1,We=q.length;++$e<We;)q[$e].call(I,Ue);N.state===5&&(N.on.call("end",I,I.__data__,N.index,N.group),Ae())}function Ae(){for(var ke in N.state=6,N.timer.stop(),delete re[B],re)return;delete I.__transition}re[B]=N,N.timer=Mr(function(ke){N.state=1,N.timer.restart(ne,N.delay,N.time),N.delay<=ke&&ne(ke-N.delay)},0,N.time)})(a,g,{name:c,index:y,group:_,on:Sn,tween:gr,time:S.time,delay:S.delay,duration:S.duration,ease:S.ease,timer:null,state:0})}function fn(a,c){var g=Fe(a,c);if(g.state>0)throw new Error("too late; already scheduled");return g}function _r(a,c){var g=Fe(a,c);if(g.state>3)throw new Error("too late; already running");return g}function Fe(a,c){var g=a.__transition;if(!g||!(g=g[c]))throw new Error("transition not found");return g}function fi(a,c){return a=+a,c=+c,function(g){return a*(1-g)+c*g}}var gt,qi=180/Math.PI,cs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ps(a,c,g,y,_,S){var k,I,B;return(k=Math.sqrt(a*a+c*c))&&(a/=k,c/=k),(B=a*g+c*y)&&(g-=a*B,y-=c*B),(I=Math.sqrt(g*g+y*y))&&(g/=I,y/=I,B/=I),a*y<c*g&&(a=-a,c=-c,B=-B,k=-k),{translateX:_,translateY:S,rotate:Math.atan2(c,a)*qi,skewX:Math.atan(B)*qi,scaleX:k,scaleY:I}}function Jo(a,c,g,y){function _(S){return S.length?S.pop()+" ":""}return function(S,k){var I=[],B=[];return S=a(S),k=a(k),function(N,q,re,ne,de,Ae){if(N!==re||q!==ne){var ke=de.push("translate(",null,c,null,g);Ae.push({i:ke-4,x:fi(N,re)},{i:ke-2,x:fi(q,ne)})}else(re||ne)&&de.push("translate("+re+c+ne+g)}(S.translateX,S.translateY,k.translateX,k.translateY,I,B),function(N,q,re,ne){N!==q?(N-q>180?q+=360:q-N>180&&(N+=360),ne.push({i:re.push(_(re)+"rotate(",null,y)-2,x:fi(N,q)})):q&&re.push(_(re)+"rotate("+q+y)}(S.rotate,k.rotate,I,B),function(N,q,re,ne){N!==q?ne.push({i:re.push(_(re)+"skewX(",null,y)-2,x:fi(N,q)}):q&&re.push(_(re)+"skewX("+q+y)}(S.skewX,k.skewX,I,B),function(N,q,re,ne,de,Ae){if(N!==re||q!==ne){var ke=de.push(_(de)+"scale(",null,",",null,")");Ae.push({i:ke-4,x:fi(N,re)},{i:ke-2,x:fi(q,ne)})}else re===1&&ne===1||de.push(_(de)+"scale("+re+","+ne+")")}(S.scaleX,S.scaleY,k.scaleX,k.scaleY,I,B),S=k=null,function(N){for(var q,re=-1,ne=B.length;++re<ne;)I[(q=B[re]).i]=q.x(N);return I.join("")}}}var No=Jo(function(a){const c=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return c.isIdentity?cs:Ps(c.a,c.b,c.c,c.d,c.e,c.f)},"px, ","px)","deg)"),Qo=Jo(function(a){return a==null?cs:(gt||(gt=document.createElementNS("http://www.w3.org/2000/svg","g")),gt.setAttribute("transform",a),(a=gt.transform.baseVal.consolidate())?Ps((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):cs)},", ",")",")");function xi(a,c){var g,y;return function(){var _=_r(this,a),S=_.tween;if(S!==g){for(var k=0,I=(y=g=S).length;k<I;++k)if(y[k].name===c){(y=y.slice()).splice(k,1);break}}_.tween=y}}function Ss(a,c,g){var y,_;if(typeof g!="function")throw new Error;return function(){var S=_r(this,a),k=S.tween;if(k!==y){_=(y=k).slice();for(var I={name:c,value:g},B=0,N=_.length;B<N;++B)if(_[B].name===c){_[B]=I;break}B===N&&_.push(I)}S.tween=_}}function hr(a,c,g){var y=a._id;return a.each(function(){var _=_r(this,y);(_.value||(_.value={}))[c]=g.apply(this,arguments)}),function(_){return Fe(_,y).value[c]}}function xs(a,c,g){a.prototype=c.prototype=g,g.constructor=a}function Bo(a,c){var g=Object.create(a.prototype);for(var y in c)g[y]=c[y];return g}function ri(){}var bi=.7,ks=1/bi,es="\\s*([+-]?\\d+)\\s*",Ni="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ps=/^#([0-9a-f]{3,8})$/,Wi=new RegExp("^rgb\\("+[es,es,es]+"\\)$"),yo=new RegExp("^rgb\\("+[Bi,Bi,Bi]+"\\)$"),to=new RegExp("^rgba\\("+[es,es,es,Ni]+"\\)$"),Ks=new RegExp("^rgba\\("+[Bi,Bi,Bi,Ni]+"\\)$"),kl=new RegExp("^hsl\\("+[Ni,Bi,Bi]+"\\)$"),st=new RegExp("^hsla\\("+[Ni,Bi,Bi,Ni]+"\\)$"),In={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xn(){return this.rgb().formatHex()}function ii(){return this.rgb().formatRgb()}function hi(a){var c,g;return a=(a+"").trim().toLowerCase(),(c=ps.exec(a))?(g=c[1].length,c=parseInt(c[1],16),g===6?Ts(c):g===3?new $i(c>>8&15|c>>4&240,c>>4&15|240&c,(15&c)<<4|15&c,1):g===8?ts(c>>24&255,c>>16&255,c>>8&255,(255&c)/255):g===4?ts(c>>12&15|c>>8&240,c>>8&15|c>>4&240,c>>4&15|240&c,((15&c)<<4|15&c)/255):null):(c=Wi.exec(a))?new $i(c[1],c[2],c[3],1):(c=yo.exec(a))?new $i(255*c[1]/100,255*c[2]/100,255*c[3]/100,1):(c=to.exec(a))?ts(c[1],c[2],c[3],c[4]):(c=Ks.exec(a))?ts(255*c[1]/100,255*c[2]/100,255*c[3]/100,c[4]):(c=kl.exec(a))?Tl(c[1],c[2]/100,c[3]/100,1):(c=st.exec(a))?Tl(c[1],c[2]/100,c[3]/100,c[4]):In.hasOwnProperty(a)?Ts(In[a]):a==="transparent"?new $i(NaN,NaN,NaN,0):null}function Ts(a){return new $i(a>>16&255,a>>8&255,255&a,1)}function ts(a,c,g,y){return y<=0&&(a=c=g=NaN),new $i(a,c,g,y)}function _u(a){return a instanceof ri||(a=hi(a)),a?new $i((a=a.rgb()).r,a.g,a.b,a.opacity):new $i}function $o(a,c,g,y){return arguments.length===1?_u(a):new $i(a,c,g,y==null?1:y)}function $i(a,c,g,y){this.r=+a,this.g=+c,this.b=+g,this.opacity=+y}function wd(){return"#"+Pf(this.r)+Pf(this.g)+Pf(this.b)}function el(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}function Pf(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function Tl(a,c,g,y){return y<=0?a=c=g=NaN:g<=0||g>=1?a=c=NaN:c<=0&&(a=NaN),new no(a,c,g,y)}function Df(a){if(a instanceof no)return new no(a.h,a.s,a.l,a.opacity);if(a instanceof ri||(a=hi(a)),!a)return new no;if(a instanceof no)return a;var c=(a=a.rgb()).r/255,g=a.g/255,y=a.b/255,_=Math.min(c,g,y),S=Math.max(c,g,y),k=NaN,I=S-_,B=(S+_)/2;return I?(k=c===S?(g-y)/I+6*(g<y):g===S?(y-c)/I+2:(c-g)/I+4,I/=B<.5?S+_:2-S-_,k*=60):I=B>0&&B<1?0:k,new no(k,I,B,a.opacity)}function no(a,c,g,y){this.h=+a,this.s=+c,this.l=+g,this.opacity=+y}function ns(a,c,g){return 255*(a<60?c+(g-c)*a/60:a<180?g:a<240?c+(g-c)*(240-a)/60:c)}xs(ri,hi,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:xn,formatHex:xn,formatHsl:function(){return Df(this).formatHsl()},formatRgb:ii,toString:ii}),xs($i,$o,Bo(ri,{brighter:function(a){return a=a==null?ks:Math.pow(ks,a),new $i(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=a==null?bi:Math.pow(bi,a),new $i(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wd,formatHex:wd,formatRgb:el,toString:el})),xs(no,function(a,c,g,y){return arguments.length===1?Df(a):new no(a,c,g,y==null?1:y)},Bo(ri,{brighter:function(a){return a=a==null?ks:Math.pow(ks,a),new no(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=a==null?bi:Math.pow(bi,a),new no(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),c=isNaN(a)||isNaN(this.s)?0:this.s,g=this.l,y=g+(g<.5?g:1-g)*c,_=2*g-y;return new $i(ns(a>=240?a-240:a+120,_,y),ns(a,_,y),ns(a<120?a+240:a-120,_,y),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(a===1?")":", "+a+")")}}));const Rp=a=>()=>a;function Mp(a,c){var g=c-a;return g?function(y,_){return function(S){return y+S*_}}(a,g):Rp(isNaN(a)?c:a)}const Op=function a(c){var g=function(_){return(_=+_)==1?Mp:function(S,k){return k-S?function(I,B,N){return I=Math.pow(I,N),B=Math.pow(B,N)-I,N=1/N,function(q){return Math.pow(I+q*B,N)}}(S,k,_):Rp(isNaN(S)?k:S)}}(c);function y(_,S){var k=g((_=$o(_)).r,(S=$o(S)).r),I=g(_.g,S.g),B=g(_.b,S.b),N=Mp(_.opacity,S.opacity);return function(q){return _.r=k(q),_.g=I(q),_.b=B(q),_.opacity=N(q),_+""}}return y.gamma=a,y}(1);var tl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lp=new RegExp(tl.source,"g");function Ap(a,c){var g,y,_,S=tl.lastIndex=Lp.lastIndex=0,k=-1,I=[],B=[];for(a+="",c+="";(g=tl.exec(a))&&(y=Lp.exec(c));)(_=y.index)>S&&(_=c.slice(S,_),I[k]?I[k]+=_:I[++k]=_),(g=g[0])===(y=y[0])?I[k]?I[k]+=y:I[++k]=y:(I[++k]=null,B.push({i:k,x:fi(g,y)})),S=Lp.lastIndex;return S<c.length&&(_=c.slice(S),I[k]?I[k]+=_:I[++k]=_),I.length<2?B[0]?function(N){return function(q){return N(q)+""}}(B[0].x):function(N){return function(){return N}}(c):(c=B.length,function(N){for(var q,re=0;re<c;++re)I[(q=B[re]).i]=q.x(N);return I.join("")})}function nl(a,c){var g;return(typeof c=="number"?fi:c instanceof hi?Op:(g=hi(c))?(c=g,Op):Ap)(a,c)}function wn(a){return function(){this.removeAttribute(a)}}function lm(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Ri(a,c,g){var y,_,S=g+"";return function(){var k=this.getAttribute(a);return k===S?null:k===y?_:_=c(y=k,g)}}function Nf(a,c,g){var y,_,S=g+"";return function(){var k=this.getAttributeNS(a.space,a.local);return k===S?null:k===y?_:_=c(y=k,g)}}function Bf(a,c,g){var y,_,S;return function(){var k,I,B=g(this);if(B!=null)return(k=this.getAttribute(a))===(I=B+"")?null:k===y&&I===_?S:(_=I,S=c(y=k,B));this.removeAttribute(a)}}function Pp(a,c,g){var y,_,S;return function(){var k,I,B=g(this);if(B!=null)return(k=this.getAttributeNS(a.space,a.local))===(I=B+"")?null:k===y&&I===_?S:(_=I,S=c(y=k,B));this.removeAttributeNS(a.space,a.local)}}function xa(a,c){return function(g){this.setAttribute(a,c.call(this,g))}}function Cs(a,c){return function(g){this.setAttributeNS(a.space,a.local,c.call(this,g))}}function Ed(a,c){var g,y;function _(){var S=c.apply(this,arguments);return S!==y&&(g=(y=S)&&Cs(a,S)),g}return _._value=c,_}function cm(a,c){var g,y;function _(){var S=c.apply(this,arguments);return S!==y&&(g=(y=S)&&xa(a,S)),g}return _._value=c,_}function Dp(a,c){return function(){fn(this,a).delay=+c.apply(this,arguments)}}function nc(a,c){return c=+c,function(){fn(this,a).delay=c}}function um(a,c){return function(){_r(this,a).duration=+c.apply(this,arguments)}}function vv(a,c){return c=+c,function(){_r(this,a).duration=c}}function $w(a,c){if(typeof c!="function")throw new Error;return function(){_r(this,a).ease=c}}function bv(a,c,g){var y,_,S=function(k){return(k+"").trim().split(/^|\s+/).every(function(I){var B=I.indexOf(".");return B>=0&&(I=I.slice(0,B)),!I||I==="start"})}(c)?fn:_r;return function(){var k=S(this,a),I=k.on;I!==y&&(_=(y=I).copy()).on(c,g),k.on=_}}var _v=Cn.prototype.constructor;function ea(a){return function(){this.style.removeProperty(a)}}function wv(a,c,g){return function(y){this.style.setProperty(a,c.call(this,y),g)}}function dm(a,c,g){var y,_;function S(){var k=c.apply(this,arguments);return k!==_&&(y=(_=k)&&wv(a,k,g)),y}return S._value=c,S}function fm(a){return function(c){this.textContent=a.call(this,c)}}function rc(a){var c,g;function y(){var _=a.apply(this,arguments);return _!==g&&(c=(g=_)&&fm(_)),c}return y._value=a,y}var $f=0;function rl(a,c,g,y){this._groups=a,this._parents=c,this._name=g,this._id=y}function Ff(){return++$f}var ta=Cn.prototype;rl.prototype={constructor:rl,select:function(a){var c=this._name,g=this._id;typeof a!="function"&&(a=R(a));for(var y=this._groups,_=y.length,S=new Array(_),k=0;k<_;++k)for(var I,B,N=y[k],q=N.length,re=S[k]=new Array(q),ne=0;ne<q;++ne)(I=N[ne])&&(B=a.call(I,I.__data__,ne,N))&&("__data__"in I&&(B.__data__=I.__data__),re[ne]=B,or(re[ne],c,g,ne,re,Fe(I,g)));return new rl(S,this._parents,c,g)},selectAll:function(a){var c=this._name,g=this._id;typeof a!="function"&&(a=K(a));for(var y=this._groups,_=y.length,S=[],k=[],I=0;I<_;++I)for(var B,N=y[I],q=N.length,re=0;re<q;++re)if(B=N[re]){for(var ne,de=a.call(B,B.__data__,re,N),Ae=Fe(B,g),ke=0,Ue=de.length;ke<Ue;++ke)(ne=de[ke])&&or(ne,c,g,ke,de,Ae);S.push(de),k.push(B)}return new rl(S,k,c,g)},selectChild:ta.selectChild,selectChildren:ta.selectChildren,filter:function(a){typeof a!="function"&&(a=W(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k=c[_],I=k.length,B=y[_]=[],N=0;N<I;++N)(S=k[N])&&a.call(S,S.__data__,N,k)&&B.push(S);return new rl(y,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw new Error;for(var c=this._groups,g=a._groups,y=c.length,_=g.length,S=Math.min(y,_),k=new Array(y),I=0;I<S;++I)for(var B,N=c[I],q=g[I],re=N.length,ne=k[I]=new Array(re),de=0;de<re;++de)(B=N[de]||q[de])&&(ne[de]=B);for(;I<y;++I)k[I]=c[I];return new rl(k,this._parents,this._name,this._id)},selection:function(){return new _v(this._groups,this._parents)},transition:function(){for(var a=this._name,c=this._id,g=Ff(),y=this._groups,_=y.length,S=0;S<_;++S)for(var k,I=y[S],B=I.length,N=0;N<B;++N)if(k=I[N]){var q=Fe(k,c);or(k,a,g,N,I,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new rl(y,this._parents,a,g)},call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:function(a,c){var g=this._id;return arguments.length<2?Fe(this.node(),g).on.on(a):this.each(bv(g,a,c))},attr:function(a,c){var g=Le(a),y=g==="transform"?Qo:nl;return this.attrTween(a,typeof c=="function"?(g.local?Pp:Bf)(g,y,hr(this,"attr."+a,c)):c==null?(g.local?lm:wn)(g):(g.local?Nf:Ri)(g,y,c))},attrTween:function(a,c){var g="attr."+a;if(arguments.length<2)return(g=this.tween(g))&&g._value;if(c==null)return this.tween(g,null);if(typeof c!="function")throw new Error;var y=Le(a);return this.tween(g,(y.local?Ed:cm)(y,c))},style:function(a,c,g){var y=(a+="")=="transform"?No:nl;return c==null?this.styleTween(a,function(_,S){var k,I,B;return function(){var N=kt(this,_),q=(this.style.removeProperty(_),kt(this,_));return N===q?null:N===k&&q===I?B:B=S(k=N,I=q)}}(a,y)).on("end.style."+a,ea(a)):typeof c=="function"?this.styleTween(a,function(_,S,k){var I,B,N;return function(){var q=kt(this,_),re=k(this),ne=re+"";return re==null&&(this.style.removeProperty(_),ne=re=kt(this,_)),q===ne?null:q===I&&ne===B?N:(B=ne,N=S(I=q,re))}}(a,y,hr(this,"style."+a,c))).each(function(_,S){var k,I,B,N,q="style."+S,re="end."+q;return function(){var ne=_r(this,_),de=ne.on,Ae=ne.value[q]==null?N||(N=ea(S)):void 0;de===k&&B===Ae||(I=(k=de).copy()).on(re,B=Ae),ne.on=I}}(this._id,a)):this.styleTween(a,function(_,S,k){var I,B,N=k+"";return function(){var q=kt(this,_);return q===N?null:q===I?B:B=S(I=q,k)}}(a,y,c),g).on("end.style."+a,null)},styleTween:function(a,c,g){var y="style."+(a+="");if(arguments.length<2)return(y=this.tween(y))&&y._value;if(c==null)return this.tween(y,null);if(typeof c!="function")throw new Error;return this.tween(y,dm(a,c,g==null?"":g))},text:function(a){return this.tween("text",typeof a=="function"?function(c){return function(){var g=c(this);this.textContent=g==null?"":g}}(hr(this,"text",a)):function(c){return function(){this.textContent=c}}(a==null?"":a+""))},textTween:function(a){var c="text";if(arguments.length<1)return(c=this.tween(c))&&c._value;if(a==null)return this.tween(c,null);if(typeof a!="function")throw new Error;return this.tween(c,rc(a))},remove:function(){return this.on("end.remove",function(a){return function(){var c=this.parentNode;for(var g in this.__transition)if(+g!==a)return;c&&c.removeChild(this)}}(this._id))},tween:function(a,c){var g=this._id;if(a+="",arguments.length<2){for(var y,_=Fe(this.node(),g).tween,S=0,k=_.length;S<k;++S)if((y=_[S]).name===a)return y.value;return null}return this.each((c==null?xi:Ss)(g,a,c))},delay:function(a){var c=this._id;return arguments.length?this.each((typeof a=="function"?Dp:nc)(c,a)):Fe(this.node(),c).delay},duration:function(a){var c=this._id;return arguments.length?this.each((typeof a=="function"?um:vv)(c,a)):Fe(this.node(),c).duration},ease:function(a){var c=this._id;return arguments.length?this.each($w(c,a)):Fe(this.node(),c).ease},easeVarying:function(a){if(typeof a!="function")throw new Error;return this.each(function(c,g){return function(){var y=g.apply(this,arguments);if(typeof y!="function")throw new Error;_r(this,c).ease=y}}(this._id,a))},end:function(){var a,c,g=this,y=g._id,_=g.size();return new Promise(function(S,k){var I={value:k},B={value:function(){--_==0&&S()}};g.each(function(){var N=_r(this,y),q=N.on;q!==a&&((c=(a=q).copy())._.cancel.push(I),c._.interrupt.push(I),c._.end.push(B)),N.on=c}),_===0&&S()})},[Symbol.iterator]:ta[Symbol.iterator]};var wu={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};function Np(a,c){for(var g;!(g=a.__transition)||!(g=g[c]);)if(!(a=a.parentNode))throw new Error(`transition ${c} not found`);return g}Cn.prototype.interrupt=function(a){return this.each(function(){(function(c,g){var y,_,S,k=c.__transition,I=!0;if(k){for(S in g=g==null?null:g+"",k)(y=k[S]).name===g?(_=y.state>2&&y.state<5,y.state=6,y.timer.stop(),y.on.call(_?"interrupt":"cancel",c,c.__data__,y.index,y.group),delete k[S]):I=!1;I&&delete c.__transition}})(this,a)})},Cn.prototype.transition=function(a){var c,g;a instanceof rl?(c=a._id,a=a._name):(c=Ff(),(g=wu).time=Rn(),a=a==null?null:a+"");for(var y=this._groups,_=y.length,S=0;S<_;++S)for(var k,I=y[S],B=I.length,N=0;N<B;++N)(k=I[N])&&or(k,a,c,N,I,g||Np(k,c));return new rl(y,this._parents,a,c)};function ic(a,c,g){a.prototype=c.prototype=g,g.constructor=a}function ro(a,c){var g=Object.create(a.prototype);for(var y in c)g[y]=c[y];return g}function gs(){}var il=.7,ka=1/il,vo="\\s*([+-]?\\d+)\\s*",Ar="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",F="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J=/^#([0-9a-f]{3,8})$/,fe=new RegExp("^rgb\\("+[vo,vo,vo]+"\\)$"),Me=new RegExp("^rgb\\("+[F,F,F]+"\\)$"),vt=new RegExp("^rgba\\("+[vo,vo,vo,Ar]+"\\)$"),Ft=new RegExp("^rgba\\("+[F,F,F,Ar]+"\\)$"),Wt=new RegExp("^hsl\\("+[Ar,F,F]+"\\)$"),dn=new RegExp("^hsla\\("+[Ar,F,F,Ar]+"\\)$"),hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kn(){return this.rgb().formatHex()}function $n(){return this.rgb().formatRgb()}function mr(a){var c,g;return a=(a+"").trim().toLowerCase(),(c=J.exec(a))?(g=c[1].length,c=parseInt(c[1],16),g===6?ar(c):g===3?new Vr(c>>8&15|c>>4&240,c>>4&15|240&c,(15&c)<<4|15&c,1):g===8?Wr(c>>24&255,c>>16&255,c>>8&255,(255&c)/255):g===4?Wr(c>>12&15|c>>8&240,c>>8&15|c>>4&240,c>>4&15|240&c,((15&c)<<4|15&c)/255):null):(c=fe.exec(a))?new Vr(c[1],c[2],c[3],1):(c=Me.exec(a))?new Vr(255*c[1]/100,255*c[2]/100,255*c[3]/100,1):(c=vt.exec(a))?Wr(c[1],c[2],c[3],c[4]):(c=Ft.exec(a))?Wr(255*c[1]/100,255*c[2]/100,255*c[3]/100,c[4]):(c=Wt.exec(a))?Fw(c[1],c[2]/100,c[3]/100,1):(c=dn.exec(a))?Fw(c[1],c[2]/100,c[3]/100,c[4]):hn.hasOwnProperty(a)?ar(hn[a]):a==="transparent"?new Vr(NaN,NaN,NaN,0):null}function ar(a){return new Vr(a>>16&255,a>>8&255,255&a,1)}function Wr(a,c,g,y){return y<=0&&(a=c=g=NaN),new Vr(a,c,g,y)}function Yr(a){return a instanceof gs||(a=mr(a)),a?new Vr((a=a.rgb()).r,a.g,a.b,a.opacity):new Vr}function Mi(a,c,g,y){return arguments.length===1?Yr(a):new Vr(a,c,g,y==null?1:y)}function Vr(a,c,g,y){this.r=+a,this.g=+c,this.b=+g,this.opacity=+y}function na(){return"#"+hm(this.r)+hm(this.g)+hm(this.b)}function Eu(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}function hm(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function Fw(a,c,g,y){return y<=0?a=c=g=NaN:g<=0||g>=1?a=c=NaN:c<=0&&(a=NaN),new sc(a,c,g,y)}function pm(a){if(a instanceof sc)return new sc(a.h,a.s,a.l,a.opacity);if(a instanceof gs||(a=mr(a)),!a)return new sc;if(a instanceof sc)return a;var c=(a=a.rgb()).r/255,g=a.g/255,y=a.b/255,_=Math.min(c,g,y),S=Math.max(c,g,y),k=NaN,I=S-_,B=(S+_)/2;return I?(k=c===S?(g-y)/I+6*(g<y):g===S?(y-c)/I+2:(c-g)/I+4,I/=B<.5?S+_:2-S-_,k*=60):I=B>0&&B<1?0:k,new sc(k,I,B,a.opacity)}function sc(a,c,g,y){this.h=+a,this.s=+c,this.l=+g,this.opacity=+y}function gm(a,c,g){return 255*(a<60?c+(g-c)*a/60:a<180?g:a<240?c+(g-c)*(240-a)/60:c)}ic(gs,mr,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:kn,formatHex:kn,formatHsl:function(){return pm(this).formatHsl()},formatRgb:$n,toString:$n}),ic(Vr,Mi,ro(gs,{brighter:function(a){return a=a==null?ka:Math.pow(ka,a),new Vr(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=a==null?il:Math.pow(il,a),new Vr(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:na,formatHex:na,formatRgb:Eu,toString:Eu})),ic(sc,function(a,c,g,y){return arguments.length===1?pm(a):new sc(a,c,g,y==null?1:y)},ro(gs,{brighter:function(a){return a=a==null?ka:Math.pow(ka,a),new sc(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=a==null?il:Math.pow(il,a),new sc(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),c=isNaN(a)||isNaN(this.s)?0:this.s,g=this.l,y=g+(g<.5?g:1-g)*c,_=2*g-y;return new Vr(gm(a>=240?a-240:a+120,_,y),gm(a,_,y),gm(a<120?a+240:a-120,_,y),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(a===1?")":", "+a+")")}}));const D8=Math.PI/180,N8=180/Math.PI,Uw=.96422,Hw=.82521,B8=4/29,jw=6/29,Ev=3*jw*jw;function Kw(a){if(a instanceof Fc)return new Fc(a.l,a.a,a.b,a.opacity);if(a instanceof Su)return $8(a);a instanceof Vr||(a=Yr(a));var c,g,y=Gw(a.r),_=Gw(a.g),S=Gw(a.b),k=zw((.2225045*y+.7168786*_+.0606169*S)/1);return y===_&&_===S?c=g=k:(c=zw((.4360747*y+.3850649*_+.1430804*S)/Uw),g=zw((.0139322*y+.0971045*_+.7141733*S)/Hw)),new Fc(116*k-16,500*(c-k),200*(k-g),a.opacity)}function Fc(a,c,g,y){this.l=+a,this.a=+c,this.b=+g,this.opacity=+y}function zw(a){return a>.008856451679035631?Math.pow(a,1/3):a/Ev+B8}function qw(a){return a>jw?a*a*a:Ev*(a-B8)}function Vw(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Gw(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function LO(a){if(a instanceof Su)return new Su(a.h,a.c,a.l,a.opacity);if(a instanceof Fc||(a=Kw(a)),a.a===0&&a.b===0)return new Su(NaN,0<a.l&&a.l<100?0:NaN,a.l,a.opacity);var c=Math.atan2(a.b,a.a)*N8;return new Su(c<0?c+360:c,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function Ww(a,c,g,y){return arguments.length===1?LO(a):new Su(a,c,g,y==null?1:y)}function Su(a,c,g,y){this.h=+a,this.c=+c,this.l=+g,this.opacity=+y}function $8(a){if(isNaN(a.h))return new Fc(a.l,0,0,a.opacity);var c=a.h*D8;return new Fc(a.l,Math.cos(c)*a.c,Math.sin(c)*a.c,a.opacity)}ic(Fc,function(a,c,g,y){return arguments.length===1?Kw(a):new Fc(a,c,g,y==null?1:y)},ro(gs,{brighter:function(a){return new Fc(this.l+18*(a==null?1:a),this.a,this.b,this.opacity)},darker:function(a){return new Fc(this.l-18*(a==null?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,c=isNaN(this.a)?a:a+this.a/500,g=isNaN(this.b)?a:a-this.b/200;return new Vr(Vw(3.1338561*(c=Uw*qw(c))-1.6168667*(a=1*qw(a))-.4906146*(g=Hw*qw(g))),Vw(-.9787684*c+1.9161415*a+.033454*g),Vw(.0719453*c-.2289914*a+1.4052427*g),this.opacity)}})),ic(Su,Ww,ro(gs,{brighter:function(a){return new Su(this.h,this.c,this.l+18*(a==null?1:a),this.opacity)},darker:function(a){return new Su(this.h,this.c,this.l-18*(a==null?1:a),this.opacity)},rgb:function(){return $8(this).rgb()}}));const Yw=a=>()=>a;function F8(a,c){return function(g){return a+g*c}}function mm(a,c){var g=c-a;return g?F8(a,g):Yw(isNaN(a)?c:a)}function AO(a){return function(c,g){var y=a((c=Ww(c)).h,(g=Ww(g)).h),_=mm(c.c,g.c),S=mm(c.l,g.l),k=mm(c.opacity,g.opacity);return function(I){return c.h=y(I),c.c=_(I),c.l=S(I),c.opacity=k(I),c+""}}}const PO=AO(function(a,c){var g=c-a;return g?F8(a,g>180||g<-180?g-360*Math.round(g/360):g):Yw(isNaN(a)?c:a)});var Xw=Math.sqrt(50),Zw=Math.sqrt(10),Jw=Math.sqrt(2);function Qw(a,c,g){var y=(c-a)/Math.max(0,g),_=Math.floor(Math.log(y)/Math.LN10),S=y/Math.pow(10,_);return _>=0?(S>=Xw?10:S>=Zw?5:S>=Jw?2:1)*Math.pow(10,_):-Math.pow(10,-_)/(S>=Xw?10:S>=Zw?5:S>=Jw?2:1)}function e5(a,c,g){var y=Math.abs(c-a)/Math.max(0,g),_=Math.pow(10,Math.floor(Math.log(y)/Math.LN10)),S=y/_;return S>=Xw?_*=10:S>=Zw?_*=5:S>=Jw&&(_*=2),c<a?-_:_}function t5(a,c){return a==null||c==null?NaN:a<c?-1:a>c?1:a>=c?0:NaN}function n5(a){let c=a,g=a,y=a;function _(S,k,I=0,B=S.length){if(I<B){if(g(k,k)!==0)return B;do{const N=I+B>>>1;y(S[N],k)<0?I=N+1:B=N}while(I<B)}return I}return a.length!==2&&(c=(S,k)=>a(S)-k,g=t5,y=(S,k)=>t5(a(S),k)),{left:_,center:function(S,k,I=0,B=S.length){const N=_(S,k,I,B-1);return N>I&&c(S[N-1],k)>-c(S[N],k)?N-1:N},right:function(S,k,I=0,B=S.length){if(I<B){if(g(k,k)!==0)return B;do{const N=I+B>>>1;y(S[N],k)<=0?I=N+1:B=N}while(I<B)}return I}}}const DO=n5(t5),NO=DO.right,Uc=(n5(function(a){return a===null?NaN:+a}).center,NO);function Sv(a,c,g){a.prototype=c.prototype=g,g.constructor=a}function r5(a,c){var g=Object.create(a.prototype);for(var y in c)g[y]=c[y];return g}function Hc(){}var xv=.7,kv=1.4285714285714286,Sd="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",jc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BO=/^#([0-9a-f]{3,8})$/,$O=new RegExp("^rgb\\("+[Sd,Sd,Sd]+"\\)$"),i5=new RegExp("^rgb\\("+[jc,jc,jc]+"\\)$"),FO=new RegExp("^rgba\\("+[Sd,Sd,Sd,Uf]+"\\)$"),U8=new RegExp("^rgba\\("+[jc,jc,jc,Uf]+"\\)$"),s5=new RegExp("^hsl\\("+[Uf,jc,jc]+"\\)$"),H8=new RegExp("^hsla\\("+[Uf,jc,jc,Uf]+"\\)$"),Tv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hf(){return this.rgb().formatHex()}function jf(){return this.rgb().formatRgb()}function Bp(a){var c,g;return a=(a+"").trim().toLowerCase(),(c=BO.exec(a))?(g=c[1].length,c=parseInt(c[1],16),g===6?Cv(c):g===3?new sl(c>>8&15|c>>4&240,c>>4&15|240&c,(15&c)<<4|15&c,1):g===8?Iv(c>>24&255,c>>16&255,c>>8&255,(255&c)/255):g===4?Iv(c>>12&15|c>>8&240,c>>8&15|c>>4&240,c>>4&15|240&c,((15&c)<<4|15&c)/255):null):(c=$O.exec(a))?new sl(c[1],c[2],c[3],1):(c=i5.exec(a))?new sl(255*c[1]/100,255*c[2]/100,255*c[3]/100,1):(c=FO.exec(a))?Iv(c[1],c[2],c[3],c[4]):(c=U8.exec(a))?Iv(255*c[1]/100,255*c[2]/100,255*c[3]/100,c[4]):(c=s5.exec(a))?j8(c[1],c[2]/100,c[3]/100,1):(c=H8.exec(a))?j8(c[1],c[2]/100,c[3]/100,c[4]):Tv.hasOwnProperty(a)?Cv(Tv[a]):a==="transparent"?new sl(NaN,NaN,NaN,0):null}function Cv(a){return new sl(a>>16&255,a>>8&255,255&a,1)}function Iv(a,c,g,y){return y<=0&&(a=c=g=NaN),new sl(a,c,g,y)}function Rv(a){return a instanceof Hc||(a=Bp(a)),a?new sl((a=a.rgb()).r,a.g,a.b,a.opacity):new sl}function $p(a,c,g,y){return arguments.length===1?Rv(a):new sl(a,c,g,y==null?1:y)}function sl(a,c,g,y){this.r=+a,this.g=+c,this.b=+g,this.opacity=+y}function Kc(){return"#"+Mv(this.r)+Mv(this.g)+Mv(this.b)}function o5(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}function Mv(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function j8(a,c,g,y){return y<=0?a=c=g=NaN:g<=0||g>=1?a=c=NaN:c<=0&&(a=NaN),new Ta(a,c,g,y)}function K8(a){if(a instanceof Ta)return new Ta(a.h,a.s,a.l,a.opacity);if(a instanceof Hc||(a=Bp(a)),!a)return new Ta;if(a instanceof Ta)return a;var c=(a=a.rgb()).r/255,g=a.g/255,y=a.b/255,_=Math.min(c,g,y),S=Math.max(c,g,y),k=NaN,I=S-_,B=(S+_)/2;return I?(k=c===S?(g-y)/I+6*(g<y):g===S?(y-c)/I+2:(c-g)/I+4,I/=B<.5?S+_:2-S-_,k*=60):I=B>0&&B<1?0:k,new Ta(k,I,B,a.opacity)}function Ta(a,c,g,y){this.h=+a,this.s=+c,this.l=+g,this.opacity=+y}function a5(a,c,g){return 255*(a<60?c+(g-c)*a/60:a<180?g:a<240?c+(g-c)*(240-a)/60:c)}Sv(Hc,Bp,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:Hf,formatHex:Hf,formatHsl:function(){return K8(this).formatHsl()},formatRgb:jf,toString:jf}),Sv(sl,$p,r5(Hc,{brighter:function(a){return a=a==null?kv:Math.pow(kv,a),new sl(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=a==null?xv:Math.pow(xv,a),new sl(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kc,formatHex:Kc,formatRgb:o5,toString:o5})),Sv(Ta,function(a,c,g,y){return arguments.length===1?K8(a):new Ta(a,c,g,y==null?1:y)},r5(Hc,{brighter:function(a){return a=a==null?kv:Math.pow(kv,a),new Ta(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=a==null?xv:Math.pow(xv,a),new Ta(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),c=isNaN(a)||isNaN(this.s)?0:this.s,g=this.l,y=g+(g<.5?g:1-g)*c,_=2*g-y;return new sl(a5(a>=240?a-240:a+120,_,y),a5(a,_,y),a5(a<120?a+240:a-120,_,y),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(a===1?")":", "+a+")")}}));const l5=a=>()=>a;function z8(a,c){var g=c-a;return g?function(y,_){return function(S){return y+S*_}}(a,g):l5(isNaN(a)?c:a)}const Ov=function a(c){var g=function(_){return(_=+_)==1?z8:function(S,k){return k-S?function(I,B,N){return I=Math.pow(I,N),B=Math.pow(B,N)-I,N=1/N,function(q){return Math.pow(I+q*B,N)}}(S,k,_):l5(isNaN(S)?k:S)}}(c);function y(_,S){var k=g((_=$p(_)).r,(S=$p(S)).r),I=g(_.g,S.g),B=g(_.b,S.b),N=z8(_.opacity,S.opacity);return function(q){return _.r=k(q),_.g=I(q),_.b=B(q),_.opacity=N(q),_+""}}return y.gamma=a,y}(1);function UO(a,c){var g,y=c?c.length:0,_=a?Math.min(y,a.length):0,S=new Array(_),k=new Array(y);for(g=0;g<_;++g)S[g]=Av(a[g],c[g]);for(;g<y;++g)k[g]=c[g];return function(I){for(g=0;g<_;++g)k[g]=S[g](I);return k}}function HO(a,c){var g=new Date;return a=+a,c=+c,function(y){return g.setTime(a*(1-y)+c*y),g}}function Lv(a,c){return a=+a,c=+c,function(g){return a*(1-g)+c*g}}function jO(a,c){var g,y={},_={};for(g in a!==null&&typeof a=="object"||(a={}),c!==null&&typeof c=="object"||(c={}),c)g in a?y[g]=Av(a[g],c[g]):_[g]=c[g];return function(S){for(g in y)_[g]=y[g](S);return _}}var c5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ym=new RegExp(c5.source,"g");function q8(a,c){var g,y,_,S=c5.lastIndex=ym.lastIndex=0,k=-1,I=[],B=[];for(a+="",c+="";(g=c5.exec(a))&&(y=ym.exec(c));)(_=y.index)>S&&(_=c.slice(S,_),I[k]?I[k]+=_:I[++k]=_),(g=g[0])===(y=y[0])?I[k]?I[k]+=y:I[++k]=y:(I[++k]=null,B.push({i:k,x:Lv(g,y)})),S=ym.lastIndex;return S<c.length&&(_=c.slice(S),I[k]?I[k]+=_:I[++k]=_),I.length<2?B[0]?function(N){return function(q){return N(q)+""}}(B[0].x):function(N){return function(){return N}}(c):(c=B.length,function(N){for(var q,re=0;re<c;++re)I[(q=B[re]).i]=q.x(N);return I.join("")})}function V8(a,c){c||(c=[]);var g,y=a?Math.min(c.length,a.length):0,_=c.slice();return function(S){for(g=0;g<y;++g)_[g]=a[g]*(1-S)+c[g]*S;return _}}function Av(a,c){var g,y,_=typeof c;return c==null||_==="boolean"?l5(c):(_==="number"?Lv:_==="string"?(g=Bp(c))?(c=g,Ov):q8:c instanceof Bp?Ov:c instanceof Date?HO:(y=c,!ArrayBuffer.isView(y)||y instanceof DataView?Array.isArray(c)?UO:typeof c.valueOf!="function"&&typeof c.toString!="function"||isNaN(c)?jO:Lv:V8))(a,c)}function Pv(a,c){return a=+a,c=+c,function(g){return Math.round(a*(1-g)+c*g)}}function G8(a){return+a}var u5=[0,1];function Fp(a){return a}function d5(a,c){return(c-=a=+a)?function(y){return(y-a)/c}:(g=isNaN(c)?NaN:.5,function(){return g});var g}function KO(a,c,g){var y=a[0],_=a[1],S=c[0],k=c[1];return _<y?(y=d5(_,y),S=g(k,S)):(y=d5(y,_),S=g(S,k)),function(I){return S(y(I))}}function f5(a,c,g){var y=Math.min(a.length,c.length)-1,_=new Array(y),S=new Array(y),k=-1;for(a[y]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());++k<y;)_[k]=d5(a[k],a[k+1]),S[k]=g(c[k],c[k+1]);return function(I){var B=Uc(a,I,1,y)-1;return S[B](_[B](I))}}function Dv(a,c){return c.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Nv(){return function(){var a,c,g,y,_,S,k=u5,I=u5,B=Av,N=Fp;function q(){var ne,de,Ae,ke=Math.min(k.length,I.length);return N!==Fp&&(ne=k[0],de=k[ke-1],ne>de&&(Ae=ne,ne=de,de=Ae),N=function(Ue){return Math.max(ne,Math.min(de,Ue))}),y=ke>2?f5:KO,_=S=null,re}function re(ne){return ne==null||isNaN(ne=+ne)?g:(_||(_=y(k.map(a),I,B)))(a(N(ne)))}return re.invert=function(ne){return N(c((S||(S=y(I,k.map(a),Lv)))(ne)))},re.domain=function(ne){return arguments.length?(k=Array.from(ne,G8),q()):k.slice()},re.range=function(ne){return arguments.length?(I=Array.from(ne),q()):I.slice()},re.rangeRound=function(ne){return I=Array.from(ne),B=Pv,q()},re.clamp=function(ne){return arguments.length?(N=!!ne||Fp,q()):N!==Fp},re.interpolate=function(ne){return arguments.length?(B=ne,q()):B},re.unknown=function(ne){return arguments.length?(g=ne,re):g},function(ne,de){return a=ne,c=de,q()}}()(Fp,Fp)}function xu(a,c){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(c).domain(a)}return this}var W8,h5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vm(a){if(!(c=h5.exec(a)))throw new Error("invalid format: "+a);var c;return new ku({fill:c[1],align:c[2],sign:c[3],symbol:c[4],zero:c[5],width:c[6],comma:c[7],precision:c[8]&&c[8].slice(1),trim:c[9],type:c[10]})}function ku(a){this.fill=a.fill===void 0?" ":a.fill+"",this.align=a.align===void 0?">":a.align+"",this.sign=a.sign===void 0?"-":a.sign+"",this.symbol=a.symbol===void 0?"":a.symbol+"",this.zero=!!a.zero,this.width=a.width===void 0?void 0:+a.width,this.comma=!!a.comma,this.precision=a.precision===void 0?void 0:+a.precision,this.trim=!!a.trim,this.type=a.type===void 0?"":a.type+""}function Bv(a,c){if((g=(a=c?a.toExponential(c-1):a.toExponential()).indexOf("e"))<0)return null;var g,y=a.slice(0,g);return[y.length>1?y[0]+y.slice(2):y,+a.slice(g+1)]}function Up(a){return(a=Bv(Math.abs(a)))?a[1]:NaN}function Y8(a,c){var g=Bv(a,c);if(!g)return a+"";var y=g[0],_=g[1];return _<0?"0."+new Array(-_).join("0")+y:y.length>_+1?y.slice(0,_+1)+"."+y.slice(_+1):y+new Array(_-y.length+2).join("0")}vm.prototype=ku.prototype,ku.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const X8={"%":(a,c)=>(100*a).toFixed(c),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,c)=>a.toExponential(c),f:(a,c)=>a.toFixed(c),g:(a,c)=>a.toPrecision(c),o:a=>Math.round(a).toString(8),p:(a,c)=>Y8(100*a,c),r:Y8,s:function(a,c){var g=Bv(a,c);if(!g)return a+"";var y=g[0],_=g[1],S=_-(W8=3*Math.max(-8,Math.min(8,Math.floor(_/3))))+1,k=y.length;return S===k?y:S>k?y+new Array(S-k+1).join("0"):S>0?y.slice(0,S)+"."+y.slice(S):"0."+new Array(1-S).join("0")+Bv(a,Math.max(0,c+S-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function Z8(a){return a}var p5,ol,bm,g5=Array.prototype.map,Tu=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function zO(a){var c=a.domain;return a.ticks=function(g){var y=c();return function(_,S,k){var I,B,N,q,re=-1;if(k=+k,(_=+_)==(S=+S)&&k>0)return[_];if((I=S<_)&&(B=_,_=S,S=B),(q=Qw(_,S,k))===0||!isFinite(q))return[];if(q>0){let ne=Math.round(_/q),de=Math.round(S/q);for(ne*q<_&&++ne,de*q>S&&--de,N=new Array(B=de-ne+1);++re<B;)N[re]=(ne+re)*q}else{q=-q;let ne=Math.round(_*q),de=Math.round(S*q);for(ne/q<_&&++ne,de/q>S&&--de,N=new Array(B=de-ne+1);++re<B;)N[re]=(ne+re)/q}return I&&N.reverse(),N}(y[0],y[y.length-1],g==null?10:g)},a.tickFormat=function(g,y){var _=c();return function(S,k,I,B){var N,q=e5(S,k,I);switch((B=vm(B==null?",f":B)).type){case"s":var re=Math.max(Math.abs(S),Math.abs(k));return B.precision!=null||isNaN(N=function(ne,de){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Up(de)/3)))-Up(Math.abs(ne)))}(q,re))||(B.precision=N),bm(B,re);case"":case"e":case"g":case"p":case"r":B.precision!=null||isNaN(N=function(ne,de){return ne=Math.abs(ne),de=Math.abs(de)-ne,Math.max(0,Up(de)-Up(ne))+1}(q,Math.max(Math.abs(S),Math.abs(k))))||(B.precision=N-(B.type==="e"));break;case"f":case"%":B.precision!=null||isNaN(N=function(ne){return Math.max(0,-Up(Math.abs(ne)))}(q))||(B.precision=N-2*(B.type==="%"))}return ol(B)}(_[0],_[_.length-1],g==null?10:g,y)},a.nice=function(g){g==null&&(g=10);var y,_,S=c(),k=0,I=S.length-1,B=S[k],N=S[I],q=10;for(N<B&&(_=B,B=N,N=_,_=k,k=I,I=_);q-- >0;){if((_=Qw(B,N,g))===y)return S[k]=B,S[I]=N,c(S);if(_>0)B=Math.floor(B/_)*_,N=Math.ceil(N/_)*_;else{if(!(_<0))break;B=Math.ceil(B*_)/_,N=Math.floor(N*_)/_}y=_}return a},a}function J8(){var a=Nv();return a.copy=function(){return Dv(a,J8())},xu.apply(a,arguments),zO(a)}p5=function(a){var c,g,y=a.grouping===void 0||a.thousands===void 0?Z8:(c=g5.call(a.grouping,Number),g=a.thousands+"",function(ne,de){for(var Ae=ne.length,ke=[],Ue=0,$e=c[0],We=0;Ae>0&&$e>0&&(We+$e+1>de&&($e=Math.max(1,de-We)),ke.push(ne.substring(Ae-=$e,Ae+$e)),!((We+=$e+1)>de));)$e=c[Ue=(Ue+1)%c.length];return ke.reverse().join(g)}),_=a.currency===void 0?"":a.currency[0]+"",S=a.currency===void 0?"":a.currency[1]+"",k=a.decimal===void 0?".":a.decimal+"",I=a.numerals===void 0?Z8:function(ne){return function(de){return de.replace(/[0-9]/g,function(Ae){return ne[+Ae]})}}(g5.call(a.numerals,String)),B=a.percent===void 0?"%":a.percent+"",N=a.minus===void 0?"\u2212":a.minus+"",q=a.nan===void 0?"NaN":a.nan+"";function re(ne){var de=(ne=vm(ne)).fill,Ae=ne.align,ke=ne.sign,Ue=ne.symbol,$e=ne.zero,We=ne.width,Je=ne.comma,ct=ne.precision,wt=ne.trim,et=ne.type;et==="n"?(Je=!0,et="g"):X8[et]||(ct===void 0&&(ct=12),wt=!0,et="g"),($e||de==="0"&&Ae==="=")&&($e=!0,de="0",Ae="=");var Ct=Ue==="$"?_:Ue==="#"&&/[boxX]/.test(et)?"0"+et.toLowerCase():"",It=Ue==="$"?S:/[%p]/.test(et)?B:"",Xe=X8[et],at=/[defgprs%]/.test(et);function tt(He){var lt,je,Gt,Xt=Ct,ht=It;if(et==="c")ht=Xe(He)+ht,He="";else{var Jt=(He=+He)<0||1/He<0;if(He=isNaN(He)?q:Xe(Math.abs(He),ct),wt&&(He=function($t){e:for(var En,bn=$t.length,Kn=1,fr=-1;Kn<bn;++Kn)switch($t[Kn]){case".":fr=En=Kn;break;case"0":fr===0&&(fr=Kn),En=Kn;break;default:if(!+$t[Kn])break e;fr>0&&(fr=0)}return fr>0?$t.slice(0,fr)+$t.slice(En+1):$t}(He)),Jt&&+He==0&&ke!=="+"&&(Jt=!1),Xt=(Jt?ke==="("?ke:N:ke==="-"||ke==="("?"":ke)+Xt,ht=(et==="s"?Tu[8+W8/3]:"")+ht+(Jt&&ke==="("?")":""),at){for(lt=-1,je=He.length;++lt<je;)if(48>(Gt=He.charCodeAt(lt))||Gt>57){ht=(Gt===46?k+He.slice(lt+1):He.slice(lt))+ht,He=He.slice(0,lt);break}}}Je&&!$e&&(He=y(He,1/0));var Qt=Xt.length+He.length+ht.length,zt=Qt<We?new Array(We-Qt+1).join(de):"";switch(Je&&$e&&(He=y(zt+He,zt.length?We-ht.length:1/0),zt=""),Ae){case"<":He=Xt+He+ht+zt;break;case"=":He=Xt+zt+He+ht;break;case"^":He=zt.slice(0,Qt=zt.length>>1)+Xt+He+ht+zt.slice(Qt);break;default:He=zt+Xt+He+ht}return I(He)}return ct=ct===void 0?6:/[gprs]/.test(et)?Math.max(1,Math.min(21,ct)):Math.max(0,Math.min(20,ct)),tt.toString=function(){return ne+""},tt}return{format:re,formatPrefix:function(ne,de){var Ae=re(((ne=vm(ne)).type="f",ne)),ke=3*Math.max(-8,Math.min(8,Math.floor(Up(de)/3))),Ue=Math.pow(10,-ke),$e=Tu[8+ke/3];return function(We){return Ae(Ue*We)+$e}}}}({thousands:",",grouping:[3],currency:["$",""]}),ol=p5.format,bm=p5.formatPrefix;class Q8 extends Map{constructor(c,g=e7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:g}}),c!=null)for(const[y,_]of c)this.set(y,_)}get(c){return super.get(m5(this,c))}has(c){return super.has(m5(this,c))}set(c,g){return super.set(function({_intern:y,_key:_},S){const k=_(S);return y.has(k)?y.get(k):(y.set(k,S),S)}(this,c),g)}delete(c){return super.delete(function({_intern:g,_key:y},_){const S=y(_);return g.has(S)&&(_=g.get(S),g.delete(S)),_}(this,c))}}function m5({_intern:a,_key:c},g){const y=c(g);return a.has(y)?a.get(y):g}function e7(a){return a!==null&&typeof a=="object"?a.valueOf():a}const _m=Symbol("implicit");function xd(){var a=new Q8,c=[],g=[],y=_m;function _(S){let k=a.get(S);if(k===void 0){if(y!==_m)return y;a.set(S,k=c.push(S)-1)}return g[k%g.length]}return _.domain=function(S){if(!arguments.length)return c.slice();c=[],a=new Q8;for(const k of S)a.has(k)||a.set(k,c.push(k)-1);return _},_.range=function(S){return arguments.length?(g=Array.from(S),_):g.slice()},_.unknown=function(S){return arguments.length?(y=S,_):y},_.copy=function(){return xd(c,g).unknown(y)},xu.apply(_,arguments),_}const Hp=1e3,kd=6e4,wm=36e5,y5=864e5,v5=6048e5,$v=31536e6;var Fv=new Date,Uv=new Date;function zs(a,c,g,y){function _(S){return a(S=arguments.length===0?new Date:new Date(+S)),S}return _.floor=function(S){return a(S=new Date(+S)),S},_.ceil=function(S){return a(S=new Date(S-1)),c(S,1),a(S),S},_.round=function(S){var k=_(S),I=_.ceil(S);return S-k<I-S?k:I},_.offset=function(S,k){return c(S=new Date(+S),k==null?1:Math.floor(k)),S},_.range=function(S,k,I){var B,N=[];if(S=_.ceil(S),I=I==null?1:Math.floor(I),!(S<k&&I>0))return N;do N.push(B=new Date(+S)),c(S,I),a(S);while(B<S&&S<k);return N},_.filter=function(S){return zs(function(k){if(k>=k)for(;a(k),!S(k);)k.setTime(k-1)},function(k,I){if(k>=k)if(I<0)for(;++I<=0;)for(;c(k,-1),!S(k););else for(;--I>=0;)for(;c(k,1),!S(k););})},g&&(_.count=function(S,k){return Fv.setTime(+S),Uv.setTime(+k),a(Fv),a(Uv),Math.floor(g(Fv,Uv))},_.every=function(S){return S=Math.floor(S),isFinite(S)&&S>0?S>1?_.filter(y?function(k){return y(k)%S==0}:function(k){return _.count(0,k)%S==0}):_:null}),_}var Em=zs(function(){},function(a,c){a.setTime(+a+c)},function(a,c){return c-a});Em.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?zs(function(c){c.setTime(Math.floor(c/a)*a)},function(c,g){c.setTime(+c+g*a)},function(c,g){return(g-c)/a}):Em:null};const b5=Em;Em.range;var _5=zs(function(a){a.setTime(a-a.getMilliseconds())},function(a,c){a.setTime(+a+c*Hp)},function(a,c){return(c-a)/Hp},function(a){return a.getUTCSeconds()});const jp=_5;_5.range;var t7=zs(function(a){a.setTime(a-a.getMilliseconds()-a.getSeconds()*Hp)},function(a,c){a.setTime(+a+c*kd)},function(a,c){return(c-a)/kd},function(a){return a.getMinutes()});const Sm=t7;t7.range;var Cl=zs(function(a){a.setTime(a-a.getMilliseconds()-a.getSeconds()*Hp-a.getMinutes()*kd)},function(a,c){a.setTime(+a+c*wm)},function(a,c){return(c-a)/wm},function(a){return a.getHours()});const Hv=Cl;Cl.range;var jv=zs(a=>a.setHours(0,0,0,0),(a,c)=>a.setDate(a.getDate()+c),(a,c)=>(c-a-(c.getTimezoneOffset()-a.getTimezoneOffset())*kd)/y5,a=>a.getDate()-1);const Kp=jv;function Cu(a){return zs(function(c){c.setDate(c.getDate()-(c.getDay()+7-a)%7),c.setHours(0,0,0,0)},function(c,g){c.setDate(c.getDate()+7*g)},function(c,g){return(g-c-(g.getTimezoneOffset()-c.getTimezoneOffset())*kd)/v5})}jv.range;var xm=Cu(0),Kv=Cu(1),zv=Cu(2),zc=Cu(3),Kf=Cu(4),n7=Cu(5),w5=Cu(6),qv=(xm.range,Kv.range,zv.range,zc.range,Kf.range,n7.range,w5.range,zs(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,c){a.setMonth(a.getMonth()+c)},function(a,c){return c.getMonth()-a.getMonth()+12*(c.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}));const km=qv;qv.range;var zf=zs(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,c){a.setFullYear(a.getFullYear()+c)},function(a,c){return c.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});zf.every=function(a){return isFinite(a=Math.floor(a))&&a>0?zs(function(c){c.setFullYear(Math.floor(c.getFullYear()/a)*a),c.setMonth(0,1),c.setHours(0,0,0,0)},function(c,g){c.setFullYear(c.getFullYear()+g*a)}):null};const Td=zf;zf.range;var r7=zs(function(a){a.setUTCSeconds(0,0)},function(a,c){a.setTime(+a+c*kd)},function(a,c){return(c-a)/kd},function(a){return a.getUTCMinutes()});r7.range;var i7=zs(function(a){a.setUTCMinutes(0,0,0)},function(a,c){a.setTime(+a+c*wm)},function(a,c){return(c-a)/wm},function(a){return a.getUTCHours()});i7.range;var s7=zs(function(a){a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCDate(a.getUTCDate()+c)},function(a,c){return(c-a)/y5},function(a){return a.getUTCDate()-1});const Il=s7;function al(a){return zs(function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+7-a)%7),c.setUTCHours(0,0,0,0)},function(c,g){c.setUTCDate(c.getUTCDate()+7*g)},function(c,g){return(g-c)/v5})}s7.range;var E5=al(0),Vv=al(1),Cd=al(2),qO=al(3),zp=al(4),VO=al(5),GO=al(6),Iu=(E5.range,Vv.range,Cd.range,qO.range,zp.range,VO.range,GO.range,zs(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCMonth(a.getUTCMonth()+c)},function(a,c){return c.getUTCMonth()-a.getUTCMonth()+12*(c.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}));Iu.range;var Gv=zs(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCFullYear(a.getUTCFullYear()+c)},function(a,c){return c.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});Gv.every=function(a){return isFinite(a=Math.floor(a))&&a>0?zs(function(c){c.setUTCFullYear(Math.floor(c.getUTCFullYear()/a)*a),c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0)},function(c,g){c.setUTCFullYear(c.getUTCFullYear()+g*a)}):null};const qf=Gv;function S5(a,c,g,y,_,S){const k=[[jp,1,Hp],[jp,5,5e3],[jp,15,15e3],[jp,30,3e4],[S,1,kd],[S,5,3e5],[S,15,9e5],[S,30,18e5],[_,1,wm],[_,3,108e5],[_,6,216e5],[_,12,432e5],[y,1,y5],[y,2,1728e5],[g,1,v5],[c,1,2592e6],[c,3,7776e6],[a,1,$v]];function I(B,N,q){const re=Math.abs(N-B)/q,ne=n5(([,,ke])=>ke).right(k,re);if(ne===k.length)return a.every(e5(B/$v,N/$v,q));if(ne===0)return b5.every(Math.max(e5(B,N,q),1));const[de,Ae]=k[re/k[ne-1][2]<k[ne][2]/re?ne-1:ne];return de.every(Ae)}return[function(B,N,q){const re=N<B;re&&([B,N]=[N,B]);const ne=q&&typeof q.range=="function"?q:I(B,N,q),de=ne?ne.range(B,+N+1):[];return re?de.reverse():de},I]}Gv.range;const[WO,YO]=S5(Td,km,xm,Kp,Hv,Sm);function x5(a){if(0<=a.y&&a.y<100){var c=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return c.setFullYear(a.y),c}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function k5(a){if(0<=a.y&&a.y<100){var c=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return c.setUTCFullYear(a.y),c}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function Id(a,c,g){return{y:a,m:c,d:g,H:0,M:0,S:0,L:0}}var Vf,o7,a7={"-":"",_:" ",0:"0"},io=/^\s*\d+/,XO=/^%/,ZO=/[\\^$*+?|[\]().{}]/g;function si(a,c,g){var y=a<0?"-":"",_=(y?-a:a)+"",S=_.length;return y+(S<g?new Array(g-S+1).join(c)+_:_)}function T5(a){return a.replace(ZO,"\\$&")}function qp(a){return new RegExp("^(?:"+a.map(T5).join("|")+")","i")}function Vp(a){return new Map(a.map((c,g)=>[c.toLowerCase(),g]))}function Ca(a,c,g){var y=io.exec(c.slice(g,g+1));return y?(a.w=+y[0],g+y[0].length):-1}function Wv(a,c,g){var y=io.exec(c.slice(g,g+1));return y?(a.u=+y[0],g+y[0].length):-1}function Gf(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.U=+y[0],g+y[0].length):-1}function l7(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.V=+y[0],g+y[0].length):-1}function JO(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.W=+y[0],g+y[0].length):-1}function c7(a,c,g){var y=io.exec(c.slice(g,g+4));return y?(a.y=+y[0],g+y[0].length):-1}function u7(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.y=+y[0]+(+y[0]>68?1900:2e3),g+y[0].length):-1}function QO(a,c,g){var y=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(c.slice(g,g+6));return y?(a.Z=y[1]?0:-(y[2]+(y[3]||"00")),g+y[0].length):-1}function eL(a,c,g){var y=io.exec(c.slice(g,g+1));return y?(a.q=3*y[0]-3,g+y[0].length):-1}function tL(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.m=y[0]-1,g+y[0].length):-1}function Rd(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.d=+y[0],g+y[0].length):-1}function d7(a,c,g){var y=io.exec(c.slice(g,g+3));return y?(a.m=0,a.d=+y[0],g+y[0].length):-1}function f7(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.H=+y[0],g+y[0].length):-1}function nL(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.M=+y[0],g+y[0].length):-1}function rL(a,c,g){var y=io.exec(c.slice(g,g+2));return y?(a.S=+y[0],g+y[0].length):-1}function iL(a,c,g){var y=io.exec(c.slice(g,g+3));return y?(a.L=+y[0],g+y[0].length):-1}function sL(a,c,g){var y=io.exec(c.slice(g,g+6));return y?(a.L=Math.floor(y[0]/1e3),g+y[0].length):-1}function oL(a,c,g){var y=XO.exec(c.slice(g,g+1));return y?g+y[0].length:-1}function aL(a,c,g){var y=io.exec(c.slice(g));return y?(a.Q=+y[0],g+y[0].length):-1}function lL(a,c,g){var y=io.exec(c.slice(g));return y?(a.s=+y[0],g+y[0].length):-1}function h7(a,c){return si(a.getDate(),c,2)}function cL(a,c){return si(a.getHours(),c,2)}function uL(a,c){return si(a.getHours()%12||12,c,2)}function p7(a,c){return si(1+Kp.count(Td(a),a),c,3)}function g7(a,c){return si(a.getMilliseconds(),c,3)}function dL(a,c){return g7(a,c)+"000"}function m7(a,c){return si(a.getMonth()+1,c,2)}function y7(a,c){return si(a.getMinutes(),c,2)}function v7(a,c){return si(a.getSeconds(),c,2)}function fL(a){var c=a.getDay();return c===0?7:c}function hL(a,c){return si(xm.count(Td(a)-1,a),c,2)}function C5(a){var c=a.getDay();return c>=4||c===0?Kf(a):Kf.ceil(a)}function Md(a,c){return a=C5(a),si(Kf.count(Td(a),a)+(Td(a).getDay()===4),c,2)}function pL(a){return a.getDay()}function gL(a,c){return si(Kv.count(Td(a)-1,a),c,2)}function b7(a,c){return si(a.getFullYear()%100,c,2)}function mL(a,c){return si((a=C5(a)).getFullYear()%100,c,2)}function yL(a,c){return si(a.getFullYear()%1e4,c,4)}function _7(a,c){var g=a.getDay();return si((a=g>=4||g===0?Kf(a):Kf.ceil(a)).getFullYear()%1e4,c,4)}function Yv(a){var c=a.getTimezoneOffset();return(c>0?"-":(c*=-1,"+"))+si(c/60|0,"0",2)+si(c%60,"0",2)}function w7(a,c){return si(a.getUTCDate(),c,2)}function Tm(a,c){return si(a.getUTCHours(),c,2)}function vL(a,c){return si(a.getUTCHours()%12||12,c,2)}function I5(a,c){return si(1+Il.count(qf(a),a),c,3)}function E7(a,c){return si(a.getUTCMilliseconds(),c,3)}function bL(a,c){return E7(a,c)+"000"}function S7(a,c){return si(a.getUTCMonth()+1,c,2)}function Gp(a,c){return si(a.getUTCMinutes(),c,2)}function _L(a,c){return si(a.getUTCSeconds(),c,2)}function x7(a){var c=a.getUTCDay();return c===0?7:c}function wL(a,c){return si(E5.count(qf(a)-1,a),c,2)}function k7(a){var c=a.getUTCDay();return c>=4||c===0?zp(a):zp.ceil(a)}function EL(a,c){return a=k7(a),si(zp.count(qf(a),a)+(qf(a).getUTCDay()===4),c,2)}function SL(a){return a.getUTCDay()}function xL(a,c){return si(Vv.count(qf(a)-1,a),c,2)}function kL(a,c){return si(a.getUTCFullYear()%100,c,2)}function Xv(a,c){return si((a=k7(a)).getUTCFullYear()%100,c,2)}function T7(a,c){return si(a.getUTCFullYear()%1e4,c,4)}function TL(a,c){var g=a.getUTCDay();return si((a=g>=4||g===0?zp(a):zp.ceil(a)).getUTCFullYear()%1e4,c,4)}function CL(){return"+0000"}function C7(){return"%"}function I7(a){return+a}function R7(a){return Math.floor(+a/1e3)}function IL(a){return new Date(a)}function R5(a){return a instanceof Date?+a:+new Date(+a)}function M7(a,c,g,y,_,S,k,I,B,N){var q=Nv(),re=q.invert,ne=q.domain,de=N(".%L"),Ae=N(":%S"),ke=N("%I:%M"),Ue=N("%I %p"),$e=N("%a %d"),We=N("%b %d"),Je=N("%B"),ct=N("%Y");function wt(et){return(B(et)<et?de:I(et)<et?Ae:k(et)<et?ke:S(et)<et?Ue:y(et)<et?_(et)<et?$e:We:g(et)<et?Je:ct)(et)}return q.invert=function(et){return new Date(re(et))},q.domain=function(et){return arguments.length?ne(Array.from(et,R5)):ne().map(IL)},q.ticks=function(et){var Ct=ne();return a(Ct[0],Ct[Ct.length-1],et==null?10:et)},q.tickFormat=function(et,Ct){return Ct==null?wt:N(Ct)},q.nice=function(et){var Ct=ne();return et&&typeof et.range=="function"||(et=c(Ct[0],Ct[Ct.length-1],et==null?10:et)),et?ne(function(It,Xe){var at,tt=0,He=(It=It.slice()).length-1,lt=It[tt],je=It[He];return je<lt&&(at=tt,tt=He,He=at,at=lt,lt=je,je=at),It[tt]=Xe.floor(lt),It[He]=Xe.ceil(je),It}(Ct,et)):q},q.copy=function(){return Dv(q,M7(a,c,g,y,_,S,k,I,B,N))},q}function RL(){}function M5(a){return a==null?RL:function(){return this.querySelector(a)}}function O7(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function qs(){return[]}function Ru(a){return a==null?qs:function(){return this.querySelectorAll(a)}}function O5(a){return function(){return this.matches(a)}}function Fo(a){return function(c){return c.matches(a)}}Vf=function(a){var c=a.dateTime,g=a.date,y=a.time,_=a.periods,S=a.days,k=a.shortDays,I=a.months,B=a.shortMonths,N=qp(_),q=Vp(_),re=qp(S),ne=Vp(S),de=qp(k),Ae=Vp(k),ke=qp(I),Ue=Vp(I),$e=qp(B),We=Vp(B),Je={a:function(Xe){return k[Xe.getDay()]},A:function(Xe){return S[Xe.getDay()]},b:function(Xe){return B[Xe.getMonth()]},B:function(Xe){return I[Xe.getMonth()]},c:null,d:h7,e:h7,f:dL,g:mL,G:_7,H:cL,I:uL,j:p7,L:g7,m:m7,M:y7,p:function(Xe){return _[+(Xe.getHours()>=12)]},q:function(Xe){return 1+~~(Xe.getMonth()/3)},Q:I7,s:R7,S:v7,u:fL,U:hL,V:Md,w:pL,W:gL,x:null,X:null,y:b7,Y:yL,Z:Yv,"%":C7},ct={a:function(Xe){return k[Xe.getUTCDay()]},A:function(Xe){return S[Xe.getUTCDay()]},b:function(Xe){return B[Xe.getUTCMonth()]},B:function(Xe){return I[Xe.getUTCMonth()]},c:null,d:w7,e:w7,f:bL,g:Xv,G:TL,H:Tm,I:vL,j:I5,L:E7,m:S7,M:Gp,p:function(Xe){return _[+(Xe.getUTCHours()>=12)]},q:function(Xe){return 1+~~(Xe.getUTCMonth()/3)},Q:I7,s:R7,S:_L,u:x7,U:wL,V:EL,w:SL,W:xL,x:null,X:null,y:kL,Y:T7,Z:CL,"%":C7},wt={a:function(Xe,at,tt){var He=de.exec(at.slice(tt));return He?(Xe.w=Ae.get(He[0].toLowerCase()),tt+He[0].length):-1},A:function(Xe,at,tt){var He=re.exec(at.slice(tt));return He?(Xe.w=ne.get(He[0].toLowerCase()),tt+He[0].length):-1},b:function(Xe,at,tt){var He=$e.exec(at.slice(tt));return He?(Xe.m=We.get(He[0].toLowerCase()),tt+He[0].length):-1},B:function(Xe,at,tt){var He=ke.exec(at.slice(tt));return He?(Xe.m=Ue.get(He[0].toLowerCase()),tt+He[0].length):-1},c:function(Xe,at,tt){return It(Xe,c,at,tt)},d:Rd,e:Rd,f:sL,g:u7,G:c7,H:f7,I:f7,j:d7,L:iL,m:tL,M:nL,p:function(Xe,at,tt){var He=N.exec(at.slice(tt));return He?(Xe.p=q.get(He[0].toLowerCase()),tt+He[0].length):-1},q:eL,Q:aL,s:lL,S:rL,u:Wv,U:Gf,V:l7,w:Ca,W:JO,x:function(Xe,at,tt){return It(Xe,g,at,tt)},X:function(Xe,at,tt){return It(Xe,y,at,tt)},y:u7,Y:c7,Z:QO,"%":oL};function et(Xe,at){return function(tt){var He,lt,je,Gt=[],Xt=-1,ht=0,Jt=Xe.length;for(tt instanceof Date||(tt=new Date(+tt));++Xt<Jt;)Xe.charCodeAt(Xt)===37&&(Gt.push(Xe.slice(ht,Xt)),(lt=a7[He=Xe.charAt(++Xt)])!=null?He=Xe.charAt(++Xt):lt=He==="e"?" ":"0",(je=at[He])&&(He=je(tt,lt)),Gt.push(He),ht=Xt+1);return Gt.push(Xe.slice(ht,Xt)),Gt.join("")}}function Ct(Xe,at){return function(tt){var He,lt,je=Id(1900,void 0,1);if(It(je,Xe,tt+="",0)!=tt.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(1e3*je.s+("L"in je?je.L:0));if(at&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+12*je.p),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(lt=(He=k5(Id(je.y,0,1))).getUTCDay(),He=lt>4||lt===0?Vv.ceil(He):Vv(He),He=Il.offset(He,7*(je.V-1)),je.y=He.getUTCFullYear(),je.m=He.getUTCMonth(),je.d=He.getUTCDate()+(je.w+6)%7):(lt=(He=x5(Id(je.y,0,1))).getDay(),He=lt>4||lt===0?Kv.ceil(He):Kv(He),He=Kp.offset(He,7*(je.V-1)),je.y=He.getFullYear(),je.m=He.getMonth(),je.d=He.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),lt="Z"in je?k5(Id(je.y,0,1)).getUTCDay():x5(Id(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+7*je.W-(lt+5)%7:je.w+7*je.U-(lt+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,k5(je)):x5(je)}}function It(Xe,at,tt,He){for(var lt,je,Gt=0,Xt=at.length,ht=tt.length;Gt<Xt;){if(He>=ht)return-1;if((lt=at.charCodeAt(Gt++))===37){if(lt=at.charAt(Gt++),!(je=wt[lt in a7?at.charAt(Gt++):lt])||(He=je(Xe,tt,He))<0)return-1}else if(lt!=tt.charCodeAt(He++))return-1}return He}return Je.x=et(g,Je),Je.X=et(y,Je),Je.c=et(c,Je),ct.x=et(g,ct),ct.X=et(y,ct),ct.c=et(c,ct),{format:function(Xe){var at=et(Xe+="",Je);return at.toString=function(){return Xe},at},parse:function(Xe){var at=Ct(Xe+="",!1);return at.toString=function(){return Xe},at},utcFormat:function(Xe){var at=et(Xe+="",ct);return at.toString=function(){return Xe},at},utcParse:function(Xe){var at=Ct(Xe+="",!0);return at.toString=function(){return Xe},at}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o7=Vf.format,Vf.parse,Vf.utcFormat,Vf.utcParse;var ML=Array.prototype.find;function OL(){return this.firstElementChild}var Zv=Array.prototype.filter;function L5(){return Array.from(this.children)}function A5(a){return new Array(a.length)}function so(a,c){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=c}function LL(a){return function(){return a}}function AL(a,c,g,y,_,S){for(var k,I=0,B=c.length,N=S.length;I<N;++I)(k=c[I])?(k.__data__=S[I],y[I]=k):g[I]=new so(a,S[I]);for(;I<B;++I)(k=c[I])&&(_[I]=k)}function PL(a,c,g,y,_,S,k){var I,B,N,q=new Map,re=c.length,ne=S.length,de=new Array(re);for(I=0;I<re;++I)(B=c[I])&&(de[I]=N=k.call(B,B.__data__,I,c)+"",q.has(N)?_[I]=B:q.set(N,B));for(I=0;I<ne;++I)N=k.call(a,S[I],I,S)+"",(B=q.get(N))?(y[I]=B,B.__data__=S[I],q.delete(N)):g[I]=new so(a,S[I]);for(I=0;I<re;++I)(B=c[I])&&q.get(de[I])===B&&(_[I]=B)}function DL(a){return a.__data__}function L7(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function NL(a,c){return a<c?-1:a>c?1:a>=c?0:NaN}so.prototype={constructor:so,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,c){return this._parent.insertBefore(a,c)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var P5="http://www.w3.org/1999/xhtml";const A7={svg:"http://www.w3.org/2000/svg",xhtml:P5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jv(a){var c=a+="",g=c.indexOf(":");return g>=0&&(c=a.slice(0,g))!=="xmlns"&&(a=a.slice(g+1)),A7.hasOwnProperty(c)?{space:A7[c],local:a}:a}function BL(a){return function(){this.removeAttribute(a)}}function $L(a){return function(){this.removeAttributeNS(a.space,a.local)}}function FL(a,c){return function(){this.setAttribute(a,c)}}function UL(a,c){return function(){this.setAttributeNS(a.space,a.local,c)}}function HL(a,c){return function(){var g=c.apply(this,arguments);g==null?this.removeAttribute(a):this.setAttribute(a,g)}}function Qv(a,c){return function(){var g=c.apply(this,arguments);g==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,g)}}function Wf(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function P7(a){return function(){this.style.removeProperty(a)}}function jL(a,c,g){return function(){this.style.setProperty(a,c,g)}}function Cm(a,c,g){return function(){var y=c.apply(this,arguments);y==null?this.style.removeProperty(a):this.style.setProperty(a,y,g)}}function Mu(a,c){return a.style.getPropertyValue(c)||Wf(a).getComputedStyle(a,null).getPropertyValue(c)}function D7(a){return function(){delete this[a]}}function N7(a,c){return function(){this[a]=c}}function B7(a,c){return function(){var g=c.apply(this,arguments);g==null?delete this[a]:this[a]=g}}function Im(a){return a.trim().split(/^|\s+/)}function Wp(a){return a.classList||new e2(a)}function e2(a){this._node=a,this._names=Im(a.getAttribute("class")||"")}function D5(a,c){for(var g=Wp(a),y=-1,_=c.length;++y<_;)g.add(c[y])}function N5(a,c){for(var g=Wp(a),y=-1,_=c.length;++y<_;)g.remove(c[y])}function $7(a){return function(){D5(this,a)}}function F7(a){return function(){N5(this,a)}}function U7(a,c){return function(){(c.apply(this,arguments)?D5:N5)(this,a)}}function H7(){this.textContent=""}function j7(a){return function(){this.textContent=a}}function Od(a){return function(){var c=a.apply(this,arguments);this.textContent=c==null?"":c}}function t2(){this.innerHTML=""}function n2(a){return function(){this.innerHTML=a}}function K7(a){return function(){var c=a.apply(this,arguments);this.innerHTML=c==null?"":c}}function Rr(){this.nextSibling&&this.parentNode.appendChild(this)}function r2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jr(a){return function(){var c=this.ownerDocument,g=this.namespaceURI;return g===P5&&c.documentElement.namespaceURI===P5?c.createElement(a):c.createElementNS(g,a)}}function ms(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function Rm(a){var c=Jv(a);return(c.local?ms:jr)(c)}function ra(){return null}function Fi(){var a=this.parentNode;a&&a.removeChild(this)}function br(){var a=this.cloneNode(!1),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function Xr(){var a=this.cloneNode(!0),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function Yp(a){return a.trim().split(/^|\s+/).map(function(c){var g="",y=c.indexOf(".");return y>=0&&(g=c.slice(y+1),c=c.slice(0,y)),{type:c,name:g}})}function ia(a){return function(){var c=this.__on;if(c){for(var g,y=0,_=-1,S=c.length;y<S;++y)g=c[y],a.type&&g.type!==a.type||g.name!==a.name?c[++_]=g:this.removeEventListener(g.type,g.listener,g.options);++_?c.length=_:delete this.__on}}}function lr(a,c,g){return function(){var y,_=this.__on,S=function(B){return function(N){B.call(this,N,this.__data__)}}(c);if(_){for(var k=0,I=_.length;k<I;++k)if((y=_[k]).type===a.type&&y.name===a.name)return this.removeEventListener(y.type,y.listener,y.options),this.addEventListener(y.type,y.listener=S,y.options=g),void(y.value=c)}this.addEventListener(a.type,S,g),y={type:a.type,name:a.name,value:c,listener:S,options:g},_?_.push(y):this.__on=[y]}}function Mm(a,c,g){var y=Wf(a),_=y.CustomEvent;typeof _=="function"?_=new _(c,g):(_=y.document.createEvent("Event"),g?(_.initEvent(c,g.bubbles,g.cancelable),_.detail=g.detail):_.initEvent(c,!1,!1)),a.dispatchEvent(_)}function z7(a,c){return function(){return Mm(this,a,c)}}function i2(a,c){return function(){return Mm(this,a,c.apply(this,arguments))}}e2.prototype={add:function(a){this._names.indexOf(a)<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var c=this._names.indexOf(a);c>=0&&(this._names.splice(c,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var Om=[null];function On(a,c){this._groups=a,this._parents=c}function ll(){return new On([[document.documentElement]],Om)}On.prototype=ll.prototype={constructor:On,select:function(a){typeof a!="function"&&(a=M5(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k,I=c[_],B=I.length,N=y[_]=new Array(B),q=0;q<B;++q)(S=I[q])&&(k=a.call(S,S.__data__,q,I))&&("__data__"in S&&(k.__data__=S.__data__),N[q]=k);return new On(y,this._parents)},selectAll:function(a){a=typeof a=="function"?function(q){return function(){return O7(q.apply(this,arguments))}}(a):Ru(a);for(var c=this._groups,g=c.length,y=[],_=[],S=0;S<g;++S)for(var k,I=c[S],B=I.length,N=0;N<B;++N)(k=I[N])&&(y.push(a.call(k,k.__data__,N,I)),_.push(k));return new On(y,_)},selectChild:function(a){return this.select(a==null?OL:function(c){return function(){return ML.call(this.children,c)}}(typeof a=="function"?a:Fo(a)))},selectChildren:function(a){return this.selectAll(a==null?L5:function(c){return function(){return Zv.call(this.children,c)}}(typeof a=="function"?a:Fo(a)))},filter:function(a){typeof a!="function"&&(a=O5(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k=c[_],I=k.length,B=y[_]=[],N=0;N<I;++N)(S=k[N])&&a.call(S,S.__data__,N,k)&&B.push(S);return new On(y,this._parents)},data:function(a,c){if(!arguments.length)return Array.from(this,DL);var g=c?PL:AL,y=this._parents,_=this._groups;typeof a!="function"&&(a=LL(a));for(var S=_.length,k=new Array(S),I=new Array(S),B=new Array(S),N=0;N<S;++N){var q=y[N],re=_[N],ne=re.length,de=L7(a.call(q,q&&q.__data__,N,y)),Ae=de.length,ke=I[N]=new Array(Ae),Ue=k[N]=new Array(Ae),$e=B[N]=new Array(ne);g(q,re,ke,Ue,$e,de,c);for(var We,Je,ct=0,wt=0;ct<Ae;++ct)if(We=ke[ct]){for(ct>=wt&&(wt=ct+1);!(Je=Ue[wt])&&++wt<Ae;);We._next=Je||null}}return(k=new On(k,y))._enter=I,k._exit=B,k},enter:function(){return new On(this._enter||this._groups.map(A5),this._parents)},exit:function(){return new On(this._exit||this._groups.map(A5),this._parents)},join:function(a,c,g){var y=this.enter(),_=this,S=this.exit();return typeof a=="function"?(y=a(y))&&(y=y.selection()):y=y.append(a+""),c!=null&&(_=c(_))&&(_=_.selection()),g==null?S.remove():g(S),y&&_?y.merge(_).order():_},merge:function(a){for(var c=a.selection?a.selection():a,g=this._groups,y=c._groups,_=g.length,S=y.length,k=Math.min(_,S),I=new Array(_),B=0;B<k;++B)for(var N,q=g[B],re=y[B],ne=q.length,de=I[B]=new Array(ne),Ae=0;Ae<ne;++Ae)(N=q[Ae]||re[Ae])&&(de[Ae]=N);for(;B<_;++B)I[B]=g[B];return new On(I,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,c=-1,g=a.length;++c<g;)for(var y,_=a[c],S=_.length-1,k=_[S];--S>=0;)(y=_[S])&&(k&&4^y.compareDocumentPosition(k)&&k.parentNode.insertBefore(y,k),k=y);return this},sort:function(a){function c(re,ne){return re&&ne?a(re.__data__,ne.__data__):!re-!ne}a||(a=NL);for(var g=this._groups,y=g.length,_=new Array(y),S=0;S<y;++S){for(var k,I=g[S],B=I.length,N=_[S]=new Array(B),q=0;q<B;++q)(k=I[q])&&(N[q]=k);N.sort(c)}return new On(_,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,c=0,g=a.length;c<g;++c)for(var y=a[c],_=0,S=y.length;_<S;++_){var k=y[_];if(k)return k}return null},size:function(){let a=0;for(const c of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var c=this._groups,g=0,y=c.length;g<y;++g)for(var _,S=c[g],k=0,I=S.length;k<I;++k)(_=S[k])&&a.call(_,_.__data__,k,S);return this},attr:function(a,c){var g=Jv(a);if(arguments.length<2){var y=this.node();return g.local?y.getAttributeNS(g.space,g.local):y.getAttribute(g)}return this.each((c==null?g.local?$L:BL:typeof c=="function"?g.local?Qv:HL:g.local?UL:FL)(g,c))},style:function(a,c,g){return arguments.length>1?this.each((c==null?P7:typeof c=="function"?Cm:jL)(a,c,g==null?"":g)):Mu(this.node(),a)},property:function(a,c){return arguments.length>1?this.each((c==null?D7:typeof c=="function"?B7:N7)(a,c)):this.node()[a]},classed:function(a,c){var g=Im(a+"");if(arguments.length<2){for(var y=Wp(this.node()),_=-1,S=g.length;++_<S;)if(!y.contains(g[_]))return!1;return!0}return this.each((typeof c=="function"?U7:c?$7:F7)(g,c))},text:function(a){return arguments.length?this.each(a==null?H7:(typeof a=="function"?Od:j7)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(a==null?t2:(typeof a=="function"?K7:n2)(a)):this.node().innerHTML},raise:function(){return this.each(Rr)},lower:function(){return this.each(r2)},append:function(a){var c=typeof a=="function"?a:Rm(a);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function(a,c){var g=typeof a=="function"?a:Rm(a),y=c==null?ra:typeof c=="function"?c:M5(c);return this.select(function(){return this.insertBefore(g.apply(this,arguments),y.apply(this,arguments)||null)})},remove:function(){return this.each(Fi)},clone:function(a){return this.select(a?Xr:br)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,c,g){var y,_,S=Yp(a+""),k=S.length;if(!(arguments.length<2)){for(I=c?lr:ia,y=0;y<k;++y)this.each(I(S[y],c,g));return this}var I=this.node().__on;if(I){for(var B,N=0,q=I.length;N<q;++N)for(y=0,B=I[N];y<k;++y)if((_=S[y]).type===B.type&&_.name===B.name)return B.value}},dispatch:function(a,c){return this.each((typeof c=="function"?i2:z7)(a,c))},[Symbol.iterator]:function*(){for(var a=this._groups,c=0,g=a.length;c<g;++c)for(var y,_=a[c],S=0,k=_.length;S<k;++S)(y=_[S])&&(yield y)}};const us=ll;function jn(a){return typeof a=="string"?new On([[document.querySelector(a)]],[document.documentElement]):new On([[a]],Om)}function s2(a){return typeof a=="string"?new On([document.querySelectorAll(a)],[document.documentElement]):new On([O7(a)],Om)}const bo=Math.PI,o2=2*bo,Oi=1e-6,a2=o2-Oi;function l2(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function B5(){return new l2}l2.prototype=B5.prototype={constructor:l2,moveTo:function(a,c){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,c){this._+="L"+(this._x1=+a)+","+(this._y1=+c)},quadraticCurveTo:function(a,c,g,y){this._+="Q"+ +a+","+ +c+","+(this._x1=+g)+","+(this._y1=+y)},bezierCurveTo:function(a,c,g,y,_,S){this._+="C"+ +a+","+ +c+","+ +g+","+ +y+","+(this._x1=+_)+","+(this._y1=+S)},arcTo:function(a,c,g,y,_){a=+a,c=+c,g=+g,y=+y,_=+_;var S=this._x1,k=this._y1,I=g-a,B=y-c,N=S-a,q=k-c,re=N*N+q*q;if(_<0)throw new Error("negative radius: "+_);if(this._x1===null)this._+="M"+(this._x1=a)+","+(this._y1=c);else if(re>Oi)if(Math.abs(q*I-B*N)>Oi&&_){var ne=g-S,de=y-k,Ae=I*I+B*B,ke=ne*ne+de*de,Ue=Math.sqrt(Ae),$e=Math.sqrt(re),We=_*Math.tan((bo-Math.acos((Ae+re-ke)/(2*Ue*$e)))/2),Je=We/$e,ct=We/Ue;Math.abs(Je-1)>Oi&&(this._+="L"+(a+Je*N)+","+(c+Je*q)),this._+="A"+_+","+_+",0,0,"+ +(q*ne>N*de)+","+(this._x1=a+ct*I)+","+(this._y1=c+ct*B)}else this._+="L"+(this._x1=a)+","+(this._y1=c)},arc:function(a,c,g,y,_,S){a=+a,c=+c,S=!!S;var k=(g=+g)*Math.cos(y),I=g*Math.sin(y),B=a+k,N=c+I,q=1^S,re=S?y-_:_-y;if(g<0)throw new Error("negative radius: "+g);this._x1===null?this._+="M"+B+","+N:(Math.abs(this._x1-B)>Oi||Math.abs(this._y1-N)>Oi)&&(this._+="L"+B+","+N),g&&(re<0&&(re=re%o2+o2),re>a2?this._+="A"+g+","+g+",0,1,"+q+","+(a-k)+","+(c-I)+"A"+g+","+g+",0,1,"+q+","+(this._x1=B)+","+(this._y1=N):re>Oi&&(this._+="A"+g+","+g+",0,"+ +(re>=bo)+","+q+","+(this._x1=a+g*Math.cos(_))+","+(this._y1=c+g*Math.sin(_))))},rect:function(a,c,g,y){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+c)+"h"+ +g+"v"+ +y+"h"+-g+"Z"},toString:function(){return this._}};const c2=B5;function ys(a){return function(){return a}}var Rl=Math.abs,_o=Math.atan2,Ld=Math.cos,$5=Math.max,Lm=Math.min,Ml=Math.sin,Ou=Math.sqrt,wo=1e-12,Ia=Math.PI,u2=Ia/2,d2=2*Ia;function KL(a){return a>1?0:a<-1?Ia:Math.acos(a)}function F5(a){return a>=1?u2:a<=-1?-u2:Math.asin(a)}function zL(a){return a.innerRadius}function f2(a){return a.outerRadius}function Yf(a){return a.startAngle}function h2(a){return a.endAngle}function Xp(a){return a&&a.padAngle}function U5(a,c,g,y,_,S,k,I){var B=g-a,N=y-c,q=k-_,re=I-S,ne=re*B-q*N;if(!(ne*ne<wo))return[a+(ne=(q*(c-S)-re*(a-_))/ne)*B,c+ne*N]}function Xf(a,c,g,y,_,S,k){var I=a-g,B=c-y,N=(k?S:-S)/Ou(I*I+B*B),q=N*B,re=-N*I,ne=a+q,de=c+re,Ae=g+q,ke=y+re,Ue=(ne+Ae)/2,$e=(de+ke)/2,We=Ae-ne,Je=ke-de,ct=We*We+Je*Je,wt=_-S,et=ne*ke-Ae*de,Ct=(Je<0?-1:1)*Ou($5(0,wt*wt*ct-et*et)),It=(et*Je-We*Ct)/ct,Xe=(-et*We-Je*Ct)/ct,at=(et*Je+We*Ct)/ct,tt=(-et*We+Je*Ct)/ct,He=It-Ue,lt=Xe-$e,je=at-Ue,Gt=tt-$e;return He*He+lt*lt>je*je+Gt*Gt&&(It=at,Xe=tt),{cx:It,cy:Xe,x01:-q,y01:-re,x11:It*(_/wt-1),y11:Xe*(_/wt-1)}}function Zp(){var a=zL,c=f2,g=ys(0),y=null,_=Yf,S=h2,k=Xp,I=null;function B(){var N,q,re=+a.apply(this,arguments),ne=+c.apply(this,arguments),de=_.apply(this,arguments)-u2,Ae=S.apply(this,arguments)-u2,ke=Rl(Ae-de),Ue=Ae>de;if(I||(I=N=c2()),ne<re&&(q=ne,ne=re,re=q),ne>wo)if(ke>d2-wo)I.moveTo(ne*Ld(de),ne*Ml(de)),I.arc(0,0,ne,de,Ae,!Ue),re>wo&&(I.moveTo(re*Ld(Ae),re*Ml(Ae)),I.arc(0,0,re,Ae,de,Ue));else{var $e,We,Je=de,ct=Ae,wt=de,et=Ae,Ct=ke,It=ke,Xe=k.apply(this,arguments)/2,at=Xe>wo&&(y?+y.apply(this,arguments):Ou(re*re+ne*ne)),tt=Lm(Rl(ne-re)/2,+g.apply(this,arguments)),He=tt,lt=tt;if(at>wo){var je=F5(at/re*Ml(Xe)),Gt=F5(at/ne*Ml(Xe));(Ct-=2*je)>wo?(wt+=je*=Ue?1:-1,et-=je):(Ct=0,wt=et=(de+Ae)/2),(It-=2*Gt)>wo?(Je+=Gt*=Ue?1:-1,ct-=Gt):(It=0,Je=ct=(de+Ae)/2)}var Xt=ne*Ld(Je),ht=ne*Ml(Je),Jt=re*Ld(et),Qt=re*Ml(et);if(tt>wo){var zt,$t=ne*Ld(ct),En=ne*Ml(ct),bn=re*Ld(wt),Kn=re*Ml(wt);if(ke<Ia&&(zt=U5(Xt,ht,bn,Kn,$t,En,Jt,Qt))){var fr=Xt-zt[0],Ln=ht-zt[1],ni=$t-zt[0],wi=En-zt[1],Cr=1/Ml(KL((fr*ni+Ln*wi)/(Ou(fr*fr+Ln*Ln)*Ou(ni*ni+wi*wi)))/2),Ki=Ou(zt[0]*zt[0]+zt[1]*zt[1]);He=Lm(tt,(re-Ki)/(Cr-1)),lt=Lm(tt,(ne-Ki)/(Cr+1))}}It>wo?lt>wo?($e=Xf(bn,Kn,Xt,ht,ne,lt,Ue),We=Xf($t,En,Jt,Qt,ne,lt,Ue),I.moveTo($e.cx+$e.x01,$e.cy+$e.y01),lt<tt?I.arc($e.cx,$e.cy,lt,_o($e.y01,$e.x01),_o(We.y01,We.x01),!Ue):(I.arc($e.cx,$e.cy,lt,_o($e.y01,$e.x01),_o($e.y11,$e.x11),!Ue),I.arc(0,0,ne,_o($e.cy+$e.y11,$e.cx+$e.x11),_o(We.cy+We.y11,We.cx+We.x11),!Ue),I.arc(We.cx,We.cy,lt,_o(We.y11,We.x11),_o(We.y01,We.x01),!Ue))):(I.moveTo(Xt,ht),I.arc(0,0,ne,Je,ct,!Ue)):I.moveTo(Xt,ht),re>wo&&Ct>wo?He>wo?($e=Xf(Jt,Qt,$t,En,re,-He,Ue),We=Xf(Xt,ht,bn,Kn,re,-He,Ue),I.lineTo($e.cx+$e.x01,$e.cy+$e.y01),He<tt?I.arc($e.cx,$e.cy,He,_o($e.y01,$e.x01),_o(We.y01,We.x01),!Ue):(I.arc($e.cx,$e.cy,He,_o($e.y01,$e.x01),_o($e.y11,$e.x11),!Ue),I.arc(0,0,re,_o($e.cy+$e.y11,$e.cx+$e.x11),_o(We.cy+We.y11,We.cx+We.x11),Ue),I.arc(We.cx,We.cy,He,_o(We.y11,We.x11),_o(We.y01,We.x01),!Ue))):I.arc(0,0,re,et,wt,Ue):I.lineTo(Jt,Qt)}else I.moveTo(0,0);if(I.closePath(),N)return I=null,N+""||null}return B.centroid=function(){var N=(+a.apply(this,arguments)+ +c.apply(this,arguments))/2,q=(+_.apply(this,arguments)+ +S.apply(this,arguments))/2-Ia/2;return[Ld(q)*N,Ml(q)*N]},B.innerRadius=function(N){return arguments.length?(a=typeof N=="function"?N:ys(+N),B):a},B.outerRadius=function(N){return arguments.length?(c=typeof N=="function"?N:ys(+N),B):c},B.cornerRadius=function(N){return arguments.length?(g=typeof N=="function"?N:ys(+N),B):g},B.padRadius=function(N){return arguments.length?(y=N==null?null:typeof N=="function"?N:ys(+N),B):y},B.startAngle=function(N){return arguments.length?(_=typeof N=="function"?N:ys(+N),B):_},B.endAngle=function(N){return arguments.length?(S=typeof N=="function"?N:ys(+N),B):S},B.padAngle=function(N){return arguments.length?(k=typeof N=="function"?N:ys(+N),B):k},B.context=function(N){return arguments.length?(I=N==null?null:N,B):I},B}function rs(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function sa(a){this._context=a}function pi(a){return new sa(a)}function cl(a){return a[0]}function Zf(a){return a[1]}function Jf(a,c){var g=ys(!0),y=null,_=pi,S=null;function k(I){var B,N,q,re=(I=rs(I)).length,ne=!1;for(y==null&&(S=_(q=c2())),B=0;B<=re;++B)!(B<re&&g(N=I[B],B,I))===ne&&((ne=!ne)?S.lineStart():S.lineEnd()),ne&&S.point(+a(N,B,I),+c(N,B,I));if(q)return S=null,q+""||null}return a=typeof a=="function"?a:a===void 0?cl:ys(a),c=typeof c=="function"?c:c===void 0?Zf:ys(c),k.x=function(I){return arguments.length?(a=typeof I=="function"?I:ys(+I),k):a},k.y=function(I){return arguments.length?(c=typeof I=="function"?I:ys(+I),k):c},k.defined=function(I){return arguments.length?(g=typeof I=="function"?I:ys(!!I),k):g},k.curve=function(I){return arguments.length?(_=I,y!=null&&(S=_(y)),k):_},k.context=function(I){return arguments.length?(I==null?y=S=null:S=_(y=I),k):y},k}function q7(a,c){return c<a?-1:c>a?1:c>=a?0:NaN}function Jp(a){return a}function oc(){}function Ol(a,c,g){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+c)/6,(a._y0+4*a._y1+g)/6)}function Qp(a){this._context=a}function Lu(a){return new Qp(a)}function Am(a){this._context=a}function Pm(a){this._context=a}function Dm(a){this._context=a}function Nm(a){return a<0?-1:1}function Bm(a,c,g){var y=a._x1-a._x0,_=c-a._x1,S=(a._y1-a._y0)/(y||_<0&&-0),k=(g-a._y1)/(_||y<0&&-0),I=(S*_+k*y)/(y+_);return(Nm(S)+Nm(k))*Math.min(Math.abs(S),Math.abs(k),.5*Math.abs(I))||0}function $m(a,c){var g=a._x1-a._x0;return g?(3*(a._y1-a._y0)/g-c)/2:c}function Fm(a,c,g){var y=a._x0,_=a._y0,S=a._x1,k=a._y1,I=(S-y)/3;a._context.bezierCurveTo(y+I,_+I*c,S-I,k-I*g,S,k)}function e1(a){this._context=a}function p2(a){this._context=new H5(a)}function H5(a){this._context=a}function j5(a){this._context=a}function Uo(a){var c,g,y=a.length-1,_=new Array(y),S=new Array(y),k=new Array(y);for(_[0]=0,S[0]=2,k[0]=a[0]+2*a[1],c=1;c<y-1;++c)_[c]=1,S[c]=4,k[c]=4*a[c]+2*a[c+1];for(_[y-1]=2,S[y-1]=7,k[y-1]=8*a[y-1]+a[y],c=1;c<y;++c)g=_[c]/S[c-1],S[c]-=g,k[c]-=g*k[c-1];for(_[y-1]=k[y-1]/S[y-1],c=y-2;c>=0;--c)_[c]=(k[c]-_[c+1])/S[c];for(S[y-1]=(a[y]+_[y-1])/2,c=0;c<y-1;++c)S[c]=2*a[c+1]-_[c+1];return[_,S]}function oo(a,c){this._context=a,this._t=c}sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;default:this._context.lineTo(a,c)}}},Qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ol(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ol(this,a,c)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c}},Am.prototype={areaStart:oc,areaEnd:oc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._x2=a,this._y2=c;break;case 1:this._point=2,this._x3=a,this._y3=c;break;case 2:this._point=3,this._x4=a,this._y4=c,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+c)/6);break;default:Ol(this,a,c)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c}},Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var g=(this._x0+4*this._x1+a)/6,y=(this._y0+4*this._y1+c)/6;this._line?this._context.lineTo(g,y):this._context.moveTo(g,y);break;case 3:this._point=4;default:Ol(this,a,c)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c}},Dm.prototype={areaStart:oc,areaEnd:oc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,c){a=+a,c=+c,this._point?this._context.lineTo(a,c):(this._point=1,this._context.moveTo(a,c))}},e1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fm(this,this._t0,$m(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){var g=NaN;if(c=+c,(a=+a)!==this._x1||c!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;break;case 2:this._point=3,Fm(this,$m(this,g=Bm(this,a,c)),g);break;default:Fm(this,this._t0,g=Bm(this,a,c))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c,this._t0=g}}},(p2.prototype=Object.create(e1.prototype)).point=function(a,c){e1.prototype.point.call(this,c,a)},H5.prototype={moveTo:function(a,c){this._context.moveTo(c,a)},closePath:function(){this._context.closePath()},lineTo:function(a,c){this._context.lineTo(c,a)},bezierCurveTo:function(a,c,g,y,_,S){this._context.bezierCurveTo(c,a,y,g,S,_)}},j5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,c=this._y,g=a.length;if(g)if(this._line?this._context.lineTo(a[0],c[0]):this._context.moveTo(a[0],c[0]),g===2)this._context.lineTo(a[1],c[1]);else for(var y=Uo(a),_=Uo(c),S=0,k=1;k<g;++S,++k)this._context.bezierCurveTo(y[0][S],_[0][S],y[1][S],_[1][S],a[k],c[k]);(this._line||this._line!==0&&g===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,c){this._x.push(+a),this._y.push(+c)}},oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,c),this._context.lineTo(a,c);else{var g=this._x*(1-this._t)+a*this._t;this._context.lineTo(g,this._y),this._context.lineTo(g,c)}}this._x=a,this._y=c}};var Eo=new Date,Qf=new Date;function So(a,c,g,y){function _(S){return a(S=arguments.length===0?new Date:new Date(+S)),S}return _.floor=function(S){return a(S=new Date(+S)),S},_.ceil=function(S){return a(S=new Date(S-1)),c(S,1),a(S),S},_.round=function(S){var k=_(S),I=_.ceil(S);return S-k<I-S?k:I},_.offset=function(S,k){return c(S=new Date(+S),k==null?1:Math.floor(k)),S},_.range=function(S,k,I){var B,N=[];if(S=_.ceil(S),I=I==null?1:Math.floor(I),!(S<k&&I>0))return N;do N.push(B=new Date(+S)),c(S,I),a(S);while(B<S&&S<k);return N},_.filter=function(S){return So(function(k){if(k>=k)for(;a(k),!S(k);)k.setTime(k-1)},function(k,I){if(k>=k)if(I<0)for(;++I<=0;)for(;c(k,-1),!S(k););else for(;--I>=0;)for(;c(k,1),!S(k););})},g&&(_.count=function(S,k){return Eo.setTime(+S),Qf.setTime(+k),a(Eo),a(Qf),Math.floor(g(Eo,Qf))},_.every=function(S){return S=Math.floor(S),isFinite(S)&&S>0?S>1?_.filter(y?function(k){return y(k)%S==0}:function(k){return _.count(0,k)%S==0}):_:null}),_}const g2=864e5,K5=6048e5;function Ad(a){return So(function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+7-a)%7),c.setUTCHours(0,0,0,0)},function(c,g){c.setUTCDate(c.getUTCDate()+7*g)},function(c,g){return(g-c)/K5})}var z5=Ad(0),Um=Ad(1),qL=Ad(2),VL=Ad(3),ao=Ad(4),GL=Ad(5),V7=Ad(6),G7=(z5.range,Um.range,qL.range,VL.range,ao.range,GL.range,V7.range,So(function(a){a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCDate(a.getUTCDate()+c)},function(a,c){return(c-a)/g2},function(a){return a.getUTCDate()-1}));const Ll=G7;function Au(a){return So(function(c){c.setDate(c.getDate()-(c.getDay()+7-a)%7),c.setHours(0,0,0,0)},function(c,g){c.setDate(c.getDate()+7*g)},function(c,g){return(g-c-6e4*(g.getTimezoneOffset()-c.getTimezoneOffset()))/K5})}G7.range;var t1=Au(0),Hm=Au(1),WL=Au(2),YL=Au(3),eh=Au(4),XL=Au(5),ZL=Au(6),W7=(t1.range,Hm.range,WL.range,YL.range,eh.range,XL.range,ZL.range,So(a=>a.setHours(0,0,0,0),(a,c)=>a.setDate(a.getDate()+c),(a,c)=>(c-a-6e4*(c.getTimezoneOffset()-a.getTimezoneOffset()))/g2,a=>a.getDate()-1));const q5=W7;W7.range;var V5=So(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,c){a.setFullYear(a.getFullYear()+c)},function(a,c){return c.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});V5.every=function(a){return isFinite(a=Math.floor(a))&&a>0?So(function(c){c.setFullYear(Math.floor(c.getFullYear()/a)*a),c.setMonth(0,1),c.setHours(0,0,0,0)},function(c,g){c.setFullYear(c.getFullYear()+g*a)}):null};const qc=V5;V5.range;var jm=So(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCFullYear(a.getUTCFullYear()+c)},function(a,c){return c.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});jm.every=function(a){return isFinite(a=Math.floor(a))&&a>0?So(function(c){c.setUTCFullYear(Math.floor(c.getUTCFullYear()/a)*a),c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0)},function(c,g){c.setUTCFullYear(c.getUTCFullYear()+g*a)}):null};const th=jm;function Km(a){if(0<=a.y&&a.y<100){var c=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return c.setFullYear(a.y),c}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function m2(a){if(0<=a.y&&a.y<100){var c=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return c.setUTCFullYear(a.y),c}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function n1(a,c,g){return{y:a,m:c,d:g,H:0,M:0,S:0,L:0}}jm.range;var r1,y2,G5={"-":"",_:" ",0:"0"},Vs=/^\s*\d+/,JL=/^%/,Y7=/[\\^$*+?|[\]().{}]/g;function Zr(a,c,g){var y=a<0?"-":"",_=(y?-a:a)+"",S=_.length;return y+(S<g?new Array(g-S+1).join(c)+_:_)}function v2(a){return a.replace(Y7,"\\$&")}function i1(a){return new RegExp("^(?:"+a.map(v2).join("|")+")","i")}function s1(a){return new Map(a.map((c,g)=>[c.toLowerCase(),g]))}function W5(a,c,g){var y=Vs.exec(c.slice(g,g+1));return y?(a.w=+y[0],g+y[0].length):-1}function Y5(a,c,g){var y=Vs.exec(c.slice(g,g+1));return y?(a.u=+y[0],g+y[0].length):-1}function X7(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.U=+y[0],g+y[0].length):-1}function Z7(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.V=+y[0],g+y[0].length):-1}function QL(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.W=+y[0],g+y[0].length):-1}function J7(a,c,g){var y=Vs.exec(c.slice(g,g+4));return y?(a.y=+y[0],g+y[0].length):-1}function b2(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.y=+y[0]+(+y[0]>68?1900:2e3),g+y[0].length):-1}function Q7(a,c,g){var y=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(c.slice(g,g+6));return y?(a.Z=y[1]?0:-(y[2]+(y[3]||"00")),g+y[0].length):-1}function zm(a,c,g){var y=Vs.exec(c.slice(g,g+1));return y?(a.q=3*y[0]-3,g+y[0].length):-1}function _2(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.m=y[0]-1,g+y[0].length):-1}function qm(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.d=+y[0],g+y[0].length):-1}function eA(a,c,g){var y=Vs.exec(c.slice(g,g+3));return y?(a.m=0,a.d=+y[0],g+y[0].length):-1}function w2(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.H=+y[0],g+y[0].length):-1}function E2(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.M=+y[0],g+y[0].length):-1}function S2(a,c,g){var y=Vs.exec(c.slice(g,g+2));return y?(a.S=+y[0],g+y[0].length):-1}function X5(a,c,g){var y=Vs.exec(c.slice(g,g+3));return y?(a.L=+y[0],g+y[0].length):-1}function o1(a,c,g){var y=Vs.exec(c.slice(g,g+6));return y?(a.L=Math.floor(y[0]/1e3),g+y[0].length):-1}function tA(a,c,g){var y=JL.exec(c.slice(g,g+1));return y?g+y[0].length:-1}function nA(a,c,g){var y=Vs.exec(c.slice(g));return y?(a.Q=+y[0],g+y[0].length):-1}function rA(a,c,g){var y=Vs.exec(c.slice(g));return y?(a.s=+y[0],g+y[0].length):-1}function Z5(a,c){return Zr(a.getDate(),c,2)}function J5(a,c){return Zr(a.getHours(),c,2)}function iA(a,c){return Zr(a.getHours()%12||12,c,2)}function x2(a,c){return Zr(1+q5.count(qc(a),a),c,3)}function Q5(a,c){return Zr(a.getMilliseconds(),c,3)}function ek(a,c){return Q5(a,c)+"000"}function k2(a,c){return Zr(a.getMonth()+1,c,2)}function tk(a,c){return Zr(a.getMinutes(),c,2)}function nk(a,c){return Zr(a.getSeconds(),c,2)}function rk(a){var c=a.getDay();return c===0?7:c}function sA(a,c){return Zr(t1.count(qc(a)-1,a),c,2)}function e6(a){var c=a.getDay();return c>=4||c===0?eh(a):eh.ceil(a)}function oA(a,c){return a=e6(a),Zr(eh.count(qc(a),a)+(qc(a).getDay()===4),c,2)}function ik(a){return a.getDay()}function sk(a,c){return Zr(Hm.count(qc(a)-1,a),c,2)}function ok(a,c){return Zr(a.getFullYear()%100,c,2)}function aA(a,c){return Zr((a=e6(a)).getFullYear()%100,c,2)}function lA(a,c){return Zr(a.getFullYear()%1e4,c,4)}function Vm(a,c){var g=a.getDay();return Zr((a=g>=4||g===0?eh(a):eh.ceil(a)).getFullYear()%1e4,c,4)}function ak(a){var c=a.getTimezoneOffset();return(c>0?"-":(c*=-1,"+"))+Zr(c/60|0,"0",2)+Zr(c%60,"0",2)}function t6(a,c){return Zr(a.getUTCDate(),c,2)}function n6(a,c){return Zr(a.getUTCHours(),c,2)}function r6(a,c){return Zr(a.getUTCHours()%12||12,c,2)}function i6(a,c){return Zr(1+Ll.count(th(a),a),c,3)}function T2(a,c){return Zr(a.getUTCMilliseconds(),c,3)}function Pd(a,c){return T2(a,c)+"000"}function cA(a,c){return Zr(a.getUTCMonth()+1,c,2)}function uA(a,c){return Zr(a.getUTCMinutes(),c,2)}function lk(a,c){return Zr(a.getUTCSeconds(),c,2)}function dA(a){var c=a.getUTCDay();return c===0?7:c}function ck(a,c){return Zr(z5.count(th(a)-1,a),c,2)}function nh(a){var c=a.getUTCDay();return c>=4||c===0?ao(a):ao.ceil(a)}function C2(a,c){return a=nh(a),Zr(ao.count(th(a),a)+(th(a).getUTCDay()===4),c,2)}function Gm(a){return a.getUTCDay()}function I2(a,c){return Zr(Um.count(th(a)-1,a),c,2)}function fA(a,c){return Zr(a.getUTCFullYear()%100,c,2)}function R2(a,c){return Zr((a=nh(a)).getUTCFullYear()%100,c,2)}function uk(a,c){return Zr(a.getUTCFullYear()%1e4,c,4)}function dk(a,c){var g=a.getUTCDay();return Zr((a=g>=4||g===0?ao(a):ao.ceil(a)).getUTCFullYear()%1e4,c,4)}function Vc(){return"+0000"}function ac(){return"%"}function M2(a){return+a}function O2(a){return Math.floor(+a/1e3)}r1=function(a){var c=a.dateTime,g=a.date,y=a.time,_=a.periods,S=a.days,k=a.shortDays,I=a.months,B=a.shortMonths,N=i1(_),q=s1(_),re=i1(S),ne=s1(S),de=i1(k),Ae=s1(k),ke=i1(I),Ue=s1(I),$e=i1(B),We=s1(B),Je={a:function(Xe){return k[Xe.getDay()]},A:function(Xe){return S[Xe.getDay()]},b:function(Xe){return B[Xe.getMonth()]},B:function(Xe){return I[Xe.getMonth()]},c:null,d:Z5,e:Z5,f:ek,g:aA,G:Vm,H:J5,I:iA,j:x2,L:Q5,m:k2,M:tk,p:function(Xe){return _[+(Xe.getHours()>=12)]},q:function(Xe){return 1+~~(Xe.getMonth()/3)},Q:M2,s:O2,S:nk,u:rk,U:sA,V:oA,w:ik,W:sk,x:null,X:null,y:ok,Y:lA,Z:ak,"%":ac},ct={a:function(Xe){return k[Xe.getUTCDay()]},A:function(Xe){return S[Xe.getUTCDay()]},b:function(Xe){return B[Xe.getUTCMonth()]},B:function(Xe){return I[Xe.getUTCMonth()]},c:null,d:t6,e:t6,f:Pd,g:R2,G:dk,H:n6,I:r6,j:i6,L:T2,m:cA,M:uA,p:function(Xe){return _[+(Xe.getUTCHours()>=12)]},q:function(Xe){return 1+~~(Xe.getUTCMonth()/3)},Q:M2,s:O2,S:lk,u:dA,U:ck,V:C2,w:Gm,W:I2,x:null,X:null,y:fA,Y:uk,Z:Vc,"%":ac},wt={a:function(Xe,at,tt){var He=de.exec(at.slice(tt));return He?(Xe.w=Ae.get(He[0].toLowerCase()),tt+He[0].length):-1},A:function(Xe,at,tt){var He=re.exec(at.slice(tt));return He?(Xe.w=ne.get(He[0].toLowerCase()),tt+He[0].length):-1},b:function(Xe,at,tt){var He=$e.exec(at.slice(tt));return He?(Xe.m=We.get(He[0].toLowerCase()),tt+He[0].length):-1},B:function(Xe,at,tt){var He=ke.exec(at.slice(tt));return He?(Xe.m=Ue.get(He[0].toLowerCase()),tt+He[0].length):-1},c:function(Xe,at,tt){return It(Xe,c,at,tt)},d:qm,e:qm,f:o1,g:b2,G:J7,H:w2,I:w2,j:eA,L:X5,m:_2,M:E2,p:function(Xe,at,tt){var He=N.exec(at.slice(tt));return He?(Xe.p=q.get(He[0].toLowerCase()),tt+He[0].length):-1},q:zm,Q:nA,s:rA,S:S2,u:Y5,U:X7,V:Z7,w:W5,W:QL,x:function(Xe,at,tt){return It(Xe,g,at,tt)},X:function(Xe,at,tt){return It(Xe,y,at,tt)},y:b2,Y:J7,Z:Q7,"%":tA};function et(Xe,at){return function(tt){var He,lt,je,Gt=[],Xt=-1,ht=0,Jt=Xe.length;for(tt instanceof Date||(tt=new Date(+tt));++Xt<Jt;)Xe.charCodeAt(Xt)===37&&(Gt.push(Xe.slice(ht,Xt)),(lt=G5[He=Xe.charAt(++Xt)])!=null?He=Xe.charAt(++Xt):lt=He==="e"?" ":"0",(je=at[He])&&(He=je(tt,lt)),Gt.push(He),ht=Xt+1);return Gt.push(Xe.slice(ht,Xt)),Gt.join("")}}function Ct(Xe,at){return function(tt){var He,lt,je=n1(1900,void 0,1);if(It(je,Xe,tt+="",0)!=tt.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(1e3*je.s+("L"in je?je.L:0));if(at&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+12*je.p),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(lt=(He=m2(n1(je.y,0,1))).getUTCDay(),He=lt>4||lt===0?Um.ceil(He):Um(He),He=Ll.offset(He,7*(je.V-1)),je.y=He.getUTCFullYear(),je.m=He.getUTCMonth(),je.d=He.getUTCDate()+(je.w+6)%7):(lt=(He=Km(n1(je.y,0,1))).getDay(),He=lt>4||lt===0?Hm.ceil(He):Hm(He),He=q5.offset(He,7*(je.V-1)),je.y=He.getFullYear(),je.m=He.getMonth(),je.d=He.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),lt="Z"in je?m2(n1(je.y,0,1)).getUTCDay():Km(n1(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+7*je.W-(lt+5)%7:je.w+7*je.U-(lt+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,m2(je)):Km(je)}}function It(Xe,at,tt,He){for(var lt,je,Gt=0,Xt=at.length,ht=tt.length;Gt<Xt;){if(He>=ht)return-1;if((lt=at.charCodeAt(Gt++))===37){if(lt=at.charAt(Gt++),!(je=wt[lt in G5?at.charAt(Gt++):lt])||(He=je(Xe,tt,He))<0)return-1}else if(lt!=tt.charCodeAt(He++))return-1}return He}return Je.x=et(g,Je),Je.X=et(y,Je),Je.c=et(c,Je),ct.x=et(g,ct),ct.X=et(y,ct),ct.c=et(c,ct),{format:function(Xe){var at=et(Xe+="",Je);return at.toString=function(){return Xe},at},parse:function(Xe){var at=Ct(Xe+="",!1);return at.toString=function(){return Xe},at},utcFormat:function(Xe){var at=et(Xe+="",ct);return at.toString=function(){return Xe},at},utcParse:function(Xe){var at=Ct(Xe+="",!0);return at.toString=function(){return Xe},at}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),y2=r1.format,r1.parse,r1.utcFormat,r1.utcParse;var Wm={value:()=>{}};function Ym(){for(var a,c=0,g=arguments.length,y={};c<g;++c){if(!(a=arguments[c]+"")||a in y||/[\s.]/.test(a))throw new Error("illegal type: "+a);y[a]=[]}return new rh(y)}function rh(a){this._=a}function a1(a,c){return a.trim().split(/^|\s+/).map(function(g){var y="",_=g.indexOf(".");if(_>=0&&(y=g.slice(_+1),g=g.slice(0,_)),g&&!c.hasOwnProperty(g))throw new Error("unknown type: "+g);return{type:g,name:y}})}function s6(a,c){for(var g,y=0,_=a.length;y<_;++y)if((g=a[y]).name===c)return g.value}function L2(a,c,g){for(var y=0,_=a.length;y<_;++y)if(a[y].name===c){a[y]=Wm,a=a.slice(0,y).concat(a.slice(y+1));break}return g!=null&&a.push({name:c,value:g}),a}rh.prototype=Ym.prototype={constructor:rh,on:function(a,c){var g,y=this._,_=a1(a+"",y),S=-1,k=_.length;if(!(arguments.length<2)){if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++S<k;)if(g=(a=_[S]).type)y[g]=L2(y[g],a.name,c);else if(c==null)for(g in y)y[g]=L2(y[g],a.name,null);return this}for(;++S<k;)if((g=(a=_[S]).type)&&(g=s6(y[g],a.name)))return g},copy:function(){var a={},c=this._;for(var g in c)a[g]=c[g].slice();return new rh(a)},call:function(a,c){if((g=arguments.length-2)>0)for(var g,y,_=new Array(g),S=0;S<g;++S)_[S]=arguments[S+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(S=0,g=(y=this._[a]).length;S<g;++S)y[S].value.apply(c,_)},apply:function(a,c,g){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var y=this._[a],_=0,S=y.length;_<S;++_)y[_].value.apply(c,g)}};const Xm=Ym;var Ra,lc,ih=0,Zm=0,Jm=0,Qm=0,sh=0,A2=0,e0=typeof performance=="object"&&performance.now?performance:Date,o6=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function P2(){return sh||(o6(fk),sh=e0.now()+A2)}function fk(){sh=0}function l1(){this._call=this._time=this._next=null}function a6(a,c,g){var y=new l1;return y.restart(a,c,g),y}function l6(){sh=(Qm=e0.now())+A2,ih=Zm=0;try{(function(){P2(),++ih;for(var a,c=Ra;c;)(a=sh-c._time)>=0&&c._call.call(void 0,a),c=c._next;--ih})()}finally{ih=0,function(){for(var a,c,g=Ra,y=1/0;g;)g._call?(y>g._time&&(y=g._time),a=g,g=g._next):(c=g._next,g._next=null,g=a?a._next=c:Ra=c);lc=a,oh(y)}(),sh=0}}function t0(){var a=e0.now(),c=a-Qm;c>1e3&&(A2-=c,Qm=a)}function oh(a){ih||(Zm&&(Zm=clearTimeout(Zm)),a-sh>24?(a<1/0&&(Zm=setTimeout(l6,a-e0.now()-A2)),Jm&&(Jm=clearInterval(Jm))):(Jm||(Qm=e0.now(),Jm=setInterval(t0,1e3)),ih=1,o6(l6)))}function D2(a,c,g){var y=new l1;return c=c==null?0:+c,y.restart(_=>{y.stop(),a(_+c)},c,g),y}l1.prototype=a6.prototype={constructor:l1,restart:function(a,c,g){if(typeof a!="function")throw new TypeError("callback is not a function");g=(g==null?P2():+g)+(c==null?0:+c),this._next||lc===this||(lc?lc._next=this:Ra=this,lc=this),this._call=a,this._time=g,oh()},stop:function(){this._call&&(this._call=null,this._time=1/0,oh())}};var N2=Xm("start","end","cancel","interrupt"),hA=[];function n0(a,c,g,y,_,S){var k=a.__transition;if(k){if(g in k)return}else a.__transition={};(function(I,B,N){var q,re=I.__transition;function ne(ke){var Ue,$e,We,Je;if(N.state!==1)return Ae();for(Ue in re)if((Je=re[Ue]).name===N.name){if(Je.state===3)return D2(ne);Je.state===4?(Je.state=6,Je.timer.stop(),Je.on.call("interrupt",I,I.__data__,Je.index,Je.group),delete re[Ue]):+Ue<B&&(Je.state=6,Je.timer.stop(),Je.on.call("cancel",I,I.__data__,Je.index,Je.group),delete re[Ue])}if(D2(function(){N.state===3&&(N.state=4,N.timer.restart(de,N.delay,N.time),de(ke))}),N.state=2,N.on.call("start",I,I.__data__,N.index,N.group),N.state===2){for(N.state=3,q=new Array(We=N.tween.length),Ue=0,$e=-1;Ue<We;++Ue)(Je=N.tween[Ue].value.call(I,I.__data__,N.index,N.group))&&(q[++$e]=Je);q.length=$e+1}}function de(ke){for(var Ue=ke<N.duration?N.ease.call(null,ke/N.duration):(N.timer.restart(Ae),N.state=5,1),$e=-1,We=q.length;++$e<We;)q[$e].call(I,Ue);N.state===5&&(N.on.call("end",I,I.__data__,N.index,N.group),Ae())}function Ae(){for(var ke in N.state=6,N.timer.stop(),delete re[B],re)return;delete I.__transition}re[B]=N,N.timer=a6(function(ke){N.state=1,N.timer.restart(ne,N.delay,N.time),N.delay<=ke&&ne(ke-N.delay)},0,N.time)})(a,g,{name:c,index:y,group:_,on:N2,tween:hA,time:S.time,delay:S.delay,duration:S.duration,ease:S.ease,timer:null,state:0})}function B2(a,c){var g=Al(a,c);if(g.state>0)throw new Error("too late; already scheduled");return g}function cc(a,c){var g=Al(a,c);if(g.state>3)throw new Error("too late; already running");return g}function Al(a,c){var g=a.__transition;if(!g||!(g=g[c]))throw new Error("transition not found");return g}function Dd(a,c){return a=+a,c=+c,function(g){return a*(1-g)+c*g}}var $2,c1=180/Math.PI,r0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function F2(a,c,g,y,_,S){var k,I,B;return(k=Math.sqrt(a*a+c*c))&&(a/=k,c/=k),(B=a*g+c*y)&&(g-=a*B,y-=c*B),(I=Math.sqrt(g*g+y*y))&&(g/=I,y/=I,B/=I),a*y<c*g&&(a=-a,c=-c,B=-B,k=-k),{translateX:_,translateY:S,rotate:Math.atan2(c,a)*c1,skewX:Math.atan(B)*c1,scaleX:k,scaleY:I}}function i0(a,c,g,y){function _(S){return S.length?S.pop()+" ":""}return function(S,k){var I=[],B=[];return S=a(S),k=a(k),function(N,q,re,ne,de,Ae){if(N!==re||q!==ne){var ke=de.push("translate(",null,c,null,g);Ae.push({i:ke-4,x:Dd(N,re)},{i:ke-2,x:Dd(q,ne)})}else(re||ne)&&de.push("translate("+re+c+ne+g)}(S.translateX,S.translateY,k.translateX,k.translateY,I,B),function(N,q,re,ne){N!==q?(N-q>180?q+=360:q-N>180&&(N+=360),ne.push({i:re.push(_(re)+"rotate(",null,y)-2,x:Dd(N,q)})):q&&re.push(_(re)+"rotate("+q+y)}(S.rotate,k.rotate,I,B),function(N,q,re,ne){N!==q?ne.push({i:re.push(_(re)+"skewX(",null,y)-2,x:Dd(N,q)}):q&&re.push(_(re)+"skewX("+q+y)}(S.skewX,k.skewX,I,B),function(N,q,re,ne,de,Ae){if(N!==re||q!==ne){var ke=de.push(_(de)+"scale(",null,",",null,")");Ae.push({i:ke-4,x:Dd(N,re)},{i:ke-2,x:Dd(q,ne)})}else re===1&&ne===1||de.push(_(de)+"scale("+re+","+ne+")")}(S.scaleX,S.scaleY,k.scaleX,k.scaleY,I,B),S=k=null,function(N){for(var q,re=-1,ne=B.length;++re<ne;)I[(q=B[re]).i]=q.x(N);return I.join("")}}}var c6=i0(function(a){const c=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return c.isIdentity?r0:F2(c.a,c.b,c.c,c.d,c.e,c.f)},"px, ","px)","deg)"),u6=i0(function(a){return a==null?r0:($2||($2=document.createElementNS("http://www.w3.org/2000/svg","g")),$2.setAttribute("transform",a),(a=$2.transform.baseVal.consolidate())?F2((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):r0)},", ",")",")");function d6(a,c){var g,y;return function(){var _=cc(this,a),S=_.tween;if(S!==g){for(var k=0,I=(y=g=S).length;k<I;++k)if(y[k].name===c){(y=y.slice()).splice(k,1);break}}_.tween=y}}function pA(a,c,g){var y,_;if(typeof g!="function")throw new Error;return function(){var S=cc(this,a),k=S.tween;if(k!==y){_=(y=k).slice();for(var I={name:c,value:g},B=0,N=_.length;B<N;++B)if(_[B].name===c){_[B]=I;break}B===N&&_.push(I)}S.tween=_}}function U2(a,c,g){var y=a._id;return a.each(function(){var _=cc(this,y);(_.value||(_.value={}))[c]=g.apply(this,arguments)}),function(_){return Al(_,y).value[c]}}const hk=function a(c){var g=function(_){return(_=+_)==1?mm:function(S,k){return k-S?function(I,B,N){return I=Math.pow(I,N),B=Math.pow(B,N)-I,N=1/N,function(q){return Math.pow(I+q*B,N)}}(S,k,_):Yw(isNaN(S)?k:S)}}(c);function y(_,S){var k=g((_=Mi(_)).r,(S=Mi(S)).r),I=g(_.g,S.g),B=g(_.b,S.b),N=mm(_.opacity,S.opacity);return function(q){return _.r=k(q),_.g=I(q),_.b=B(q),_.opacity=N(q),_+""}}return y.gamma=a,y}(1);var f6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H2=new RegExp(f6.source,"g");function Gc(a,c){var g,y,_,S=f6.lastIndex=H2.lastIndex=0,k=-1,I=[],B=[];for(a+="",c+="";(g=f6.exec(a))&&(y=H2.exec(c));)(_=y.index)>S&&(_=c.slice(S,_),I[k]?I[k]+=_:I[++k]=_),(g=g[0])===(y=y[0])?I[k]?I[k]+=y:I[++k]=y:(I[++k]=null,B.push({i:k,x:Dd(g,y)})),S=H2.lastIndex;return S<c.length&&(_=c.slice(S),I[k]?I[k]+=_:I[++k]=_),I.length<2?B[0]?function(N){return function(q){return N(q)+""}}(B[0].x):function(N){return function(){return N}}(c):(c=B.length,function(N){for(var q,re=0;re<c;++re)I[(q=B[re]).i]=q.x(N);return I.join("")})}function j2(a,c){var g;return(typeof c=="number"?Dd:c instanceof mr?hk:(g=mr(c))?(c=g,hk):Gc)(a,c)}function h6(a){return function(){this.removeAttribute(a)}}function pk(a){return function(){this.removeAttributeNS(a.space,a.local)}}function K2(a,c,g){var y,_,S=g+"";return function(){var k=this.getAttribute(a);return k===S?null:k===y?_:_=c(y=k,g)}}function gk(a,c,g){var y,_,S=g+"";return function(){var k=this.getAttributeNS(a.space,a.local);return k===S?null:k===y?_:_=c(y=k,g)}}function gA(a,c,g){var y,_,S;return function(){var k,I,B=g(this);if(B!=null)return(k=this.getAttribute(a))===(I=B+"")?null:k===y&&I===_?S:(_=I,S=c(y=k,B));this.removeAttribute(a)}}function mk(a,c,g){var y,_,S;return function(){var k,I,B=g(this);if(B!=null)return(k=this.getAttributeNS(a.space,a.local))===(I=B+"")?null:k===y&&I===_?S:(_=I,S=c(y=k,B));this.removeAttributeNS(a.space,a.local)}}function s0(a,c){return function(g){this.setAttribute(a,c.call(this,g))}}function p6(a,c){return function(g){this.setAttributeNS(a.space,a.local,c.call(this,g))}}function mA(a,c){var g,y;function _(){var S=c.apply(this,arguments);return S!==y&&(g=(y=S)&&p6(a,S)),g}return _._value=c,_}function g6(a,c){var g,y;function _(){var S=c.apply(this,arguments);return S!==y&&(g=(y=S)&&s0(a,S)),g}return _._value=c,_}function yA(a,c){return function(){B2(this,a).delay=+c.apply(this,arguments)}}function o0(a,c){return c=+c,function(){B2(this,a).delay=c}}function vA(a,c){return function(){cc(this,a).duration=+c.apply(this,arguments)}}function yk(a,c){return c=+c,function(){cc(this,a).duration=c}}function z2(a,c){if(typeof c!="function")throw new Error;return function(){cc(this,a).ease=c}}function vk(a,c,g){var y,_,S=function(k){return(k+"").trim().split(/^|\s+/).every(function(I){var B=I.indexOf(".");return B>=0&&(I=I.slice(0,B)),!I||I==="start"})}(c)?B2:cc;return function(){var k=S(this,a),I=k.on;I!==y&&(_=(y=I).copy()).on(c,g),k.on=_}}var bA=us.prototype.constructor;function u1(a){return function(){this.style.removeProperty(a)}}function _A(a,c,g){return function(y){this.style.setProperty(a,c.call(this,y),g)}}function bk(a,c,g){var y,_;function S(){var k=c.apply(this,arguments);return k!==_&&(y=(_=k)&&_A(a,k,g)),y}return S._value=c,S}function wA(a){return function(c){this.textContent=a.call(this,c)}}function a0(a){var c,g;function y(){var _=a.apply(this,arguments);return _!==g&&(c=(g=_)&&wA(_)),c}return y._value=a,y}var l0=0;function ul(a,c,g,y){this._groups=a,this._parents=c,this._name=g,this._id=y}function d1(){return++l0}var Pl=us.prototype;ul.prototype={constructor:ul,select:function(a){var c=this._name,g=this._id;typeof a!="function"&&(a=M5(a));for(var y=this._groups,_=y.length,S=new Array(_),k=0;k<_;++k)for(var I,B,N=y[k],q=N.length,re=S[k]=new Array(q),ne=0;ne<q;++ne)(I=N[ne])&&(B=a.call(I,I.__data__,ne,N))&&("__data__"in I&&(B.__data__=I.__data__),re[ne]=B,n0(re[ne],c,g,ne,re,Al(I,g)));return new ul(S,this._parents,c,g)},selectAll:function(a){var c=this._name,g=this._id;typeof a!="function"&&(a=Ru(a));for(var y=this._groups,_=y.length,S=[],k=[],I=0;I<_;++I)for(var B,N=y[I],q=N.length,re=0;re<q;++re)if(B=N[re]){for(var ne,de=a.call(B,B.__data__,re,N),Ae=Al(B,g),ke=0,Ue=de.length;ke<Ue;++ke)(ne=de[ke])&&n0(ne,c,g,ke,de,Ae);S.push(de),k.push(B)}return new ul(S,k,c,g)},selectChild:Pl.selectChild,selectChildren:Pl.selectChildren,filter:function(a){typeof a!="function"&&(a=O5(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k=c[_],I=k.length,B=y[_]=[],N=0;N<I;++N)(S=k[N])&&a.call(S,S.__data__,N,k)&&B.push(S);return new ul(y,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw new Error;for(var c=this._groups,g=a._groups,y=c.length,_=g.length,S=Math.min(y,_),k=new Array(y),I=0;I<S;++I)for(var B,N=c[I],q=g[I],re=N.length,ne=k[I]=new Array(re),de=0;de<re;++de)(B=N[de]||q[de])&&(ne[de]=B);for(;I<y;++I)k[I]=c[I];return new ul(k,this._parents,this._name,this._id)},selection:function(){return new bA(this._groups,this._parents)},transition:function(){for(var a=this._name,c=this._id,g=d1(),y=this._groups,_=y.length,S=0;S<_;++S)for(var k,I=y[S],B=I.length,N=0;N<B;++N)if(k=I[N]){var q=Al(k,c);n0(k,a,g,N,I,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new ul(y,this._parents,a,g)},call:Pl.call,nodes:Pl.nodes,node:Pl.node,size:Pl.size,empty:Pl.empty,each:Pl.each,on:function(a,c){var g=this._id;return arguments.length<2?Al(this.node(),g).on.on(a):this.each(vk(g,a,c))},attr:function(a,c){var g=Jv(a),y=g==="transform"?u6:j2;return this.attrTween(a,typeof c=="function"?(g.local?mk:gA)(g,y,U2(this,"attr."+a,c)):c==null?(g.local?pk:h6)(g):(g.local?gk:K2)(g,y,c))},attrTween:function(a,c){var g="attr."+a;if(arguments.length<2)return(g=this.tween(g))&&g._value;if(c==null)return this.tween(g,null);if(typeof c!="function")throw new Error;var y=Jv(a);return this.tween(g,(y.local?mA:g6)(y,c))},style:function(a,c,g){var y=(a+="")=="transform"?c6:j2;return c==null?this.styleTween(a,function(_,S){var k,I,B;return function(){var N=Mu(this,_),q=(this.style.removeProperty(_),Mu(this,_));return N===q?null:N===k&&q===I?B:B=S(k=N,I=q)}}(a,y)).on("end.style."+a,u1(a)):typeof c=="function"?this.styleTween(a,function(_,S,k){var I,B,N;return function(){var q=Mu(this,_),re=k(this),ne=re+"";return re==null&&(this.style.removeProperty(_),ne=re=Mu(this,_)),q===ne?null:q===I&&ne===B?N:(B=ne,N=S(I=q,re))}}(a,y,U2(this,"style."+a,c))).each(function(_,S){var k,I,B,N,q="style."+S,re="end."+q;return function(){var ne=cc(this,_),de=ne.on,Ae=ne.value[q]==null?N||(N=u1(S)):void 0;de===k&&B===Ae||(I=(k=de).copy()).on(re,B=Ae),ne.on=I}}(this._id,a)):this.styleTween(a,function(_,S,k){var I,B,N=k+"";return function(){var q=Mu(this,_);return q===N?null:q===I?B:B=S(I=q,k)}}(a,y,c),g).on("end.style."+a,null)},styleTween:function(a,c,g){var y="style."+(a+="");if(arguments.length<2)return(y=this.tween(y))&&y._value;if(c==null)return this.tween(y,null);if(typeof c!="function")throw new Error;return this.tween(y,bk(a,c,g==null?"":g))},text:function(a){return this.tween("text",typeof a=="function"?function(c){return function(){var g=c(this);this.textContent=g==null?"":g}}(U2(this,"text",a)):function(c){return function(){this.textContent=c}}(a==null?"":a+""))},textTween:function(a){var c="text";if(arguments.length<1)return(c=this.tween(c))&&c._value;if(a==null)return this.tween(c,null);if(typeof a!="function")throw new Error;return this.tween(c,a0(a))},remove:function(){return this.on("end.remove",function(a){return function(){var c=this.parentNode;for(var g in this.__transition)if(+g!==a)return;c&&c.removeChild(this)}}(this._id))},tween:function(a,c){var g=this._id;if(a+="",arguments.length<2){for(var y,_=Al(this.node(),g).tween,S=0,k=_.length;S<k;++S)if((y=_[S]).name===a)return y.value;return null}return this.each((c==null?d6:pA)(g,a,c))},delay:function(a){var c=this._id;return arguments.length?this.each((typeof a=="function"?yA:o0)(c,a)):Al(this.node(),c).delay},duration:function(a){var c=this._id;return arguments.length?this.each((typeof a=="function"?vA:yk)(c,a)):Al(this.node(),c).duration},ease:function(a){var c=this._id;return arguments.length?this.each(z2(c,a)):Al(this.node(),c).ease},easeVarying:function(a){if(typeof a!="function")throw new Error;return this.each(function(c,g){return function(){var y=g.apply(this,arguments);if(typeof y!="function")throw new Error;cc(this,c).ease=y}}(this._id,a))},end:function(){var a,c,g=this,y=g._id,_=g.size();return new Promise(function(S,k){var I={value:k},B={value:function(){--_==0&&S()}};g.each(function(){var N=cc(this,y),q=N.on;q!==a&&((c=(a=q).copy())._.cancel.push(I),c._.interrupt.push(I),c._.end.push(B)),N.on=c}),_===0&&S()})},[Symbol.iterator]:Pl[Symbol.iterator]};var m6={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};function EA(a,c){for(var g;!(g=a.__transition)||!(g=g[c]);)if(!(a=a.parentNode))throw new Error(`transition ${c} not found`);return g}function y6(){}function v6(a){return a==null?y6:function(){return this.querySelector(a)}}function SA(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function b6(){return[]}function _k(a){return a==null?b6:function(){return this.querySelectorAll(a)}}function q2(a){return function(){return this.matches(a)}}function wk(a){return function(c){return c.matches(a)}}us.prototype.interrupt=function(a){return this.each(function(){(function(c,g){var y,_,S,k=c.__transition,I=!0;if(k){for(S in g=g==null?null:g+"",k)(y=k[S]).name===g?(_=y.state>2&&y.state<5,y.state=6,y.timer.stop(),y.on.call(_?"interrupt":"cancel",c,c.__data__,y.index,y.group),delete k[S]):I=!1;I&&delete c.__transition}})(this,a)})},us.prototype.transition=function(a){var c,g;a instanceof ul?(c=a._id,a=a._name):(c=d1(),(g=m6).time=P2(),a=a==null?null:a+"");for(var y=this._groups,_=y.length,S=0;S<_;++S)for(var k,I=y[S],B=I.length,N=0;N<B;++N)(k=I[N])&&n0(k,a,c,N,I,g||EA(k,c));return new ul(y,this._parents,a,c)};var _6=Array.prototype.find;function xA(){return this.firstElementChild}var w6=Array.prototype.filter;function kA(){return Array.from(this.children)}function Ek(a){return new Array(a.length)}function V2(a,c){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=c}function TA(a){return function(){return a}}function CA(a,c,g,y,_,S){for(var k,I=0,B=c.length,N=S.length;I<N;++I)(k=c[I])?(k.__data__=S[I],y[I]=k):g[I]=new V2(a,S[I]);for(;I<B;++I)(k=c[I])&&(_[I]=k)}function IA(a,c,g,y,_,S,k){var I,B,N,q=new Map,re=c.length,ne=S.length,de=new Array(re);for(I=0;I<re;++I)(B=c[I])&&(de[I]=N=k.call(B,B.__data__,I,c)+"",q.has(N)?_[I]=B:q.set(N,B));for(I=0;I<ne;++I)N=k.call(a,S[I],I,S)+"",(B=q.get(N))?(y[I]=B,B.__data__=S[I],q.delete(N)):g[I]=new V2(a,S[I]);for(I=0;I<re;++I)(B=c[I])&&q.get(de[I])===B&&(_[I]=B)}function E6(a){return a.__data__}function RA(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function MA(a,c){return a<c?-1:a>c?1:a>=c?0:NaN}V2.prototype={constructor:V2,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,c){return this._parent.insertBefore(a,c)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var G2="http://www.w3.org/1999/xhtml";const ah={svg:"http://www.w3.org/2000/svg",xhtml:G2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W2(a){var c=a+="",g=c.indexOf(":");return g>=0&&(c=a.slice(0,g))!=="xmlns"&&(a=a.slice(g+1)),ah.hasOwnProperty(c)?{space:ah[c],local:a}:a}function Sk(a){return function(){this.removeAttribute(a)}}function OA(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Y2(a,c){return function(){this.setAttribute(a,c)}}function xk(a,c){return function(){this.setAttributeNS(a.space,a.local,c)}}function S6(a,c){return function(){var g=c.apply(this,arguments);g==null?this.removeAttribute(a):this.setAttribute(a,g)}}function LA(a,c){return function(){var g=c.apply(this,arguments);g==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,g)}}function f1(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function kk(a){return function(){this.style.removeProperty(a)}}function Tk(a,c,g){return function(){this.style.setProperty(a,c,g)}}function Ck(a,c,g){return function(){var y=c.apply(this,arguments);y==null?this.style.removeProperty(a):this.style.setProperty(a,y,g)}}function lh(a,c){return a.style.getPropertyValue(c)||f1(a).getComputedStyle(a,null).getPropertyValue(c)}function X2(a){return function(){delete this[a]}}function Ik(a,c){return function(){this[a]=c}}function AA(a,c){return function(){var g=c.apply(this,arguments);g==null?delete this[a]:this[a]=g}}function Rk(a){return a.trim().split(/^|\s+/)}function h1(a){return a.classList||new Nd(a)}function Nd(a){this._node=a,this._names=Rk(a.getAttribute("class")||"")}function ch(a,c){for(var g=h1(a),y=-1,_=c.length;++y<_;)g.add(c[y])}function Mk(a,c){for(var g=h1(a),y=-1,_=c.length;++y<_;)g.remove(c[y])}function PA(a){return function(){ch(this,a)}}function Ok(a){return function(){Mk(this,a)}}function x6(a,c){return function(){(c.apply(this,arguments)?ch:Mk)(this,a)}}function Lk(){this.textContent=""}function Ak(a){return function(){this.textContent=a}}function c0(a){return function(){var c=a.apply(this,arguments);this.textContent=c==null?"":c}}function DA(){this.innerHTML=""}function NA(a){return function(){this.innerHTML=a}}function Pk(a){return function(){var c=a.apply(this,arguments);this.innerHTML=c==null?"":c}}function BA(){this.nextSibling&&this.parentNode.appendChild(this)}function $A(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function FA(a){return function(){var c=this.ownerDocument,g=this.namespaceURI;return g===G2&&c.documentElement.namespaceURI===G2?c.createElement(a):c.createElementNS(g,a)}}function UA(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function Z2(a){var c=W2(a);return(c.local?UA:FA)(c)}function k6(){return null}function HA(){var a=this.parentNode;a&&a.removeChild(this)}function jA(){var a=this.cloneNode(!1),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function J2(){var a=this.cloneNode(!0),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function KA(a){return a.trim().split(/^|\s+/).map(function(c){var g="",y=c.indexOf(".");return y>=0&&(g=c.slice(y+1),c=c.slice(0,y)),{type:c,name:g}})}function Q2(a){return function(){var c=this.__on;if(c){for(var g,y=0,_=-1,S=c.length;y<S;++y)g=c[y],a.type&&g.type!==a.type||g.name!==a.name?c[++_]=g:this.removeEventListener(g.type,g.listener,g.options);++_?c.length=_:delete this.__on}}}function Dk(a,c,g){return function(){var y,_=this.__on,S=function(B){return function(N){B.call(this,N,this.__data__)}}(c);if(_){for(var k=0,I=_.length;k<I;++k)if((y=_[k]).type===a.type&&y.name===a.name)return this.removeEventListener(y.type,y.listener,y.options),this.addEventListener(y.type,y.listener=S,y.options=g),void(y.value=c)}this.addEventListener(a.type,S,g),y={type:a.type,name:a.name,value:c,listener:S,options:g},_?_.push(y):this.__on=[y]}}function T6(a,c,g){var y=f1(a),_=y.CustomEvent;typeof _=="function"?_=new _(c,g):(_=y.document.createEvent("Event"),g?(_.initEvent(c,g.bubbles,g.cancelable),_.detail=g.detail):_.initEvent(c,!1,!1)),a.dispatchEvent(_)}function Nk(a,c){return function(){return T6(this,a,c)}}function zA(a,c){return function(){return T6(this,a,c.apply(this,arguments))}}Nd.prototype={add:function(a){this._names.indexOf(a)<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var c=this._names.indexOf(a);c>=0&&(this._names.splice(c,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var qA=[null];function uc(a,c){this._groups=a,this._parents=c}function Bk(){return new uc([[document.documentElement]],qA)}uc.prototype=Bk.prototype={constructor:uc,select:function(a){typeof a!="function"&&(a=v6(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k,I=c[_],B=I.length,N=y[_]=new Array(B),q=0;q<B;++q)(S=I[q])&&(k=a.call(S,S.__data__,q,I))&&("__data__"in S&&(k.__data__=S.__data__),N[q]=k);return new uc(y,this._parents)},selectAll:function(a){a=typeof a=="function"?function(q){return function(){return SA(q.apply(this,arguments))}}(a):_k(a);for(var c=this._groups,g=c.length,y=[],_=[],S=0;S<g;++S)for(var k,I=c[S],B=I.length,N=0;N<B;++N)(k=I[N])&&(y.push(a.call(k,k.__data__,N,I)),_.push(k));return new uc(y,_)},selectChild:function(a){return this.select(a==null?xA:function(c){return function(){return _6.call(this.children,c)}}(typeof a=="function"?a:wk(a)))},selectChildren:function(a){return this.selectAll(a==null?kA:function(c){return function(){return w6.call(this.children,c)}}(typeof a=="function"?a:wk(a)))},filter:function(a){typeof a!="function"&&(a=q2(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k=c[_],I=k.length,B=y[_]=[],N=0;N<I;++N)(S=k[N])&&a.call(S,S.__data__,N,k)&&B.push(S);return new uc(y,this._parents)},data:function(a,c){if(!arguments.length)return Array.from(this,E6);var g=c?IA:CA,y=this._parents,_=this._groups;typeof a!="function"&&(a=TA(a));for(var S=_.length,k=new Array(S),I=new Array(S),B=new Array(S),N=0;N<S;++N){var q=y[N],re=_[N],ne=re.length,de=RA(a.call(q,q&&q.__data__,N,y)),Ae=de.length,ke=I[N]=new Array(Ae),Ue=k[N]=new Array(Ae),$e=B[N]=new Array(ne);g(q,re,ke,Ue,$e,de,c);for(var We,Je,ct=0,wt=0;ct<Ae;++ct)if(We=ke[ct]){for(ct>=wt&&(wt=ct+1);!(Je=Ue[wt])&&++wt<Ae;);We._next=Je||null}}return(k=new uc(k,y))._enter=I,k._exit=B,k},enter:function(){return new uc(this._enter||this._groups.map(Ek),this._parents)},exit:function(){return new uc(this._exit||this._groups.map(Ek),this._parents)},join:function(a,c,g){var y=this.enter(),_=this,S=this.exit();return typeof a=="function"?(y=a(y))&&(y=y.selection()):y=y.append(a+""),c!=null&&(_=c(_))&&(_=_.selection()),g==null?S.remove():g(S),y&&_?y.merge(_).order():_},merge:function(a){for(var c=a.selection?a.selection():a,g=this._groups,y=c._groups,_=g.length,S=y.length,k=Math.min(_,S),I=new Array(_),B=0;B<k;++B)for(var N,q=g[B],re=y[B],ne=q.length,de=I[B]=new Array(ne),Ae=0;Ae<ne;++Ae)(N=q[Ae]||re[Ae])&&(de[Ae]=N);for(;B<_;++B)I[B]=g[B];return new uc(I,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,c=-1,g=a.length;++c<g;)for(var y,_=a[c],S=_.length-1,k=_[S];--S>=0;)(y=_[S])&&(k&&4^y.compareDocumentPosition(k)&&k.parentNode.insertBefore(y,k),k=y);return this},sort:function(a){function c(re,ne){return re&&ne?a(re.__data__,ne.__data__):!re-!ne}a||(a=MA);for(var g=this._groups,y=g.length,_=new Array(y),S=0;S<y;++S){for(var k,I=g[S],B=I.length,N=_[S]=new Array(B),q=0;q<B;++q)(k=I[q])&&(N[q]=k);N.sort(c)}return new uc(_,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,c=0,g=a.length;c<g;++c)for(var y=a[c],_=0,S=y.length;_<S;++_){var k=y[_];if(k)return k}return null},size:function(){let a=0;for(const c of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var c=this._groups,g=0,y=c.length;g<y;++g)for(var _,S=c[g],k=0,I=S.length;k<I;++k)(_=S[k])&&a.call(_,_.__data__,k,S);return this},attr:function(a,c){var g=W2(a);if(arguments.length<2){var y=this.node();return g.local?y.getAttributeNS(g.space,g.local):y.getAttribute(g)}return this.each((c==null?g.local?OA:Sk:typeof c=="function"?g.local?LA:S6:g.local?xk:Y2)(g,c))},style:function(a,c,g){return arguments.length>1?this.each((c==null?kk:typeof c=="function"?Ck:Tk)(a,c,g==null?"":g)):lh(this.node(),a)},property:function(a,c){return arguments.length>1?this.each((c==null?X2:typeof c=="function"?AA:Ik)(a,c)):this.node()[a]},classed:function(a,c){var g=Rk(a+"");if(arguments.length<2){for(var y=h1(this.node()),_=-1,S=g.length;++_<S;)if(!y.contains(g[_]))return!1;return!0}return this.each((typeof c=="function"?x6:c?PA:Ok)(g,c))},text:function(a){return arguments.length?this.each(a==null?Lk:(typeof a=="function"?c0:Ak)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(a==null?DA:(typeof a=="function"?Pk:NA)(a)):this.node().innerHTML},raise:function(){return this.each(BA)},lower:function(){return this.each($A)},append:function(a){var c=typeof a=="function"?a:Z2(a);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function(a,c){var g=typeof a=="function"?a:Z2(a),y=c==null?k6:typeof c=="function"?c:v6(c);return this.select(function(){return this.insertBefore(g.apply(this,arguments),y.apply(this,arguments)||null)})},remove:function(){return this.each(HA)},clone:function(a){return this.select(a?J2:jA)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,c,g){var y,_,S=KA(a+""),k=S.length;if(!(arguments.length<2)){for(I=c?Dk:Q2,y=0;y<k;++y)this.each(I(S[y],c,g));return this}var I=this.node().__on;if(I){for(var B,N=0,q=I.length;N<q;++N)for(y=0,B=I[N];y<k;++y)if((_=S[y]).type===B.type&&_.name===B.name)return B.value}},dispatch:function(a,c){return this.each((typeof c=="function"?zA:Nk)(a,c))},[Symbol.iterator]:function*(){for(var a=this._groups,c=0,g=a.length;c<g;++c)for(var y,_=a[c],S=0,k=_.length;S<k;++S)(y=_[S])&&(yield y)}};const eb=Bk;var VA={value:()=>{}};function C6(){for(var a,c=0,g=arguments.length,y={};c<g;++c){if(!(a=arguments[c]+"")||a in y||/[\s.]/.test(a))throw new Error("illegal type: "+a);y[a]=[]}return new Bd(y)}function Bd(a){this._=a}function $k(a,c){return a.trim().split(/^|\s+/).map(function(g){var y="",_=g.indexOf(".");if(_>=0&&(y=g.slice(_+1),g=g.slice(0,_)),g&&!c.hasOwnProperty(g))throw new Error("unknown type: "+g);return{type:g,name:y}})}function Fk(a,c){for(var g,y=0,_=a.length;y<_;++y)if((g=a[y]).name===c)return g.value}function I6(a,c,g){for(var y=0,_=a.length;y<_;++y)if(a[y].name===c){a[y]=VA,a=a.slice(0,y).concat(a.slice(y+1));break}return g!=null&&a.push({name:c,value:g}),a}Bd.prototype=C6.prototype={constructor:Bd,on:function(a,c){var g,y=this._,_=$k(a+"",y),S=-1,k=_.length;if(!(arguments.length<2)){if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++S<k;)if(g=(a=_[S]).type)y[g]=I6(y[g],a.name,c);else if(c==null)for(g in y)y[g]=I6(y[g],a.name,null);return this}for(;++S<k;)if((g=(a=_[S]).type)&&(g=Fk(y[g],a.name)))return g},copy:function(){var a={},c=this._;for(var g in c)a[g]=c[g].slice();return new Bd(a)},call:function(a,c){if((g=arguments.length-2)>0)for(var g,y,_=new Array(g),S=0;S<g;++S)_[S]=arguments[S+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(S=0,g=(y=this._[a]).length;S<g;++S)y[S].value.apply(c,_)},apply:function(a,c,g){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var y=this._[a],_=0,S=y.length;_<S;++_)y[_].value.apply(c,g)}};const GA=C6;var tb,u0,uh=0,d0=0,f0=0,h0=0,dh=0,fh=0,p0=typeof performance=="object"&&performance.now?performance:Date,Uk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function R6(){return dh||(Uk(WA),dh=p0.now()+fh)}function WA(){dh=0}function nb(){this._call=this._time=this._next=null}function Hk(a,c,g){var y=new nb;return y.restart(a,c,g),y}function M6(){dh=(h0=p0.now())+fh,uh=d0=0;try{(function(){R6(),++uh;for(var a,c=tb;c;)(a=dh-c._time)>=0&&c._call.call(void 0,a),c=c._next;--uh})()}finally{uh=0,function(){for(var a,c,g=tb,y=1/0;g;)g._call?(y>g._time&&(y=g._time),a=g,g=g._next):(c=g._next,g._next=null,g=a?a._next=c:tb=c);u0=a,O6(y)}(),dh=0}}function YA(){var a=p0.now(),c=a-h0;c>1e3&&(fh-=c,h0=a)}function O6(a){uh||(d0&&(d0=clearTimeout(d0)),a-dh>24?(a<1/0&&(d0=setTimeout(M6,a-p0.now()-fh)),f0&&(f0=clearInterval(f0))):(f0||(h0=p0.now(),f0=setInterval(YA,1e3)),uh=1,Uk(M6)))}function jk(a,c,g){var y=new nb;return c=c==null?0:+c,y.restart(_=>{y.stop(),a(_+c)},c,g),y}nb.prototype=Hk.prototype={constructor:nb,restart:function(a,c,g){if(typeof a!="function")throw new TypeError("callback is not a function");g=(g==null?R6():+g)+(c==null?0:+c),this._next||u0===this||(u0?u0._next=this:tb=this,u0=this),this._call=a,this._time=g,O6()},stop:function(){this._call&&(this._call=null,this._time=1/0,O6())}};var p1=GA("start","end","cancel","interrupt"),XA=[];function g0(a,c,g,y,_,S){var k=a.__transition;if(k){if(g in k)return}else a.__transition={};(function(I,B,N){var q,re=I.__transition;function ne(ke){var Ue,$e,We,Je;if(N.state!==1)return Ae();for(Ue in re)if((Je=re[Ue]).name===N.name){if(Je.state===3)return jk(ne);Je.state===4?(Je.state=6,Je.timer.stop(),Je.on.call("interrupt",I,I.__data__,Je.index,Je.group),delete re[Ue]):+Ue<B&&(Je.state=6,Je.timer.stop(),Je.on.call("cancel",I,I.__data__,Je.index,Je.group),delete re[Ue])}if(jk(function(){N.state===3&&(N.state=4,N.timer.restart(de,N.delay,N.time),de(ke))}),N.state=2,N.on.call("start",I,I.__data__,N.index,N.group),N.state===2){for(N.state=3,q=new Array(We=N.tween.length),Ue=0,$e=-1;Ue<We;++Ue)(Je=N.tween[Ue].value.call(I,I.__data__,N.index,N.group))&&(q[++$e]=Je);q.length=$e+1}}function de(ke){for(var Ue=ke<N.duration?N.ease.call(null,ke/N.duration):(N.timer.restart(Ae),N.state=5,1),$e=-1,We=q.length;++$e<We;)q[$e].call(I,Ue);N.state===5&&(N.on.call("end",I,I.__data__,N.index,N.group),Ae())}function Ae(){for(var ke in N.state=6,N.timer.stop(),delete re[B],re)return;delete I.__transition}re[B]=N,N.timer=Hk(function(ke){N.state=1,N.timer.restart(ne,N.delay,N.time),N.delay<=ke&&ne(ke-N.delay)},0,N.time)})(a,g,{name:c,index:y,group:_,on:p1,tween:XA,time:S.time,delay:S.delay,duration:S.duration,ease:S.ease,timer:null,state:0})}function L6(a,c){var g=fc(a,c);if(g.state>0)throw new Error("too late; already scheduled");return g}function dc(a,c){var g=fc(a,c);if(g.state>3)throw new Error("too late; already running");return g}function fc(a,c){var g=a.__transition;if(!g||!(g=g[c]))throw new Error("transition not found");return g}function $d(a,c){return a=+a,c=+c,function(g){return a*(1-g)+c*g}}var Ma,Wc=180/Math.PI,rb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function m0(a,c,g,y,_,S){var k,I,B;return(k=Math.sqrt(a*a+c*c))&&(a/=k,c/=k),(B=a*g+c*y)&&(g-=a*B,y-=c*B),(I=Math.sqrt(g*g+y*y))&&(g/=I,y/=I,B/=I),a*y<c*g&&(a=-a,c=-c,B=-B,k=-k),{translateX:_,translateY:S,rotate:Math.atan2(c,a)*Wc,skewX:Math.atan(B)*Wc,scaleX:k,scaleY:I}}function Fd(a,c,g,y){function _(S){return S.length?S.pop()+" ":""}return function(S,k){var I=[],B=[];return S=a(S),k=a(k),function(N,q,re,ne,de,Ae){if(N!==re||q!==ne){var ke=de.push("translate(",null,c,null,g);Ae.push({i:ke-4,x:$d(N,re)},{i:ke-2,x:$d(q,ne)})}else(re||ne)&&de.push("translate("+re+c+ne+g)}(S.translateX,S.translateY,k.translateX,k.translateY,I,B),function(N,q,re,ne){N!==q?(N-q>180?q+=360:q-N>180&&(N+=360),ne.push({i:re.push(_(re)+"rotate(",null,y)-2,x:$d(N,q)})):q&&re.push(_(re)+"rotate("+q+y)}(S.rotate,k.rotate,I,B),function(N,q,re,ne){N!==q?ne.push({i:re.push(_(re)+"skewX(",null,y)-2,x:$d(N,q)}):q&&re.push(_(re)+"skewX("+q+y)}(S.skewX,k.skewX,I,B),function(N,q,re,ne,de,Ae){if(N!==re||q!==ne){var ke=de.push(_(de)+"scale(",null,",",null,")");Ae.push({i:ke-4,x:$d(N,re)},{i:ke-2,x:$d(q,ne)})}else re===1&&ne===1||de.push(_(de)+"scale("+re+","+ne+")")}(S.scaleX,S.scaleY,k.scaleX,k.scaleY,I,B),S=k=null,function(N){for(var q,re=-1,ne=B.length;++re<ne;)I[(q=B[re]).i]=q.x(N);return I.join("")}}}var A6=Fd(function(a){const c=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return c.isIdentity?rb:m0(c.a,c.b,c.c,c.d,c.e,c.f)},"px, ","px)","deg)"),P6=Fd(function(a){return a==null?rb:(Ma||(Ma=document.createElementNS("http://www.w3.org/2000/svg","g")),Ma.setAttribute("transform",a),(a=Ma.transform.baseVal.consolidate())?m0((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):rb)},", ",")",")");function D6(a,c){var g,y;return function(){var _=dc(this,a),S=_.tween;if(S!==g){for(var k=0,I=(y=g=S).length;k<I;++k)if(y[k].name===c){(y=y.slice()).splice(k,1);break}}_.tween=y}}function Kk(a,c,g){var y,_;if(typeof g!="function")throw new Error;return function(){var S=dc(this,a),k=S.tween;if(k!==y){_=(y=k).slice();for(var I={name:c,value:g},B=0,N=_.length;B<N;++B)if(_[B].name===c){_[B]=I;break}B===N&&_.push(I)}S.tween=_}}function N6(a,c,g){var y=a._id;return a.each(function(){var _=dc(this,y);(_.value||(_.value={}))[c]=g.apply(this,arguments)}),function(_){return fc(_,y).value[c]}}function y0(a,c,g){a.prototype=c.prototype=g,g.constructor=a}function B6(a,c){var g=Object.create(a.prototype);for(var y in c)g[y]=c[y];return g}function Is(){}var g1=.7,v0=1.4285714285714286,m1="\\s*([+-]?\\d+)\\s*",b0="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ib=/^#([0-9a-f]{3,8})$/,zk=new RegExp("^rgb\\("+[m1,m1,m1]+"\\)$"),qk=new RegExp("^rgb\\("+[Oa,Oa,Oa]+"\\)$"),hh=new RegExp("^rgba\\("+[m1,m1,m1,b0]+"\\)$"),Vk=new RegExp("^rgba\\("+[Oa,Oa,Oa,b0]+"\\)$"),Gk=new RegExp("^hsl\\("+[b0,Oa,Oa]+"\\)$"),Wk=new RegExp("^hsla\\("+[b0,Oa,Oa,b0]+"\\)$"),$6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function F6(){return this.rgb().formatHex()}function Yk(){return this.rgb().formatRgb()}function _0(a){var c,g;return a=(a+"").trim().toLowerCase(),(c=ib.exec(a))?(g=c[1].length,c=parseInt(c[1],16),g===6?Xk(c):g===3?new La(c>>8&15|c>>4&240,c>>4&15|240&c,(15&c)<<4|15&c,1):g===8?w0(c>>24&255,c>>16&255,c>>8&255,(255&c)/255):g===4?w0(c>>12&15|c>>8&240,c>>8&15|c>>4&240,c>>4&15|240&c,((15&c)<<4|15&c)/255):null):(c=zk.exec(a))?new La(c[1],c[2],c[3],1):(c=qk.exec(a))?new La(255*c[1]/100,255*c[2]/100,255*c[3]/100,1):(c=hh.exec(a))?w0(c[1],c[2],c[3],c[4]):(c=Vk.exec(a))?w0(255*c[1]/100,255*c[2]/100,255*c[3]/100,c[4]):(c=Gk.exec(a))?j6(c[1],c[2]/100,c[3]/100,1):(c=Wk.exec(a))?j6(c[1],c[2]/100,c[3]/100,c[4]):$6.hasOwnProperty(a)?Xk($6[a]):a==="transparent"?new La(NaN,NaN,NaN,0):null}function Xk(a){return new La(a>>16&255,a>>8&255,255&a,1)}function w0(a,c,g,y){return y<=0&&(a=c=g=NaN),new La(a,c,g,y)}function U6(a){return a instanceof Is||(a=_0(a)),a?new La((a=a.rgb()).r,a.g,a.b,a.opacity):new La}function sb(a,c,g,y){return arguments.length===1?U6(a):new La(a,c,g,y==null?1:y)}function La(a,c,g,y){this.r=+a,this.g=+c,this.b=+g,this.opacity=+y}function H6(){return"#"+ab(this.r)+ab(this.g)+ab(this.b)}function ob(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}function ab(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function j6(a,c,g,y){return y<=0?a=c=g=NaN:g<=0||g>=1?a=c=NaN:c<=0&&(a=NaN),new Yc(a,c,g,y)}function Zk(a){if(a instanceof Yc)return new Yc(a.h,a.s,a.l,a.opacity);if(a instanceof Is||(a=_0(a)),!a)return new Yc;if(a instanceof Yc)return a;var c=(a=a.rgb()).r/255,g=a.g/255,y=a.b/255,_=Math.min(c,g,y),S=Math.max(c,g,y),k=NaN,I=S-_,B=(S+_)/2;return I?(k=c===S?(g-y)/I+6*(g<y):g===S?(y-c)/I+2:(c-g)/I+4,I/=B<.5?S+_:2-S-_,k*=60):I=B>0&&B<1?0:k,new Yc(k,I,B,a.opacity)}function Yc(a,c,g,y){this.h=+a,this.s=+c,this.l=+g,this.opacity=+y}function E0(a,c,g){return 255*(a<60?c+(g-c)*a/60:a<180?g:a<240?c+(g-c)*(240-a)/60:c)}y0(Is,_0,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:F6,formatHex:F6,formatHsl:function(){return Zk(this).formatHsl()},formatRgb:Yk,toString:Yk}),y0(La,sb,B6(Is,{brighter:function(a){return a=a==null?v0:Math.pow(v0,a),new La(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=a==null?g1:Math.pow(g1,a),new La(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H6,formatHex:H6,formatRgb:ob,toString:ob})),y0(Yc,function(a,c,g,y){return arguments.length===1?Zk(a):new Yc(a,c,g,y==null?1:y)},B6(Is,{brighter:function(a){return a=a==null?v0:Math.pow(v0,a),new Yc(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=a==null?g1:Math.pow(g1,a),new Yc(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),c=isNaN(a)||isNaN(this.s)?0:this.s,g=this.l,y=g+(g<.5?g:1-g)*c,_=2*g-y;return new La(E0(a>=240?a-240:a+120,_,y),E0(a,_,y),E0(a<120?a+240:a-120,_,y),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return((a=isNaN(a)?1:Math.max(0,Math.min(1,a)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(a===1?")":", "+a+")")}}));const lb=a=>()=>a;function Jk(a,c){var g=c-a;return g?function(y,_){return function(S){return y+S*_}}(a,g):lb(isNaN(a)?c:a)}const K6=function a(c){var g=function(_){return(_=+_)==1?Jk:function(S,k){return k-S?function(I,B,N){return I=Math.pow(I,N),B=Math.pow(B,N)-I,N=1/N,function(q){return Math.pow(I+q*B,N)}}(S,k,_):lb(isNaN(S)?k:S)}}(c);function y(_,S){var k=g((_=sb(_)).r,(S=sb(S)).r),I=g(_.g,S.g),B=g(_.b,S.b),N=Jk(_.opacity,S.opacity);return function(q){return _.r=k(q),_.g=I(q),_.b=B(q),_.opacity=N(q),_+""}}return y.gamma=a,y}(1);var cb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ub=new RegExp(cb.source,"g");function z6(a,c){var g,y,_,S=cb.lastIndex=ub.lastIndex=0,k=-1,I=[],B=[];for(a+="",c+="";(g=cb.exec(a))&&(y=ub.exec(c));)(_=y.index)>S&&(_=c.slice(S,_),I[k]?I[k]+=_:I[++k]=_),(g=g[0])===(y=y[0])?I[k]?I[k]+=y:I[++k]=y:(I[++k]=null,B.push({i:k,x:$d(g,y)})),S=ub.lastIndex;return S<c.length&&(_=c.slice(S),I[k]?I[k]+=_:I[++k]=_),I.length<2?B[0]?function(N){return function(q){return N(q)+""}}(B[0].x):function(N){return function(){return N}}(c):(c=B.length,function(N){for(var q,re=0;re<c;++re)I[(q=B[re]).i]=q.x(N);return I.join("")})}function db(a,c){var g;return(typeof c=="number"?$d:c instanceof _0?K6:(g=_0(c))?(c=g,K6):z6)(a,c)}function Gs(a){return function(){this.removeAttribute(a)}}function q6(a){return function(){this.removeAttributeNS(a.space,a.local)}}function ph(a,c,g){var y,_,S=g+"";return function(){var k=this.getAttribute(a);return k===S?null:k===y?_:_=c(y=k,g)}}function ZA(a,c,g){var y,_,S=g+"";return function(){var k=this.getAttributeNS(a.space,a.local);return k===S?null:k===y?_:_=c(y=k,g)}}function Qk(a,c,g){var y,_,S;return function(){var k,I,B=g(this);if(B!=null)return(k=this.getAttribute(a))===(I=B+"")?null:k===y&&I===_?S:(_=I,S=c(y=k,B));this.removeAttribute(a)}}function e9(a,c,g){var y,_,S;return function(){var k,I,B=g(this);if(B!=null)return(k=this.getAttributeNS(a.space,a.local))===(I=B+"")?null:k===y&&I===_?S:(_=I,S=c(y=k,B));this.removeAttributeNS(a.space,a.local)}}function JA(a,c){return function(g){this.setAttribute(a,c.call(this,g))}}function fb(a,c){return function(g){this.setAttributeNS(a.space,a.local,c.call(this,g))}}function gh(a,c){var g,y;function _(){var S=c.apply(this,arguments);return S!==y&&(g=(y=S)&&fb(a,S)),g}return _._value=c,_}function hb(a,c){var g,y;function _(){var S=c.apply(this,arguments);return S!==y&&(g=(y=S)&&JA(a,S)),g}return _._value=c,_}function t9(a,c){return function(){L6(this,a).delay=+c.apply(this,arguments)}}function n9(a,c){return c=+c,function(){L6(this,a).delay=c}}function mh(a,c){return function(){dc(this,a).duration=+c.apply(this,arguments)}}function S0(a,c){return c=+c,function(){dc(this,a).duration=c}}function x0(a,c){if(typeof c!="function")throw new Error;return function(){dc(this,a).ease=c}}function r9(a,c,g){var y,_,S=function(k){return(k+"").trim().split(/^|\s+/).every(function(I){var B=I.indexOf(".");return B>=0&&(I=I.slice(0,B)),!I||I==="start"})}(c)?L6:dc;return function(){var k=S(this,a),I=k.on;I!==y&&(_=(y=I).copy()).on(c,g),k.on=_}}var i9=eb.prototype.constructor;function Ud(a){return function(){this.style.removeProperty(a)}}function s9(a,c,g){return function(y){this.style.setProperty(a,c.call(this,y),g)}}function o9(a,c,g){var y,_;function S(){var k=c.apply(this,arguments);return k!==_&&(y=(_=k)&&s9(a,k,g)),y}return S._value=c,S}function a9(a){return function(c){this.textContent=a.call(this,c)}}function QA(a){var c,g;function y(){var _=a.apply(this,arguments);return _!==g&&(c=(g=_)&&a9(_)),c}return y._value=a,y}var eP=0;function Pu(a,c,g,y){this._groups=a,this._parents=c,this._name=g,this._id=y}function l9(){return++eP}var Du=eb.prototype;Pu.prototype={constructor:Pu,select:function(a){var c=this._name,g=this._id;typeof a!="function"&&(a=v6(a));for(var y=this._groups,_=y.length,S=new Array(_),k=0;k<_;++k)for(var I,B,N=y[k],q=N.length,re=S[k]=new Array(q),ne=0;ne<q;++ne)(I=N[ne])&&(B=a.call(I,I.__data__,ne,N))&&("__data__"in I&&(B.__data__=I.__data__),re[ne]=B,g0(re[ne],c,g,ne,re,fc(I,g)));return new Pu(S,this._parents,c,g)},selectAll:function(a){var c=this._name,g=this._id;typeof a!="function"&&(a=_k(a));for(var y=this._groups,_=y.length,S=[],k=[],I=0;I<_;++I)for(var B,N=y[I],q=N.length,re=0;re<q;++re)if(B=N[re]){for(var ne,de=a.call(B,B.__data__,re,N),Ae=fc(B,g),ke=0,Ue=de.length;ke<Ue;++ke)(ne=de[ke])&&g0(ne,c,g,ke,de,Ae);S.push(de),k.push(B)}return new Pu(S,k,c,g)},selectChild:Du.selectChild,selectChildren:Du.selectChildren,filter:function(a){typeof a!="function"&&(a=q2(a));for(var c=this._groups,g=c.length,y=new Array(g),_=0;_<g;++_)for(var S,k=c[_],I=k.length,B=y[_]=[],N=0;N<I;++N)(S=k[N])&&a.call(S,S.__data__,N,k)&&B.push(S);return new Pu(y,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw new Error;for(var c=this._groups,g=a._groups,y=c.length,_=g.length,S=Math.min(y,_),k=new Array(y),I=0;I<S;++I)for(var B,N=c[I],q=g[I],re=N.length,ne=k[I]=new Array(re),de=0;de<re;++de)(B=N[de]||q[de])&&(ne[de]=B);for(;I<y;++I)k[I]=c[I];return new Pu(k,this._parents,this._name,this._id)},selection:function(){return new i9(this._groups,this._parents)},transition:function(){for(var a=this._name,c=this._id,g=l9(),y=this._groups,_=y.length,S=0;S<_;++S)for(var k,I=y[S],B=I.length,N=0;N<B;++N)if(k=I[N]){var q=fc(k,c);g0(k,a,g,N,I,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new Pu(y,this._parents,a,g)},call:Du.call,nodes:Du.nodes,node:Du.node,size:Du.size,empty:Du.empty,each:Du.each,on:function(a,c){var g=this._id;return arguments.length<2?fc(this.node(),g).on.on(a):this.each(r9(g,a,c))},attr:function(a,c){var g=W2(a),y=g==="transform"?P6:db;return this.attrTween(a,typeof c=="function"?(g.local?e9:Qk)(g,y,N6(this,"attr."+a,c)):c==null?(g.local?q6:Gs)(g):(g.local?ZA:ph)(g,y,c))},attrTween:function(a,c){var g="attr."+a;if(arguments.length<2)return(g=this.tween(g))&&g._value;if(c==null)return this.tween(g,null);if(typeof c!="function")throw new Error;var y=W2(a);return this.tween(g,(y.local?gh:hb)(y,c))},style:function(a,c,g){var y=(a+="")=="transform"?A6:db;return c==null?this.styleTween(a,function(_,S){var k,I,B;return function(){var N=lh(this,_),q=(this.style.removeProperty(_),lh(this,_));return N===q?null:N===k&&q===I?B:B=S(k=N,I=q)}}(a,y)).on("end.style."+a,Ud(a)):typeof c=="function"?this.styleTween(a,function(_,S,k){var I,B,N;return function(){var q=lh(this,_),re=k(this),ne=re+"";return re==null&&(this.style.removeProperty(_),ne=re=lh(this,_)),q===ne?null:q===I&&ne===B?N:(B=ne,N=S(I=q,re))}}(a,y,N6(this,"style."+a,c))).each(function(_,S){var k,I,B,N,q="style."+S,re="end."+q;return function(){var ne=dc(this,_),de=ne.on,Ae=ne.value[q]==null?N||(N=Ud(S)):void 0;de===k&&B===Ae||(I=(k=de).copy()).on(re,B=Ae),ne.on=I}}(this._id,a)):this.styleTween(a,function(_,S,k){var I,B,N=k+"";return function(){var q=lh(this,_);return q===N?null:q===I?B:B=S(I=q,k)}}(a,y,c),g).on("end.style."+a,null)},styleTween:function(a,c,g){var y="style."+(a+="");if(arguments.length<2)return(y=this.tween(y))&&y._value;if(c==null)return this.tween(y,null);if(typeof c!="function")throw new Error;return this.tween(y,o9(a,c,g==null?"":g))},text:function(a){return this.tween("text",typeof a=="function"?function(c){return function(){var g=c(this);this.textContent=g==null?"":g}}(N6(this,"text",a)):function(c){return function(){this.textContent=c}}(a==null?"":a+""))},textTween:function(a){var c="text";if(arguments.length<1)return(c=this.tween(c))&&c._value;if(a==null)return this.tween(c,null);if(typeof a!="function")throw new Error;return this.tween(c,QA(a))},remove:function(){return this.on("end.remove",function(a){return function(){var c=this.parentNode;for(var g in this.__transition)if(+g!==a)return;c&&c.removeChild(this)}}(this._id))},tween:function(a,c){var g=this._id;if(a+="",arguments.length<2){for(var y,_=fc(this.node(),g).tween,S=0,k=_.length;S<k;++S)if((y=_[S]).name===a)return y.value;return null}return this.each((c==null?D6:Kk)(g,a,c))},delay:function(a){var c=this._id;return arguments.length?this.each((typeof a=="function"?t9:n9)(c,a)):fc(this.node(),c).delay},duration:function(a){var c=this._id;return arguments.length?this.each((typeof a=="function"?mh:S0)(c,a)):fc(this.node(),c).duration},ease:function(a){var c=this._id;return arguments.length?this.each(x0(c,a)):fc(this.node(),c).ease},easeVarying:function(a){if(typeof a!="function")throw new Error;return this.each(function(c,g){return function(){var y=g.apply(this,arguments);if(typeof y!="function")throw new Error;dc(this,c).ease=y}}(this._id,a))},end:function(){var a,c,g=this,y=g._id,_=g.size();return new Promise(function(S,k){var I={value:k},B={value:function(){--_==0&&S()}};g.each(function(){var N=dc(this,y),q=N.on;q!==a&&((c=(a=q).copy())._.cancel.push(I),c._.interrupt.push(I),c._.end.push(B)),N.on=c}),_===0&&S()})},[Symbol.iterator]:Du[Symbol.iterator]};var tP={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};function c9(a,c){for(var g;!(g=a.__transition)||!(g=g[c]);)if(!(a=a.parentNode))throw new Error(`transition ${c} not found`);return g}function Nu(a,c,g){this.k=a,this.x=c,this.y=g}eb.prototype.interrupt=function(a){return this.each(function(){(function(c,g){var y,_,S,k=c.__transition,I=!0;if(k){for(S in g=g==null?null:g+"",k)(y=k[S]).name===g?(_=y.state>2&&y.state<5,y.state=6,y.timer.stop(),y.on.call(_?"interrupt":"cancel",c,c.__data__,y.index,y.group),delete k[S]):I=!1;I&&delete c.__transition}})(this,a)})},eb.prototype.transition=function(a){var c,g;a instanceof Pu?(c=a._id,a=a._name):(c=l9(),(g=tP).time=R6(),a=a==null?null:a+"");for(var y=this._groups,_=y.length,S=0;S<_;++S)for(var k,I=y[S],B=I.length,N=0;N<B;++N)(k=I[N])&&g0(k,a,c,N,I,g||c9(k,c));return new Pu(y,this._parents,a,c)},Nu.prototype={constructor:Nu,scale:function(a){return a===1?this:new Nu(this.k*a,this.x,this.y)},translate:function(a,c){return a===0&c===0?this:new Nu(this.k,this.x+this.k*a,this.y+this.k*c)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Nu(1,0,0),Nu.prototype;var u9="comm",V6="rule",G6="decl",nP=Math.abs,pb=String.fromCharCode;function W6(a){return a.trim()}function Y6(a,c,g){return a.replace(c,g)}function d9(a,c){return a.indexOf(c)}function y1(a,c){return 0|a.charCodeAt(c)}function v1(a,c,g){return a.slice(c,g)}function hc(a){return a.length}function k0(a){return a.length}function T0(a,c){return c.push(a),a}function Bu(a,c){for(var g="",y=k0(a),_=0;_<y;_++)g+=c(a[_],_,a,c)||"";return g}function C0(a,c,g,y){switch(a.type){case"@import":case G6:return a.return=a.return||a.value;case u9:return"";case"@keyframes":return a.return=a.value+"{"+Bu(a.children,y)+"}";case V6:a.value=a.props.join(",")}return hc(g=Bu(a.children,y))?a.return=a.value+"{"+g+"}":""}var Hd=1,yh=1,X6=0,lo=0,Rs=0,vh="";function gb(a,c,g,y,_,S,k){return{value:a,root:c,parent:g,type:y,props:_,children:S,line:Hd,column:yh,length:k,return:""}}function rP(){return Rs=lo>0?y1(vh,--lo):0,yh--,Rs===10&&(yh=1,Hd--),Rs}function pc(){return Rs=lo<X6?y1(vh,lo++):0,yh++,Rs===10&&(yh=1,Hd++),Rs}function bh(){return y1(vh,lo)}function mb(){return lo}function yb(a,c){return v1(vh,a,c)}function Z6(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vb(a){return W6(yb(lo-1,I0(a===91?a+2:a===40?a+1:a)))}function bb(a){for(;(Rs=bh())&&Rs<33;)pc();return Z6(a)>2||Z6(Rs)>3?"":" "}function iP(a,c){for(;--c&&pc()&&!(Rs<48||Rs>102||Rs>57&&Rs<65||Rs>70&&Rs<97););return yb(a,mb()+(c<6&&bh()==32&&pc()==32))}function I0(a){for(;pc();)switch(Rs){case a:return lo;case 34:case 39:a!==34&&a!==39&&I0(Rs);break;case 40:a===41&&I0(a);break;case 92:pc()}return lo}function _h(a,c){for(;pc()&&a+Rs!==57&&(a+Rs!==84||bh()!==47););return"/*"+yb(c,lo-1)+"*"+pb(a===47?a:pc())}function sP(a){for(;!Z6(bh());)pc();return yb(a,lo)}function J6(a){return function(c){return vh="",c}(b1("",null,null,null,[""],a=function(c){return Hd=yh=1,X6=hc(vh=c),lo=0,[]}(a),0,[0],a))}function b1(a,c,g,y,_,S,k,I,B){for(var N=0,q=0,re=k,ne=0,de=0,Ae=0,ke=1,Ue=1,$e=1,We=0,Je="",ct=_,wt=S,et=y,Ct=Je;Ue;)switch(Ae=We,We=pc()){case 40:if(Ae!=108&&Ct.charCodeAt(re-1)==58){d9(Ct+=Y6(vb(We),"&","&\f"),"&\f")!=-1&&($e=-1);break}case 34:case 39:case 91:Ct+=vb(We);break;case 9:case 10:case 13:case 32:Ct+=bb(Ae);break;case 92:Ct+=iP(mb()-1,7);continue;case 47:switch(bh()){case 42:case 47:T0(f9(_h(pc(),mb()),c,g),B);break;default:Ct+="/"}break;case 123*ke:I[N++]=hc(Ct)*$e;case 125*ke:case 59:case 0:switch(We){case 0:case 125:Ue=0;case 59+q:de>0&&hc(Ct)-re&&T0(de>32?wh(Ct+";",y,g,re-1):wh(Y6(Ct," ","")+";",y,g,re-2),B);break;case 59:Ct+=";";default:if(T0(et=_1(Ct,c,g,N,q,_,I,Je,ct=[],wt=[],re),S),We===123)if(q===0)b1(Ct,c,et,et,ct,S,re,I,wt);else switch(ne){case 100:case 109:case 115:b1(a,et,et,y&&T0(_1(a,et,et,0,0,_,I,Je,_,ct=[],re),wt),_,wt,re,I,y?ct:wt);break;default:b1(Ct,et,et,et,[""],wt,0,I,wt)}}N=q=de=0,ke=$e=1,Je=Ct="",re=k;break;case 58:re=1+hc(Ct),de=Ae;default:if(ke<1){if(We==123)--ke;else if(We==125&&ke++==0&&rP()==125)continue}switch(Ct+=pb(We),We*ke){case 38:$e=q>0?1:(Ct+="\f",-1);break;case 44:I[N++]=(hc(Ct)-1)*$e,$e=1;break;case 64:bh()===45&&(Ct+=vb(pc())),ne=bh(),q=re=hc(Je=Ct+=sP(mb())),We++;break;case 45:Ae===45&&hc(Ct)==2&&(ke=0)}}return S}function _1(a,c,g,y,_,S,k,I,B,N,q){for(var re=_-1,ne=_===0?S:[""],de=k0(ne),Ae=0,ke=0,Ue=0;Ae<y;++Ae)for(var $e=0,We=v1(a,re+1,re=nP(ke=k[Ae])),Je=a;$e<de;++$e)(Je=W6(ke>0?ne[$e]+" "+We:Y6(We,/&\f/g,ne[$e])))&&(B[Ue++]=Je);return gb(a,c,g,_===0?V6:I,B,N,q)}function f9(a,c,g){return gb(a,c,g,u9,pb(Rs),v1(a,2,-2),0)}function wh(a,c,g,y){return gb(a,c,g,G6,v1(a,0,y),v1(a,y+1,-1),y)}const _b="8.14.0";var Eh=n(9609),wb=n(7856),Q6=n.n(wb),e4=function(a){var c=a.replace(/\\u[\dA-F]{4}/gi,function(g){return String.fromCharCode(parseInt(g.replace(/\\u/g,""),16))});return c=(c=(c=c.replace(/\\x([0-9a-f]{2})/gi,function(g,y){return String.fromCharCode(parseInt(y,16))})).replace(/\\[\d\d\d]{3}/gi,function(g){return String.fromCharCode(parseInt(g.replace(/\\/g,""),8))})).replace(/\\[\d\d\d]{2}/gi,function(g){return String.fromCharCode(parseInt(g.replace(/\\/g,""),8))})},Ws=function(a){for(var c="",g=0;g>=0;){if(!((g=a.indexOf("<script"))>=0)){c+=a,g=-1;break}c+=a.substr(0,g),(g=(a=a.substr(g+1)).indexOf("<\/script>"))>=0&&(g+=9,a=a.substr(g))}var y=e4(c);return(y=(y=(y=y.replace(/script>/gi,"#")).replace(/javascript:/gi,"#")).replace(/onerror=/gi,"onerror:")).replace(/<iframe/gi,"")},Sh=function(a,c){if(!a)return a;var g=Q6().sanitize(function(y,_){var S=y,k=!0;if(!_.flowchart||_.flowchart.htmlLabels!==!1&&_.flowchart.htmlLabels!=="false"||(k=!1),k){var I=_.securityLevel;I==="antiscript"||I==="strict"?S=Ws(S):I!=="loose"&&(S=(S=(S=h9(S)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),S=gi(S))}return S}(a,c));return g},Eb=/<br\s*\/?>/gi,gi=function(a){return a.replace(/#br#/g,"<br/>")},h9=function(a){return a.replace(Eb,"#br#")},Ms=function(a){return a!=="false"&&a!==!1};const Kr={getRows:function(a){if(!a)return 1;var c=h9(a);return(c=c.replace(/\\n/g,"#br#")).split("#br#")},sanitizeText:Sh,sanitizeTextOrArray:function(a,c){return typeof a=="string"?Sh(a,c):a.flat().map(function(g){return Sh(g,c)})},hasBreaks:function(a){return Eb.test(a)},splitBreaks:function(a){return a.split(Eb)},lineBreakRegex:Eb,removeScript:Ws,getUrl:function(a){var c="";return a&&(c=(c=(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),c},evaluate:Ms,removeEscapes:e4};var Zt=n(8613),Ho=function(a,c){return c?(0,Zt.adjust)(a,{s:-40,l:10}):(0,Zt.adjust)(a,{s:-40,l:-10})};function t4(a){return t4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t4(a)}function oP(a,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var aP=function(){function a(){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}var c,g;return c=a,g=[{key:"updateColors",value:function(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#ddd":"#333"),this.secondaryColor=this.secondaryColor||(0,Zt.adjust)(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||(0,Zt.adjust)(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ho(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ho(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ho(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ho(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||(0,Zt.invert)(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||(0,Zt.invert)(this.tertiaryColor),this.lineColor=this.lineColor||(0,Zt.invert)(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,Zt.darken)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,Zt.darken)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||(0,Zt.invert)(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,Zt.lighten)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||(0,Zt.adjust)(this.primaryColor,{h:64}),this.fillType3=this.fillType3||(0,Zt.adjust)(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||(0,Zt.adjust)(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||(0,Zt.adjust)(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||(0,Zt.adjust)(this.primaryColor,{h:128}),this.fillType7=this.fillType7||(0,Zt.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,Zt.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,Zt.adjust)(this.secondaryColor,{l:-10}),this.pie6=this.pie6||(0,Zt.adjust)(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||(0,Zt.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,Zt.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,Zt.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,Zt.adjust)(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||(0,Zt.adjust)(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||(0,Zt.adjust)(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,Zt.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(y){var _=this;if(t4(y)==="object"){var S=Object.keys(y);S.forEach(function(k){_[k]=y[k]}),this.updateColors(),S.forEach(function(k){_[k]=y[k]})}else this.updateColors()}}],g&&oP(c.prototype,g),Object.defineProperty(c,"prototype",{writable:!1}),a}();function Sb(a){return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Sb(a)}function p9(a,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var lP=function(){function a(){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,Zt.lighten)(this.primaryColor,16),this.tertiaryColor=(0,Zt.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=Ho(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ho(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ho(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,Zt.invert)(this.primaryColor),this.secondaryTextColor=(0,Zt.invert)(this.secondaryColor),this.tertiaryTextColor=(0,Zt.invert)(this.tertiaryColor),this.lineColor=(0,Zt.invert)(this.background),this.textColor=(0,Zt.invert)(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,Zt.lighten)((0,Zt.invert)("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=(0,Zt.rgba)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,Zt.darken)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=(0,Zt.rgba)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,Zt.rgba)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}var c,g;return c=a,g=[{key:"updateColors",value:function(){this.secondBkg=(0,Zt.lighten)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,Zt.lighten)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,Zt.lighten)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,Zt.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,Zt.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,Zt.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,Zt.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,Zt.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,Zt.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#0b0000",this.pie2=this.pie2||"#4d1037",this.pie3=this.pie3||"#3f5258",this.pie4=this.pie4||"#4f2f1b",this.pie5=this.pie5||"#6e0a0a",this.pie6=this.pie6||"#3b0048",this.pie7=this.pie7||"#995a01",this.pie8=this.pie8||"#154706",this.pie9=this.pie9||"#161722",this.pie10=this.pie10||"#00296f",this.pie11=this.pie11||"#01629c",this.pie12=this.pie12||"#010029",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,Zt.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(y){var _=this;if(Sb(y)==="object"){var S=Object.keys(y);S.forEach(function(k){_[k]=y[k]}),this.updateColors(),S.forEach(function(k){_[k]=y[k]})}else this.updateColors()}}],g&&p9(c.prototype,g),Object.defineProperty(c,"prototype",{writable:!1}),a}();function n4(a){return n4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n4(a)}function cP(a,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var g9=function(){function a(){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=(0,Zt.adjust)(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=(0,Zt.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=Ho(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ho(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ho(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,Zt.invert)(this.primaryColor),this.secondaryTextColor=(0,Zt.invert)(this.secondaryColor),this.tertiaryTextColor=(0,Zt.invert)(this.tertiaryColor),this.lineColor=(0,Zt.invert)(this.background),this.textColor=(0,Zt.invert)(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=(0,Zt.rgba)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}var c,g;return c=a,g=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,Zt.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,Zt.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,Zt.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,Zt.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,Zt.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,Zt.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,Zt.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||(0,Zt.adjust)(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||(0,Zt.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,Zt.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,Zt.adjust)(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||(0,Zt.adjust)(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||(0,Zt.adjust)(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||(0,Zt.adjust)(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||(0,Zt.adjust)(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||(0,Zt.adjust)(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||(0,Zt.adjust)(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(y){var _=this;if(n4(y)==="object"){var S=Object.keys(y);S.forEach(function(k){_[k]=y[k]}),this.updateColors(),S.forEach(function(k){_[k]=y[k]})}else this.updateColors()}}],g&&cP(c.prototype,g),Object.defineProperty(c,"prototype",{writable:!1}),a}();function r4(a){return r4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},r4(a)}function m9(a,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var uP=function(){function a(){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,Zt.lighten)("#cde498",10),this.primaryBorderColor=Ho(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ho(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ho(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,Zt.invert)(this.primaryColor),this.secondaryTextColor=(0,Zt.invert)(this.secondaryColor),this.tertiaryTextColor=(0,Zt.invert)(this.primaryColor),this.lineColor=(0,Zt.invert)(this.background),this.textColor=(0,Zt.invert)(this.background),this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var c,g;return c=a,g=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=(0,Zt.darken)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,Zt.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,Zt.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,Zt.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,Zt.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,Zt.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,Zt.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,Zt.adjust)(this.primaryColor,{l:-30}),this.pie5=this.pie5||(0,Zt.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,Zt.adjust)(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||(0,Zt.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,Zt.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,Zt.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,Zt.adjust)(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||(0,Zt.adjust)(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||(0,Zt.adjust)(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(y){var _=this;if(r4(y)==="object"){var S=Object.keys(y);S.forEach(function(k){_[k]=y[k]}),this.updateColors(),S.forEach(function(k){_[k]=y[k]})}else this.updateColors()}}],g&&m9(c.prototype,g),Object.defineProperty(c,"prototype",{writable:!1}),a}();function i4(a){return i4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},i4(a)}function dP(a,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var fP=function(){function a(){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,Zt.lighten)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=(0,Zt.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=Ho(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ho(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ho(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,Zt.invert)(this.primaryColor),this.secondaryTextColor=(0,Zt.invert)(this.secondaryColor),this.tertiaryTextColor=(0,Zt.invert)(this.tertiaryColor),this.lineColor=(0,Zt.invert)(this.background),this.textColor=(0,Zt.invert)(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var c,g;return c=a,g=[{key:"updateColors",value:function(){this.secondBkg=(0,Zt.lighten)(this.contrast,55),this.border2=this.contrast,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=(0,Zt.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=(0,Zt.lighten)(this.contrast,30),this.sectionBkgColor2=(0,Zt.lighten)(this.contrast,30),this.taskBorderColor=(0,Zt.darken)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,Zt.lighten)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,Zt.darken)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,Zt.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,Zt.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,Zt.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,Zt.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,Zt.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,Zt.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#F4F4F4",this.pie2=this.pie2||"#555",this.pie3=this.pie3||"#BBB",this.pie4=this.pie4||"#777",this.pie5=this.pie5||"#999",this.pie6=this.pie6||"#DDD",this.pie7=this.pie7||"#FFF",this.pie8=this.pie8||"#DDD",this.pie9=this.pie9||"#BBB",this.pie10=this.pie10||"#999",this.pie11=this.pie11||"#777",this.pie12=this.pie12||"#555",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(y){var _=this;if(i4(y)==="object"){var S=Object.keys(y);S.forEach(function(k){_[k]=y[k]}),this.updateColors(),S.forEach(function(k){_[k]=y[k]})}else this.updateColors()}}],g&&dP(c.prototype,g),Object.defineProperty(c,"prototype",{writable:!1}),a}();const w1={base:{getThemeVariables:function(a){var c=new aP;return c.calculate(a),c}},dark:{getThemeVariables:function(a){var c=new lP;return c.calculate(a),c}},default:{getThemeVariables:function(a){var c=new g9;return c.calculate(a),c}},forest:{getThemeVariables:function(a){var c=new uP;return c.calculate(a),c}},neutral:{getThemeVariables:function(a){var c=new fP;return c.calculate(a),c}}};function s4(a){return function(c){if(Array.isArray(c))return o4(c)}(a)||function(c){if(typeof Symbol!="undefined"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(a)||function(c,g){if(c){if(typeof c=="string")return o4(c,g);var y=Object.prototype.toString.call(c).slice(8,-1);return y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set"?Array.from(c):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?o4(c,g):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o4(a,c){(c==null||c>a.length)&&(c=a.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=a[g];return y}function xb(a){return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},xb(a)}var E1={theme:"default",themeVariables:w1.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-d3"},sequence:{activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open-Sans", "sans-serif"',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open-Sans", "sans-serif"',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},git:{arrowMarkerAbsolute:!1,useWidth:void 0,useMaxWidth:!0},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20}};E1.class.arrowMarkerAbsolute=E1.arrowMarkerAbsolute,E1.git.arrowMarkerAbsolute=E1.arrowMarkerAbsolute;var hP=function a(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.keys(c).reduce(function(y,_){return Array.isArray(c[_])?y:xb(c[_])==="object"&&c[_]!==null?[].concat(s4(y),[g+_],s4(a(c[_],""))):[].concat(s4(y),[g+_])},[])}(E1,"");const pP=E1;var y9=void 0;function gP(a,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}function v9(a,c){var g=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!g){if(Array.isArray(a)||(g=_9(a))||c&&a&&typeof a.length=="number"){g&&(a=g);var y=0,_=function(){};return{s:_,n:function(){return y>=a.length?{done:!0}:{done:!1,value:a[y++]}},e:function(B){throw B},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,k=!0,I=!1;return{s:function(){g=g.call(a)},n:function(){var B=g.next();return k=B.done,B},e:function(B){I=!0,S=B},f:function(){try{k||g.return==null||g.return()}finally{if(I)throw S}}}}function Dl(a){return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Dl(a)}function b9(a){return function(c){if(Array.isArray(c))return a4(c)}(a)||function(c){if(typeof Symbol!="undefined"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(a)||_9(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _9(a,c){if(a){if(typeof a=="string")return a4(a,c);var g=Object.prototype.toString.call(a).slice(8,-1);return g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set"?Array.from(a):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?a4(a,c):void 0}}function a4(a,c){(c==null||c>a.length)&&(c=a.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=a[g];return y}var R0,mP={curveBasis:Lu,curveBasisClosed:function(a){return new Am(a)},curveBasisOpen:function(a){return new Pm(a)},curveLinear:pi,curveLinearClosed:function(a){return new Dm(a)},curveMonotoneX:function(a){return new e1(a)},curveMonotoneY:function(a){return new p2(a)},curveNatural:function(a){return new j5(a)},curveStep:function(a){return new oo(a,.5)},curveStepAfter:function(a){return new oo(a,1)},curveStepBefore:function(a){return new oo(a,0)}},kb=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,yP=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,vP=/\s*%%.*\n/gm,w9=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{var g=new RegExp("[%]{2}(?![{]".concat(yP.source,`)(?=[}][%]{2}).*
`),"ig");a=a.trim().replace(g,"").replace(/'/gm,'"'),o.debug("Detecting diagram directive".concat(c!==null?" type:"+c:""," based on the text:").concat(a));for(var y,_=[];(y=kb.exec(a))!==null;)if(y.index===kb.lastIndex&&kb.lastIndex++,y&&!c||c&&y[1]&&y[1].match(c)||c&&y[2]&&y[2].match(c)){var S=y[1]?y[1]:y[2],k=y[3]?y[3].trim():y[4]?JSON.parse(y[4].trim()):null;_.push({type:S,args:k})}return _.length===0&&_.push({type:a,args:null}),_.length===1?_[0]:_}catch(I){return o.error("ERROR: ".concat(I.message,` - Unable to parse directive
      `).concat(c!==null?" type:"+c:""," based on the text:").concat(a)),{type:null,args:null}}},E9=function(a,c){return(a=a.replace(kb,"").replace(vP,`
`)).match(/^\s*sequenceDiagram/)?"sequence":a.match(/^\s*gantt/)?"gantt":a.match(/^\s*classDiagram-v2/)?"classDiagram":a.match(/^\s*classDiagram/)?c&&c.class&&c.class.defaultRenderer==="dagre-wrapper"?"classDiagram":"class":a.match(/^\s*stateDiagram-v2/)?"stateDiagram":a.match(/^\s*stateDiagram/)?c&&c.class&&c.state.defaultRenderer==="dagre-wrapper"?"stateDiagram":"state":a.match(/^\s*gitGraph/)?"git":a.match(/^\s*flowchart/)?"flowchart-v2":a.match(/^\s*info/)?"info":a.match(/^\s*pie/)?"pie":a.match(/^\s*erDiagram/)?"er":a.match(/^\s*journey/)?"journey":a.match(/^\s*requirement/)||a.match(/^\s*requirementDiagram/)?"requirement":c&&c.flowchart&&c.flowchart.defaultRenderer==="dagre-wrapper"?"flowchart-v2":"flowchart"},Tb=function(a,c){var g={};return function(){for(var y=arguments.length,_=new Array(y),S=0;S<y;S++)_[S]=arguments[S];var k=c?c.apply(y9,_):_[0];if(k in g)return g[k];var I=a.apply(void 0,_);return g[k]=I,I}},gc=function(a,c){if(!a)return c;var g="curve".concat(a.charAt(0).toUpperCase()+a.slice(1));return mP[g]||c},xh=function(a,c){return a&&c?Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2)):0},jd=function(a){for(var c="",g="",y=0;y<a.length;y++)a[y]!==void 0&&(a[y].startsWith("color:")||a[y].startsWith("text-align:")?g=g+a[y]+";":c=c+a[y]+";");return{style:c,labelStyle:g}},S9=0,x9=function(){return S9++,"id-"+Math.random().toString(36).substr(2,12)+"-"+S9},l4=function(a){return function(c){for(var g="",y="0123456789abcdef",_=y.length,S=0;S<c;S++)g+=y.charAt(Math.floor(Math.random()*_));return g}(a.length)},co=function a(c,g,y){var _=Object.assign({depth:2,clobber:!1},y),S=_.depth,k=_.clobber;return Array.isArray(g)&&!Array.isArray(c)?(g.forEach(function(I){return a(c,I,y)}),c):Array.isArray(g)&&Array.isArray(c)?(g.forEach(function(I){c.indexOf(I)===-1&&c.push(I)}),c):c===void 0||S<=0?c!=null&&Dl(c)==="object"&&Dl(g)==="object"?Object.assign(c,g):g:(g!==void 0&&Dl(c)==="object"&&Dl(g)==="object"&&Object.keys(g).forEach(function(I){Dl(g[I])!=="object"||c[I]!==void 0&&Dl(c[I])!=="object"?(k||Dl(c[I])!=="object"&&Dl(g[I])!=="object")&&(c[I]=g[I]):(c[I]===void 0&&(c[I]=Array.isArray(g[I])?[]:{}),c[I]=a(c[I],g[I],{depth:S-1,clobber:k}))}),c)},bP=function(a,c){var g=c.text.replace(Kr.lineBreakRegex," "),y=a.append("text");y.attr("x",c.x),y.attr("y",c.y),y.style("text-anchor",c.anchor),y.style("font-family",c.fontFamily),y.style("font-size",c.fontSize),y.style("font-weight",c.fontWeight),y.attr("fill",c.fill),c.class!==void 0&&y.attr("class",c.class);var _=y.append("tspan");return _.attr("x",c.x+2*c.textMargin),_.attr("fill",c.fill),_.text(g),y},_P=Tb(function(a,c,g){if(!a||(g=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},g),Kr.lineBreakRegex.test(a)))return a;var y=a.split(" "),_=[],S="";return y.forEach(function(k,I){var B=Cb("".concat(k," "),g),N=Cb(S,g);if(B>c){var q=wP(k,c,"-",g),re=q.hyphenatedStrings,ne=q.remainingWord;_.push.apply(_,[S].concat(b9(re))),S=ne}else N+B>=c?(_.push(S),S=k):S=[S,k].filter(Boolean).join(" ");I+1===y.length&&_.push(S)}),_.filter(function(k){return k!==""}).join(g.joinWith)},function(a,c,g){return"".concat(a,"-").concat(c,"-").concat(g.fontSize,"-").concat(g.fontWeight,"-").concat(g.fontFamily,"-").concat(g.joinWith)}),wP=Tb(function(a,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"-",y=arguments.length>3?arguments[3]:void 0;y=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},y);var _=a.split(""),S=[],k="";return _.forEach(function(I,B){var N="".concat(k).concat(I);if(Cb(N,y)>=c){var q=B+1,re=_.length===q,ne="".concat(N).concat(g);S.push(re?N:ne),k=""}else k=N}),{hyphenatedStrings:S,remainingWord:k}},function(a,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"-",y=arguments.length>3?arguments[3]:void 0;return"".concat(a,"-").concat(c,"-").concat(g,"-").concat(y.fontSize,"-").concat(y.fontWeight,"-").concat(y.fontFamily)}),Cb=function(a,c){return c=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},c),c4(a,c).width},c4=Tb(function(a,c){var g=c=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},c),y=g.fontSize,_=g.fontFamily,S=g.fontWeight;if(!a)return{width:0,height:0};var k=["sans-serif",_],I=a.split(Kr.lineBreakRegex),B=[],N=jn("body");if(!N.remove)return{width:0,height:0,lineHeight:0};for(var q=N.append("svg"),re=0,ne=k;re<ne.length;re++){var de,Ae=ne[re],ke=0,Ue={width:0,height:0,lineHeight:0},$e=v9(I);try{for($e.s();!(de=$e.n()).done;){var We=de.value,Je={x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0};Je.text=We;var ct=bP(q,Je).style("font-size",y).style("font-weight",S).style("font-family",Ae),wt=(ct._groups||ct)[0][0].getBBox();Ue.width=Math.round(Math.max(Ue.width,wt.width)),ke=Math.round(wt.height),Ue.height+=ke,Ue.lineHeight=Math.round(Math.max(Ue.lineHeight,ke))}}catch(et){$e.e(et)}finally{$e.f()}B.push(Ue)}return q.remove(),B[isNaN(B[1].height)||isNaN(B[1].width)||isNaN(B[1].lineHeight)||B[0].height>B[1].height&&B[0].width>B[1].width&&B[0].lineHeight>B[1].lineHeight?0:1]},function(a,c){return"".concat(a,"-").concat(c.fontSize,"-").concat(c.fontWeight,"-").concat(c.fontFamily)}),u4=function(a,c,g){var y=new Map;return y.set("height",a),g?(y.set("width","100%"),y.set("style","max-width: ".concat(c,"px;"))):y.set("width",c),y},dl=function(a,c,g,y){(function(_,S){var k,I=v9(S);try{for(I.s();!(k=I.n()).done;){var B=k.value;_.attr(B[0],B[1])}}catch(N){I.e(N)}finally{I.f()}})(a,u4(c,g,y))},Ib=function a(c){o.debug("directiveSanitizer called with",c),Dl(c)==="object"&&(c.length?c.forEach(function(g){return a(g)}):Object.keys(c).forEach(function(g){o.debug("Checking key",g),g.indexOf("__")===0&&(o.debug("sanitize deleting __ option",g),delete c[g]),g.indexOf("proto")>=0&&(o.debug("sanitize deleting proto option",g),delete c[g]),g.indexOf("constr")>=0&&(o.debug("sanitize deleting constr option",g),delete c[g]),g.indexOf("themeCSS")>=0&&(o.debug("sanitizing themeCss option"),c[g]=k9(c[g])),hP.indexOf(g)<0?(o.debug("sanitize deleting option",g),delete c[g]):Dl(c[g])==="object"&&(o.debug("sanitize deleting object",g),a(c[g]))}))},k9=function(a){return(a.match(/\{/g)||[]).length!==(a.match(/\}/g)||[]).length?"{ /* ERROR: Unbalanced CSS */ }":a};const Dr={assignWithDepth:co,wrapLabel:_P,calculateTextHeight:function(a,c){return c=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},c),c4(a,c).height},calculateTextWidth:Cb,calculateTextDimensions:c4,calculateSvgSizeAttrs:u4,configureSvgSize:dl,detectInit:function(a,c){var g=w9(a,/(?:init\b)|(?:initialize\b)/),y={};if(Array.isArray(g)){var _=g.map(function(k){return k.args});Ib(_),y=co(y,b9(_))}else y=g.args;if(y){var S=E9(a,c);["config"].forEach(function(k){y[k]!==void 0&&(S==="flowchart-v2"&&(S="flowchart"),y[S]=y[k],delete y[k])})}return y},detectDirective:w9,detectType:E9,isSubstringInArray:function(a,c){for(var g=0;g<c.length;g++)if(c[g].match(a))return g;return-1},interpolateToCurve:gc,calcLabelPosition:function(a){return function(c){var g,y=0;c.forEach(function(k){y+=xh(k,g),g=k});var _=y/2,S=void 0;return g=void 0,c.forEach(function(k){if(g&&!S){var I=xh(k,g);if(I<_)_-=I;else{var B=_/I;B<=0&&(S=g),B>=1&&(S={x:k.x,y:k.y}),B>0&&B<1&&(S={x:(1-B)*g.x+B*k.x,y:(1-B)*g.y+B*k.y})}}g=k}),S}(a)},calcCardinalityPosition:function(a,c,g){var y;o.info("our points",c),c[0]!==g&&(c=c.reverse()),c.forEach(function(N){xh(N,y),y=N});var _,S=25;y=void 0,c.forEach(function(N){if(y&&!_){var q=xh(N,y);if(q<S)S-=q;else{var re=S/q;re<=0&&(_=y),re>=1&&(_={x:N.x,y:N.y}),re>0&&re<1&&(_={x:(1-re)*y.x+re*N.x,y:(1-re)*y.y+re*N.y})}}y=N});var k=a?10:5,I=Math.atan2(c[0].y-_.y,c[0].x-_.x),B={x:0,y:0};return B.x=Math.sin(I)*k+(c[0].x+_.x)/2,B.y=-Math.cos(I)*k+(c[0].y+_.y)/2,B},calcTerminalLabelPosition:function(a,c,g){var y,_=JSON.parse(JSON.stringify(g));o.info("our points",_),c!=="start_left"&&c!=="start_right"&&(_=_.reverse()),_.forEach(function(q){xh(q,y),y=q});var S,k=25+a;y=void 0,_.forEach(function(q){if(y&&!S){var re=xh(q,y);if(re<k)k-=re;else{var ne=k/re;ne<=0&&(S=y),ne>=1&&(S={x:q.x,y:q.y}),ne>0&&ne<1&&(S={x:(1-ne)*y.x+ne*q.x,y:(1-ne)*y.y+ne*q.y})}}y=q});var I=10+.5*a,B=Math.atan2(_[0].y-S.y,_[0].x-S.x),N={x:0,y:0};return N.x=Math.sin(B)*I+(_[0].x+S.x)/2,N.y=-Math.cos(B)*I+(_[0].y+S.y)/2,c==="start_left"&&(N.x=Math.sin(B+Math.PI)*I+(_[0].x+S.x)/2,N.y=-Math.cos(B+Math.PI)*I+(_[0].y+S.y)/2),c==="end_right"&&(N.x=Math.sin(B-Math.PI)*I+(_[0].x+S.x)/2-5,N.y=-Math.cos(B-Math.PI)*I+(_[0].y+S.y)/2-5),c==="end_left"&&(N.x=Math.sin(B)*I+(_[0].x+S.x)/2-5,N.y=-Math.cos(B)*I+(_[0].y+S.y)/2-5),N},formatUrl:function(a,c){var g=a.trim();if(g)return c.securityLevel!=="loose"?(0,Eh.sanitizeUrl)(g):g},getStylesFromArray:jd,generateId:x9,random:l4,memoize:Tb,runFunc:function(a){for(var c,g=a.split("."),y=g.length-1,_=g[y],S=window,k=0;k<y;k++)if(!(S=S[g[k]]))return;for(var I=arguments.length,B=new Array(I>1?I-1:0),N=1;N<I;N++)B[N-1]=arguments[N];(c=S)[_].apply(c,B)},entityDecode:function(a){return R0=R0||document.createElement("div"),a=escape(a).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),R0.innerHTML=a,unescape(R0.textContent)},initIdGeneratior:function(){function a(y,_){(function(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")})(this,a),this.deterministic=y,this.seed=_,this.count=_?_.length:0}var c,g;return c=a,(g=[{key:"next",value:function(){return this.deterministic?this.count++:Date.now()}}])&&gP(c.prototype,g),Object.defineProperty(c,"prototype",{writable:!1}),a}(),directiveSanitizer:Ib,sanitizeCss:k9};function d4(a){return d4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},d4(a)}var T9,M0=Object.freeze(pP),uo=co({},M0),S1=[],O0=co({},M0),L0=function(a,c){for(var g=co({},a),y={},_=0;_<c.length;_++){var S=c[_];EP(S),y=co(y,S)}if(g=co(g,y),y.theme){var k=co({},T9),I=co(k.themeVariables||{},y.themeVariables);g.themeVariables=w1[g.theme].getThemeVariables(I)}return O0=g,g},f4=function(){return co({},uo)},xt=function(){return co({},O0)},EP=function a(c){Object.keys(uo.secure).forEach(function(g){c[uo.secure[g]]!==void 0&&(o.debug("Denied attempt to modify a secure key ".concat(uo.secure[g]),c[uo.secure[g]]),delete c[uo.secure[g]])}),Object.keys(c).forEach(function(g){g.indexOf("__")===0&&delete c[g]}),Object.keys(c).forEach(function(g){typeof c[g]=="string"&&(c[g].indexOf("<")>-1||c[g].indexOf(">")>-1||c[g].indexOf("url(data:")>-1)&&delete c[g],d4(c[g])==="object"&&a(c[g])})},C9=function(a){a.fontFamily&&(a.themeVariables&&a.themeVariables.fontFamily||(a.themeVariables={fontFamily:a.fontFamily})),S1.push(a),L0(uo,S1)},x1=function(){L0(uo,S1=[])};function h4(a,c){(c==null||c>a.length)&&(c=a.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=a[g];return y}var Rb="classid-",Mb=[],Ys={},p4=0,A0=[],P0=function(a){return Kr.sanitizeText(a,xt())},k1=function(a){var c="",g=a;if(a.indexOf("~")>0){var y=a.split("~");g=y[0],c=Kr.sanitizeText(y[1],xt())}return{className:g,type:c}},Ob=function(a){var c=k1(a);Ys[c.className]===void 0&&(Ys[c.className]={id:c.className,type:c.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Rb+c.className+"-"+p4},p4++)},Lb=function(a){for(var c=Object.keys(Ys),g=0;g<c.length;g++)if(Ys[c[g]].id===a)return Ys[c[g]].domId},I9=function(a,c){var g=k1(a).className,y=Ys[g];if(typeof c=="string"){var _=c.trim();_.startsWith("<<")&&_.endsWith(">>")?y.annotations.push(P0(_.substring(2,_.length-2))):_.indexOf(")")>0?y.methods.push(P0(_)):_&&y.members.push(P0(_))}},T1=function(a,c){a.split(",").forEach(function(g){var y=g;g[0].match(/\d/)&&(y=Rb+y),Ys[y]!==void 0&&Ys[y].cssClasses.push(c)})},Kd=function(a,c,g){var y=xt(),_=a,S=Lb(_);if(y.securityLevel==="loose"&&c!==void 0&&Ys[_]!==void 0){var k=[];if(typeof g=="string"){k=g.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var I=0;I<k.length;I++){var B=k[I].trim();B.charAt(0)==='"'&&B.charAt(B.length-1)==='"'&&(B=B.substr(1,B.length-2)),k[I]=B}}k.length===0&&k.push(S),A0.push(function(){var N=document.querySelector('[id="'.concat(S,'"]'));N!==null&&N.addEventListener("click",function(){var q;Dr.runFunc.apply(Dr,[c].concat(function(re){if(Array.isArray(re))return h4(re)}(q=k)||function(re){if(typeof Symbol!="undefined"&&re[Symbol.iterator]!=null||re["@@iterator"]!=null)return Array.from(re)}(q)||function(re,ne){if(re){if(typeof re=="string")return h4(re,ne);var de=Object.prototype.toString.call(re).slice(8,-1);return de==="Object"&&re.constructor&&(de=re.constructor.name),de==="Map"||de==="Set"?Array.from(re):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?h4(re,ne):void 0}}(q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))},!1)})}},C1={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},g4=function(a){var c=jn(".mermaidTooltip");(c._groups||c)[0][0]===null&&(c=jn("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),jn(a).select("svg").selectAll("g.node").on("mouseover",function(){var g=jn(this);if(g.attr("title")!==null){var y=this.getBoundingClientRect();c.transition().duration(200).style("opacity",".9"),c.html(g.attr("title")).style("left",window.scrollX+y.left+(y.right-y.left)/2+"px").style("top",window.scrollY+y.top-14+document.body.scrollTop+"px"),g.classed("hover",!0)}}).on("mouseout",function(){c.transition().duration(500).style("opacity",0),jn(this).classed("hover",!1)})};A0.push(g4);var m4="TB";const Nl={parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().class},addClass:Ob,bindFunctions:function(a){A0.forEach(function(c){c(a)})},clear:function(){Mb=[],Ys={},(A0=[]).push(g4)},getClass:function(a){return Ys[a]},getClasses:function(){return Ys},addAnnotation:function(a,c){var g=k1(a).className;Ys[g].annotations.push(c)},getRelations:function(){return Mb},addRelation:function(a){o.debug("Adding relation: "+JSON.stringify(a)),Ob(a.id1),Ob(a.id2),a.id1=k1(a.id1).className,a.id2=k1(a.id2).className,a.relationTitle1=Kr.sanitizeText(a.relationTitle1.trim(),xt()),a.relationTitle2=Kr.sanitizeText(a.relationTitle2.trim(),xt()),Mb.push(a)},getDirection:function(){return m4},setDirection:function(a){m4=a},addMember:I9,addMembers:function(a,c){Array.isArray(c)&&(c.reverse(),c.forEach(function(g){return I9(a,g)}))},cleanupLabel:function(a){return a.substring(0,1)===":"?Kr.sanitizeText(a.substr(1).trim(),xt()):P0(a.trim())},lineType:{LINE:0,DOTTED_LINE:1},relationType:C1,setClickEvent:function(a,c,g){a.split(",").forEach(function(y){Kd(y,c,g),Ys[y].haveCallback=!0}),T1(a,"clickable")},setCssClass:T1,setLink:function(a,c,g){var y=xt();a.split(",").forEach(function(_){var S=_;_[0].match(/\d/)&&(S=Rb+S),Ys[S]!==void 0&&(Ys[S].link=Dr.formatUrl(c,y),y.securityLevel==="sandbox"?Ys[S].linkTarget="_top":Ys[S].linkTarget=typeof g=="string"?P0(g):"_blank")}),T1(a,"clickable")},setTooltip:function(a,c){var g=xt();a.split(",").forEach(function(y){c!==void 0&&(Ys[y].tooltip=Kr.sanitizeText(c,g))})},lookUpDomId:Lb};var SP=n(681),I1=n.n(SP),Ab=n(8282),Ds=n.n(Ab),kh=n(1362),R9=n.n(kh),Pb=0,y4=function(a){var c=a.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),g=a.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return c&&!g?Nr(c):g?xP(g):kP(a)},Nr=function(a){var c="",g="";try{var y=a[1]?a[1].trim():"",_=a[2]?a[2].trim():"",S=a[3]?R1(a[3].trim()):"",k=a[4]?a[4].trim():"",I=a[5]?a[5].trim():"";g=y+_+S+" "+k,c=v4(I)}catch{g=a}return{displayText:g,cssStyle:c}},xP=function(a){var c="",g="";try{var y=a[1]?a[1].trim():"",_=a[2]?a[2].trim():"",S=a[3]?R1(a[3].trim()):"",k=a[4]?a[4].trim():"";g=y+_+"("+S+")"+(a[5]?" : "+R1(a[5]).trim():""),c=v4(k)}catch{g=a}return{displayText:g,cssStyle:c}},kP=function(a){var c="",g="",y="",_=a.indexOf("("),S=a.indexOf(")");if(_>1&&S>_&&S<=a.length){var k="",I="",B=a.substring(0,1);B.match(/\w/)?I=a.substring(0,_).trim():(B.match(/\+|-|~|#/)&&(k=B),I=a.substring(1,_).trim());var N=a.substring(_+1,S),q=a.substring(S+1,1);g=v4(q),c=k+I+"("+R1(N.trim())+")",S<0&&(y=a.substring(S+2).trim())!==""&&(y=" : "+R1(y))}else c=R1(a);return{displayText:c,cssStyle:g}},M9=function(a,c,g,y){var _=y4(c),S=a.append("tspan").attr("x",y.padding).text(_.displayText);_.cssStyle!==""&&S.attr("style",_.cssStyle),g||S.attr("dy",y.textHeight)},R1=function a(c){var g=c;return c.indexOf("~")!=-1?a(g=(g=g.replace("~","<")).replace("~",">")):g},v4=function(a){switch(a){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}};const TP=function(a,c,g){o.info("Rendering class "+c);var y,_=c.id,S={id:_,label:c.id,width:0,height:0},k=a.append("g").attr("id",Lb(_)).attr("class","classGroup");y=c.link?k.append("svg:a").attr("xlink:href",c.link).attr("target",c.linkTarget).append("text").attr("y",g.textHeight+g.padding).attr("x",0):k.append("text").attr("y",g.textHeight+g.padding).attr("x",0);var I=!0;c.annotations.forEach(function(Je){var ct=y.append("tspan").text("\xAB"+Je+"\xBB");I||ct.attr("dy",g.textHeight),I=!1});var B=c.id;c.type!==void 0&&c.type!==""&&(B+="<"+c.type+">");var N=y.append("tspan").text(B).attr("class","title");I||N.attr("dy",g.textHeight);var q=y.node().getBBox().height,re=k.append("line").attr("x1",0).attr("y1",g.padding+q+g.dividerMargin/2).attr("y2",g.padding+q+g.dividerMargin/2),ne=k.append("text").attr("x",g.padding).attr("y",q+g.dividerMargin+g.textHeight).attr("fill","white").attr("class","classText");I=!0,c.members.forEach(function(Je){M9(ne,Je,I,g),I=!1});var de=ne.node().getBBox(),Ae=k.append("line").attr("x1",0).attr("y1",g.padding+q+g.dividerMargin+de.height).attr("y2",g.padding+q+g.dividerMargin+de.height),ke=k.append("text").attr("x",g.padding).attr("y",q+2*g.dividerMargin+de.height+g.textHeight).attr("fill","white").attr("class","classText");I=!0,c.methods.forEach(function(Je){M9(ke,Je,I,g),I=!1});var Ue=k.node().getBBox(),$e=" ";c.cssClasses.length>0&&($e+=c.cssClasses.join(" "));var We=k.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",Ue.width+2*g.padding).attr("height",Ue.height+g.padding+.5*g.dividerMargin).attr("class",$e).node().getBBox().width;return y.node().childNodes.forEach(function(Je){Je.setAttribute("x",(We-Je.getBBox().width)/2)}),c.tooltip&&y.insert("title").text(c.tooltip),re.attr("x2",We),Ae.attr("x2",We),S.width=We,S.height=Ue.height+g.padding+.5*g.dividerMargin,S};kh.parser.yy=Nl;var b4={},Db={dividerMargin:10,padding:5,textHeight:10},Nb=function(a){var c=Object.entries(b4).find(function(g){return g[1].label===a});if(c)return c[0]};const O9=function(a){Object.keys(a).forEach(function(c){Db[c]=a[c]})},Ui=function(a,c){b4={},kh.parser.yy.clear(),kh.parser.parse(a),o.info("Rendering diagram "+a);var g,y=xt().securityLevel;y==="sandbox"&&(g=jn("#i"+c));var _,S=jn(y==="sandbox"?g.nodes()[0].contentDocument.body:"body"),k=(y==="sandbox"&&g.nodes()[0].contentDocument,S.select("[id='".concat(c,"']")));k.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),(_=k).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),_.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),_.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),_.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");var I=new(Ds()).Graph({multigraph:!0});I.setGraph({isMultiGraph:!0}),I.setDefaultEdgeLabel(function(){return{}});for(var B=Nl.getClasses(),N=Object.keys(B),q=0;q<N.length;q++){var re=B[N[q]],ne=TP(k,re,Db);b4[ne.id]=ne,I.setNode(ne.id,ne),o.info("Org height: "+ne.height)}Nl.getRelations().forEach(function($e){o.info("tjoho"+Nb($e.id1)+Nb($e.id2)+JSON.stringify($e)),I.setEdge(Nb($e.id1),Nb($e.id2),{relation:$e},$e.title||"DEFAULT")}),I1().layout(I),I.nodes().forEach(function($e){$e!==void 0&&I.node($e)!==void 0&&(o.debug("Node "+$e+": "+JSON.stringify(I.node($e))),S.select("#"+Lb($e)).attr("transform","translate("+(I.node($e).x-I.node($e).width/2)+","+(I.node($e).y-I.node($e).height/2)+" )"))}),I.edges().forEach(function($e){$e!==void 0&&I.edge($e)!==void 0&&(o.debug("Edge "+$e.v+" -> "+$e.w+": "+JSON.stringify(I.edge($e))),function(We,Je,ct,wt){var et=function(Kn){switch(Kn){case C1.AGGREGATION:return"aggregation";case C1.EXTENSION:return"extension";case C1.COMPOSITION:return"composition";case C1.DEPENDENCY:return"dependency"}};Je.points=Je.points.filter(function(Kn){return!Number.isNaN(Kn.y)});var Ct,It,Xe=Je.points,at=Jf().x(function(Kn){return Kn.x}).y(function(Kn){return Kn.y}).curve(Lu),tt=We.append("path").attr("d",at(Xe)).attr("id","edge"+Pb).attr("class","relation"),He="";wt.arrowMarkerAbsolute&&(He=(He=(He=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),ct.relation.lineType==1&&tt.attr("class","relation dashed-line"),ct.relation.type1!=="none"&&tt.attr("marker-start","url("+He+"#"+et(ct.relation.type1)+"Start)"),ct.relation.type2!=="none"&&tt.attr("marker-end","url("+He+"#"+et(ct.relation.type2)+"End)");var lt,je,Gt,Xt,ht=Je.points.length,Jt=Dr.calcLabelPosition(Je.points);if(Ct=Jt.x,It=Jt.y,ht%2!=0&&ht>1){var Qt=Dr.calcCardinalityPosition(ct.relation.type1!=="none",Je.points,Je.points[0]),zt=Dr.calcCardinalityPosition(ct.relation.type2!=="none",Je.points,Je.points[ht-1]);o.debug("cardinality_1_point "+JSON.stringify(Qt)),o.debug("cardinality_2_point "+JSON.stringify(zt)),lt=Qt.x,je=Qt.y,Gt=zt.x,Xt=zt.y}if(ct.title!==void 0){var $t=We.append("g").attr("class","classLabel"),En=$t.append("text").attr("class","label").attr("x",Ct).attr("y",It).attr("fill","red").attr("text-anchor","middle").text(ct.title);window.label=En;var bn=En.node().getBBox();$t.insert("rect",":first-child").attr("class","box").attr("x",bn.x-wt.padding/2).attr("y",bn.y-wt.padding/2).attr("width",bn.width+wt.padding).attr("height",bn.height+wt.padding)}o.info("Rendering relation "+JSON.stringify(ct)),ct.relationTitle1!==void 0&&ct.relationTitle1!=="none"&&We.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",lt).attr("y",je).attr("fill","black").attr("font-size","6").text(ct.relationTitle1),ct.relationTitle2!==void 0&&ct.relationTitle2!=="none"&&We.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",Gt).attr("y",Xt).attr("fill","black").attr("font-size","6").text(ct.relationTitle2),Pb++}(k,I.edge($e),I.edge($e).relation,Db))});var de=k.node().getBBox(),Ae=de.width+40,ke=de.height+40;dl(k,ke,Ae,Db.useMaxWidth);var Ue="".concat(de.x-20," ").concat(de.y-20," ").concat(Ae," ").concat(ke);o.debug("viewBox ".concat(Ue)),k.attr("viewBox",Ue)};var L9={extension:function(a,c,g){o.trace("Making markers for ",g),a.append("defs").append("marker").attr("id",c+"-extensionStart").attr("class","marker extension "+c).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),a.append("defs").append("marker").attr("id",c+"-extensionEnd").attr("class","marker extension "+c).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(a,c){a.append("defs").append("marker").attr("id",c+"-compositionStart").attr("class","marker composition "+c).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",c+"-compositionEnd").attr("class","marker composition "+c).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(a,c){a.append("defs").append("marker").attr("id",c+"-aggregationStart").attr("class","marker aggregation "+c).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",c+"-aggregationEnd").attr("class","marker aggregation "+c).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(a,c){a.append("defs").append("marker").attr("id",c+"-dependencyStart").attr("class","marker dependency "+c).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",c+"-dependencyEnd").attr("class","marker dependency "+c).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},point:function(a,c){a.append("marker").attr("id",c+"-pointEnd").attr("class","marker "+c).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),a.append("marker").attr("id",c+"-pointStart").attr("class","marker "+c).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(a,c){a.append("marker").attr("id",c+"-circleEnd").attr("class","marker "+c).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),a.append("marker").attr("id",c+"-circleStart").attr("class","marker "+c).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(a,c){a.append("marker").attr("id",c+"-crossEnd").attr("class","marker cross "+c).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),a.append("marker").attr("id",c+"-crossStart").attr("class","marker cross "+c).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(a,c){a.append("defs").append("marker").attr("id",c+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};const CP=function(a,c,g,y){c.forEach(function(_){L9[_](a,g,y)})};function Bb(a){return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Bb(a)}const Aa=function(a,c,g,y){var _,S,k,I,B,N,q=a||"";if(Bb(q)==="object"&&(q=q[0]),Ms(xt().flowchart.htmlLabels))return q=q.replace(/\\n|\n/g,"<br />"),o.info("vertexText"+q),_={isNode:y,label:q.replace(/fa[lrsb]?:fa-[\w-]+/g,function(ke){return"<i class='".concat(ke.replace(":"," "),"'></i>")}),labelStyle:c.replace("fill:","color:")},k=jn(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),I=k.append("xhtml:div"),B=_.label,N=_.isNode?"nodeLabel":"edgeLabel",I.html('<span class="'+N+'" '+(_.labelStyle?'style="'+_.labelStyle+'"':"")+">"+B+"</span>"),(S=_.labelStyle)&&I.attr("style",S),I.style("display","inline-block"),I.style("white-space","nowrap"),I.attr("xmlns","http://www.w3.org/1999/xhtml"),k.node();var re=document.createElementNS("http://www.w3.org/2000/svg","text");re.setAttribute("style",c.replace("color:","fill:"));var ne=[];ne=typeof q=="string"?q.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(q)?q:[];for(var de=0;de<ne.length;de++){var Ae=document.createElementNS("http://www.w3.org/2000/svg","tspan");Ae.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Ae.setAttribute("dy","1em"),Ae.setAttribute("x","0"),g?Ae.setAttribute("class","title-row"):Ae.setAttribute("class","row"),Ae.textContent=ne[de].trim(),re.appendChild(Ae)}return re};var oa=function(a,c,g,y){var _;_=g||"node default";var S=a.insert("g").attr("class",_).attr("id",c.domId||c.id),k=S.insert("g").attr("class","label").attr("style",c.labelStyle),I=typeof c.labelText=="string"?c.labelText:c.labelText[0],B=k.node().appendChild(Aa(Sh(VK(I),xt()),c.labelStyle,!1,y)),N=B.getBBox();if(Ms(xt().flowchart.htmlLabels)){var q=B.children[0],re=jn(B);N=q.getBoundingClientRect(),re.attr("width",N.width),re.attr("height",N.height)}var ne=c.padding/2;return k.attr("transform","translate("+-N.width/2+", "+-N.height/2+")"),{shapeSvg:S,bbox:N,halfPadding:ne,label:k}},Xs=function(a,c){var g=c.node().getBBox();a.width=g.width,a.height=g.height};function Xc(a,c,g,y){return a.insert("polygon",":first-child").attr("points",y.map(function(_){return _.x+","+_.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-c/2+","+g/2+")")}var oi={},Bl={},A9={},D0=function(a,c){return o.trace("In isDecendant",c," ",a," = ",Bl[c].indexOf(a)>=0),Bl[c].indexOf(a)>=0},IP=function a(c,g,y,_){o.warn("Copying children of ",c,"root",_,"data",g.node(c),_);var S=g.children(c)||[];c!==_&&S.push(c),o.warn("Copying (nodes) clusterId",c,"nodes",S),S.forEach(function(k){if(g.children(k).length>0)a(k,g,y,_);else{var I=g.node(k);o.info("cp ",k," to ",_," with parent ",c),y.setNode(k,I),_!==g.parent(k)&&(o.warn("Setting parent",k,g.parent(k)),y.setParent(k,g.parent(k))),c!==_&&k!==c?(o.debug("Setting parent",k,c),y.setParent(k,c)):(o.info("In copy ",c,"root",_,"data",g.node(c),_),o.debug("Not Setting parent for node=",k,"cluster!==rootId",c!==_,"node!==clusterId",k!==c));var B=g.edges(k);o.debug("Copying Edges",B),B.forEach(function(N){o.info("Edge",N);var q=g.edge(N.v,N.w,N.name);o.info("Edge data",q,_);try{(function(re,ne){return o.info("Decendants of ",ne," is ",Bl[ne]),o.info("Edge is ",re),re.v!==ne&&re.w!==ne&&(Bl[ne]?(o.info("Here "),Bl[ne].indexOf(re.v)>=0||!!D0(re.v,ne)||!!D0(re.w,ne)||Bl[ne].indexOf(re.w)>=0):(o.debug("Tilt, ",ne,",not in decendants"),!1))})(N,_)?(o.info("Copying as ",N.v,N.w,q,N.name),y.setEdge(N.v,N.w,q,N.name),o.info("newGraph edges ",y.edges(),y.edge(y.edges()[0]))):o.info("Skipping copy of edge ",N.v,"-->",N.w," rootId: ",_," clusterId:",c)}catch(re){o.error(re)}})}o.debug("Removing node",k),g.removeNode(k)})},P9=function a(c,g){for(var y=g.children(c),_=[].concat(y),S=0;S<y.length;S++)A9[y[S]]=c,_=_.concat(a(y[S],g));return _},$b=function a(c,g){o.trace("Searching",c);var y=g.children(c);if(o.trace("Searching children of id ",c,y),y.length<1)return o.trace("This is a valid node",c),c;for(var _=0;_<y.length;_++){var S=a(y[_],g);if(S)return o.trace("Found replacement for",c," => ",S),S}},_4=function(a){return oi[a]&&oi[a].externalConnections&&oi[a]?oi[a].id:a},RP=function(a,c){!a||c>10?o.debug("Opting out, no graph "):(o.debug("Opting in, graph "),a.nodes().forEach(function(g){a.children(g).length>0&&(o.warn("Cluster identified",g," Replacement id in edges: ",$b(g,a)),Bl[g]=P9(g,a),oi[g]={id:$b(g,a),clusterData:a.node(g)})}),a.nodes().forEach(function(g){var y=a.children(g),_=a.edges();y.length>0?(o.debug("Cluster identified",g,Bl),_.forEach(function(S){S.v!==g&&S.w!==g&&D0(S.v,g)^D0(S.w,g)&&(o.warn("Edge: ",S," leaves cluster ",g),o.warn("Decendants of XXX ",g,": ",Bl[g]),oi[g].externalConnections=!0)})):o.debug("Not a cluster ",g,Bl)}),a.edges().forEach(function(g){var y=a.edge(g);o.warn("Edge "+g.v+" -> "+g.w+": "+JSON.stringify(g)),o.warn("Edge "+g.v+" -> "+g.w+": "+JSON.stringify(a.edge(g)));var _=g.v,S=g.w;o.warn("Fix XXX",oi,"ids:",g.v,g.w,"Translateing: ",oi[g.v]," --- ",oi[g.w]),(oi[g.v]||oi[g.w])&&(o.warn("Fixing and trixing - removing XXX",g.v,g.w,g.name),_=_4(g.v),S=_4(g.w),a.removeEdge(g.v,g.w,g.name),_!==g.v&&(y.fromCluster=g.v),S!==g.w&&(y.toCluster=g.w),o.warn("Fix Replacing with XXX",_,S,g.name),a.setEdge(_,S,y,g.name))}),o.warn("Adjusted Graph",Ds().json.write(a)),D9(a,0),o.trace(oi))},D9=function a(c,g){if(o.warn("extractor - ",g,Ds().json.write(c),c.children("D")),g>10)o.error("Bailing out");else{for(var y=c.nodes(),_=!1,S=0;S<y.length;S++){var k=y[S],I=c.children(k);_=_||I.length>0}if(_){o.debug("Nodes = ",y,g);for(var B=0;B<y.length;B++){var N=y[B];if(o.debug("Extracting node",N,oi,oi[N]&&!oi[N].externalConnections,!c.parent(N),c.node(N),c.children("D")," Depth ",g),oi[N])if(!oi[N].externalConnections&&c.children(N)&&c.children(N).length>0){o.warn("Cluster without external connections, without a parent and with children",N,g);var q=c.graph().rankdir==="TB"?"LR":"TB";oi[N]&&oi[N].clusterData&&oi[N].clusterData.dir&&(q=oi[N].clusterData.dir,o.warn("Fixing dir",oi[N].clusterData.dir,q));var re=new(Ds()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:q,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});o.warn("Old graph before copy",Ds().json.write(c)),IP(N,c,re,N),c.setNode(N,{clusterNode:!0,id:N,clusterData:oi[N].clusterData,labelText:oi[N].labelText,graph:re}),o.warn("New graph after copy node: (",N,")",Ds().json.write(re)),o.debug("Old graph after copy",Ds().json.write(c))}else o.warn("Cluster ** ",N," **not meeting the criteria !externalConnections:",!oi[N].externalConnections," no parent: ",!c.parent(N)," children ",c.children(N)&&c.children(N).length>0,c.children("D"),g),o.debug(oi);else o.debug("Not a cluster",N,g)}y=c.nodes(),o.warn("New list of nodes",y);for(var ne=0;ne<y.length;ne++){var de=y[ne],Ae=c.node(de);o.warn(" Now next level",de,Ae),Ae.clusterNode&&a(Ae.graph,g+1)}}else o.debug("Done, no node has children",c.nodes())}},MP=function a(c,g){if(g.length===0)return[];var y=Object.assign(g);return g.forEach(function(_){var S=c.children(_),k=a(c,S);y=y.concat(k)}),y},N9=function(a){return MP(a,a.children())},OP=n(3841);const B9=function(a,c,g,y){var _=a.x,S=a.y,k=_-y.x,I=S-y.y,B=Math.sqrt(c*c*I*I+g*g*k*k),N=Math.abs(c*g*k/B);y.x<_&&(N=-N);var q=Math.abs(c*g*I/B);return y.y<S&&(q=-q),{x:_+N,y:S+q}};function $9(a,c){return a*c>0}const F9=function(a,c,g,y){var _,S,k,I,B,N,q,re,ne,de,Ae,ke,Ue;if(_=c.y-a.y,k=a.x-c.x,B=c.x*a.y-a.x*c.y,ne=_*g.x+k*g.y+B,de=_*y.x+k*y.y+B,!(ne!==0&&de!==0&&$9(ne,de)||(S=y.y-g.y,I=g.x-y.x,N=y.x*g.y-g.x*y.y,q=S*a.x+I*a.y+N,re=S*c.x+I*c.y+N,q!==0&&re!==0&&$9(q,re)||(Ae=_*I-S*k)==0)))return ke=Math.abs(Ae/2),{x:(Ue=k*N-I*B)<0?(Ue-ke)/Ae:(Ue+ke)/Ae,y:(Ue=S*B-_*N)<0?(Ue-ke)/Ae:(Ue+ke)/Ae}},N0=function(a,c){var g,y,_=a.x,S=a.y,k=c.x-_,I=c.y-S,B=a.width/2,N=a.height/2;return Math.abs(I)*B>Math.abs(k)*N?(I<0&&(N=-N),g=I===0?0:N*k/I,y=N):(k<0&&(B=-B),g=B,y=k===0?0:B*I/k),{x:_+g,y:S+y}},B0=(n.n(OP)(),function(a,c,g){return B9(a,c,c,g)}),$u=function(a,c,g){var y=a.x,_=a.y,S=[],k=Number.POSITIVE_INFINITY,I=Number.POSITIVE_INFINITY;typeof c.forEach=="function"?c.forEach(function(Ae){k=Math.min(k,Ae.x),I=Math.min(I,Ae.y)}):(k=Math.min(k,c.x),I=Math.min(I,c.y));for(var B=y-a.width/2-k,N=_-a.height/2-I,q=0;q<c.length;q++){var re=c[q],ne=c[q<c.length-1?q+1:0],de=F9(a,g,{x:B+re.x,y:N+re.y},{x:B+ne.x,y:N+ne.y});de&&S.push(de)}return S.length?(S.length>1&&S.sort(function(Ae,ke){var Ue=Ae.x-g.x,$e=Ae.y-g.y,We=Math.sqrt(Ue*Ue+$e*$e),Je=ke.x-g.x,ct=ke.y-g.y,wt=Math.sqrt(Je*Je+ct*ct);return We<wt?-1:We===wt?0:1}),S[0]):a},zd=N0;function Fb(a){return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Fb(a)}var w4=function(a,c,g){var y=a.insert("g").attr("class","node default").attr("id",c.domId||c.id),_=70,S=10;g==="LR"&&(_=10,S=70);var k=y.append("rect").attr("x",-1*_/2).attr("y",-1*S/2).attr("width",_).attr("height",S).attr("class","fork-join");return Xs(c,k),c.height=c.height+c.padding/2,c.width=c.width+c.padding/2,c.intersect=function(I){return zd(c,I)},y},U9={question:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding+(_.height+c.padding),k=[{x:S/2,y:0},{x:S,y:-S/2},{x:S/2,y:-S},{x:0,y:-S/2}];o.info("Question main (Circle)");var I=Xc(y,S,S,k);return I.attr("style",c.style),Xs(c,I),c.intersect=function(B){return o.warn("Intersect called"),$u(c,k,B)},y},rect:function(a,c){var g=oa(a,c,"node "+c.classes,!0),y=g.shapeSvg,_=g.bbox,S=g.halfPadding;o.trace("Classes = ",c.classes);var k=y.insert("rect",":first-child"),I=_.width+c.padding,B=_.height+c.padding;if(k.attr("class","basic label-container").attr("style",c.style).attr("rx",c.rx).attr("ry",c.ry).attr("x",-_.width/2-S).attr("y",-_.height/2-S).attr("width",I).attr("height",B),c.props){var N=new Set(Object.keys(c.props));c.props.borders&&(function(q,re,ne,de){var Ae=[],ke=function($e){Ae.push($e),Ae.push(0)},Ue=function($e){Ae.push(0),Ae.push($e)};re.includes("t")?(o.debug("add top border"),ke(ne)):Ue(ne),re.includes("r")?(o.debug("add right border"),ke(de)):Ue(de),re.includes("b")?(o.debug("add bottom border"),ke(ne)):Ue(ne),re.includes("l")?(o.debug("add left border"),ke(de)):Ue(de),q.attr("stroke-dasharray",Ae.join(" "))}(k,c.props.borders,I,B),N.delete("borders")),N.forEach(function(q){o.warn("Unknown node property ".concat(q))})}return Xs(c,k),c.intersect=function(q){return zd(c,q)},y},rectWithTitle:function(a,c){var g;g=c.classes?"node "+c.classes:"node default";var y,_=a.insert("g").attr("class",g).attr("id",c.domId||c.id),S=_.insert("rect",":first-child"),k=_.insert("line"),I=_.insert("g").attr("class","label"),B=c.labelText.flat?c.labelText.flat():c.labelText;y=Fb(B)==="object"?B[0]:B,o.info("Label text abc79",y,B,Fb(B)==="object");var N=I.node().appendChild(Aa(y,c.labelStyle,!0,!0)),q={width:0,height:0};if(Ms(xt().flowchart.htmlLabels)){var re=N.children[0],ne=jn(N);q=re.getBoundingClientRect(),ne.attr("width",q.width),ne.attr("height",q.height)}o.info("Text 2",B);var de=B.slice(1,B.length),Ae=N.getBBox(),ke=I.node().appendChild(Aa(de.join?de.join("<br/>"):de,c.labelStyle,!0,!0));if(Ms(xt().flowchart.htmlLabels)){var Ue=ke.children[0],$e=jn(ke);q=Ue.getBoundingClientRect(),$e.attr("width",q.width),$e.attr("height",q.height)}var We=c.padding/2;return jn(ke).attr("transform","translate( "+(q.width>Ae.width?0:(Ae.width-q.width)/2)+", "+(Ae.height+We+5)+")"),jn(N).attr("transform","translate( "+(q.width<Ae.width?0:-(Ae.width-q.width)/2)+", 0)"),q=I.node().getBBox(),I.attr("transform","translate("+-q.width/2+", "+(-q.height/2-We+3)+")"),S.attr("class","outer title-state").attr("x",-q.width/2-We).attr("y",-q.height/2-We).attr("width",q.width+c.padding).attr("height",q.height+c.padding),k.attr("class","divider").attr("x1",-q.width/2-We).attr("x2",q.width/2+We).attr("y1",-q.height/2-We+Ae.height+We).attr("y2",-q.height/2-We+Ae.height+We),Xs(c,S),c.intersect=function(Je){return zd(c,Je)},_},choice:function(a,c){var g=a.insert("g").attr("class","node default").attr("id",c.domId||c.id);return g.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(y){return y.x+","+y.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),c.width=28,c.height=28,c.intersect=function(y){return B0(c,14,y)},g},circle:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=g.halfPadding,k=y.insert("circle",":first-child");return k.attr("style",c.style).attr("rx",c.rx).attr("ry",c.ry).attr("r",_.width/2+S).attr("width",_.width+c.padding).attr("height",_.height+c.padding),o.info("Circle main"),Xs(c,k),c.intersect=function(I){return o.info("Circle intersect",c,_.width/2+S,I),B0(c,_.width/2+S,I)},y},stadium:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.height+c.padding,k=_.width+S/4+c.padding,I=y.insert("rect",":first-child").attr("style",c.style).attr("rx",S/2).attr("ry",S/2).attr("x",-k/2).attr("y",-S/2).attr("width",k).attr("height",S);return Xs(c,I),c.intersect=function(B){return zd(c,B)},y},hexagon:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.height+c.padding,k=S/4,I=_.width+2*k+c.padding,B=[{x:k,y:0},{x:I-k,y:0},{x:I,y:-S/2},{x:I-k,y:-S},{x:k,y:-S},{x:0,y:-S/2}],N=Xc(y,I,S,B);return N.attr("style",c.style),Xs(c,N),c.intersect=function(q){return $u(c,B,q)},y},rect_left_inv_arrow:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=_.height+c.padding,I=[{x:-k/2,y:0},{x:S,y:0},{x:S,y:-k},{x:-k/2,y:-k},{x:0,y:-k/2}];return Xc(y,S,k,I).attr("style",c.style),c.width=S+k,c.height=k,c.intersect=function(B){return $u(c,I,B)},y},lean_right:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=_.height+c.padding,I=[{x:-2*k/6,y:0},{x:S-k/6,y:0},{x:S+2*k/6,y:-k},{x:k/6,y:-k}],B=Xc(y,S,k,I);return B.attr("style",c.style),Xs(c,B),c.intersect=function(N){return $u(c,I,N)},y},lean_left:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=_.height+c.padding,I=[{x:2*k/6,y:0},{x:S+k/6,y:0},{x:S-2*k/6,y:-k},{x:-k/6,y:-k}],B=Xc(y,S,k,I);return B.attr("style",c.style),Xs(c,B),c.intersect=function(N){return $u(c,I,N)},y},trapezoid:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=_.height+c.padding,I=[{x:-2*k/6,y:0},{x:S+2*k/6,y:0},{x:S-k/6,y:-k},{x:k/6,y:-k}],B=Xc(y,S,k,I);return B.attr("style",c.style),Xs(c,B),c.intersect=function(N){return $u(c,I,N)},y},inv_trapezoid:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=_.height+c.padding,I=[{x:k/6,y:0},{x:S-k/6,y:0},{x:S+2*k/6,y:-k},{x:-2*k/6,y:-k}],B=Xc(y,S,k,I);return B.attr("style",c.style),Xs(c,B),c.intersect=function(N){return $u(c,I,N)},y},rect_right_inv_arrow:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=_.height+c.padding,I=[{x:0,y:0},{x:S+k/2,y:0},{x:S,y:-k/2},{x:S+k/2,y:-k},{x:0,y:-k}],B=Xc(y,S,k,I);return B.attr("style",c.style),Xs(c,B),c.intersect=function(N){return $u(c,I,N)},y},cylinder:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=S/2,I=k/(2.5+S/50),B=_.height+I+c.padding,N="M 0,"+I+" a "+k+","+I+" 0,0,0 "+S+" 0 a "+k+","+I+" 0,0,0 "+-S+" 0 l 0,"+B+" a "+k+","+I+" 0,0,0 "+S+" 0 l 0,"+-B,q=y.attr("label-offset-y",I).insert("path",":first-child").attr("style",c.style).attr("d",N).attr("transform","translate("+-S/2+","+-(B/2+I)+")");return Xs(c,q),c.intersect=function(re){var ne=zd(c,re),de=ne.x-c.x;if(k!=0&&(Math.abs(de)<c.width/2||Math.abs(de)==c.width/2&&Math.abs(ne.y-c.y)>c.height/2-I)){var Ae=I*I*(1-de*de/(k*k));Ae!=0&&(Ae=Math.sqrt(Ae)),Ae=I-Ae,re.y-c.y>0&&(Ae=-Ae),ne.y+=Ae}return ne},y},start:function(a,c){var g=a.insert("g").attr("class","node default").attr("id",c.domId||c.id),y=g.insert("circle",":first-child");return y.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Xs(c,y),c.intersect=function(_){return B0(c,7,_)},g},end:function(a,c){var g=a.insert("g").attr("class","node default").attr("id",c.domId||c.id),y=g.insert("circle",":first-child"),_=g.insert("circle",":first-child");return _.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),y.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Xs(c,_),c.intersect=function(S){return B0(c,7,S)},g},note:function(a,c){var g=oa(a,c,"node "+c.classes,!0),y=g.shapeSvg,_=g.bbox,S=g.halfPadding;o.info("Classes = ",c.classes);var k=y.insert("rect",":first-child");return k.attr("rx",c.rx).attr("ry",c.ry).attr("x",-_.width/2-S).attr("y",-_.height/2-S).attr("width",_.width+c.padding).attr("height",_.height+c.padding),Xs(c,k),c.intersect=function(I){return zd(c,I)},y},subroutine:function(a,c){var g=oa(a,c,void 0,!0),y=g.shapeSvg,_=g.bbox,S=_.width+c.padding,k=_.height+c.padding,I=[{x:0,y:0},{x:S,y:0},{x:S,y:-k},{x:0,y:-k},{x:0,y:0},{x:-8,y:0},{x:S+8,y:0},{x:S+8,y:-k},{x:-8,y:-k},{x:-8,y:0}],B=Xc(y,S,k,I);return B.attr("style",c.style),Xs(c,B),c.intersect=function(N){return $u(c,I,N)},y},fork:w4,join:w4,class_box:function(a,c){var g,y=c.padding/2;g=c.classes?"node "+c.classes:"node default";var _=a.insert("g").attr("class",g).attr("id",c.domId||c.id),S=_.insert("rect",":first-child"),k=_.insert("line"),I=_.insert("line"),B=0,N=4,q=_.insert("g").attr("class","label"),re=0,ne=c.classData.annotations&&c.classData.annotations[0],de=c.classData.annotations[0]?"\xAB"+c.classData.annotations[0]+"\xBB":"",Ae=q.node().appendChild(Aa(de,c.labelStyle,!0,!0)),ke=Ae.getBBox();if(Ms(xt().flowchart.htmlLabels)){var Ue=Ae.children[0],$e=jn(Ae);ke=Ue.getBoundingClientRect(),$e.attr("width",ke.width),$e.attr("height",ke.height)}c.classData.annotations[0]&&(N+=ke.height+4,B+=ke.width);var We=c.classData.id;c.classData.type!==void 0&&c.classData.type!==""&&(xt().flowchart.htmlLabels?We+="&lt;"+c.classData.type+"&gt;":We+="<"+c.classData.type+">");var Je=q.node().appendChild(Aa(We,c.labelStyle,!0,!0));jn(Je).attr("class","classTitle");var ct=Je.getBBox();if(Ms(xt().flowchart.htmlLabels)){var wt=Je.children[0],et=jn(Je);ct=wt.getBoundingClientRect(),et.attr("width",ct.width),et.attr("height",ct.height)}N+=ct.height+4,ct.width>B&&(B=ct.width);var Ct=[];c.classData.members.forEach(function(tt){var He=y4(tt),lt=He.displayText;xt().flowchart.htmlLabels&&(lt=lt.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var je=q.node().appendChild(Aa(lt,He.cssStyle?He.cssStyle:c.labelStyle,!0,!0)),Gt=je.getBBox();if(Ms(xt().flowchart.htmlLabels)){var Xt=je.children[0],ht=jn(je);Gt=Xt.getBoundingClientRect(),ht.attr("width",Gt.width),ht.attr("height",Gt.height)}Gt.width>B&&(B=Gt.width),N+=Gt.height+4,Ct.push(je)}),N+=8;var It=[];if(c.classData.methods.forEach(function(tt){var He=y4(tt),lt=He.displayText;xt().flowchart.htmlLabels&&(lt=lt.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var je=q.node().appendChild(Aa(lt,He.cssStyle?He.cssStyle:c.labelStyle,!0,!0)),Gt=je.getBBox();if(Ms(xt().flowchart.htmlLabels)){var Xt=je.children[0],ht=jn(je);Gt=Xt.getBoundingClientRect(),ht.attr("width",Gt.width),ht.attr("height",Gt.height)}Gt.width>B&&(B=Gt.width),N+=Gt.height+4,It.push(je)}),N+=8,ne){var Xe=(B-ke.width)/2;jn(Ae).attr("transform","translate( "+(-1*B/2+Xe)+", "+-1*N/2+")"),re=ke.height+4}var at=(B-ct.width)/2;return jn(Je).attr("transform","translate( "+(-1*B/2+at)+", "+(-1*N/2+re)+")"),re+=ct.height+4,k.attr("class","divider").attr("x1",-B/2-y).attr("x2",B/2+y).attr("y1",-N/2-y+8+re).attr("y2",-N/2-y+8+re),re+=8,Ct.forEach(function(tt){jn(tt).attr("transform","translate( "+-B/2+", "+(-1*N/2+re+4)+")"),re+=ct.height+4}),re+=8,I.attr("class","divider").attr("x1",-B/2-y).attr("x2",B/2+y).attr("y1",-N/2-y+8+re).attr("y2",-N/2-y+8+re),re+=8,It.forEach(function(tt){jn(tt).attr("transform","translate( "+-B/2+", "+(-1*N/2+re)+")"),re+=ct.height+4}),S.attr("class","outer title-state").attr("x",-B/2-y).attr("y",-N/2-y).attr("width",B+c.padding).attr("height",N+c.padding),Xs(c,S),c.intersect=function(tt){return zd(c,tt)},_}},Th={},H9=function(a){var c=Th[a.id];o.trace("Transforming node",a.diff,a,"translate("+(a.x-a.width/2-5)+", "+a.width/2+")");var g=a.diff||0;return a.clusterNode?c.attr("transform","translate("+(a.x+g-a.width/2)+", "+(a.y-a.height/2-8)+")"):c.attr("transform","translate("+a.x+", "+a.y+")"),g},j9={rect:function(a,c){o.trace("Creating subgraph rect for ",c.id,c);var g=a.insert("g").attr("class","cluster"+(c.class?" "+c.class:"")).attr("id",c.id),y=g.insert("rect",":first-child"),_=g.insert("g").attr("class","cluster-label"),S=_.node().appendChild(Aa(c.labelText,c.labelStyle,void 0,!0)),k=S.getBBox();if(Ms(xt().flowchart.htmlLabels)){var I=S.children[0],B=jn(S);k=I.getBoundingClientRect(),B.attr("width",k.width),B.attr("height",k.height)}var N=0*c.padding,q=N/2,re=c.width<=k.width+N?k.width+N:c.width;c.width<=k.width+N?c.diff=(k.width-c.width)/2:c.diff=-c.padding/2,o.trace("Data ",c,JSON.stringify(c)),y.attr("style",c.style).attr("rx",c.rx).attr("ry",c.ry).attr("x",c.x-re/2).attr("y",c.y-c.height/2-q).attr("width",re).attr("height",c.height+N),_.attr("transform","translate("+(c.x-k.width/2)+", "+(c.y-c.height/2+c.padding/3)+")");var ne=y.node().getBBox();return c.width=ne.width,c.height=ne.height,c.intersect=function(de){return N0(c,de)},g},roundedWithTitle:function(a,c){var g=a.insert("g").attr("class",c.classes).attr("id",c.id),y=g.insert("rect",":first-child"),_=g.insert("g").attr("class","cluster-label"),S=g.append("rect"),k=_.node().appendChild(Aa(c.labelText,c.labelStyle,void 0,!0)),I=k.getBBox();if(Ms(xt().flowchart.htmlLabels)){var B=k.children[0],N=jn(k);I=B.getBoundingClientRect(),N.attr("width",I.width),N.attr("height",I.height)}I=k.getBBox();var q=0*c.padding,re=q/2,ne=c.width<=I.width+c.padding?I.width+c.padding:c.width;c.width<=I.width+c.padding?c.diff=(I.width+0*c.padding-c.width)/2:c.diff=-c.padding/2,y.attr("class","outer").attr("x",c.x-ne/2-re).attr("y",c.y-c.height/2-re).attr("width",ne+q).attr("height",c.height+q),S.attr("class","inner").attr("x",c.x-ne/2-re).attr("y",c.y-c.height/2-re+I.height-1).attr("width",ne+q).attr("height",c.height+q-I.height-3),_.attr("transform","translate("+(c.x-I.width/2)+", "+(c.y-c.height/2-c.padding/3+(Ms(xt().flowchart.htmlLabels)?5:3))+")");var de=y.node().getBBox();return c.height=de.height,c.intersect=function(Ae){return N0(c,Ae)},g},noteGroup:function(a,c){var g=a.insert("g").attr("class","note-cluster").attr("id",c.id),y=g.insert("rect",":first-child"),_=0*c.padding,S=_/2;y.attr("rx",c.rx).attr("ry",c.ry).attr("x",c.x-c.width/2-S).attr("y",c.y-c.height/2-S).attr("width",c.width+_).attr("height",c.height+_).attr("fill","none");var k=y.node().getBBox();return c.width=k.width,c.height=k.height,c.intersect=function(I){return N0(c,I)},g},divider:function(a,c){var g=a.insert("g").attr("class",c.classes).attr("id",c.id),y=g.insert("rect",":first-child"),_=0*c.padding,S=_/2;y.attr("class","divider").attr("x",c.x-c.width/2-S).attr("y",c.y-c.height/2).attr("width",c.width+_).attr("height",c.height+_);var k=y.node().getBBox();return c.width=k.width,c.height=k.height,c.diff=-c.padding/2,c.intersect=function(I){return N0(c,I)},g}},K9={},$0={},xo={},z9=function(a,c){var g=Aa(c.label,c.labelStyle),y=a.insert("g").attr("class","edgeLabel"),_=y.insert("g").attr("class","label");_.node().appendChild(g);var S,k=g.getBBox();if(Ms(xt().flowchart.htmlLabels)){var I=g.children[0],B=jn(g);k=I.getBoundingClientRect(),B.attr("width",k.width),B.attr("height",k.height)}if(_.attr("transform","translate("+-k.width/2+", "+-k.height/2+")"),$0[c.id]=y,c.width=k.width,c.height=k.height,c.startLabelLeft){var N=Aa(c.startLabelLeft,c.labelStyle),q=a.insert("g").attr("class","edgeTerminals"),re=q.insert("g").attr("class","inner");S=re.node().appendChild(N);var ne=N.getBBox();re.attr("transform","translate("+-ne.width/2+", "+-ne.height/2+")"),xo[c.id]||(xo[c.id]={}),xo[c.id].startLeft=q,Ub(S,c.startLabelLeft)}if(c.startLabelRight){var de=Aa(c.startLabelRight,c.labelStyle),Ae=a.insert("g").attr("class","edgeTerminals"),ke=Ae.insert("g").attr("class","inner");S=Ae.node().appendChild(de),ke.node().appendChild(de);var Ue=de.getBBox();ke.attr("transform","translate("+-Ue.width/2+", "+-Ue.height/2+")"),xo[c.id]||(xo[c.id]={}),xo[c.id].startRight=Ae,Ub(S,c.startLabelRight)}if(c.endLabelLeft){var $e=Aa(c.endLabelLeft,c.labelStyle),We=a.insert("g").attr("class","edgeTerminals"),Je=We.insert("g").attr("class","inner");S=Je.node().appendChild($e);var ct=$e.getBBox();Je.attr("transform","translate("+-ct.width/2+", "+-ct.height/2+")"),We.node().appendChild($e),xo[c.id]||(xo[c.id]={}),xo[c.id].endLeft=We,Ub(S,c.endLabelLeft)}if(c.endLabelRight){var wt=Aa(c.endLabelRight,c.labelStyle),et=a.insert("g").attr("class","edgeTerminals"),Ct=et.insert("g").attr("class","inner");S=Ct.node().appendChild(wt);var It=wt.getBBox();Ct.attr("transform","translate("+-It.width/2+", "+-It.height/2+")"),et.node().appendChild(wt),xo[c.id]||(xo[c.id]={}),xo[c.id].endRight=et,Ub(S,c.endLabelRight)}};function Ub(a,c){xt().flowchart.htmlLabels&&a&&(a.style.width=9*c.length+"px",a.style.height="12px")}var q9=function(a,c){o.info("Moving label abc78 ",a.id,a.label,$0[a.id]);var g=c.updatedPath?c.updatedPath:c.originalPath;if(a.label){var y=$0[a.id],_=a.x,S=a.y;if(g){var k=Dr.calcLabelPosition(g);o.info("Moving label from (",_,",",S,") to (",k.x,",",k.y,") abc78")}y.attr("transform","translate("+_+", "+S+")")}if(a.startLabelLeft){var I=xo[a.id].startLeft,B=a.x,N=a.y;if(g){var q=Dr.calcTerminalLabelPosition(a.arrowTypeStart?10:0,"start_left",g);B=q.x,N=q.y}I.attr("transform","translate("+B+", "+N+")")}if(a.startLabelRight){var re=xo[a.id].startRight,ne=a.x,de=a.y;if(g){var Ae=Dr.calcTerminalLabelPosition(a.arrowTypeStart?10:0,"start_right",g);ne=Ae.x,de=Ae.y}re.attr("transform","translate("+ne+", "+de+")")}if(a.endLabelLeft){var ke=xo[a.id].endLeft,Ue=a.x,$e=a.y;if(g){var We=Dr.calcTerminalLabelPosition(a.arrowTypeEnd?10:0,"end_left",g);Ue=We.x,$e=We.y}ke.attr("transform","translate("+Ue+", "+$e+")")}if(a.endLabelRight){var Je=xo[a.id].endRight,ct=a.x,wt=a.y;if(g){var et=Dr.calcTerminalLabelPosition(a.arrowTypeEnd?10:0,"end_right",g);ct=et.x,wt=et.y}Je.attr("transform","translate("+ct+", "+wt+")")}},V9=function(a,c){o.warn("abc88 cutPathAtIntersect",a,c);var g=[],y=a[0],_=!1;return a.forEach(function(S){if(o.info("abc88 checking point",S,c),function(B,N){var q=B.x,re=B.y,ne=Math.abs(N.x-q),de=Math.abs(N.y-re),Ae=B.width/2,ke=B.height/2;return ne>=Ae||de>=ke}(c,S)||_)o.warn("abc88 outside",S,y),y=S,_||g.push(S);else{var k=function(B,N,q){o.warn(`intersection calc abc89:
  outsidePoint: `.concat(JSON.stringify(N),`
  insidePoint : `).concat(JSON.stringify(q),`
  node        : x:`).concat(B.x," y:").concat(B.y," w:").concat(B.width," h:").concat(B.height));var re=B.x,ne=B.y,de=Math.abs(re-q.x),Ae=B.width/2,ke=q.x<N.x?Ae-de:Ae+de,Ue=B.height/2,$e=Math.abs(N.y-q.y),We=Math.abs(N.x-q.x);if(Math.abs(ne-N.y)*Ae>Math.abs(re-N.x)*Ue){var Je=q.y<N.y?N.y-Ue-ne:ne-Ue-N.y;ke=We*Je/$e;var ct={x:q.x<N.x?q.x+ke:q.x-We+ke,y:q.y<N.y?q.y+$e-Je:q.y-$e+Je};return ke===0&&(ct.x=N.x,ct.y=N.y),We===0&&(ct.x=N.x),$e===0&&(ct.y=N.y),o.warn("abc89 topp/bott calc, Q ".concat($e,", q ").concat(Je,", R ").concat(We,", r ").concat(ke),ct),ct}var wt=$e*(ke=q.x<N.x?N.x-Ae-re:re-Ae-N.x)/We,et=q.x<N.x?q.x+We-ke:q.x-We+ke,Ct=q.y<N.y?q.y+wt:q.y-wt;return o.warn("sides calc abc89, Q ".concat($e,", q ").concat(wt,", R ").concat(We,", r ").concat(ke),{_x:et,_y:Ct}),ke===0&&(et=N.x,Ct=N.y),We===0&&(et=N.x),$e===0&&(Ct=N.y),{x:et,y:Ct}}(c,y,S);o.warn("abc88 inside",S,y,k),o.warn("abc88 intersection",k);var I=!1;g.forEach(function(B){I=I||B.x===k.x&&B.y===k.y}),g.find(function(B){return B.x===k.x&&B.y===k.y})?o.warn("abc88 no intersect",k,g):g.push(k),_=!0}}),o.warn("abc88 returning points",g),g},G9=function a(c,g,y,_){o.info("Graph in recursive render: XXX",Ds().json.write(g),_);var S=g.graph().rankdir;o.trace("Dir in recursive render - dir:",S);var k=c.insert("g").attr("class","root");g.nodes()?o.info("Recursive render XXX",g.nodes()):o.info("No nodes found for",g),g.edges().length>0&&o.trace("Recursive edges",g.edge(g.edges()[0]));var I=k.insert("g").attr("class","clusters"),B=k.insert("g").attr("class","edgePaths"),N=k.insert("g").attr("class","edgeLabels"),q=k.insert("g").attr("class","nodes");g.nodes().forEach(function(ne){var de=g.node(ne);if(_!==void 0){var Ae=JSON.parse(JSON.stringify(_.clusterData));o.info("Setting data for cluster XXX (",ne,") ",Ae,_),g.setNode(_.id,Ae),g.parent(ne)||(o.trace("Setting parent",ne,_.id),g.setParent(ne,_.id,Ae))}if(o.info("(Insert) Node XXX"+ne+": "+JSON.stringify(g.node(ne))),de&&de.clusterNode){o.info("Cluster identified",ne,de.width,g.node(ne));var ke=a(q,de.graph,y,g.node(ne)),Ue=ke.elem;Xs(de,Ue),de.diff=ke.diff||0,o.info("Node bounds (abc123)",ne,de,de.width,de.x,de.y),function($e,We){Th[We.id]=$e}(Ue,de),o.warn("Recursive render complete ",Ue,de)}else g.children(ne).length>0?(o.info("Cluster - the non recursive path XXX",ne,de.id,de,g),o.info($b(de.id,g)),oi[de.id]={id:$b(de.id,g),node:de}):(o.info("Node - the non recursive path",ne,de.id,de),function($e,We,Je){var ct,wt,et;We.link?(xt().securityLevel==="sandbox"?et="_top":We.linkTarget&&(et=We.linkTarget||"_blank"),ct=$e.insert("svg:a").attr("xlink:href",We.link).attr("target",et),wt=U9[We.shape](ct,We,Je)):ct=wt=U9[We.shape]($e,We,Je),We.tooltip&&wt.attr("title",We.tooltip),We.class&&wt.attr("class","node default "+We.class),Th[We.id]=ct,We.haveCallback&&Th[We.id].attr("class",Th[We.id].attr("class")+" clickable")}(q,g.node(ne),S))}),g.edges().forEach(function(ne){var de=g.edge(ne.v,ne.w,ne.name);o.info("Edge "+ne.v+" -> "+ne.w+": "+JSON.stringify(ne)),o.info("Edge "+ne.v+" -> "+ne.w+": ",ne," ",JSON.stringify(g.edge(ne))),o.info("Fix",oi,"ids:",ne.v,ne.w,"Translateing: ",oi[ne.v],oi[ne.w]),z9(N,de)}),g.edges().forEach(function(ne){o.info("Edge "+ne.v+" -> "+ne.w+": "+JSON.stringify(ne))}),o.info("#############################################"),o.info("###                Layout                 ###"),o.info("#############################################"),o.info(g),I1().layout(g),o.info("Graph after layout:",Ds().json.write(g));var re=0;return N9(g).forEach(function(ne){var de=g.node(ne);o.info("Position "+ne+": "+JSON.stringify(g.node(ne))),o.info("Position "+ne+": ("+de.x,","+de.y,") width: ",de.width," height: ",de.height),de&&de.clusterNode?H9(de):g.children(ne).length>0?(function(Ae,ke){o.trace("Inserting cluster");var Ue=ke.shape||"rect";K9[ke.id]=j9[Ue](Ae,ke)}(I,de),oi[de.id].node=de):H9(de)}),g.edges().forEach(function(ne){var de=g.edge(ne);o.info("Edge "+ne.v+" -> "+ne.w+": "+JSON.stringify(de),de);var Ae=function(ke,Ue,$e,We,Je,ct){var wt=$e.points,et=!1,Ct=ct.node(Ue.v),It=ct.node(Ue.w);o.info("abc88 InsertEdge: ",$e),It.intersect&&Ct.intersect&&((wt=wt.slice(1,$e.points.length-1)).unshift(Ct.intersect(wt[0])),o.info("Last point",wt[wt.length-1],It,It.intersect(wt[wt.length-1])),wt.push(It.intersect(wt[wt.length-1]))),$e.toCluster&&(o.info("to cluster abc88",We[$e.toCluster]),wt=V9($e.points,We[$e.toCluster].node),et=!0),$e.fromCluster&&(o.info("from cluster abc88",We[$e.fromCluster]),wt=V9(wt.reverse(),We[$e.fromCluster].node).reverse(),et=!0);var Xe,at=wt.filter(function(Xt){return!Number.isNaN(Xt.y)});Xe=(Je==="graph"||Je==="flowchart")&&$e.curve||Lu;var tt,He=Jf().x(function(Xt){return Xt.x}).y(function(Xt){return Xt.y}).curve(Xe);switch($e.thickness){case"normal":tt="edge-thickness-normal";break;case"thick":tt="edge-thickness-thick";break;default:tt=""}switch($e.pattern){case"solid":tt+=" edge-pattern-solid";break;case"dotted":tt+=" edge-pattern-dotted";break;case"dashed":tt+=" edge-pattern-dashed"}var lt=ke.append("path").attr("d",He(at)).attr("id",$e.id).attr("class"," "+tt+($e.classes?" "+$e.classes:"")).attr("style",$e.style),je="";switch(xt().state.arrowMarkerAbsolute&&(je=(je=(je=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),o.info("arrowTypeStart",$e.arrowTypeStart),o.info("arrowTypeEnd",$e.arrowTypeEnd),$e.arrowTypeStart){case"arrow_cross":lt.attr("marker-start","url("+je+"#"+Je+"-crossStart)");break;case"arrow_point":lt.attr("marker-start","url("+je+"#"+Je+"-pointStart)");break;case"arrow_barb":lt.attr("marker-start","url("+je+"#"+Je+"-barbStart)");break;case"arrow_circle":lt.attr("marker-start","url("+je+"#"+Je+"-circleStart)");break;case"aggregation":lt.attr("marker-start","url("+je+"#"+Je+"-aggregationStart)");break;case"extension":lt.attr("marker-start","url("+je+"#"+Je+"-extensionStart)");break;case"composition":lt.attr("marker-start","url("+je+"#"+Je+"-compositionStart)");break;case"dependency":lt.attr("marker-start","url("+je+"#"+Je+"-dependencyStart)")}switch($e.arrowTypeEnd){case"arrow_cross":lt.attr("marker-end","url("+je+"#"+Je+"-crossEnd)");break;case"arrow_point":lt.attr("marker-end","url("+je+"#"+Je+"-pointEnd)");break;case"arrow_barb":lt.attr("marker-end","url("+je+"#"+Je+"-barbEnd)");break;case"arrow_circle":lt.attr("marker-end","url("+je+"#"+Je+"-circleEnd)");break;case"aggregation":lt.attr("marker-end","url("+je+"#"+Je+"-aggregationEnd)");break;case"extension":lt.attr("marker-end","url("+je+"#"+Je+"-extensionEnd)");break;case"composition":lt.attr("marker-end","url("+je+"#"+Je+"-compositionEnd)");break;case"dependency":lt.attr("marker-end","url("+je+"#"+Je+"-dependencyEnd)")}var Gt={};return et&&(Gt.updatedPath=wt),Gt.originalPath=$e.points,Gt}(B,ne,de,oi,y,g);q9(de,Ae)}),g.nodes().forEach(function(ne){var de=g.node(ne);o.info(ne,de.type,de.diff),de.type==="group"&&(re=de.diff)}),{elem:k,diff:re}},E4=function(a,c,g,y,_){CP(a,g,y,_),Th={},$0={},xo={},K9={},Bl={},A9={},oi={},o.warn("Graph at first:",Ds().json.write(c)),RP(c),o.warn("Graph after:",Ds().json.write(c)),G9(a,c,y)};kh.parser.yy=Nl;var S4={dividerMargin:10,padding:5,textHeight:10};function W9(a){var c;switch(a){case 0:c="aggregation";break;case 1:c="extension";break;case 2:c="composition";break;case 3:c="dependency";break;default:c="none"}return c}var M1={},x4=[],Hb="",Y9=function(a){return M1[a]===void 0&&(M1[a]={attributes:[]},o.info("Added new entity :",a)),M1[a]};const aa={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().er},addEntity:Y9,addAttributes:function(a,c){var g,y=Y9(a);for(g=c.length-1;g>=0;g--)y.attributes.push(c[g]),o.debug("Added attribute ",c[g].attributeName)},getEntities:function(){return M1},addRelationship:function(a,c,g,y){var _={entityA:a,roleA:c,entityB:g,relSpec:y};x4.push(_),o.debug("Added new relationship :",_)},getRelationships:function(){return x4},clear:function(){M1={},x4=[],Hb=""},setTitle:function(a){Hb=a},getTitle:function(){return Hb}};var LP=n(5890),k4=n.n(LP),Fu={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"};const Uu=Fu;var Hi={},X9=function(a){return(a.entityA+a.roleA+a.entityB).replace(/\s/g,"")},Z9=0;const J9=function(a){for(var c=Object.keys(a),g=0;g<c.length;g++)Hi[c[g]]=a[c[g]]},AP=function(a,c){o.info("Drawing ER diagram"),aa.clear();var g=k4().parser;g.yy=aa;var y,_=xt().securityLevel;_==="sandbox"&&(y=jn("#i"+c));var S=jn(_==="sandbox"?y.nodes()[0].contentDocument.body:"body");_==="sandbox"&&y.nodes()[0].contentDocument;try{g.parse(a)}catch{o.debug("Parsing failed")}var k,I=S.select("[id='".concat(c,"']"));(function(Ae,ke){var Ue;Ae.append("defs").append("marker").attr("id",Fu.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),Ae.append("defs").append("marker").attr("id",Fu.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),(Ue=Ae.append("defs").append("marker").attr("id",Fu.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",ke.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),Ue.append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M9,0 L9,18"),(Ue=Ae.append("defs").append("marker").attr("id",Fu.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",ke.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),Ue.append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M21,0 L21,18"),Ae.append("defs").append("marker").attr("id",Fu.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),Ae.append("defs").append("marker").attr("id",Fu.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),(Ue=Ae.append("defs").append("marker").attr("id",Fu.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",ke.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),Ue.append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),(Ue=Ae.append("defs").append("marker").attr("id",Fu.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",ke.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),Ue.append("path").attr("stroke",ke.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")})(I,Hi),k=new(Ds()).Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Hi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});var B=function(Ae,ke,Ue){var $e;return Object.keys(ke).forEach(function(We){var Je=Ae.append("g").attr("id",We);$e=$e===void 0?We:$e;var ct="entity-"+We,wt=Je.append("text").attr("class","er entityLabel").attr("id",ct).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+xt().fontFamily+"; font-size: "+Hi.fontSize+"px").text(We),et=function(at,tt,He){var lt=Hi.entityPadding/3,je=Hi.entityPadding/3,Gt=.85*Hi.fontSize,Xt=tt.node().getBBox(),ht=[],Jt=!1,Qt=!1,zt=0,$t=0,En=0,bn=0,Kn=Xt.height+2*lt,fr=1;He.forEach(function(cr){cr.attributeKeyType!==void 0&&(Jt=!0),cr.attributeComment!==void 0&&(Qt=!0)}),He.forEach(function(cr){var kr="".concat(tt.node().id,"-attr-").concat(fr),ai=0,Ba=at.append("text").attr("class","er entityLabel").attr("id","".concat(kr,"-type")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xt().fontFamily+"; font-size: "+Gt+"px").text(cr.attributeType),ca=at.append("text").attr("class","er entityLabel").attr("id","".concat(kr,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xt().fontFamily+"; font-size: "+Gt+"px").text(cr.attributeName),$r={};$r.tn=Ba,$r.nn=ca;var Er=Ba.node().getBBox(),ml=ca.node().getBBox();if(zt=Math.max(zt,Er.width),$t=Math.max($t,ml.width),ai=Math.max(Er.height,ml.height),Jt){var Ul=at.append("text").attr("class","er entityLabel").attr("id","".concat(kr,"-key")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xt().fontFamily+"; font-size: "+Gt+"px").text(cr.attributeKeyType||"");$r.kn=Ul;var Ec=Ul.node().getBBox();En=Math.max(En,Ec.width),ai=Math.max(ai,Ec.height)}if(Qt){var Os=at.append("text").attr("class","er entityLabel").attr("id","".concat(kr,"-comment")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xt().fontFamily+"; font-size: "+Gt+"px").text(cr.attributeComment||"");$r.cn=Os;var X0=Os.node().getBBox();bn=Math.max(bn,X0.width),ai=Math.max(ai,X0.height)}$r.height=ai,ht.push($r),Kn+=ai+2*lt,fr+=1});var Ln=4;Jt&&(Ln+=2),Qt&&(Ln+=2);var ni=zt+$t+En+bn,wi={width:Math.max(Hi.minEntityWidth,Math.max(Xt.width+2*Hi.entityPadding,ni+je*Ln)),height:He.length>0?Kn:Math.max(Hi.minEntityHeight,Xt.height+2*Hi.entityPadding)};if(He.length>0){var Cr=Math.max(0,(wi.width-ni-je*Ln)/(Ln/2));tt.attr("transform","translate("+wi.width/2+","+(lt+Xt.height/2)+")");var Ki=Xt.height+2*lt,Jr="attributeBoxOdd";ht.forEach(function(cr){var kr=Ki+lt+cr.height/2;cr.tn.attr("transform","translate("+je+","+kr+")");var ai=at.insert("rect","#"+cr.tn.node().id).attr("class","er ".concat(Jr)).attr("fill",Hi.fill).attr("fill-opacity","100%").attr("stroke",Hi.stroke).attr("x",0).attr("y",Ki).attr("width",zt+2*je+Cr).attr("height",cr.height+2*lt),Ba=parseFloat(ai.attr("x"))+parseFloat(ai.attr("width"));cr.nn.attr("transform","translate("+(Ba+je)+","+kr+")");var ca=at.insert("rect","#"+cr.nn.node().id).attr("class","er ".concat(Jr)).attr("fill",Hi.fill).attr("fill-opacity","100%").attr("stroke",Hi.stroke).attr("x",Ba).attr("y",Ki).attr("width",$t+2*je+Cr).attr("height",cr.height+2*lt),$r=parseFloat(ca.attr("x"))+parseFloat(ca.attr("width"));if(Jt){cr.kn.attr("transform","translate("+($r+je)+","+kr+")");var Er=at.insert("rect","#"+cr.kn.node().id).attr("class","er ".concat(Jr)).attr("fill",Hi.fill).attr("fill-opacity","100%").attr("stroke",Hi.stroke).attr("x",$r).attr("y",Ki).attr("width",En+2*je+Cr).attr("height",cr.height+2*lt);$r=parseFloat(Er.attr("x"))+parseFloat(Er.attr("width"))}Qt&&(cr.cn.attr("transform","translate("+($r+je)+","+kr+")"),at.insert("rect","#"+cr.cn.node().id).attr("class","er ".concat(Jr)).attr("fill",Hi.fill).attr("fill-opacity","100%").attr("stroke",Hi.stroke).attr("x",$r).attr("y",Ki).attr("width",bn+2*je+Cr).attr("height",cr.height+2*lt)),Ki+=cr.height+2*lt,Jr=Jr=="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else wi.height=Math.max(Hi.minEntityHeight,Kn),tt.attr("transform","translate("+wi.width/2+","+wi.height/2+")");return wi}(Je,wt,ke[We].attributes),Ct=et.width,It=et.height,Xe=Je.insert("rect","#"+ct).attr("class","er entityBox").attr("fill",Hi.fill).attr("fill-opacity","100%").attr("stroke",Hi.stroke).attr("x",0).attr("y",0).attr("width",Ct).attr("height",It).node().getBBox();Ue.setNode(We,{width:Xe.width,height:Xe.height,shape:"rect",id:We})}),$e}(I,aa.getEntities(),k),N=function(Ae,ke){return Ae.forEach(function(Ue){ke.setEdge(Ue.entityA,Ue.entityB,{relationship:Ue},X9(Ue))}),Ae}(aa.getRelationships(),k);I1().layout(k),function(Ae,ke){ke.nodes().forEach(function(Ue){Ue!==void 0&&ke.node(Ue)!==void 0&&Ae.select("#"+Ue).attr("transform","translate("+(ke.node(Ue).x-ke.node(Ue).width/2)+","+(ke.node(Ue).y-ke.node(Ue).height/2)+" )")})}(I,k),N.forEach(function(Ae){(function(ke,Ue,$e,We){Z9++;var Je=$e.edge(Ue.entityA,Ue.entityB,X9(Ue)),ct=Jf().x(function(tt){return tt.x}).y(function(tt){return tt.y}).curve(Lu),wt=ke.insert("path","#"+We).attr("class","er relationshipLine").attr("d",ct(Je.points)).attr("stroke",Hi.stroke).attr("fill","none");Ue.relSpec.relType===aa.Identification.NON_IDENTIFYING&&wt.attr("stroke-dasharray","8,8");var et="";switch(Hi.arrowMarkerAbsolute&&(et=(et=(et=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),Ue.relSpec.cardA){case aa.Cardinality.ZERO_OR_ONE:wt.attr("marker-end","url("+et+"#"+Uu.ZERO_OR_ONE_END+")");break;case aa.Cardinality.ZERO_OR_MORE:wt.attr("marker-end","url("+et+"#"+Uu.ZERO_OR_MORE_END+")");break;case aa.Cardinality.ONE_OR_MORE:wt.attr("marker-end","url("+et+"#"+Uu.ONE_OR_MORE_END+")");break;case aa.Cardinality.ONLY_ONE:wt.attr("marker-end","url("+et+"#"+Uu.ONLY_ONE_END+")")}switch(Ue.relSpec.cardB){case aa.Cardinality.ZERO_OR_ONE:wt.attr("marker-start","url("+et+"#"+Uu.ZERO_OR_ONE_START+")");break;case aa.Cardinality.ZERO_OR_MORE:wt.attr("marker-start","url("+et+"#"+Uu.ZERO_OR_MORE_START+")");break;case aa.Cardinality.ONE_OR_MORE:wt.attr("marker-start","url("+et+"#"+Uu.ONE_OR_MORE_START+")");break;case aa.Cardinality.ONLY_ONE:wt.attr("marker-start","url("+et+"#"+Uu.ONLY_ONE_START+")")}var Ct=wt.node().getTotalLength(),It=wt.node().getPointAtLength(.5*Ct),Xe="rel"+Z9,at=ke.append("text").attr("class","er relationshipLabel").attr("id",Xe).attr("x",It.x).attr("y",It.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+xt().fontFamily+"; font-size: "+Hi.fontSize+"px").text(Ue.roleA).node().getBBox();ke.insert("rect","#"+Xe).attr("class","er relationshipLabelBox").attr("x",It.x-at.width/2).attr("y",It.y-at.height/2).attr("width",at.width).attr("height",at.height).attr("fill","white").attr("fill-opacity","85%")})(I,Ae,k,B)});var q=Hi.diagramPadding,re=I.node().getBBox(),ne=re.width+2*q,de=re.height+2*q;dl(I,de,ne,Hi.useMaxWidth),I.attr("viewBox","".concat(re.x-q," ").concat(re.y-q," ").concat(ne," ").concat(de))};function O1(a){return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},O1(a)}function T4(a,c){(c==null||c>a.length)&&(c=a.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=a[g];return y}var $l,jb,PP="flowchart-",Q9=0,L1=xt(),Yi={},Ch=[],A1=[],Zc=[],Kb={},C4={},I4=0,zb=!0,P1=[],qb=function(a){for(var c=Object.keys(Yi),g=0;g<c.length;g++)if(Yi[c[g]].id===a)return Yi[c[g]].domId;return a},DP=function(a,c,g,y){var _={start:a,end:c,type:void 0,text:""};(y=g.text)!==void 0&&(_.text=Kr.sanitizeText(y.trim(),L1),_.text[0]==='"'&&_.text[_.text.length-1]==='"'&&(_.text=_.text.substring(1,_.text.length-1))),g!==void 0&&(_.type=g.type,_.stroke=g.stroke,_.length=g.length),Ch.push(_)},Ur=function(a,c){a.split(",").forEach(function(g){var y=g;Yi[y]!==void 0&&Yi[y].classes.push(c),Kb[y]!==void 0&&Kb[y].classes.push(c)})},R4=function(a){var c=jn(".mermaidTooltip");(c._groups||c)[0][0]===null&&(c=jn("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),jn(a).select("svg").selectAll("g.node").on("mouseover",function(){var g=jn(this);if(g.attr("title")!==null){var y=this.getBoundingClientRect();c.transition().duration(200).style("opacity",".9"),c.html(g.attr("title")).style("left",window.scrollX+y.left+(y.right-y.left)/2+"px").style("top",window.scrollY+y.top-14+document.body.scrollTop+"px"),g.classed("hover",!0)}}).on("mouseout",function(){c.transition().duration(500).style("opacity",0),jn(this).classed("hover",!1)})};P1.push(R4);var jo=function(a){for(var c=0;c<Zc.length;c++)if(Zc[c].id===a)return c;return-1},Hu=-1,eT=[],M4=function a(c,g){var y=Zc[g].nodes;if(!((Hu+=1)>2e3)){if(eT[Hu]=g,Zc[g].id===c)return{result:!0,count:0};for(var _=0,S=1;_<y.length;){var k=jo(y[_]);if(k>=0){var I=a(c,k);if(I.result)return{result:!0,count:S+I.count};S+=I.count}_+=1}return{result:!1,count:S}}},mc=function(a,c){var g=!1;return a.forEach(function(y){y.nodes.indexOf(c)>=0&&(g=!0)}),g},Ih=function(a,c){var g=[];return a.nodes.forEach(function(y,_){mc(c,y)||g.push(a.nodes[_])}),{nodes:g}};const vr={parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},defaultConfig:function(){return M0.flowchart},addVertex:function(a,c,g,y,_,S){var k,I=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},B=a;B!==void 0&&B.trim().length!==0&&(Yi[B]===void 0&&(Yi[B]={id:B,domId:PP+B+"-"+Q9,styles:[],classes:[]}),Q9++,c!==void 0?(L1=xt(),(k=Kr.sanitizeText(c.trim(),L1))[0]==='"'&&k[k.length-1]==='"'&&(k=k.substring(1,k.length-1)),Yi[B].text=k):Yi[B].text===void 0&&(Yi[B].text=a),g!==void 0&&(Yi[B].type=g),y!=null&&y.forEach(function(N){Yi[B].styles.push(N)}),_!=null&&_.forEach(function(N){Yi[B].classes.push(N)}),S!==void 0&&(Yi[B].dir=S),Yi[B].props=I)},lookUpDomId:qb,addLink:function(a,c,g,y){var _,S;for(_=0;_<a.length;_++)for(S=0;S<c.length;S++)DP(a[_],c[S],g,y)},updateLinkInterpolate:function(a,c){a.forEach(function(g){g==="default"?Ch.defaultInterpolate=c:Ch[g].interpolate=c})},updateLink:function(a,c){a.forEach(function(g){g==="default"?Ch.defaultStyle=c:(Dr.isSubstringInArray("fill",c)===-1&&c.push("fill:none"),Ch[g].style=c)})},addClass:function(a,c){A1[a]===void 0&&(A1[a]={id:a,styles:[],textStyles:[]}),c!=null&&c.forEach(function(g){if(g.match("color")){var y=g.replace("fill","bgFill").replace("color","fill");A1[a].textStyles.push(y)}A1[a].styles.push(g)})},setDirection:function(a){($l=a).match(/.*</)&&($l="RL"),$l.match(/.*\^/)&&($l="BT"),$l.match(/.*>/)&&($l="LR"),$l.match(/.*v/)&&($l="TB")},setClass:Ur,setTooltip:function(a,c){a.split(",").forEach(function(g){c!==void 0&&(C4[jb==="gen-1"?qb(g):g]=Kr.sanitizeText(c,L1))})},getTooltip:function(a){return C4[a]},setClickEvent:function(a,c,g){a.split(",").forEach(function(y){(function(_,S,k){var I=qb(_);if(xt().securityLevel==="loose"&&S!==void 0){var B=[];if(typeof k=="string"){B=k.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var N=0;N<B.length;N++){var q=B[N].trim();q.charAt(0)==='"'&&q.charAt(q.length-1)==='"'&&(q=q.substr(1,q.length-2)),B[N]=q}}B.length===0&&B.push(_),Yi[_]!==void 0&&(Yi[_].haveCallback=!0,P1.push(function(){var re=document.querySelector('[id="'.concat(I,'"]'));re!==null&&re.addEventListener("click",function(){var ne;Dr.runFunc.apply(Dr,[S].concat(function(de){if(Array.isArray(de))return T4(de)}(ne=B)||function(de){if(typeof Symbol!="undefined"&&de[Symbol.iterator]!=null||de["@@iterator"]!=null)return Array.from(de)}(ne)||function(de,Ae){if(de){if(typeof de=="string")return T4(de,Ae);var ke=Object.prototype.toString.call(de).slice(8,-1);return ke==="Object"&&de.constructor&&(ke=de.constructor.name),ke==="Map"||ke==="Set"?Array.from(de):ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke)?T4(de,Ae):void 0}}(ne)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))},!1)}))}})(y,c,g)}),Ur(a,"clickable")},setLink:function(a,c,g){a.split(",").forEach(function(y){Yi[y]!==void 0&&(Yi[y].link=Dr.formatUrl(c,L1),Yi[y].linkTarget=g)}),Ur(a,"clickable")},bindFunctions:function(a){P1.forEach(function(c){c(a)})},getDirection:function(){return $l.trim()},getVertices:function(){return Yi},getEdges:function(){return Ch},getClasses:function(){return A1},clear:function(a){Yi={},A1={},Ch=[],(P1=[]).push(R4),Zc=[],Kb={},I4=0,C4=[],zb=!0,jb=a||"gen-1"},setGen:function(a){jb=a||"gen-1"},defaultStyle:function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph:function(a,c,g){var y=a.trim(),_=g;a===g&&g.match(/\s/)&&(y=void 0);var S=[],k=function(re){var ne,de={boolean:{},number:{},string:{}},Ae=[],ke=re.filter(function(Ue){var $e=O1(Ue);return Ue.stmt&&Ue.stmt==="dir"?(ne=Ue.value,!1):Ue.trim()!==""&&($e in de?!de[$e].hasOwnProperty(Ue)&&(de[$e][Ue]=!0):!(Ae.indexOf(Ue)>=0)&&Ae.push(Ue))});return{nodeList:ke,dir:ne}}(S.concat.apply(S,c)),I=k.nodeList,B=k.dir;if(S=I,jb==="gen-1"){o.warn("LOOKING UP");for(var N=0;N<S.length;N++)S[N]=qb(S[N])}y=y||"subGraph"+I4,_=_||"",_=Kr.sanitizeText(_,L1),I4+=1;var q={id:y,nodes:S,title:_.trim(),classes:[],dir:B};return o.info("Adding",q.id,q.nodes,q.dir),q.nodes=Ih(q,Zc).nodes,Zc.push(q),Kb[y]=q,y},getDepthFirstPos:function(a){return eT[a]},indexNodes:function(){Hu=-1,Zc.length>0&&M4("none",Zc.length-1)},getSubGraphs:function(){return Zc},destructLink:function(a,c){var g,y=function(_){var S=_.trim(),k=S.slice(0,-1),I="arrow_open";switch(S.slice(-1)){case"x":I="arrow_cross",S[0]==="x"&&(I="double_"+I,k=k.slice(1));break;case">":I="arrow_point",S[0]==="<"&&(I="double_"+I,k=k.slice(1));break;case"o":I="arrow_circle",S[0]==="o"&&(I="double_"+I,k=k.slice(1))}var B="normal",N=k.length-1;k[0]==="="&&(B="thick");var q=function(re,ne){for(var de=ne.length,Ae=0,ke=0;ke<de;++ke)ne[ke]==="."&&++Ae;return Ae}(0,k);return q&&(B="dotted",N=q),{type:I,stroke:B,length:N}}(a);if(c){if(g=function(_){var S=_.trim(),k="arrow_open";switch(S[0]){case"<":k="arrow_point",S=S.slice(1);break;case"x":k="arrow_cross",S=S.slice(1);break;case"o":k="arrow_circle",S=S.slice(1)}var I="normal";return S.indexOf("=")!==-1&&(I="thick"),S.indexOf(".")!==-1&&(I="dotted"),{type:k,stroke:I}}(c),g.stroke!==y.stroke)return{type:"INVALID",stroke:"INVALID"};if(g.type==="arrow_open")g.type=y.type;else{if(g.type!==y.type)return{type:"INVALID",stroke:"INVALID"};g.type="double_"+g.type}return g.type==="double_arrow"&&(g.type="double_arrow_point"),g.length=y.length,g}return y},lex:{firstGraph:function(){return!!zb&&(zb=!1,!0)}},exists:mc,makeUniq:Ih};var qd=n(3602),Rh=n.n(qd),Vd=n(4949),fl=n.n(Vd),tT=n(8284),nT=n.n(tT);function NP(a,c,g){var y=.9*(c.width+c.height),_=[{x:y/2,y:0},{x:y,y:-y/2},{x:y/2,y:-y},{x:0,y:-y/2}],S=yc(a,y,y,_);return g.intersect=function(k){return fl().intersect.polygon(g,_,k)},S}function BP(a,c,g){var y=c.height,_=y/4,S=c.width+2*_,k=[{x:_,y:0},{x:S-_,y:0},{x:S,y:-y/2},{x:S-_,y:-y},{x:_,y:-y},{x:0,y:-y/2}],I=yc(a,S,y,k);return g.intersect=function(B){return fl().intersect.polygon(g,k,B)},I}function $P(a,c,g){var y=c.width,_=c.height,S=[{x:-_/2,y:0},{x:y,y:0},{x:y,y:-_},{x:-_/2,y:-_},{x:0,y:-_/2}],k=yc(a,y,_,S);return g.intersect=function(I){return fl().intersect.polygon(g,S,I)},k}function FP(a,c,g){var y=c.width,_=c.height,S=[{x:-2*_/6,y:0},{x:y-_/6,y:0},{x:y+2*_/6,y:-_},{x:_/6,y:-_}],k=yc(a,y,_,S);return g.intersect=function(I){return fl().intersect.polygon(g,S,I)},k}function UP(a,c,g){var y=c.width,_=c.height,S=[{x:2*_/6,y:0},{x:y+_/6,y:0},{x:y-2*_/6,y:-_},{x:-_/6,y:-_}],k=yc(a,y,_,S);return g.intersect=function(I){return fl().intersect.polygon(g,S,I)},k}function Vb(a,c,g){var y=c.width,_=c.height,S=[{x:-2*_/6,y:0},{x:y+2*_/6,y:0},{x:y-_/6,y:-_},{x:_/6,y:-_}],k=yc(a,y,_,S);return g.intersect=function(I){return fl().intersect.polygon(g,S,I)},k}function HP(a,c,g){var y=c.width,_=c.height,S=[{x:_/6,y:0},{x:y-_/6,y:0},{x:y+2*_/6,y:-_},{x:-2*_/6,y:-_}],k=yc(a,y,_,S);return g.intersect=function(I){return fl().intersect.polygon(g,S,I)},k}function rT(a,c,g){var y=c.width,_=c.height,S=[{x:0,y:0},{x:y+_/2,y:0},{x:y,y:-_/2},{x:y+_/2,y:-_},{x:0,y:-_}],k=yc(a,y,_,S);return g.intersect=function(I){return fl().intersect.polygon(g,S,I)},k}function Gb(a,c,g){var y=c.height,_=c.width+y/4,S=a.insert("rect",":first-child").attr("rx",y/2).attr("ry",y/2).attr("x",-_/2).attr("y",-y/2).attr("width",_).attr("height",y);return g.intersect=function(k){return fl().intersect.rect(g,k)},S}function O4(a,c,g){var y=c.width,_=c.height,S=[{x:0,y:0},{x:y,y:0},{x:y,y:-_},{x:0,y:-_},{x:0,y:0},{x:-8,y:0},{x:y+8,y:0},{x:y+8,y:-_},{x:-8,y:-_},{x:-8,y:0}],k=yc(a,y,_,S);return g.intersect=function(I){return fl().intersect.polygon(g,S,I)},k}function L4(a,c,g){var y=c.width,_=y/2,S=_/(2.5+y/50),k=c.height+S,I="M 0,"+S+" a "+_+","+S+" 0,0,0 "+y+" 0 a "+_+","+S+" 0,0,0 "+-y+" 0 l 0,"+k+" a "+_+","+S+" 0,0,0 "+y+" 0 l 0,"+-k,B=a.attr("label-offset-y",S).insert("path",":first-child").attr("d",I).attr("transform","translate("+-y/2+","+-(k/2+S)+")");return g.intersect=function(N){var q=fl().intersect.rect(g,N),re=q.x-g.x;if(_!=0&&(Math.abs(re)<g.width/2||Math.abs(re)==g.width/2&&Math.abs(q.y-g.y)>g.height/2-S)){var ne=S*S*(1-re*re/(_*_));ne!=0&&(ne=Math.sqrt(ne)),ne=S-ne,N.y-g.y>0&&(ne=-ne),q.y+=ne}return q},B}function yc(a,c,g,y){return a.insert("polygon",":first-child").attr("points",y.map(function(_){return _.x+","+_.y}).join(" ")).attr("transform","translate("+-c/2+","+g/2+")")}const iT=function(a){a.shapes().question=NP,a.shapes().hexagon=BP,a.shapes().stadium=Gb,a.shapes().subroutine=O4,a.shapes().cylinder=L4,a.shapes().rect_left_inv_arrow=$P,a.shapes().lean_right=FP,a.shapes().lean_left=UP,a.shapes().trapezoid=Vb,a.shapes().inv_trapezoid=HP,a.shapes().rect_right_inv_arrow=rT};var sT={};const oT=function(a){for(var c=Object.keys(a),g=0;g<c.length;g++)sT[c[g]]=a[c[g]]},jP=function(a,c){o.info("Drawing flowchart"),vr.clear(),vr.setGen("gen-1");var g=Rh().parser;g.yy=vr;var y,_=xt().securityLevel;_==="sandbox"&&(y=jn("#i"+c));var S=jn(_==="sandbox"?y.nodes()[0].contentDocument.body:"body"),k=_==="sandbox"?y.nodes()[0].contentDocument:document;g.parse(a);var I=vr.getDirection();I===void 0&&(I="TD");for(var B,N=xt().flowchart,q=N.nodeSpacing||50,re=N.rankSpacing||50,ne=new(Ds()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:I,nodesep:q,ranksep:re,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),de=vr.getSubGraphs(),Ae=de.length-1;Ae>=0;Ae--)B=de[Ae],vr.addVertex(B.id,B.title,"group",void 0,B.classes);var ke=vr.getVertices();o.warn("Get vertices",ke);var Ue=vr.getEdges(),$e=0;for($e=de.length-1;$e>=0;$e--){B=de[$e],s2("cluster").append("text");for(var We=0;We<B.nodes.length;We++)o.warn("Setting subgraph",B.nodes[We],vr.lookUpDomId(B.nodes[We]),vr.lookUpDomId(B.id)),ne.setParent(vr.lookUpDomId(B.nodes[We]),vr.lookUpDomId(B.id))}(function(bn,Kn,fr,Ln,ni){xt().securityLevel;var wi=Ln?Ln.select('[id="'.concat(fr,'"]')):jn('[id="'.concat(fr,'"]')),Cr=ni||document;Object.keys(bn).forEach(function(Ki){var Jr=bn[Ki],cr="default";Jr.classes.length>0&&(cr=Jr.classes.join(" "));var kr,ai=jd(Jr.styles),Ba=Jr.text!==void 0?Jr.text:Jr.id;if(Ms(xt().flowchart.htmlLabels)){var ca={label:Ba.replace(/fa[lrsb]?:fa-[\w-]+/g,function(X0){return"<i class='".concat(X0.replace(":"," "),"'></i>")})};(kr=nT()(wi,ca).node()).parentNode.removeChild(kr)}else{var $r=Cr.createElementNS("http://www.w3.org/2000/svg","text");$r.setAttribute("style",ai.labelStyle.replace("color:","fill:"));for(var Er=Ba.split(Kr.lineBreakRegex),ml=0;ml<Er.length;ml++){var Ul=Cr.createElementNS("http://www.w3.org/2000/svg","tspan");Ul.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Ul.setAttribute("dy","1em"),Ul.setAttribute("x","1"),Ul.textContent=Er[ml],$r.appendChild(Ul)}kr=$r}var Ec=0,Os="";switch(Jr.type){case"round":Ec=5,Os="rect";break;case"square":case"group":default:Os="rect";break;case"diamond":Os="question";break;case"hexagon":Os="hexagon";break;case"odd":case"odd_right":Os="rect_left_inv_arrow";break;case"lean_right":Os="lean_right";break;case"lean_left":Os="lean_left";break;case"trapezoid":Os="trapezoid";break;case"inv_trapezoid":Os="inv_trapezoid";break;case"circle":Os="circle";break;case"ellipse":Os="ellipse";break;case"stadium":Os="stadium";break;case"subroutine":Os="subroutine";break;case"cylinder":Os="cylinder"}o.warn("Adding node",Jr.id,Jr.domId),Kn.setNode(vr.lookUpDomId(Jr.id),{labelType:"svg",labelStyle:ai.labelStyle,shape:Os,label:kr,rx:Ec,ry:Ec,class:cr,style:ai.style,id:vr.lookUpDomId(Jr.id)})})})(ke,ne,c,S,k),function(bn,Kn){var fr,Ln,ni=0;if(bn.defaultStyle!==void 0){var wi=jd(bn.defaultStyle);fr=wi.style,Ln=wi.labelStyle}bn.forEach(function(Cr){ni++;var Ki="L-"+Cr.start+"-"+Cr.end,Jr="LS-"+Cr.start,cr="LE-"+Cr.end,kr={};Cr.type==="arrow_open"?kr.arrowhead="none":kr.arrowhead="normal";var ai="",Ba="";if(Cr.style!==void 0){var ca=jd(Cr.style);ai=ca.style,Ba=ca.labelStyle}else switch(Cr.stroke){case"normal":ai="fill:none",fr!==void 0&&(ai=fr),Ln!==void 0&&(Ba=Ln);break;case"dotted":ai="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":ai=" stroke-width: 3.5px;fill:none"}kr.style=ai,kr.labelStyle=Ba,Cr.interpolate!==void 0?kr.curve=gc(Cr.interpolate,pi):bn.defaultInterpolate!==void 0?kr.curve=gc(bn.defaultInterpolate,pi):kr.curve=gc(sT.curve,pi),Cr.text===void 0?Cr.style!==void 0&&(kr.arrowheadStyle="fill: #333"):(kr.arrowheadStyle="fill: #333",kr.labelpos="c",Ms(xt().flowchart.htmlLabels)?(kr.labelType="html",kr.label='<span id="L-'.concat(Ki,'" class="edgeLabel L-').concat(Jr,"' L-").concat(cr,'">').concat(Cr.text.replace(/fa[lrsb]?:fa-[\w-]+/g,function($r){return"<i class='".concat($r.replace(":"," "),"'></i>")}),"</span>")):(kr.labelType="text",kr.label=Cr.text.replace(Kr.lineBreakRegex,`
`),Cr.style===void 0&&(kr.style=kr.style||"stroke: #333; stroke-width: 1.5px;fill:none"),kr.labelStyle=kr.labelStyle.replace("color:","fill:"))),kr.id=Ki,kr.class=Jr+" "+cr,kr.minlen=Cr.length||1,Kn.setEdge(vr.lookUpDomId(Cr.start),vr.lookUpDomId(Cr.end),kr,ni)})}(Ue,ne);var Je=new(fl()).render;iT(Je),Je.arrows().none=function(bn,Kn,fr,Ln){var ni=bn.append("marker").attr("id",Kn).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");fl().util.applyStyle(ni,fr[Ln+"Style"])},Je.arrows().normal=function(bn,Kn){bn.append("marker").attr("id",Kn).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};var ct=S.select('[id="'.concat(c,'"]'));ct.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),o.warn(ne);var wt=S.select("#"+c+" g");Je(wt,ne),wt.selectAll("g.node").attr("title",function(){return vr.getTooltip(this.id)});var et=N.diagramPadding,Ct=ct.node().getBBox(),It=Ct.width+2*et,Xe=Ct.height+2*et;dl(ct,Xe,It,N.useMaxWidth);var at="".concat(Ct.x-et," ").concat(Ct.y-et," ").concat(It," ").concat(Xe);for(o.debug("viewBox ".concat(at)),ct.attr("viewBox",at),vr.indexNodes("subGraph"+$e),$e=0;$e<de.length;$e++)if((B=de[$e]).title!=="undefined"){var tt=k.querySelectorAll("#"+c+' [id="'+vr.lookUpDomId(B.id)+'"] rect'),He=k.querySelectorAll("#"+c+' [id="'+vr.lookUpDomId(B.id)+'"]'),lt=tt[0].x.baseVal.value,je=tt[0].y.baseVal.value,Gt=tt[0].width.baseVal.value,Xt=jn(He[0]).select(".label");Xt.attr("transform","translate(".concat(lt+Gt/2,", ").concat(je+14,")")),Xt.attr("id",c+"Text");for(var ht=0;ht<B.classes.length;ht++)He[0].classList.add(B.classes[ht])}Ms(N.htmlLabels);for(var Jt=k.querySelectorAll('[id="'+c+'"] .edgeLabel .label'),Qt=0;Qt<Jt.length;Qt++){var zt=Jt[Qt],$t=zt.getBBox(),En=k.createElementNS("http://www.w3.org/2000/svg","rect");En.setAttribute("rx",0),En.setAttribute("ry",0),En.setAttribute("width",$t.width),En.setAttribute("height",$t.height),zt.insertBefore(En,zt.firstChild)}Object.keys(ke).forEach(function(bn){var Kn=ke[bn];if(Kn.link){var fr=S.select("#"+c+' [id="'+vr.lookUpDomId(bn)+'"]');if(fr){var Ln=k.createElementNS("http://www.w3.org/2000/svg","a");Ln.setAttributeNS("http://www.w3.org/2000/svg","class",Kn.classes.join(" ")),Ln.setAttributeNS("http://www.w3.org/2000/svg","href",Kn.link),Ln.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),_==="sandbox"?Ln.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):Kn.linkTarget&&Ln.setAttributeNS("http://www.w3.org/2000/svg","target",Kn.linkTarget);var ni=fr.insert(function(){return Ln},":first-child"),wi=fr.select(".label-container");wi&&ni.append(function(){return wi.node()});var Cr=fr.select(".label");Cr&&ni.append(function(){return Cr.node()})}}})};var A4={};const P4=function(a){for(var c=Object.keys(a),g=0;g<c.length;g++)A4[c[g]]=a[c[g]]},D4=function(a,c){o.info("Drawing flowchart"),vr.clear(),vr.setGen("gen-2");var g=Rh().parser;g.yy=vr,g.parse(a);var y=vr.getDirection();y===void 0&&(y="TD");var _,S=xt().flowchart,k=S.nodeSpacing||50,I=S.rankSpacing||50,B=xt().securityLevel;B==="sandbox"&&(_=jn("#i"+c));var N,q=jn(B==="sandbox"?_.nodes()[0].contentDocument.body:"body"),re=B==="sandbox"?_.nodes()[0].contentDocument:document,ne=new(Ds()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:y,nodesep:k,ranksep:I,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),de=vr.getSubGraphs();o.info("Subgraphs - ",de);for(var Ae=de.length-1;Ae>=0;Ae--)N=de[Ae],o.info("Subgraph - ",N),vr.addVertex(N.id,N.title,"group",void 0,N.classes,N.dir);var ke=vr.getVertices(),Ue=vr.getEdges();o.info(Ue);var $e=0;for($e=de.length-1;$e>=0;$e--){N=de[$e],s2("cluster").append("text");for(var We=0;We<N.nodes.length;We++)o.info("Setting up subgraphs",N.nodes[We],N.id),ne.setParent(N.nodes[We],N.id)}(function(je,Gt,Xt,ht,Jt){var Qt=ht.select('[id="'.concat(Xt,'"]'));Object.keys(je).forEach(function(zt){var $t=je[zt],En="default";$t.classes.length>0&&(En=$t.classes.join(" "));var bn,Kn=jd($t.styles),fr=$t.text!==void 0?$t.text:$t.id;if(Ms(xt().flowchart.htmlLabels)){var Ln={label:fr.replace(/fa[lrsb]?:fa-[\w-]+/g,function(kr){return"<i class='".concat(kr.replace(":"," "),"'></i>")})};(bn=nT()(Qt,Ln).node()).parentNode.removeChild(bn)}else{var ni=Jt.createElementNS("http://www.w3.org/2000/svg","text");ni.setAttribute("style",Kn.labelStyle.replace("color:","fill:"));for(var wi=fr.split(Kr.lineBreakRegex),Cr=0;Cr<wi.length;Cr++){var Ki=Jt.createElementNS("http://www.w3.org/2000/svg","tspan");Ki.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Ki.setAttribute("dy","1em"),Ki.setAttribute("x","1"),Ki.textContent=wi[Cr],ni.appendChild(Ki)}bn=ni}var Jr=0,cr="";switch($t.type){case"round":Jr=5,cr="rect";break;case"square":case"group":default:cr="rect";break;case"diamond":cr="question";break;case"hexagon":cr="hexagon";break;case"odd":case"odd_right":cr="rect_left_inv_arrow";break;case"lean_right":cr="lean_right";break;case"lean_left":cr="lean_left";break;case"trapezoid":cr="trapezoid";break;case"inv_trapezoid":cr="inv_trapezoid";break;case"circle":cr="circle";break;case"ellipse":cr="ellipse";break;case"stadium":cr="stadium";break;case"subroutine":cr="subroutine";break;case"cylinder":cr="cylinder"}Gt.setNode($t.id,{labelStyle:Kn.labelStyle,shape:cr,labelText:fr,rx:Jr,ry:Jr,class:En,style:Kn.style,id:$t.id,link:$t.link,linkTarget:$t.linkTarget,tooltip:vr.getTooltip($t.id)||"",domId:vr.lookUpDomId($t.id),haveCallback:$t.haveCallback,width:$t.type==="group"?500:void 0,dir:$t.dir,type:$t.type,props:$t.props,padding:xt().flowchart.padding}),o.info("setNode",{labelStyle:Kn.labelStyle,shape:cr,labelText:fr,rx:Jr,ry:Jr,class:En,style:Kn.style,id:$t.id,domId:vr.lookUpDomId($t.id),width:$t.type==="group"?500:void 0,type:$t.type,dir:$t.dir,props:$t.props,padding:xt().flowchart.padding})})})(ke,ne,c,q,re),function(je,Gt){o.info("abc78 edges = ",je);var Xt,ht,Jt=0,Qt={};if(je.defaultStyle!==void 0){var zt=jd(je.defaultStyle);Xt=zt.style,ht=zt.labelStyle}je.forEach(function($t){Jt++;var En="L-"+$t.start+"-"+$t.end;Qt[En]===void 0?(Qt[En]=0,o.info("abc78 new entry",En,Qt[En])):(Qt[En]++,o.info("abc78 new entry",En,Qt[En]));var bn=En+"-"+Qt[En];o.info("abc78 new link id to be used is",En,bn,Qt[En]);var Kn="LS-"+$t.start,fr="LE-"+$t.end,Ln={style:"",labelStyle:""};switch(Ln.minlen=$t.length||1,$t.type==="arrow_open"?Ln.arrowhead="none":Ln.arrowhead="normal",Ln.arrowTypeStart="arrow_open",Ln.arrowTypeEnd="arrow_open",$t.type){case"double_arrow_cross":Ln.arrowTypeStart="arrow_cross";case"arrow_cross":Ln.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":Ln.arrowTypeStart="arrow_point";case"arrow_point":Ln.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":Ln.arrowTypeStart="arrow_circle";case"arrow_circle":Ln.arrowTypeEnd="arrow_circle"}var ni="",wi="";switch($t.stroke){case"normal":ni="fill:none;",Xt!==void 0&&(ni=Xt),ht!==void 0&&(wi=ht),Ln.thickness="normal",Ln.pattern="solid";break;case"dotted":Ln.thickness="normal",Ln.pattern="dotted",Ln.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":Ln.thickness="thick",Ln.pattern="solid",Ln.style="stroke-width: 3.5px;fill:none;"}if($t.style!==void 0){var Cr=jd($t.style);ni=Cr.style,wi=Cr.labelStyle}Ln.style=Ln.style+=ni,Ln.labelStyle=Ln.labelStyle+=wi,$t.interpolate!==void 0?Ln.curve=gc($t.interpolate,pi):je.defaultInterpolate!==void 0?Ln.curve=gc(je.defaultInterpolate,pi):Ln.curve=gc(A4.curve,pi),$t.text===void 0?$t.style!==void 0&&(Ln.arrowheadStyle="fill: #333"):(Ln.arrowheadStyle="fill: #333",Ln.labelpos="c"),Ln.labelType="text",Ln.label=$t.text.replace(Kr.lineBreakRegex,`
`),$t.style===void 0&&(Ln.style=Ln.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),Ln.labelStyle=Ln.labelStyle.replace("color:","fill:"),Ln.id=bn,Ln.classes="flowchart-link "+Kn+" "+fr,Gt.setEdge($t.start,$t.end,Ln,Jt)})}(Ue,ne);var Je=q.select('[id="'.concat(c,'"]'));Je.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var ct=q.select("#"+c+" g");E4(ct,ne,["point","circle","cross"],"flowchart",c);var wt=S.diagramPadding,et=Je.node().getBBox(),Ct=et.width+2*wt,It=et.height+2*wt;if(o.debug("new ViewBox 0 0 ".concat(Ct," ").concat(It),"translate(".concat(wt-ne._label.marginx,", ").concat(wt-ne._label.marginy,")")),dl(Je,It,Ct,S.useMaxWidth),Je.attr("viewBox","0 0 ".concat(Ct," ").concat(It)),Je.select("g").attr("transform","translate(".concat(wt-ne._label.marginx,", ").concat(wt-et.y,")")),vr.indexNodes("subGraph"+$e),!S.htmlLabels)for(var Xe=re.querySelectorAll('[id="'+c+'"] .edgeLabel .label'),at=0;at<Xe.length;at++){var tt=Xe[at],He=tt.getBBox(),lt=re.createElementNS("http://www.w3.org/2000/svg","rect");lt.setAttribute("rx",0),lt.setAttribute("ry",0),lt.setAttribute("width",He.width),lt.setAttribute("height",He.height),tt.insertBefore(lt,tt.firstChild)}Object.keys(ke).forEach(function(je){var Gt=ke[je];if(Gt.link){var Xt=jn("#"+c+' [id="'+je+'"]');if(Xt){var ht=re.createElementNS("http://www.w3.org/2000/svg","a");ht.setAttributeNS("http://www.w3.org/2000/svg","class",Gt.classes.join(" ")),ht.setAttributeNS("http://www.w3.org/2000/svg","href",Gt.link),ht.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),B==="sandbox"?ht.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):Gt.linkTarget&&ht.setAttributeNS("http://www.w3.org/2000/svg","target",Gt.linkTarget);var Jt=Xt.insert(function(){return ht},":first-child"),Qt=Xt.select(".label-container");Qt&&Jt.append(function(){return Qt.node()});var zt=Xt.select(".label");zt&&Jt.append(function(){return zt.node()})}}})};function Mh(a,c){(c==null||c>a.length)&&(c=a.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=a[g];return y}var Wb,F0,Pa="",U0="",N4="",H0=[],Oh=[],B4={},$4="",F4=[],U4=[],D1="",aT=["active","done","crit","milestone"],N1=[],B1=!1,Yb=!1,H4=0,j4=function(a,c,g,y){return!(y.indexOf(a.format(c.trim()))>=0)&&(a.isoWeekday()>=6&&g.indexOf("weekends")>=0||g.indexOf(a.format("dddd").toLowerCase())>=0||g.indexOf(a.format(c.trim()))>=0)},K4=function(a,c,g,y){if(g.length&&!a.manualEndTime){var _=i()(a.startTime,c,!0);_.add(1,"d");var S=i()(a.endTime,c,!0),k=KP(_,S,c,g,y);a.endTime=S.toDate(),a.renderEndTime=k}},KP=function(a,c,g,y,_){for(var S=!1,k=null;a<=c;)S||(k=c.toDate()),(S=j4(a,g,y,_))&&c.add(1,"d"),a.add(1,"d");return k},z4=function(a,c,g){g=g.trim();var y=/^after\s+([\d\w- ]+)/.exec(g.trim());if(y!==null){var _=null;if(y[1].split(" ").forEach(function(I){var B=Gd(I);B!==void 0&&(_?B.endTime>_.endTime&&(_=B):_=B)}),_)return _.endTime;var S=new Date;return S.setHours(0,0,0,0),S}var k=i()(g,c.trim(),!0);return k.isValid()?k.toDate():(o.debug("Invalid date:"+g),o.debug("With date format:"+c.trim()),new Date)},q4=function(a,c){if(a!==null)switch(a[2]){case"s":c.add(a[1],"seconds");break;case"m":c.add(a[1],"minutes");break;case"h":c.add(a[1],"hours");break;case"d":c.add(a[1],"days");break;case"w":c.add(a[1],"weeks")}return c.toDate()},V4=function(a,c,g,y){y=y||!1,g=g.trim();var _=i()(g,c.trim(),!0);return _.isValid()?(y&&_.add(1,"d"),_.toDate()):q4(/^([\d]+)([wdhms])/.exec(g.trim()),i()(a))},Xb=0,Lh=function(a){return a===void 0?"task"+(Xb+=1):a},_i=[],hl={},Gd=function(a){var c=hl[a];return _i[c]},lT=function(){for(var a=function(y){var _=_i[y],S="";switch(_i[y].raw.startTime.type){case"prevTaskEnd":var k=Gd(_.prevTaskId);_.startTime=k.endTime;break;case"getStartDate":(S=z4(0,Pa,_i[y].raw.startTime.startData))&&(_i[y].startTime=S)}return _i[y].startTime&&(_i[y].endTime=V4(_i[y].startTime,Pa,_i[y].raw.endTime.data,B1),_i[y].endTime&&(_i[y].processed=!0,_i[y].manualEndTime=i()(_i[y].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),K4(_i[y],Pa,Oh,H0))),_i[y].processed},c=!0,g=0;g<_i.length;g++)a(g),c=c&&_i[g].processed;return c},G4=function(a,c){a.split(",").forEach(function(g){var y=Gd(g);y!==void 0&&y.classes.push(c)})},cT=function(a,c){N1.push(function(){var g=document.querySelector('[id="'.concat(a,'"]'));g!==null&&g.addEventListener("click",function(){c()})}),N1.push(function(){var g=document.querySelector('[id="'.concat(a,'-text"]'));g!==null&&g.addEventListener("click",function(){c()})})};const $1={parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().gantt},clear:function(){F4=[],U4=[],D1="",N1=[],$4="",Xb=0,Wb=void 0,F0=void 0,_i=[],Pa="",U0="",N4="",H0=[],Oh=[],B1=!1,Yb=!1,H4=0,B4={}},setDateFormat:function(a){Pa=a},getDateFormat:function(){return Pa},enableInclusiveEndDates:function(){B1=!0},endDatesAreInclusive:function(){return B1},enableTopAxis:function(){Yb=!0},topAxisEnabled:function(){return Yb},setAxisFormat:function(a){U0=a},getAxisFormat:function(){return U0},setTodayMarker:function(a){N4=a},getTodayMarker:function(){return N4},setTitle:function(a){$4=a},getTitle:function(){return $4},addSection:function(a){D1=a,F4.push(a)},getSections:function(){return F4},getTasks:function(){for(var a=lT(),c=0;!a&&c<10;)a=lT(),c++;return U4=_i},addTask:function(a,c){var g={section:D1,type:D1,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:c},task:a,classes:[]},y=function(S,k){var I=(k.substr(0,1)===":"?k.substr(1,k.length):k).split(","),B={};ju(I,B,aT);for(var N=0;N<I.length;N++)I[N]=I[N].trim();switch(I.length){case 1:B.id=Lh(),B.startTime={type:"prevTaskEnd",id:S},B.endTime={data:I[0]};break;case 2:B.id=Lh(),B.startTime={type:"getStartDate",startData:I[0]},B.endTime={data:I[1]};break;case 3:B.id=Lh(I[0]),B.startTime={type:"getStartDate",startData:I[1]},B.endTime={data:I[2]}}return B}(F0,c);g.raw.startTime=y.startTime,g.raw.endTime=y.endTime,g.id=y.id,g.prevTaskId=F0,g.active=y.active,g.done=y.done,g.crit=y.crit,g.milestone=y.milestone,g.order=H4,H4++;var _=_i.push(g);F0=g.id,hl[g.id]=_-1},findTaskById:Gd,addTaskOrg:function(a,c){var g={section:D1,type:D1,description:a,task:a,classes:[]},y=function(_,S){var k=(S.substr(0,1)===":"?S.substr(1,S.length):S).split(","),I={};ju(k,I,aT);for(var B=0;B<k.length;B++)k[B]=k[B].trim();var N="";switch(k.length){case 1:I.id=Lh(),I.startTime=_.endTime,N=k[0];break;case 2:I.id=Lh(),I.startTime=z4(0,Pa,k[0]),N=k[1];break;case 3:I.id=Lh(k[0]),I.startTime=z4(0,Pa,k[1]),N=k[2]}return N&&(I.endTime=V4(I.startTime,Pa,N,B1),I.manualEndTime=i()(N,"YYYY-MM-DD",!0).isValid(),K4(I,Pa,Oh,H0)),I}(Wb,c);g.startTime=y.startTime,g.endTime=y.endTime,g.id=y.id,g.active=y.active,g.done=y.done,g.crit=y.crit,g.milestone=y.milestone,Wb=g,U4.push(g)},setIncludes:function(a){H0=a.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return H0},setExcludes:function(a){Oh=a.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return Oh},setClickEvent:function(a,c,g){a.split(",").forEach(function(y){(function(_,S,k){if(xt().securityLevel==="loose"&&S!==void 0){var I=[];if(typeof k=="string"){I=k.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var B=0;B<I.length;B++){var N=I[B].trim();N.charAt(0)==='"'&&N.charAt(N.length-1)==='"'&&(N=N.substr(1,N.length-2)),I[B]=N}}I.length===0&&I.push(_),Gd(_)!==void 0&&cT(_,function(){var q;Dr.runFunc.apply(Dr,[S].concat(function(re){if(Array.isArray(re))return Mh(re)}(q=I)||function(re){if(typeof Symbol!="undefined"&&re[Symbol.iterator]!=null||re["@@iterator"]!=null)return Array.from(re)}(q)||function(re,ne){if(re){if(typeof re=="string")return Mh(re,ne);var de=Object.prototype.toString.call(re).slice(8,-1);return de==="Object"&&re.constructor&&(de=re.constructor.name),de==="Map"||de==="Set"?Array.from(re):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?Mh(re,ne):void 0}}(q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))})}})(y,c,g)}),G4(a,"clickable")},setLink:function(a,c){var g=c;xt().securityLevel!=="loose"&&(g=(0,Eh.sanitizeUrl)(c)),a.split(",").forEach(function(y){Gd(y)!==void 0&&(cT(y,function(){window.open(g,"_self")}),B4[y]=g)}),G4(a,"clickable")},getLinks:function(){return B4},bindFunctions:function(a){N1.forEach(function(c){c(a)})},durationToDate:q4,isInvalidDate:j4};function ju(a,c,g){for(var y=!0;y;)y=!1,g.forEach(function(_){var S=new RegExp("^\\s*"+_+"\\s*$");a[0].match(S)&&(c[_]=!0,a.shift(1),y=!0)})}var vc,la=n(9959),zP=n.n(la);la.parser.yy=$1;const uT=function(a,c){var g=xt().gantt;la.parser.yy.clear(),la.parser.parse(a);var y,_=xt().securityLevel;_==="sandbox"&&(y=jn("#i"+c));var S=jn(_==="sandbox"?y.nodes()[0].contentDocument.body:"body"),k=_==="sandbox"?y.nodes()[0].contentDocument:document,I=k.getElementById(c);(vc=I.parentElement.offsetWidth)===void 0&&(vc=1200),g.useWidth!==void 0&&(vc=g.useWidth);var B=la.parser.yy.getTasks(),N=B.length*(g.barHeight+g.barGap)+2*g.topPadding;I.setAttribute("viewBox","0 0 "+vc+" "+N);for(var q=S.select('[id="'.concat(c,'"]')),re=function(){return xu.apply(M7(WO,YO,Td,km,xm,Kp,Hv,Sm,jp,o7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain([f(B,function(ke){return ke.startTime}),h(B,function(ke){return ke.endTime})]).rangeRound([0,vc-g.leftPadding-g.rightPadding]),ne=[],de=0;de<B.length;de++)ne.push(B[de].type);var Ae=ne;ne=function(ke){for(var Ue={},$e=[],We=0,Je=ke.length;We<Je;++We)Object.prototype.hasOwnProperty.call(Ue,ke[We])||(Ue[ke[We]]=!0,$e.push(ke[We]));return $e}(ne),B.sort(function(ke,Ue){var $e=ke.startTime,We=Ue.startTime,Je=0;return $e>We?Je=1:$e<We&&(Je=-1),Je}),function(ke,Ue,$e){var We=g.barHeight,Je=We+g.barGap,ct=g.topPadding,wt=g.leftPadding;J8().domain([0,ne.length]).range(["#00B9FA","#F95002"]).interpolate(PO),function(et,Ct,It,Xe,at,tt,He,lt){var je=tt.reduce(function(zt,$t){var En=$t.startTime;return zt?Math.min(zt,En):En},0),Gt=tt.reduce(function(zt,$t){var En=$t.endTime;return zt?Math.max(zt,En):En},0),Xt=la.parser.yy.getDateFormat();if(je&&Gt){for(var ht=[],Jt=null,Qt=i()(je);Qt.valueOf()<=Gt;)la.parser.yy.isInvalidDate(Qt,Xt,He,lt)?Jt?Jt.end=Qt.clone():Jt={start:Qt.clone(),end:Qt.clone()}:Jt&&(ht.push(Jt),Jt=null),Qt.add(1,"d");q.append("g").selectAll("rect").data(ht).enter().append("rect").attr("id",function(zt){return"exclude-"+zt.start.format("YYYY-MM-DD")}).attr("x",function(zt){return re(zt.start)+It}).attr("y",g.gridLineStartPadding).attr("width",function(zt){var $t=zt.end.clone().add(1,"day");return re($t)-re(zt.start)}).attr("height",at-Ct-g.gridLineStartPadding).attr("transform-origin",function(zt,$t){return(re(zt.start)+It+.5*(re(zt.end)-re(zt.start))).toString()+"px "+($t*et+.5*at).toString()+"px"}).attr("class","exclude-range")}}(Je,ct,wt,0,$e,ke,la.parser.yy.getExcludes(),la.parser.yy.getIncludes()),function(et,Ct,It,Xe){var at,tt=(at=re,D(3,at)).tickSize(-Xe+Ct+g.gridLineStartPadding).tickFormat(y2(la.parser.yy.getAxisFormat()||g.axisFormat||"%Y-%m-%d"));if(q.append("g").attr("class","grid").attr("transform","translate("+et+", "+(Xe-50)+")").call(tt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),$1.topAxisEnabled()||g.topAxis){var He=function(lt){return D(1,lt)}(re).tickSize(-Xe+Ct+g.gridLineStartPadding).tickFormat(y2(la.parser.yy.getAxisFormat()||g.axisFormat||"%Y-%m-%d"));q.append("g").attr("class","grid").attr("transform","translate("+et+", "+Ct+")").call(He).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(wt,ct,0,$e),function(et,Ct,It,Xe,at,tt,He){q.append("g").selectAll("rect").data(et).enter().append("rect").attr("x",0).attr("y",function(ht,Jt){return ht.order*Ct+It-2}).attr("width",function(){return He-g.rightPadding/2}).attr("height",Ct).attr("class",function(ht){for(var Jt=0;Jt<ne.length;Jt++)if(ht.type===ne[Jt])return"section section"+Jt%g.numberSectionStyles;return"section section0"});var lt=q.append("g").selectAll("rect").data(et).enter(),je=$1.getLinks();if(lt.append("rect").attr("id",function(ht){return ht.id}).attr("rx",3).attr("ry",3).attr("x",function(ht){return ht.milestone?re(ht.startTime)+Xe+.5*(re(ht.endTime)-re(ht.startTime))-.5*at:re(ht.startTime)+Xe}).attr("y",function(ht,Jt){return ht.order*Ct+It}).attr("width",function(ht){return ht.milestone?at:re(ht.renderEndTime||ht.endTime)-re(ht.startTime)}).attr("height",at).attr("transform-origin",function(ht,Jt){return Jt=ht.order,(re(ht.startTime)+Xe+.5*(re(ht.endTime)-re(ht.startTime))).toString()+"px "+(Jt*Ct+It+.5*at).toString()+"px"}).attr("class",function(ht){var Jt="";ht.classes.length>0&&(Jt=ht.classes.join(" "));for(var Qt=0,zt=0;zt<ne.length;zt++)ht.type===ne[zt]&&(Qt=zt%g.numberSectionStyles);var $t="";return ht.active?ht.crit?$t+=" activeCrit":$t=" active":ht.done?$t=ht.crit?" doneCrit":" done":ht.crit&&($t+=" crit"),$t.length===0&&($t=" task"),ht.milestone&&($t=" milestone "+$t),"task"+($t+=Qt)+" "+Jt}),lt.append("text").attr("id",function(ht){return ht.id+"-text"}).text(function(ht){return ht.task}).attr("font-size",g.fontSize).attr("x",function(ht){var Jt=re(ht.startTime),Qt=re(ht.renderEndTime||ht.endTime);ht.milestone&&(Jt+=.5*(re(ht.endTime)-re(ht.startTime))-.5*at),ht.milestone&&(Qt=Jt+at);var zt=this.getBBox().width;return zt>Qt-Jt?Qt+zt+1.5*g.leftPadding>He?Jt+Xe-5:Qt+Xe+5:(Qt-Jt)/2+Jt+Xe}).attr("y",function(ht,Jt){return ht.order*Ct+g.barHeight/2+(g.fontSize/2-2)+It}).attr("text-height",at).attr("class",function(ht){var Jt=re(ht.startTime),Qt=re(ht.endTime);ht.milestone&&(Qt=Jt+at);var zt=this.getBBox().width,$t="";ht.classes.length>0&&($t=ht.classes.join(" "));for(var En=0,bn=0;bn<ne.length;bn++)ht.type===ne[bn]&&(En=bn%g.numberSectionStyles);var Kn="";return ht.active&&(Kn=ht.crit?"activeCritText"+En:"activeText"+En),ht.done?Kn=ht.crit?Kn+" doneCritText"+En:Kn+" doneText"+En:ht.crit&&(Kn=Kn+" critText"+En),ht.milestone&&(Kn+=" milestoneText"),zt>Qt-Jt?Qt+zt+1.5*g.leftPadding>He?$t+" taskTextOutsideLeft taskTextOutside"+En+" "+Kn:$t+" taskTextOutsideRight taskTextOutside"+En+" "+Kn+" width-"+zt:$t+" taskText taskText"+En+" "+Kn+" width-"+zt}),xt().securityLevel==="sandbox"){var Gt;Gt=jn("#i"+c),jn(Gt.nodes()[0].contentDocument.body);var Xt=Gt.nodes()[0].contentDocument;lt.filter(function(ht){return je[ht.id]!==void 0}).each(function(ht){var Jt=Xt.querySelector("#"+ht.id),Qt=Xt.querySelector("#"+ht.id+"-text"),zt=Jt.parentNode,$t=Xt.createElement("a");$t.setAttribute("xlink:href",je[ht.id]),$t.setAttribute("target","_top"),zt.appendChild($t),$t.appendChild(Jt),$t.appendChild(Qt)})}}(ke,Je,ct,wt,We,0,Ue),function(et,Ct){for(var It=[],Xe=0,at=0;at<ne.length;at++)It[at]=[ne[at],(tt=ne[at],He=Ae,function(lt){for(var je=lt.length,Gt={};je;)Gt[lt[--je]]=(Gt[lt[je]]||0)+1;return Gt}(He)[tt]||0)];var tt,He;q.append("g").selectAll("text").data(It).enter().append(function(lt){var je=lt[0].split(Kr.lineBreakRegex),Gt=-(je.length-1)/2,Xt=k.createElementNS("http://www.w3.org/2000/svg","text");Xt.setAttribute("dy",Gt+"em");for(var ht=0;ht<je.length;ht++){var Jt=k.createElementNS("http://www.w3.org/2000/svg","tspan");Jt.setAttribute("alignment-baseline","central"),Jt.setAttribute("x","10"),ht>0&&Jt.setAttribute("dy","1em"),Jt.textContent=je[ht],Xt.appendChild(Jt)}return Xt}).attr("x",10).attr("y",function(lt,je){if(!(je>0))return lt[1]*et/2+Ct;for(var Gt=0;Gt<je;Gt++)return Xe+=It[je-1][1],lt[1]*et/2+Xe*et+Ct}).attr("font-size",g.sectionFontSize).attr("font-size",g.sectionFontSize).attr("class",function(lt){for(var je=0;je<ne.length;je++)if(lt[0]===ne[je])return"sectionTitle sectionTitle"+je%g.numberSectionStyles;return"sectionTitle"})}(Je,ct),function(et,Ct,It,Xe){var at=$1.getTodayMarker();if(at!=="off"){var tt=q.append("g").attr("class","today"),He=new Date,lt=tt.append("line");lt.attr("x1",re(He)+et).attr("x2",re(He)+et).attr("y1",g.titleTopMargin).attr("y2",Xe-g.titleTopMargin).attr("class","today"),at!==""&&lt.attr("style",at.replace(/,/g,";"))}}(wt,0,0,$e)}(B,vc,N),dl(q,N,vc,g.useMaxWidth),q.append("text").text(la.parser.yy.getTitle()).attr("x",vc/2).attr("y",g.titleTopMargin).attr("class","titleText")};var Ns={},Ko=null,Zs={master:Ko},bc="master",dT="LR",F1=0;function Zb(){return l4({length:7})}function Jb(a,c){o.debug("Entering isfastforwardable:",a.id,c.id);for(var g=0;a.seq<=c.seq&&a!==c&&g<1e3&&(g++,c.parent!=null);){if(Array.isArray(c.parent))return o.debug("In merge commit:",c.parent),Jb(a,Ns[c.parent[0]])||Jb(a,Ns[c.parent[1]]);c=Ns[c.parent]}return o.debug(a.id,c.id),a.id===c.id}var Qb={};function fT(a,c,g){var y=a.indexOf(c);y===-1?a.push(g):a.splice(y,1,g)}function e_(a){var c=a.reduce(function(q,re){return q.seq>re.seq?q:re},a[0]),g="";a.forEach(function(q){g+=q===c?"	*":"	|"});var y,_,S,k=[g,c.id,c.seq];for(var I in Zs)Zs[I]===c.id&&k.push(I);if(o.debug(k.join(" ")),Array.isArray(c.parent)){var B=Ns[c.parent[0]];fT(a,c,B),a.push(Ns[c.parent[1]])}else{if(c.parent==null)return;var N=Ns[c.parent];fT(a,c,N)}y=a,_=function(q){return q.id},S=Object.create(null),e_(a=y.reduce(function(q,re){var ne=_(re);return S[ne]||(S[ne]=!0,q.push(re)),q},[]))}var hT=function(){var a=Object.keys(Ns).map(function(c){return Ns[c]});return a.forEach(function(c){o.debug(c.id)}),a.sort(function(c,g){return g.seq-c.seq}),a};const Wd={setDirection:function(a){dT=a},setOptions:function(a){o.debug("options str",a),a=(a=a&&a.trim())||"{}";try{Qb=JSON.parse(a)}catch(c){o.error("error while parsing gitGraph options",c.message)}},getOptions:function(){return Qb},commit:function(a){var c={id:Zb(),message:a,seq:F1++,parent:Ko==null?null:Ko.id};Ko=c,Ns[c.id]=c,Zs[bc]=c.id,o.debug("in pushCommit "+c.id)},branch:function(a){Zs[a]=Ko!=null?Ko.id:null,o.debug("in createBranch")},merge:function(a){var c=Ns[Zs[bc]],g=Ns[Zs[a]];if(function(_,S){return _.seq>S.seq&&Jb(S,_)}(c,g))o.debug("Already merged");else{if(Jb(c,g))Zs[bc]=Zs[a],Ko=Ns[Zs[bc]];else{var y={id:Zb(),message:"merged branch "+a+" into "+bc,seq:F1++,parent:[Ko==null?null:Ko.id,Zs[a]]};Ko=y,Ns[y.id]=y,Zs[bc]=y.id}o.debug(Zs),o.debug("in mergeBranch")}},checkout:function(a){o.debug("in checkout");var c=Zs[bc=a];Ko=Ns[c]},reset:function(a){o.debug("in reset",a);var c=a.split(":")[0],g=parseInt(a.split(":")[1]),y=c==="HEAD"?Ko:Ns[Zs[c]];for(o.debug(y,g);g>0;)if(g--,!(y=Ns[y.parent])){var _="Critical error - unique parent commit not found during reset";throw o.error(_),_}Ko=y,Zs[bc]=y.id},prettyPrint:function(){o.debug(Ns),e_([hT()[0]])},clear:function(){Ns={},Zs={master:Ko=null},bc="master",F1=0},getBranchesAsObjArray:function(){var a=[];for(var c in Zs)a.push({name:c,commit:Ns[Zs[c]]});return a},getBranches:function(){return Zs},getCommits:function(){return Ns},getCommitsArray:hT,getCurrentBranch:function(){return bc},getDirection:function(){return dT},getHead:function(){return Ko}};var Ah,qP=n(2553),W4=n.n(qP),Yd={},Hr={nodeSpacing:150,nodeFillColor:"yellow",nodeStrokeWidth:2,nodeStrokeColor:"grey",lineStrokeWidth:4,branchOffset:50,lineColor:"grey",leftMargin:50,branchColors:["#442f74","#983351","#609732","#AA9A39"],nodeRadius:10,nodeLabel:{width:75,height:100,x:-25,y:0}},pT={};function Ph(a,c,g,y){var _=gc(y,Lu),S=Hr.branchColors[g%Hr.branchColors.length],k=Jf().x(function(I){return Math.round(I.x)}).y(function(I){return Math.round(I.y)}).curve(_);a.append("svg:path").attr("d",k(c)).style("stroke",S).style("stroke-width",Hr.lineStrokeWidth).style("fill","none")}function gT(a,c){c=c||a.node().getBBox();var g=a.node().getCTM();return{left:g.e+c.x*g.a,top:g.f+c.y*g.d,width:c.width,height:c.height}}function t_(a,c,g,y,_){o.debug("svgDrawLineForCommits: ",c,g);var S=gT(a.select("#node-"+c+" circle")),k=gT(a.select("#node-"+g+" circle"));switch(y){case"LR":if(S.left-k.left>Hr.nodeSpacing){var I={x:S.left-Hr.nodeSpacing,y:k.top+k.height/2};Ph(a,[I,{x:k.left+k.width,y:k.top+k.height/2}],_,"linear"),Ph(a,[{x:S.left,y:S.top+S.height/2},{x:S.left-Hr.nodeSpacing/2,y:S.top+S.height/2},{x:S.left-Hr.nodeSpacing/2,y:I.y},I],_)}else Ph(a,[{x:S.left,y:S.top+S.height/2},{x:S.left-Hr.nodeSpacing/2,y:S.top+S.height/2},{x:S.left-Hr.nodeSpacing/2,y:k.top+k.height/2},{x:k.left+k.width,y:k.top+k.height/2}],_);break;case"BT":if(k.top-S.top>Hr.nodeSpacing){var B={x:k.left+k.width/2,y:S.top+S.height+Hr.nodeSpacing};Ph(a,[B,{x:k.left+k.width/2,y:k.top}],_,"linear"),Ph(a,[{x:S.left+S.width/2,y:S.top+S.height},{x:S.left+S.width/2,y:S.top+S.height+Hr.nodeSpacing/2},{x:k.left+k.width/2,y:B.y-Hr.nodeSpacing/2},B],_)}else Ph(a,[{x:S.left+S.width/2,y:S.top+S.height},{x:S.left+S.width/2,y:S.top+Hr.nodeSpacing/2},{x:k.left+k.width/2,y:k.top-Hr.nodeSpacing/2},{x:k.left+k.width/2,y:k.top}],_)}}function mT(a,c){return a.select(c).node().cloneNode(!0)}function n_(a,c,g,y){var _,S=Object.keys(Yd).length;if(typeof c=="string"){var k=0;do{if(k++,_=Yd[c],o.debug("in renderCommitHistory",_.id,_.seq),a.select("#node-"+c).size()>0)return;a.append(function(){return mT(a,"#def-commit")}).attr("class","commit").attr("id",function(){return"node-"+_.id}).attr("transform",function(){switch(y){case"LR":return"translate("+(_.seq*Hr.nodeSpacing+Hr.leftMargin)+", "+Ah*Hr.branchOffset+")";case"BT":return"translate("+(Ah*Hr.branchOffset+Hr.leftMargin)+", "+(S-_.seq)*Hr.nodeSpacing+")"}}).attr("fill",Hr.nodeFillColor).attr("stroke",Hr.nodeStrokeColor).attr("stroke-width",Hr.nodeStrokeWidth);var I=void 0;for(var B in g)if(g[B].commit===_){I=g[B];break}I&&(o.debug("found branch ",I.name),a.select("#node-"+_.id+" p").append("xhtml:span").attr("class","branch-label").text(I.name+", ")),a.select("#node-"+_.id+" p").append("xhtml:span").attr("class","commit-id").text(_.id),_.message!==""&&y==="BT"&&a.select("#node-"+_.id+" p").append("xhtml:span").attr("class","commit-msg").text(", "+_.message),c=_.parent}while(c&&Yd[c]&&k<1e3)}Array.isArray(c)&&(o.debug("found merge commmit",c),n_(a,c[0],g,y),Ah++,n_(a,c[1],g,y),Ah--)}function r_(a,c,g,y){y=y||0;for(var _=0;c.seq>0&&!c.lineDrawn&&_<1e3;)_++,typeof c.parent=="string"?(t_(a,c.id,c.parent,g,y),c.lineDrawn=!0,c=Yd[c.parent]):Array.isArray(c.parent)&&(t_(a,c.id,c.parent[0],g,y),t_(a,c.id,c.parent[1],g,y+1),r_(a,Yd[c.parent[1]],g,y+1),c.lineDrawn=!0,c=Yd[c.parent[0]])}const j0=function(a){pT=a};var Y4="",X4=!1;const yT={setMessage:function(a){o.debug("Setting message to: "+a),Y4=a},getMessage:function(){return Y4},setInfo:function(a){X4=a},getInfo:function(){return X4}};var VP=n(6765),Z4=n.n(VP);const J4=function(a){Object.keys(a).forEach(function(c){a[c]})};var GP=n(7062),K0=n.n(GP),i_={},Q4="",eE=!1;const Xd={parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().pie},addSection:function(a,c){i_[a]===void 0&&(i_[a]=c,o.debug("Added new section :",a))},getSections:function(){return i_},cleanupValue:function(a){return a.substring(0,1)===":"&&(a=a.substring(1).trim()),Number(a.trim())},clear:function(){i_={},Q4="",eE=!1},setTitle:function(a){Q4=a},getTitle:function(){return Q4},setShowData:function(a){eE=a},getShowData:function(){return eE}};var pl,Ku=xt();const WP=function(a,c){try{Ku=xt();var g=K0().parser;g.yy=Xd,o.debug(`Rendering info diagram
`+a);var y,_=xt().securityLevel;_==="sandbox"&&(y=jn("#i"+c));var S=jn(_==="sandbox"?y.nodes()[0].contentDocument.body:"body"),k=_==="sandbox"?y.nodes()[0].contentDocument:document;g.yy.clear(),g.parse(a),o.debug("Parsed info diagram");var I=k.getElementById(c);(pl=I.parentElement.offsetWidth)===void 0&&(pl=1200),Ku.useWidth!==void 0&&(pl=Ku.useWidth),Ku.pie.useWidth!==void 0&&(pl=Ku.pie.useWidth);var B=S.select("#"+c);dl(B,450,pl,Ku.pie.useMaxWidth),I.setAttribute("viewBox","0 0 "+pl+" 450");var N=Math.min(pl,450)/2-40,q=B.append("g").attr("transform","translate("+pl/2+",225)"),re=Xd.getSections(),ne=0;Object.keys(re).forEach(function(ct){ne+=re[ct]});var de=Ku.themeVariables,Ae=[de.pie1,de.pie2,de.pie3,de.pie4,de.pie5,de.pie6,de.pie7,de.pie8,de.pie9,de.pie10,de.pie11,de.pie12],ke=xd().range(Ae),Ue=function(){var ct=Jp,wt=q7,et=null,Ct=ys(0),It=ys(d2),Xe=ys(0);function at(tt){var He,lt,je,Gt,Xt,ht=(tt=rs(tt)).length,Jt=0,Qt=new Array(ht),zt=new Array(ht),$t=+Ct.apply(this,arguments),En=Math.min(d2,Math.max(-d2,It.apply(this,arguments)-$t)),bn=Math.min(Math.abs(En)/ht,Xe.apply(this,arguments)),Kn=bn*(En<0?-1:1);for(He=0;He<ht;++He)(Xt=zt[Qt[He]=He]=+ct(tt[He],He,tt))>0&&(Jt+=Xt);for(wt!=null?Qt.sort(function(fr,Ln){return wt(zt[fr],zt[Ln])}):et!=null&&Qt.sort(function(fr,Ln){return et(tt[fr],tt[Ln])}),He=0,je=Jt?(En-ht*Kn)/Jt:0;He<ht;++He,$t=Gt)lt=Qt[He],Gt=$t+((Xt=zt[lt])>0?Xt*je:0)+Kn,zt[lt]={data:tt[lt],index:He,value:Xt,startAngle:$t,endAngle:Gt,padAngle:bn};return zt}return at.value=function(tt){return arguments.length?(ct=typeof tt=="function"?tt:ys(+tt),at):ct},at.sortValues=function(tt){return arguments.length?(wt=tt,et=null,at):wt},at.sort=function(tt){return arguments.length?(et=tt,wt=null,at):et},at.startAngle=function(tt){return arguments.length?(Ct=typeof tt=="function"?tt:ys(+tt),at):Ct},at.endAngle=function(tt){return arguments.length?(It=typeof tt=="function"?tt:ys(+tt),at):It},at.padAngle=function(tt){return arguments.length?(Xe=typeof tt=="function"?tt:ys(+tt),at):Xe},at}().value(function(ct){return ct[1]}),$e=Ue(Object.entries(re)),We=Zp().innerRadius(0).outerRadius(N);q.selectAll("mySlices").data($e).enter().append("path").attr("d",We).attr("fill",function(ct){return ke(ct.data[0])}).attr("class","pieCircle"),q.selectAll("mySlices").data($e).enter().append("text").text(function(ct){return(ct.data[1]/ne*100).toFixed(0)+"%"}).attr("transform",function(ct){return"translate("+We.centroid(ct)+")"}).style("text-anchor","middle").attr("class","slice"),q.append("text").text(g.yy.getTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var Je=q.selectAll(".legend").data(ke.domain()).enter().append("g").attr("class","legend").attr("transform",function(ct,wt){return"translate(216,"+(22*wt-22*ke.domain().length/2)+")"});Je.append("rect").attr("width",18).attr("height",18).style("fill",ke).style("stroke",ke),Je.data($e).append("text").attr("x",22).attr("y",14).text(function(ct){return g.yy.getShowData()||Ku.showData||Ku.pie.showData?ct.data[0]+" ["+ct.data[1]+"]":ct.data[0]})}catch(ct){o.error("Error while rendering info diagram"),o.error(ct)}};var s_=n(3176),YP=n.n(s_),tE=[],Da={},U1={},Zd={},H1={};const Dh={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().req},addRequirement:function(a,c){return U1[a]===void 0&&(U1[a]={name:a,type:c,id:Da.id,text:Da.text,risk:Da.risk,verifyMethod:Da.verifyMethod}),Da={},U1[a]},getRequirements:function(){return U1},setNewReqId:function(a){Da!==void 0&&(Da.id=a)},setNewReqText:function(a){Da!==void 0&&(Da.text=a)},setNewReqRisk:function(a){Da!==void 0&&(Da.risk=a)},setNewReqVerifyMethod:function(a){Da!==void 0&&(Da.verifyMethod=a)},addElement:function(a){return H1[a]===void 0&&(H1[a]={name:a,type:Zd.type,docRef:Zd.docRef},o.info("Added new requirement: ",a)),Zd={},H1[a]},getElements:function(){return H1},setNewElementType:function(a){Zd!==void 0&&(Zd.type=a)},setNewElementDocRef:function(a){Zd!==void 0&&(Zd.docRef=a)},addRelationship:function(a,c,g){tE.push({type:a,src:c,dst:g})},getRelationships:function(){return tE},clear:function(){tE=[],Da={},U1={},Zd={},H1={}}};var nE={CONTAINS:"contains",ARROW:"arrow"};const XP=nE;var Bs={},rE=0,vT=function(a,c){return a.insert("rect","#"+c).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Bs.rect_min_width+"px").attr("height",Bs.rect_min_height+"px")},bT=function(a,c,g){var y=Bs.rect_min_width/2,_=a.append("text").attr("class","req reqLabel reqTitle").attr("id",c).attr("x",y).attr("y",Bs.rect_padding).attr("dominant-baseline","hanging"),S=0;g.forEach(function(I){S==0?_.append("tspan").attr("text-anchor","middle").attr("x",Bs.rect_min_width/2).attr("dy",0).text(I):_.append("tspan").attr("text-anchor","middle").attr("x",Bs.rect_min_width/2).attr("dy",.75*Bs.line_height).text(I),S++});var k=1.5*Bs.rect_padding+S*Bs.line_height*.75;return a.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Bs.rect_min_width).attr("y1",k).attr("y2",k),{titleNode:_,y:k}},_T=function(a,c,g,y){var _=a.append("text").attr("class","req reqLabel").attr("id",c).attr("x",Bs.rect_padding).attr("y",y).attr("dominant-baseline","hanging"),S=0,k=[];return g.forEach(function(I){for(var B=I.length;B>30&&S<3;){var N=I.substring(0,30);B=(I=I.substring(30,I.length)).length,k[k.length]=N,S++}if(S==3){var q=k[k.length-1];k[k.length-1]=q.substring(0,q.length-4)+"..."}else k[k.length]=I;S=0}),k.forEach(function(I){_.append("tspan").attr("x",Bs.rect_padding).attr("dy",Bs.line_height).text(I)}),_},j1=function(a){return a.replace(/\s/g,"").replace(/\./g,"_")};const wT=function(a){if(a!==void 0)for(var c=Object.keys(a),g=0;g<c.length;g++)Bs[c[g]]=a[c[g]]},ET=function(a,c){s_.parser.yy=Dh,s_.parser.yy.clear(),s_.parser.parse(a);var g,y=xt().securityLevel;y==="sandbox"&&(g=jn("#i"+c));var _=jn(y==="sandbox"?g.nodes()[0].contentDocument.body:"body"),S=(y==="sandbox"&&g.nodes()[0].contentDocument,_.select("[id='".concat(c,"']")));(function(Ae,ke){var Ue=Ae.append("defs").append("marker").attr("id",nE.CONTAINS+"_line_ending").attr("refX",0).attr("refY",ke.line_height/2).attr("markerWidth",ke.line_height).attr("markerHeight",ke.line_height).attr("orient","auto").append("g");Ue.append("circle").attr("cx",ke.line_height/2).attr("cy",ke.line_height/2).attr("r",ke.line_height/2).attr("fill","none"),Ue.append("line").attr("x1",0).attr("x2",ke.line_height).attr("y1",ke.line_height/2).attr("y2",ke.line_height/2).attr("stroke-width",1),Ue.append("line").attr("y1",0).attr("y2",ke.line_height).attr("x1",ke.line_height/2).attr("x2",ke.line_height/2).attr("stroke-width",1),Ae.append("defs").append("marker").attr("id",nE.ARROW+"_line_ending").attr("refX",ke.line_height).attr("refY",.5*ke.line_height).attr("markerWidth",ke.line_height).attr("markerHeight",ke.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L`.concat(ke.line_height,",").concat(ke.line_height/2,`
      M`).concat(ke.line_height,",").concat(ke.line_height/2,`
      L0,`).concat(ke.line_height)).attr("stroke-width",1)})(S,Bs);var k=new(Ds()).Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Bs.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),I=Dh.getRequirements(),B=Dh.getElements(),N=Dh.getRelationships();(function(Ae,ke,Ue){Object.keys(Ae).forEach(function($e){var We=Ae[$e];$e=j1($e),o.info("Added new requirement: ",$e);var Je=Ue.append("g").attr("id",$e),ct=vT(Je,"req-"+$e),wt=bT(Je,$e+"_title",["<<".concat(We.type,">>"),"".concat(We.name)]);_T(Je,$e+"_body",["Id: ".concat(We.id),"Text: ".concat(We.text),"Risk: ".concat(We.risk),"Verification: ".concat(We.verifyMethod)],wt.y);var et=ct.node().getBBox();ke.setNode($e,{width:et.width,height:et.height,shape:"rect",id:$e})})})(I,k,S),function(Ae,ke,Ue){Object.keys(Ae).forEach(function($e){var We=Ae[$e],Je=j1($e),ct=Ue.append("g").attr("id",Je),wt="element-"+Je,et=vT(ct,wt),Ct=bT(ct,wt+"_title",["<<Element>>","".concat($e)]);_T(ct,wt+"_body",["Type: ".concat(We.type||"Not Specified"),"Doc Ref: ".concat(We.docRef||"None")],Ct.y);var It=et.node().getBBox();ke.setNode(Je,{width:It.width,height:It.height,shape:"rect",id:Je})})}(B,k,S),function(Ae,ke){Ae.forEach(function(Ue){var $e=j1(Ue.src),We=j1(Ue.dst);ke.setEdge($e,We,{relationship:Ue})})}(N,k),I1().layout(k),function(Ae,ke){ke.nodes().forEach(function(Ue){Ue!==void 0&&ke.node(Ue)!==void 0&&(Ae.select("#"+Ue),Ae.select("#"+Ue).attr("transform","translate("+(ke.node(Ue).x-ke.node(Ue).width/2)+","+(ke.node(Ue).y-ke.node(Ue).height/2)+" )"))})}(S,k),N.forEach(function(Ae){(function(ke,Ue,$e,We){var Je=$e.edge(j1(Ue.src),j1(Ue.dst)),ct=Jf().x(function(et){return et.x}).y(function(et){return et.y}),wt=ke.insert("path","#"+We).attr("class","er relationshipLine").attr("d",ct(Je.points)).attr("fill","none");Ue.type==Dh.Relationships.CONTAINS?wt.attr("marker-start","url("+Kr.getUrl(Bs.arrowMarkerAbsolute)+"#"+Ue.type+"_line_ending)"):(wt.attr("stroke-dasharray","10,7"),wt.attr("marker-end","url("+Kr.getUrl(Bs.arrowMarkerAbsolute)+"#"+XP.ARROW+"_line_ending)")),function(et,Ct,It,Xe){var at=Ct.node().getTotalLength(),tt=Ct.node().getPointAtLength(.5*at),He="rel"+rE;rE++;var lt=et.append("text").attr("class","req relationshipLabel").attr("id",He).attr("x",tt.x).attr("y",tt.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(Xe).node().getBBox();et.insert("rect","#"+He).attr("class","req reqLabelBox").attr("x",tt.x-lt.width/2).attr("y",tt.y-lt.height/2).attr("width",lt.width).attr("height",lt.height).attr("fill","white").attr("fill-opacity","85%")}(ke,wt,0,"<<".concat(Ue.type,">>"))})(S,Ae,k,c)});var q=Bs.rect_padding,re=S.node().getBBox(),ne=re.width+2*q,de=re.height+2*q;dl(S,de,ne,Bs.useMaxWidth),S.attr("viewBox","".concat(re.x-q," ").concat(re.y-q," ").concat(ne," ").concat(de))};var Xn=n(6876),ZP=n.n(Xn),Nh=void 0,_c={},Na=[],K1="",iE=!1,sE=!1,z1=!1,Bh=function(a,c,g,y){var _=_c[a];_&&c===_.name&&g==null||(g!=null&&g.text!=null||(g={text:c,wrap:null,type:y}),y!=null&&g.text!=null||(g={text:c,wrap:null,type:y}),_c[a]={name:c,description:g.text,wrap:g.wrap===void 0&&$h()||!!g.wrap,prevActor:Nh,links:{},properties:{},actorCnt:null,rectData:null,type:y||"participant"},Nh&&_c[Nh]&&(_c[Nh].nextActor=a),Nh=a)},o_=function(a){var c,g=0;for(c=0;c<Na.length;c++)Na[c].type===q1.ACTIVE_START&&Na[c].from.actor===a&&g++,Na[c].type===q1.ACTIVE_END&&Na[c].from.actor===a&&g--;return g},zu=function(a,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{text:void 0,wrap:void 0},y=arguments.length>3?arguments[3]:void 0;if(y===q1.ACTIVE_END){var _=o_(a.actor);if(_<1){var S=new Error("Trying to inactivate an inactive participant ("+a.actor+")");throw S.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},S}}return Na.push({from:a,to:c,message:g.text,wrap:g.wrap===void 0&&$h()||!!g.wrap,type:y}),!0},z0=function(a){return _c[a]},$h=function(){return z1},q1={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ST=function(a,c,g){g.text,g.wrap===void 0&&$h()||g.wrap;var y=[].concat(a,a);Na.push({from:y[0],to:y[1],message:g.text,wrap:g.wrap===void 0&&$h()||!!g.wrap,type:q1.NOTE,placement:c})},a_=function(a,c){var g=z0(a);try{var y=Sh(c.text,xt());y=(y=y.replace(/&amp;/g,"&")).replace(/&equals;/g,"="),l_(g,JSON.parse(y))}catch(_){o.error("error while parsing actor link text",_)}};function l_(a,c){if(a.links==null)a.links=c;else for(var g in c)a.links[g]=c[g]}var xT=function(a,c){var g=z0(a);try{var y=Sh(c.text,xt());Fh(g,JSON.parse(y))}catch(_){o.error("error while parsing actor properties text",_)}};function Fh(a,c){if(a.properties==null)a.properties=c;else for(var g in c)a.properties[g]=c[g]}var Uh=function(a,c){var g=z0(a),y=document.getElementById(c.text);try{var _=y.innerHTML,S=JSON.parse(_);S.properties&&Fh(g,S.properties),S.links&&l_(g,S.links)}catch(k){o.error("error while parsing actor details text",k)}},oE=function(a){K1=a.text,iE=a.wrap===void 0&&$h()||!!a.wrap};const aE={addActor:Bh,addMessage:function(a,c,g,y){Na.push({from:a,to:c,message:g.text,wrap:g.wrap===void 0&&$h()||!!g.wrap,answer:y})},addSignal:zu,addLinks:a_,addDetails:Uh,addProperties:xT,autoWrap:$h,setWrap:function(a){z1=a},enableSequenceNumbers:function(){sE=!0},showSequenceNumbers:function(){return sE},getMessages:function(){return Na},getActors:function(){return _c},getActor:z0,getActorKeys:function(){return Object.keys(_c)},getActorProperty:function(a,c){if(a!==void 0&&a.properties!==void 0)return a.properties[c]},getTitle:function(){return K1},parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().sequence},getTitleWrapped:function(){return iE},clear:function(){_c={},Na=[]},parseMessage:function(a){var c=a.trim(),g={text:c.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:c.match(/^[:]?wrap:/)!==null||c.match(/^[:]?nowrap:/)===null&&void 0};return o.debug("parseMessage:",g),g},LINETYPE:q1,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:ST,setTitle:oE,apply:function a(c){if(c instanceof Array)c.forEach(function(g){a(g)});else switch(c.type){case"addParticipant":Bh(c.actor,c.actor,c.description,"participant");break;case"addActor":Bh(c.actor,c.actor,c.description,"actor");break;case"activeStart":case"activeEnd":zu(c.actor,void 0,void 0,c.signalType);break;case"addNote":ST(c.actor,c.placement,c.text);break;case"addLinks":a_(c.actor,c.text);break;case"addALink":(function(g,y){var _=z0(g);try{var S={},k=Sh(y.text,xt()),I=k.indexOf("@"),B=(k=(k=k.replace(/&amp;/g,"&")).replace(/&equals;/g,"=")).slice(0,I-1).trim(),N=k.slice(I+1).trim();S[B]=N,l_(_,S)}catch(q){o.error("error while parsing actor link text",q)}})(c.actor,c.text);break;case"addProperties":xT(c.actor,c.text);break;case"addDetails":Uh(c.actor,c.text);break;case"addMessage":zu(c.from,c.to,c.msg,c.signalType);break;case"loopStart":zu(void 0,void 0,c.loopText,c.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":zu(void 0,void 0,void 0,c.signalType);break;case"rectStart":zu(void 0,void 0,c.color,c.signalType);break;case"optStart":zu(void 0,void 0,c.optText,c.signalType);break;case"altStart":case"else":zu(void 0,void 0,c.altText,c.signalType);break;case"setTitle":oE(c.text);break;case"parStart":case"and":zu(void 0,void 0,c.parText,c.signalType)}}};var c_=[],V1=function(a,c){var g=a.append("rect");return g.attr("x",c.x),g.attr("y",c.y),g.attr("fill",c.fill),g.attr("stroke",c.stroke),g.attr("width",c.width),g.attr("height",c.height),g.attr("rx",c.rx),g.attr("ry",c.ry),c.class!==void 0&&g.attr("class",c.class),g},kT=function(a,c){var g;g=function(){var y=document.querySelectorAll(a);y.length!==0&&(y[0].addEventListener("mouseover",function(){QP("actor"+c+"_popup")}),y[0].addEventListener("mouseout",function(){G1("actor"+c+"_popup")}))},c_.push(g)},JP=function(a,c,g,y){var _=a.append("image");_.attr("x",c),_.attr("y",g);var S=(0,Eh.sanitizeUrl)(y);_.attr("xlink:href",S)},TT=function(a,c,g,y){var _=a.append("use");_.attr("x",c),_.attr("y",g);var S=(0,Eh.sanitizeUrl)(y);_.attr("xlink:href","#"+S)},QP=function(a){var c=document.getElementById(a);c!=null&&(c.style.display="block")},G1=function(a){var c=document.getElementById(a);c!=null&&(c.style.display="none")},ko=function(a,c){var g=0,y=0,_=c.text.split(Kr.lineBreakRegex),S=[],k=0,I=function(){return c.y};if(c.valign!==void 0&&c.textMargin!==void 0&&c.textMargin>0)switch(c.valign){case"top":case"start":I=function(){return Math.round(c.y+c.textMargin)};break;case"middle":case"center":I=function(){return Math.round(c.y+(g+y+c.textMargin)/2)};break;case"bottom":case"end":I=function(){return Math.round(c.y+(g+y+2*c.textMargin)-c.textMargin)}}if(c.anchor!==void 0&&c.textMargin!==void 0&&c.width!==void 0)switch(c.anchor){case"left":case"start":c.x=Math.round(c.x+c.textMargin),c.anchor="start",c.dominantBaseline="text-after-edge",c.alignmentBaseline="middle";break;case"middle":case"center":c.x=Math.round(c.x+c.width/2),c.anchor="middle",c.dominantBaseline="middle",c.alignmentBaseline="middle";break;case"right":case"end":c.x=Math.round(c.x+c.width-c.textMargin),c.anchor="end",c.dominantBaseline="text-before-edge",c.alignmentBaseline="middle"}for(var B=0;B<_.length;B++){var N=_[B];c.textMargin!==void 0&&c.textMargin===0&&c.fontSize!==void 0&&(k=B*c.fontSize);var q=a.append("text");if(q.attr("x",c.x),q.attr("y",I()),c.anchor!==void 0&&q.attr("text-anchor",c.anchor).attr("dominant-baseline",c.dominantBaseline).attr("alignment-baseline",c.alignmentBaseline),c.fontFamily!==void 0&&q.style("font-family",c.fontFamily),c.fontSize!==void 0&&q.style("font-size",c.fontSize),c.fontWeight!==void 0&&q.style("font-weight",c.fontWeight),c.fill!==void 0&&q.attr("fill",c.fill),c.class!==void 0&&q.attr("class",c.class),c.dy!==void 0?q.attr("dy",c.dy):k!==0&&q.attr("dy",k),c.tspan){var re=q.append("tspan");re.attr("x",c.x),c.fill!==void 0&&re.attr("fill",c.fill),re.text(N)}else q.text(N);c.valign!==void 0&&c.textMargin!==void 0&&c.textMargin>0&&(y+=(q._groups||q)[0][0].getBBox().height,g=y),S.push(q)}return S},q0=function(a,c){var g=a.append("polygon");return g.attr("points",function(y,_,S,k,I){return y+","+_+" "+(y+S)+","+_+" "+(y+S)+","+(_+k-7)+" "+(y+S-8.4)+","+(_+k)+" "+y+","+(_+k)}(c.x,c.y,c.width,c.height)),g.attr("class","labelBox"),c.y=c.y+c.height/2,ko(a,c),g},Xi=-1,Ai=function(a,c){a.selectAll&&a.selectAll(".actor-line").attr("class","200").attr("y2",c-55)},eD=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},tD=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},CT=function(){function a(_,S,k,I,B,N,q){y(S.append("text").attr("x",k+B/2).attr("y",I+N/2+5).style("text-anchor","middle").text(_),q)}function c(_,S,k,I,B,N,q,re){for(var ne=re.actorFontSize,de=re.actorFontFamily,Ae=re.actorFontWeight,ke=_.split(Kr.lineBreakRegex),Ue=0;Ue<ke.length;Ue++){var $e=Ue*ne-ne*(ke.length-1)/2,We=S.append("text").attr("x",k+B/2).attr("y",I).style("text-anchor","middle").style("font-size",ne).style("font-weight",Ae).style("font-family",de);We.append("tspan").attr("x",k+B/2).attr("dy",$e).text(ke[Ue]),We.attr("y",I+N/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),y(We,q)}}function g(_,S,k,I,B,N,q,re){var ne=S.append("switch"),de=ne.append("foreignObject").attr("x",k).attr("y",I).attr("width",B).attr("height",N).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");de.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(_),c(_,ne,k,I,B,N,q,re),y(de,q)}function y(_,S){for(var k in S)S.hasOwnProperty(k)&&_.attr(k,S[k])}return function(_){return _.textPlacement==="fo"?g:_.textPlacement==="old"?a:c}}(),lE=function(){function a(_,S,k,I,B,N,q){y(S.append("text").attr("x",k).attr("y",I).style("text-anchor","start").text(_),q)}function c(_,S,k,I,B,N,q,re){for(var ne=re.actorFontSize,de=re.actorFontFamily,Ae=re.actorFontWeight,ke=_.split(Kr.lineBreakRegex),Ue=0;Ue<ke.length;Ue++){var $e=Ue*ne-ne*(ke.length-1)/2,We=S.append("text").attr("x",k).attr("y",I).style("text-anchor","start").style("font-size",ne).style("font-weight",Ae).style("font-family",de);We.append("tspan").attr("x",k).attr("dy",$e).text(ke[Ue]),We.attr("y",I+N/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),y(We,q)}}function g(_,S,k,I,B,N,q,re){var ne=S.append("switch"),de=ne.append("foreignObject").attr("x",k).attr("y",I).attr("width",B).attr("height",N).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");de.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(_),c(_,ne,k,I,0,N,q,re),y(de,q)}function y(_,S){for(var k in S)S.hasOwnProperty(k)&&_.attr(k,S[k])}return function(_){return _.textPlacement==="fo"?g:_.textPlacement==="old"?a:c}}();const nD=V1,u_=function(a,c,g){switch(c.type){case"actor":return function(y,_,S){var k=_.x+_.width/2;_.y===0&&(Xi++,y.append("line").attr("id","actor"+Xi).attr("x1",k).attr("y1",80).attr("x2",k).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));var I=y.append("g");I.attr("class","actor-man");var B={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};B.x=_.x,B.y=_.y,B.fill="#eaeaea",B.width=_.width,B.height=_.height,B.class="actor",B.rx=3,B.ry=3,I.append("line").attr("id","actor-man-torso"+Xi).attr("x1",k).attr("y1",_.y+25).attr("x2",k).attr("y2",_.y+45),I.append("line").attr("id","actor-man-arms"+Xi).attr("x1",k-18).attr("y1",_.y+33).attr("x2",k+18).attr("y2",_.y+33),I.append("line").attr("x1",k-18).attr("y1",_.y+60).attr("x2",k).attr("y2",_.y+45),I.append("line").attr("x1",k).attr("y1",_.y+45).attr("x2",k+16).attr("y2",_.y+60);var N=I.append("circle");N.attr("cx",_.x+_.width/2),N.attr("cy",_.y+10),N.attr("r",15),N.attr("width",_.width),N.attr("height",_.height);var q=I.node().getBBox();return _.height=q.height,CT(S)(_.description,I,B.x,B.y+35,B.width,B.height,{class:"actor"},S),_.height}(a,c,g);case"participant":return function(y,_,S){var k=_.x+_.width/2,I=y.append("g"),B=I;_.y===0&&(Xi++,B.append("line").attr("id","actor"+Xi).attr("x1",k).attr("y1",5).attr("x2",k).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),B=I.append("g"),_.actorCnt=Xi,_.links!=null&&(B.attr("id","root-"+Xi),kT("#root-"+Xi,Xi)));var N={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},q="actor";_.properties!=null&&_.properties.class?q=_.properties.class:N.fill="#eaeaea",N.x=_.x,N.y=_.y,N.width=_.width,N.height=_.height,N.class=q,N.rx=3,N.ry=3;var re=V1(B,N);if(_.rectData=N,_.properties!=null&&_.properties.icon){var ne=_.properties.icon.trim();ne.charAt(0)==="@"?TT(B,N.x+N.width-20,N.y+10,ne.substr(1)):JP(B,N.x+N.width-20,N.y+10,ne)}CT(S)(_.description,B,N.x,N.y,N.width,N.height,{class:"actor"},S);var de=_.height;if(re.node){var Ae=re.node().getBBox();_.height=Ae.height,de=Ae.height}return de}(a,c,g)}},rD=function(a,c,g,y,_){if(c.links===void 0||c.links===null||Object.keys(c.links).length===0)return{height:0,width:0};var S=c.links,k=c.actorCnt,I=c.rectData,B="none";_&&(B="block !important");var N=a.append("g");N.attr("id","actor"+k+"_popup"),N.attr("class","actorPopupMenu"),N.attr("display",B),kT("#actor"+k+"_popup",k);var q="";I.class!==void 0&&(q=" "+I.class);var re=I.width>g?I.width:g,ne=N.append("rect");if(ne.attr("class","actorPopupMenuPanel"+q),ne.attr("x",I.x),ne.attr("y",I.height),ne.attr("fill",I.fill),ne.attr("stroke",I.stroke),ne.attr("width",re),ne.attr("height",I.height),ne.attr("rx",I.rx),ne.attr("ry",I.ry),S!=null){var de=20;for(var Ae in S){var ke=N.append("a"),Ue=(0,Eh.sanitizeUrl)(S[Ae]);ke.attr("xlink:href",Ue),ke.attr("target","_blank"),lE(y)(Ae,ke,I.x+10,I.height+de,re,20,{class:"actor"},y),de+=30}}return ne.attr("height",de),{height:I.height+de,width:re}},qu=function(a){return a.append("g")},d_=function(a,c,g,y,_){var S={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},k=c.anchored;S.x=c.startx,S.y=c.starty,S.class="activation"+_%3,S.width=c.stopx-c.startx,S.height=g-c.starty,V1(k,S)},V0=function(a,c,g,y){var _=y.boxMargin,S=y.boxTextMargin,k=y.labelBoxHeight,I=y.labelBoxWidth,B=y.messageFontFamily,N=y.messageFontSize,q=y.messageFontWeight,re=a.append("g"),ne=function(ke,Ue,$e,We){return re.append("line").attr("x1",ke).attr("y1",Ue).attr("x2",$e).attr("y2",We).attr("class","loopLine")};ne(c.startx,c.starty,c.stopx,c.starty),ne(c.stopx,c.starty,c.stopx,c.stopy),ne(c.startx,c.stopy,c.stopx,c.stopy),ne(c.startx,c.starty,c.startx,c.stopy),c.sections!==void 0&&c.sections.forEach(function(ke){ne(c.startx,ke.y,c.stopx,ke.y).style("stroke-dasharray","3, 3")});var de={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0};de.text=g,de.x=c.startx,de.y=c.starty,de.fontFamily=B,de.fontSize=N,de.fontWeight=q,de.anchor="middle",de.valign="middle",de.tspan=!1,de.width=I||50,de.height=k||20,de.textMargin=S,de.class="labelText",q0(re,de),(de={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}).text=c.title,de.x=c.startx+I/2+(c.stopx-c.startx)/2,de.y=c.starty+_+S,de.anchor="middle",de.valign="middle",de.textMargin=S,de.class="loopText",de.fontFamily=B,de.fontSize=N,de.fontWeight=q,de.wrap=!0;var Ae=ko(re,de);return c.sectionTitles!==void 0&&c.sectionTitles.forEach(function(ke,Ue){if(ke.message){de.text=ke.message,de.x=c.startx+(c.stopx-c.startx)/2,de.y=c.sections[Ue].y+_+S,de.class="loopText",de.anchor="middle",de.valign="middle",de.tspan=!1,de.fontFamily=B,de.fontSize=N,de.fontWeight=q,de.wrap=c.wrap,Ae=ko(re,de);var $e=Math.round(Ae.map(function(We){return(We._groups||We)[0][0].getBBox().height}).reduce(function(We,Je){return We+Je}));c.sections[Ue].height+=$e-(_+S)}}),c.height=Math.round(c.stopy-c.starty),re},cE=function(a,c){V1(a,{x:c.startx,y:c.starty,width:c.stopx-c.startx,height:c.stopy-c.starty,fill:c.fill,class:"rect"}).lower()},G0=function(a){a.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},iD=function(a){a.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},sD=function(a){a.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},IT=function(a){var c=a.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);c.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),c.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},oD=function(a){a.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},aD=function(a){a.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},lD=function(a){a.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},RT=eD,u=tD;Eh.sanitizeUrl,Xn.parser.yy=aE;var p={},m={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(function(a){return a.height||0}))+(this.loops.length===0?0:this.loops.map(function(a){return a.height||0}).reduce(function(a,c){return a+c}))+(this.messages.length===0?0:this.messages.map(function(a){return a.height||0}).reduce(function(a,c){return a+c}))+(this.notes.length===0?0:this.notes.map(function(a){return a.height||0}).reduce(function(a,c){return a+c}))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(a){this.actors.push(a)},addLoop:function(a){this.loops.push(a)},addMessage:function(a){this.messages.push(a)},addNote:function(a){this.notes.push(a)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,$(Xn.parser.yy.getConfig())},updateVal:function(a,c,g,y){a[c]===void 0?a[c]=g:a[c]=y(g,a[c])},updateBounds:function(a,c,g,y){var _=this,S=0;function k(I){return function(B){S++;var N=_.sequenceItems.length-S+1;_.updateVal(B,"starty",c-N*p.boxMargin,Math.min),_.updateVal(B,"stopy",y+N*p.boxMargin,Math.max),_.updateVal(m.data,"startx",a-N*p.boxMargin,Math.min),_.updateVal(m.data,"stopx",g+N*p.boxMargin,Math.max),I!=="activation"&&(_.updateVal(B,"startx",a-N*p.boxMargin,Math.min),_.updateVal(B,"stopx",g+N*p.boxMargin,Math.max),_.updateVal(m.data,"starty",c-N*p.boxMargin,Math.min),_.updateVal(m.data,"stopy",y+N*p.boxMargin,Math.max))}}this.sequenceItems.forEach(k()),this.activations.forEach(k("activation"))},insert:function(a,c,g,y){var _=Math.min(a,g),S=Math.max(a,g),k=Math.min(c,y),I=Math.max(c,y);this.updateVal(m.data,"startx",_,Math.min),this.updateVal(m.data,"starty",k,Math.min),this.updateVal(m.data,"stopx",S,Math.max),this.updateVal(m.data,"stopy",I,Math.max),this.updateBounds(_,k,S,I)},newActivation:function(a,c,g){var y=g[a.from.actor],_=j(a.from.actor).length||0,S=y.x+y.width/2+(_-1)*p.activationWidth/2;this.activations.push({startx:S,starty:this.verticalPos+2,stopx:S+p.activationWidth,stopy:void 0,actor:a.from.actor,anchored:qu(c)})},endActivation:function(a){var c=this.activations.map(function(g){return g.actor}).lastIndexOf(a.from.actor);return this.activations.splice(c,1)[0]},createLoop:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{message:void 0,wrap:!1,width:void 0},c=arguments.length>1?arguments[1]:void 0;return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:a.message,wrap:a.wrap,width:a.width,height:0,fill:c}},newLoop:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{message:void 0,wrap:!1,width:void 0},c=arguments.length>1?arguments[1]:void 0;this.sequenceItems.push(this.createLoop(a,c))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(a){var c=this.sequenceItems.pop();c.sections=c.sections||[],c.sectionTitles=c.sectionTitles||[],c.sections.push({y:m.getVerticalPos(),height:0}),c.sectionTitles.push(a),this.sequenceItems.push(c)},bumpVerticalPos:function(a){this.verticalPos=this.verticalPos+a,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},b=function(a){return{fontFamily:a.messageFontFamily,fontSize:a.messageFontSize,fontWeight:a.messageFontWeight}},x=function(a){return{fontFamily:a.noteFontFamily,fontSize:a.noteFontSize,fontWeight:a.noteFontWeight}},T=function(a){return{fontFamily:a.actorFontFamily,fontSize:a.actorFontSize,fontWeight:a.actorFontWeight}},P=function(a,c,g,y){for(var _=0,S=0,k=0,I=0;I<g.length;I++){var B=c[g[I]];B.width=B.width||p.width,B.height=Math.max(B.height||p.height,p.height),B.margin=B.margin||p.actorMargin,B.x=_+S,B.y=y;var N=u_(a,B,p);k=Math.max(k,N),m.insert(B.x,y,B.x+B.width,B.height),_+=B.width,S+=B.margin,m.models.addActor(B)}m.bumpVerticalPos(k)},L=function(a,c,g,y){for(var _=0,S=0,k=0;k<g.length;k++){var I=c[g[k]],B=G(I),N=rD(a,I,B,p,p.forceMenus);N.height>_&&(_=N.height),N.width+I.x>S&&(S=N.width+I.x)}return{maxHeight:_,maxWidth:S}},$=function(a){co(p,a),a.fontFamily&&(p.actorFontFamily=p.noteFontFamily=p.messageFontFamily=a.fontFamily),a.fontSize&&(p.actorFontSize=p.noteFontSize=p.messageFontSize=a.fontSize),a.fontWeight&&(p.actorFontWeight=p.noteFontWeight=p.messageFontWeight=a.fontWeight)},j=function(a){return m.activations.filter(function(c){return c.actor===a})},Y=function(a,c){var g=c[a],y=j(a);return[y.reduce(function(_,S){return Math.min(_,S.startx)},g.x+g.width/2),y.reduce(function(_,S){return Math.max(_,S.stopx)},g.x+g.width/2)]};function te(a,c,g,y,_){m.bumpVerticalPos(g);var S=y;if(c.id&&c.message&&a[c.id]){var k=a[c.id].width,I=b(p);c.message=Dr.wrapLabel("[".concat(c.message,"]"),k-2*p.wrapPadding,I),c.width=k,c.wrap=!0;var B=Dr.calculateTextDimensions(c.message,I),N=Math.max(B.height,p.labelBoxHeight);S=y+N,o.debug("".concat(N," - ").concat(c.message))}_(c),m.bumpVerticalPos(S)}var G=function(a){var c=0,g=T(p);for(var y in a.links){var _=Dr.calculateTextDimensions(y,g).width+2*p.wrapPadding+2*p.boxMargin;c<_&&(c=_)}return c};const le={bounds:m,drawActors:P,drawActorsPopup:L,setConf:$,draw:function(a,c){p=xt().sequence;var g,y=xt().securityLevel;y==="sandbox"&&(g=jn("#i"+c));var _=jn(y==="sandbox"?g.nodes()[0].contentDocument.body:"body");y==="sandbox"&&g.nodes()[0].contentDocument,Xn.parser.yy.clear(),Xn.parser.yy.setWrap(p.wrap),Xn.parser.parse(a+`
`),m.init(),o.debug("C:".concat(JSON.stringify(p,null,2)));var S=y==="sandbox"?_.select('[id="'.concat(c,'"]')):jn('[id="'.concat(c,'"]')),k=Xn.parser.yy.getActors(),I=Xn.parser.yy.getActorKeys(),B=Xn.parser.yy.getMessages(),N=Xn.parser.yy.getTitle(),q=function(ct,wt){var et={};return wt.forEach(function(Ct){if(ct[Ct.to]&&ct[Ct.from]){var It=ct[Ct.to];if(Ct.placement===Xn.parser.yy.PLACEMENT.LEFTOF&&!It.prevActor||Ct.placement===Xn.parser.yy.PLACEMENT.RIGHTOF&&!It.nextActor)return;var Xe=Ct.placement!==void 0,at=!Xe,tt=Xe?x(p):b(p),He=Ct.wrap?Dr.wrapLabel(Ct.message,p.width-2*p.wrapPadding,tt):Ct.message,lt=Dr.calculateTextDimensions(He,tt).width+2*p.wrapPadding;at&&Ct.from===It.nextActor?et[Ct.to]=Math.max(et[Ct.to]||0,lt):at&&Ct.from===It.prevActor?et[Ct.from]=Math.max(et[Ct.from]||0,lt):at&&Ct.from===Ct.to?(et[Ct.from]=Math.max(et[Ct.from]||0,lt/2),et[Ct.to]=Math.max(et[Ct.to]||0,lt/2)):Ct.placement===Xn.parser.yy.PLACEMENT.RIGHTOF?et[Ct.from]=Math.max(et[Ct.from]||0,lt):Ct.placement===Xn.parser.yy.PLACEMENT.LEFTOF?et[It.prevActor]=Math.max(et[It.prevActor]||0,lt):Ct.placement===Xn.parser.yy.PLACEMENT.OVER&&(It.prevActor&&(et[It.prevActor]=Math.max(et[It.prevActor]||0,lt/2)),It.nextActor&&(et[Ct.from]=Math.max(et[Ct.from]||0,lt/2)))}}),o.debug("maxMessageWidthPerActor:",et),et}(k,B);p.height=function(ct,wt){var et=0;for(var Ct in Object.keys(ct).forEach(function(tt){var He=ct[tt];He.wrap&&(He.description=Dr.wrapLabel(He.description,p.width-2*p.wrapPadding,T(p)));var lt=Dr.calculateTextDimensions(He.description,T(p));He.width=He.wrap?p.width:Math.max(p.width,lt.width+2*p.wrapPadding),He.height=He.wrap?Math.max(lt.height,p.height):p.height,et=Math.max(et,He.height)}),wt){var It=ct[Ct];if(It){var Xe=ct[It.nextActor];if(Xe){var at=wt[Ct]+p.actorMargin-It.width/2-Xe.width/2;It.margin=Math.max(at,p.actorMargin)}}}return Math.max(et,p.height)}(k,q),aD(S),oD(S),lD(S),P(S,k,I,0);var re=function(ct,wt){var et,Ct,It,Xe={},at=[];return ct.forEach(function(tt){switch(tt.id=Dr.random({length:10}),tt.type){case Xn.parser.yy.LINETYPE.LOOP_START:case Xn.parser.yy.LINETYPE.ALT_START:case Xn.parser.yy.LINETYPE.OPT_START:case Xn.parser.yy.LINETYPE.PAR_START:at.push({id:tt.id,msg:tt.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case Xn.parser.yy.LINETYPE.ALT_ELSE:case Xn.parser.yy.LINETYPE.PAR_AND:tt.message&&(et=at.pop(),Xe[et.id]=et,Xe[tt.id]=et,at.push(et));break;case Xn.parser.yy.LINETYPE.LOOP_END:case Xn.parser.yy.LINETYPE.ALT_END:case Xn.parser.yy.LINETYPE.OPT_END:case Xn.parser.yy.LINETYPE.PAR_END:et=at.pop(),Xe[et.id]=et;break;case Xn.parser.yy.LINETYPE.ACTIVE_START:var He=wt[tt.from?tt.from.actor:tt.to.actor],lt=j(tt.from?tt.from.actor:tt.to.actor).length,je=He.x+He.width/2+(lt-1)*p.activationWidth/2,Gt={startx:je,stopx:je+p.activationWidth,actor:tt.from.actor,enabled:!0};m.activations.push(Gt);break;case Xn.parser.yy.LINETYPE.ACTIVE_END:var Xt=m.activations.map(function(ht){return ht.actor}).lastIndexOf(tt.from.actor);delete m.activations.splice(Xt,1)[0]}tt.placement!==void 0?(Ct=function(ht,Jt){var Qt=Jt[ht.from].x,zt=Jt[ht.to].x,$t=ht.wrap&&ht.message,En=Dr.calculateTextDimensions($t?Dr.wrapLabel(ht.message,p.width,x(p)):ht.message,x(p)),bn={width:$t?p.width:Math.max(p.width,En.width+2*p.noteMargin),height:0,startx:Jt[ht.from].x,stopx:0,starty:0,stopy:0,message:ht.message};return ht.placement===Xn.parser.yy.PLACEMENT.RIGHTOF?(bn.width=$t?Math.max(p.width,En.width):Math.max(Jt[ht.from].width/2+Jt[ht.to].width/2,En.width+2*p.noteMargin),bn.startx=Qt+(Jt[ht.from].width+p.actorMargin)/2):ht.placement===Xn.parser.yy.PLACEMENT.LEFTOF?(bn.width=Math.max($t?p.width:Jt[ht.from].width/2+Jt[ht.to].width/2,En.width+2*p.noteMargin),bn.startx=Qt-bn.width+(Jt[ht.from].width-p.actorMargin)/2):ht.to===ht.from?(En=Dr.calculateTextDimensions($t?Dr.wrapLabel(ht.message,Math.max(p.width,Jt[ht.from].width),x(p)):ht.message,x(p)),bn.width=$t?Math.max(p.width,Jt[ht.from].width):Math.max(Jt[ht.from].width,p.width,En.width+2*p.noteMargin),bn.startx=Qt+(Jt[ht.from].width-bn.width)/2):(bn.width=Math.abs(Qt+Jt[ht.from].width/2-(zt+Jt[ht.to].width/2))+p.actorMargin,bn.startx=Qt<zt?Qt+Jt[ht.from].width/2-p.actorMargin/2:zt+Jt[ht.to].width/2-p.actorMargin/2),$t&&(bn.message=Dr.wrapLabel(ht.message,bn.width-2*p.wrapPadding,x(p))),o.debug("NM:[".concat(bn.startx,",").concat(bn.stopx,",").concat(bn.starty,",").concat(bn.stopy,":").concat(bn.width,",").concat(bn.height,"=").concat(ht.message,"]")),bn}(tt,wt),tt.noteModel=Ct,at.forEach(function(ht){(et=ht).from=Math.min(et.from,Ct.startx),et.to=Math.max(et.to,Ct.startx+Ct.width),et.width=Math.max(et.width,Math.abs(et.from-et.to))-p.labelBoxWidth})):(It=function(ht,Jt){var Qt=!1;if([Xn.parser.yy.LINETYPE.SOLID_OPEN,Xn.parser.yy.LINETYPE.DOTTED_OPEN,Xn.parser.yy.LINETYPE.SOLID,Xn.parser.yy.LINETYPE.DOTTED,Xn.parser.yy.LINETYPE.SOLID_CROSS,Xn.parser.yy.LINETYPE.DOTTED_CROSS,Xn.parser.yy.LINETYPE.SOLID_POINT,Xn.parser.yy.LINETYPE.DOTTED_POINT].includes(ht.type)&&(Qt=!0),!Qt)return{};var zt=Y(ht.from,Jt),$t=Y(ht.to,Jt),En=zt[0]<=$t[0]?1:0,bn=zt[0]<$t[0]?0:1,Kn=zt.concat($t),fr=Math.abs($t[bn]-zt[En]);ht.wrap&&ht.message&&(ht.message=Dr.wrapLabel(ht.message,Math.max(fr+2*p.wrapPadding,p.width),b(p)));var Ln=Dr.calculateTextDimensions(ht.message,b(p));return{width:Math.max(ht.wrap?0:Ln.width+2*p.wrapPadding,fr+2*p.wrapPadding,p.width),height:0,startx:zt[En],stopx:$t[bn],starty:0,stopy:0,message:ht.message,type:ht.type,wrap:ht.wrap,fromBounds:Math.min.apply(null,Kn),toBounds:Math.max.apply(null,Kn)}}(tt,wt),tt.msgModel=It,It.startx&&It.stopx&&at.length>0&&at.forEach(function(ht){if(et=ht,It.startx===It.stopx){var Jt=wt[tt.from],Qt=wt[tt.to];et.from=Math.min(Jt.x-It.width/2,Jt.x-Jt.width/2,et.from),et.to=Math.max(Qt.x+It.width/2,Qt.x+Jt.width/2,et.to),et.width=Math.max(et.width,Math.abs(et.to-et.from))-p.labelBoxWidth}else et.from=Math.min(It.startx,et.from),et.to=Math.max(It.stopx,et.to),et.width=Math.max(et.width,It.width)-p.labelBoxWidth}))}),m.activations=[],o.debug("Loop type widths:",Xe),Xe}(B,k);G0(S),IT(S),iD(S),sD(S);var ne=1;B.forEach(function(ct){var wt,et,Ct;switch(ct.type){case Xn.parser.yy.LINETYPE.NOTE:et=ct.noteModel,function(It,Xe){m.bumpVerticalPos(p.boxMargin),Xe.height=p.boxMargin,Xe.starty=m.getVerticalPos();var at=u();at.x=Xe.startx,at.y=Xe.starty,at.width=Xe.width||p.width,at.class="note";var tt=It.append("g"),He=nD(tt,at),lt=RT();lt.x=Xe.startx,lt.y=Xe.starty,lt.width=at.width,lt.dy="1em",lt.text=Xe.message,lt.class="noteText",lt.fontFamily=p.noteFontFamily,lt.fontSize=p.noteFontSize,lt.fontWeight=p.noteFontWeight,lt.anchor=p.noteAlign,lt.textMargin=p.noteMargin,lt.valign=p.noteAlign;var je=ko(tt,lt),Gt=Math.round(je.map(function(Xt){return(Xt._groups||Xt)[0][0].getBBox().height}).reduce(function(Xt,ht){return Xt+ht}));He.attr("height",Gt+2*p.noteMargin),Xe.height+=Gt+2*p.noteMargin,m.bumpVerticalPos(Gt+2*p.noteMargin),Xe.stopy=Xe.starty+Gt+2*p.noteMargin,Xe.stopx=Xe.startx+at.width,m.insert(Xe.startx,Xe.starty,Xe.stopx,Xe.stopy),m.models.addNote(Xe)}(S,et);break;case Xn.parser.yy.LINETYPE.ACTIVE_START:m.newActivation(ct,S,k);break;case Xn.parser.yy.LINETYPE.ACTIVE_END:(function(It,Xe){var at=m.endActivation(It);at.starty+18>Xe&&(at.starty=Xe-6,Xe+=12),d_(S,at,Xe,p,j(It.from.actor).length),m.insert(at.startx,Xe-10,at.stopx,Xe)})(ct,m.getVerticalPos());break;case Xn.parser.yy.LINETYPE.LOOP_START:te(re,ct,p.boxMargin,p.boxMargin+p.boxTextMargin,function(It){return m.newLoop(It)});break;case Xn.parser.yy.LINETYPE.LOOP_END:wt=m.endLoop(),V0(S,wt,"loop",p),m.bumpVerticalPos(wt.stopy-m.getVerticalPos()),m.models.addLoop(wt);break;case Xn.parser.yy.LINETYPE.RECT_START:te(re,ct,p.boxMargin,p.boxMargin,function(It){return m.newLoop(void 0,It.message)});break;case Xn.parser.yy.LINETYPE.RECT_END:wt=m.endLoop(),cE(S,wt),m.models.addLoop(wt),m.bumpVerticalPos(wt.stopy-m.getVerticalPos());break;case Xn.parser.yy.LINETYPE.OPT_START:te(re,ct,p.boxMargin,p.boxMargin+p.boxTextMargin,function(It){return m.newLoop(It)});break;case Xn.parser.yy.LINETYPE.OPT_END:wt=m.endLoop(),V0(S,wt,"opt",p),m.bumpVerticalPos(wt.stopy-m.getVerticalPos()),m.models.addLoop(wt);break;case Xn.parser.yy.LINETYPE.ALT_START:te(re,ct,p.boxMargin,p.boxMargin+p.boxTextMargin,function(It){return m.newLoop(It)});break;case Xn.parser.yy.LINETYPE.ALT_ELSE:te(re,ct,p.boxMargin+p.boxTextMargin,p.boxMargin,function(It){return m.addSectionToLoop(It)});break;case Xn.parser.yy.LINETYPE.ALT_END:wt=m.endLoop(),V0(S,wt,"alt",p),m.bumpVerticalPos(wt.stopy-m.getVerticalPos()),m.models.addLoop(wt);break;case Xn.parser.yy.LINETYPE.PAR_START:te(re,ct,p.boxMargin,p.boxMargin+p.boxTextMargin,function(It){return m.newLoop(It)});break;case Xn.parser.yy.LINETYPE.PAR_AND:te(re,ct,p.boxMargin+p.boxTextMargin,p.boxMargin,function(It){return m.addSectionToLoop(It)});break;case Xn.parser.yy.LINETYPE.PAR_END:wt=m.endLoop(),V0(S,wt,"par",p),m.bumpVerticalPos(wt.stopy-m.getVerticalPos()),m.models.addLoop(wt);break;default:try{(Ct=ct.msgModel).starty=m.getVerticalPos(),Ct.sequenceIndex=ne,function(It,Xe){m.bumpVerticalPos(10);var at=Xe.startx,tt=Xe.stopx,He=Xe.starty,lt=Xe.message,je=Xe.type,Gt=Xe.sequenceIndex,Xt=Kr.splitBreaks(lt).length,ht=Dr.calculateTextDimensions(lt,b(p)),Jt=ht.height/Xt;Xe.height+=Jt,m.bumpVerticalPos(Jt);var Qt=RT();Qt.x=at,Qt.y=He+10,Qt.width=tt-at,Qt.class="messageText",Qt.dy="1em",Qt.text=lt,Qt.fontFamily=p.messageFontFamily,Qt.fontSize=p.messageFontSize,Qt.fontWeight=p.messageFontWeight,Qt.anchor=p.messageAlign,Qt.valign=p.messageAlign,Qt.textMargin=p.wrapPadding,Qt.tspan=!1,ko(It,Qt);var zt,$t,En=ht.height-10,bn=ht.width;if(at===tt){$t=m.getVerticalPos()+En,p.rightAngles?zt=It.append("path").attr("d","M  ".concat(at,",").concat($t," H ").concat(at+Math.max(p.width/2,bn/2)," V ").concat($t+25," H ").concat(at)):(En+=p.boxMargin,$t=m.getVerticalPos()+En,zt=It.append("path").attr("d","M "+at+","+$t+" C "+(at+60)+","+($t-10)+" "+(at+60)+","+($t+30)+" "+at+","+($t+20))),En+=30;var Kn=Math.max(bn/2,p.width/2);m.insert(at-Kn,m.getVerticalPos()-10+En,tt+Kn,m.getVerticalPos()+30+En)}else En+=p.boxMargin,$t=m.getVerticalPos()+En,(zt=It.append("line")).attr("x1",at),zt.attr("y1",$t),zt.attr("x2",tt),zt.attr("y2",$t),m.insert(at,$t-10,tt,$t);je===Xn.parser.yy.LINETYPE.DOTTED||je===Xn.parser.yy.LINETYPE.DOTTED_CROSS||je===Xn.parser.yy.LINETYPE.DOTTED_POINT||je===Xn.parser.yy.LINETYPE.DOTTED_OPEN?(zt.style("stroke-dasharray","3, 3"),zt.attr("class","messageLine1")):zt.attr("class","messageLine0");var fr="";p.arrowMarkerAbsolute&&(fr=(fr=(fr=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),zt.attr("stroke-width",2),zt.attr("stroke","none"),zt.style("fill","none"),je!==Xn.parser.yy.LINETYPE.SOLID&&je!==Xn.parser.yy.LINETYPE.DOTTED||zt.attr("marker-end","url("+fr+"#arrowhead)"),je!==Xn.parser.yy.LINETYPE.SOLID_POINT&&je!==Xn.parser.yy.LINETYPE.DOTTED_POINT||zt.attr("marker-end","url("+fr+"#filled-head)"),je!==Xn.parser.yy.LINETYPE.SOLID_CROSS&&je!==Xn.parser.yy.LINETYPE.DOTTED_CROSS||zt.attr("marker-end","url("+fr+"#crosshead)"),(aE.showSequenceNumbers()||p.showSequenceNumbers)&&(zt.attr("marker-start","url("+fr+"#sequencenumber)"),It.append("text").attr("x",at).attr("y",$t+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("textLength","16px").attr("class","sequenceNumber").text(Gt)),m.bumpVerticalPos(En),Xe.height+=En,Xe.stopy=Xe.starty+Xe.height,m.insert(Xe.fromBounds,Xe.starty,Xe.toBounds,Xe.stopy)}(S,Ct),m.models.addMessage(Ct)}catch(It){o.error("error while drawing message",It)}}[Xn.parser.yy.LINETYPE.SOLID_OPEN,Xn.parser.yy.LINETYPE.DOTTED_OPEN,Xn.parser.yy.LINETYPE.SOLID,Xn.parser.yy.LINETYPE.DOTTED,Xn.parser.yy.LINETYPE.SOLID_CROSS,Xn.parser.yy.LINETYPE.DOTTED_CROSS,Xn.parser.yy.LINETYPE.SOLID_POINT,Xn.parser.yy.LINETYPE.DOTTED_POINT].includes(ct.type)&&ne++}),p.mirrorActors&&(m.bumpVerticalPos(2*p.boxMargin),P(S,k,I,m.getVerticalPos()),m.bumpVerticalPos(p.boxMargin),Ai(S,m.getVerticalPos()));var de=L(S,k,I),Ae=m.getBounds().bounds;o.debug("For line height fix Querying: #"+c+" .actor-line"),s2("#"+c+" .actor-line").attr("y2",Ae.stopy);var ke=Ae.stopy-Ae.starty;ke<de.maxHeight&&(ke=de.maxHeight);var Ue=ke+2*p.diagramMarginY;p.mirrorActors&&(Ue=Ue-p.boxMargin+p.bottomMarginAdj);var $e=Ae.stopx-Ae.startx;$e<de.maxWidth&&($e=de.maxWidth);var We=$e+2*p.diagramMarginX;N&&S.append("text").text(N).attr("x",(Ae.stopx-Ae.startx)/2-2*p.diagramMarginX).attr("y",-25),dl(S,Ue,We,p.useMaxWidth);var Je=N?40:0;S.attr("viewBox",Ae.startx-p.diagramMarginX+" -"+(p.diagramMarginY+Je)+" "+We+" "+(Ue+Je)),o.debug("models:",m.models)}};var ue=n(3584),ve=n.n(ue);function ye(a){return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ye(a)}var pe=function(a){return JSON.parse(JSON.stringify(a))},Ce=[],Te=function a(c,g,y){if(g.stmt==="relation")a(c,g.state1,!0),a(c,g.state2,!1);else if(g.stmt==="state"&&g.id==="[*]"&&(g.id=y?c.id+"_start":c.id+"_end",g.start=y),g.doc){var _=[],S=0,k=[];for(S=0;S<g.doc.length;S++)if(g.doc[S].type==="divider"){var I=pe(g.doc[S]);I.doc=pe(k),_.push(I),k=[]}else k.push(g.doc[S]);if(_.length>0&&k.length>0){var B={stmt:"state",id:x9(),type:"divider",doc:pe(k)};_.push(pe(B)),g.doc=_}g.doc.forEach(function(N){return a(g,N,!0)})}},Ne={root:{relations:[],states:{},documents:{}}},rt=Ne.root,bt=0,Tt=function(a,c,g,y,_){rt.states[a]===void 0?rt.states[a]={id:a,descriptions:[],type:c,doc:g,note:_}:(rt.states[a].doc||(rt.states[a].doc=g),rt.states[a].type||(rt.states[a].type=c)),y&&(o.info("Adding state ",a,y),typeof y=="string"&&Dt(a,y.trim()),ye(y)==="object"&&y.forEach(function(S){return Dt(a,S.trim())})),_&&(rt.states[a].note=_,rt.states[a].note.text=Kr.sanitizeText(rt.states[a].note.text,xt()))},Vt=function(){rt=(Ne={root:{relations:[],states:{},documents:{}}}).root,rt=Ne.root,bt=0,Ge=[]},ft=function(a,c,g){var y=a,_=c,S="default",k="default";a==="[*]"&&(y="start"+ ++bt,S="start"),c==="[*]"&&(_="end"+bt,k="end"),Tt(y,S),Tt(_,k),rt.relations.push({id1:y,id2:_,title:Kr.sanitizeText(g,xt())})},Dt=function(a,c){var g=rt.states[a],y=c;y[0]===":"&&(y=y.substr(1).trim()),g.descriptions.push(Kr.sanitizeText(y,xt()))},Pe=0,Ge=[],Rt="TB";const mt={parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().state},addState:Tt,clear:Vt,getState:function(a){return rt.states[a]},getStates:function(){return rt.states},getRelations:function(){return rt.relations},getClasses:function(){return Ge},getDirection:function(){return Rt},addRelation:ft,getDividerId:function(){return"divider-id-"+ ++Pe},setDirection:function(a){Rt=a},cleanupLabel:function(a){return a.substring(0,1)===":"?a.substr(2).trim():a.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){o.info("Documents = ",Ne)},getRootDoc:function(){return Ce},setRootDoc:function(a){o.info("Setting root doc",a),Ce=a},getRootDocV2:function(){return Te({id:"root"},{id:"root",doc:Ce},!0),{id:"root",doc:Ce}},extract:function(a){var c;c=a.doc?a.doc:a,o.info(c),Vt(),o.info("Extract",c),c.forEach(function(g){g.stmt==="state"&&Tt(g.id,g.type,g.doc,g.description,g.note),g.stmt==="relation"&&ft(g.state1.id,g.state2.id,g.description)})},trimColon:function(a){return a&&a[0]===":"?a.substr(1).trim():a.trim()}};function Mt(a,c){(c==null||c>a.length)&&(c=a.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=a[g];return y}var on,Fn=function(a,c,g){var y,_=xt().state.padding,S=2*xt().state.padding,k=a.node().getBBox(),I=k.width,B=k.x,N=a.append("text").attr("x",0).attr("y",xt().state.titleShift).attr("font-size",xt().state.fontSize).attr("class","state-title").text(c.id),q=N.node().getBBox().width+S,re=Math.max(q,I);re===I&&(re+=S);var ne=a.node().getBBox();c.doc,y=B-_,q>I&&(y=(I-re)/2+_),Math.abs(B-ne.x)<_&&q>I&&(y=B-(q-I)/2);var de=1-xt().state.textHeight;return a.insert("rect",":first-child").attr("x",y).attr("y",de).attr("class",g?"alt-composit":"composit").attr("width",re).attr("height",ne.height+xt().state.textHeight+xt().state.titleShift+1).attr("rx","0"),N.attr("x",y+_),q<=I&&N.attr("x",B+(re-S)/2-q/2+_),a.insert("rect",":first-child").attr("x",y).attr("y",xt().state.titleShift-xt().state.textHeight-xt().state.padding).attr("width",re).attr("height",3*xt().state.textHeight).attr("rx",xt().state.radius),a.insert("rect",":first-child").attr("x",y).attr("y",xt().state.titleShift-xt().state.textHeight-xt().state.padding).attr("width",re).attr("height",ne.height+3+2*xt().state.textHeight).attr("rx",xt().state.radius),a},yr=function(a,c){c.attr("class","state-note");var g=c.append("rect").attr("x",0).attr("y",xt().state.padding),y=function(k,I,B,N){var q=0,re=N.append("text");re.style("text-anchor","start"),re.attr("class","noteText");var ne,de=k.replace(/\r\n/g,"<br/>"),Ae=(de=de.replace(/\n/g,"<br/>")).split(Kr.lineBreakRegex),ke=1.25*xt().state.noteMargin,Ue=function(Je,ct){var wt=typeof Symbol!="undefined"&&Je[Symbol.iterator]||Je["@@iterator"];if(!wt){if(Array.isArray(Je)||(wt=function(tt,He){if(tt){if(typeof tt=="string")return Mt(tt,He);var lt=Object.prototype.toString.call(tt).slice(8,-1);return lt==="Object"&&tt.constructor&&(lt=tt.constructor.name),lt==="Map"||lt==="Set"?Array.from(tt):lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt)?Mt(tt,He):void 0}}(Je))||ct&&Je&&typeof Je.length=="number"){wt&&(Je=wt);var et=0,Ct=function(){};return{s:Ct,n:function(){return et>=Je.length?{done:!0}:{done:!1,value:Je[et++]}},e:function(tt){throw tt},f:Ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var It,Xe=!0,at=!1;return{s:function(){wt=wt.call(Je)},n:function(){var tt=wt.next();return Xe=tt.done,tt},e:function(tt){at=!0,It=tt},f:function(){try{Xe||wt.return==null||wt.return()}finally{if(at)throw It}}}}(Ae);try{for(Ue.s();!(ne=Ue.n()).done;){var $e=ne.value.trim();if($e.length>0){var We=re.append("tspan");We.text($e),ke===0&&(ke+=We.node().getBBox().height),q+=ke,We.attr("x",0+xt().state.noteMargin),We.attr("y",0+q+1.25*xt().state.noteMargin)}}}catch(Je){Ue.e(Je)}finally{Ue.f()}return{textWidth:re.node().getBBox().width,textHeight:q}}(a,0,0,c.append("g")),_=y.textWidth,S=y.textHeight;return g.attr("height",S+2*xt().state.noteMargin),g.attr("width",_+2*xt().state.noteMargin),g},Br=function(a,c){var g=c.id,y={id:g,label:c.id,width:0,height:0},_=a.append("g").attr("id",g).attr("class","stateGroup");c.type==="start"&&function(k){k.append("circle").attr("class","start-state").attr("r",xt().state.sizeUnit).attr("cx",xt().state.padding+xt().state.sizeUnit).attr("cy",xt().state.padding+xt().state.sizeUnit)}(_),c.type==="end"&&function(k){k.append("circle").attr("class","end-state-outer").attr("r",xt().state.sizeUnit+xt().state.miniPadding).attr("cx",xt().state.padding+xt().state.sizeUnit+xt().state.miniPadding).attr("cy",xt().state.padding+xt().state.sizeUnit+xt().state.miniPadding),k.append("circle").attr("class","end-state-inner").attr("r",xt().state.sizeUnit).attr("cx",xt().state.padding+xt().state.sizeUnit+2).attr("cy",xt().state.padding+xt().state.sizeUnit+2)}(_),c.type!=="fork"&&c.type!=="join"||function(k,I){var B=xt().state.forkWidth,N=xt().state.forkHeight;if(I.parentId){var q=B;B=N,N=q}k.append("rect").style("stroke","black").style("fill","black").attr("width",B).attr("height",N).attr("x",xt().state.padding).attr("y",xt().state.padding)}(_,c),c.type==="note"&&yr(c.note.text,_),c.type==="divider"&&function(k){k.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",xt().state.textHeight).attr("class","divider").attr("x2",2*xt().state.textHeight).attr("y1",0).attr("y2",0)}(_),c.type==="default"&&c.descriptions.length===0&&function(k,I){var B=k.append("text").attr("x",2*xt().state.padding).attr("y",xt().state.textHeight+2*xt().state.padding).attr("font-size",xt().state.fontSize).attr("class","state-title").text(I.id).node().getBBox();k.insert("rect",":first-child").attr("x",xt().state.padding).attr("y",xt().state.padding).attr("width",B.width+2*xt().state.padding).attr("height",B.height+2*xt().state.padding).attr("rx",xt().state.radius)}(_,c),c.type==="default"&&c.descriptions.length>0&&function(k,I){var B=k.append("text").attr("x",2*xt().state.padding).attr("y",xt().state.textHeight+1.3*xt().state.padding).attr("font-size",xt().state.fontSize).attr("class","state-title").text(I.descriptions[0]).node().getBBox(),N=B.height,q=k.append("text").attr("x",xt().state.padding).attr("y",N+.4*xt().state.padding+xt().state.dividerMargin+xt().state.textHeight).attr("class","state-description"),re=!0,ne=!0;I.descriptions.forEach(function(Ue){re||(function($e,We,Je){var ct=$e.append("tspan").attr("x",2*xt().state.padding).text(We);Je||ct.attr("dy",xt().state.textHeight)}(q,Ue,ne),ne=!1),re=!1});var de=k.append("line").attr("x1",xt().state.padding).attr("y1",xt().state.padding+N+xt().state.dividerMargin/2).attr("y2",xt().state.padding+N+xt().state.dividerMargin/2).attr("class","descr-divider"),Ae=q.node().getBBox(),ke=Math.max(Ae.width,B.width);de.attr("x2",ke+3*xt().state.padding),k.insert("rect",":first-child").attr("x",xt().state.padding).attr("y",xt().state.padding).attr("width",ke+2*xt().state.padding).attr("height",Ae.height+N+2*xt().state.padding).attr("rx",xt().state.radius)}(_,c);var S=_.node().getBBox();return y.width=S.width+2*xt().state.padding,y.height=S.height+2*xt().state.padding,y},zr=0;ue.parser.yy=mt;var Wn={},ti=function a(c,g,y,_,S,k){var I,B=new(Ds()).Graph({compound:!0,multigraph:!0}),N=!0;for(I=0;I<c.length;I++)if(c[I].stmt==="relation"){N=!1;break}y?B.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:N?1:on.edgeLengthFactor,nodeSep:N?1:50,isMultiGraph:!0}):B.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:N?1:on.edgeLengthFactor,nodeSep:N?1:50,ranker:"tight-tree",isMultiGraph:!0}),B.setDefaultEdgeLabel(function(){return{}}),mt.extract(c);for(var q=mt.getStates(),re=mt.getRelations(),ne=Object.keys(q),de=0;de<ne.length;de++){var Ae=q[ne[de]];y&&(Ae.parentId=y);var ke=void 0;if(Ae.doc){var Ue=g.append("g").attr("id",Ae.id).attr("class","stateGroup");ke=a(Ae.doc,Ue,Ae.id,!_,S,k);var $e=(Ue=Fn(Ue,Ae,_)).node().getBBox();ke.width=$e.width,ke.height=$e.height+on.padding/2,Wn[Ae.id]={y:on.compositTitleSize}}else ke=Br(g,Ae);if(Ae.note){var We={descriptions:[],id:Ae.id+"-note",note:Ae.note,type:"note"},Je=Br(g,We);Ae.note.position==="left of"?(B.setNode(ke.id+"-note",Je),B.setNode(ke.id,ke)):(B.setNode(ke.id,ke),B.setNode(ke.id+"-note",Je)),B.setParent(ke.id,ke.id+"-group"),B.setParent(ke.id+"-note",ke.id+"-group")}else B.setNode(ke.id,ke)}o.debug("Count=",B.nodeCount(),B);var ct=0;re.forEach(function(It){var Xe;ct++,o.debug("Setting edge",It),B.setEdge(It.id1,It.id2,{relation:It,width:(Xe=It.title,Xe?Xe.length*on.fontSizeFactor:1),height:on.labelHeight*Kr.getRows(It.title).length,labelpos:"c"},"id"+ct)}),I1().layout(B),o.debug("Graph after layout",B.nodes());var wt=g.node();B.nodes().forEach(function(It){It!==void 0&&B.node(It)!==void 0?(o.warn("Node "+It+": "+JSON.stringify(B.node(It))),S.select("#"+wt.id+" #"+It).attr("transform","translate("+(B.node(It).x-B.node(It).width/2)+","+(B.node(It).y+(Wn[It]?Wn[It].y:0)-B.node(It).height/2)+" )"),S.select("#"+wt.id+" #"+It).attr("data-x-shift",B.node(It).x-B.node(It).width/2),k.querySelectorAll("#"+wt.id+" #"+It+" .divider").forEach(function(Xe){var at=Xe.parentElement,tt=0,He=0;at&&(at.parentElement&&(tt=at.parentElement.getBBox().width),He=parseInt(at.getAttribute("data-x-shift"),10),Number.isNaN(He)&&(He=0)),Xe.setAttribute("x1",0-He+8),Xe.setAttribute("x2",tt-He-8)})):o.debug("No Node "+It+": "+JSON.stringify(B.node(It)))});var et=wt.getBBox();B.edges().forEach(function(It){It!==void 0&&B.edge(It)!==void 0&&(o.debug("Edge "+It.v+" -> "+It.w+": "+JSON.stringify(B.edge(It))),function(Xe,at,tt){at.points=at.points.filter(function(cr){return!Number.isNaN(cr.y)});var He=at.points,lt=Jf().x(function(cr){return cr.x}).y(function(cr){return cr.y}).curve(Lu),je=Xe.append("path").attr("d",lt(He)).attr("id","edge"+zr).attr("class","transition"),Gt="";if(xt().state.arrowMarkerAbsolute&&(Gt=(Gt=(Gt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),je.attr("marker-end","url("+Gt+"#"+function(cr){switch(cr){case mt.relationType.AGGREGATION:return"aggregation";case mt.relationType.EXTENSION:return"extension";case mt.relationType.COMPOSITION:return"composition";case mt.relationType.DEPENDENCY:return"dependency"}}(mt.relationType.DEPENDENCY)+"End)"),tt.title!==void 0){for(var Xt=Xe.append("g").attr("class","stateLabel"),ht=Dr.calcLabelPosition(at.points),Jt=ht.x,Qt=ht.y,zt=Kr.getRows(tt.title),$t=0,En=[],bn=0,Kn=0,fr=0;fr<=zt.length;fr++){var Ln=Xt.append("text").attr("text-anchor","middle").text(zt[fr]).attr("x",Jt).attr("y",Qt+$t),ni=Ln.node().getBBox();if(bn=Math.max(bn,ni.width),Kn=Math.min(Kn,ni.x),o.info(ni.x,Jt,Qt+$t),$t===0){var wi=Ln.node().getBBox();$t=wi.height,o.info("Title height",$t,Qt)}En.push(Ln)}var Cr=$t*zt.length;if(zt.length>1){var Ki=(zt.length-1)*$t*.5;En.forEach(function(cr,kr){return cr.attr("y",Qt+kr*$t-Ki)}),Cr=$t*zt.length}var Jr=Xt.node().getBBox();Xt.insert("rect",":first-child").attr("class","box").attr("x",Jt-bn/2-xt().state.padding/2).attr("y",Qt-Cr/2-xt().state.padding/2-3.5).attr("width",bn+xt().state.padding).attr("height",Cr+xt().state.padding),o.info(Jr)}zr++}(g,B.edge(It),B.edge(It).relation))}),et=wt.getBBox();var Ct={id:y||"root",label:y||"root",width:0,height:0};return Ct.width=et.width+2*on.padding,Ct.height=et.height+2*on.padding,o.debug("Doc rendered",Ct,B),Ct};const Sr=function(a,c){on=xt().state;var g,y=xt().securityLevel;y==="sandbox"&&(g=jn("#i"+c));var _=jn(y==="sandbox"?g.nodes()[0].contentDocument.body:"body"),S=y==="sandbox"?g.nodes()[0].contentDocument:document;ue.parser.yy.clear(),ue.parser.parse(a),o.debug("Rendering diagram "+a);var k=_.select("[id='".concat(c,"']"));k.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z"),new(Ds()).Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});var I=mt.getRootDoc();ti(I,k,void 0,!1,_,S);var B=on.padding,N=k.node().getBBox(),q=N.width+2*B,re=N.height+2*B;dl(k,re,1.75*q,on.useMaxWidth),k.attr("viewBox","".concat(N.x-on.padding,"  ").concat(N.y-on.padding," ")+q+" "+re)};var wr={},er={},$s=function(a,c,g,y){if(g.id!=="root"){var _="rect";g.start===!0&&(_="start"),g.start===!1&&(_="end"),g.type!=="default"&&(_=g.type),er[g.id]||(er[g.id]={id:g.id,shape:_,description:Kr.sanitizeText(g.id,xt()),classes:"statediagram-state"}),g.description&&(Array.isArray(er[g.id].description)?(er[g.id].shape="rectWithTitle",er[g.id].description.push(g.description)):er[g.id].description.length>0?(er[g.id].shape="rectWithTitle",er[g.id].description===g.id?er[g.id].description=[g.description]:er[g.id].description=[er[g.id].description,g.description]):(er[g.id].shape="rect",er[g.id].description=g.description),er[g.id].description=Kr.sanitizeTextOrArray(er[g.id].description,xt())),er[g.id].description.length===1&&er[g.id].shape==="rectWithTitle"&&(er[g.id].shape="rect"),!er[g.id].type&&g.doc&&(o.info("Setting cluster for ",g.id,Jc(g)),er[g.id].type="group",er[g.id].dir=Jc(g),er[g.id].shape=g.type==="divider"?"divider":"roundedWithTitle",er[g.id].classes=er[g.id].classes+" "+(y?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));var S={labelStyle:"",shape:er[g.id].shape,labelText:er[g.id].description,classes:er[g.id].classes,style:"",id:g.id,dir:er[g.id].dir,domId:"state-"+g.id+"-"+ji,type:er[g.id].type,padding:15};if(g.note){var k={labelStyle:"",shape:"note",labelText:g.note.text,classes:"statediagram-note",style:"",id:g.id+"----note-"+ji,domId:"state-"+g.id+"----note-"+ji,type:er[g.id].type,padding:15},I={labelStyle:"",shape:"noteGroup",labelText:g.note.text,classes:er[g.id].classes,style:"",id:g.id+"----parent",domId:"state-"+g.id+"----parent-"+ji,type:"group",padding:0};ji++,a.setNode(g.id+"----parent",I),a.setNode(k.id,k),a.setNode(g.id,S),a.setParent(g.id,g.id+"----parent"),a.setParent(k.id,g.id+"----parent");var B=g.id,N=k.id;g.note.position==="left of"&&(B=k.id,N=g.id),a.setEdge(B,N,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else a.setNode(g.id,S)}c&&c.id!=="root"&&(o.trace("Setting node ",g.id," to be child of its parent ",c.id),a.setParent(g.id,c.id)),g.doc&&(o.trace("Adding nodes children "),Vu(a,g,g.doc,!y))},ji=0,Vu=function(a,c,g,y){o.trace("items",g),g.forEach(function(_){if(_.stmt==="state"||_.stmt==="default")$s(a,c,_,y);else if(_.stmt==="relation"){$s(a,c,_.state1,y),$s(a,c,_.state2,y);var S={id:"edge"+ji,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:Kr.sanitizeText(_.description,xt()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},k=_.state1.id,I=_.state2.id;a.setEdge(k,I,S,ji),ji++}})},Jc=function(a,c){var g=c||"TB";if(a.doc)for(var y=0;y<a.doc.length;y++){var _=a.doc[y];_.stmt==="dir"&&(g=_.value)}return g};const W1=function(a){for(var c=Object.keys(a),g=0;g<c.length;g++)wr[c[g]]=a[c[g]]};function Y1(a){return function(c){if(Array.isArray(c))return f_(c)}(a)||function(c){if(typeof Symbol!="undefined"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(a)||function(c,g){if(c){if(typeof c=="string")return f_(c,g);var y=Object.prototype.toString.call(c).slice(8,-1);return y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set"?Array.from(c):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?f_(c,g):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f_(a,c){(c==null||c>a.length)&&(c=a.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=a[g];return y}var h_="",wc="",p_=[],X1=[],Z1=[],gl=function(){for(var a=!0,c=0;c<Z1.length;c++)Z1[c].processed,a=a&&Z1[c].processed;return a};const BK={parseDirective:function(a,c,g){To.parseDirective(this,a,c,g)},getConfig:function(){return xt().journey},clear:function(){p_.length=0,X1.length=0,wc="",h_="",Z1.length=0},setTitle:function(a){h_=a},getTitle:function(){return h_},addSection:function(a){wc=a,p_.push(a)},getSections:function(){return p_},getTasks:function(){for(var a=gl(),c=0;!a&&c<100;)a=gl(),c++;return X1.push.apply(X1,Z1),X1},addTask:function(a,c){var g=c.substr(1).split(":"),y=0,_=[];g.length===1?(y=Number(g[0]),_=[]):(y=Number(g[0]),_=g[1].split(","));var S=_.map(function(I){return I.trim()}),k={section:wc,type:wc,people:S,task:a,score:y};Z1.push(k)},addTaskOrg:function(a){var c={section:wc,type:wc,description:a,task:a,classes:[]};X1.push(c)},getActors:function(){return a=[],X1.forEach(function(c){c.people&&a.push.apply(a,Y1(c.people))}),Y1(new Set(a)).sort();var a}};var W0=n(9763),$ae=n.n(W0),$K=function(a,c){var g=a.append("rect");return g.attr("x",c.x),g.attr("y",c.y),g.attr("fill",c.fill),g.attr("stroke",c.stroke),g.attr("width",c.width),g.attr("height",c.height),g.attr("rx",c.rx),g.attr("ry",c.ry),c.class!==void 0&&g.attr("class",c.class),g},FK=function(a,c){var g=a.append("circle");return g.attr("cx",c.cx),g.attr("cy",c.cy),g.attr("class","actor-"+c.pos),g.attr("fill",c.fill),g.attr("stroke",c.stroke),g.attr("r",c.r),g.class!==void 0&&g.attr("class",g.class),c.title!==void 0&&g.append("title").text(c.title),g},UK=-1,HK=function(){function a(_,S,k,I,B,N,q,re){y(S.append("text").attr("x",k+B/2).attr("y",I+N/2+5).style("font-color",re).style("text-anchor","middle").text(_),q)}function c(_,S,k,I,B,N,q,re,ne){for(var de=re.taskFontSize,Ae=re.taskFontFamily,ke=_.split(/<br\s*\/?>/gi),Ue=0;Ue<ke.length;Ue++){var $e=Ue*de-de*(ke.length-1)/2,We=S.append("text").attr("x",k+B/2).attr("y",I).attr("fill",ne).style("text-anchor","middle").style("font-size",de).style("font-family",Ae);We.append("tspan").attr("x",k+B/2).attr("dy",$e).text(ke[Ue]),We.attr("y",I+N/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),y(We,q)}}function g(_,S,k,I,B,N,q,re){var ne=S.append("switch"),de=ne.append("foreignObject").attr("x",k).attr("y",I).attr("width",B).attr("height",N).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");de.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(_),c(_,ne,k,I,B,N,q,re),y(de,q)}function y(_,S){for(var k in S)k in S&&_.attr(k,S[k])}return function(_){return _.textPlacement==="fo"?g:_.textPlacement==="old"?a:c}}();const Fae=FK,Uae=function(a,c,g){var y=a.append("g"),_={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};_.x=c.x,_.y=c.y,_.fill=c.fill,_.width=g.width,_.height=g.height,_.class="journey-section section-type-"+c.num,_.rx=3,_.ry=3,$K(y,_),HK(g)(c.text,y,_.x,_.y,_.width,_.height,{class:"journey-section section-type-"+c.num},g,c.colour)},Hae=function(a,c){var g=c.text.replace(/<br\s*\/?>/gi," "),y=a.append("text");y.attr("x",c.x),y.attr("y",c.y),y.attr("class","legend"),y.style("text-anchor",c.anchor),c.class!==void 0&&y.attr("class",c.class);var _=y.append("tspan");return _.attr("x",c.x+2*c.textMargin),_.text(g),y},jae=function(a,c,g){var y,_,S,k=c.x+g.width/2,I=a.append("g");UK++,I.append("line").attr("id","task"+UK).attr("x1",k).attr("y1",c.y).attr("x2",k).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),y=I,_={cx:k,cy:300+30*(5-c.score),score:c.score},y.append("circle").attr("cx",_.cx).attr("cy",_.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),(S=y.append("g")).append("circle").attr("cx",_.cx-5).attr("cy",_.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),S.append("circle").attr("cx",_.cx+5).attr("cy",_.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),_.score>3?function(q){var re=Zp().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);q.append("path").attr("class","mouth").attr("d",re).attr("transform","translate("+_.cx+","+(_.cy+2)+")")}(S):_.score<3?function(q){var re=Zp().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);q.append("path").attr("class","mouth").attr("d",re).attr("transform","translate("+_.cx+","+(_.cy+7)+")")}(S):function(q){q.append("line").attr("class","mouth").attr("stroke",2).attr("x1",_.cx-5).attr("y1",_.cy+7).attr("x2",_.cx+5).attr("y2",_.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(S);var B={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};B.x=c.x,B.y=c.y,B.fill=c.fill,B.width=g.width,B.height=g.height,B.class="task task-type-"+c.num,B.rx=3,B.ry=3,$K(I,B);var N=c.x+14;c.people.forEach(function(q){var re=c.actors[q].color,ne={cx:N,cy:c.y,r:7,fill:re,stroke:"#000",title:q,pos:c.actors[q].position};FK(I,ne),N+=10}),HK(g)(c.task,I,B.x,B.y,B.width,B.height,{class:"task"},g,c.colour)};W0.parser.yy=BK;var Hh={},cD=xt().journey,Y0=xt().journey.leftMargin,Qc={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(a,c,g,y){a[c]===void 0?a[c]=g:a[c]=y(g,a[c])},updateBounds:function(a,c,g,y){var _=xt().journey,S=this,k=0;this.sequenceItems.forEach(function(I){k++;var B=S.sequenceItems.length-k+1;S.updateVal(I,"starty",c-B*_.boxMargin,Math.min),S.updateVal(I,"stopy",y+B*_.boxMargin,Math.max),S.updateVal(Qc.data,"startx",a-B*_.boxMargin,Math.min),S.updateVal(Qc.data,"stopx",g+B*_.boxMargin,Math.max),S.updateVal(I,"startx",a-B*_.boxMargin,Math.min),S.updateVal(I,"stopx",g+B*_.boxMargin,Math.max),S.updateVal(Qc.data,"starty",c-B*_.boxMargin,Math.min),S.updateVal(Qc.data,"stopy",y+B*_.boxMargin,Math.max)})},insert:function(a,c,g,y){var _=Math.min(a,g),S=Math.max(a,g),k=Math.min(c,y),I=Math.max(c,y);this.updateVal(Qc.data,"startx",_,Math.min),this.updateVal(Qc.data,"starty",k,Math.min),this.updateVal(Qc.data,"stopx",S,Math.max),this.updateVal(Qc.data,"stopy",I,Math.max),this.updateBounds(_,k,S,I)},bumpVerticalPos:function(a){this.verticalPos=this.verticalPos+a,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},uD=cD.sectionFills,jK=cD.sectionColours;const KK=function(a){Object.keys(a).forEach(function(c){cD[c]=a[c]})},Kae=function(a,c){var g=xt().journey;W0.parser.yy.clear(),W0.parser.parse(a+`
`);var y,_=xt().securityLevel;_==="sandbox"&&(y=jn("#i"+c));var S=jn(_==="sandbox"?y.nodes()[0].contentDocument.body:"body");_==="sandbox"&&y.nodes()[0].contentDocument,Qc.init();var k=S.select("#"+c);k.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),k.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z");var I=W0.parser.yy.getTasks(),B=W0.parser.yy.getTitle(),N=W0.parser.yy.getActors();for(var q in Hh)delete Hh[q];var re=0;N.forEach(function(Ue){Hh[Ue]={color:g.actorColours[re%g.actorColours.length],position:re},re++}),function(Ue){var $e=xt().journey,We=60;Object.keys(Hh).forEach(function(Je){var ct=Hh[Je].color,wt={cx:20,cy:We,r:7,fill:ct,stroke:"#000",pos:Hh[Je].position};Fae(Ue,wt);var et={x:40,y:We+7,fill:"#666",text:Je,textMargin:5|$e.boxTextMargin};Hae(Ue,et),We+=20})}(k),Qc.insert(0,0,Y0,50*Object.keys(Hh).length),function(Ue,$e,We){for(var Je=xt().journey,ct="",wt=We+(2*Je.height+Je.diagramMarginY),et=0,Ct="#CCC",It="black",Xe=0,at=0;at<$e.length;at++){var tt=$e[at];if(ct!==tt.section){Ct=uD[et%uD.length],Xe=et%uD.length,It=jK[et%jK.length];var He={x:at*Je.taskMargin+at*Je.width+Y0,y:50,text:tt.section,fill:Ct,num:Xe,colour:It};Uae(Ue,He,Je),ct=tt.section,et++}var lt=tt.people.reduce(function(je,Gt){return Hh[Gt]&&(je[Gt]=Hh[Gt]),je},{});tt.x=at*Je.taskMargin+at*Je.width+Y0,tt.y=wt,tt.width=Je.diagramMarginX,tt.height=Je.diagramMarginY,tt.colour=It,tt.fill=Ct,tt.num=Xe,tt.actors=lt,jae(Ue,tt,Je),Qc.insert(tt.x,tt.y,tt.x+tt.width+Je.taskMargin,450)}}(k,I,0);var ne=Qc.getBounds();B&&k.append("text").text(B).attr("x",Y0).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);var de=ne.stopy-ne.starty+2*g.diagramMarginY,Ae=Y0+ne.stopx+2*g.diagramMarginX;dl(k,de,Ae,g.useMaxWidth),k.append("line").attr("x1",Y0).attr("y1",4*g.height).attr("x2",Ae-Y0-4).attr("y2",4*g.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");var ke=B?70:0;k.attr("viewBox","".concat(ne.startx," -25 ").concat(Ae," ").concat(de+ke)),k.attr("preserveAspectRatio","xMinYMin meet"),k.attr("height",de+ke+25)},dD=function(a){return`g.classGroup text {
  fill: `.concat(a.nodeBorder,`;
  fill: `).concat(a.classText,`;
  stroke: none;
  font-family: `).concat(a.fontFamily,`;
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: `).concat(a.classText,`;
}
.edgeLabel .label rect {
  fill: `).concat(a.mainBkg,`;
}
.label text {
  fill: `).concat(a.classText,`;
}
.edgeLabel .label span {
  background: `).concat(a.mainBkg,`;
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: `).concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
    stroke-width: 1px;
  }


.divider {
  stroke: `).concat(a.nodeBorder,`;
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: `).concat(a.mainBkg,`;
  stroke: `).concat(a.nodeBorder,`;
}

g.classGroup line {
  stroke: `).concat(a.nodeBorder,`;
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: `).concat(a.mainBkg,`;
  opacity: 0.5;
}

.classLabel .label {
  fill: `).concat(a.nodeBorder,`;
  font-size: 10px;
}

.relation {
  stroke: `).concat(a.lineColor,`;
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

#compositionStart, .composition {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: `).concat(a.lineColor,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: `).concat(a.mainBkg,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: `).concat(a.mainBkg,` !important;
  stroke: `).concat(a.lineColor,` !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

`)},zK=function(a){return`.label {
    font-family: `.concat(a.fontFamily,`;
    color: `).concat(a.nodeTextColor||a.textColor,`;
  }
  .cluster-label text {
    fill: `).concat(a.titleColor,`;
  }
  .cluster-label span {
    color: `).concat(a.titleColor,`;
  }

  .label text,span {
    fill: `).concat(a.nodeTextColor||a.textColor,`;
    color: `).concat(a.nodeTextColor||a.textColor,`;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: `).concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: `).concat(a.arrowheadColor,`;
  }

  .edgePath .path {
    stroke: `).concat(a.lineColor,`;
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: `).concat(a.lineColor,`;
    fill: none;
  }

  .edgeLabel {
    background-color: `).concat(a.edgeLabelBackground,`;
    rect {
      opacity: 0.5;
      background-color: `).concat(a.edgeLabelBackground,`;
      fill: `).concat(a.edgeLabelBackground,`;
    }
    text-align: center;
  }

  .cluster rect {
    fill: `).concat(a.clusterBkg,`;
    stroke: `).concat(a.clusterBorder,`;
    stroke-width: 1px;
  }

  .cluster text {
    fill: `).concat(a.titleColor,`;
  }

  .cluster span {
    color: `).concat(a.titleColor,`;
  }
  /* .cluster div {
    color: `).concat(a.titleColor,`;
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: `).concat(a.fontFamily,`;
    font-size: 12px;
    background: `).concat(a.tertiaryColor,`;
    border: 1px solid `).concat(a.border2,`;
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }
`)},qK=function(a){return`
defs #statediagram-barbEnd {
    fill: `.concat(a.transitionColor,`;
    stroke: `).concat(a.transitionColor,`;
  }
g.stateGroup text {
  fill: `).concat(a.nodeBorder,`;
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: `).concat(a.textColor,`;
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: `).concat(a.stateLabelColor,`;
}

g.stateGroup rect {
  fill: `).concat(a.mainBkg,`;
  stroke: `).concat(a.nodeBorder,`;
}

g.stateGroup line {
  stroke: `).concat(a.lineColor,`;
  stroke-width: 1;
}

.transition {
  stroke: `).concat(a.transitionColor,`;
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: `).concat(a.background,`;
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: `).concat(a.noteBorderColor,`;
  fill: `).concat(a.noteBkgColor,`;

  text {
    fill: `).concat(a.noteTextColor,`;
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: `).concat(a.mainBkg,`;
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: `).concat(a.labelBackgroundColor,`;
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: `).concat(a.transitionLabelColor||a.tertiaryTextColor,`;
}
.label div .edgeLabel {
  color: `).concat(a.transitionLabelColor||a.tertiaryTextColor,`;
}

.stateLabel text {
  fill: `).concat(a.stateLabelColor,`;
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: `).concat(a.specialStateColor,`;
  stroke: `).concat(a.specialStateColor,`;
}

.node .fork-join {
  fill: `).concat(a.specialStateColor,`;
  stroke: `).concat(a.specialStateColor,`;
}

.node circle.state-end {
  fill: `).concat(a.innerEndBackground,`;
  stroke: `).concat(a.background,`;
  stroke-width: 1.5
}
.end-state-inner {
  fill: `).concat(a.compositeBackground||a.background,`;
  // stroke: `).concat(a.background,`;
  stroke-width: 1.5
}

.node rect {
  fill: `).concat(a.stateBkg||a.mainBkg,`;
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;
  stroke-width: 1px;
}
.node polygon {
  fill: `).concat(a.mainBkg,`;
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: `).concat(a.lineColor,`;
}

.statediagram-cluster rect {
  fill: `).concat(a.compositeTitleBackground,`;
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: `).concat(a.stateLabelColor,`;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: `).concat(a.stateBorder||a.nodeBorder,`;
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: `).concat(a.compositeBackground||a.background,`;
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: `).concat(a.altBackground?a.altBackground:"#efefef",`;
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: `).concat(a.altBackground?a.altBackground:"#efefef",`;
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: `).concat(a.noteBkgColor,`;
  stroke: `).concat(a.noteBorderColor,`;
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: `).concat(a.noteBkgColor,`;
  stroke: `).concat(a.noteBorderColor,`;
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: `).concat(a.noteTextColor,`;
}

.statediagram-note .nodeLabel {
  color: `).concat(a.noteTextColor,`;
}
.statediagram .edgeLabel {
  color: red; // `).concat(a.noteTextColor,`;
}

#dependencyStart, #dependencyEnd {
  fill: `).concat(a.lineColor,`;
  stroke: `).concat(a.lineColor,`;
  stroke-width: 1;
}
`)};var zae={flowchart:zK,"flowchart-v2":zK,sequence:function(a){return`.actor {
    stroke: `.concat(a.actorBorder,`;
    fill: `).concat(a.actorBkg,`;
  }

  text.actor > tspan {
    fill: `).concat(a.actorTextColor,`;
    stroke: none;
  }

  .actor-line {
    stroke: `).concat(a.actorLineColor,`;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: `).concat(a.signalColor,`;
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: `).concat(a.signalColor,`;
  }

  #arrowhead path {
    fill: `).concat(a.signalColor,`;
    stroke: `).concat(a.signalColor,`;
  }

  .sequenceNumber {
    fill: `).concat(a.sequenceNumberColor,`;
  }

  #sequencenumber {
    fill: `).concat(a.signalColor,`;
  }

  #crosshead path {
    fill: `).concat(a.signalColor,`;
    stroke: `).concat(a.signalColor,`;
  }

  .messageText {
    fill: `).concat(a.signalTextColor,`;
    stroke: `).concat(a.signalTextColor,`;
  }

  .labelBox {
    stroke: `).concat(a.labelBoxBorderColor,`;
    fill: `).concat(a.labelBoxBkgColor,`;
  }

  .labelText, .labelText > tspan {
    fill: `).concat(a.labelTextColor,`;
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: `).concat(a.loopTextColor,`;
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: `).concat(a.labelBoxBorderColor,`;
    fill: `).concat(a.labelBoxBorderColor,`;
  }

  .note {
    //stroke: #decc93;
    stroke: `).concat(a.noteBorderColor,`;
    fill: `).concat(a.noteBkgColor,`;
  }

  .noteText, .noteText > tspan {
    fill: `).concat(a.noteTextColor,`;
    stroke: none;
  }

  .activation0 {
    fill: `).concat(a.activationBkgColor,`;
    stroke: `).concat(a.activationBorderColor,`;
  }

  .activation1 {
    fill: `).concat(a.activationBkgColor,`;
    stroke: `).concat(a.activationBorderColor,`;
  }

  .activation2 {
    fill: `).concat(a.activationBkgColor,`;
    stroke: `).concat(a.activationBorderColor,`;
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: `).concat(a.actorBkg,`;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: `).concat(a.actorBorder,`;
    fill: `).concat(a.actorBkg,`;
  }
  .actor-man circle, line {
    stroke: `).concat(a.actorBorder,`;
    fill: `).concat(a.actorBkg,`;
    stroke-width: 2px;
  }
`)},gantt:function(a){return`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: `.concat(a.excludeBkgColor,`;
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: `).concat(a.sectionBkgColor,`;
  }

  .section2 {
    fill: `).concat(a.sectionBkgColor2,`;
  }

  .section1,
  .section3 {
    fill: `).concat(a.altSectionBkgColor,`;
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle1 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle2 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle3 {
    fill: `).concat(a.titleColor,`;
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: `).concat(a.ganttFontSize,`;
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: `).concat(a.gridColor,`;
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: `).concat(a.fontFamily,`;
      fill: `).concat(a.textColor,`;
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: `).concat(a.todayLineColor,`;
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: `).concat(a.ganttFontSize,`;
  // }

  .taskTextOutsideRight {
    fill: `).concat(a.taskTextDarkColor,`;
    text-anchor: start;
    // font-size: `).concat(a.ganttFontSize,`;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: `).concat(a.taskTextDarkColor,`;
    text-anchor: end;
    // font-size: `).concat(a.ganttFontSize,`;
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: `).concat(a.taskTextClickableColor,` !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: `).concat(a.taskTextClickableColor,` !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: `).concat(a.taskTextClickableColor,` !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: `).concat(a.taskTextColor,`;
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: `).concat(a.taskBkgColor,`;
    stroke: `).concat(a.taskBorderColor,`;
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: `).concat(a.taskTextOutsideColor,`;
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: `).concat(a.taskTextOutsideColor,`;
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: `).concat(a.activeTaskBkgColor,`;
    stroke: `).concat(a.activeTaskBorderColor,`;
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: `).concat(a.doneTaskBorderColor,`;
    fill: `).concat(a.doneTaskBkgColor,`;
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: `).concat(a.critBorderColor,`;
    fill: `).concat(a.critBkgColor,`;
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: `).concat(a.critBorderColor,`;
    fill: `).concat(a.activeTaskBkgColor,`;
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: `).concat(a.critBorderColor,`;
    fill: `).concat(a.doneTaskBkgColor,`;
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: `).concat(a.taskTextDarkColor,` !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: `).concat(a.textColor,`    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`)},classDiagram:dD,"classDiagram-v2":dD,class:dD,stateDiagram:qK,state:qK,git:function(){return`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`},info:function(){return""},pie:function(a){return`
  .pieCircle{
    stroke: `.concat(a.pieStrokeColor,`;
    stroke-width : `).concat(a.pieStrokeWidth,`;
    opacity : `).concat(a.pieOpacity,`;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: `).concat(a.pieTitleTextSize,`;
    fill: `).concat(a.pieTitleTextColor,`;
    font-family: `).concat(a.fontFamily,`;
  }
  .slice {
    font-family: `).concat(a.fontFamily,`;
    fill: `).concat(a.pieSectionTextColor,`;
    font-size:`).concat(a.pieSectionTextSize,`;
    // fill: white;
  }
  .legend text {
    fill: `).concat(a.pieLegendTextColor,`;
    font-family: `).concat(a.fontFamily,`;
    font-size: `).concat(a.pieLegendTextSize,`;
  }
`)},er:function(a){return`
  .entityBox {
    fill: `.concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
  }

  .attributeBoxOdd {
    fill: #ffffff;
    stroke: `).concat(a.nodeBorder,`;
  }

  .attributeBoxEven {
    fill: #f2f2f2;
    stroke: `).concat(a.nodeBorder,`;
  }

  .relationshipLabelBox {
    fill: `).concat(a.tertiaryColor,`;
    opacity: 0.7;
    background-color: `).concat(a.tertiaryColor,`;
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: `).concat(a.lineColor,`;
    }
`)},journey:function(a){return`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: `.concat(a.textColor,`;
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: `).concat(a.textColor,`
  }

  .legend {
    fill: `).concat(a.textColor,`;
  }

  .label text {
    fill: #333;
  }
  .label {
    color: `).concat(a.textColor,`
  }

  .face {
    `).concat(a.faceColor?"fill: ".concat(a.faceColor):"fill: #FFF8DC",`;
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: `).concat(a.mainBkg,`;
    stroke: `).concat(a.nodeBorder,`;
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: `).concat(a.arrowheadColor,`;
  }

  .edgePath .path {
    stroke: `).concat(a.lineColor,`;
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: `).concat(a.lineColor,`;
    fill: none;
  }

  .edgeLabel {
    background-color: `).concat(a.edgeLabelBackground,`;
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: `).concat(a.titleColor,`;
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: `).concat(a.tertiaryColor,`;
    border: 1px solid `).concat(a.border2,`;
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType0):"",`;
  }
  .task-type-1, .section-type-1  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType1):"",`;
  }
  .task-type-2, .section-type-2  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType2):"",`;
  }
  .task-type-3, .section-type-3  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType3):"",`;
  }
  .task-type-4, .section-type-4  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType4):"",`;
  }
  .task-type-5, .section-type-5  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType5):"",`;
  }
  .task-type-6, .section-type-6  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType6):"",`;
  }
  .task-type-7, .section-type-7  {
    `).concat(a.fillType0?"fill: ".concat(a.fillType7):"",`;
  }

  .actor-0 {
    `).concat(a.actor0?"fill: ".concat(a.actor0):"",`;
  }
  .actor-1 {
    `).concat(a.actor1?"fill: ".concat(a.actor1):"",`;
  }
  .actor-2 {
    `).concat(a.actor2?"fill: ".concat(a.actor2):"",`;
  }
  .actor-3 {
    `).concat(a.actor3?"fill: ".concat(a.actor3):"",`;
  }
  .actor-4 {
    `).concat(a.actor4?"fill: ".concat(a.actor4):"",`;
  }
  .actor-5 {
    `).concat(a.actor5?"fill: ".concat(a.actor5):"",`;
  }

  }
`)},requirement:function(a){return`

  marker {
    fill: `.concat(a.relationColor,`;
    stroke: `).concat(a.relationColor,`;
  }

  marker.cross {
    stroke: `).concat(a.lineColor,`;
  }

  svg {
    font-family: `).concat(a.fontFamily,`;
    font-size: `).concat(a.fontSize,`;
  }

  .reqBox {
    fill: `).concat(a.requirementBackground,`;
    fill-opacity: 100%;
    stroke: `).concat(a.requirementBorderColor,`;
    stroke-width: `).concat(a.requirementBorderSize,`;
  }
  
  .reqTitle, .reqLabel{
    fill:  `).concat(a.requirementTextColor,`;
  }
  .reqLabelBox {
    fill: `).concat(a.relationLabelBackground,`;
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: `).concat(a.requirementBorderColor,`;
    stroke-width: `).concat(a.requirementBorderSize,`;
  }
  .relationshipLine {
    stroke: `).concat(a.relationColor,`;
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: `).concat(a.relationLabelColor,`;
  }

`)}};function fD(a){return fD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},fD(a)}var VK=function(a){var c=a;return(c=(c=c.replace(/ﬂ°°/g,function(){return"&#"})).replace(/ﬂ°/g,function(){return"&"})).replace(/¶ß/g,function(){return";"})},uE={};function GK(a){var c;j0(a.git),oT(a.flowchart),P4(a.flowchart),a.sequenceDiagram!==void 0&&le.setConf(co(a.sequence,a.sequenceDiagram)),le.setConf(a.sequence),a.gantt,O9(a.class),a.state,W1(a.state),J4(a.class),J9(a.er),KK(a.journey),wT(a.requirement),c=a.class,Object.keys(c).forEach(function(g){c[g]})}var qae=Object.freeze({render:function(a,c,g,y){x1();var _=c,S=Dr.detectInit(_);S&&(Ib(S),C9(S));var k=xt();c.length>k.maxTextSize&&(_="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");var I=jn("body");if(y!==void 0){if(k.securityLevel==="sandbox"){var B=jn("body").append("iframe").attr("id","i"+a).attr("style","width: 100%; height: 100%;").attr("sandbox","");(I=jn(B.nodes()[0].contentDocument.body)).node().style.margin=0}if(y.innerHTML="",k.securityLevel==="sandbox"){var N=jn(y).append("iframe").attr("id","i"+a).attr("style","width: 100%; height: 100%;").attr("sandbox","");(I=jn(N.nodes()[0].contentDocument.body)).node().style.margin=0}else I=jn(y);I.append("div").attr("id","d"+a).attr("style","font-family: "+k.fontFamily).append("svg").attr("id",a).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}else{var q,re=document.getElementById(a);if(re&&re.remove(),(q=k.securityLevel!=="sandbox"?document.querySelector("#d"+a):document.querySelector("#i"+a))&&q.remove(),k.securityLevel==="sandbox"){var ne=jn("body").append("iframe").attr("id","i"+a).attr("style","width: 100%; height: 100%;").attr("sandbox","");(I=jn(ne.nodes()[0].contentDocument.body)).node().style.margin=0}else I=jn("body");I.append("div").attr("id","d"+a).append("svg").attr("id",a).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}_=_.replace(/style.*:\S*#.*;/g,function(He){return He.substring(0,He.length-1)}).replace(/classDef.*:\S*#.*;/g,function(He){return He.substring(0,He.length-1)}).replace(/#\w+;/g,function(He){var lt=He.substring(1,He.length-1);return/^\+?\d+$/.test(lt)?"\uFB02\xB0\xB0"+lt+"\xB6\xDF":"\uFB02\xB0"+lt+"\xB6\xDF"});var de=I.select("#d"+a).node(),Ae=Dr.detectType(_,k),ke=de.firstChild,Ue=ke.firstChild,$e="";if(k.themeCSS!==void 0&&($e+=`
`.concat(k.themeCSS)),k.fontFamily!==void 0&&($e+=`
:root { --mermaid-font-family: `.concat(k.fontFamily,"}")),k.altFontFamily!==void 0&&($e+=`
:root { --mermaid-alt-font-family: `.concat(k.altFontFamily,"}")),Ae==="flowchart"||Ae==="flowchart-v2"||Ae==="graph"){var We=function(He){o.info("Extracting classes"),vr.clear();try{var lt=Rh().parser;return lt.yy=vr,lt.parse(He),vr.getClasses()}catch{return}}(_),Je=k.htmlLabels||k.flowchart.htmlLabels;for(var ct in We)Je?($e+=`
.`.concat(ct," > * { ").concat(We[ct].styles.join(" !important; ")," !important; }"),$e+=`
.`.concat(ct," span { ").concat(We[ct].styles.join(" !important; ")," !important; }")):($e+=`
.`.concat(ct," path { ").concat(We[ct].styles.join(" !important; ")," !important; }"),$e+=`
.`.concat(ct," rect { ").concat(We[ct].styles.join(" !important; ")," !important; }"),$e+=`
.`.concat(ct," polygon { ").concat(We[ct].styles.join(" !important; ")," !important; }"),$e+=`
.`.concat(ct," ellipse { ").concat(We[ct].styles.join(" !important; ")," !important; }"),$e+=`
.`.concat(ct," circle { ").concat(We[ct].styles.join(" !important; ")," !important; }"),We[ct].textStyles&&($e+=`
.`.concat(ct," tspan { ").concat(We[ct].textStyles.join(" !important; ")," !important; }")))}var wt=function(He,lt){return Bu(J6("".concat(He,"{").concat(lt,"}")),C0)}("#".concat(a),function(He,lt,je){return` {
    font-family: `.concat(je.fontFamily,`;
    font-size: `).concat(je.fontSize,`;
    fill: `).concat(je.textColor,`
  }

  /* Classes common for multiple diagrams */

  .error-icon {
    fill: `).concat(je.errorBkgColor,`;
  }
  .error-text {
    fill: `).concat(je.errorTextColor,`;
    stroke: `).concat(je.errorTextColor,`;
  }

  .edge-thickness-normal {
    stroke-width: 2px;
  }
  .edge-thickness-thick {
    stroke-width: 3.5px
  }
  .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  .marker {
    fill: `).concat(je.lineColor,`;
    stroke: `).concat(je.lineColor,`;
  }
  .marker.cross {
    stroke: `).concat(je.lineColor,`;
  }

  svg {
    font-family: `).concat(je.fontFamily,`;
    font-size: `).concat(je.fontSize,`;
  }

  `).concat(zae[He](je),`

  `).concat(lt,`
`)}(Ae,$e,k.themeVariables)),et=document.createElement("style");et.innerHTML="#".concat(a," ")+wt,ke.insertBefore(et,Ue);try{switch(Ae){case"git":k.flowchart.arrowMarkerAbsolute=k.arrowMarkerAbsolute,j0(k.git),function(He,lt,je){try{var Gt=W4().parser;Gt.yy=Wd,Gt.yy.clear();var Xt,ht=xt().securityLevel;ht==="sandbox"&&(Xt=jn("#i"+lt));var Jt=jn(ht==="sandbox"?Xt.nodes()[0].contentDocument.body:"body");ht==="sandbox"&&Xt.nodes()[0].contentDocument,o.debug("in gitgraph renderer",He+`
`,"id:",lt,je),Gt.parse(He+`
`),Hr=Object.assign(Hr,pT,Wd.getOptions()),o.debug("effective options",Hr);var Qt=Wd.getDirection();Yd=Wd.getCommits();var zt=Wd.getBranchesAsObjArray();Qt==="BT"&&(Hr.nodeLabel.x=zt.length*Hr.branchOffset,Hr.nodeLabel.width="100%",Hr.nodeLabel.y=-2*Hr.nodeRadius);var $t=Jt.select('[id="'.concat(lt,'"]'));for(var En in function(Kn){Kn.append("defs").append("g").attr("id","def-commit").append("circle").attr("r",Hr.nodeRadius).attr("cx",0).attr("cy",0),Kn.select("#def-commit").append("foreignObject").attr("width",Hr.nodeLabel.width).attr("height",Hr.nodeLabel.height).attr("x",Hr.nodeLabel.x).attr("y",Hr.nodeLabel.y).attr("class","node-label").attr("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility").append("p").html("")}($t),Ah=1,zt){var bn=zt[En];n_($t,bn.commit.id,zt,Qt),r_($t,bn.commit,Qt),Ah++}$t.attr("height",function(){return Qt==="BT"?Object.keys(Yd).length*Hr.nodeSpacing:(zt.length+1)*Hr.branchOffset})}catch(Kn){o.error("Error while rendering gitgraph"),o.error(Kn.message)}}(_,a,!1);break;case"flowchart":k.flowchart.arrowMarkerAbsolute=k.arrowMarkerAbsolute,oT(k.flowchart),jP(_,a);break;case"flowchart-v2":k.flowchart.arrowMarkerAbsolute=k.arrowMarkerAbsolute,P4(k.flowchart),D4(_,a);break;case"sequence":k.sequence.arrowMarkerAbsolute=k.arrowMarkerAbsolute,k.sequenceDiagram?(le.setConf(Object.assign(k.sequence,k.sequenceDiagram)),console.error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.")):le.setConf(k.sequence),le.draw(_,a);break;case"gantt":k.gantt.arrowMarkerAbsolute=k.arrowMarkerAbsolute,k.gantt,uT(_,a);break;case"class":k.class.arrowMarkerAbsolute=k.arrowMarkerAbsolute,O9(k.class),Ui(_,a);break;case"classDiagram":k.class.arrowMarkerAbsolute=k.arrowMarkerAbsolute,function(He){Object.keys(He).forEach(function(lt){S4[lt]=He[lt]})}(k.class),function(He,lt){o.info("Drawing class - ",lt),Nl.clear(),kh.parser.parse(He);var je=xt().flowchart,Gt=xt().securityLevel;o.info("config:",je);var Xt,ht=je.nodeSpacing||50,Jt=je.rankSpacing||50,Qt=new(Ds()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:Nl.getDirection(),nodesep:ht,ranksep:Jt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),zt=Nl.getClasses(),$t=Nl.getRelations();o.info($t),function(ai,Ba){var ca=Object.keys(ai);o.info("keys:",ca),o.info(ai),ca.forEach(function($r){var Er=ai[$r],ml="";Er.cssClasses.length>0&&(ml=ml+" "+Er.cssClasses.join(" "));var Ul,Ec,Os={labelStyle:""},X0=Er.text!==void 0?Er.text:Er.id;Er.type,Ec="class_box",Ba.setNode(Er.id,{labelStyle:Os.labelStyle,shape:Ec,labelText:(Ul=X0,Kr.sanitizeText(Ul,xt())),classData:Er,rx:0,ry:0,class:ml,style:Os.style,id:Er.id,domId:Er.domId,haveCallback:Er.haveCallback,link:Er.link,width:Er.type==="group"?500:void 0,type:Er.type,padding:xt().flowchart.padding}),o.info("setNode",{labelStyle:Os.labelStyle,shape:Ec,labelText:X0,rx:0,ry:0,class:ml,style:Os.style,id:Er.id,width:Er.type==="group"?500:void 0,type:Er.type,padding:xt().flowchart.padding})})}(zt,Qt),function(ai,Ba){var ca=0;ai.forEach(function($r){ca++;var Er={classes:"relation"};Er.pattern=$r.relation.lineType==1?"dashed":"solid",Er.id="id"+ca,$r.type==="arrow_open"?Er.arrowhead="none":Er.arrowhead="normal",o.info(Er,$r),Er.startLabelRight=$r.relationTitle1==="none"?"":$r.relationTitle1,Er.endLabelLeft=$r.relationTitle2==="none"?"":$r.relationTitle2,Er.arrowTypeStart=W9($r.relation.type1),Er.arrowTypeEnd=W9($r.relation.type2);var ml="",Ul="";if($r.style!==void 0){var Ec=jd($r.style);ml=Ec.style,Ul=Ec.labelStyle}else ml="fill:none";Er.style=ml,Er.labelStyle=Ul,$r.interpolate!==void 0?Er.curve=gc($r.interpolate,pi):ai.defaultInterpolate!==void 0?Er.curve=gc(ai.defaultInterpolate,pi):Er.curve=gc(S4.curve,pi),$r.text=$r.title,$r.text===void 0?$r.style!==void 0&&(Er.arrowheadStyle="fill: #333"):(Er.arrowheadStyle="fill: #333",Er.labelpos="c",xt().flowchart.htmlLabels?(Er.labelType="html",Er.label='<span class="edgeLabel">'+$r.text+"</span>"):(Er.labelType="text",Er.label=$r.text.replace(Kr.lineBreakRegex,`
`),$r.style===void 0&&(Er.style=Er.style||"stroke: #333; stroke-width: 1.5px;fill:none"),Er.labelStyle=Er.labelStyle.replace("color:","fill:"))),Ba.setEdge($r.id1,$r.id2,Er,ca)})}($t,Qt),Gt==="sandbox"&&(Xt=jn("#i"+lt));var En=jn(Gt==="sandbox"?Xt.nodes()[0].contentDocument.body:"body"),bn=En.select('[id="'.concat(lt,'"]'));bn.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var Kn=En.select("#"+lt+" g");E4(Kn,Qt,["aggregation","extension","composition","dependency"],"classDiagram",lt);var fr=bn.node().getBBox(),Ln=fr.width+16,ni=fr.height+16;if(o.debug("new ViewBox 0 0 ".concat(Ln," ").concat(ni),"translate(".concat(8-Qt._label.marginx,", ").concat(8-Qt._label.marginy,")")),dl(bn,ni,Ln,je.useMaxWidth),bn.attr("viewBox","0 0 ".concat(Ln," ").concat(ni)),bn.select("g").attr("transform","translate(".concat(8-Qt._label.marginx,", ").concat(8-fr.y,")")),!je.htmlLabels)for(var wi=Gt==="sandbox"?Xt.nodes()[0].contentDocument:document,Cr=wi.querySelectorAll('[id="'+lt+'"] .edgeLabel .label'),Ki=0;Ki<Cr.length;Ki++){var Jr=Cr[Ki],cr=Jr.getBBox(),kr=wi.createElementNS("http://www.w3.org/2000/svg","rect");kr.setAttribute("rx",0),kr.setAttribute("ry",0),kr.setAttribute("width",cr.width),kr.setAttribute("height",cr.height),Jr.insertBefore(kr,Jr.firstChild)}}(_,a);break;case"state":k.class.arrowMarkerAbsolute=k.arrowMarkerAbsolute,k.state,Sr(_,a);break;case"stateDiagram":k.class.arrowMarkerAbsolute=k.arrowMarkerAbsolute,W1(k.state),function(He,lt){o.info("Drawing state diagram (v2)",lt),mt.clear(),er={};var je=ve().parser;je.yy=mt,je.parse(He);var Gt=mt.getDirection();Gt===void 0&&(Gt="LR");var Xt=xt().state,ht=Xt.nodeSpacing||50,Jt=Xt.rankSpacing||50,Qt=xt().securityLevel;o.info(mt.getRootDocV2()),mt.extract(mt.getRootDocV2()),o.info(mt.getRootDocV2());var zt,$t=new(Ds()).Graph({multigraph:!0,compound:!0}).setGraph({rankdir:Jc(mt.getRootDocV2()),nodesep:ht,ranksep:Jt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});$s($t,void 0,mt.getRootDocV2(),!0),Qt==="sandbox"&&(zt=jn("#i"+lt));var En=jn(Qt==="sandbox"?zt.nodes()[0].contentDocument.body:"body"),bn=(Qt==="sandbox"&&zt.nodes()[0].contentDocument,En.select('[id="'.concat(lt,'"]'))),Kn=En.select("#"+lt+" g");E4(Kn,$t,["barb"],"statediagram",lt);var fr=bn.node().getBBox(),Ln=fr.width+16,ni=fr.height+16;bn.attr("class","statediagram");var wi=bn.node().getBBox();dl(bn,ni,1.75*Ln,Xt.useMaxWidth);var Cr="".concat(wi.x-8," ").concat(wi.y-8," ").concat(Ln," ").concat(ni);o.debug("viewBox ".concat(Cr)),bn.attr("viewBox",Cr);for(var Ki=document.querySelectorAll('[id="'+lt+'"] .edgeLabel .label'),Jr=0;Jr<Ki.length;Jr++){var cr=Ki[Jr],kr=cr.getBBox(),ai=document.createElementNS("http://www.w3.org/2000/svg","rect");ai.setAttribute("rx",0),ai.setAttribute("ry",0),ai.setAttribute("width",kr.width),ai.setAttribute("height",kr.height),cr.insertBefore(ai,cr.firstChild)}}(_,a);break;case"info":k.class.arrowMarkerAbsolute=k.arrowMarkerAbsolute,J4(k.class),function(He,lt,je){try{var Gt=Z4().parser;Gt.yy=yT,o.debug(`Renering info diagram
`+He);var Xt,ht=xt().securityLevel;ht==="sandbox"&&(Xt=jn("#i"+lt));var Jt=jn(ht==="sandbox"?Xt.nodes()[0].contentDocument.body:"body");ht==="sandbox"&&Xt.nodes()[0].contentDocument,Gt.parse(He),o.debug("Parsed info diagram");var Qt=Jt.select("#"+lt);Qt.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+je),Qt.attr("height",100),Qt.attr("width",400)}catch(zt){o.error("Error while rendering info diagram"),o.error(zt.message)}}(_,a,_b);break;case"pie":WP(_,a);break;case"er":J9(k.er),AP(_,a);break;case"journey":KK(k.journey),Kae(_,a);break;case"requirement":wT(k.requirement),ET(_,a)}}catch(He){throw function(lt,je){try{o.debug(`Renering svg for syntax error
`);var Gt=jn("#"+lt),Xt=Gt.append("g");Xt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),Xt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),Xt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),Xt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),Xt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),Xt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),Xt.append("text").attr("class","error-text").attr("x",1240).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),Xt.append("text").attr("class","error-text").attr("x",1050).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+je),Gt.attr("height",100),Gt.attr("width",400),Gt.attr("viewBox","768 0 512 512")}catch(ht){o.error("Error while rendering info diagram"),o.error(ht.message)}}(a,_b),He}I.select('[id="'.concat(a,'"]')).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");var Ct=I.select("#d"+a).node().innerHTML;if(o.debug("cnf.arrowMarkerAbsolute",k.arrowMarkerAbsolute),k.arrowMarkerAbsolute&&k.arrowMarkerAbsolute!=="false"||k.arrowMarkerAbsolute==="sandbox"||(Ct=Ct.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),Ct=(Ct=VK(Ct)).replace(/<br>/g,"<br/>"),k.securityLevel==="sandbox"){var It=I.select("#d"+a+" svg").node(),Xe="100%";It&&(Xe=It.viewBox.baseVal.height+"px"),Ct='<iframe style="width:'.concat("100%",";height:").concat(Xe,';border:0;margin:0;" src="data:text/html;base64,').concat(btoa('<body style="margin:0">'+Ct+"</body>"),`" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`)}if(g!==void 0)switch(Ae){case"flowchart":case"flowchart-v2":g(Ct,vr.bindFunctions);break;case"gantt":g(Ct,$1.bindFunctions);break;case"class":case"classDiagram":g(Ct,Nl.bindFunctions);break;default:g(Ct)}else o.debug("CB = undefined!");c_.forEach(function(He){He()}),c_=[];var at=k.securityLevel==="sandbox"?"#i"+a:"#d"+a,tt=jn(at).node();return tt!==null&&typeof tt.remove=="function"&&jn(at).node().remove(),Ct},parse:function(a){var c=xt(),g=Dr.detectInit(a,c);g&&o.debug("reinit ",g);var y,_=Dr.detectType(a,c);switch(o.debug("Type "+_),_){case"git":(y=W4()).parser.yy=Wd;break;case"flowchart":case"flowchart-v2":vr.clear(),(y=Rh()).parser.yy=vr;break;case"sequence":(y=ZP()).parser.yy=aE;break;case"gantt":(y=zP()).parser.yy=$1;break;case"class":case"classDiagram":(y=R9()).parser.yy=Nl;break;case"state":case"stateDiagram":(y=ve()).parser.yy=mt;break;case"info":o.debug("info info info"),(y=Z4()).parser.yy=yT;break;case"pie":o.debug("pie"),(y=K0()).parser.yy=Xd;break;case"er":o.debug("er"),(y=k4()).parser.yy=aa;break;case"journey":o.debug("Journey"),(y=$ae()).parser.yy=BK;break;case"requirement":case"requirementDiagram":o.debug("RequirementDiagram"),(y=YP()).parser.yy=Dh}return y.parser.yy.graphType=_,y.parser.yy.parseError=function(S,k){throw{str:S,hash:k}},y.parse(a),y},parseDirective:function(a,c,g,y){try{if(c!==void 0)switch(c=c.trim(),g){case"open_directive":uE={};break;case"type_directive":uE.type=c.toLowerCase();break;case"arg_directive":uE.args=JSON.parse(c);break;case"close_directive":(function(_,S,k){switch(o.debug("Directive type=".concat(S.type," with args:"),S.args),S.type){case"init":case"initialize":["config"].forEach(function(I){S.args[I]!==void 0&&(k==="flowchart-v2"&&(k="flowchart"),S.args[k]=S.args[I],delete S.args[I])}),o.debug("sanitize in handleDirective",S.args),Ib(S.args),o.debug("sanitize in handleDirective (done)",S.args),S.args,C9(S.args);break;case"wrap":case"nowrap":_&&_.setWrap&&_.setWrap(S.type==="wrap");break;case"themeCss":o.warn("themeCss encountered");break;default:o.warn("Unhandled directive: source: '%%{".concat(S.type,": ").concat(JSON.stringify(S.args?S.args:{}),"}%%"),S)}})(a,uE,y),uE=null}}catch(_){o.error("Error while rendering sequenceDiagram directive: ".concat(c," jison context: ").concat(g)),o.error(_.message)}},initialize:function(a){a&&a.fontFamily&&(a.themeVariables&&a.themeVariables.fontFamily||(a.themeVariables={fontFamily:a.fontFamily})),function(g){T9=co({},g)}(a),a&&a.theme&&w1[a.theme]?a.themeVariables=w1[a.theme].getThemeVariables(a.themeVariables):a&&(a.themeVariables=w1.default.getThemeVariables(a.themeVariables));var c=fD(a)==="object"?function(g){return uo=co({},M0),uo=co(uo,g),g.theme&&(uo.themeVariables=w1[g.theme].getThemeVariables(g.themeVariables)),O0=L0(uo,S1),uo}(a):f4();GK(c),l(c.logLevel)},reinitialize:function(){},getConfig:xt,setConfig:function(a){return co(O0,a),xt()},getSiteConfig:f4,updateSiteConfig:function(a){return uo=co(uo,a),L0(uo,S1),uo},reset:function(){x1()},globalReset:function(){x1(),GK(xt())},defaultConfig:M0});l(xt().logLevel),x1(xt());const To=qae;var WK=function(){Fl.startOnLoad?To.getConfig().startOnLoad&&Fl.init():Fl.startOnLoad===void 0&&(o.debug("In start, no config"),To.getConfig().startOnLoad&&Fl.init())};typeof document!="undefined"&&window.addEventListener("load",function(){WK()},!1);var Fl={startOnLoad:!0,htmlLabels:!0,mermaidAPI:To,parse:To.parse,render:To.render,init:function(){var a,c,g=this,y=To.getConfig();arguments.length>=2?(arguments[0]!==void 0&&(Fl.sequenceConfig=arguments[0]),a=arguments[1]):a=arguments[0],typeof arguments[arguments.length-1]=="function"?(c=arguments[arguments.length-1],o.debug("Callback function found")):y.mermaid!==void 0&&(typeof y.mermaid.callback=="function"?(c=y.mermaid.callback,o.debug("Callback function found")):o.debug("No Callback function found")),a=a===void 0?document.querySelectorAll(".mermaid"):typeof a=="string"?document.querySelectorAll(a):a instanceof window.Node?[a]:a,o.debug("Start On Load before: "+Fl.startOnLoad),Fl.startOnLoad!==void 0&&(o.debug("Start On Load inner: "+Fl.startOnLoad),To.updateSiteConfig({startOnLoad:Fl.startOnLoad})),Fl.ganttConfig!==void 0&&To.updateSiteConfig({gantt:Fl.ganttConfig});for(var _,S=new Dr.initIdGeneratior(y.deterministicIds,y.deterministicIDSeed),k=function(B){var N=a[B];if(N.getAttribute("data-processed"))return"continue";N.setAttribute("data-processed",!0);var q="mermaid-".concat(S.next());_=N.innerHTML,_=Dr.entityDecode(_).trim().replace(/<br\s*\/?>/gi,"<br/>");var re=Dr.detectInit(_);re&&o.debug("Detected early reinit: ",re);try{To.render(q,_,function(ne,de){N.innerHTML=ne,c!==void 0&&c(q),de&&de(N)},N)}catch(ne){o.warn("Syntax Error rendering"),o.warn(ne),g.parseError&&g.parseError(ne)}},I=0;I<a.length;I++)k(I)},initialize:function(a){a.mermaid!==void 0&&(a.mermaid.startOnLoad!==void 0&&(Fl.startOnLoad=a.mermaid.startOnLoad),a.mermaid.htmlLabels!==void 0&&(Fl.htmlLabels=a.mermaid.htmlLabels!=="false"&&a.mermaid.htmlLabels!==!1)),To.initialize(a)},contentLoaded:WK};const Vae=Fl},4949:(t,e,n)=>{t.exports={graphlib:n(6614),dagre:n(1463),intersect:n(8114),render:n(5787),util:n(8355),version:n(5689)}},9144:(t,e,n)=>{var r=n(8355);function i(s,o,l,d){var h=s.append("marker").attr("id",o).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(h,l[d+"Style"]),l[d+"Class"]&&h.attr("class",l[d+"Class"])}t.exports={default:i,normal:i,vee:function(s,o,l,d){var h=s.append("marker").attr("id",o).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(h,l[d+"Style"]),l[d+"Class"]&&h.attr("class",l[d+"Class"])},undirected:function(s,o,l,d){var h=s.append("marker").attr("id",o).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(h,l[d+"Style"]),l[d+"Class"]&&h.attr("class",l[d+"Class"])}}},5632:(t,e,n)=>{var r=n(8355),i=n(4322),s=n(1322);t.exports=function(o,l){var d,h=l.nodes().filter(function(v){return r.isSubgraph(l,v)}),f=o.selectAll("g.cluster").data(h,function(v){return v});return f.selectAll("*").remove(),f.enter().append("g").attr("class","cluster").attr("id",function(v){return l.node(v).id}).style("opacity",0),f=o.selectAll("g.cluster"),r.applyTransition(f,l).style("opacity",1),f.each(function(v){var w=l.node(v),E=i.select(this);i.select(this).append("rect");var C=E.append("g").attr("class","label");s(C,w,w.clusterLabelPos)}),f.selectAll("rect").each(function(v){var w=l.node(v),E=i.select(this);r.applyStyle(E,w.style)}),d=f.exit?f.exit():f.selectAll(null),r.applyTransition(d,l).style("opacity",0).remove(),f}},6315:(t,e,n)=>{var r=n(1034),i=n(1322),s=n(8355),o=n(4322);t.exports=function(l,d){var h,f=l.selectAll("g.edgeLabel").data(d.edges(),function(v){return s.edgeToId(v)}).classed("update",!0);return f.exit().remove(),f.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(f=l.selectAll("g.edgeLabel")).each(function(v){var w=o.select(this);w.select(".label").remove();var E=d.edge(v),C=i(w,d.edge(v),0,0).classed("label",!0),O=C.node().getBBox();E.labelId&&C.attr("id",E.labelId),r.has(E,"width")||(E.width=O.width),r.has(E,"height")||(E.height=O.height)}),h=f.exit?f.exit():f.selectAll(null),s.applyTransition(h,d).style("opacity",0).remove(),f}},940:(t,e,n)=>{var r=n(1034),i=n(7584),s=n(8355),o=n(4322);function l(d,h){var f=(o.line||o.svg.line)().x(function(v){return v.x}).y(function(v){return v.y});return(f.curve||f.interpolate)(d.curve),f(h)}t.exports=function(d,h,f){var v=d.selectAll("g.edgePath").data(h.edges(),function(C){return s.edgeToId(C)}).classed("update",!0),w=function(C,O){var M=C.enter().append("g").attr("class","edgePath").style("opacity",0);return M.append("path").attr("class","path").attr("d",function(A){var D=O.edge(A),U=O.node(A.v).elem;return l(D,r.range(D.points.length).map(function(){return X=(R=U).getBBox(),{x:(H=R.ownerSVGElement.getScreenCTM().inverse().multiply(R.getScreenCTM()).translate(X.width/2,X.height/2)).e,y:H.f};var R,X,H}))}),M.append("defs"),M}(v,h);(function(C,O){var M=C.exit();s.applyTransition(M,O).style("opacity",0).remove()})(v,h);var E=v.merge!==void 0?v.merge(w):v;return s.applyTransition(E,h).style("opacity",1),E.each(function(C){var O=o.select(this),M=h.edge(C);M.elem=this,M.id&&O.attr("id",M.id),s.applyClass(O,M.class,(O.classed("update")?"update ":"")+"edgePath")}),E.selectAll("path.path").each(function(C){var O=h.edge(C);O.arrowheadId=r.uniqueId("arrowhead");var M=o.select(this).attr("marker-end",function(){return"url("+(A=location.href,D=O.arrowheadId,A.split("#")[0]+"#"+D+")");var A,D}).style("fill","none");s.applyTransition(M,h).attr("d",function(A){return function(D,U){var R=D.edge(U),X=D.node(U.v),H=D.node(U.w),K=R.points.slice(1,R.points.length-1);return K.unshift(i(X,K[0])),K.push(i(H,K[K.length-1])),l(R,K)}(h,A)}),s.applyStyle(M,O.style)}),E.selectAll("defs *").remove(),E.selectAll("defs").each(function(C){var O=h.edge(C);(0,f[O.arrowhead])(o.select(this),O.arrowheadId,O,"arrowhead")}),E}},607:(t,e,n)=>{var r=n(1034),i=n(1322),s=n(8355),o=n(4322);t.exports=function(l,d,h){var f,v=d.nodes().filter(function(E){return!s.isSubgraph(d,E)}),w=l.selectAll("g.node").data(v,function(E){return E}).classed("update",!0);return w.exit().remove(),w.enter().append("g").attr("class","node").style("opacity",0),(w=l.selectAll("g.node")).each(function(E){var C=d.node(E),O=o.select(this);s.applyClass(O,C.class,(O.classed("update")?"update ":"")+"node"),O.select("g.label").remove();var M=O.append("g").attr("class","label"),A=i(M,C),D=h[C.shape],U=r.pick(A.node().getBBox(),"width","height");C.elem=this,C.id&&O.attr("id",C.id),C.labelId&&M.attr("id",C.labelId),r.has(C,"width")&&(U.width=C.width),r.has(C,"height")&&(U.height=C.height),U.width+=C.paddingLeft+C.paddingRight,U.height+=C.paddingTop+C.paddingBottom,M.attr("transform","translate("+(C.paddingLeft-C.paddingRight)/2+","+(C.paddingTop-C.paddingBottom)/2+")");var R=o.select(this);R.select(".label-container").remove();var X=D(R,U,C).classed("label-container",!0);s.applyStyle(X,C.style);var H=X.node().getBBox();C.width=H.width,C.height=H.height}),f=w.exit?w.exit():w.selectAll(null),s.applyTransition(f,d).style("opacity",0).remove(),w}},4322:(t,e,n)=>{var r;if(!r)try{r=n(7188)}catch{}r||(r=window.d3),t.exports=r},1463:(t,e,n)=>{var r;try{r=n(681)}catch{}r||(r=window.dagre),t.exports=r},6614:(t,e,n)=>{var r;try{r=n(8282)}catch{}r||(r=window.graphlib),t.exports=r},8114:(t,e,n)=>{t.exports={node:n(7584),circle:n(6587),ellipse:n(3260),polygon:n(5337),rect:n(8049)}},6587:(t,e,n)=>{var r=n(3260);t.exports=function(i,s,o){return r(i,s,s,o)}},3260:t=>{t.exports=function(e,n,r,i){var s=e.x,o=e.y,l=s-i.x,d=o-i.y,h=Math.sqrt(n*n*d*d+r*r*l*l),f=Math.abs(n*r*l/h);i.x<s&&(f=-f);var v=Math.abs(n*r*d/h);return i.y<o&&(v=-v),{x:s+f,y:o+v}}},6808:t=>{function e(n,r){return n*r>0}t.exports=function(n,r,i,s){var o,l,d,h,f,v,w,E,C,O,M,A,D;if(o=r.y-n.y,d=n.x-r.x,f=r.x*n.y-n.x*r.y,C=o*i.x+d*i.y+f,O=o*s.x+d*s.y+f,!(C!==0&&O!==0&&e(C,O)||(l=s.y-i.y,h=i.x-s.x,v=s.x*i.y-i.x*s.y,w=l*n.x+h*n.y+v,E=l*r.x+h*r.y+v,w!==0&&E!==0&&e(w,E)||(M=o*h-l*d)==0)))return A=Math.abs(M/2),{x:(D=d*v-h*f)<0?(D-A)/M:(D+A)/M,y:(D=l*f-o*v)<0?(D-A)/M:(D+A)/M}}},7584:t=>{t.exports=function(e,n){return e.intersect(n)}},5337:(t,e,n)=>{var r=n(6808);t.exports=function(i,s,o){var l=i.x,d=i.y,h=[],f=Number.POSITIVE_INFINITY,v=Number.POSITIVE_INFINITY;s.forEach(function(D){f=Math.min(f,D.x),v=Math.min(v,D.y)});for(var w=l-i.width/2-f,E=d-i.height/2-v,C=0;C<s.length;C++){var O=s[C],M=s[C<s.length-1?C+1:0],A=r(i,o,{x:w+O.x,y:E+O.y},{x:w+M.x,y:E+M.y});A&&h.push(A)}return h.length?(h.length>1&&h.sort(function(D,U){var R=D.x-o.x,X=D.y-o.y,H=Math.sqrt(R*R+X*X),K=U.x-o.x,W=U.y-o.y,Z=Math.sqrt(K*K+W*W);return H<Z?-1:H===Z?0:1}),h[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",i),i)}},8049:t=>{t.exports=function(e,n){var r,i,s=e.x,o=e.y,l=n.x-s,d=n.y-o,h=e.width/2,f=e.height/2;return Math.abs(d)*h>Math.abs(l)*f?(d<0&&(f=-f),r=d===0?0:f*l/d,i=f):(l<0&&(h=-h),r=h,i=l===0?0:h*d/l),{x:s+r,y:o+i}}},8284:(t,e,n)=>{var r=n(8355);t.exports=function(i,s){var o=i.append("foreignObject").attr("width","100000"),l=o.append("xhtml:div");l.attr("xmlns","http://www.w3.org/1999/xhtml");var d=s.label;switch(typeof d){case"function":l.insert(d);break;case"object":l.insert(function(){return d});break;default:l.html(d)}r.applyStyle(l,s.labelStyle),l.style("display","inline-block"),l.style("white-space","nowrap");var h=l.node().getBoundingClientRect();return o.attr("width",h.width).attr("height",h.height),o}},1322:(t,e,n)=>{var r=n(7318),i=n(8284),s=n(8287);t.exports=function(o,l,d){var h=l.label,f=o.append("g");l.labelType==="svg"?s(f,l):typeof h!="string"||l.labelType==="html"?i(f,l):r(f,l);var v,w=f.node().getBBox();switch(d){case"top":v=-l.height/2;break;case"bottom":v=l.height/2-w.height;break;default:v=-w.height/2}return f.attr("transform","translate("+-w.width/2+","+v+")"),f}},8287:(t,e,n)=>{var r=n(8355);t.exports=function(i,s){var o=i;return o.node().appendChild(s.label),r.applyStyle(o,s.labelStyle),o}},7318:(t,e,n)=>{var r=n(8355);t.exports=function(i,s){for(var o=i.append("text"),l=function(h){for(var f,v="",w=!1,E=0;E<h.length;++E)f=h[E],w?(v+=f==="n"?`
`:f,w=!1):f==="\\"?w=!0:v+=f;return v}(s.label).split(`
`),d=0;d<l.length;d++)o.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(l[d]);return r.applyStyle(o,s.labelStyle),o}},1034:(t,e,n)=>{var r;try{r={defaults:n(1747),each:n(6073),isFunction:n(3560),isPlainObject:n(8630),pick:n(9722),has:n(8721),range:n(6026),uniqueId:n(3955)}}catch{}r||(r=window._),t.exports=r},6381:(t,e,n)=>{var r=n(8355),i=n(4322);t.exports=function(s,o){var l=s.filter(function(){return!i.select(this).classed("update")});function d(h){var f=o.node(h);return"translate("+f.x+","+f.y+")"}l.attr("transform",d),r.applyTransition(s,o).style("opacity",1).attr("transform",d),r.applyTransition(l.selectAll("rect"),o).attr("width",function(h){return o.node(h).width}).attr("height",function(h){return o.node(h).height}).attr("x",function(h){return-o.node(h).width/2}).attr("y",function(h){return-o.node(h).height/2})}},4577:(t,e,n)=>{var r=n(8355),i=n(4322),s=n(1034);t.exports=function(o,l){function d(h){var f=l.edge(h);return s.has(f,"x")?"translate("+f.x+","+f.y+")":""}o.filter(function(){return!i.select(this).classed("update")}).attr("transform",d),r.applyTransition(o,l).style("opacity",1).attr("transform",d)}},4849:(t,e,n)=>{var r=n(8355),i=n(4322);t.exports=function(s,o){function l(d){var h=o.node(d);return"translate("+h.x+","+h.y+")"}s.filter(function(){return!i.select(this).classed("update")}).attr("transform",l),r.applyTransition(s,o).style("opacity",1).attr("transform",l)}},5787:(t,e,n)=>{var r=n(1034),i=n(4322),s=n(1463).layout;t.exports=function(){var h=n(607),f=n(5632),v=n(6315),w=n(940),E=n(4849),C=n(4577),O=n(6381),M=n(4418),A=n(9144),D=function(U,R){(function(se){se.nodes().forEach(function(oe){var Q=se.node(oe);r.has(Q,"label")||se.children(oe).length||(Q.label=oe),r.has(Q,"paddingX")&&r.defaults(Q,{paddingLeft:Q.paddingX,paddingRight:Q.paddingX}),r.has(Q,"paddingY")&&r.defaults(Q,{paddingTop:Q.paddingY,paddingBottom:Q.paddingY}),r.has(Q,"padding")&&r.defaults(Q,{paddingLeft:Q.padding,paddingRight:Q.padding,paddingTop:Q.padding,paddingBottom:Q.padding}),r.defaults(Q,o),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(ae){Q[ae]=Number(Q[ae])}),r.has(Q,"width")&&(Q._prevWidth=Q.width),r.has(Q,"height")&&(Q._prevHeight=Q.height)}),se.edges().forEach(function(oe){var Q=se.edge(oe);r.has(Q,"label")||(Q.label=""),r.defaults(Q,l)})})(R);var X=d(U,"output"),H=d(X,"clusters"),K=d(X,"edgePaths"),W=v(d(X,"edgeLabels"),R),Z=h(d(X,"nodes"),R,M);s(R),E(Z,R),C(W,R),w(K,R,A);var ie=f(H,R);O(ie,R),function(se){r.each(se.nodes(),function(oe){var Q=se.node(oe);r.has(Q,"_prevWidth")?Q.width=Q._prevWidth:delete Q.width,r.has(Q,"_prevHeight")?Q.height=Q._prevHeight:delete Q.height,delete Q._prevWidth,delete Q._prevHeight})}(R)};return D.createNodes=function(U){return arguments.length?(h=U,D):h},D.createClusters=function(U){return arguments.length?(f=U,D):f},D.createEdgeLabels=function(U){return arguments.length?(v=U,D):v},D.createEdgePaths=function(U){return arguments.length?(w=U,D):w},D.shapes=function(U){return arguments.length?(M=U,D):M},D.arrows=function(U){return arguments.length?(A=U,D):A},D};var o={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},l={arrowhead:"normal",curve:i.curveLinear};function d(h,f){var v=h.select("g."+f);return v.empty()&&(v=h.append("g").attr("class",f)),v}},4418:(t,e,n)=>{var r=n(8049),i=n(3260),s=n(6587),o=n(5337);t.exports={rect:function(l,d,h){var f=l.insert("rect",":first-child").attr("rx",h.rx).attr("ry",h.ry).attr("x",-d.width/2).attr("y",-d.height/2).attr("width",d.width).attr("height",d.height);return h.intersect=function(v){return r(h,v)},f},ellipse:function(l,d,h){var f=d.width/2,v=d.height/2,w=l.insert("ellipse",":first-child").attr("x",-d.width/2).attr("y",-d.height/2).attr("rx",f).attr("ry",v);return h.intersect=function(E){return i(h,f,v,E)},w},circle:function(l,d,h){var f=Math.max(d.width,d.height)/2,v=l.insert("circle",":first-child").attr("x",-d.width/2).attr("y",-d.height/2).attr("r",f);return h.intersect=function(w){return s(h,f,w)},v},diamond:function(l,d,h){var f=d.width*Math.SQRT2/2,v=d.height*Math.SQRT2/2,w=[{x:0,y:-v},{x:-f,y:0},{x:0,y:v},{x:f,y:0}],E=l.insert("polygon",":first-child").attr("points",w.map(function(C){return C.x+","+C.y}).join(" "));return h.intersect=function(C){return o(h,w,C)},E}}},8355:(t,e,n)=>{var r=n(1034);t.exports={isSubgraph:function(o,l){return!!o.children(l).length},edgeToId:function(o){return s(o.v)+":"+s(o.w)+":"+s(o.name)},applyStyle:function(o,l){l&&o.attr("style",l)},applyClass:function(o,l,d){l&&o.attr("class",l).attr("class",d+" "+o.attr("class"))},applyTransition:function(o,l){var d=l.graph();if(r.isPlainObject(d)){var h=d.transition;if(r.isFunction(h))return h(o)}return o}};var i=/:/g;function s(o){return o?String(o).replace(i,"\\:"):""}},5689:t=>{t.exports="0.6.4"},7188:(t,e,n)=>{n.r(e),n.d(e,{FormatSpecifier:()=>Mu,active:()=>$O,arc:()=>HP,area:()=>iT,areaRadial:()=>F0,ascending:()=>i,autoType:()=>aL,axisBottom:()=>Yt,axisLeft:()=>gn,axisRight:()=>rn,axisTop:()=>_n,bisect:()=>h,bisectLeft:()=>d,bisectRight:()=>l,bisector:()=>s,blob:()=>EL,brush:()=>c5,brushSelection:()=>HO,brushX:()=>Lv,brushY:()=>jO,buffer:()=>xL,chord:()=>d5,clientPoint:()=>Ff,cluster:()=>CA,color:()=>el,contourDensity:()=>k5,contours:()=>Gv,create:()=>C4,creator:()=>Qn,cross:()=>w,csv:()=>CL,csvFormat:()=>c7,csvFormatBody:()=>u7,csvFormatRow:()=>eL,csvFormatRows:()=>QO,csvFormatValue:()=>tL,csvParse:()=>l7,csvParseRows:()=>JO,cubehelix:()=>Il,curveBasis:()=>zP,curveBasisClosed:()=>Ns,curveBasisOpen:()=>Zs,curveBundle:()=>dT,curveCardinal:()=>Jb,curveCardinalClosed:()=>fT,curveCardinalOpen:()=>hT,curveCatmullRom:()=>qP,curveCatmullRomClosed:()=>Yd,curveCatmullRomOpen:()=>pT,curveLinear:()=>Gb,curveLinearClosed:()=>gT,curveMonotoneX:()=>yT,curveMonotoneY:()=>VP,curveNatural:()=>GP,curveStep:()=>i_,curveStepAfter:()=>eE,curveStepBefore:()=>Q4,customEvent:()=>Jo,descending:()=>E,deviation:()=>M,dispatch:()=>Ut,drag:()=>ZO,dragDisable:()=>es,dragEnable:()=>Ni,dsv:()=>TL,dsvFormat:()=>Wv,easeBack:()=>S7,easeBackIn:()=>E7,easeBackInOut:()=>S7,easeBackOut:()=>bL,easeBounce:()=>Tm,easeBounceIn:()=>w7,easeBounceInOut:()=>vL,easeBounceOut:()=>Tm,easeCircle:()=>_7,easeCircleIn:()=>mL,easeCircleInOut:()=>_7,easeCircleOut:()=>yL,easeCubic:()=>Sd,easeCubicIn:()=>xv,easeCubicInOut:()=>Sd,easeCubicOut:()=>kv,easeElastic:()=>x7,easeElasticIn:()=>_L,easeElasticInOut:()=>wL,easeElasticOut:()=>x7,easeExp:()=>b7,easeExpIn:()=>pL,easeExpInOut:()=>b7,easeExpOut:()=>gL,easeLinear:()=>h7,easePoly:()=>m7,easePolyIn:()=>g7,easePolyInOut:()=>m7,easePolyOut:()=>dL,easeQuad:()=>p7,easeQuadIn:()=>cL,easeQuadInOut:()=>p7,easeQuadOut:()=>uL,easeSin:()=>C5,easeSinIn:()=>fL,easeSinInOut:()=>C5,easeSinOut:()=>hL,entries:()=>v5,event:()=>Fe,extent:()=>A,forceCenter:()=>O7,forceCollide:()=>PL,forceLink:()=>NL,forceManyBody:()=>$L,forceRadial:()=>FL,forceSimulation:()=>BL,forceX:()=>UL,forceY:()=>HL,format:()=>Wp,formatDefaultLocale:()=>F7,formatLocale:()=>$7,formatPrefix:()=>e2,formatSpecifier:()=>Cm,geoAlbers:()=>gk,geoAlbersUsa:()=>gA,geoArea:()=>zL,geoAzimuthalEqualArea:()=>mA,geoAzimuthalEqualAreaRaw:()=>p6,geoAzimuthalEquidistant:()=>yA,geoAzimuthalEquidistantRaw:()=>g6,geoBounds:()=>G7,geoCentroid:()=>V5,geoCircle:()=>JL,geoClipAntimeridian:()=>b2,geoClipCircle:()=>Q7,geoClipExtent:()=>eA,geoClipRectangle:()=>qm,geoConicConformal:()=>bA,geoConicConformalRaw:()=>vk,geoConicEqualArea:()=>K2,geoConicEqualAreaRaw:()=>pk,geoConicEquidistant:()=>wA,geoConicEquidistantRaw:()=>bk,geoContains:()=>oA,geoDistance:()=>x2,geoEqualEarth:()=>EA,geoEqualEarthRaw:()=>m6,geoEquirectangular:()=>_A,geoEquirectangularRaw:()=>u1,geoGnomonic:()=>v6,geoGnomonicRaw:()=>y6,geoGraticule:()=>ok,geoGraticule10:()=>aA,geoIdentity:()=>SA,geoInterpolate:()=>lA,geoLength:()=>Z5,geoMercator:()=>vA,geoMercatorRaw:()=>o0,geoNaturalEarth1:()=>_k,geoNaturalEarth1Raw:()=>b6,geoOrthographic:()=>wk,geoOrthographicRaw:()=>q2,geoPath:()=>Dd,geoProjection:()=>Gc,geoProjectionMutator:()=>j2,geoRotation:()=>y2,geoStereographic:()=>xA,geoStereographicRaw:()=>_6,geoStream:()=>Rl,geoTransform:()=>$2,geoTransverseMercator:()=>kA,geoTransverseMercatorRaw:()=>w6,gray:()=>t7,hcl:()=>zv,hierarchy:()=>E6,histogram:()=>he,hsl:()=>Ap,html:()=>RL,image:()=>I7,interpolate:()=>$f,interpolateArray:()=>$w,interpolateBasis:()=>Ri,interpolateBasisClosed:()=>Nf,interpolateBlues:()=>W9,interpolateBrBG:()=>CP,interpolateBuGn:()=>OP,interpolateBuPu:()=>$9,interpolateCividis:()=>X9,interpolateCool:()=>AP,interpolateCubehelix:()=>dh,interpolateCubehelixDefault:()=>Z9,interpolateCubehelixLong:()=>fh,interpolateDate:()=>_v,interpolateDiscrete:()=>eb,interpolateGnBu:()=>N0,interpolateGreens:()=>x4,interpolateGreys:()=>Y9,interpolateHcl:()=>d0,interpolateHclLong:()=>f0,interpolateHsl:()=>GA,interpolateHslLong:()=>tb,interpolateHue:()=>VA,interpolateInferno:()=>Zc,interpolateLab:()=>u0,interpolateMagma:()=>A1,interpolateNumber:()=>ea,interpolateNumberArray:()=>um,interpolateObject:()=>wv,interpolateOrRd:()=>$u,interpolateOranges:()=>Hi,interpolatePRGn:()=>Aa,interpolatePiYG:()=>Xs,interpolatePlasma:()=>Kb,interpolatePuBu:()=>U9,interpolatePuBuGn:()=>Fb,interpolatePuOr:()=>oi,interpolatePuRd:()=>H9,interpolatePurples:()=>LP,interpolateRainbow:()=>T4,interpolateRdBu:()=>A9,interpolateRdGy:()=>IP,interpolateRdPu:()=>K9,interpolateRdYlBu:()=>$b,interpolateRdYlGn:()=>RP,interpolateReds:()=>Fu,interpolateRgb:()=>Ed,interpolateRgbBasis:()=>Dp,interpolateRgbBasisClosed:()=>nc,interpolateRound:()=>C6,interpolateSinebow:()=>Q9,interpolateSpectral:()=>MP,interpolateString:()=>rc,interpolateTransformCss:()=>Uw,interpolateTransformSvg:()=>Hw,interpolateTurbo:()=>L1,interpolateViridis:()=>Ch,interpolateWarm:()=>J9,interpolateYlGn:()=>Ub,interpolateYlGnBu:()=>xo,interpolateYlOrBr:()=>V9,interpolateYlOrRd:()=>E4,interpolateZoom:()=>Fk,interrupt:()=>na,interval:()=>wT,isoFormat:()=>bT,isoParse:()=>j1,json:()=>IL,keys:()=>wm,lab:()=>Sm,lch:()=>Kv,line:()=>yc,lineRadial:()=>Wb,linkHorizontal:()=>U4,linkRadial:()=>aT,linkVertical:()=>D1,local:()=>zb,map:()=>Tu,matcher:()=>un,max:()=>_e,mean:()=>xe,median:()=>Se,merge:()=>Ie,min:()=>Ye,mouse:()=>wu,namespace:()=>an,namespaces:()=>Vn,nest:()=>zO,now:()=>fe,pack:()=>PA,packEnclose:()=>Sk,packSiblings:()=>AA,pairs:()=>f,partition:()=>DA,path:()=>ku,permute:()=>Le,pie:()=>jP,piecewise:()=>p0,pointRadial:()=>Pa,polygonArea:()=>R6,polygonCentroid:()=>WA,polygonContains:()=>O6,polygonHull:()=>YA,polygonLength:()=>jk,precisionFixed:()=>U7,precisionPrefix:()=>H7,precisionRound:()=>j7,quadtree:()=>Zv,quantile:()=>Ee,quantize:()=>Uk,radialArea:()=>F0,radialLine:()=>Wb,randomBates:()=>fc,randomExponential:()=>$d,randomIrwinHall:()=>dc,randomLogNormal:()=>L6,randomNormal:()=>g0,randomUniform:()=>XA,range:()=>K,rgb:()=>no,ribbon:()=>p5,scaleBand:()=>D6,scaleDiverging:()=>Ds,scaleDivergingLog:()=>kh,scaleDivergingPow:()=>Pb,scaleDivergingSqrt:()=>y4,scaleDivergingSymlog:()=>R9,scaleIdentity:()=>Gk,scaleImplicit:()=>A6,scaleLinear:()=>Vk,scaleLog:()=>sb,scaleOrdinal:()=>P6,scalePoint:()=>N6,scalePow:()=>lb,scaleQuantile:()=>K6,scaleQuantize:()=>cb,scaleSequential:()=>C1,scaleSequentialLog:()=>g4,scaleSequentialPow:()=>Nl,scaleSequentialQuantile:()=>I1,scaleSequentialSqrt:()=>SP,scaleSequentialSymlog:()=>m4,scaleSqrt:()=>Jk,scaleSymlog:()=>ab,scaleThreshold:()=>ub,scaleTime:()=>h4,scaleUtc:()=>I9,scan:()=>Nt,schemeAccent:()=>kP,schemeBlues:()=>S4,schemeBrBG:()=>L9,schemeBuGn:()=>N9,schemeBuPu:()=>B9,schemeCategory10:()=>xP,schemeDark2:()=>M9,schemeGnBu:()=>F9,schemeGreens:()=>M1,schemeGreys:()=>Hb,schemeOrRd:()=>B0,schemeOranges:()=>Uu,schemePRGn:()=>Bb,schemePaired:()=>R1,schemePastel1:()=>v4,schemePastel2:()=>TP,schemePiYG:()=>oa,schemePuBu:()=>w4,schemePuBuGn:()=>zd,schemePuOr:()=>Xc,schemePuRd:()=>Th,schemePurples:()=>aa,schemeRdBu:()=>Bl,schemeRdGy:()=>D0,schemeRdPu:()=>j9,schemeRdYlBu:()=>P9,schemeRdYlGn:()=>_4,schemeReds:()=>k4,schemeSet1:()=>b4,schemeSet2:()=>Db,schemeSet3:()=>Nb,schemeSpectral:()=>D9,schemeTableau10:()=>O9,schemeYlGn:()=>z9,schemeYlGnBu:()=>$0,schemeYlOrBr:()=>q9,schemeYlOrRd:()=>G9,select:()=>ri,selectAll:()=>qb,selection:()=>Bo,selector:()=>Pn,selectorAll:()=>Yn,set:()=>kd,shuffle:()=>pt,stack:()=>WP,stackOffsetDiverging:()=>YP,stackOffsetExpand:()=>s_,stackOffsetNone:()=>Xd,stackOffsetSilhouette:()=>tE,stackOffsetWiggle:()=>Da,stackOrderAppearance:()=>U1,stackOrderAscending:()=>H1,stackOrderDescending:()=>nE,stackOrderInsideOut:()=>XP,stackOrderNone:()=>pl,stackOrderReverse:()=>Bs,stratify:()=>FA,style:()=>Ii,sum:()=>ze,svg:()=>M5,symbol:()=>$1,symbolCircle:()=>N1,symbolCross:()=>B1,symbolDiamond:()=>j4,symbolSquare:()=>V4,symbolStar:()=>q4,symbolTriangle:()=>Lh,symbolWye:()=>G4,symbols:()=>cT,text:()=>Xv,thresholdFreedmanDiaconis:()=>De,thresholdScott:()=>qe,thresholdSturges:()=>ae,tickFormat:()=>qk,tickIncrement:()=>oe,tickStep:()=>Q,ticks:()=>se,timeDay:()=>Nu,timeDays:()=>u9,timeFormat:()=>_b,timeFormatDefaultLocale:()=>f4,timeFormatLocale:()=>f9,timeFriday:()=>s9,timeFridays:()=>Du,timeHour:()=>G6,timeHours:()=>nP,timeInterval:()=>Gs,timeMillisecond:()=>k0,timeMilliseconds:()=>T0,timeMinute:()=>W6,timeMinutes:()=>Y6,timeMonday:()=>x0,timeMondays:()=>QA,timeMonth:()=>e9,timeMonths:()=>JA,timeParse:()=>Eh,timeSaturday:()=>o9,timeSaturdays:()=>tP,timeSecond:()=>y1,timeSeconds:()=>v1,timeSunday:()=>S0,timeSundays:()=>a9,timeThursday:()=>Ud,timeThursdays:()=>l9,timeTuesday:()=>r9,timeTuesdays:()=>eP,timeWednesday:()=>i9,timeWednesdays:()=>Pu,timeWeek:()=>S0,timeWeeks:()=>a9,timeYear:()=>ph,timeYears:()=>ZA,timeout:()=>$n,timer:()=>Ft,timerFlush:()=>Wt,touch:()=>ta,touches:()=>DP,transition:()=>Sv,transpose:()=>nt,tree:()=>KA,treemap:()=>zA,treemapBinary:()=>qA,treemapDice:()=>c0,treemapResquarify:()=>Bk,treemapSlice:()=>Q2,treemapSliceDice:()=>uc,treemapSquarify:()=>Nk,tsv:()=>C7,tsvFormat:()=>nL,tsvFormatBody:()=>rL,tsvFormatRow:()=>sL,tsvFormatRows:()=>iL,tsvFormatValue:()=>oL,tsvParse:()=>d7,tsvParseRows:()=>f7,utcDay:()=>bb,utcDays:()=>iP,utcFormat:()=>wb,utcFriday:()=>Rs,utcFridays:()=>yb,utcHour:()=>A0,utcHours:()=>P0,utcMillisecond:()=>k0,utcMilliseconds:()=>T0,utcMinute:()=>Ob,utcMinutes:()=>Lb,utcMonday:()=>Hd,utcMondays:()=>rP,utcMonth:()=>Mb,utcMonths:()=>Ys,utcParse:()=>Q6,utcSaturday:()=>vh,utcSaturdays:()=>Z6,utcSecond:()=>y1,utcSeconds:()=>v1,utcSunday:()=>C0,utcSundays:()=>gb,utcThursday:()=>lo,utcThursdays:()=>mb,utcTuesday:()=>yh,utcTuesdays:()=>pc,utcWednesday:()=>X6,utcWednesdays:()=>bh,utcWeek:()=>C0,utcWeeks:()=>gb,utcYear:()=>_h,utcYears:()=>sP,values:()=>y5,variance:()=>O,version:()=>r,voronoi:()=>nD,window:()=>Hn,xml:()=>M7,zip:()=>ut,zoom:()=>RT,zoomIdentity:()=>d_,zoomTransform:()=>V0});var r="5.16.0";function i(u,p){return u<p?-1:u>p?1:u>=p?0:NaN}function s(u){var p;return u.length===1&&(p=u,u=function(m,b){return i(p(m),b)}),{left:function(m,b,x,T){for(x==null&&(x=0),T==null&&(T=m.length);x<T;){var P=x+T>>>1;u(m[P],b)<0?x=P+1:T=P}return x},right:function(m,b,x,T){for(x==null&&(x=0),T==null&&(T=m.length);x<T;){var P=x+T>>>1;u(m[P],b)>0?T=P:x=P+1}return x}}}var o=s(i),l=o.right,d=o.left;const h=l;function f(u,p){p==null&&(p=v);for(var m=0,b=u.length-1,x=u[0],T=new Array(b<0?0:b);m<b;)T[m]=p(x,x=u[++m]);return T}function v(u,p){return[u,p]}function w(u,p,m){var b,x,T,P,L=u.length,$=p.length,j=new Array(L*$);for(m==null&&(m=v),b=T=0;b<L;++b)for(P=u[b],x=0;x<$;++x,++T)j[T]=m(P,p[x]);return j}function E(u,p){return p<u?-1:p>u?1:p>=u?0:NaN}function C(u){return u===null?NaN:+u}function O(u,p){var m,b,x=u.length,T=0,P=-1,L=0,$=0;if(p==null)for(;++P<x;)isNaN(m=C(u[P]))||($+=(b=m-L)*(m-(L+=b/++T)));else for(;++P<x;)isNaN(m=C(p(u[P],P,u)))||($+=(b=m-L)*(m-(L+=b/++T)));if(T>1)return $/(T-1)}function M(u,p){var m=O(u,p);return m&&Math.sqrt(m)}function A(u,p){var m,b,x,T=u.length,P=-1;if(p==null){for(;++P<T;)if((m=u[P])!=null&&m>=m)for(b=x=m;++P<T;)(m=u[P])!=null&&(b>m&&(b=m),x<m&&(x=m))}else for(;++P<T;)if((m=p(u[P],P,u))!=null&&m>=m)for(b=x=m;++P<T;)(m=p(u[P],P,u))!=null&&(b>m&&(b=m),x<m&&(x=m));return[b,x]}var D=Array.prototype,U=D.slice,R=D.map;function X(u){return function(){return u}}function H(u){return u}function K(u,p,m){u=+u,p=+p,m=(x=arguments.length)<2?(p=u,u=0,1):x<3?1:+m;for(var b=-1,x=0|Math.max(0,Math.ceil((p-u)/m)),T=new Array(x);++b<x;)T[b]=u+b*m;return T}var W=Math.sqrt(50),Z=Math.sqrt(10),ie=Math.sqrt(2);function se(u,p,m){var b,x,T,P,L=-1;if(m=+m,(u=+u)==(p=+p)&&m>0)return[u];if((b=p<u)&&(x=u,u=p,p=x),(P=oe(u,p,m))===0||!isFinite(P))return[];if(P>0)for(u=Math.ceil(u/P),p=Math.floor(p/P),T=new Array(x=Math.ceil(p-u+1));++L<x;)T[L]=(u+L)*P;else for(u=Math.floor(u*P),p=Math.ceil(p*P),T=new Array(x=Math.ceil(u-p+1));++L<x;)T[L]=(u-L)/P;return b&&T.reverse(),T}function oe(u,p,m){var b=(p-u)/Math.max(0,m),x=Math.floor(Math.log(b)/Math.LN10),T=b/Math.pow(10,x);return x>=0?(T>=W?10:T>=Z?5:T>=ie?2:1)*Math.pow(10,x):-Math.pow(10,-x)/(T>=W?10:T>=Z?5:T>=ie?2:1)}function Q(u,p,m){var b=Math.abs(p-u)/Math.max(0,m),x=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),T=b/x;return T>=W?x*=10:T>=Z?x*=5:T>=ie&&(x*=2),p<u?-x:x}function ae(u){return Math.ceil(Math.log(u.length)/Math.LN2)+1}function he(){var u=H,p=A,m=ae;function b(x){var T,P,L=x.length,$=new Array(L);for(T=0;T<L;++T)$[T]=u(x[T],T,x);var j=p($),Y=j[0],te=j[1],G=m($,Y,te);Array.isArray(G)||(G=Q(Y,te,G),G=K(Math.ceil(Y/G)*G,te,G));for(var le=G.length;G[0]<=Y;)G.shift(),--le;for(;G[le-1]>te;)G.pop(),--le;var ue,ve=new Array(le+1);for(T=0;T<=le;++T)(ue=ve[T]=[]).x0=T>0?G[T-1]:Y,ue.x1=T<le?G[T]:te;for(T=0;T<L;++T)Y<=(P=$[T])&&P<=te&&ve[h(G,P,0,le)].push(x[T]);return ve}return b.value=function(x){return arguments.length?(u=typeof x=="function"?x:X(x),b):u},b.domain=function(x){return arguments.length?(p=typeof x=="function"?x:X([x[0],x[1]]),b):p},b.thresholds=function(x){return arguments.length?(m=typeof x=="function"?x:Array.isArray(x)?X(U.call(x)):X(x),b):m},b}function Ee(u,p,m){if(m==null&&(m=C),b=u.length){if((p=+p)<=0||b<2)return+m(u[0],0,u);if(p>=1)return+m(u[b-1],b-1,u);var b,x=(b-1)*p,T=Math.floor(x),P=+m(u[T],T,u);return P+(+m(u[T+1],T+1,u)-P)*(x-T)}}function De(u,p,m){return u=R.call(u,C).sort(i),Math.ceil((m-p)/(2*(Ee(u,.75)-Ee(u,.25))*Math.pow(u.length,-1/3)))}function qe(u,p,m){return Math.ceil((m-p)/(3.5*M(u)*Math.pow(u.length,-1/3)))}function _e(u,p){var m,b,x=u.length,T=-1;if(p==null){for(;++T<x;)if((m=u[T])!=null&&m>=m)for(b=m;++T<x;)(m=u[T])!=null&&m>b&&(b=m)}else for(;++T<x;)if((m=p(u[T],T,u))!=null&&m>=m)for(b=m;++T<x;)(m=p(u[T],T,u))!=null&&m>b&&(b=m);return b}function xe(u,p){var m,b=u.length,x=b,T=-1,P=0;if(p==null)for(;++T<b;)isNaN(m=C(u[T]))?--x:P+=m;else for(;++T<b;)isNaN(m=C(p(u[T],T,u)))?--x:P+=m;if(x)return P/x}function Se(u,p){var m,b=u.length,x=-1,T=[];if(p==null)for(;++x<b;)isNaN(m=C(u[x]))||T.push(m);else for(;++x<b;)isNaN(m=C(p(u[x],x,u)))||T.push(m);return Ee(T.sort(i),.5)}function Ie(u){for(var p,m,b,x=u.length,T=-1,P=0;++T<x;)P+=u[T].length;for(m=new Array(P);--x>=0;)for(p=(b=u[x]).length;--p>=0;)m[--P]=b[p];return m}function Ye(u,p){var m,b,x=u.length,T=-1;if(p==null){for(;++T<x;)if((m=u[T])!=null&&m>=m)for(b=m;++T<x;)(m=u[T])!=null&&b>m&&(b=m)}else for(;++T<x;)if((m=p(u[T],T,u))!=null&&m>=m)for(b=m;++T<x;)(m=p(u[T],T,u))!=null&&b>m&&(b=m);return b}function Le(u,p){for(var m=p.length,b=new Array(m);m--;)b[m]=u[p[m]];return b}function Nt(u,p){if(m=u.length){var m,b,x=0,T=0,P=u[T];for(p==null&&(p=i);++x<m;)(p(b=u[x],P)<0||p(P,P)!==0)&&(P=b,T=x);return p(P,P)===0?T:void 0}}function pt(u,p,m){for(var b,x,T=(m==null?u.length:m)-(p=p==null?0:+p);T;)x=Math.random()*T--|0,b=u[T+p],u[T+p]=u[x+p],u[x+p]=b;return u}function ze(u,p){var m,b=u.length,x=-1,T=0;if(p==null)for(;++x<b;)(m=+u[x])&&(T+=m);else for(;++x<b;)(m=+p(u[x],x,u))&&(T+=m);return T}function nt(u){if(!(x=u.length))return[];for(var p=-1,m=Ye(u,me),b=new Array(m);++p<m;)for(var x,T=-1,P=b[p]=new Array(x);++T<x;)P[T]=u[T][p];return b}function me(u){return u.length}function ut(){return nt(arguments)}var Ve=Array.prototype.slice;function dt(u){return u}var ot=1e-6;function Ze(u){return"translate("+(u+.5)+",0)"}function kt(u){return"translate(0,"+(u+.5)+")"}function ln(u){return function(p){return+u(p)}}function Ht(u){var p=Math.max(0,u.bandwidth()-1)/2;return u.round()&&(p=Math.round(p)),function(m){return+u(m)+p}}function nn(){return!this.__axis}function qn(u,p){var m=[],b=null,x=null,T=6,P=6,L=3,$=u===1||u===4?-1:1,j=u===4||u===2?"x":"y",Y=u===1||u===3?Ze:kt;function te(G){var le=b==null?p.ticks?p.ticks.apply(p,m):p.domain():b,ue=x==null?p.tickFormat?p.tickFormat.apply(p,m):dt:x,ve=Math.max(T,0)+L,ye=p.range(),pe=+ye[0]+.5,Ce=+ye[ye.length-1]+.5,Te=(p.bandwidth?Ht:ln)(p.copy()),Ne=G.selection?G.selection():G,rt=Ne.selectAll(".domain").data([null]),bt=Ne.selectAll(".tick").data(le,p).order(),Tt=bt.exit(),Vt=bt.enter().append("g").attr("class","tick"),ft=bt.select("line"),Dt=bt.select("text");rt=rt.merge(rt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),bt=bt.merge(Vt),ft=ft.merge(Vt.append("line").attr("stroke","currentColor").attr(j+"2",$*T)),Dt=Dt.merge(Vt.append("text").attr("fill","currentColor").attr(j,$*ve).attr("dy",u===1?"0em":u===3?"0.71em":"0.32em")),G!==Ne&&(rt=rt.transition(G),bt=bt.transition(G),ft=ft.transition(G),Dt=Dt.transition(G),Tt=Tt.transition(G).attr("opacity",ot).attr("transform",function(Pe){return isFinite(Pe=Te(Pe))?Y(Pe):this.getAttribute("transform")}),Vt.attr("opacity",ot).attr("transform",function(Pe){var Ge=this.parentNode.__axis;return Y(Ge&&isFinite(Ge=Ge(Pe))?Ge:Te(Pe))})),Tt.remove(),rt.attr("d",u===4||u==2?P?"M"+$*P+","+pe+"H0.5V"+Ce+"H"+$*P:"M0.5,"+pe+"V"+Ce:P?"M"+pe+","+$*P+"V0.5H"+Ce+"V"+$*P:"M"+pe+",0.5H"+Ce),bt.attr("opacity",1).attr("transform",function(Pe){return Y(Te(Pe))}),ft.attr(j+"2",$*T),Dt.attr(j,$*ve).text(ue),Ne.filter(nn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",u===2?"start":u===4?"end":"middle"),Ne.each(function(){this.__axis=Te})}return te.scale=function(G){return arguments.length?(p=G,te):p},te.ticks=function(){return m=Ve.call(arguments),te},te.tickArguments=function(G){return arguments.length?(m=G==null?[]:Ve.call(G),te):m.slice()},te.tickValues=function(G){return arguments.length?(b=G==null?null:Ve.call(G),te):b&&b.slice()},te.tickFormat=function(G){return arguments.length?(x=G,te):x},te.tickSize=function(G){return arguments.length?(T=P=+G,te):T},te.tickSizeInner=function(G){return arguments.length?(T=+G,te):T},te.tickSizeOuter=function(G){return arguments.length?(P=+G,te):P},te.tickPadding=function(G){return arguments.length?(L=+G,te):L},te}function _n(u){return qn(1,u)}function rn(u){return qn(2,u)}function Yt(u){return qn(3,u)}function gn(u){return qn(4,u)}var cn={value:function(){}};function Et(){for(var u,p=0,m=arguments.length,b={};p<m;++p){if(!(u=arguments[p]+"")||u in b||/[\s.]/.test(u))throw new Error("illegal type: "+u);b[u]=[]}return new it(b)}function it(u){this._=u}function Qe(u,p){return u.trim().split(/^|\s+/).map(function(m){var b="",x=m.indexOf(".");if(x>=0&&(b=m.slice(x+1),m=m.slice(0,x)),m&&!p.hasOwnProperty(m))throw new Error("unknown type: "+m);return{type:m,name:b}})}function Pt(u,p){for(var m,b=0,x=u.length;b<x;++b)if((m=u[b]).name===p)return m.value}function St(u,p,m){for(var b=0,x=u.length;b<x;++b)if(u[b].name===p){u[b]=cn,u=u.slice(0,b).concat(u.slice(b+1));break}return m!=null&&u.push({name:p,value:m}),u}it.prototype=Et.prototype={constructor:it,on:function(u,p){var m,b=this._,x=Qe(u+"",b),T=-1,P=x.length;if(!(arguments.length<2)){if(p!=null&&typeof p!="function")throw new Error("invalid callback: "+p);for(;++T<P;)if(m=(u=x[T]).type)b[m]=St(b[m],u.name,p);else if(p==null)for(m in b)b[m]=St(b[m],u.name,null);return this}for(;++T<P;)if((m=(u=x[T]).type)&&(m=Pt(b[m],u.name)))return m},copy:function(){var u={},p=this._;for(var m in p)u[m]=p[m].slice();return new it(u)},call:function(u,p){if((m=arguments.length-2)>0)for(var m,b,x=new Array(m),T=0;T<m;++T)x[T]=arguments[T+2];if(!this._.hasOwnProperty(u))throw new Error("unknown type: "+u);for(T=0,m=(b=this._[u]).length;T<m;++T)b[T].value.apply(p,x)},apply:function(u,p,m){if(!this._.hasOwnProperty(u))throw new Error("unknown type: "+u);for(var b=this._[u],x=0,T=b.length;x<T;++x)b[x].value.apply(p,m)}};const Ut=Et;function tn(){}function Pn(u){return u==null?tn:function(){return this.querySelector(u)}}function yn(){return[]}function Yn(u){return u==null?yn:function(){return this.querySelectorAll(u)}}function un(u){return function(){return this.matches(u)}}function vn(u){return new Array(u.length)}function sn(u,p){this.ownerDocument=u.ownerDocument,this.namespaceURI=u.namespaceURI,this._next=null,this._parent=u,this.__data__=p}function zn(u,p,m,b,x,T){for(var P,L=0,$=p.length,j=T.length;L<j;++L)(P=p[L])?(P.__data__=T[L],b[L]=P):m[L]=new sn(u,T[L]);for(;L<$;++L)(P=p[L])&&(x[L]=P)}function Un(u,p,m,b,x,T,P){var L,$,j,Y={},te=p.length,G=T.length,le=new Array(te);for(L=0;L<te;++L)($=p[L])&&(le[L]=j="$"+P.call($,$.__data__,L,p),j in Y?x[L]=$:Y[j]=$);for(L=0;L<G;++L)($=Y[j="$"+P.call(u,T[L],L,T)])?(b[L]=$,$.__data__=T[L],Y[j]=null):m[L]=new sn(u,T[L]);for(L=0;L<te;++L)($=p[L])&&Y[le[L]]===$&&(x[L]=$)}function nr(u,p){return u<p?-1:u>p?1:u>=p?0:NaN}sn.prototype={constructor:sn,appendChild:function(u){return this._parent.insertBefore(u,this._next)},insertBefore:function(u,p){return this._parent.insertBefore(u,p)},querySelector:function(u){return this._parent.querySelector(u)},querySelectorAll:function(u){return this._parent.querySelectorAll(u)}};var Dn="http://www.w3.org/1999/xhtml";const Vn={svg:"http://www.w3.org/2000/svg",xhtml:Dn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function an(u){var p=u+="",m=p.indexOf(":");return m>=0&&(p=u.slice(0,m))!=="xmlns"&&(u=u.slice(m+1)),Vn.hasOwnProperty(p)?{space:Vn[p],local:u}:u}function Gn(u){return function(){this.removeAttribute(u)}}function Kt(u){return function(){this.removeAttributeNS(u.space,u.local)}}function mn(u,p){return function(){this.setAttribute(u,p)}}function en(u,p){return function(){this.setAttributeNS(u.space,u.local,p)}}function pn(u,p){return function(){var m=p.apply(this,arguments);m==null?this.removeAttribute(u):this.setAttribute(u,m)}}function Nn(u,p){return function(){var m=p.apply(this,arguments);m==null?this.removeAttributeNS(u.space,u.local):this.setAttributeNS(u.space,u.local,m)}}function Hn(u){return u.ownerDocument&&u.ownerDocument.defaultView||u.document&&u||u.defaultView}function Cn(u){return function(){this.style.removeProperty(u)}}function tr(u,p,m){return function(){this.style.setProperty(u,p,m)}}function Jn(u,p,m){return function(){var b=p.apply(this,arguments);b==null?this.style.removeProperty(u):this.style.setProperty(u,b,m)}}function Ii(u,p){return u.style.getPropertyValue(p)||Hn(u).getComputedStyle(u,null).getPropertyValue(p)}function ce(u){return function(){delete this[u]}}function be(u,p){return function(){this[u]=p}}function Ke(u,p){return function(){var m=p.apply(this,arguments);m==null?delete this[u]:this[u]=m}}function Bt(u){return u.trim().split(/^|\s+/)}function we(u){return u.classList||new Oe(u)}function Oe(u){this._node=u,this._names=Bt(u.getAttribute("class")||"")}function ge(u,p){for(var m=we(u),b=-1,x=p.length;++b<x;)m.add(p[b])}function Re(u,p){for(var m=we(u),b=-1,x=p.length;++b<x;)m.remove(p[b])}function Be(u){return function(){ge(this,u)}}function _t(u){return function(){Re(this,u)}}function At(u,p){return function(){(p.apply(this,arguments)?ge:Re)(this,u)}}function Lt(){this.textContent=""}function yt(u){return function(){this.textContent=u}}function qt(u){return function(){var p=u.apply(this,arguments);this.textContent=p==null?"":p}}function Rn(){this.innerHTML=""}function Bn(u){return function(){this.innerHTML=u}}function dr(u){return function(){var p=u.apply(this,arguments);this.innerHTML=p==null?"":p}}function Mr(){this.nextSibling&&this.parentNode.appendChild(this)}function rr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Or(u){return function(){var p=this.ownerDocument,m=this.namespaceURI;return m===Dn&&p.documentElement.namespaceURI===Dn?p.createElement(u):p.createElementNS(m,u)}}function ei(u){return function(){return this.ownerDocument.createElementNS(u.space,u.local)}}function Qn(u){var p=an(u);return(p.local?ei:Or)(p)}function Sn(){return null}function gr(){var u=this.parentNode;u&&u.removeChild(this)}function or(){var u=this.cloneNode(!1),p=this.parentNode;return p?p.insertBefore(u,this.nextSibling):u}function fn(){var u=this.cloneNode(!0),p=this.parentNode;return p?p.insertBefore(u,this.nextSibling):u}Oe.prototype={add:function(u){this._names.indexOf(u)<0&&(this._names.push(u),this._node.setAttribute("class",this._names.join(" ")))},remove:function(u){var p=this._names.indexOf(u);p>=0&&(this._names.splice(p,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(u){return this._names.indexOf(u)>=0}};var _r={},Fe=null;function fi(u,p,m){return u=gt(u,p,m),function(b){var x=b.relatedTarget;x&&(x===this||8&x.compareDocumentPosition(this))||u.call(this,b)}}function gt(u,p,m){return function(b){var x=Fe;Fe=b;try{u.call(this,this.__data__,p,m)}finally{Fe=x}}}function qi(u){return u.trim().split(/^|\s+/).map(function(p){var m="",b=p.indexOf(".");return b>=0&&(m=p.slice(b+1),p=p.slice(0,b)),{type:p,name:m}})}function cs(u){return function(){var p=this.__on;if(p){for(var m,b=0,x=-1,T=p.length;b<T;++b)m=p[b],u.type&&m.type!==u.type||m.name!==u.name?p[++x]=m:this.removeEventListener(m.type,m.listener,m.capture);++x?p.length=x:delete this.__on}}}function Ps(u,p,m){var b=_r.hasOwnProperty(u.type)?fi:gt;return function(x,T,P){var L,$=this.__on,j=b(p,T,P);if($){for(var Y=0,te=$.length;Y<te;++Y)if((L=$[Y]).type===u.type&&L.name===u.name)return this.removeEventListener(L.type,L.listener,L.capture),this.addEventListener(L.type,L.listener=j,L.capture=m),void(L.value=p)}this.addEventListener(u.type,j,m),L={type:u.type,name:u.name,value:p,listener:j,capture:m},$?$.push(L):this.__on=[L]}}function Jo(u,p,m,b){var x=Fe;u.sourceEvent=Fe,Fe=u;try{return p.apply(m,b)}finally{Fe=x}}function No(u,p,m){var b=Hn(u),x=b.CustomEvent;typeof x=="function"?x=new x(p,m):(x=b.document.createEvent("Event"),m?(x.initEvent(p,m.bubbles,m.cancelable),x.detail=m.detail):x.initEvent(p,!1,!1)),u.dispatchEvent(x)}function Qo(u,p){return function(){return No(this,u,p)}}function xi(u,p){return function(){return No(this,u,p.apply(this,arguments))}}typeof document!="undefined"&&("onmouseenter"in document.documentElement||(_r={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ss=[null];function hr(u,p){this._groups=u,this._parents=p}function xs(){return new hr([[document.documentElement]],Ss)}hr.prototype=xs.prototype={constructor:hr,select:function(u){typeof u!="function"&&(u=Pn(u));for(var p=this._groups,m=p.length,b=new Array(m),x=0;x<m;++x)for(var T,P,L=p[x],$=L.length,j=b[x]=new Array($),Y=0;Y<$;++Y)(T=L[Y])&&(P=u.call(T,T.__data__,Y,L))&&("__data__"in T&&(P.__data__=T.__data__),j[Y]=P);return new hr(b,this._parents)},selectAll:function(u){typeof u!="function"&&(u=Yn(u));for(var p=this._groups,m=p.length,b=[],x=[],T=0;T<m;++T)for(var P,L=p[T],$=L.length,j=0;j<$;++j)(P=L[j])&&(b.push(u.call(P,P.__data__,j,L)),x.push(P));return new hr(b,x)},filter:function(u){typeof u!="function"&&(u=un(u));for(var p=this._groups,m=p.length,b=new Array(m),x=0;x<m;++x)for(var T,P=p[x],L=P.length,$=b[x]=[],j=0;j<L;++j)(T=P[j])&&u.call(T,T.__data__,j,P)&&$.push(T);return new hr(b,this._parents)},data:function(u,p){if(!u)return ue=new Array(this.size()),Y=-1,this.each(function(bt){ue[++Y]=bt}),ue;var m,b=p?Un:zn,x=this._parents,T=this._groups;typeof u!="function"&&(m=u,u=function(){return m});for(var P=T.length,L=new Array(P),$=new Array(P),j=new Array(P),Y=0;Y<P;++Y){var te=x[Y],G=T[Y],le=G.length,ue=u.call(te,te&&te.__data__,Y,x),ve=ue.length,ye=$[Y]=new Array(ve),pe=L[Y]=new Array(ve);b(te,G,ye,pe,j[Y]=new Array(le),ue,p);for(var Ce,Te,Ne=0,rt=0;Ne<ve;++Ne)if(Ce=ye[Ne]){for(Ne>=rt&&(rt=Ne+1);!(Te=pe[rt])&&++rt<ve;);Ce._next=Te||null}}return(L=new hr(L,x))._enter=$,L._exit=j,L},enter:function(){return new hr(this._enter||this._groups.map(vn),this._parents)},exit:function(){return new hr(this._exit||this._groups.map(vn),this._parents)},join:function(u,p,m){var b=this.enter(),x=this,T=this.exit();return b=typeof u=="function"?u(b):b.append(u+""),p!=null&&(x=p(x)),m==null?T.remove():m(T),b&&x?b.merge(x).order():x},merge:function(u){for(var p=this._groups,m=u._groups,b=p.length,x=m.length,T=Math.min(b,x),P=new Array(b),L=0;L<T;++L)for(var $,j=p[L],Y=m[L],te=j.length,G=P[L]=new Array(te),le=0;le<te;++le)($=j[le]||Y[le])&&(G[le]=$);for(;L<b;++L)P[L]=p[L];return new hr(P,this._parents)},order:function(){for(var u=this._groups,p=-1,m=u.length;++p<m;)for(var b,x=u[p],T=x.length-1,P=x[T];--T>=0;)(b=x[T])&&(P&&4^b.compareDocumentPosition(P)&&P.parentNode.insertBefore(b,P),P=b);return this},sort:function(u){function p(te,G){return te&&G?u(te.__data__,G.__data__):!te-!G}u||(u=nr);for(var m=this._groups,b=m.length,x=new Array(b),T=0;T<b;++T){for(var P,L=m[T],$=L.length,j=x[T]=new Array($),Y=0;Y<$;++Y)(P=L[Y])&&(j[Y]=P);j.sort(p)}return new hr(x,this._parents).order()},call:function(){var u=arguments[0];return arguments[0]=this,u.apply(null,arguments),this},nodes:function(){var u=new Array(this.size()),p=-1;return this.each(function(){u[++p]=this}),u},node:function(){for(var u=this._groups,p=0,m=u.length;p<m;++p)for(var b=u[p],x=0,T=b.length;x<T;++x){var P=b[x];if(P)return P}return null},size:function(){var u=0;return this.each(function(){++u}),u},empty:function(){return!this.node()},each:function(u){for(var p=this._groups,m=0,b=p.length;m<b;++m)for(var x,T=p[m],P=0,L=T.length;P<L;++P)(x=T[P])&&u.call(x,x.__data__,P,T);return this},attr:function(u,p){var m=an(u);if(arguments.length<2){var b=this.node();return m.local?b.getAttributeNS(m.space,m.local):b.getAttribute(m)}return this.each((p==null?m.local?Kt:Gn:typeof p=="function"?m.local?Nn:pn:m.local?en:mn)(m,p))},style:function(u,p,m){return arguments.length>1?this.each((p==null?Cn:typeof p=="function"?Jn:tr)(u,p,m==null?"":m)):Ii(this.node(),u)},property:function(u,p){return arguments.length>1?this.each((p==null?ce:typeof p=="function"?Ke:be)(u,p)):this.node()[u]},classed:function(u,p){var m=Bt(u+"");if(arguments.length<2){for(var b=we(this.node()),x=-1,T=m.length;++x<T;)if(!b.contains(m[x]))return!1;return!0}return this.each((typeof p=="function"?At:p?Be:_t)(m,p))},text:function(u){return arguments.length?this.each(u==null?Lt:(typeof u=="function"?qt:yt)(u)):this.node().textContent},html:function(u){return arguments.length?this.each(u==null?Rn:(typeof u=="function"?dr:Bn)(u)):this.node().innerHTML},raise:function(){return this.each(Mr)},lower:function(){return this.each(rr)},append:function(u){var p=typeof u=="function"?u:Qn(u);return this.select(function(){return this.appendChild(p.apply(this,arguments))})},insert:function(u,p){var m=typeof u=="function"?u:Qn(u),b=p==null?Sn:typeof p=="function"?p:Pn(p);return this.select(function(){return this.insertBefore(m.apply(this,arguments),b.apply(this,arguments)||null)})},remove:function(){return this.each(gr)},clone:function(u){return this.select(u?fn:or)},datum:function(u){return arguments.length?this.property("__data__",u):this.node().__data__},on:function(u,p,m){var b,x,T=qi(u+""),P=T.length;if(!(arguments.length<2)){for(L=p?Ps:cs,m==null&&(m=!1),b=0;b<P;++b)this.each(L(T[b],p,m));return this}var L=this.node().__on;if(L){for(var $,j=0,Y=L.length;j<Y;++j)for(b=0,$=L[j];b<P;++b)if((x=T[b]).type===$.type&&x.name===$.name)return $.value}},dispatch:function(u,p){return this.each((typeof p=="function"?xi:Qo)(u,p))}};const Bo=xs;function ri(u){return typeof u=="string"?new hr([[document.querySelector(u)]],[document.documentElement]):new hr([[u]],Ss)}function bi(){Fe.stopImmediatePropagation()}function ks(){Fe.preventDefault(),Fe.stopImmediatePropagation()}function es(u){var p=u.document.documentElement,m=ri(u).on("dragstart.drag",ks,!0);"onselectstart"in p?m.on("selectstart.drag",ks,!0):(p.__noselect=p.style.MozUserSelect,p.style.MozUserSelect="none")}function Ni(u,p){var m=u.document.documentElement,b=ri(u).on("dragstart.drag",null);p&&(b.on("click.drag",ks,!0),setTimeout(function(){b.on("click.drag",null)},0)),"onselectstart"in m?b.on("selectstart.drag",null):(m.style.MozUserSelect=m.__noselect,delete m.__noselect)}function Bi(u,p,m){u.prototype=p.prototype=m,m.constructor=u}function ps(u,p){var m=Object.create(u.prototype);for(var b in p)m[b]=p[b];return m}function Wi(){}var yo=.7,to=1/yo,Ks="\\s*([+-]?\\d+)\\s*",kl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",In=/^#([0-9a-f]{3,8})$/,xn=new RegExp("^rgb\\("+[Ks,Ks,Ks]+"\\)$"),ii=new RegExp("^rgb\\("+[st,st,st]+"\\)$"),hi=new RegExp("^rgba\\("+[Ks,Ks,Ks,kl]+"\\)$"),Ts=new RegExp("^rgba\\("+[st,st,st,kl]+"\\)$"),ts=new RegExp("^hsl\\("+[kl,st,st]+"\\)$"),_u=new RegExp("^hsla\\("+[kl,st,st,kl]+"\\)$"),$o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $i(){return this.rgb().formatHex()}function wd(){return this.rgb().formatRgb()}function el(u){var p,m;return u=(u+"").trim().toLowerCase(),(p=In.exec(u))?(m=p[1].length,p=parseInt(p[1],16),m===6?Pf(p):m===3?new ns(p>>8&15|p>>4&240,p>>4&15|240&p,(15&p)<<4|15&p,1):m===8?Tl(p>>24&255,p>>16&255,p>>8&255,(255&p)/255):m===4?Tl(p>>12&15|p>>8&240,p>>8&15|p>>4&240,p>>4&15|240&p,((15&p)<<4|15&p)/255):null):(p=xn.exec(u))?new ns(p[1],p[2],p[3],1):(p=ii.exec(u))?new ns(255*p[1]/100,255*p[2]/100,255*p[3]/100,1):(p=hi.exec(u))?Tl(p[1],p[2],p[3],p[4]):(p=Ts.exec(u))?Tl(255*p[1]/100,255*p[2]/100,255*p[3]/100,p[4]):(p=ts.exec(u))?tl(p[1],p[2]/100,p[3]/100,1):(p=_u.exec(u))?tl(p[1],p[2]/100,p[3]/100,p[4]):$o.hasOwnProperty(u)?Pf($o[u]):u==="transparent"?new ns(NaN,NaN,NaN,0):null}function Pf(u){return new ns(u>>16&255,u>>8&255,255&u,1)}function Tl(u,p,m,b){return b<=0&&(u=p=m=NaN),new ns(u,p,m,b)}function Df(u){return u instanceof Wi||(u=el(u)),u?new ns((u=u.rgb()).r,u.g,u.b,u.opacity):new ns}function no(u,p,m,b){return arguments.length===1?Df(u):new ns(u,p,m,b==null?1:b)}function ns(u,p,m,b){this.r=+u,this.g=+p,this.b=+m,this.opacity=+b}function Rp(){return"#"+Op(this.r)+Op(this.g)+Op(this.b)}function Mp(){var u=this.opacity;return((u=isNaN(u)?1:Math.max(0,Math.min(1,u)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(u===1?")":", "+u+")")}function Op(u){return((u=Math.max(0,Math.min(255,Math.round(u)||0)))<16?"0":"")+u.toString(16)}function tl(u,p,m,b){return b<=0?u=p=m=NaN:m<=0||m>=1?u=p=NaN:p<=0&&(u=NaN),new nl(u,p,m,b)}function Lp(u){if(u instanceof nl)return new nl(u.h,u.s,u.l,u.opacity);if(u instanceof Wi||(u=el(u)),!u)return new nl;if(u instanceof nl)return u;var p=(u=u.rgb()).r/255,m=u.g/255,b=u.b/255,x=Math.min(p,m,b),T=Math.max(p,m,b),P=NaN,L=T-x,$=(T+x)/2;return L?(P=p===T?(m-b)/L+6*(m<b):m===T?(b-p)/L+2:(p-m)/L+4,L/=$<.5?T+x:2-T-x,P*=60):L=$>0&&$<1?0:P,new nl(P,L,$,u.opacity)}function Ap(u,p,m,b){return arguments.length===1?Lp(u):new nl(u,p,m,b==null?1:b)}function nl(u,p,m,b){this.h=+u,this.s=+p,this.l=+m,this.opacity=+b}function wn(u,p,m){return 255*(u<60?p+(m-p)*u/60:u<180?m:u<240?p+(m-p)*(240-u)/60:p)}function lm(u,p,m,b,x){var T=u*u,P=T*u;return((1-3*u+3*T-P)*p+(4-6*T+3*P)*m+(1+3*u+3*T-3*P)*b+P*x)/6}function Ri(u){var p=u.length-1;return function(m){var b=m<=0?m=0:m>=1?(m=1,p-1):Math.floor(m*p),x=u[b],T=u[b+1],P=b>0?u[b-1]:2*x-T,L=b<p-1?u[b+2]:2*T-x;return lm((m-b/p)*p,P,x,T,L)}}function Nf(u){var p=u.length;return function(m){var b=Math.floor(((m%=1)<0?++m:m)*p),x=u[(b+p-1)%p],T=u[b%p],P=u[(b+1)%p],L=u[(b+2)%p];return lm((m-b/p)*p,x,T,P,L)}}function Bf(u){return function(){return u}}function Pp(u,p){return function(m){return u+m*p}}function xa(u,p){var m=p-u;return m?Pp(u,m>180||m<-180?m-360*Math.round(m/360):m):Bf(isNaN(u)?p:u)}function Cs(u,p){var m=p-u;return m?Pp(u,m):Bf(isNaN(u)?p:u)}Bi(Wi,el,{copy:function(u){return Object.assign(new this.constructor,this,u)},displayable:function(){return this.rgb().displayable()},hex:$i,formatHex:$i,formatHsl:function(){return Lp(this).formatHsl()},formatRgb:wd,toString:wd}),Bi(ns,no,ps(Wi,{brighter:function(u){return u=u==null?to:Math.pow(to,u),new ns(this.r*u,this.g*u,this.b*u,this.opacity)},darker:function(u){return u=u==null?yo:Math.pow(yo,u),new ns(this.r*u,this.g*u,this.b*u,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rp,formatHex:Rp,formatRgb:Mp,toString:Mp})),Bi(nl,Ap,ps(Wi,{brighter:function(u){return u=u==null?to:Math.pow(to,u),new nl(this.h,this.s,this.l*u,this.opacity)},darker:function(u){return u=u==null?yo:Math.pow(yo,u),new nl(this.h,this.s,this.l*u,this.opacity)},rgb:function(){var u=this.h%360+360*(this.h<0),p=isNaN(u)||isNaN(this.s)?0:this.s,m=this.l,b=m+(m<.5?m:1-m)*p,x=2*m-b;return new ns(wn(u>=240?u-240:u+120,x,b),wn(u,x,b),wn(u<120?u+240:u-120,x,b),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var u=this.opacity;return((u=isNaN(u)?1:Math.max(0,Math.min(1,u)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(u===1?")":", "+u+")")}}));const Ed=function u(p){var m=function(x){return(x=+x)==1?Cs:function(T,P){return P-T?function(L,$,j){return L=Math.pow(L,j),$=Math.pow($,j)-L,j=1/j,function(Y){return Math.pow(L+Y*$,j)}}(T,P,x):Bf(isNaN(T)?P:T)}}(p);function b(x,T){var P=m((x=no(x)).r,(T=no(T)).r),L=m(x.g,T.g),$=m(x.b,T.b),j=Cs(x.opacity,T.opacity);return function(Y){return x.r=P(Y),x.g=L(Y),x.b=$(Y),x.opacity=j(Y),x+""}}return b.gamma=u,b}(1);function cm(u){return function(p){var m,b,x=p.length,T=new Array(x),P=new Array(x),L=new Array(x);for(m=0;m<x;++m)b=no(p[m]),T[m]=b.r||0,P[m]=b.g||0,L[m]=b.b||0;return T=u(T),P=u(P),L=u(L),b.opacity=1,function($){return b.r=T($),b.g=P($),b.b=L($),b+""}}}var Dp=cm(Ri),nc=cm(Nf);function um(u,p){p||(p=[]);var m,b=u?Math.min(p.length,u.length):0,x=p.slice();return function(T){for(m=0;m<b;++m)x[m]=u[m]*(1-T)+p[m]*T;return x}}function vv(u){return ArrayBuffer.isView(u)&&!(u instanceof DataView)}function $w(u,p){return(vv(p)?um:bv)(u,p)}function bv(u,p){var m,b=p?p.length:0,x=u?Math.min(b,u.length):0,T=new Array(x),P=new Array(b);for(m=0;m<x;++m)T[m]=$f(u[m],p[m]);for(;m<b;++m)P[m]=p[m];return function(L){for(m=0;m<x;++m)P[m]=T[m](L);return P}}function _v(u,p){var m=new Date;return u=+u,p=+p,function(b){return m.setTime(u*(1-b)+p*b),m}}function ea(u,p){return u=+u,p=+p,function(m){return u*(1-m)+p*m}}function wv(u,p){var m,b={},x={};for(m in u!==null&&typeof u=="object"||(u={}),p!==null&&typeof p=="object"||(p={}),p)m in u?b[m]=$f(u[m],p[m]):x[m]=p[m];return function(T){for(m in b)x[m]=b[m](T);return x}}var dm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fm=new RegExp(dm.source,"g");function rc(u,p){var m,b,x,T=dm.lastIndex=fm.lastIndex=0,P=-1,L=[],$=[];for(u+="",p+="";(m=dm.exec(u))&&(b=fm.exec(p));)(x=b.index)>T&&(x=p.slice(T,x),L[P]?L[P]+=x:L[++P]=x),(m=m[0])===(b=b[0])?L[P]?L[P]+=b:L[++P]=b:(L[++P]=null,$.push({i:P,x:ea(m,b)})),T=fm.lastIndex;return T<p.length&&(x=p.slice(T),L[P]?L[P]+=x:L[++P]=x),L.length<2?$[0]?function(j){return function(Y){return j(Y)+""}}($[0].x):function(j){return function(){return j}}(p):(p=$.length,function(j){for(var Y,te=0;te<p;++te)L[(Y=$[te]).i]=Y.x(j);return L.join("")})}function $f(u,p){var m,b=typeof p;return p==null||b==="boolean"?Bf(p):(b==="number"?ea:b==="string"?(m=el(p))?(p=m,Ed):rc:p instanceof el?Ed:p instanceof Date?_v:vv(p)?um:Array.isArray(p)?bv:typeof p.valueOf!="function"&&typeof p.toString!="function"||isNaN(p)?wv:ea)(u,p)}function rl(){for(var u,p=Fe;u=p.sourceEvent;)p=u;return p}function Ff(u,p){var m=u.ownerSVGElement||u;if(m.createSVGPoint){var b=m.createSVGPoint();return b.x=p.clientX,b.y=p.clientY,[(b=b.matrixTransform(u.getScreenCTM().inverse())).x,b.y]}var x=u.getBoundingClientRect();return[p.clientX-x.left-u.clientLeft,p.clientY-x.top-u.clientTop]}function ta(u,p,m){arguments.length<3&&(m=p,p=rl().changedTouches);for(var b,x=0,T=p?p.length:0;x<T;++x)if((b=p[x]).identifier===m)return Ff(u,b);return null}function wu(u){var p=rl();return p.changedTouches&&(p=p.changedTouches[0]),Ff(u,p)}var Np,ic,ro=0,gs=0,il=0,ka=0,vo=0,Ar=0,F=typeof performance=="object"&&performance.now?performance:Date,J=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(u){setTimeout(u,17)};function fe(){return vo||(J(Me),vo=F.now()+Ar)}function Me(){vo=0}function vt(){this._call=this._time=this._next=null}function Ft(u,p,m){var b=new vt;return b.restart(u,p,m),b}function Wt(){fe(),++ro;for(var u,p=Np;p;)(u=vo-p._time)>=0&&p._call.call(null,u),p=p._next;--ro}function dn(){vo=(ka=F.now())+Ar,ro=gs=0;try{Wt()}finally{ro=0,function(){for(var u,p,m=Np,b=1/0;m;)m._call?(b>m._time&&(b=m._time),u=m,m=m._next):(p=m._next,m._next=null,m=u?u._next=p:Np=p);ic=u,kn(b)}(),vo=0}}function hn(){var u=F.now(),p=u-ka;p>1e3&&(Ar-=p,ka=u)}function kn(u){ro||(gs&&(gs=clearTimeout(gs)),u-vo>24?(u<1/0&&(gs=setTimeout(dn,u-F.now()-Ar)),il&&(il=clearInterval(il))):(il||(ka=F.now(),il=setInterval(hn,1e3)),ro=1,J(dn)))}function $n(u,p,m){var b=new vt;return p=p==null?0:+p,b.restart(function(x){b.stop(),u(x+p)},p,m),b}vt.prototype=Ft.prototype={constructor:vt,restart:function(u,p,m){if(typeof u!="function")throw new TypeError("callback is not a function");m=(m==null?fe():+m)+(p==null?0:+p),this._next||ic===this||(ic?ic._next=this:Np=this,ic=this),this._call=u,this._time=m,kn()},stop:function(){this._call&&(this._call=null,this._time=1/0,kn())}};var mr=Ut("start","end","cancel","interrupt"),ar=[];function Wr(u,p,m,b,x,T){var P=u.__transition;if(P){if(m in P)return}else u.__transition={};(function(L,$,j){var Y,te=L.__transition;function G(ve){var ye,pe,Ce,Te;if(j.state!==1)return ue();for(ye in te)if((Te=te[ye]).name===j.name){if(Te.state===3)return $n(G);Te.state===4?(Te.state=6,Te.timer.stop(),Te.on.call("interrupt",L,L.__data__,Te.index,Te.group),delete te[ye]):+ye<$&&(Te.state=6,Te.timer.stop(),Te.on.call("cancel",L,L.__data__,Te.index,Te.group),delete te[ye])}if($n(function(){j.state===3&&(j.state=4,j.timer.restart(le,j.delay,j.time),le(ve))}),j.state=2,j.on.call("start",L,L.__data__,j.index,j.group),j.state===2){for(j.state=3,Y=new Array(Ce=j.tween.length),ye=0,pe=-1;ye<Ce;++ye)(Te=j.tween[ye].value.call(L,L.__data__,j.index,j.group))&&(Y[++pe]=Te);Y.length=pe+1}}function le(ve){for(var ye=ve<j.duration?j.ease.call(null,ve/j.duration):(j.timer.restart(ue),j.state=5,1),pe=-1,Ce=Y.length;++pe<Ce;)Y[pe].call(L,ye);j.state===5&&(j.on.call("end",L,L.__data__,j.index,j.group),ue())}function ue(){for(var ve in j.state=6,j.timer.stop(),delete te[$],te)return;delete L.__transition}te[$]=j,j.timer=Ft(function(ve){j.state=1,j.timer.restart(G,j.delay,j.time),j.delay<=ve&&G(ve-j.delay)},0,j.time)})(u,m,{name:p,index:b,group:x,on:mr,tween:ar,time:T.time,delay:T.delay,duration:T.duration,ease:T.ease,timer:null,state:0})}function Yr(u,p){var m=Vr(u,p);if(m.state>0)throw new Error("too late; already scheduled");return m}function Mi(u,p){var m=Vr(u,p);if(m.state>3)throw new Error("too late; already running");return m}function Vr(u,p){var m=u.__transition;if(!m||!(m=m[p]))throw new Error("transition not found");return m}function na(u,p){var m,b,x,T=u.__transition,P=!0;if(T){for(x in p=p==null?null:p+"",T)(m=T[x]).name===p?(b=m.state>2&&m.state<5,m.state=6,m.timer.stop(),m.on.call(b?"interrupt":"cancel",u,u.__data__,m.index,m.group),delete T[x]):P=!1;P&&delete u.__transition}}var Eu,hm,Fw,pm,sc=180/Math.PI,gm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function D8(u,p,m,b,x,T){var P,L,$;return(P=Math.sqrt(u*u+p*p))&&(u/=P,p/=P),($=u*m+p*b)&&(m-=u*$,b-=p*$),(L=Math.sqrt(m*m+b*b))&&(m/=L,b/=L,$/=L),u*b<p*m&&(u=-u,p=-p,$=-$,P=-P),{translateX:x,translateY:T,rotate:Math.atan2(p,u)*sc,skewX:Math.atan($)*sc,scaleX:P,scaleY:L}}function N8(u,p,m,b){function x(T){return T.length?T.pop()+" ":""}return function(T,P){var L=[],$=[];return T=u(T),P=u(P),function(j,Y,te,G,le,ue){if(j!==te||Y!==G){var ve=le.push("translate(",null,p,null,m);ue.push({i:ve-4,x:ea(j,te)},{i:ve-2,x:ea(Y,G)})}else(te||G)&&le.push("translate("+te+p+G+m)}(T.translateX,T.translateY,P.translateX,P.translateY,L,$),function(j,Y,te,G){j!==Y?(j-Y>180?Y+=360:Y-j>180&&(j+=360),G.push({i:te.push(x(te)+"rotate(",null,b)-2,x:ea(j,Y)})):Y&&te.push(x(te)+"rotate("+Y+b)}(T.rotate,P.rotate,L,$),function(j,Y,te,G){j!==Y?G.push({i:te.push(x(te)+"skewX(",null,b)-2,x:ea(j,Y)}):Y&&te.push(x(te)+"skewX("+Y+b)}(T.skewX,P.skewX,L,$),function(j,Y,te,G,le,ue){if(j!==te||Y!==G){var ve=le.push(x(le)+"scale(",null,",",null,")");ue.push({i:ve-4,x:ea(j,te)},{i:ve-2,x:ea(Y,G)})}else te===1&&G===1||le.push(x(le)+"scale("+te+","+G+")")}(T.scaleX,T.scaleY,P.scaleX,P.scaleY,L,$),T=P=null,function(j){for(var Y,te=-1,G=$.length;++te<G;)L[(Y=$[te]).i]=Y.x(j);return L.join("")}}}var Uw=N8(function(u){return u==="none"?gm:(Eu||(Eu=document.createElement("DIV"),hm=document.documentElement,Fw=document.defaultView),Eu.style.transform=u,u=Fw.getComputedStyle(hm.appendChild(Eu),null).getPropertyValue("transform"),hm.removeChild(Eu),D8(+(u=u.slice(7,-1).split(","))[0],+u[1],+u[2],+u[3],+u[4],+u[5]))},"px, ","px)","deg)"),Hw=N8(function(u){return u==null?gm:(pm||(pm=document.createElementNS("http://www.w3.org/2000/svg","g")),pm.setAttribute("transform",u),(u=pm.transform.baseVal.consolidate())?D8((u=u.matrix).a,u.b,u.c,u.d,u.e,u.f):gm)},", ",")",")");function B8(u,p){var m,b;return function(){var x=Mi(this,u),T=x.tween;if(T!==m){for(var P=0,L=(b=m=T).length;P<L;++P)if(b[P].name===p){(b=b.slice()).splice(P,1);break}}x.tween=b}}function jw(u,p,m){var b,x;if(typeof m!="function")throw new Error;return function(){var T=Mi(this,u),P=T.tween;if(P!==b){x=(b=P).slice();for(var L={name:p,value:m},$=0,j=x.length;$<j;++$)if(x[$].name===p){x[$]=L;break}$===j&&x.push(L)}T.tween=x}}function Ev(u,p,m){var b=u._id;return u.each(function(){var x=Mi(this,b);(x.value||(x.value={}))[p]=m.apply(this,arguments)}),function(x){return Vr(x,b).value[p]}}function Kw(u,p){var m;return(typeof p=="number"?ea:p instanceof el?Ed:(m=el(p))?(p=m,Ed):rc)(u,p)}function Fc(u){return function(){this.removeAttribute(u)}}function zw(u){return function(){this.removeAttributeNS(u.space,u.local)}}function qw(u,p,m){var b,x,T=m+"";return function(){var P=this.getAttribute(u);return P===T?null:P===b?x:x=p(b=P,m)}}function Vw(u,p,m){var b,x,T=m+"";return function(){var P=this.getAttributeNS(u.space,u.local);return P===T?null:P===b?x:x=p(b=P,m)}}function Gw(u,p,m){var b,x,T;return function(){var P,L,$=m(this);if($!=null)return(P=this.getAttribute(u))===(L=$+"")?null:P===b&&L===x?T:(x=L,T=p(b=P,$));this.removeAttribute(u)}}function LO(u,p,m){var b,x,T;return function(){var P,L,$=m(this);if($!=null)return(P=this.getAttributeNS(u.space,u.local))===(L=$+"")?null:P===b&&L===x?T:(x=L,T=p(b=P,$));this.removeAttributeNS(u.space,u.local)}}function Ww(u,p){return function(m){this.setAttribute(u,p.call(this,m))}}function Su(u,p){return function(m){this.setAttributeNS(u.space,u.local,p.call(this,m))}}function $8(u,p){var m,b;function x(){var T=p.apply(this,arguments);return T!==b&&(m=(b=T)&&Su(u,T)),m}return x._value=p,x}function Yw(u,p){var m,b;function x(){var T=p.apply(this,arguments);return T!==b&&(m=(b=T)&&Ww(u,T)),m}return x._value=p,x}function F8(u,p){return function(){Yr(this,u).delay=+p.apply(this,arguments)}}function mm(u,p){return p=+p,function(){Yr(this,u).delay=p}}function AO(u,p){return function(){Mi(this,u).duration=+p.apply(this,arguments)}}function PO(u,p){return p=+p,function(){Mi(this,u).duration=p}}function Xw(u,p){if(typeof p!="function")throw new Error;return function(){Mi(this,u).ease=p}}function Zw(u,p,m){var b,x,T=function(P){return(P+"").trim().split(/^|\s+/).every(function(L){var $=L.indexOf(".");return $>=0&&(L=L.slice(0,$)),!L||L==="start"})}(p)?Yr:Mi;return function(){var P=T(this,u),L=P.on;L!==b&&(x=(b=L).copy()).on(p,m),P.on=x}}var Jw=Bo.prototype.constructor;function Qw(u){return function(){this.style.removeProperty(u)}}function e5(u,p,m){return function(b){this.style.setProperty(u,p.call(this,b),m)}}function t5(u,p,m){var b,x;function T(){var P=p.apply(this,arguments);return P!==x&&(b=(x=P)&&e5(u,P,m)),b}return T._value=p,T}function n5(u){return function(p){this.textContent=u.call(this,p)}}function DO(u){var p,m;function b(){var x=u.apply(this,arguments);return x!==m&&(p=(m=x)&&n5(x)),p}return b._value=u,b}var NO=0;function Uc(u,p,m,b){this._groups=u,this._parents=p,this._name=m,this._id=b}function Sv(u){return Bo().transition(u)}function r5(){return++NO}var Hc=Bo.prototype;function xv(u){return u*u*u}function kv(u){return--u*u*u+1}function Sd(u){return((u*=2)<=1?u*u*u:(u-=2)*u*u+2)/2}Uc.prototype=Sv.prototype={constructor:Uc,select:function(u){var p=this._name,m=this._id;typeof u!="function"&&(u=Pn(u));for(var b=this._groups,x=b.length,T=new Array(x),P=0;P<x;++P)for(var L,$,j=b[P],Y=j.length,te=T[P]=new Array(Y),G=0;G<Y;++G)(L=j[G])&&($=u.call(L,L.__data__,G,j))&&("__data__"in L&&($.__data__=L.__data__),te[G]=$,Wr(te[G],p,m,G,te,Vr(L,m)));return new Uc(T,this._parents,p,m)},selectAll:function(u){var p=this._name,m=this._id;typeof u!="function"&&(u=Yn(u));for(var b=this._groups,x=b.length,T=[],P=[],L=0;L<x;++L)for(var $,j=b[L],Y=j.length,te=0;te<Y;++te)if($=j[te]){for(var G,le=u.call($,$.__data__,te,j),ue=Vr($,m),ve=0,ye=le.length;ve<ye;++ve)(G=le[ve])&&Wr(G,p,m,ve,le,ue);T.push(le),P.push($)}return new Uc(T,P,p,m)},filter:function(u){typeof u!="function"&&(u=un(u));for(var p=this._groups,m=p.length,b=new Array(m),x=0;x<m;++x)for(var T,P=p[x],L=P.length,$=b[x]=[],j=0;j<L;++j)(T=P[j])&&u.call(T,T.__data__,j,P)&&$.push(T);return new Uc(b,this._parents,this._name,this._id)},merge:function(u){if(u._id!==this._id)throw new Error;for(var p=this._groups,m=u._groups,b=p.length,x=m.length,T=Math.min(b,x),P=new Array(b),L=0;L<T;++L)for(var $,j=p[L],Y=m[L],te=j.length,G=P[L]=new Array(te),le=0;le<te;++le)($=j[le]||Y[le])&&(G[le]=$);for(;L<b;++L)P[L]=p[L];return new Uc(P,this._parents,this._name,this._id)},selection:function(){return new Jw(this._groups,this._parents)},transition:function(){for(var u=this._name,p=this._id,m=r5(),b=this._groups,x=b.length,T=0;T<x;++T)for(var P,L=b[T],$=L.length,j=0;j<$;++j)if(P=L[j]){var Y=Vr(P,p);Wr(P,u,m,j,L,{time:Y.time+Y.delay+Y.duration,delay:0,duration:Y.duration,ease:Y.ease})}return new Uc(b,this._parents,u,m)},call:Hc.call,nodes:Hc.nodes,node:Hc.node,size:Hc.size,empty:Hc.empty,each:Hc.each,on:function(u,p){var m=this._id;return arguments.length<2?Vr(this.node(),m).on.on(u):this.each(Zw(m,u,p))},attr:function(u,p){var m=an(u),b=m==="transform"?Hw:Kw;return this.attrTween(u,typeof p=="function"?(m.local?LO:Gw)(m,b,Ev(this,"attr."+u,p)):p==null?(m.local?zw:Fc)(m):(m.local?Vw:qw)(m,b,p))},attrTween:function(u,p){var m="attr."+u;if(arguments.length<2)return(m=this.tween(m))&&m._value;if(p==null)return this.tween(m,null);if(typeof p!="function")throw new Error;var b=an(u);return this.tween(m,(b.local?$8:Yw)(b,p))},style:function(u,p,m){var b=(u+="")=="transform"?Uw:Kw;return p==null?this.styleTween(u,function(x,T){var P,L,$;return function(){var j=Ii(this,x),Y=(this.style.removeProperty(x),Ii(this,x));return j===Y?null:j===P&&Y===L?$:$=T(P=j,L=Y)}}(u,b)).on("end.style."+u,Qw(u)):typeof p=="function"?this.styleTween(u,function(x,T,P){var L,$,j;return function(){var Y=Ii(this,x),te=P(this),G=te+"";return te==null&&(this.style.removeProperty(x),G=te=Ii(this,x)),Y===G?null:Y===L&&G===$?j:($=G,j=T(L=Y,te))}}(u,b,Ev(this,"style."+u,p))).each(function(x,T){var P,L,$,j,Y="style."+T,te="end."+Y;return function(){var G=Mi(this,x),le=G.on,ue=G.value[Y]==null?j||(j=Qw(T)):void 0;le===P&&$===ue||(L=(P=le).copy()).on(te,$=ue),G.on=L}}(this._id,u)):this.styleTween(u,function(x,T,P){var L,$,j=P+"";return function(){var Y=Ii(this,x);return Y===j?null:Y===L?$:$=T(L=Y,P)}}(u,b,p),m).on("end.style."+u,null)},styleTween:function(u,p,m){var b="style."+(u+="");if(arguments.length<2)return(b=this.tween(b))&&b._value;if(p==null)return this.tween(b,null);if(typeof p!="function")throw new Error;return this.tween(b,t5(u,p,m==null?"":m))},text:function(u){return this.tween("text",typeof u=="function"?function(p){return function(){var m=p(this);this.textContent=m==null?"":m}}(Ev(this,"text",u)):function(p){return function(){this.textContent=p}}(u==null?"":u+""))},textTween:function(u){var p="text";if(arguments.length<1)return(p=this.tween(p))&&p._value;if(u==null)return this.tween(p,null);if(typeof u!="function")throw new Error;return this.tween(p,DO(u))},remove:function(){return this.on("end.remove",function(u){return function(){var p=this.parentNode;for(var m in this.__transition)if(+m!==u)return;p&&p.removeChild(this)}}(this._id))},tween:function(u,p){var m=this._id;if(u+="",arguments.length<2){for(var b,x=Vr(this.node(),m).tween,T=0,P=x.length;T<P;++T)if((b=x[T]).name===u)return b.value;return null}return this.each((p==null?B8:jw)(m,u,p))},delay:function(u){var p=this._id;return arguments.length?this.each((typeof u=="function"?F8:mm)(p,u)):Vr(this.node(),p).delay},duration:function(u){var p=this._id;return arguments.length?this.each((typeof u=="function"?AO:PO)(p,u)):Vr(this.node(),p).duration},ease:function(u){var p=this._id;return arguments.length?this.each(Xw(p,u)):Vr(this.node(),p).ease},end:function(){var u,p,m=this,b=m._id,x=m.size();return new Promise(function(T,P){var L={value:P},$={value:function(){--x==0&&T()}};m.each(function(){var j=Mi(this,b),Y=j.on;Y!==u&&((p=(u=Y).copy())._.cancel.push(L),p._.interrupt.push(L),p._.end.push($)),j.on=p})})}};var Uf={time:null,delay:0,duration:250,ease:Sd};function jc(u,p){for(var m;!(m=u.__transition)||!(m=m[p]);)if(!(u=u.parentNode))return Uf.time=fe(),Uf;return m}Bo.prototype.interrupt=function(u){return this.each(function(){na(this,u)})},Bo.prototype.transition=function(u){var p,m;u instanceof Uc?(p=u._id,u=u._name):(p=r5(),(m=Uf).time=fe(),u=u==null?null:u+"");for(var b=this._groups,x=b.length,T=0;T<x;++T)for(var P,L=b[T],$=L.length,j=0;j<$;++j)(P=L[j])&&Wr(P,u,p,j,L,m||jc(P,p));return new Uc(b,this._parents,u,p)};var BO=[null];function $O(u,p){var m,b,x=u.__transition;if(x){for(b in p=p==null?null:p+"",x)if((m=x[b]).state>1&&m.name===p)return new Uc([[u]],BO,p,+b)}return null}function i5(u){return function(){return u}}function FO(u,p,m){this.target=u,this.type=p,this.selection=m}function U8(){Fe.stopImmediatePropagation()}function s5(){Fe.preventDefault(),Fe.stopImmediatePropagation()}var H8={name:"drag"},Tv={name:"space"},Hf={name:"handle"},jf={name:"center"};function Bp(u){return[+u[0],+u[1]]}function Cv(u){return[Bp(u[0]),Bp(u[1])]}function Iv(u){return function(p){return ta(p,Fe.touches,u)}}var Rv={name:"x",handles:["w","e"].map(Ta),input:function(u,p){return u==null?null:[[+u[0],p[0][1]],[+u[1],p[1][1]]]},output:function(u){return u&&[u[0][0],u[1][0]]}},$p={name:"y",handles:["n","s"].map(Ta),input:function(u,p){return u==null?null:[[p[0][0],+u[0]],[p[1][0],+u[1]]]},output:function(u){return u&&[u[0][1],u[1][1]]}},sl={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ta),input:function(u){return u==null?null:Cv(u)},output:function(u){return u}},Kc={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},o5={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Mv={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},j8={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},K8={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ta(u){return{type:u}}function a5(){return!Fe.ctrlKey&&!Fe.button}function l5(){var u=this.ownerSVGElement||this;return u.hasAttribute("viewBox")?[[(u=u.viewBox.baseVal).x,u.y],[u.x+u.width,u.y+u.height]]:[[0,0],[u.width.baseVal.value,u.height.baseVal.value]]}function z8(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ov(u){for(;!u.__brush;)if(!(u=u.parentNode))return;return u.__brush}function UO(u){return u[0][0]===u[1][0]||u[0][1]===u[1][1]}function HO(u){var p=u.__brush;return p?p.dim.output(p.selection):null}function Lv(){return ym(Rv)}function jO(){return ym($p)}function c5(){return ym(sl)}function ym(u){var p,m=l5,b=a5,x=z8,T=!0,P=Ut("start","brush","end"),L=6;function $(ye){var pe=ye.property("__brush",ve).selectAll(".overlay").data([Ta("overlay")]);pe.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Kc.overlay).merge(pe).each(function(){var Te=Ov(this).extent;ri(this).attr("x",Te[0][0]).attr("y",Te[0][1]).attr("width",Te[1][0]-Te[0][0]).attr("height",Te[1][1]-Te[0][1])}),ye.selectAll(".selection").data([Ta("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Kc.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Ce=ye.selectAll(".handle").data(u.handles,function(Te){return Te.type});Ce.exit().remove(),Ce.enter().append("rect").attr("class",function(Te){return"handle handle--"+Te.type}).attr("cursor",function(Te){return Kc[Te.type]}),ye.each(j).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",G).filter(x).on("touchstart.brush",G).on("touchmove.brush",le).on("touchend.brush touchcancel.brush",ue).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function j(){var ye=ri(this),pe=Ov(this).selection;pe?(ye.selectAll(".selection").style("display",null).attr("x",pe[0][0]).attr("y",pe[0][1]).attr("width",pe[1][0]-pe[0][0]).attr("height",pe[1][1]-pe[0][1]),ye.selectAll(".handle").style("display",null).attr("x",function(Ce){return Ce.type[Ce.type.length-1]==="e"?pe[1][0]-L/2:pe[0][0]-L/2}).attr("y",function(Ce){return Ce.type[0]==="s"?pe[1][1]-L/2:pe[0][1]-L/2}).attr("width",function(Ce){return Ce.type==="n"||Ce.type==="s"?pe[1][0]-pe[0][0]+L:L}).attr("height",function(Ce){return Ce.type==="e"||Ce.type==="w"?pe[1][1]-pe[0][1]+L:L})):ye.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function Y(ye,pe,Ce){var Te=ye.__brush.emitter;return!Te||Ce&&Te.clean?new te(ye,pe,Ce):Te}function te(ye,pe,Ce){this.that=ye,this.args=pe,this.state=ye.__brush,this.active=0,this.clean=Ce}function G(){if((!p||Fe.touches)&&b.apply(this,arguments)){var ye,pe,Ce,Te,Ne,rt,bt,Tt,Vt,ft,Dt,Pe=this,Ge=Fe.target.__data__.type,Rt=(T&&Fe.metaKey?Ge="overlay":Ge)==="selection"?H8:T&&Fe.altKey?jf:Hf,mt=u===$p?null:j8[Ge],Mt=u===Rv?null:K8[Ge],on=Ov(Pe),Fn=on.extent,yr=on.selection,Br=Fn[0][0],zr=Fn[0][1],Wn=Fn[1][0],ti=Fn[1][1],Sr=0,wr=0,er=mt&&Mt&&T&&Fe.shiftKey,$s=Fe.touches?Iv(Fe.changedTouches[0].identifier):wu,ji=$s(Pe),Vu=ji,Jc=Y(Pe,arguments,!0).beforestart();Ge==="overlay"?(yr&&(Vt=!0),on.selection=yr=[[ye=u===$p?Br:ji[0],Ce=u===Rv?zr:ji[1]],[Ne=u===$p?Wn:ye,bt=u===Rv?ti:Ce]]):(ye=yr[0][0],Ce=yr[0][1],Ne=yr[1][0],bt=yr[1][1]),pe=ye,Te=Ce,rt=Ne,Tt=bt;var W1=ri(Pe).attr("pointer-events","none"),Y1=W1.selectAll(".overlay").attr("cursor",Kc[Ge]);if(Fe.touches)Jc.moved=h_,Jc.ended=p_;else{var f_=ri(Fe.view).on("mousemove.brush",h_,!0).on("mouseup.brush",p_,!0);T&&f_.on("keydown.brush",X1,!0).on("keyup.brush",Z1,!0),es(Fe.view)}U8(),na(Pe),j.call(Pe),Jc.start()}function h_(){var gl=$s(Pe);!er||ft||Dt||(Math.abs(gl[0]-Vu[0])>Math.abs(gl[1]-Vu[1])?Dt=!0:ft=!0),Vu=gl,Vt=!0,s5(),wc()}function wc(){var gl;switch(Sr=Vu[0]-ji[0],wr=Vu[1]-ji[1],Rt){case Tv:case H8:mt&&(Sr=Math.max(Br-ye,Math.min(Wn-Ne,Sr)),pe=ye+Sr,rt=Ne+Sr),Mt&&(wr=Math.max(zr-Ce,Math.min(ti-bt,wr)),Te=Ce+wr,Tt=bt+wr);break;case Hf:mt<0?(Sr=Math.max(Br-ye,Math.min(Wn-ye,Sr)),pe=ye+Sr,rt=Ne):mt>0&&(Sr=Math.max(Br-Ne,Math.min(Wn-Ne,Sr)),pe=ye,rt=Ne+Sr),Mt<0?(wr=Math.max(zr-Ce,Math.min(ti-Ce,wr)),Te=Ce+wr,Tt=bt):Mt>0&&(wr=Math.max(zr-bt,Math.min(ti-bt,wr)),Te=Ce,Tt=bt+wr);break;case jf:mt&&(pe=Math.max(Br,Math.min(Wn,ye-Sr*mt)),rt=Math.max(Br,Math.min(Wn,Ne+Sr*mt))),Mt&&(Te=Math.max(zr,Math.min(ti,Ce-wr*Mt)),Tt=Math.max(zr,Math.min(ti,bt+wr*Mt)))}rt<pe&&(mt*=-1,gl=ye,ye=Ne,Ne=gl,gl=pe,pe=rt,rt=gl,Ge in o5&&Y1.attr("cursor",Kc[Ge=o5[Ge]])),Tt<Te&&(Mt*=-1,gl=Ce,Ce=bt,bt=gl,gl=Te,Te=Tt,Tt=gl,Ge in Mv&&Y1.attr("cursor",Kc[Ge=Mv[Ge]])),on.selection&&(yr=on.selection),ft&&(pe=yr[0][0],rt=yr[1][0]),Dt&&(Te=yr[0][1],Tt=yr[1][1]),yr[0][0]===pe&&yr[0][1]===Te&&yr[1][0]===rt&&yr[1][1]===Tt||(on.selection=[[pe,Te],[rt,Tt]],j.call(Pe),Jc.brush())}function p_(){if(U8(),Fe.touches){if(Fe.touches.length)return;p&&clearTimeout(p),p=setTimeout(function(){p=null},500)}else Ni(Fe.view,Vt),f_.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);W1.attr("pointer-events","all"),Y1.attr("cursor",Kc.overlay),on.selection&&(yr=on.selection),UO(yr)&&(on.selection=null,j.call(Pe)),Jc.end()}function X1(){switch(Fe.keyCode){case 16:er=mt&&Mt;break;case 18:Rt===Hf&&(mt&&(Ne=rt-Sr*mt,ye=pe+Sr*mt),Mt&&(bt=Tt-wr*Mt,Ce=Te+wr*Mt),Rt=jf,wc());break;case 32:Rt!==Hf&&Rt!==jf||(mt<0?Ne=rt-Sr:mt>0&&(ye=pe-Sr),Mt<0?bt=Tt-wr:Mt>0&&(Ce=Te-wr),Rt=Tv,Y1.attr("cursor",Kc.selection),wc());break;default:return}s5()}function Z1(){switch(Fe.keyCode){case 16:er&&(ft=Dt=er=!1,wc());break;case 18:Rt===jf&&(mt<0?Ne=rt:mt>0&&(ye=pe),Mt<0?bt=Tt:Mt>0&&(Ce=Te),Rt=Hf,wc());break;case 32:Rt===Tv&&(Fe.altKey?(mt&&(Ne=rt-Sr*mt,ye=pe+Sr*mt),Mt&&(bt=Tt-wr*Mt,Ce=Te+wr*Mt),Rt=jf):(mt<0?Ne=rt:mt>0&&(ye=pe),Mt<0?bt=Tt:Mt>0&&(Ce=Te),Rt=Hf),Y1.attr("cursor",Kc[Ge]),wc());break;default:return}s5()}}function le(){Y(this,arguments).moved()}function ue(){Y(this,arguments).ended()}function ve(){var ye=this.__brush||{selection:null};return ye.extent=Cv(m.apply(this,arguments)),ye.dim=u,ye}return $.move=function(ye,pe){ye.selection?ye.on("start.brush",function(){Y(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){Y(this,arguments).end()}).tween("brush",function(){var Ce=this,Te=Ce.__brush,Ne=Y(Ce,arguments),rt=Te.selection,bt=u.input(typeof pe=="function"?pe.apply(this,arguments):pe,Te.extent),Tt=$f(rt,bt);function Vt(ft){Te.selection=ft===1&&bt===null?null:Tt(ft),j.call(Ce),Ne.brush()}return rt!==null&&bt!==null?Vt:Vt(1)}):ye.each(function(){var Ce=this,Te=arguments,Ne=Ce.__brush,rt=u.input(typeof pe=="function"?pe.apply(Ce,Te):pe,Ne.extent),bt=Y(Ce,Te).beforestart();na(Ce),Ne.selection=rt===null?null:rt,j.call(Ce),bt.start().brush().end()})},$.clear=function(ye){$.move(ye,null)},te.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active==0&&(delete this.state.emitter,this.emit("end")),this},emit:function(ye){Jo(new FO($,ye,u.output(this.state.selection)),P.apply,P,[ye,this.that,this.args])}},$.extent=function(ye){return arguments.length?(m=typeof ye=="function"?ye:i5(Cv(ye)),$):m},$.filter=function(ye){return arguments.length?(b=typeof ye=="function"?ye:i5(!!ye),$):b},$.touchable=function(ye){return arguments.length?(x=typeof ye=="function"?ye:i5(!!ye),$):x},$.handleSize=function(ye){return arguments.length?(L=+ye,$):L},$.keyModifiers=function(ye){return arguments.length?(T=!!ye,$):T},$.on=function(){var ye=P.on.apply(P,arguments);return ye===P?$:ye},$}var q8=Math.cos,V8=Math.sin,Av=Math.PI,Pv=Av/2,G8=2*Av,u5=Math.max;function Fp(u){return function(p,m){return u(p.source.value+p.target.value,m.source.value+m.target.value)}}function d5(){var u=0,p=null,m=null,b=null;function x(T){var P,L,$,j,Y,te,G=T.length,le=[],ue=K(G),ve=[],ye=[],pe=ye.groups=new Array(G),Ce=new Array(G*G);for(P=0,Y=-1;++Y<G;){for(L=0,te=-1;++te<G;)L+=T[Y][te];le.push(L),ve.push(K(G)),P+=L}for(p&&ue.sort(function(Dt,Pe){return p(le[Dt],le[Pe])}),m&&ve.forEach(function(Dt,Pe){Dt.sort(function(Ge,Rt){return m(T[Pe][Ge],T[Pe][Rt])})}),j=(P=u5(0,G8-u*G)/P)?u:G8/G,L=0,Y=-1;++Y<G;){for($=L,te=-1;++te<G;){var Te=ue[Y],Ne=ve[Te][te],rt=T[Te][Ne],bt=L,Tt=L+=rt*P;Ce[Ne*G+Te]={index:Te,subindex:Ne,startAngle:bt,endAngle:Tt,value:rt}}pe[Te]={index:Te,startAngle:$,endAngle:L,value:le[Te]},L+=j}for(Y=-1;++Y<G;)for(te=Y-1;++te<G;){var Vt=Ce[te*G+Y],ft=Ce[Y*G+te];(Vt.value||ft.value)&&ye.push(Vt.value<ft.value?{source:ft,target:Vt}:{source:Vt,target:ft})}return b?ye.sort(b):ye}return x.padAngle=function(T){return arguments.length?(u=u5(0,T),x):u},x.sortGroups=function(T){return arguments.length?(p=T,x):p},x.sortSubgroups=function(T){return arguments.length?(m=T,x):m},x.sortChords=function(T){return arguments.length?(T==null?b=null:(b=Fp(T))._=T,x):b&&b._},x}var KO=Array.prototype.slice;function f5(u){return function(){return u}}var Dv=Math.PI,Nv=2*Dv,xu=1e-6,W8=Nv-xu;function h5(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function vm(){return new h5}h5.prototype=vm.prototype={constructor:h5,moveTo:function(u,p){this._+="M"+(this._x0=this._x1=+u)+","+(this._y0=this._y1=+p)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(u,p){this._+="L"+(this._x1=+u)+","+(this._y1=+p)},quadraticCurveTo:function(u,p,m,b){this._+="Q"+ +u+","+ +p+","+(this._x1=+m)+","+(this._y1=+b)},bezierCurveTo:function(u,p,m,b,x,T){this._+="C"+ +u+","+ +p+","+ +m+","+ +b+","+(this._x1=+x)+","+(this._y1=+T)},arcTo:function(u,p,m,b,x){u=+u,p=+p,m=+m,b=+b,x=+x;var T=this._x1,P=this._y1,L=m-u,$=b-p,j=T-u,Y=P-p,te=j*j+Y*Y;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=u)+","+(this._y1=p);else if(te>xu)if(Math.abs(Y*L-$*j)>xu&&x){var G=m-T,le=b-P,ue=L*L+$*$,ve=G*G+le*le,ye=Math.sqrt(ue),pe=Math.sqrt(te),Ce=x*Math.tan((Dv-Math.acos((ue+te-ve)/(2*ye*pe)))/2),Te=Ce/pe,Ne=Ce/ye;Math.abs(Te-1)>xu&&(this._+="L"+(u+Te*j)+","+(p+Te*Y)),this._+="A"+x+","+x+",0,0,"+ +(Y*G>j*le)+","+(this._x1=u+Ne*L)+","+(this._y1=p+Ne*$)}else this._+="L"+(this._x1=u)+","+(this._y1=p)},arc:function(u,p,m,b,x,T){u=+u,p=+p,T=!!T;var P=(m=+m)*Math.cos(b),L=m*Math.sin(b),$=u+P,j=p+L,Y=1^T,te=T?b-x:x-b;if(m<0)throw new Error("negative radius: "+m);this._x1===null?this._+="M"+$+","+j:(Math.abs(this._x1-$)>xu||Math.abs(this._y1-j)>xu)&&(this._+="L"+$+","+j),m&&(te<0&&(te=te%Nv+Nv),te>W8?this._+="A"+m+","+m+",0,1,"+Y+","+(u-P)+","+(p-L)+"A"+m+","+m+",0,1,"+Y+","+(this._x1=$)+","+(this._y1=j):te>xu&&(this._+="A"+m+","+m+",0,"+ +(te>=Dv)+","+Y+","+(this._x1=u+m*Math.cos(x))+","+(this._y1=p+m*Math.sin(x))))},rect:function(u,p,m,b){this._+="M"+(this._x0=this._x1=+u)+","+(this._y0=this._y1=+p)+"h"+ +m+"v"+ +b+"h"+-m+"Z"},toString:function(){return this._}};const ku=vm;function Bv(u){return u.source}function Up(u){return u.target}function Y8(u){return u.radius}function X8(u){return u.startAngle}function Z8(u){return u.endAngle}function p5(){var u=Bv,p=Up,m=Y8,b=X8,x=Z8,T=null;function P(){var L,$=KO.call(arguments),j=u.apply(this,$),Y=p.apply(this,$),te=+m.apply(this,($[0]=j,$)),G=b.apply(this,$)-Pv,le=x.apply(this,$)-Pv,ue=te*q8(G),ve=te*V8(G),ye=+m.apply(this,($[0]=Y,$)),pe=b.apply(this,$)-Pv,Ce=x.apply(this,$)-Pv;if(T||(T=L=ku()),T.moveTo(ue,ve),T.arc(0,0,te,G,le),G===pe&&le===Ce||(T.quadraticCurveTo(0,0,ye*q8(pe),ye*V8(pe)),T.arc(0,0,ye,pe,Ce)),T.quadraticCurveTo(0,0,ue,ve),T.closePath(),L)return T=null,L+""||null}return P.radius=function(L){return arguments.length?(m=typeof L=="function"?L:f5(+L),P):m},P.startAngle=function(L){return arguments.length?(b=typeof L=="function"?L:f5(+L),P):b},P.endAngle=function(L){return arguments.length?(x=typeof L=="function"?L:f5(+L),P):x},P.source=function(L){return arguments.length?(u=L,P):u},P.target=function(L){return arguments.length?(p=L,P):p},P.context=function(L){return arguments.length?(T=L==null?null:L,P):T},P}var ol="$";function bm(){}function g5(u,p){var m=new bm;if(u instanceof bm)u.each(function(L,$){m.set($,L)});else if(Array.isArray(u)){var b,x=-1,T=u.length;if(p==null)for(;++x<T;)m.set(x,u[x]);else for(;++x<T;)m.set(p(b=u[x],x,u),b)}else if(u)for(var P in u)m.set(P,u[P]);return m}bm.prototype=g5.prototype={constructor:bm,has:function(u){return ol+u in this},get:function(u){return this[ol+u]},set:function(u,p){return this[ol+u]=p,this},remove:function(u){var p=ol+u;return p in this&&delete this[p]},clear:function(){for(var u in this)u[0]===ol&&delete this[u]},keys:function(){var u=[];for(var p in this)p[0]===ol&&u.push(p.slice(1));return u},values:function(){var u=[];for(var p in this)p[0]===ol&&u.push(this[p]);return u},entries:function(){var u=[];for(var p in this)p[0]===ol&&u.push({key:p.slice(1),value:this[p]});return u},size:function(){var u=0;for(var p in this)p[0]===ol&&++u;return u},empty:function(){for(var u in this)if(u[0]===ol)return!1;return!0},each:function(u){for(var p in this)p[0]===ol&&u(this[p],p.slice(1),this)}};const Tu=g5;function zO(){var u,p,m,b=[],x=[];function T(L,$,j,Y){if($>=b.length)return u!=null&&L.sort(u),p!=null?p(L):L;for(var te,G,le,ue=-1,ve=L.length,ye=b[$++],pe=Tu(),Ce=j();++ue<ve;)(le=pe.get(te=ye(G=L[ue])+""))?le.push(G):pe.set(te,[G]);return pe.each(function(Te,Ne){Y(Ce,Ne,T(Te,$,j,Y))}),Ce}function P(L,$){if(++$>b.length)return L;var j,Y=x[$-1];return p!=null&&$>=b.length?j=L.entries():(j=[],L.each(function(te,G){j.push({key:G,values:P(te,$)})})),Y!=null?j.sort(function(te,G){return Y(te.key,G.key)}):j}return m={object:function(L){return T(L,0,J8,Q8)},map:function(L){return T(L,0,m5,e7)},entries:function(L){return P(T(L,0,m5,e7),0)},key:function(L){return b.push(L),m},sortKeys:function(L){return x[b.length-1]=L,m},sortValues:function(L){return u=L,m},rollup:function(L){return p=L,m}}}function J8(){return{}}function Q8(u,p,m){u[p]=m}function m5(){return Tu()}function e7(u,p,m){u.set(p,m)}function _m(){}var xd=Tu.prototype;function Hp(u,p){var m=new _m;if(u instanceof _m)u.each(function(T){m.add(T)});else if(u){var b=-1,x=u.length;if(p==null)for(;++b<x;)m.add(u[b]);else for(;++b<x;)m.add(p(u[b],b,u))}return m}_m.prototype=Hp.prototype={constructor:_m,has:xd.has,add:function(u){return this[ol+(u+="")]=u,this},remove:xd.remove,clear:xd.clear,values:xd.keys,size:xd.size,empty:xd.empty,each:xd.each};const kd=Hp;function wm(u){var p=[];for(var m in u)p.push(m);return p}function y5(u){var p=[];for(var m in u)p.push(u[m]);return p}function v5(u){var p=[];for(var m in u)p.push({key:m,value:u[m]});return p}var $v=Math.PI/180,Fv=180/Math.PI,Uv=.96422,zs=.82521,Em=4/29,b5=6/29,_5=3*b5*b5;function jp(u){if(u instanceof Cl)return new Cl(u.l,u.a,u.b,u.opacity);if(u instanceof zc)return Kf(u);u instanceof ns||(u=Df(u));var p,m,b=Cu(u.r),x=Cu(u.g),T=Cu(u.b),P=Hv((.2225045*b+.7168786*x+.0606169*T)/1);return b===x&&x===T?p=m=P:(p=Hv((.4360747*b+.3850649*x+.1430804*T)/Uv),m=Hv((.0139322*b+.0971045*x+.7141733*T)/zs)),new Cl(116*P-16,500*(p-P),200*(P-m),u.opacity)}function t7(u,p){return new Cl(u,0,0,p==null?1:p)}function Sm(u,p,m,b){return arguments.length===1?jp(u):new Cl(u,p,m,b==null?1:b)}function Cl(u,p,m,b){this.l=+u,this.a=+p,this.b=+m,this.opacity=+b}function Hv(u){return u>.008856451679035631?Math.pow(u,1/3):u/_5+Em}function jv(u){return u>b5?u*u*u:_5*(u-Em)}function Kp(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function Cu(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function xm(u){if(u instanceof zc)return new zc(u.h,u.c,u.l,u.opacity);if(u instanceof Cl||(u=jp(u)),u.a===0&&u.b===0)return new zc(NaN,0<u.l&&u.l<100?0:NaN,u.l,u.opacity);var p=Math.atan2(u.b,u.a)*Fv;return new zc(p<0?p+360:p,Math.sqrt(u.a*u.a+u.b*u.b),u.l,u.opacity)}function Kv(u,p,m,b){return arguments.length===1?xm(u):new zc(m,p,u,b==null?1:b)}function zv(u,p,m,b){return arguments.length===1?xm(u):new zc(u,p,m,b==null?1:b)}function zc(u,p,m,b){this.h=+u,this.c=+p,this.l=+m,this.opacity=+b}function Kf(u){if(isNaN(u.h))return new Cl(u.l,0,0,u.opacity);var p=u.h*$v;return new Cl(u.l,Math.cos(p)*u.c,Math.sin(p)*u.c,u.opacity)}Bi(Cl,Sm,ps(Wi,{brighter:function(u){return new Cl(this.l+18*(u==null?1:u),this.a,this.b,this.opacity)},darker:function(u){return new Cl(this.l-18*(u==null?1:u),this.a,this.b,this.opacity)},rgb:function(){var u=(this.l+16)/116,p=isNaN(this.a)?u:u+this.a/500,m=isNaN(this.b)?u:u-this.b/200;return new ns(Kp(3.1338561*(p=Uv*jv(p))-1.6168667*(u=1*jv(u))-.4906146*(m=zs*jv(m))),Kp(-.9787684*p+1.9161415*u+.033454*m),Kp(.0719453*p-.2289914*u+1.4052427*m),this.opacity)}})),Bi(zc,zv,ps(Wi,{brighter:function(u){return new zc(this.h,this.c,this.l+18*(u==null?1:u),this.opacity)},darker:function(u){return new zc(this.h,this.c,this.l-18*(u==null?1:u),this.opacity)},rgb:function(){return Kf(this).rgb()}}));var n7=-.14861,w5=1.78277,qv=-.29227,km=-.90649,zf=1.97294,Td=zf*km,r7=zf*w5,i7=w5*qv-km*n7;function s7(u){if(u instanceof al)return new al(u.h,u.s,u.l,u.opacity);u instanceof ns||(u=Df(u));var p=u.r/255,m=u.g/255,b=u.b/255,x=(i7*b+Td*p-r7*m)/(i7+Td-r7),T=b-x,P=(zf*(m-x)-qv*T)/km,L=Math.sqrt(P*P+T*T)/(zf*x*(1-x)),$=L?Math.atan2(P,T)*Fv-120:NaN;return new al($<0?$+360:$,L,x,u.opacity)}function Il(u,p,m,b){return arguments.length===1?s7(u):new al(u,p,m,b==null?1:b)}function al(u,p,m,b){this.h=+u,this.s=+p,this.l=+m,this.opacity=+b}Bi(al,Il,ps(Wi,{brighter:function(u){return u=u==null?to:Math.pow(to,u),new al(this.h,this.s,this.l*u,this.opacity)},darker:function(u){return u=u==null?yo:Math.pow(yo,u),new al(this.h,this.s,this.l*u,this.opacity)},rgb:function(){var u=isNaN(this.h)?0:(this.h+120)*$v,p=+this.l,m=isNaN(this.s)?0:this.s*p*(1-p),b=Math.cos(u),x=Math.sin(u);return new ns(255*(p+m*(n7*b+w5*x)),255*(p+m*(qv*b+km*x)),255*(p+m*(zf*b)),this.opacity)}}));var E5=Array.prototype.slice;function Vv(u,p){return u-p}function Cd(u){return function(){return u}}function qO(u,p){for(var m,b=-1,x=p.length;++b<x;)if(m=zp(u,p[b]))return m;return 0}function zp(u,p){for(var m=p[0],b=p[1],x=-1,T=0,P=u.length,L=P-1;T<P;L=T++){var $=u[T],j=$[0],Y=$[1],te=u[L],G=te[0],le=te[1];if(VO($,te,p))return 0;Y>b!=le>b&&m<(G-j)*(b-Y)/(le-Y)+j&&(x=-x)}return x}function VO(u,p,m){var b,x,T,P;return function(L,$,j){return($[0]-L[0])*(j[1]-L[1])==(j[0]-L[0])*($[1]-L[1])}(u,p,m)&&(x=u[b=+(u[0]===p[0])],T=m[b],P=p[b],x<=T&&T<=P||P<=T&&T<=x)}function GO(){}var Iu=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Gv(){var u=1,p=1,m=ae,b=L;function x($){var j=m($);if(Array.isArray(j))j=j.slice().sort(Vv);else{var Y=A($),te=Y[0],G=Y[1];j=Q(te,G,j),j=K(Math.floor(te/j)*j,Math.floor(G/j)*j,j)}return j.map(function(le){return T($,le)})}function T($,j){var Y=[],te=[];return function(G,le,ue){var ve,ye,pe,Ce,Te,Ne,rt=new Array,bt=new Array;for(ve=ye=-1,Ce=G[0]>=le,Iu[Ce<<1].forEach(Tt);++ve<u-1;)pe=Ce,Ce=G[ve+1]>=le,Iu[pe|Ce<<1].forEach(Tt);for(Iu[Ce<<0].forEach(Tt);++ye<p-1;){for(ve=-1,Ce=G[ye*u+u]>=le,Te=G[ye*u]>=le,Iu[Ce<<1|Te<<2].forEach(Tt);++ve<u-1;)pe=Ce,Ce=G[ye*u+u+ve+1]>=le,Ne=Te,Te=G[ye*u+ve+1]>=le,Iu[pe|Ce<<1|Te<<2|Ne<<3].forEach(Tt);Iu[Ce|Te<<3].forEach(Tt)}for(ve=-1,Te=G[ye*u]>=le,Iu[Te<<2].forEach(Tt);++ve<u-1;)Ne=Te,Te=G[ye*u+ve+1]>=le,Iu[Te<<2|Ne<<3].forEach(Tt);function Tt(Vt){var ft,Dt,Pe=[Vt[0][0]+ve,Vt[0][1]+ye],Ge=[Vt[1][0]+ve,Vt[1][1]+ye],Rt=P(Pe),mt=P(Ge);(ft=bt[Rt])?(Dt=rt[mt])?(delete bt[ft.end],delete rt[Dt.start],ft===Dt?(ft.ring.push(Ge),ue(ft.ring)):rt[ft.start]=bt[Dt.end]={start:ft.start,end:Dt.end,ring:ft.ring.concat(Dt.ring)}):(delete bt[ft.end],ft.ring.push(Ge),bt[ft.end=mt]=ft):(ft=rt[mt])?(Dt=bt[Rt])?(delete rt[ft.start],delete bt[Dt.end],ft===Dt?(ft.ring.push(Ge),ue(ft.ring)):rt[Dt.start]=bt[ft.end]={start:Dt.start,end:ft.end,ring:Dt.ring.concat(ft.ring)}):(delete rt[ft.start],ft.ring.unshift(Pe),rt[ft.start=Rt]=ft):rt[Rt]=bt[mt]={start:Rt,end:mt,ring:[Pe,Ge]}}Iu[Te<<3].forEach(Tt)}($,j,function(G){b(G,$,j),function(le){for(var ue=0,ve=le.length,ye=le[ve-1][1]*le[0][0]-le[ve-1][0]*le[0][1];++ue<ve;)ye+=le[ue-1][1]*le[ue][0]-le[ue-1][0]*le[ue][1];return ye}(G)>0?Y.push([G]):te.push(G)}),te.forEach(function(G){for(var le,ue=0,ve=Y.length;ue<ve;++ue)if(qO((le=Y[ue])[0],G)!==-1)return void le.push(G)}),{type:"MultiPolygon",value:j,coordinates:Y}}function P($){return 2*$[0]+$[1]*(u+1)*4}function L($,j,Y){$.forEach(function(te){var G,le=te[0],ue=te[1],ve=0|le,ye=0|ue,pe=j[ye*u+ve];le>0&&le<u&&ve===le&&(G=j[ye*u+ve-1],te[0]=le+(Y-G)/(pe-G)-.5),ue>0&&ue<p&&ye===ue&&(G=j[(ye-1)*u+ve],te[1]=ue+(Y-G)/(pe-G)-.5)})}return x.contour=T,x.size=function($){if(!arguments.length)return[u,p];var j=Math.ceil($[0]),Y=Math.ceil($[1]);if(!(j>0&&Y>0))throw new Error("invalid size");return u=j,p=Y,x},x.thresholds=function($){return arguments.length?(m=typeof $=="function"?$:Array.isArray($)?Cd(E5.call($)):Cd($),x):m},x.smooth=function($){return arguments.length?(b=$?L:GO,x):b===L},x}function qf(u,p,m){for(var b=u.width,x=u.height,T=1+(m<<1),P=0;P<x;++P)for(var L=0,$=0;L<b+m;++L)L<b&&($+=u.data[L+P*b]),L>=m&&(L>=T&&($-=u.data[L-T+P*b]),p.data[L-m+P*b]=$/Math.min(L+1,b-1+T-L,T))}function S5(u,p,m){for(var b=u.width,x=u.height,T=1+(m<<1),P=0;P<b;++P)for(var L=0,$=0;L<x+m;++L)L<x&&($+=u.data[P+L*b]),L>=m&&(L>=T&&($-=u.data[P+(L-T)*b]),p.data[P+(L-m)*b]=$/Math.min(L+1,x-1+T-L,T))}function WO(u){return u[0]}function YO(u){return u[1]}function x5(){return 1}function k5(){var u=WO,p=YO,m=x5,b=960,x=500,T=20,P=2,L=3*T,$=b+2*L>>P,j=x+2*L>>P,Y=Cd(20);function te(pe){var Ce=new Float32Array($*j),Te=new Float32Array($*j);pe.forEach(function(bt,Tt,Vt){var ft=+u(bt,Tt,Vt)+L>>P,Dt=+p(bt,Tt,Vt)+L>>P,Pe=+m(bt,Tt,Vt);ft>=0&&ft<$&&Dt>=0&&Dt<j&&(Ce[ft+Dt*$]+=Pe)}),qf({width:$,height:j,data:Ce},{width:$,height:j,data:Te},T>>P),S5({width:$,height:j,data:Te},{width:$,height:j,data:Ce},T>>P),qf({width:$,height:j,data:Ce},{width:$,height:j,data:Te},T>>P),S5({width:$,height:j,data:Te},{width:$,height:j,data:Ce},T>>P),qf({width:$,height:j,data:Ce},{width:$,height:j,data:Te},T>>P),S5({width:$,height:j,data:Te},{width:$,height:j,data:Ce},T>>P);var Ne=Y(Ce);if(!Array.isArray(Ne)){var rt=_e(Ce);Ne=Q(0,rt,Ne),(Ne=K(0,Math.floor(rt/Ne)*Ne,Ne)).shift()}return Gv().thresholds(Ne).size([$,j])(Ce).map(G)}function G(pe){return pe.value*=Math.pow(2,-2*P),pe.coordinates.forEach(le),pe}function le(pe){pe.forEach(ue)}function ue(pe){pe.forEach(ve)}function ve(pe){pe[0]=pe[0]*Math.pow(2,P)-L,pe[1]=pe[1]*Math.pow(2,P)-L}function ye(){return $=b+2*(L=3*T)>>P,j=x+2*L>>P,te}return te.x=function(pe){return arguments.length?(u=typeof pe=="function"?pe:Cd(+pe),te):u},te.y=function(pe){return arguments.length?(p=typeof pe=="function"?pe:Cd(+pe),te):p},te.weight=function(pe){return arguments.length?(m=typeof pe=="function"?pe:Cd(+pe),te):m},te.size=function(pe){if(!arguments.length)return[b,x];var Ce=Math.ceil(pe[0]),Te=Math.ceil(pe[1]);if(!(Ce>=0||Ce>=0))throw new Error("invalid size");return b=Ce,x=Te,ye()},te.cellSize=function(pe){if(!arguments.length)return 1<<P;if(!((pe=+pe)>=1))throw new Error("invalid cell size");return P=Math.floor(Math.log(pe)/Math.LN2),ye()},te.thresholds=function(pe){return arguments.length?(Y=typeof pe=="function"?pe:Array.isArray(pe)?Cd(E5.call(pe)):Cd(pe),te):Y},te.bandwidth=function(pe){if(!arguments.length)return Math.sqrt(T*(T+1));if(!((pe=+pe)>=0))throw new Error("invalid bandwidth");return T=Math.round((Math.sqrt(4*pe*pe+1)-1)/2),ye()},te}function Id(u){return function(){return u}}function Vf(u,p,m,b,x,T,P,L,$,j){this.target=u,this.type=p,this.subject=m,this.identifier=b,this.active=x,this.x=T,this.y=P,this.dx=L,this.dy=$,this._=j}function o7(){return!Fe.ctrlKey&&!Fe.button}function a7(){return this.parentNode}function io(u){return u==null?{x:Fe.x,y:Fe.y}:u}function XO(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZO(){var u,p,m,b,x=o7,T=a7,P=io,L=XO,$={},j=Ut("start","drag","end"),Y=0,te=0;function G(Ne){Ne.on("mousedown.drag",le).filter(L).on("touchstart.drag",ye).on("touchmove.drag",pe).on("touchend.drag touchcancel.drag",Ce).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function le(){if(!b&&x.apply(this,arguments)){var Ne=Te("mouse",T.apply(this,arguments),wu,this,arguments);Ne&&(ri(Fe.view).on("mousemove.drag",ue,!0).on("mouseup.drag",ve,!0),es(Fe.view),bi(),m=!1,u=Fe.clientX,p=Fe.clientY,Ne("start"))}}function ue(){if(ks(),!m){var Ne=Fe.clientX-u,rt=Fe.clientY-p;m=Ne*Ne+rt*rt>te}$.mouse("drag")}function ve(){ri(Fe.view).on("mousemove.drag mouseup.drag",null),Ni(Fe.view,m),ks(),$.mouse("end")}function ye(){if(x.apply(this,arguments)){var Ne,rt,bt=Fe.changedTouches,Tt=T.apply(this,arguments),Vt=bt.length;for(Ne=0;Ne<Vt;++Ne)(rt=Te(bt[Ne].identifier,Tt,ta,this,arguments))&&(bi(),rt("start"))}}function pe(){var Ne,rt,bt=Fe.changedTouches,Tt=bt.length;for(Ne=0;Ne<Tt;++Ne)(rt=$[bt[Ne].identifier])&&(ks(),rt("drag"))}function Ce(){var Ne,rt,bt=Fe.changedTouches,Tt=bt.length;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),Ne=0;Ne<Tt;++Ne)(rt=$[bt[Ne].identifier])&&(bi(),rt("end"))}function Te(Ne,rt,bt,Tt,Vt){var ft,Dt,Pe,Ge=bt(rt,Ne),Rt=j.copy();if(Jo(new Vf(G,"beforestart",ft,Ne,Y,Ge[0],Ge[1],0,0,Rt),function(){return(Fe.subject=ft=P.apply(Tt,Vt))!=null&&(Dt=ft.x-Ge[0]||0,Pe=ft.y-Ge[1]||0,!0)}))return function mt(Mt){var on,Fn=Ge;switch(Mt){case"start":$[Ne]=mt,on=Y++;break;case"end":delete $[Ne],--Y;case"drag":Ge=bt(rt,Ne),on=Y}Jo(new Vf(G,Mt,ft,Ne,on,Ge[0]+Dt,Ge[1]+Pe,Ge[0]-Fn[0],Ge[1]-Fn[1],Rt),Rt.apply,Rt,[Mt,Tt,Vt])}}return G.filter=function(Ne){return arguments.length?(x=typeof Ne=="function"?Ne:Id(!!Ne),G):x},G.container=function(Ne){return arguments.length?(T=typeof Ne=="function"?Ne:Id(Ne),G):T},G.subject=function(Ne){return arguments.length?(P=typeof Ne=="function"?Ne:Id(Ne),G):P},G.touchable=function(Ne){return arguments.length?(L=typeof Ne=="function"?Ne:Id(!!Ne),G):L},G.on=function(){var Ne=j.on.apply(j,arguments);return Ne===j?G:Ne},G.clickDistance=function(Ne){return arguments.length?(te=(Ne=+Ne)*Ne,G):Math.sqrt(te)},G}Vf.prototype.on=function(){var u=this._.on.apply(this._,arguments);return u===this._?this:u};var si={},T5={};function qp(u){return new Function("d","return {"+u.map(function(p,m){return JSON.stringify(p)+": d["+m+'] || ""'}).join(",")+"}")}function Vp(u){var p=Object.create(null),m=[];return u.forEach(function(b){for(var x in b)x in p||m.push(p[x]=x)}),m}function Ca(u,p){var m=u+"",b=m.length;return b<p?new Array(p-b+1).join(0)+m:m}function Wv(u){var p=new RegExp('["'+u+`
\r]`),m=u.charCodeAt(0);function b(L,$){var j,Y=[],te=L.length,G=0,le=0,ue=te<=0,ve=!1;function ye(){if(ue)return T5;if(ve)return ve=!1,si;var Ce,Te,Ne=G;if(L.charCodeAt(Ne)===34){for(;G++<te&&L.charCodeAt(G)!==34||L.charCodeAt(++G)===34;);return(Ce=G)>=te?ue=!0:(Te=L.charCodeAt(G++))===10?ve=!0:Te===13&&(ve=!0,L.charCodeAt(G)===10&&++G),L.slice(Ne+1,Ce-1).replace(/""/g,'"')}for(;G<te;){if((Te=L.charCodeAt(Ce=G++))===10)ve=!0;else if(Te===13)ve=!0,L.charCodeAt(G)===10&&++G;else if(Te!==m)continue;return L.slice(Ne,Ce)}return ue=!0,L.slice(Ne,te)}for(L.charCodeAt(te-1)===10&&--te,L.charCodeAt(te-1)===13&&--te;(j=ye())!==T5;){for(var pe=[];j!==si&&j!==T5;)pe.push(j),j=ye();$&&(pe=$(pe,le++))==null||Y.push(pe)}return Y}function x(L,$){return L.map(function(j){return $.map(function(Y){return P(j[Y])}).join(u)})}function T(L){return L.map(P).join(u)}function P(L){return L==null?"":L instanceof Date?function($){var j=$.getUTCHours(),Y=$.getUTCMinutes(),te=$.getUTCSeconds(),G=$.getUTCMilliseconds();return isNaN($)?"Invalid Date":function(le){return le<0?"-"+Ca(-le,6):le>9999?"+"+Ca(le,6):Ca(le,4)}($.getUTCFullYear())+"-"+Ca($.getUTCMonth()+1,2)+"-"+Ca($.getUTCDate(),2)+(G?"T"+Ca(j,2)+":"+Ca(Y,2)+":"+Ca(te,2)+"."+Ca(G,3)+"Z":te?"T"+Ca(j,2)+":"+Ca(Y,2)+":"+Ca(te,2)+"Z":Y||j?"T"+Ca(j,2)+":"+Ca(Y,2)+"Z":"")}(L):p.test(L+="")?'"'+L.replace(/"/g,'""')+'"':L}return{parse:function(L,$){var j,Y,te=b(L,function(G,le){if(j)return j(G,le-1);Y=G,j=$?function(ue,ve){var ye=qp(ue);return function(pe,Ce){return ve(ye(pe),Ce,ue)}}(G,$):qp(G)});return te.columns=Y||[],te},parseRows:b,format:function(L,$){return $==null&&($=Vp(L)),[$.map(P).join(u)].concat(x(L,$)).join(`
`)},formatBody:function(L,$){return $==null&&($=Vp(L)),x(L,$).join(`
`)},formatRows:function(L){return L.map(T).join(`
`)},formatRow:T,formatValue:P}}var Gf=Wv(","),l7=Gf.parse,JO=Gf.parseRows,c7=Gf.format,u7=Gf.formatBody,QO=Gf.formatRows,eL=Gf.formatRow,tL=Gf.formatValue,Rd=Wv("	"),d7=Rd.parse,f7=Rd.parseRows,nL=Rd.format,rL=Rd.formatBody,iL=Rd.formatRows,sL=Rd.formatRow,oL=Rd.formatValue;function aL(u){for(var p in u){var m,b,x=u[p].trim();if(x)if(x==="true")x=!0;else if(x==="false")x=!1;else if(x==="NaN")x=NaN;else if(isNaN(m=+x)){if(!(b=x.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;lL&&b[4]&&!b[7]&&(x=x.replace(/-/g,"/").replace(/T/," ")),x=new Date(x)}else x=m;else x=null;u[p]=x}return u}var lL=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function h7(u){return+u}function cL(u){return u*u}function uL(u){return u*(2-u)}function p7(u){return((u*=2)<=1?u*u:--u*(2-u)+1)/2}var g7=function u(p){function m(b){return Math.pow(b,p)}return p=+p,m.exponent=u,m}(3),dL=function u(p){function m(b){return 1-Math.pow(1-b,p)}return p=+p,m.exponent=u,m}(3),m7=function u(p){function m(b){return((b*=2)<=1?Math.pow(b,p):2-Math.pow(2-b,p))/2}return p=+p,m.exponent=u,m}(3),y7=Math.PI,v7=y7/2;function fL(u){return+u==1?1:1-Math.cos(u*v7)}function hL(u){return Math.sin(u*v7)}function C5(u){return(1-Math.cos(y7*u))/2}function Md(u){return 1.0009775171065494*(Math.pow(2,-10*u)-.0009765625)}function pL(u){return Md(1-+u)}function gL(u){return 1-Md(u)}function b7(u){return((u*=2)<=1?Md(1-u):2-Md(u-1))/2}function mL(u){return 1-Math.sqrt(1-u*u)}function yL(u){return Math.sqrt(1- --u*u)}function _7(u){return((u*=2)<=1?1-Math.sqrt(1-u*u):Math.sqrt(1-(u-=2)*u)+1)/2}var Yv=7.5625;function w7(u){return 1-Tm(1-u)}function Tm(u){return(u=+u)<.36363636363636365?Yv*u*u:u<.7272727272727273?Yv*(u-=.5454545454545454)*u+.75:u<.9090909090909091?Yv*(u-=.8181818181818182)*u+.9375:Yv*(u-=.9545454545454546)*u+.984375}function vL(u){return((u*=2)<=1?1-Tm(1-u):Tm(u-1)+1)/2}var I5=1.70158,E7=function u(p){function m(b){return(b=+b)*b*(p*(b-1)+b)}return p=+p,m.overshoot=u,m}(I5),bL=function u(p){function m(b){return--b*b*((b+1)*p+b)+1}return p=+p,m.overshoot=u,m}(I5),S7=function u(p){function m(b){return((b*=2)<1?b*b*((p+1)*b-p):(b-=2)*b*((p+1)*b+p)+2)/2}return p=+p,m.overshoot=u,m}(I5),Gp=2*Math.PI,_L=function u(p,m){var b=Math.asin(1/(p=Math.max(1,p)))*(m/=Gp);function x(T){return p*Md(- --T)*Math.sin((b-T)/m)}return x.amplitude=function(T){return u(T,m*Gp)},x.period=function(T){return u(p,T)},x}(1,.3),x7=function u(p,m){var b=Math.asin(1/(p=Math.max(1,p)))*(m/=Gp);function x(T){return 1-p*Md(T=+T)*Math.sin((T+b)/m)}return x.amplitude=function(T){return u(T,m*Gp)},x.period=function(T){return u(p,T)},x}(1,.3),wL=function u(p,m){var b=Math.asin(1/(p=Math.max(1,p)))*(m/=Gp);function x(T){return((T=2*T-1)<0?p*Md(-T)*Math.sin((b-T)/m):2-p*Md(T)*Math.sin((b+T)/m))/2}return x.amplitude=function(T){return u(T,m*Gp)},x.period=function(T){return u(p,T)},x}(1,.3);function k7(u){if(!u.ok)throw new Error(u.status+" "+u.statusText);return u.blob()}function EL(u,p){return fetch(u,p).then(k7)}function SL(u){if(!u.ok)throw new Error(u.status+" "+u.statusText);return u.arrayBuffer()}function xL(u,p){return fetch(u,p).then(SL)}function kL(u){if(!u.ok)throw new Error(u.status+" "+u.statusText);return u.text()}function Xv(u,p){return fetch(u,p).then(kL)}function T7(u){return function(p,m,b){return arguments.length===2&&typeof m=="function"&&(b=m,m=void 0),Xv(p,m).then(function(x){return u(x,b)})}}function TL(u,p,m,b){arguments.length===3&&typeof m=="function"&&(b=m,m=void 0);var x=Wv(u);return Xv(p,m).then(function(T){return x.parse(T,b)})}var CL=T7(l7),C7=T7(d7);function I7(u,p){return new Promise(function(m,b){var x=new Image;for(var T in p)x[T]=p[T];x.onerror=b,x.onload=function(){m(x)},x.src=u})}function R7(u){if(!u.ok)throw new Error(u.status+" "+u.statusText);if(u.status!==204&&u.status!==205)return u.json()}function IL(u,p){return fetch(u,p).then(R7)}function R5(u){return function(p,m){return Xv(p,m).then(function(b){return new DOMParser().parseFromString(b,u)})}}const M7=R5("application/xml");var RL=R5("text/html"),M5=R5("image/svg+xml");function O7(u,p){var m;function b(){var x,T,P=m.length,L=0,$=0;for(x=0;x<P;++x)L+=(T=m[x]).x,$+=T.y;for(L=L/P-u,$=$/P-p,x=0;x<P;++x)(T=m[x]).x-=L,T.y-=$}return u==null&&(u=0),p==null&&(p=0),b.initialize=function(x){m=x},b.x=function(x){return arguments.length?(u=+x,b):u},b.y=function(x){return arguments.length?(p=+x,b):p},b}function qs(u){return function(){return u}}function Ru(){return 1e-6*(Math.random()-.5)}function O5(u,p,m,b){if(isNaN(p)||isNaN(m))return u;var x,T,P,L,$,j,Y,te,G,le=u._root,ue={data:b},ve=u._x0,ye=u._y0,pe=u._x1,Ce=u._y1;if(!le)return u._root=ue,u;for(;le.length;)if((j=p>=(T=(ve+pe)/2))?ve=T:pe=T,(Y=m>=(P=(ye+Ce)/2))?ye=P:Ce=P,x=le,!(le=le[te=Y<<1|j]))return x[te]=ue,u;if(L=+u._x.call(null,le.data),$=+u._y.call(null,le.data),p===L&&m===$)return ue.next=le,x?x[te]=ue:u._root=ue,u;do x=x?x[te]=new Array(4):u._root=new Array(4),(j=p>=(T=(ve+pe)/2))?ve=T:pe=T,(Y=m>=(P=(ye+Ce)/2))?ye=P:Ce=P;while((te=Y<<1|j)==(G=($>=P)<<1|L>=T));return x[G]=le,x[te]=ue,u}function Fo(u,p,m,b,x){this.node=u,this.x0=p,this.y0=m,this.x1=b,this.y1=x}function ML(u){return u[0]}function OL(u){return u[1]}function Zv(u,p,m){var b=new L5(p==null?ML:p,m==null?OL:m,NaN,NaN,NaN,NaN);return u==null?b:b.addAll(u)}function L5(u,p,m,b,x,T){this._x=u,this._y=p,this._x0=m,this._y0=b,this._x1=x,this._y1=T,this._root=void 0}function A5(u){for(var p={data:u.data},m=p;u=u.next;)m=m.next={data:u.data};return p}var so=Zv.prototype=L5.prototype;function LL(u){return u.x+u.vx}function AL(u){return u.y+u.vy}function PL(u){var p,m,b=1,x=1;function T(){for(var $,j,Y,te,G,le,ue,ve=p.length,ye=0;ye<x;++ye)for(j=Zv(p,LL,AL).visitAfter(P),$=0;$<ve;++$)Y=p[$],le=m[Y.index],ue=le*le,te=Y.x+Y.vx,G=Y.y+Y.vy,j.visit(pe);function pe(Ce,Te,Ne,rt,bt){var Tt=Ce.data,Vt=Ce.r,ft=le+Vt;if(!Tt)return Te>te+ft||rt<te-ft||Ne>G+ft||bt<G-ft;if(Tt.index>Y.index){var Dt=te-Tt.x-Tt.vx,Pe=G-Tt.y-Tt.vy,Ge=Dt*Dt+Pe*Pe;Ge<ft*ft&&(Dt===0&&(Ge+=(Dt=Ru())*Dt),Pe===0&&(Ge+=(Pe=Ru())*Pe),Ge=(ft-(Ge=Math.sqrt(Ge)))/Ge*b,Y.vx+=(Dt*=Ge)*(ft=(Vt*=Vt)/(ue+Vt)),Y.vy+=(Pe*=Ge)*ft,Tt.vx-=Dt*(ft=1-ft),Tt.vy-=Pe*ft)}}}function P($){if($.data)return $.r=m[$.data.index];for(var j=$.r=0;j<4;++j)$[j]&&$[j].r>$.r&&($.r=$[j].r)}function L(){if(p){var $,j,Y=p.length;for(m=new Array(Y),$=0;$<Y;++$)j=p[$],m[j.index]=+u(j,$,p)}}return typeof u!="function"&&(u=qs(u==null?1:+u)),T.initialize=function($){p=$,L()},T.iterations=function($){return arguments.length?(x=+$,T):x},T.strength=function($){return arguments.length?(b=+$,T):b},T.radius=function($){return arguments.length?(u=typeof $=="function"?$:qs(+$),L(),T):u},T}function DL(u){return u.index}function L7(u,p){var m=u.get(p);if(!m)throw new Error("missing: "+p);return m}function NL(u){var p,m,b,x,T,P=DL,L=function(ue){return 1/Math.min(x[ue.source.index],x[ue.target.index])},$=qs(30),j=1;function Y(ue){for(var ve=0,ye=u.length;ve<j;++ve)for(var pe,Ce,Te,Ne,rt,bt,Tt,Vt=0;Vt<ye;++Vt)Ce=(pe=u[Vt]).source,Ne=(Te=pe.target).x+Te.vx-Ce.x-Ce.vx||Ru(),rt=Te.y+Te.vy-Ce.y-Ce.vy||Ru(),Ne*=bt=((bt=Math.sqrt(Ne*Ne+rt*rt))-m[Vt])/bt*ue*p[Vt],rt*=bt,Te.vx-=Ne*(Tt=T[Vt]),Te.vy-=rt*Tt,Ce.vx+=Ne*(Tt=1-Tt),Ce.vy+=rt*Tt}function te(){if(b){var ue,ve,ye=b.length,pe=u.length,Ce=Tu(b,P);for(ue=0,x=new Array(ye);ue<pe;++ue)(ve=u[ue]).index=ue,typeof ve.source!="object"&&(ve.source=L7(Ce,ve.source)),typeof ve.target!="object"&&(ve.target=L7(Ce,ve.target)),x[ve.source.index]=(x[ve.source.index]||0)+1,x[ve.target.index]=(x[ve.target.index]||0)+1;for(ue=0,T=new Array(pe);ue<pe;++ue)ve=u[ue],T[ue]=x[ve.source.index]/(x[ve.source.index]+x[ve.target.index]);p=new Array(pe),G(),m=new Array(pe),le()}}function G(){if(b)for(var ue=0,ve=u.length;ue<ve;++ue)p[ue]=+L(u[ue],ue,u)}function le(){if(b)for(var ue=0,ve=u.length;ue<ve;++ue)m[ue]=+$(u[ue],ue,u)}return u==null&&(u=[]),Y.initialize=function(ue){b=ue,te()},Y.links=function(ue){return arguments.length?(u=ue,te(),Y):u},Y.id=function(ue){return arguments.length?(P=ue,Y):P},Y.iterations=function(ue){return arguments.length?(j=+ue,Y):j},Y.strength=function(ue){return arguments.length?(L=typeof ue=="function"?ue:qs(+ue),G(),Y):L},Y.distance=function(ue){return arguments.length?($=typeof ue=="function"?ue:qs(+ue),le(),Y):$},Y}function P5(u){return u.x}function A7(u){return u.y}so.copy=function(){var u,p,m=new L5(this._x,this._y,this._x0,this._y0,this._x1,this._y1),b=this._root;if(!b)return m;if(!b.length)return m._root=A5(b),m;for(u=[{source:b,target:m._root=new Array(4)}];b=u.pop();)for(var x=0;x<4;++x)(p=b.source[x])&&(p.length?u.push({source:p,target:b.target[x]=new Array(4)}):b.target[x]=A5(p));return m},so.add=function(u){var p=+this._x.call(null,u),m=+this._y.call(null,u);return O5(this.cover(p,m),p,m,u)},so.addAll=function(u){var p,m,b,x,T=u.length,P=new Array(T),L=new Array(T),$=1/0,j=1/0,Y=-1/0,te=-1/0;for(m=0;m<T;++m)isNaN(b=+this._x.call(null,p=u[m]))||isNaN(x=+this._y.call(null,p))||(P[m]=b,L[m]=x,b<$&&($=b),b>Y&&(Y=b),x<j&&(j=x),x>te&&(te=x));if($>Y||j>te)return this;for(this.cover($,j).cover(Y,te),m=0;m<T;++m)O5(this,P[m],L[m],u[m]);return this},so.cover=function(u,p){if(isNaN(u=+u)||isNaN(p=+p))return this;var m=this._x0,b=this._y0,x=this._x1,T=this._y1;if(isNaN(m))x=(m=Math.floor(u))+1,T=(b=Math.floor(p))+1;else{for(var P,L,$=x-m,j=this._root;m>u||u>=x||b>p||p>=T;)switch(L=(p<b)<<1|u<m,(P=new Array(4))[L]=j,j=P,$*=2,L){case 0:x=m+$,T=b+$;break;case 1:m=x-$,T=b+$;break;case 2:x=m+$,b=T-$;break;case 3:m=x-$,b=T-$}this._root&&this._root.length&&(this._root=j)}return this._x0=m,this._y0=b,this._x1=x,this._y1=T,this},so.data=function(){var u=[];return this.visit(function(p){if(!p.length)do u.push(p.data);while(p=p.next)}),u},so.extent=function(u){return arguments.length?this.cover(+u[0][0],+u[0][1]).cover(+u[1][0],+u[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},so.find=function(u,p,m){var b,x,T,P,L,$,j,Y=this._x0,te=this._y0,G=this._x1,le=this._y1,ue=[],ve=this._root;for(ve&&ue.push(new Fo(ve,Y,te,G,le)),m==null?m=1/0:(Y=u-m,te=p-m,G=u+m,le=p+m,m*=m);$=ue.pop();)if(!(!(ve=$.node)||(x=$.x0)>G||(T=$.y0)>le||(P=$.x1)<Y||(L=$.y1)<te))if(ve.length){var ye=(x+P)/2,pe=(T+L)/2;ue.push(new Fo(ve[3],ye,pe,P,L),new Fo(ve[2],x,pe,ye,L),new Fo(ve[1],ye,T,P,pe),new Fo(ve[0],x,T,ye,pe)),(j=(p>=pe)<<1|u>=ye)&&($=ue[ue.length-1],ue[ue.length-1]=ue[ue.length-1-j],ue[ue.length-1-j]=$)}else{var Ce=u-+this._x.call(null,ve.data),Te=p-+this._y.call(null,ve.data),Ne=Ce*Ce+Te*Te;if(Ne<m){var rt=Math.sqrt(m=Ne);Y=u-rt,te=p-rt,G=u+rt,le=p+rt,b=ve.data}}return b},so.remove=function(u){if(isNaN(T=+this._x.call(null,u))||isNaN(P=+this._y.call(null,u)))return this;var p,m,b,x,T,P,L,$,j,Y,te,G,le=this._root,ue=this._x0,ve=this._y0,ye=this._x1,pe=this._y1;if(!le)return this;if(le.length)for(;;){if((j=T>=(L=(ue+ye)/2))?ue=L:ye=L,(Y=P>=($=(ve+pe)/2))?ve=$:pe=$,p=le,!(le=le[te=Y<<1|j]))return this;if(!le.length)break;(p[te+1&3]||p[te+2&3]||p[te+3&3])&&(m=p,G=te)}for(;le.data!==u;)if(b=le,!(le=le.next))return this;return(x=le.next)&&delete le.next,b?(x?b.next=x:delete b.next,this):p?(x?p[te]=x:delete p[te],(le=p[0]||p[1]||p[2]||p[3])&&le===(p[3]||p[2]||p[1]||p[0])&&!le.length&&(m?m[G]=le:this._root=le),this):(this._root=x,this)},so.removeAll=function(u){for(var p=0,m=u.length;p<m;++p)this.remove(u[p]);return this},so.root=function(){return this._root},so.size=function(){var u=0;return this.visit(function(p){if(!p.length)do++u;while(p=p.next)}),u},so.visit=function(u){var p,m,b,x,T,P,L=[],$=this._root;for($&&L.push(new Fo($,this._x0,this._y0,this._x1,this._y1));p=L.pop();)if(!u($=p.node,b=p.x0,x=p.y0,T=p.x1,P=p.y1)&&$.length){var j=(b+T)/2,Y=(x+P)/2;(m=$[3])&&L.push(new Fo(m,j,Y,T,P)),(m=$[2])&&L.push(new Fo(m,b,Y,j,P)),(m=$[1])&&L.push(new Fo(m,j,x,T,Y)),(m=$[0])&&L.push(new Fo(m,b,x,j,Y))}return this},so.visitAfter=function(u){var p,m=[],b=[];for(this._root&&m.push(new Fo(this._root,this._x0,this._y0,this._x1,this._y1));p=m.pop();){var x=p.node;if(x.length){var T,P=p.x0,L=p.y0,$=p.x1,j=p.y1,Y=(P+$)/2,te=(L+j)/2;(T=x[0])&&m.push(new Fo(T,P,L,Y,te)),(T=x[1])&&m.push(new Fo(T,Y,L,$,te)),(T=x[2])&&m.push(new Fo(T,P,te,Y,j)),(T=x[3])&&m.push(new Fo(T,Y,te,$,j))}b.push(p)}for(;p=b.pop();)u(p.node,p.x0,p.y0,p.x1,p.y1);return this},so.x=function(u){return arguments.length?(this._x=u,this):this._x},so.y=function(u){return arguments.length?(this._y=u,this):this._y};var Jv=Math.PI*(3-Math.sqrt(5));function BL(u){var p,m=1,b=.001,x=1-Math.pow(b,1/300),T=0,P=.6,L=Tu(),$=Ft(Y),j=Ut("tick","end");function Y(){te(),j.call("tick",p),m<b&&($.stop(),j.call("end",p))}function te(ue){var ve,ye,pe=u.length;ue===void 0&&(ue=1);for(var Ce=0;Ce<ue;++Ce)for(m+=(T-m)*x,L.each(function(Te){Te(m)}),ve=0;ve<pe;++ve)(ye=u[ve]).fx==null?ye.x+=ye.vx*=P:(ye.x=ye.fx,ye.vx=0),ye.fy==null?ye.y+=ye.vy*=P:(ye.y=ye.fy,ye.vy=0);return p}function G(){for(var ue,ve=0,ye=u.length;ve<ye;++ve){if((ue=u[ve]).index=ve,ue.fx!=null&&(ue.x=ue.fx),ue.fy!=null&&(ue.y=ue.fy),isNaN(ue.x)||isNaN(ue.y)){var pe=10*Math.sqrt(ve),Ce=ve*Jv;ue.x=pe*Math.cos(Ce),ue.y=pe*Math.sin(Ce)}(isNaN(ue.vx)||isNaN(ue.vy))&&(ue.vx=ue.vy=0)}}function le(ue){return ue.initialize&&ue.initialize(u),ue}return u==null&&(u=[]),G(),p={tick:te,restart:function(){return $.restart(Y),p},stop:function(){return $.stop(),p},nodes:function(ue){return arguments.length?(u=ue,G(),L.each(le),p):u},alpha:function(ue){return arguments.length?(m=+ue,p):m},alphaMin:function(ue){return arguments.length?(b=+ue,p):b},alphaDecay:function(ue){return arguments.length?(x=+ue,p):+x},alphaTarget:function(ue){return arguments.length?(T=+ue,p):T},velocityDecay:function(ue){return arguments.length?(P=1-ue,p):1-P},force:function(ue,ve){return arguments.length>1?(ve==null?L.remove(ue):L.set(ue,le(ve)),p):L.get(ue)},find:function(ue,ve,ye){var pe,Ce,Te,Ne,rt,bt=0,Tt=u.length;for(ye==null?ye=1/0:ye*=ye,bt=0;bt<Tt;++bt)(Te=(pe=ue-(Ne=u[bt]).x)*pe+(Ce=ve-Ne.y)*Ce)<ye&&(rt=Ne,ye=Te);return rt},on:function(ue,ve){return arguments.length>1?(j.on(ue,ve),p):j.on(ue)}}}function $L(){var u,p,m,b,x=qs(-30),T=1,P=1/0,L=.81;function $(G){var le,ue=u.length,ve=Zv(u,P5,A7).visitAfter(Y);for(m=G,le=0;le<ue;++le)p=u[le],ve.visit(te)}function j(){if(u){var G,le,ue=u.length;for(b=new Array(ue),G=0;G<ue;++G)le=u[G],b[le.index]=+x(le,G,u)}}function Y(G){var le,ue,ve,ye,pe,Ce=0,Te=0;if(G.length){for(ve=ye=pe=0;pe<4;++pe)(le=G[pe])&&(ue=Math.abs(le.value))&&(Ce+=le.value,Te+=ue,ve+=ue*le.x,ye+=ue*le.y);G.x=ve/Te,G.y=ye/Te}else{(le=G).x=le.data.x,le.y=le.data.y;do Ce+=b[le.data.index];while(le=le.next)}G.value=Ce}function te(G,le,ue,ve){if(!G.value)return!0;var ye=G.x-p.x,pe=G.y-p.y,Ce=ve-le,Te=ye*ye+pe*pe;if(Ce*Ce/L<Te)return Te<P&&(ye===0&&(Te+=(ye=Ru())*ye),pe===0&&(Te+=(pe=Ru())*pe),Te<T&&(Te=Math.sqrt(T*Te)),p.vx+=ye*G.value*m/Te,p.vy+=pe*G.value*m/Te),!0;if(!(G.length||Te>=P)){(G.data!==p||G.next)&&(ye===0&&(Te+=(ye=Ru())*ye),pe===0&&(Te+=(pe=Ru())*pe),Te<T&&(Te=Math.sqrt(T*Te)));do G.data!==p&&(Ce=b[G.data.index]*m/Te,p.vx+=ye*Ce,p.vy+=pe*Ce);while(G=G.next)}}return $.initialize=function(G){u=G,j()},$.strength=function(G){return arguments.length?(x=typeof G=="function"?G:qs(+G),j(),$):x},$.distanceMin=function(G){return arguments.length?(T=G*G,$):Math.sqrt(T)},$.distanceMax=function(G){return arguments.length?(P=G*G,$):Math.sqrt(P)},$.theta=function(G){return arguments.length?(L=G*G,$):Math.sqrt(L)},$}function FL(u,p,m){var b,x,T,P=qs(.1);function L(j){for(var Y=0,te=b.length;Y<te;++Y){var G=b[Y],le=G.x-p||1e-6,ue=G.y-m||1e-6,ve=Math.sqrt(le*le+ue*ue),ye=(T[Y]-ve)*x[Y]*j/ve;G.vx+=le*ye,G.vy+=ue*ye}}function $(){if(b){var j,Y=b.length;for(x=new Array(Y),T=new Array(Y),j=0;j<Y;++j)T[j]=+u(b[j],j,b),x[j]=isNaN(T[j])?0:+P(b[j],j,b)}}return typeof u!="function"&&(u=qs(+u)),p==null&&(p=0),m==null&&(m=0),L.initialize=function(j){b=j,$()},L.strength=function(j){return arguments.length?(P=typeof j=="function"?j:qs(+j),$(),L):P},L.radius=function(j){return arguments.length?(u=typeof j=="function"?j:qs(+j),$(),L):u},L.x=function(j){return arguments.length?(p=+j,L):p},L.y=function(j){return arguments.length?(m=+j,L):m},L}function UL(u){var p,m,b,x=qs(.1);function T(L){for(var $,j=0,Y=p.length;j<Y;++j)($=p[j]).vx+=(b[j]-$.x)*m[j]*L}function P(){if(p){var L,$=p.length;for(m=new Array($),b=new Array($),L=0;L<$;++L)m[L]=isNaN(b[L]=+u(p[L],L,p))?0:+x(p[L],L,p)}}return typeof u!="function"&&(u=qs(u==null?0:+u)),T.initialize=function(L){p=L,P()},T.strength=function(L){return arguments.length?(x=typeof L=="function"?L:qs(+L),P(),T):x},T.x=function(L){return arguments.length?(u=typeof L=="function"?L:qs(+L),P(),T):u},T}function HL(u){var p,m,b,x=qs(.1);function T(L){for(var $,j=0,Y=p.length;j<Y;++j)($=p[j]).vy+=(b[j]-$.y)*m[j]*L}function P(){if(p){var L,$=p.length;for(m=new Array($),b=new Array($),L=0;L<$;++L)m[L]=isNaN(b[L]=+u(p[L],L,p))?0:+x(p[L],L,p)}}return typeof u!="function"&&(u=qs(u==null?0:+u)),T.initialize=function(L){p=L,P()},T.strength=function(L){return arguments.length?(x=typeof L=="function"?L:qs(+L),P(),T):x},T.y=function(L){return arguments.length?(u=typeof L=="function"?L:qs(+L),P(),T):u},T}function Qv(u,p){if((m=(u=p?u.toExponential(p-1):u.toExponential()).indexOf("e"))<0)return null;var m,b=u.slice(0,m);return[b.length>1?b[0]+b.slice(2):b,+u.slice(m+1)]}function Wf(u){return(u=Qv(Math.abs(u)))?u[1]:NaN}var P7,jL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cm(u){if(!(p=jL.exec(u)))throw new Error("invalid format: "+u);var p;return new Mu({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function Mu(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function D7(u,p){var m=Qv(u,p);if(!m)return u+"";var b=m[0],x=m[1];return x<0?"0."+new Array(-x).join("0")+b:b.length>x+1?b.slice(0,x+1)+"."+b.slice(x+1):b+new Array(x-b.length+2).join("0")}Cm.prototype=Mu.prototype,Mu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const N7={"%":function(u,p){return(100*u).toFixed(p)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,p){return u.toExponential(p)},f:function(u,p){return u.toFixed(p)},g:function(u,p){return u.toPrecision(p)},o:function(u){return Math.round(u).toString(8)},p:function(u,p){return D7(100*u,p)},r:D7,s:function(u,p){var m=Qv(u,p);if(!m)return u+"";var b=m[0],x=m[1],T=x-(P7=3*Math.max(-8,Math.min(8,Math.floor(x/3))))+1,P=b.length;return T===P?b:T>P?b+new Array(T-P+1).join("0"):T>0?b.slice(0,T)+"."+b.slice(T):"0."+new Array(1-T).join("0")+Qv(u,Math.max(0,p+T-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function B7(u){return u}var Im,Wp,e2,D5=Array.prototype.map,N5=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function $7(u){var p,m,b=u.grouping===void 0||u.thousands===void 0?B7:(p=D5.call(u.grouping,Number),m=u.thousands+"",function(G,le){for(var ue=G.length,ve=[],ye=0,pe=p[0],Ce=0;ue>0&&pe>0&&(Ce+pe+1>le&&(pe=Math.max(1,le-Ce)),ve.push(G.substring(ue-=pe,ue+pe)),!((Ce+=pe+1)>le));)pe=p[ye=(ye+1)%p.length];return ve.reverse().join(m)}),x=u.currency===void 0?"":u.currency[0]+"",T=u.currency===void 0?"":u.currency[1]+"",P=u.decimal===void 0?".":u.decimal+"",L=u.numerals===void 0?B7:function(G){return function(le){return le.replace(/[0-9]/g,function(ue){return G[+ue]})}}(D5.call(u.numerals,String)),$=u.percent===void 0?"%":u.percent+"",j=u.minus===void 0?"-":u.minus+"",Y=u.nan===void 0?"NaN":u.nan+"";function te(G){var le=(G=Cm(G)).fill,ue=G.align,ve=G.sign,ye=G.symbol,pe=G.zero,Ce=G.width,Te=G.comma,Ne=G.precision,rt=G.trim,bt=G.type;bt==="n"?(Te=!0,bt="g"):N7[bt]||(Ne===void 0&&(Ne=12),rt=!0,bt="g"),(pe||le==="0"&&ue==="=")&&(pe=!0,le="0",ue="=");var Tt=ye==="$"?x:ye==="#"&&/[boxX]/.test(bt)?"0"+bt.toLowerCase():"",Vt=ye==="$"?T:/[%p]/.test(bt)?$:"",ft=N7[bt],Dt=/[defgprs%]/.test(bt);function Pe(Ge){var Rt,mt,Mt,on=Tt,Fn=Vt;if(bt==="c")Fn=ft(Ge)+Fn,Ge="";else{var yr=(Ge=+Ge)<0||1/Ge<0;if(Ge=isNaN(Ge)?Y:ft(Math.abs(Ge),Ne),rt&&(Ge=function(Wn){e:for(var ti,Sr=Wn.length,wr=1,er=-1;wr<Sr;++wr)switch(Wn[wr]){case".":er=ti=wr;break;case"0":er===0&&(er=wr),ti=wr;break;default:if(!+Wn[wr])break e;er>0&&(er=0)}return er>0?Wn.slice(0,er)+Wn.slice(ti+1):Wn}(Ge)),yr&&+Ge==0&&ve!=="+"&&(yr=!1),on=(yr?ve==="("?ve:j:ve==="-"||ve==="("?"":ve)+on,Fn=(bt==="s"?N5[8+P7/3]:"")+Fn+(yr&&ve==="("?")":""),Dt){for(Rt=-1,mt=Ge.length;++Rt<mt;)if(48>(Mt=Ge.charCodeAt(Rt))||Mt>57){Fn=(Mt===46?P+Ge.slice(Rt+1):Ge.slice(Rt))+Fn,Ge=Ge.slice(0,Rt);break}}}Te&&!pe&&(Ge=b(Ge,1/0));var Br=on.length+Ge.length+Fn.length,zr=Br<Ce?new Array(Ce-Br+1).join(le):"";switch(Te&&pe&&(Ge=b(zr+Ge,zr.length?Ce-Fn.length:1/0),zr=""),ue){case"<":Ge=on+Ge+Fn+zr;break;case"=":Ge=on+zr+Ge+Fn;break;case"^":Ge=zr.slice(0,Br=zr.length>>1)+on+Ge+Fn+zr.slice(Br);break;default:Ge=zr+on+Ge+Fn}return L(Ge)}return Ne=Ne===void 0?6:/[gprs]/.test(bt)?Math.max(1,Math.min(21,Ne)):Math.max(0,Math.min(20,Ne)),Pe.toString=function(){return G+""},Pe}return{format:te,formatPrefix:function(G,le){var ue=te(((G=Cm(G)).type="f",G)),ve=3*Math.max(-8,Math.min(8,Math.floor(Wf(le)/3))),ye=Math.pow(10,-ve),pe=N5[8+ve/3];return function(Ce){return ue(ye*Ce)+pe}}}}function F7(u){return Im=$7(u),Wp=Im.format,e2=Im.formatPrefix,Im}function U7(u){return Math.max(0,-Wf(Math.abs(u)))}function H7(u,p){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wf(p)/3)))-Wf(Math.abs(u)))}function j7(u,p){return u=Math.abs(u),p=Math.abs(p)-u,Math.max(0,Wf(p)-Wf(u))+1}function Od(){return new t2}function t2(){this.reset()}F7({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t2.prototype={constructor:t2,reset:function(){this.s=this.t=0},add:function(u){K7(n2,u,this.t),K7(this,n2.s,this.s),this.s?this.t+=n2.t:this.s=n2.t},valueOf:function(){return this.s}};var n2=new t2;function K7(u,p,m){var b=u.s=p+m,x=b-p,T=b-x;u.t=p-T+(m-x)}var Rr=1e-6,r2=1e-12,jr=Math.PI,ms=jr/2,Rm=jr/4,ra=2*jr,Fi=180/jr,br=jr/180,Xr=Math.abs,Yp=Math.atan,ia=Math.atan2,lr=Math.cos,Mm=Math.ceil,z7=Math.exp,i2=Math.log,Om=Math.pow,On=Math.sin,ll=Math.sign||function(u){return u>0?1:u<0?-1:0},us=Math.sqrt,jn=Math.tan;function s2(u){return u>1?0:u<-1?jr:Math.acos(u)}function bo(u){return u>1?ms:u<-1?-ms:Math.asin(u)}function o2(u){return(u=On(u/2))*u}function Oi(){}function a2(u,p){u&&B5.hasOwnProperty(u.type)&&B5[u.type](u,p)}var l2={Feature:function(u,p){a2(u.geometry,p)},FeatureCollection:function(u,p){for(var m=u.features,b=-1,x=m.length;++b<x;)a2(m[b].geometry,p)}},B5={Sphere:function(u,p){p.sphere()},Point:function(u,p){u=u.coordinates,p.point(u[0],u[1],u[2])},MultiPoint:function(u,p){for(var m=u.coordinates,b=-1,x=m.length;++b<x;)u=m[b],p.point(u[0],u[1],u[2])},LineString:function(u,p){c2(u.coordinates,p,0)},MultiLineString:function(u,p){for(var m=u.coordinates,b=-1,x=m.length;++b<x;)c2(m[b],p,0)},Polygon:function(u,p){ys(u.coordinates,p)},MultiPolygon:function(u,p){for(var m=u.coordinates,b=-1,x=m.length;++b<x;)ys(m[b],p)},GeometryCollection:function(u,p){for(var m=u.geometries,b=-1,x=m.length;++b<x;)a2(m[b],p)}};function c2(u,p,m){var b,x=-1,T=u.length-m;for(p.lineStart();++x<T;)b=u[x],p.point(b[0],b[1],b[2]);p.lineEnd()}function ys(u,p){var m=-1,b=u.length;for(p.polygonStart();++m<b;)c2(u[m],p,1);p.polygonEnd()}function Rl(u,p){u&&l2.hasOwnProperty(u.type)?l2[u.type](u,p):a2(u,p)}var _o,Ld,$5,Lm,Ml,Ou=Od(),wo=Od(),Ia={point:Oi,lineStart:Oi,lineEnd:Oi,polygonStart:function(){Ou.reset(),Ia.lineStart=u2,Ia.lineEnd=d2},polygonEnd:function(){var u=+Ou;wo.add(u<0?ra+u:u),this.lineStart=this.lineEnd=this.point=Oi},sphere:function(){wo.add(ra)}};function u2(){Ia.point=KL}function d2(){F5(_o,Ld)}function KL(u,p){Ia.point=F5,_o=u,Ld=p,$5=u*=br,Lm=lr(p=(p*=br)/2+Rm),Ml=On(p)}function F5(u,p){var m=(u*=br)-$5,b=m>=0?1:-1,x=b*m,T=lr(p=(p*=br)/2+Rm),P=On(p),L=Ml*P,$=Lm*T+L*lr(x),j=L*b*On(x);Ou.add(ia(j,$)),$5=u,Lm=T,Ml=P}function zL(u){return wo.reset(),Rl(u,Ia),2*wo}function f2(u){return[ia(u[1],u[0]),bo(u[2])]}function Yf(u){var p=u[0],m=u[1],b=lr(m);return[b*lr(p),b*On(p),On(m)]}function h2(u,p){return u[0]*p[0]+u[1]*p[1]+u[2]*p[2]}function Xp(u,p){return[u[1]*p[2]-u[2]*p[1],u[2]*p[0]-u[0]*p[2],u[0]*p[1]-u[1]*p[0]]}function U5(u,p){u[0]+=p[0],u[1]+=p[1],u[2]+=p[2]}function Xf(u,p){return[u[0]*p,u[1]*p,u[2]*p]}function Zp(u){var p=us(u[0]*u[0]+u[1]*u[1]+u[2]*u[2]);u[0]/=p,u[1]/=p,u[2]/=p}var rs,sa,pi,cl,Zf,Jf,q7,Jp,oc,Ol,Qp,Lu,Am,Pm,Dm,Nm,Bm,$m,Fm,e1,p2,H5,j5,Uo,oo,Eo,Qf=Od(),So={point:g2,lineStart:Ad,lineEnd:z5,polygonStart:function(){So.point=Um,So.lineStart=qL,So.lineEnd=VL,Qf.reset(),Ia.polygonStart()},polygonEnd:function(){Ia.polygonEnd(),So.point=g2,So.lineStart=Ad,So.lineEnd=z5,Ou<0?(rs=-(pi=180),sa=-(cl=90)):Qf>Rr?cl=90:Qf<-1e-6&&(sa=-90),Ol[0]=rs,Ol[1]=pi},sphere:function(){rs=-(pi=180),sa=-(cl=90)}};function g2(u,p){oc.push(Ol=[rs=u,pi=u]),p<sa&&(sa=p),p>cl&&(cl=p)}function K5(u,p){var m=Yf([u*br,p*br]);if(Jp){var b=Xp(Jp,m),x=Xp([b[1],-b[0],0],b);Zp(x),x=f2(x);var T,P=u-Zf,L=P>0?1:-1,$=x[0]*Fi*L,j=Xr(P)>180;j^(L*Zf<$&&$<L*u)?(T=x[1]*Fi)>cl&&(cl=T):j^(L*Zf<($=($+360)%360-180)&&$<L*u)?(T=-x[1]*Fi)<sa&&(sa=T):(p<sa&&(sa=p),p>cl&&(cl=p)),j?u<Zf?ao(rs,u)>ao(rs,pi)&&(pi=u):ao(u,pi)>ao(rs,pi)&&(rs=u):pi>=rs?(u<rs&&(rs=u),u>pi&&(pi=u)):u>Zf?ao(rs,u)>ao(rs,pi)&&(pi=u):ao(u,pi)>ao(rs,pi)&&(rs=u)}else oc.push(Ol=[rs=u,pi=u]);p<sa&&(sa=p),p>cl&&(cl=p),Jp=m,Zf=u}function Ad(){So.point=K5}function z5(){Ol[0]=rs,Ol[1]=pi,So.point=g2,Jp=null}function Um(u,p){if(Jp){var m=u-Zf;Qf.add(Xr(m)>180?m+(m>0?360:-360):m)}else Jf=u,q7=p;Ia.point(u,p),K5(u,p)}function qL(){Ia.lineStart()}function VL(){Um(Jf,q7),Ia.lineEnd(),Xr(Qf)>Rr&&(rs=-(pi=180)),Ol[0]=rs,Ol[1]=pi,Jp=null}function ao(u,p){return(p-=u)<0?p+360:p}function GL(u,p){return u[0]-p[0]}function V7(u,p){return u[0]<=u[1]?u[0]<=p&&p<=u[1]:p<u[0]||u[1]<p}function G7(u){var p,m,b,x,T,P,L;if(cl=pi=-(rs=sa=1/0),oc=[],Rl(u,So),m=oc.length){for(oc.sort(GL),p=1,T=[b=oc[0]];p<m;++p)V7(b,(x=oc[p])[0])||V7(b,x[1])?(ao(b[0],x[1])>ao(b[0],b[1])&&(b[1]=x[1]),ao(x[0],b[1])>ao(b[0],b[1])&&(b[0]=x[0])):T.push(b=x);for(P=-1/0,p=0,b=T[m=T.length-1];p<=m;b=x,++p)x=T[p],(L=ao(b[1],x[0]))>P&&(P=L,rs=x[0],pi=b[1])}return oc=Ol=null,rs===1/0||sa===1/0?[[NaN,NaN],[NaN,NaN]]:[[rs,sa],[pi,cl]]}var Ll={sphere:Oi,point:Au,lineStart:Hm,lineEnd:eh,polygonStart:function(){Ll.lineStart=XL,Ll.lineEnd=ZL},polygonEnd:function(){Ll.lineStart=Hm,Ll.lineEnd=eh}};function Au(u,p){u*=br;var m=lr(p*=br);t1(m*lr(u),m*On(u),On(p))}function t1(u,p,m){++Qp,Am+=(u-Am)/Qp,Pm+=(p-Pm)/Qp,Dm+=(m-Dm)/Qp}function Hm(){Ll.point=WL}function WL(u,p){u*=br;var m=lr(p*=br);Uo=m*lr(u),oo=m*On(u),Eo=On(p),Ll.point=YL,t1(Uo,oo,Eo)}function YL(u,p){u*=br;var m=lr(p*=br),b=m*lr(u),x=m*On(u),T=On(p),P=ia(us((P=oo*T-Eo*x)*P+(P=Eo*b-Uo*T)*P+(P=Uo*x-oo*b)*P),Uo*b+oo*x+Eo*T);Lu+=P,Nm+=P*(Uo+(Uo=b)),Bm+=P*(oo+(oo=x)),$m+=P*(Eo+(Eo=T)),t1(Uo,oo,Eo)}function eh(){Ll.point=Au}function XL(){Ll.point=W7}function ZL(){q5(H5,j5),Ll.point=Au}function W7(u,p){H5=u,j5=p,u*=br,p*=br,Ll.point=q5;var m=lr(p);Uo=m*lr(u),oo=m*On(u),Eo=On(p),t1(Uo,oo,Eo)}function q5(u,p){u*=br;var m=lr(p*=br),b=m*lr(u),x=m*On(u),T=On(p),P=oo*T-Eo*x,L=Eo*b-Uo*T,$=Uo*x-oo*b,j=us(P*P+L*L+$*$),Y=bo(j),te=j&&-Y/j;Fm+=te*P,e1+=te*L,p2+=te*$,Lu+=Y,Nm+=Y*(Uo+(Uo=b)),Bm+=Y*(oo+(oo=x)),$m+=Y*(Eo+(Eo=T)),t1(Uo,oo,Eo)}function V5(u){Qp=Lu=Am=Pm=Dm=Nm=Bm=$m=Fm=e1=p2=0,Rl(u,Ll);var p=Fm,m=e1,b=p2,x=p*p+m*m+b*b;return x<r2&&(p=Nm,m=Bm,b=$m,Lu<Rr&&(p=Am,m=Pm,b=Dm),(x=p*p+m*m+b*b)<r2)?[NaN,NaN]:[ia(m,p)*Fi,bo(b/us(x))*Fi]}function qc(u){return function(){return u}}function jm(u,p){function m(b,x){return b=u(b,x),p(b[0],b[1])}return u.invert&&p.invert&&(m.invert=function(b,x){return(b=p.invert(b,x))&&u.invert(b[0],b[1])}),m}function th(u,p){return[Xr(u)>jr?u+Math.round(-u/ra)*ra:u,p]}function Km(u,p,m){return(u%=ra)?p||m?jm(n1(u),r1(p,m)):n1(u):p||m?r1(p,m):th}function m2(u){return function(p,m){return[(p+=u)>jr?p-ra:p<-jr?p+ra:p,m]}}function n1(u){var p=m2(u);return p.invert=m2(-u),p}function r1(u,p){var m=lr(u),b=On(u),x=lr(p),T=On(p);function P(L,$){var j=lr($),Y=lr(L)*j,te=On(L)*j,G=On($),le=G*m+Y*b;return[ia(te*x-le*T,Y*m-G*b),bo(le*x+te*T)]}return P.invert=function(L,$){var j=lr($),Y=lr(L)*j,te=On(L)*j,G=On($),le=G*x-te*T;return[ia(te*x+G*T,Y*m+le*b),bo(le*m-Y*b)]},P}function y2(u){function p(m){return(m=u(m[0]*br,m[1]*br))[0]*=Fi,m[1]*=Fi,m}return u=Km(u[0]*br,u[1]*br,u.length>2?u[2]*br:0),p.invert=function(m){return(m=u.invert(m[0]*br,m[1]*br))[0]*=Fi,m[1]*=Fi,m},p}function G5(u,p,m,b,x,T){if(m){var P=lr(p),L=On(p),$=b*m;x==null?(x=p+b*ra,T=p-$/2):(x=Vs(P,x),T=Vs(P,T),(b>0?x<T:x>T)&&(x+=b*ra));for(var j,Y=x;b>0?Y>T:Y<T;Y-=$)j=f2([P,-L*lr(Y),-L*On(Y)]),u.point(j[0],j[1])}}function Vs(u,p){(p=Yf(p))[0]-=u,Zp(p);var m=s2(-p[1]);return((-p[2]<0?-m:m)+ra-Rr)%ra}function JL(){var u,p,m=qc([0,0]),b=qc(90),x=qc(6),T={point:function(L,$){u.push(L=p(L,$)),L[0]*=Fi,L[1]*=Fi}};function P(){var L=m.apply(this,arguments),$=b.apply(this,arguments)*br,j=x.apply(this,arguments)*br;return u=[],p=Km(-L[0]*br,-L[1]*br,0).invert,G5(T,$,j,1),L={type:"Polygon",coordinates:[u]},u=p=null,L}return P.center=function(L){return arguments.length?(m=typeof L=="function"?L:qc([+L[0],+L[1]]),P):m},P.radius=function(L){return arguments.length?(b=typeof L=="function"?L:qc(+L),P):b},P.precision=function(L){return arguments.length?(x=typeof L=="function"?L:qc(+L),P):x},P}function Y7(){var u,p=[];return{point:function(m,b,x){u.push([m,b,x])},lineStart:function(){p.push(u=[])},lineEnd:Oi,rejoin:function(){p.length>1&&p.push(p.pop().concat(p.shift()))},result:function(){var m=p;return p=[],u=null,m}}}function Zr(u,p){return Xr(u[0]-p[0])<Rr&&Xr(u[1]-p[1])<Rr}function v2(u,p,m,b){this.x=u,this.z=p,this.o=m,this.e=b,this.v=!1,this.n=this.p=null}function i1(u,p,m,b,x){var T,P,L=[],$=[];if(u.forEach(function(ue){if(!((ve=ue.length-1)<=0)){var ve,ye,pe=ue[0],Ce=ue[ve];if(Zr(pe,Ce)){if(!pe[2]&&!Ce[2]){for(x.lineStart(),T=0;T<ve;++T)x.point((pe=ue[T])[0],pe[1]);return void x.lineEnd()}Ce[0]+=2e-6}L.push(ye=new v2(pe,ue,null,!0)),$.push(ye.o=new v2(pe,null,ye,!1)),L.push(ye=new v2(Ce,ue,null,!1)),$.push(ye.o=new v2(Ce,null,ye,!0))}}),L.length){for($.sort(p),s1(L),s1($),T=0,P=$.length;T<P;++T)$[T].e=m=!m;for(var j,Y,te=L[0];;){for(var G=te,le=!0;G.v;)if((G=G.n)===te)return;j=G.z,x.lineStart();do{if(G.v=G.o.v=!0,G.e){if(le)for(T=0,P=j.length;T<P;++T)x.point((Y=j[T])[0],Y[1]);else b(G.x,G.n.x,1,x);G=G.n}else{if(le)for(j=G.p.z,T=j.length-1;T>=0;--T)x.point((Y=j[T])[0],Y[1]);else b(G.x,G.p.x,-1,x);G=G.p}j=(G=G.o).z,le=!le}while(!G.v);x.lineEnd()}}}function s1(u){if(p=u.length){for(var p,m,b=0,x=u[0];++b<p;)x.n=m=u[b],m.p=x,x=m;x.n=m=u[0],m.p=x}}th.invert=th;var W5=Od();function Y5(u){return Xr(u[0])<=jr?u[0]:ll(u[0])*((Xr(u[0])+jr)%ra-jr)}function X7(u,p){var m=Y5(p),b=p[1],x=On(b),T=[On(m),-lr(m),0],P=0,L=0;W5.reset(),x===1?b=ms+Rr:x===-1&&(b=-ms-Rr);for(var $=0,j=u.length;$<j;++$)if(te=(Y=u[$]).length)for(var Y,te,G=Y[te-1],le=Y5(G),ue=G[1]/2+Rm,ve=On(ue),ye=lr(ue),pe=0;pe<te;++pe,le=Te,ve=rt,ye=bt,G=Ce){var Ce=Y[pe],Te=Y5(Ce),Ne=Ce[1]/2+Rm,rt=On(Ne),bt=lr(Ne),Tt=Te-le,Vt=Tt>=0?1:-1,ft=Vt*Tt,Dt=ft>jr,Pe=ve*rt;if(W5.add(ia(Pe*Vt*On(ft),ye*bt+Pe*lr(ft))),P+=Dt?Tt+Vt*ra:Tt,Dt^le>=m^Te>=m){var Ge=Xp(Yf(G),Yf(Ce));Zp(Ge);var Rt=Xp(T,Ge);Zp(Rt);var mt=(Dt^Tt>=0?-1:1)*bo(Rt[2]);(b>mt||b===mt&&(Ge[0]||Ge[1]))&&(L+=Dt^Tt>=0?1:-1)}}return(P<-1e-6||P<Rr&&W5<-1e-6)^1&L}function Z7(u,p,m,b){return function(x){var T,P,L,$=p(x),j=Y7(),Y=p(j),te=!1,G={point:le,lineStart:ve,lineEnd:ye,polygonStart:function(){G.point=pe,G.lineStart=Ce,G.lineEnd=Te,P=[],T=[]},polygonEnd:function(){G.point=le,G.lineStart=ve,G.lineEnd=ye,P=Ie(P);var Ne=X7(T,b);P.length?(te||(x.polygonStart(),te=!0),i1(P,J7,Ne,m,x)):Ne&&(te||(x.polygonStart(),te=!0),x.lineStart(),m(null,null,1,x),x.lineEnd()),te&&(x.polygonEnd(),te=!1),P=T=null},sphere:function(){x.polygonStart(),x.lineStart(),m(null,null,1,x),x.lineEnd(),x.polygonEnd()}};function le(Ne,rt){u(Ne,rt)&&x.point(Ne,rt)}function ue(Ne,rt){$.point(Ne,rt)}function ve(){G.point=ue,$.lineStart()}function ye(){G.point=le,$.lineEnd()}function pe(Ne,rt){L.push([Ne,rt]),Y.point(Ne,rt)}function Ce(){Y.lineStart(),L=[]}function Te(){pe(L[0][0],L[0][1]),Y.lineEnd();var Ne,rt,bt,Tt,Vt=Y.clean(),ft=j.result(),Dt=ft.length;if(L.pop(),T.push(L),L=null,Dt)if(1&Vt){if((rt=(bt=ft[0]).length-1)>0){for(te||(x.polygonStart(),te=!0),x.lineStart(),Ne=0;Ne<rt;++Ne)x.point((Tt=bt[Ne])[0],Tt[1]);x.lineEnd()}}else Dt>1&&2&Vt&&ft.push(ft.pop().concat(ft.shift())),P.push(ft.filter(QL))}return G}}function QL(u){return u.length>1}function J7(u,p){return((u=u.x)[0]<0?u[1]-ms-Rr:ms-u[1])-((p=p.x)[0]<0?p[1]-ms-Rr:ms-p[1])}const b2=Z7(function(){return!0},function(u){var p,m=NaN,b=NaN,x=NaN;return{lineStart:function(){u.lineStart(),p=1},point:function(T,P){var L=T>0?jr:-jr,$=Xr(T-m);Xr($-jr)<Rr?(u.point(m,b=(b+P)/2>0?ms:-ms),u.point(x,b),u.lineEnd(),u.lineStart(),u.point(L,b),u.point(T,b),p=0):x!==L&&$>=jr&&(Xr(m-x)<Rr&&(m-=x*Rr),Xr(T-L)<Rr&&(T-=L*Rr),b=function(j,Y,te,G){var le,ue,ve=On(j-te);return Xr(ve)>Rr?Yp((On(Y)*(ue=lr(G))*On(te)-On(G)*(le=lr(Y))*On(j))/(le*ue*ve)):(Y+G)/2}(m,b,T,P),u.point(x,b),u.lineEnd(),u.lineStart(),u.point(L,b),p=0),u.point(m=T,b=P),x=L},lineEnd:function(){u.lineEnd(),m=b=NaN},clean:function(){return 2-p}}},function(u,p,m,b){var x;if(u==null)x=m*ms,b.point(-jr,x),b.point(0,x),b.point(jr,x),b.point(jr,0),b.point(jr,-x),b.point(0,-x),b.point(-jr,-x),b.point(-jr,0),b.point(-jr,x);else if(Xr(u[0]-p[0])>Rr){var T=u[0]<p[0]?jr:-jr;x=m*T/2,b.point(-T,x),b.point(0,x),b.point(T,x)}else b.point(p[0],p[1])},[-jr,-ms]);function Q7(u){var p=lr(u),m=6*br,b=p>0,x=Xr(p)>Rr;function T($,j){return lr($)*lr(j)>p}function P($,j,Y){var te=[1,0,0],G=Xp(Yf($),Yf(j)),le=h2(G,G),ue=G[0],ve=le-ue*ue;if(!ve)return!Y&&$;var ye=p*le/ve,pe=-p*ue/ve,Ce=Xp(te,G),Te=Xf(te,ye);U5(Te,Xf(G,pe));var Ne=Ce,rt=h2(Te,Ne),bt=h2(Ne,Ne),Tt=rt*rt-bt*(h2(Te,Te)-1);if(!(Tt<0)){var Vt=us(Tt),ft=Xf(Ne,(-rt-Vt)/bt);if(U5(ft,Te),ft=f2(ft),!Y)return ft;var Dt,Pe=$[0],Ge=j[0],Rt=$[1],mt=j[1];Ge<Pe&&(Dt=Pe,Pe=Ge,Ge=Dt);var Mt=Ge-Pe,on=Xr(Mt-jr)<Rr;if(!on&&mt<Rt&&(Dt=Rt,Rt=mt,mt=Dt),on||Mt<Rr?on?Rt+mt>0^ft[1]<(Xr(ft[0]-Pe)<Rr?Rt:mt):Rt<=ft[1]&&ft[1]<=mt:Mt>jr^(Pe<=ft[0]&&ft[0]<=Ge)){var Fn=Xf(Ne,(-rt+Vt)/bt);return U5(Fn,Te),[ft,f2(Fn)]}}}function L($,j){var Y=b?u:jr-u,te=0;return $<-Y?te|=1:$>Y&&(te|=2),j<-Y?te|=4:j>Y&&(te|=8),te}return Z7(T,function($){var j,Y,te,G,le;return{lineStart:function(){G=te=!1,le=1},point:function(ue,ve){var ye,pe=[ue,ve],Ce=T(ue,ve),Te=b?Ce?0:L(ue,ve):Ce?L(ue+(ue<0?jr:-jr),ve):0;if(!j&&(G=te=Ce)&&$.lineStart(),Ce!==te&&(!(ye=P(j,pe))||Zr(j,ye)||Zr(pe,ye))&&(pe[2]=1),Ce!==te)le=0,Ce?($.lineStart(),ye=P(pe,j),$.point(ye[0],ye[1])):(ye=P(j,pe),$.point(ye[0],ye[1],2),$.lineEnd()),j=ye;else if(x&&j&&b^Ce){var Ne;Te&Y||!(Ne=P(pe,j,!0))||(le=0,b?($.lineStart(),$.point(Ne[0][0],Ne[0][1]),$.point(Ne[1][0],Ne[1][1]),$.lineEnd()):($.point(Ne[1][0],Ne[1][1]),$.lineEnd(),$.lineStart(),$.point(Ne[0][0],Ne[0][1],3)))}!Ce||j&&Zr(j,pe)||$.point(pe[0],pe[1]),j=pe,te=Ce,Y=Te},lineEnd:function(){te&&$.lineEnd(),j=null},clean:function(){return le|(G&&te)<<1}}},function($,j,Y,te){G5(te,u,m,Y,$,j)},b?[0,-u]:[-jr,u-jr])}var zm=1e9,_2=-zm;function qm(u,p,m,b){function x(j,Y){return u<=j&&j<=m&&p<=Y&&Y<=b}function T(j,Y,te,G){var le=0,ue=0;if(j==null||(le=P(j,te))!==(ue=P(Y,te))||$(j,Y)<0^te>0)do G.point(le===0||le===3?u:m,le>1?b:p);while((le=(le+te+4)%4)!==ue);else G.point(Y[0],Y[1])}function P(j,Y){return Xr(j[0]-u)<Rr?Y>0?0:3:Xr(j[0]-m)<Rr?Y>0?2:1:Xr(j[1]-p)<Rr?Y>0?1:0:Y>0?3:2}function L(j,Y){return $(j.x,Y.x)}function $(j,Y){var te=P(j,1),G=P(Y,1);return te!==G?te-G:te===0?Y[1]-j[1]:te===1?j[0]-Y[0]:te===2?j[1]-Y[1]:Y[0]-j[0]}return function(j){var Y,te,G,le,ue,ve,ye,pe,Ce,Te,Ne,rt=j,bt=Y7(),Tt={point:Vt,lineStart:function(){Tt.point=ft,te&&te.push(G=[]),Te=!0,Ce=!1,ye=pe=NaN},lineEnd:function(){Y&&(ft(le,ue),ve&&Ce&&bt.rejoin(),Y.push(bt.result())),Tt.point=Vt,Ce&&rt.lineEnd()},polygonStart:function(){rt=bt,Y=[],te=[],Ne=!0},polygonEnd:function(){var Dt=function(){for(var Rt=0,mt=0,Mt=te.length;mt<Mt;++mt)for(var on,Fn,yr=te[mt],Br=1,zr=yr.length,Wn=yr[0],ti=Wn[0],Sr=Wn[1];Br<zr;++Br)on=ti,Fn=Sr,ti=(Wn=yr[Br])[0],Sr=Wn[1],Fn<=b?Sr>b&&(ti-on)*(b-Fn)>(Sr-Fn)*(u-on)&&++Rt:Sr<=b&&(ti-on)*(b-Fn)<(Sr-Fn)*(u-on)&&--Rt;return Rt}(),Pe=Ne&&Dt,Ge=(Y=Ie(Y)).length;(Pe||Ge)&&(j.polygonStart(),Pe&&(j.lineStart(),T(null,null,1,j),j.lineEnd()),Ge&&i1(Y,L,Dt,T,j),j.polygonEnd()),rt=j,Y=te=G=null}};function Vt(Dt,Pe){x(Dt,Pe)&&rt.point(Dt,Pe)}function ft(Dt,Pe){var Ge=x(Dt,Pe);if(te&&G.push([Dt,Pe]),Te)le=Dt,ue=Pe,ve=Ge,Te=!1,Ge&&(rt.lineStart(),rt.point(Dt,Pe));else if(Ge&&Ce)rt.point(Dt,Pe);else{var Rt=[ye=Math.max(_2,Math.min(zm,ye)),pe=Math.max(_2,Math.min(zm,pe))],mt=[Dt=Math.max(_2,Math.min(zm,Dt)),Pe=Math.max(_2,Math.min(zm,Pe))];(function(Mt,on,Fn,yr,Br,zr){var Wn,ti=Mt[0],Sr=Mt[1],wr=0,er=1,$s=on[0]-ti,ji=on[1]-Sr;if(Wn=Fn-ti,$s||!(Wn>0)){if(Wn/=$s,$s<0){if(Wn<wr)return;Wn<er&&(er=Wn)}else if($s>0){if(Wn>er)return;Wn>wr&&(wr=Wn)}if(Wn=Br-ti,$s||!(Wn<0)){if(Wn/=$s,$s<0){if(Wn>er)return;Wn>wr&&(wr=Wn)}else if($s>0){if(Wn<wr)return;Wn<er&&(er=Wn)}if(Wn=yr-Sr,ji||!(Wn>0)){if(Wn/=ji,ji<0){if(Wn<wr)return;Wn<er&&(er=Wn)}else if(ji>0){if(Wn>er)return;Wn>wr&&(wr=Wn)}if(Wn=zr-Sr,ji||!(Wn<0)){if(Wn/=ji,ji<0){if(Wn>er)return;Wn>wr&&(wr=Wn)}else if(ji>0){if(Wn<wr)return;Wn<er&&(er=Wn)}return wr>0&&(Mt[0]=ti+wr*$s,Mt[1]=Sr+wr*ji),er<1&&(on[0]=ti+er*$s,on[1]=Sr+er*ji),!0}}}}})(Rt,mt,u,p,m,b)?(Ce||(rt.lineStart(),rt.point(Rt[0],Rt[1])),rt.point(mt[0],mt[1]),Ge||rt.lineEnd(),Ne=!1):Ge&&(rt.lineStart(),rt.point(Dt,Pe),Ne=!1)}ye=Dt,pe=Pe,Ce=Ge}return Tt}}function eA(){var u,p,m,b=0,x=0,T=960,P=500;return m={stream:function(L){return u&&p===L?u:u=qm(b,x,T,P)(p=L)},extent:function(L){return arguments.length?(b=+L[0][0],x=+L[0][1],T=+L[1][0],P=+L[1][1],u=p=null,m):[[b,x],[T,P]]}}}var w2,E2,S2,X5=Od(),o1={sphere:Oi,point:Oi,lineStart:function(){o1.point=nA,o1.lineEnd=tA},lineEnd:Oi,polygonStart:Oi,polygonEnd:Oi};function tA(){o1.point=o1.lineEnd=Oi}function nA(u,p){w2=u*=br,E2=On(p*=br),S2=lr(p),o1.point=rA}function rA(u,p){u*=br;var m=On(p*=br),b=lr(p),x=Xr(u-w2),T=lr(x),P=b*On(x),L=S2*m-E2*b*T,$=E2*m+S2*b*T;X5.add(ia(us(P*P+L*L),$)),w2=u,E2=m,S2=b}function Z5(u){return X5.reset(),Rl(u,o1),+X5}var J5=[null,null],iA={type:"LineString",coordinates:J5};function x2(u,p){return J5[0]=u,J5[1]=p,Z5(iA)}var Q5={Feature:function(u,p){return k2(u.geometry,p)},FeatureCollection:function(u,p){for(var m=u.features,b=-1,x=m.length;++b<x;)if(k2(m[b].geometry,p))return!0;return!1}},ek={Sphere:function(){return!0},Point:function(u,p){return tk(u.coordinates,p)},MultiPoint:function(u,p){for(var m=u.coordinates,b=-1,x=m.length;++b<x;)if(tk(m[b],p))return!0;return!1},LineString:function(u,p){return nk(u.coordinates,p)},MultiLineString:function(u,p){for(var m=u.coordinates,b=-1,x=m.length;++b<x;)if(nk(m[b],p))return!0;return!1},Polygon:function(u,p){return rk(u.coordinates,p)},MultiPolygon:function(u,p){for(var m=u.coordinates,b=-1,x=m.length;++b<x;)if(rk(m[b],p))return!0;return!1},GeometryCollection:function(u,p){for(var m=u.geometries,b=-1,x=m.length;++b<x;)if(k2(m[b],p))return!0;return!1}};function k2(u,p){return!(!u||!ek.hasOwnProperty(u.type))&&ek[u.type](u,p)}function tk(u,p){return x2(u,p)===0}function nk(u,p){for(var m,b,x,T=0,P=u.length;T<P;T++){if((b=x2(u[T],p))===0||T>0&&(x=x2(u[T],u[T-1]))>0&&m<=x&&b<=x&&(m+b-x)*(1-Math.pow((m-b)/x,2))<r2*x)return!0;m=b}return!1}function rk(u,p){return!!X7(u.map(sA),e6(p))}function sA(u){return(u=u.map(e6)).pop(),u}function e6(u){return[u[0]*br,u[1]*br]}function oA(u,p){return(u&&Q5.hasOwnProperty(u.type)?Q5[u.type]:k2)(u,p)}function ik(u,p,m){var b=K(u,p-Rr,m).concat(p);return function(x){return b.map(function(T){return[x,T]})}}function sk(u,p,m){var b=K(u,p-Rr,m).concat(p);return function(x){return b.map(function(T){return[T,x]})}}function ok(){var u,p,m,b,x,T,P,L,$,j,Y,te,G=10,le=G,ue=90,ve=360,ye=2.5;function pe(){return{type:"MultiLineString",coordinates:Ce()}}function Ce(){return K(Mm(b/ue)*ue,m,ue).map(Y).concat(K(Mm(L/ve)*ve,P,ve).map(te)).concat(K(Mm(p/G)*G,u,G).filter(function(Te){return Xr(Te%ue)>Rr}).map($)).concat(K(Mm(T/le)*le,x,le).filter(function(Te){return Xr(Te%ve)>Rr}).map(j))}return pe.lines=function(){return Ce().map(function(Te){return{type:"LineString",coordinates:Te}})},pe.outline=function(){return{type:"Polygon",coordinates:[Y(b).concat(te(P).slice(1),Y(m).reverse().slice(1),te(L).reverse().slice(1))]}},pe.extent=function(Te){return arguments.length?pe.extentMajor(Te).extentMinor(Te):pe.extentMinor()},pe.extentMajor=function(Te){return arguments.length?(b=+Te[0][0],m=+Te[1][0],L=+Te[0][1],P=+Te[1][1],b>m&&(Te=b,b=m,m=Te),L>P&&(Te=L,L=P,P=Te),pe.precision(ye)):[[b,L],[m,P]]},pe.extentMinor=function(Te){return arguments.length?(p=+Te[0][0],u=+Te[1][0],T=+Te[0][1],x=+Te[1][1],p>u&&(Te=p,p=u,u=Te),T>x&&(Te=T,T=x,x=Te),pe.precision(ye)):[[p,T],[u,x]]},pe.step=function(Te){return arguments.length?pe.stepMajor(Te).stepMinor(Te):pe.stepMinor()},pe.stepMajor=function(Te){return arguments.length?(ue=+Te[0],ve=+Te[1],pe):[ue,ve]},pe.stepMinor=function(Te){return arguments.length?(G=+Te[0],le=+Te[1],pe):[G,le]},pe.precision=function(Te){return arguments.length?(ye=+Te,$=ik(T,x,90),j=sk(p,u,ye),Y=ik(L,P,90),te=sk(b,m,ye),pe):ye},pe.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function aA(){return ok()()}function lA(u,p){var m=u[0]*br,b=u[1]*br,x=p[0]*br,T=p[1]*br,P=lr(b),L=On(b),$=lr(T),j=On(T),Y=P*lr(m),te=P*On(m),G=$*lr(x),le=$*On(x),ue=2*bo(us(o2(T-b)+P*$*o2(x-m))),ve=On(ue),ye=ue?function(pe){var Ce=On(pe*=ue)/ve,Te=On(ue-pe)/ve,Ne=Te*Y+Ce*G,rt=Te*te+Ce*le,bt=Te*L+Ce*j;return[ia(rt,Ne)*Fi,ia(bt,us(Ne*Ne+rt*rt))*Fi]}:function(){return[m*Fi,b*Fi]};return ye.distance=ue,ye}function Vm(u){return u}var ak,t6,n6,r6,i6=Od(),T2=Od(),Pd={point:Oi,lineStart:Oi,lineEnd:Oi,polygonStart:function(){Pd.lineStart=cA,Pd.lineEnd=dA},polygonEnd:function(){Pd.lineStart=Pd.lineEnd=Pd.point=Oi,i6.add(Xr(T2)),T2.reset()},result:function(){var u=i6/2;return i6.reset(),u}};function cA(){Pd.point=uA}function uA(u,p){Pd.point=lk,ak=n6=u,t6=r6=p}function lk(u,p){T2.add(r6*u-n6*p),n6=u,r6=p}function dA(){lk(ak,t6)}const ck=Pd;var nh=1/0,C2=nh,Gm=-nh,I2=Gm,fA={point:function(u,p){u<nh&&(nh=u),u>Gm&&(Gm=u),p<C2&&(C2=p),p>I2&&(I2=p)},lineStart:Oi,lineEnd:Oi,polygonStart:Oi,polygonEnd:Oi,result:function(){var u=[[nh,C2],[Gm,I2]];return Gm=I2=-(C2=nh=1/0),u}};const R2=fA;var uk,dk,Vc,ac,M2=0,O2=0,Wm=0,Ym=0,rh=0,a1=0,s6=0,L2=0,Xm=0,Ra={point:lc,lineStart:ih,lineEnd:Qm,polygonStart:function(){Ra.lineStart=sh,Ra.lineEnd=A2},polygonEnd:function(){Ra.point=lc,Ra.lineStart=ih,Ra.lineEnd=Qm},result:function(){var u=Xm?[s6/Xm,L2/Xm]:a1?[Ym/a1,rh/a1]:Wm?[M2/Wm,O2/Wm]:[NaN,NaN];return M2=O2=Wm=Ym=rh=a1=s6=L2=Xm=0,u}};function lc(u,p){M2+=u,O2+=p,++Wm}function ih(){Ra.point=Zm}function Zm(u,p){Ra.point=Jm,lc(Vc=u,ac=p)}function Jm(u,p){var m=u-Vc,b=p-ac,x=us(m*m+b*b);Ym+=x*(Vc+u)/2,rh+=x*(ac+p)/2,a1+=x,lc(Vc=u,ac=p)}function Qm(){Ra.point=lc}function sh(){Ra.point=e0}function A2(){o6(uk,dk)}function e0(u,p){Ra.point=o6,lc(uk=Vc=u,dk=ac=p)}function o6(u,p){var m=u-Vc,b=p-ac,x=us(m*m+b*b);Ym+=x*(Vc+u)/2,rh+=x*(ac+p)/2,a1+=x,s6+=(x=ac*u-Vc*p)*(Vc+u),L2+=x*(ac+p),Xm+=3*x,lc(Vc=u,ac=p)}const P2=Ra;function fk(u){this._context=u}fk.prototype={_radius:4.5,pointRadius:function(u){return this._radius=u,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(u,p){switch(this._point){case 0:this._context.moveTo(u,p),this._point=1;break;case 1:this._context.lineTo(u,p);break;default:this._context.moveTo(u+this._radius,p),this._context.arc(u,p,this._radius,0,ra)}},result:Oi};var l1,a6,l6,t0,oh,D2=Od(),N2={point:Oi,lineStart:function(){N2.point=hA},lineEnd:function(){l1&&n0(a6,l6),N2.point=Oi},polygonStart:function(){l1=!0},polygonEnd:function(){l1=null},result:function(){var u=+D2;return D2.reset(),u}};function hA(u,p){N2.point=n0,a6=t0=u,l6=oh=p}function n0(u,p){t0-=u,oh-=p,D2.add(us(t0*t0+oh*oh)),t0=u,oh=p}const B2=N2;function cc(){this._string=[]}function Al(u){return"m0,"+u+"a"+u+","+u+" 0 1,1 0,"+-2*u+"a"+u+","+u+" 0 1,1 0,"+2*u+"z"}function Dd(u,p){var m,b,x=4.5;function T(P){return P&&(typeof x=="function"&&b.pointRadius(+x.apply(this,arguments)),Rl(P,m(b))),b.result()}return T.area=function(P){return Rl(P,m(ck)),ck.result()},T.measure=function(P){return Rl(P,m(B2)),B2.result()},T.bounds=function(P){return Rl(P,m(R2)),R2.result()},T.centroid=function(P){return Rl(P,m(P2)),P2.result()},T.projection=function(P){return arguments.length?(m=P==null?(u=null,Vm):(u=P).stream,T):u},T.context=function(P){return arguments.length?(b=P==null?(p=null,new cc):new fk(p=P),typeof x!="function"&&b.pointRadius(x),T):p},T.pointRadius=function(P){return arguments.length?(x=typeof P=="function"?P:(b.pointRadius(+P),+P),T):x},T.projection(u).context(p)}function $2(u){return{stream:c1(u)}}function c1(u){return function(p){var m=new r0;for(var b in u)m[b]=u[b];return m.stream=p,m}}function r0(){}function F2(u,p,m){var b=u.clipExtent&&u.clipExtent();return u.scale(150).translate([0,0]),b!=null&&u.clipExtent(null),Rl(m,u.stream(R2)),p(R2.result()),b!=null&&u.clipExtent(b),u}function i0(u,p,m){return F2(u,function(b){var x=p[1][0]-p[0][0],T=p[1][1]-p[0][1],P=Math.min(x/(b[1][0]-b[0][0]),T/(b[1][1]-b[0][1])),L=+p[0][0]+(x-P*(b[1][0]+b[0][0]))/2,$=+p[0][1]+(T-P*(b[1][1]+b[0][1]))/2;u.scale(150*P).translate([L,$])},m)}function c6(u,p,m){return i0(u,[[0,0],p],m)}function u6(u,p,m){return F2(u,function(b){var x=+p,T=x/(b[1][0]-b[0][0]),P=(x-T*(b[1][0]+b[0][0]))/2,L=-T*b[0][1];u.scale(150*T).translate([P,L])},m)}function d6(u,p,m){return F2(u,function(b){var x=+p,T=x/(b[1][1]-b[0][1]),P=-T*b[0][0],L=(x-T*(b[1][1]+b[0][1]))/2;u.scale(150*T).translate([P,L])},m)}cc.prototype={_radius:4.5,_circle:Al(4.5),pointRadius:function(u){return(u=+u)!==this._radius&&(this._radius=u,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(u,p){switch(this._point){case 0:this._string.push("M",u,",",p),this._point=1;break;case 1:this._string.push("L",u,",",p);break;default:this._circle==null&&(this._circle=Al(this._radius)),this._string.push("M",u,",",p,this._circle)}},result:function(){if(this._string.length){var u=this._string.join("");return this._string=[],u}return null}},r0.prototype={constructor:r0,point:function(u,p){this.stream.point(u,p)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pA=lr(30*br);function U2(u,p){return+p?function(m,b){function x(T,P,L,$,j,Y,te,G,le,ue,ve,ye,pe,Ce){var Te=te-T,Ne=G-P,rt=Te*Te+Ne*Ne;if(rt>4*b&&pe--){var bt=$+ue,Tt=j+ve,Vt=Y+ye,ft=us(bt*bt+Tt*Tt+Vt*Vt),Dt=bo(Vt/=ft),Pe=Xr(Xr(Vt)-1)<Rr||Xr(L-le)<Rr?(L+le)/2:ia(Tt,bt),Ge=m(Pe,Dt),Rt=Ge[0],mt=Ge[1],Mt=Rt-T,on=mt-P,Fn=Ne*Mt-Te*on;(Fn*Fn/rt>b||Xr((Te*Mt+Ne*on)/rt-.5)>.3||$*ue+j*ve+Y*ye<pA)&&(x(T,P,L,$,j,Y,Rt,mt,Pe,bt/=ft,Tt/=ft,Vt,pe,Ce),Ce.point(Rt,mt),x(Rt,mt,Pe,bt,Tt,Vt,te,G,le,ue,ve,ye,pe,Ce))}}return function(T){var P,L,$,j,Y,te,G,le,ue,ve,ye,pe,Ce={point:Te,lineStart:Ne,lineEnd:bt,polygonStart:function(){T.polygonStart(),Ce.lineStart=Tt},polygonEnd:function(){T.polygonEnd(),Ce.lineStart=Ne}};function Te(Dt,Pe){Dt=m(Dt,Pe),T.point(Dt[0],Dt[1])}function Ne(){le=NaN,Ce.point=rt,T.lineStart()}function rt(Dt,Pe){var Ge=Yf([Dt,Pe]),Rt=m(Dt,Pe);x(le,ue,G,ve,ye,pe,le=Rt[0],ue=Rt[1],G=Dt,ve=Ge[0],ye=Ge[1],pe=Ge[2],16,T),T.point(le,ue)}function bt(){Ce.point=Te,T.lineEnd()}function Tt(){Ne(),Ce.point=Vt,Ce.lineEnd=ft}function Vt(Dt,Pe){rt(P=Dt,Pe),L=le,$=ue,j=ve,Y=ye,te=pe,Ce.point=rt}function ft(){x(le,ue,G,ve,ye,pe,L,$,P,j,Y,te,16,T),Ce.lineEnd=bt,bt()}return Ce}}(u,p):function(m){return c1({point:function(b,x){b=m(b,x),this.stream.point(b[0],b[1])}})}(u)}var hk=c1({point:function(u,p){this.stream.point(u*br,p*br)}});function f6(u,p,m,b,x){function T(P,L){return[p+u*(P*=b),m-u*(L*=x)]}return T.invert=function(P,L){return[(P-p)/u*b,(m-L)/u*x]},T}function H2(u,p,m,b,x,T){var P=lr(T),L=On(T),$=P*u,j=L*u,Y=P/u,te=L/u,G=(L*m-P*p)/u,le=(L*p+P*m)/u;function ue(ve,ye){return[$*(ve*=b)-j*(ye*=x)+p,m-j*ve-$*ye]}return ue.invert=function(ve,ye){return[b*(Y*ve-te*ye+G),x*(le-te*ve-Y*ye)]},ue}function Gc(u){return j2(function(){return u})()}function j2(u){var p,m,b,x,T,P,L,$,j,Y,te=150,G=480,le=250,ue=0,ve=0,ye=0,pe=0,Ce=0,Te=0,Ne=1,rt=1,bt=null,Tt=b2,Vt=null,ft=Vm,Dt=.5;function Pe(Mt){return $(Mt[0]*br,Mt[1]*br)}function Ge(Mt){return(Mt=$.invert(Mt[0],Mt[1]))&&[Mt[0]*Fi,Mt[1]*Fi]}function Rt(){var Mt=H2(te,0,0,Ne,rt,Te).apply(null,p(ue,ve)),on=(Te?H2:f6)(te,G-Mt[0],le-Mt[1],Ne,rt,Te);return m=Km(ye,pe,Ce),L=jm(p,on),$=jm(m,L),P=U2(L,Dt),mt()}function mt(){return j=Y=null,Pe}return Pe.stream=function(Mt){return j&&Y===Mt?j:j=hk(function(on){return c1({point:function(Fn,yr){var Br=on(Fn,yr);return this.stream.point(Br[0],Br[1])}})}(m)(Tt(P(ft(Y=Mt)))))},Pe.preclip=function(Mt){return arguments.length?(Tt=Mt,bt=void 0,mt()):Tt},Pe.postclip=function(Mt){return arguments.length?(ft=Mt,Vt=b=x=T=null,mt()):ft},Pe.clipAngle=function(Mt){return arguments.length?(Tt=+Mt?Q7(bt=Mt*br):(bt=null,b2),mt()):bt*Fi},Pe.clipExtent=function(Mt){return arguments.length?(ft=Mt==null?(Vt=b=x=T=null,Vm):qm(Vt=+Mt[0][0],b=+Mt[0][1],x=+Mt[1][0],T=+Mt[1][1]),mt()):Vt==null?null:[[Vt,b],[x,T]]},Pe.scale=function(Mt){return arguments.length?(te=+Mt,Rt()):te},Pe.translate=function(Mt){return arguments.length?(G=+Mt[0],le=+Mt[1],Rt()):[G,le]},Pe.center=function(Mt){return arguments.length?(ue=Mt[0]%360*br,ve=Mt[1]%360*br,Rt()):[ue*Fi,ve*Fi]},Pe.rotate=function(Mt){return arguments.length?(ye=Mt[0]%360*br,pe=Mt[1]%360*br,Ce=Mt.length>2?Mt[2]%360*br:0,Rt()):[ye*Fi,pe*Fi,Ce*Fi]},Pe.angle=function(Mt){return arguments.length?(Te=Mt%360*br,Rt()):Te*Fi},Pe.reflectX=function(Mt){return arguments.length?(Ne=Mt?-1:1,Rt()):Ne<0},Pe.reflectY=function(Mt){return arguments.length?(rt=Mt?-1:1,Rt()):rt<0},Pe.precision=function(Mt){return arguments.length?(P=U2(L,Dt=Mt*Mt),mt()):us(Dt)},Pe.fitExtent=function(Mt,on){return i0(Pe,Mt,on)},Pe.fitSize=function(Mt,on){return c6(Pe,Mt,on)},Pe.fitWidth=function(Mt,on){return u6(Pe,Mt,on)},Pe.fitHeight=function(Mt,on){return d6(Pe,Mt,on)},function(){return p=u.apply(this,arguments),Pe.invert=p.invert&&Ge,Rt()}}function h6(u){var p=0,m=jr/3,b=j2(u),x=b(p,m);return x.parallels=function(T){return arguments.length?b(p=T[0]*br,m=T[1]*br):[p*Fi,m*Fi]},x}function pk(u,p){var m=On(u),b=(m+On(p))/2;if(Xr(b)<Rr)return function(L){var $=lr(L);function j(Y,te){return[Y*$,On(te)/$]}return j.invert=function(Y,te){return[Y/$,bo(te*$)]},j}(u);var x=1+m*(2*b-m),T=us(x)/b;function P(L,$){var j=us(x-2*b*On($))/b;return[j*On(L*=b),T-j*lr(L)]}return P.invert=function(L,$){var j=T-$,Y=ia(L,Xr(j))*ll(j);return j*b<0&&(Y-=jr*ll(L)*ll(j)),[Y/b,bo((x-(L*L+j*j)*b*b)/(2*b))]},P}function K2(){return h6(pk).scale(155.424).center([0,33.6442])}function gk(){return K2().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gA(){var u,p,m,b,x,T,P=gk(),L=K2().rotate([154,0]).center([-2,58.5]).parallels([55,65]),$=K2().rotate([157,0]).center([-3,19.9]).parallels([8,18]),j={point:function(G,le){T=[G,le]}};function Y(G){var le=G[0],ue=G[1];return T=null,m.point(le,ue),T||(b.point(le,ue),T)||(x.point(le,ue),T)}function te(){return u=p=null,Y}return Y.invert=function(G){var le=P.scale(),ue=P.translate(),ve=(G[0]-ue[0])/le,ye=(G[1]-ue[1])/le;return(ye>=.12&&ye<.234&&ve>=-.425&&ve<-.214?L:ye>=.166&&ye<.234&&ve>=-.214&&ve<-.115?$:P).invert(G)},Y.stream=function(G){return u&&p===G?u:(le=[P.stream(p=G),L.stream(G),$.stream(G)],ue=le.length,u={point:function(ve,ye){for(var pe=-1;++pe<ue;)le[pe].point(ve,ye)},sphere:function(){for(var ve=-1;++ve<ue;)le[ve].sphere()},lineStart:function(){for(var ve=-1;++ve<ue;)le[ve].lineStart()},lineEnd:function(){for(var ve=-1;++ve<ue;)le[ve].lineEnd()},polygonStart:function(){for(var ve=-1;++ve<ue;)le[ve].polygonStart()},polygonEnd:function(){for(var ve=-1;++ve<ue;)le[ve].polygonEnd()}});var le,ue},Y.precision=function(G){return arguments.length?(P.precision(G),L.precision(G),$.precision(G),te()):P.precision()},Y.scale=function(G){return arguments.length?(P.scale(G),L.scale(.35*G),$.scale(G),Y.translate(P.translate())):P.scale()},Y.translate=function(G){if(!arguments.length)return P.translate();var le=P.scale(),ue=+G[0],ve=+G[1];return m=P.translate(G).clipExtent([[ue-.455*le,ve-.238*le],[ue+.455*le,ve+.238*le]]).stream(j),b=L.translate([ue-.307*le,ve+.201*le]).clipExtent([[ue-.425*le+Rr,ve+.12*le+Rr],[ue-.214*le-Rr,ve+.234*le-Rr]]).stream(j),x=$.translate([ue-.205*le,ve+.212*le]).clipExtent([[ue-.214*le+Rr,ve+.166*le+Rr],[ue-.115*le-Rr,ve+.234*le-Rr]]).stream(j),te()},Y.fitExtent=function(G,le){return i0(Y,G,le)},Y.fitSize=function(G,le){return c6(Y,G,le)},Y.fitWidth=function(G,le){return u6(Y,G,le)},Y.fitHeight=function(G,le){return d6(Y,G,le)},Y.scale(1070)}function mk(u){return function(p,m){var b=lr(p),x=lr(m),T=u(b*x);return[T*x*On(p),T*On(m)]}}function s0(u){return function(p,m){var b=us(p*p+m*m),x=u(b),T=On(x),P=lr(x);return[ia(p*T,b*P),bo(b&&m*T/b)]}}var p6=mk(function(u){return us(2/(1+u))});function mA(){return Gc(p6).scale(124.75).clipAngle(179.999)}p6.invert=s0(function(u){return 2*bo(u/2)});var g6=mk(function(u){return(u=s2(u))&&u/On(u)});function yA(){return Gc(g6).scale(79.4188).clipAngle(179.999)}function o0(u,p){return[u,i2(jn((ms+p)/2))]}function vA(){return yk(o0).scale(961/ra)}function yk(u){var p,m,b,x=Gc(u),T=x.center,P=x.scale,L=x.translate,$=x.clipExtent,j=null;function Y(){var te=jr*P(),G=x(y2(x.rotate()).invert([0,0]));return $(j==null?[[G[0]-te,G[1]-te],[G[0]+te,G[1]+te]]:u===o0?[[Math.max(G[0]-te,j),p],[Math.min(G[0]+te,m),b]]:[[j,Math.max(G[1]-te,p)],[m,Math.min(G[1]+te,b)]])}return x.scale=function(te){return arguments.length?(P(te),Y()):P()},x.translate=function(te){return arguments.length?(L(te),Y()):L()},x.center=function(te){return arguments.length?(T(te),Y()):T()},x.clipExtent=function(te){return arguments.length?(te==null?j=p=m=b=null:(j=+te[0][0],p=+te[0][1],m=+te[1][0],b=+te[1][1]),Y()):j==null?null:[[j,p],[m,b]]},Y()}function z2(u){return jn((ms+u)/2)}function vk(u,p){var m=lr(u),b=u===p?On(u):i2(m/lr(p))/i2(z2(p)/z2(u)),x=m*Om(z2(u),b)/b;if(!b)return o0;function T(P,L){x>0?L<-ms+Rr&&(L=-ms+Rr):L>ms-Rr&&(L=ms-Rr);var $=x/Om(z2(L),b);return[$*On(b*P),x-$*lr(b*P)]}return T.invert=function(P,L){var $=x-L,j=ll(b)*us(P*P+$*$),Y=ia(P,Xr($))*ll($);return $*b<0&&(Y-=jr*ll(P)*ll($)),[Y/b,2*Yp(Om(x/j,1/b))-ms]},T}function bA(){return h6(vk).scale(109.5).parallels([30,30])}function u1(u,p){return[u,p]}function _A(){return Gc(u1).scale(152.63)}function bk(u,p){var m=lr(u),b=u===p?On(u):(m-lr(p))/(p-u),x=m/b+u;if(Xr(b)<Rr)return u1;function T(P,L){var $=x-L,j=b*P;return[$*On(j),x-$*lr(j)]}return T.invert=function(P,L){var $=x-L,j=ia(P,Xr($))*ll($);return $*b<0&&(j-=jr*ll(P)*ll($)),[j/b,x-ll(b)*us(P*P+$*$)]},T}function wA(){return h6(bk).scale(131.154).center([0,13.9389])}g6.invert=s0(function(u){return u}),o0.invert=function(u,p){return[u,2*Yp(z7(p))-ms]},u1.invert=u1;var a0=1.340264,l0=-.081106,ul=893e-6,d1=.003796,Pl=us(3)/2;function m6(u,p){var m=bo(Pl*On(p)),b=m*m,x=b*b*b;return[u*lr(m)/(Pl*(a0+3*l0*b+x*(7*ul+9*d1*b))),m*(a0+l0*b+x*(ul+d1*b))]}function EA(){return Gc(m6).scale(177.158)}function y6(u,p){var m=lr(p),b=lr(u)*m;return[m*On(u)/b,On(p)/b]}function v6(){return Gc(y6).scale(144.049).clipAngle(60)}function SA(){var u,p,m,b,x,T,P,L=1,$=0,j=0,Y=1,te=1,G=0,le=null,ue=1,ve=1,ye=c1({point:function(Ne,rt){var bt=Te([Ne,rt]);this.stream.point(bt[0],bt[1])}}),pe=Vm;function Ce(){return ue=L*Y,ve=L*te,T=P=null,Te}function Te(Ne){var rt=Ne[0]*ue,bt=Ne[1]*ve;if(G){var Tt=bt*u-rt*p;rt=rt*u+bt*p,bt=Tt}return[rt+$,bt+j]}return Te.invert=function(Ne){var rt=Ne[0]-$,bt=Ne[1]-j;if(G){var Tt=bt*u+rt*p;rt=rt*u-bt*p,bt=Tt}return[rt/ue,bt/ve]},Te.stream=function(Ne){return T&&P===Ne?T:T=ye(pe(P=Ne))},Te.postclip=function(Ne){return arguments.length?(pe=Ne,le=m=b=x=null,Ce()):pe},Te.clipExtent=function(Ne){return arguments.length?(pe=Ne==null?(le=m=b=x=null,Vm):qm(le=+Ne[0][0],m=+Ne[0][1],b=+Ne[1][0],x=+Ne[1][1]),Ce()):le==null?null:[[le,m],[b,x]]},Te.scale=function(Ne){return arguments.length?(L=+Ne,Ce()):L},Te.translate=function(Ne){return arguments.length?($=+Ne[0],j=+Ne[1],Ce()):[$,j]},Te.angle=function(Ne){return arguments.length?(p=On(G=Ne%360*br),u=lr(G),Ce()):G*Fi},Te.reflectX=function(Ne){return arguments.length?(Y=Ne?-1:1,Ce()):Y<0},Te.reflectY=function(Ne){return arguments.length?(te=Ne?-1:1,Ce()):te<0},Te.fitExtent=function(Ne,rt){return i0(Te,Ne,rt)},Te.fitSize=function(Ne,rt){return c6(Te,Ne,rt)},Te.fitWidth=function(Ne,rt){return u6(Te,Ne,rt)},Te.fitHeight=function(Ne,rt){return d6(Te,Ne,rt)},Te}function b6(u,p){var m=p*p,b=m*m;return[u*(.8707-.131979*m+b*(b*(.003971*m-.001529*b)-.013791)),p*(1.007226+m*(.015085+b*(.028874*m-.044475-.005916*b)))]}function _k(){return Gc(b6).scale(175.295)}function q2(u,p){return[lr(p)*On(u),On(p)]}function wk(){return Gc(q2).scale(249.5).clipAngle(90.000001)}function _6(u,p){var m=lr(p),b=1+lr(u)*m;return[m*On(u)/b,On(p)/b]}function xA(){return Gc(_6).scale(250).clipAngle(142)}function w6(u,p){return[i2(jn((ms+p)/2)),-u]}function kA(){var u=yk(w6),p=u.center,m=u.rotate;return u.center=function(b){return arguments.length?p([-b[1],b[0]]):[(b=p())[1],-b[0]]},u.rotate=function(b){return arguments.length?m([b[0],b[1],b.length>2?b[2]+90:90]):[(b=m())[0],b[1],b[2]-90]},m([0,0,90]).scale(159.155)}function Ek(u,p){return u.parent===p.parent?1:2}function V2(u,p){return u+p.x}function TA(u,p){return Math.max(u,p.y)}function CA(){var u=Ek,p=1,m=1,b=!1;function x(T){var P,L=0;T.eachAfter(function(G){var le=G.children;le?(G.x=function(ue){return ue.reduce(V2,0)/ue.length}(le),G.y=function(ue){return 1+ue.reduce(TA,0)}(le)):(G.x=P?L+=u(G,P):0,G.y=0,P=G)});var $=function(G){for(var le;le=G.children;)G=le[0];return G}(T),j=function(G){for(var le;le=G.children;)G=le[le.length-1];return G}(T),Y=$.x-u($,j)/2,te=j.x+u(j,$)/2;return T.eachAfter(b?function(G){G.x=(G.x-T.x)*p,G.y=(T.y-G.y)*m}:function(G){G.x=(G.x-Y)/(te-Y)*p,G.y=(1-(T.y?G.y/T.y:1))*m})}return x.separation=function(T){return arguments.length?(u=T,x):u},x.size=function(T){return arguments.length?(b=!1,p=+T[0],m=+T[1],x):b?null:[p,m]},x.nodeSize=function(T){return arguments.length?(b=!0,p=+T[0],m=+T[1],x):b?[p,m]:null},x}function IA(u){var p=0,m=u.children,b=m&&m.length;if(b)for(;--b>=0;)p+=m[b].value;else p=1;u.value=p}function E6(u,p){var m,b,x,T,P,L=new ah(u),$=+u.value&&(L.value=u.value),j=[L];for(p==null&&(p=RA);m=j.pop();)if($&&(m.value=+m.data.value),(x=p(m.data))&&(P=x.length))for(m.children=new Array(P),T=P-1;T>=0;--T)j.push(b=m.children[T]=new ah(x[T])),b.parent=m,b.depth=m.depth+1;return L.eachBefore(G2)}function RA(u){return u.children}function MA(u){u.data=u.data.data}function G2(u){var p=0;do u.height=p;while((u=u.parent)&&u.height<++p)}function ah(u){this.data=u,this.depth=this.height=0,this.parent=null}m6.invert=function(u,p){for(var m,b=p,x=b*b,T=x*x*x,P=0;P<12&&(T=(x=(b-=m=(b*(a0+l0*x+T*(ul+d1*x))-p)/(a0+3*l0*x+T*(7*ul+9*d1*x)))*b)*x*x,!(Xr(m)<r2));++P);return[Pl*u*(a0+3*l0*x+T*(7*ul+9*d1*x))/lr(b),bo(On(b)/Pl)]},y6.invert=s0(Yp),b6.invert=function(u,p){var m,b=p,x=25;do{var T=b*b,P=T*T;b-=m=(b*(1.007226+T*(.015085+P*(.028874*T-.044475-.005916*P)))-p)/(1.007226+T*(.045255+P*(.259866*T-.311325-.005916*11*P)))}while(Xr(m)>Rr&&--x>0);return[u/(.8707+(T=b*b)*(T*(T*T*T*(.003971-.001529*T)-.013791)-.131979)),b]},q2.invert=s0(bo),_6.invert=s0(function(u){return 2*Yp(u)}),w6.invert=function(u,p){return[-p,2*Yp(z7(u))-ms]},ah.prototype=E6.prototype={constructor:ah,count:function(){return this.eachAfter(IA)},each:function(u){var p,m,b,x,T=this,P=[T];do for(p=P.reverse(),P=[];T=p.pop();)if(u(T),m=T.children)for(b=0,x=m.length;b<x;++b)P.push(m[b]);while(P.length);return this},eachAfter:function(u){for(var p,m,b,x=this,T=[x],P=[];x=T.pop();)if(P.push(x),p=x.children)for(m=0,b=p.length;m<b;++m)T.push(p[m]);for(;x=P.pop();)u(x);return this},eachBefore:function(u){for(var p,m,b=this,x=[b];b=x.pop();)if(u(b),p=b.children)for(m=p.length-1;m>=0;--m)x.push(p[m]);return this},sum:function(u){return this.eachAfter(function(p){for(var m=+u(p.data)||0,b=p.children,x=b&&b.length;--x>=0;)m+=b[x].value;p.value=m})},sort:function(u){return this.eachBefore(function(p){p.children&&p.children.sort(u)})},path:function(u){for(var p=this,m=function(T,P){if(T===P)return T;var L=T.ancestors(),$=P.ancestors(),j=null;for(T=L.pop(),P=$.pop();T===P;)j=T,T=L.pop(),P=$.pop();return j}(p,u),b=[p];p!==m;)p=p.parent,b.push(p);for(var x=b.length;u!==m;)b.splice(x,0,u),u=u.parent;return b},ancestors:function(){for(var u=this,p=[u];u=u.parent;)p.push(u);return p},descendants:function(){var u=[];return this.each(function(p){u.push(p)}),u},leaves:function(){var u=[];return this.eachBefore(function(p){p.children||u.push(p)}),u},links:function(){var u=this,p=[];return u.each(function(m){m!==u&&p.push({source:m.parent,target:m})}),p},copy:function(){return E6(this).eachBefore(MA)}};var W2=Array.prototype.slice;function Sk(u){for(var p,m,b=0,x=(u=function(P){for(var L,$,j=P.length;j;)$=Math.random()*j--|0,L=P[j],P[j]=P[$],P[$]=L;return P}(W2.call(u))).length,T=[];b<x;)p=u[b],m&&xk(m,p)?++b:(m=LA(T=OA(T,p)),b=0);return m}function OA(u,p){var m,b;if(S6(p,u))return[p];for(m=0;m<u.length;++m)if(Y2(p,u[m])&&S6(f1(u[m],p),u))return[u[m],p];for(m=0;m<u.length-1;++m)for(b=m+1;b<u.length;++b)if(Y2(f1(u[m],u[b]),p)&&Y2(f1(u[m],p),u[b])&&Y2(f1(u[b],p),u[m])&&S6(kk(u[m],u[b],p),u))return[u[m],u[b],p];throw new Error}function Y2(u,p){var m=u.r-p.r,b=p.x-u.x,x=p.y-u.y;return m<0||m*m<b*b+x*x}function xk(u,p){var m=u.r-p.r+1e-6,b=p.x-u.x,x=p.y-u.y;return m>0&&m*m>b*b+x*x}function S6(u,p){for(var m=0;m<p.length;++m)if(!xk(u,p[m]))return!1;return!0}function LA(u){switch(u.length){case 1:return function(p){return{x:p.x,y:p.y,r:p.r}}(u[0]);case 2:return f1(u[0],u[1]);case 3:return kk(u[0],u[1],u[2])}}function f1(u,p){var m=u.x,b=u.y,x=u.r,T=p.x,P=p.y,L=p.r,$=T-m,j=P-b,Y=L-x,te=Math.sqrt($*$+j*j);return{x:(m+T+$/te*Y)/2,y:(b+P+j/te*Y)/2,r:(te+x+L)/2}}function kk(u,p,m){var b=u.x,x=u.y,T=u.r,P=p.x,L=p.y,$=p.r,j=m.x,Y=m.y,te=m.r,G=b-P,le=b-j,ue=x-L,ve=x-Y,ye=$-T,pe=te-T,Ce=b*b+x*x-T*T,Te=Ce-P*P-L*L+$*$,Ne=Ce-j*j-Y*Y+te*te,rt=le*ue-G*ve,bt=(ue*Ne-ve*Te)/(2*rt)-b,Tt=(ve*ye-ue*pe)/rt,Vt=(le*Te-G*Ne)/(2*rt)-x,ft=(G*pe-le*ye)/rt,Dt=Tt*Tt+ft*ft-1,Pe=2*(T+bt*Tt+Vt*ft),Ge=bt*bt+Vt*Vt-T*T,Rt=-(Dt?(Pe+Math.sqrt(Pe*Pe-4*Dt*Ge))/(2*Dt):Ge/Pe);return{x:b+bt+Tt*Rt,y:x+Vt+ft*Rt,r:Rt}}function Tk(u,p,m){var b,x,T,P,L=u.x-p.x,$=u.y-p.y,j=L*L+$*$;j?(x=p.r+m.r,x*=x,P=u.r+m.r,x>(P*=P)?(b=(j+P-x)/(2*j),T=Math.sqrt(Math.max(0,P/j-b*b)),m.x=u.x-b*L-T*$,m.y=u.y-b*$+T*L):(b=(j+x-P)/(2*j),T=Math.sqrt(Math.max(0,x/j-b*b)),m.x=p.x+b*L-T*$,m.y=p.y+b*$+T*L)):(m.x=p.x+m.r,m.y=p.y)}function Ck(u,p){var m=u.r+p.r-1e-6,b=p.x-u.x,x=p.y-u.y;return m>0&&m*m>b*b+x*x}function lh(u){var p=u._,m=u.next._,b=p.r+m.r,x=(p.x*m.r+m.x*p.r)/b,T=(p.y*m.r+m.y*p.r)/b;return x*x+T*T}function X2(u){this._=u,this.next=null,this.previous=null}function Ik(u){if(!(x=u.length))return 0;var p,m,b,x,T,P,L,$,j,Y,te;if((p=u[0]).x=0,p.y=0,!(x>1))return p.r;if(m=u[1],p.x=-m.r,m.x=p.r,m.y=0,!(x>2))return p.r+m.r;Tk(m,p,b=u[2]),p=new X2(p),m=new X2(m),b=new X2(b),p.next=b.previous=m,m.next=p.previous=b,b.next=m.previous=p;e:for(L=3;L<x;++L){Tk(p._,m._,b=u[L]),b=new X2(b),$=m.next,j=p.previous,Y=m._.r,te=p._.r;do if(Y<=te){if(Ck($._,b._)){m=$,p.next=m,m.previous=p,--L;continue e}Y+=$._.r,$=$.next}else{if(Ck(j._,b._)){(p=j).next=m,m.previous=p,--L;continue e}te+=j._.r,j=j.previous}while($!==j.next);for(b.previous=p,b.next=m,p.next=m.previous=m=b,T=lh(p);(b=b.next)!==m;)(P=lh(b))<T&&(p=b,T=P);m=p.next}for(p=[m._],b=m;(b=b.next)!==m;)p.push(b._);for(b=Sk(p),L=0;L<x;++L)(p=u[L]).x-=b.x,p.y-=b.y;return b.r}function AA(u){return Ik(u),u}function Rk(u){return u==null?null:h1(u)}function h1(u){if(typeof u!="function")throw new Error;return u}function Nd(){return 0}function ch(u){return function(){return u}}function Mk(u){return Math.sqrt(u.value)}function PA(){var u=null,p=1,m=1,b=Nd;function x(T){return T.x=p/2,T.y=m/2,u?T.eachBefore(Ok(u)).eachAfter(x6(b,.5)).eachBefore(Lk(1)):T.eachBefore(Ok(Mk)).eachAfter(x6(Nd,1)).eachAfter(x6(b,T.r/Math.min(p,m))).eachBefore(Lk(Math.min(p,m)/(2*T.r))),T}return x.radius=function(T){return arguments.length?(u=Rk(T),x):u},x.size=function(T){return arguments.length?(p=+T[0],m=+T[1],x):[p,m]},x.padding=function(T){return arguments.length?(b=typeof T=="function"?T:ch(+T),x):b},x}function Ok(u){return function(p){p.children||(p.r=Math.max(0,+u(p)||0))}}function x6(u,p){return function(m){if(b=m.children){var b,x,T,P=b.length,L=u(m)*p||0;if(L)for(x=0;x<P;++x)b[x].r+=L;if(T=Ik(b),L)for(x=0;x<P;++x)b[x].r-=L;m.r=T+L}}}function Lk(u){return function(p){var m=p.parent;p.r*=u,m&&(p.x=m.x+u*p.x,p.y=m.y+u*p.y)}}function Ak(u){u.x0=Math.round(u.x0),u.y0=Math.round(u.y0),u.x1=Math.round(u.x1),u.y1=Math.round(u.y1)}function c0(u,p,m,b,x){for(var T,P=u.children,L=-1,$=P.length,j=u.value&&(b-p)/u.value;++L<$;)(T=P[L]).y0=m,T.y1=x,T.x0=p,T.x1=p+=T.value*j}function DA(){var u=1,p=1,m=0,b=!1;function x(T){var P=T.height+1;return T.x0=T.y0=m,T.x1=u,T.y1=p/P,T.eachBefore(function(L,$){return function(j){j.children&&c0(j,j.x0,L*(j.depth+1)/$,j.x1,L*(j.depth+2)/$);var Y=j.x0,te=j.y0,G=j.x1-m,le=j.y1-m;G<Y&&(Y=G=(Y+G)/2),le<te&&(te=le=(te+le)/2),j.x0=Y,j.y0=te,j.x1=G,j.y1=le}}(p,P)),b&&T.eachBefore(Ak),T}return x.round=function(T){return arguments.length?(b=!!T,x):b},x.size=function(T){return arguments.length?(u=+T[0],p=+T[1],x):[u,p]},x.padding=function(T){return arguments.length?(m=+T,x):m},x}var NA={depth:-1},Pk={};function BA(u){return u.id}function $A(u){return u.parentId}function FA(){var u=BA,p=$A;function m(b){var x,T,P,L,$,j,Y,te=b.length,G=new Array(te),le={};for(T=0;T<te;++T)x=b[T],$=G[T]=new ah(x),(j=u(x,T,b))!=null&&(j+="")&&(le[Y="$"+($.id=j)]=Y in le?Pk:$);for(T=0;T<te;++T)if($=G[T],(j=p(b[T],T,b))!=null&&(j+="")){if(!(L=le["$"+j]))throw new Error("missing: "+j);if(L===Pk)throw new Error("ambiguous: "+j);L.children?L.children.push($):L.children=[$],$.parent=L}else{if(P)throw new Error("multiple roots");P=$}if(!P)throw new Error("no root");if(P.parent=NA,P.eachBefore(function(ue){ue.depth=ue.parent.depth+1,--te}).eachBefore(G2),P.parent=null,te>0)throw new Error("cycle");return P}return m.id=function(b){return arguments.length?(u=h1(b),m):u},m.parentId=function(b){return arguments.length?(p=h1(b),m):p},m}function UA(u,p){return u.parent===p.parent?1:2}function Z2(u){var p=u.children;return p?p[0]:u.t}function k6(u){var p=u.children;return p?p[p.length-1]:u.t}function HA(u,p,m){var b=m/(p.i-u.i);p.c-=b,p.s+=m,u.c+=b,p.z+=m,p.m+=m}function jA(u,p,m){return u.a.parent===p.parent?u.a:m}function J2(u,p){this._=u,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=p}function KA(){var u=UA,p=1,m=1,b=null;function x($){var j=function(pe){for(var Ce,Te,Ne,rt,bt,Tt=new J2(pe,0),Vt=[Tt];Ce=Vt.pop();)if(Ne=Ce._.children)for(Ce.children=new Array(bt=Ne.length),rt=bt-1;rt>=0;--rt)Vt.push(Te=Ce.children[rt]=new J2(Ne[rt],rt)),Te.parent=Ce;return(Tt.parent=new J2(null,0)).children=[Tt],Tt}($);if(j.eachAfter(T),j.parent.m=-j.z,j.eachBefore(P),b)$.eachBefore(L);else{var Y=$,te=$,G=$;$.eachBefore(function(pe){pe.x<Y.x&&(Y=pe),pe.x>te.x&&(te=pe),pe.depth>G.depth&&(G=pe)});var le=Y===te?1:u(Y,te)/2,ue=le-Y.x,ve=p/(te.x+le+ue),ye=m/(G.depth||1);$.eachBefore(function(pe){pe.x=(pe.x+ue)*ve,pe.y=pe.depth*ye})}return $}function T($){var j=$.children,Y=$.parent.children,te=$.i?Y[$.i-1]:null;if(j){(function(le){for(var ue,ve=0,ye=0,pe=le.children,Ce=pe.length;--Ce>=0;)(ue=pe[Ce]).z+=ve,ue.m+=ve,ve+=ue.s+(ye+=ue.c)})($);var G=(j[0].z+j[j.length-1].z)/2;te?($.z=te.z+u($._,te._),$.m=$.z-G):$.z=G}else te&&($.z=te.z+u($._,te._));$.parent.A=function(le,ue,ve){if(ue){for(var ye,pe=le,Ce=le,Te=ue,Ne=pe.parent.children[0],rt=pe.m,bt=Ce.m,Tt=Te.m,Vt=Ne.m;Te=k6(Te),pe=Z2(pe),Te&&pe;)Ne=Z2(Ne),(Ce=k6(Ce)).a=le,(ye=Te.z+Tt-pe.z-rt+u(Te._,pe._))>0&&(HA(jA(Te,le,ve),le,ye),rt+=ye,bt+=ye),Tt+=Te.m,rt+=pe.m,Vt+=Ne.m,bt+=Ce.m;Te&&!k6(Ce)&&(Ce.t=Te,Ce.m+=Tt-bt),pe&&!Z2(Ne)&&(Ne.t=pe,Ne.m+=rt-Vt,ve=le)}return ve}($,te,$.parent.A||Y[0])}function P($){$._.x=$.z+$.parent.m,$.m+=$.parent.m}function L($){$.x*=p,$.y=$.depth*m}return x.separation=function($){return arguments.length?(u=$,x):u},x.size=function($){return arguments.length?(b=!1,p=+$[0],m=+$[1],x):b?null:[p,m]},x.nodeSize=function($){return arguments.length?(b=!0,p=+$[0],m=+$[1],x):b?[p,m]:null},x}function Q2(u,p,m,b,x){for(var T,P=u.children,L=-1,$=P.length,j=u.value&&(x-m)/u.value;++L<$;)(T=P[L]).x0=p,T.x1=b,T.y0=m,T.y1=m+=T.value*j}J2.prototype=Object.create(ah.prototype);var Dk=(1+Math.sqrt(5))/2;function T6(u,p,m,b,x,T){for(var P,L,$,j,Y,te,G,le,ue,ve,ye,pe=[],Ce=p.children,Te=0,Ne=0,rt=Ce.length,bt=p.value;Te<rt;){$=x-m,j=T-b;do Y=Ce[Ne++].value;while(!Y&&Ne<rt);for(te=G=Y,ye=Y*Y*(ve=Math.max(j/$,$/j)/(bt*u)),ue=Math.max(G/ye,ye/te);Ne<rt;++Ne){if(Y+=L=Ce[Ne].value,L<te&&(te=L),L>G&&(G=L),ye=Y*Y*ve,(le=Math.max(G/ye,ye/te))>ue){Y-=L;break}ue=le}pe.push(P={value:Y,dice:$<j,children:Ce.slice(Te,Ne)}),P.dice?c0(P,m,b,x,bt?b+=j*Y/bt:T):Q2(P,m,b,bt?m+=$*Y/bt:x,T),bt-=Y,Te=Ne}return pe}const Nk=function u(p){function m(b,x,T,P,L){T6(p,b,x,T,P,L)}return m.ratio=function(b){return u((b=+b)>1?b:1)},m}(Dk);function zA(){var u=Nk,p=!1,m=1,b=1,x=[0],T=Nd,P=Nd,L=Nd,$=Nd,j=Nd;function Y(G){return G.x0=G.y0=0,G.x1=m,G.y1=b,G.eachBefore(te),x=[0],p&&G.eachBefore(Ak),G}function te(G){var le=x[G.depth],ue=G.x0+le,ve=G.y0+le,ye=G.x1-le,pe=G.y1-le;ye<ue&&(ue=ye=(ue+ye)/2),pe<ve&&(ve=pe=(ve+pe)/2),G.x0=ue,G.y0=ve,G.x1=ye,G.y1=pe,G.children&&(le=x[G.depth+1]=T(G)/2,ue+=j(G)-le,ve+=P(G)-le,(ye-=L(G)-le)<ue&&(ue=ye=(ue+ye)/2),(pe-=$(G)-le)<ve&&(ve=pe=(ve+pe)/2),u(G,ue,ve,ye,pe))}return Y.round=function(G){return arguments.length?(p=!!G,Y):p},Y.size=function(G){return arguments.length?(m=+G[0],b=+G[1],Y):[m,b]},Y.tile=function(G){return arguments.length?(u=h1(G),Y):u},Y.padding=function(G){return arguments.length?Y.paddingInner(G).paddingOuter(G):Y.paddingInner()},Y.paddingInner=function(G){return arguments.length?(T=typeof G=="function"?G:ch(+G),Y):T},Y.paddingOuter=function(G){return arguments.length?Y.paddingTop(G).paddingRight(G).paddingBottom(G).paddingLeft(G):Y.paddingTop()},Y.paddingTop=function(G){return arguments.length?(P=typeof G=="function"?G:ch(+G),Y):P},Y.paddingRight=function(G){return arguments.length?(L=typeof G=="function"?G:ch(+G),Y):L},Y.paddingBottom=function(G){return arguments.length?($=typeof G=="function"?G:ch(+G),Y):$},Y.paddingLeft=function(G){return arguments.length?(j=typeof G=="function"?G:ch(+G),Y):j},Y}function qA(u,p,m,b,x){var T,P,L=u.children,$=L.length,j=new Array($+1);for(j[0]=P=T=0;T<$;++T)j[T+1]=P+=L[T].value;(function Y(te,G,le,ue,ve,ye,pe){if(te>=G-1){var Ce=L[te];return Ce.x0=ue,Ce.y0=ve,Ce.x1=ye,void(Ce.y1=pe)}for(var Te=j[te],Ne=le/2+Te,rt=te+1,bt=G-1;rt<bt;){var Tt=rt+bt>>>1;j[Tt]<Ne?rt=Tt+1:bt=Tt}Ne-j[rt-1]<j[rt]-Ne&&te+1<rt&&--rt;var Vt=j[rt]-Te,ft=le-Vt;if(ye-ue>pe-ve){var Dt=(ue*ft+ye*Vt)/le;Y(te,rt,Vt,ue,ve,Dt,pe),Y(rt,G,ft,Dt,ve,ye,pe)}else{var Pe=(ve*ft+pe*Vt)/le;Y(te,rt,Vt,ue,ve,ye,Pe),Y(rt,G,ft,ue,Pe,ye,pe)}})(0,$,u.value,p,m,b,x)}function uc(u,p,m,b,x){(1&u.depth?Q2:c0)(u,p,m,b,x)}const Bk=function u(p){function m(b,x,T,P,L){if(($=b._squarify)&&$.ratio===p)for(var $,j,Y,te,G,le=-1,ue=$.length,ve=b.value;++le<ue;){for(Y=(j=$[le]).children,te=j.value=0,G=Y.length;te<G;++te)j.value+=Y[te].value;j.dice?c0(j,x,T,P,T+=(L-T)*j.value/ve):Q2(j,x,T,x+=(P-x)*j.value/ve,L),ve-=j.value}else b._squarify=$=T6(p,b,x,T,P,L),$.ratio=p}return m.ratio=function(b){return u((b=+b)>1?b:1)},m}(Dk);function eb(u){var p=u.length;return function(m){return u[Math.max(0,Math.min(p-1,Math.floor(m*p)))]}}function VA(u,p){var m=xa(+u,+p);return function(b){var x=m(b);return x-360*Math.floor(x/360)}}function C6(u,p){return u=+u,p=+p,function(m){return Math.round(u*(1-m)+p*m)}}var Bd=Math.SQRT2;function $k(u){return((u=Math.exp(u))+1/u)/2}function Fk(u,p){var m,b,x=u[0],T=u[1],P=u[2],L=p[0],$=p[1],j=p[2],Y=L-x,te=$-T,G=Y*Y+te*te;if(G<1e-12)b=Math.log(j/P)/Bd,m=function(Ce){return[x+Ce*Y,T+Ce*te,P*Math.exp(Bd*Ce*b)]};else{var le=Math.sqrt(G),ue=(j*j-P*P+4*G)/(2*P*2*le),ve=(j*j-P*P-4*G)/(2*j*2*le),ye=Math.log(Math.sqrt(ue*ue+1)-ue),pe=Math.log(Math.sqrt(ve*ve+1)-ve);b=(pe-ye)/Bd,m=function(Ce){var Te,Ne=Ce*b,rt=$k(ye),bt=P/(2*le)*(rt*(Te=Bd*Ne+ye,((Te=Math.exp(2*Te))-1)/(Te+1))-function(Tt){return((Tt=Math.exp(Tt))-1/Tt)/2}(ye));return[x+bt*Y,T+bt*te,P*rt/$k(Bd*Ne+ye)]}}return m.duration=1e3*b,m}function I6(u){return function(p,m){var b=u((p=Ap(p)).h,(m=Ap(m)).h),x=Cs(p.s,m.s),T=Cs(p.l,m.l),P=Cs(p.opacity,m.opacity);return function(L){return p.h=b(L),p.s=x(L),p.l=T(L),p.opacity=P(L),p+""}}}const GA=I6(xa);var tb=I6(Cs);function u0(u,p){var m=Cs((u=Sm(u)).l,(p=Sm(p)).l),b=Cs(u.a,p.a),x=Cs(u.b,p.b),T=Cs(u.opacity,p.opacity);return function(P){return u.l=m(P),u.a=b(P),u.b=x(P),u.opacity=T(P),u+""}}function uh(u){return function(p,m){var b=u((p=zv(p)).h,(m=zv(m)).h),x=Cs(p.c,m.c),T=Cs(p.l,m.l),P=Cs(p.opacity,m.opacity);return function(L){return p.h=b(L),p.c=x(L),p.l=T(L),p.opacity=P(L),p+""}}}const d0=uh(xa);var f0=uh(Cs);function h0(u){return function p(m){function b(x,T){var P=u((x=Il(x)).h,(T=Il(T)).h),L=Cs(x.s,T.s),$=Cs(x.l,T.l),j=Cs(x.opacity,T.opacity);return function(Y){return x.h=P(Y),x.s=L(Y),x.l=$(Math.pow(Y,m)),x.opacity=j(Y),x+""}}return m=+m,b.gamma=p,b}(1)}const dh=h0(xa);var fh=h0(Cs);function p0(u,p){for(var m=0,b=p.length-1,x=p[0],T=new Array(b<0?0:b);m<b;)T[m]=u(x,x=p[++m]);return function(P){var L=Math.max(0,Math.min(b-1,Math.floor(P*=b)));return T[L](P-L)}}function Uk(u,p){for(var m=new Array(p),b=0;b<p;++b)m[b]=u(b/(p-1));return m}function R6(u){for(var p,m=-1,b=u.length,x=u[b-1],T=0;++m<b;)p=x,x=u[m],T+=p[1]*x[0]-p[0]*x[1];return T/2}function WA(u){for(var p,m,b=-1,x=u.length,T=0,P=0,L=u[x-1],$=0;++b<x;)p=L,L=u[b],$+=m=p[0]*L[1]-L[0]*p[1],T+=(p[0]+L[0])*m,P+=(p[1]+L[1])*m;return[T/($*=3),P/$]}function nb(u,p,m){return(p[0]-u[0])*(m[1]-u[1])-(p[1]-u[1])*(m[0]-u[0])}function Hk(u,p){return u[0]-p[0]||u[1]-p[1]}function M6(u){for(var p=u.length,m=[0,1],b=2,x=2;x<p;++x){for(;b>1&&nb(u[m[b-2]],u[m[b-1]],u[x])<=0;)--b;m[b++]=x}return m.slice(0,b)}function YA(u){if((m=u.length)<3)return null;var p,m,b=new Array(m),x=new Array(m);for(p=0;p<m;++p)b[p]=[+u[p][0],+u[p][1],p];for(b.sort(Hk),p=0;p<m;++p)x[p]=[b[p][0],-b[p][1]];var T=M6(b),P=M6(x),L=P[0]===T[0],$=P[P.length-1]===T[T.length-1],j=[];for(p=T.length-1;p>=0;--p)j.push(u[b[T[p]][2]]);for(p=+L;p<P.length-$;++p)j.push(u[b[P[p]][2]]);return j}function O6(u,p){for(var m,b,x=u.length,T=u[x-1],P=p[0],L=p[1],$=T[0],j=T[1],Y=!1,te=0;te<x;++te)m=(T=u[te])[0],(b=T[1])>L!=j>L&&P<($-m)*(L-b)/(j-b)+m&&(Y=!Y),$=m,j=b;return Y}function jk(u){for(var p,m,b=-1,x=u.length,T=u[x-1],P=T[0],L=T[1],$=0;++b<x;)p=P,m=L,p-=P=(T=u[b])[0],m-=L=T[1],$+=Math.sqrt(p*p+m*m);return $}function p1(){return Math.random()}const XA=function u(p){function m(b,x){return b=b==null?0:+b,x=x==null?1:+x,arguments.length===1?(x=b,b=0):x-=b,function(){return p()*x+b}}return m.source=u,m}(p1),g0=function u(p){function m(b,x){var T,P;return b=b==null?0:+b,x=x==null?1:+x,function(){var L;if(T!=null)L=T,T=null;else do T=2*p()-1,L=2*p()-1,P=T*T+L*L;while(!P||P>1);return b+x*L*Math.sqrt(-2*Math.log(P)/P)}}return m.source=u,m}(p1),L6=function u(p){function m(){var b=g0.source(p).apply(this,arguments);return function(){return Math.exp(b())}}return m.source=u,m}(p1),dc=function u(p){function m(b){return function(){for(var x=0,T=0;T<b;++T)x+=p();return x}}return m.source=u,m}(p1),fc=function u(p){function m(b){var x=dc.source(p)(b);return function(){return x()/b}}return m.source=u,m}(p1),$d=function u(p){function m(b){return function(){return-Math.log(1-p())/b}}return m.source=u,m}(p1);function Ma(u,p){switch(arguments.length){case 0:break;case 1:this.range(u);break;default:this.range(p).domain(u)}return this}function Wc(u,p){switch(arguments.length){case 0:break;case 1:this.interpolator(u);break;default:this.interpolator(p).domain(u)}return this}var rb=Array.prototype,m0=rb.map,Fd=rb.slice,A6={name:"implicit"};function P6(){var u=Tu(),p=[],m=[],b=A6;function x(T){var P=T+"",L=u.get(P);if(!L){if(b!==A6)return b;u.set(P,L=p.push(T))}return m[(L-1)%m.length]}return x.domain=function(T){if(!arguments.length)return p.slice();p=[],u=Tu();for(var P,L,$=-1,j=T.length;++$<j;)u.has(L=(P=T[$])+"")||u.set(L,p.push(P));return x},x.range=function(T){return arguments.length?(m=Fd.call(T),x):m.slice()},x.unknown=function(T){return arguments.length?(b=T,x):b},x.copy=function(){return P6(p,m).unknown(b)},Ma.apply(x,arguments),x}function D6(){var u,p,m=P6().unknown(void 0),b=m.domain,x=m.range,T=[0,1],P=!1,L=0,$=0,j=.5;function Y(){var te=b().length,G=T[1]<T[0],le=T[G-0],ue=T[1-G];u=(ue-le)/Math.max(1,te-L+2*$),P&&(u=Math.floor(u)),le+=(ue-le-u*(te-L))*j,p=u*(1-L),P&&(le=Math.round(le),p=Math.round(p));var ve=K(te).map(function(ye){return le+u*ye});return x(G?ve.reverse():ve)}return delete m.unknown,m.domain=function(te){return arguments.length?(b(te),Y()):b()},m.range=function(te){return arguments.length?(T=[+te[0],+te[1]],Y()):T.slice()},m.rangeRound=function(te){return T=[+te[0],+te[1]],P=!0,Y()},m.bandwidth=function(){return p},m.step=function(){return u},m.round=function(te){return arguments.length?(P=!!te,Y()):P},m.padding=function(te){return arguments.length?(L=Math.min(1,$=+te),Y()):L},m.paddingInner=function(te){return arguments.length?(L=Math.min(1,te),Y()):L},m.paddingOuter=function(te){return arguments.length?($=+te,Y()):$},m.align=function(te){return arguments.length?(j=Math.max(0,Math.min(1,te)),Y()):j},m.copy=function(){return D6(b(),T).round(P).paddingInner(L).paddingOuter($).align(j)},Ma.apply(Y(),arguments)}function Kk(u){var p=u.copy;return u.padding=u.paddingOuter,delete u.paddingInner,delete u.paddingOuter,u.copy=function(){return Kk(p())},u}function N6(){return Kk(D6.apply(null,arguments).paddingInner(1))}function y0(u){return+u}var B6=[0,1];function Is(u){return u}function g1(u,p){return(p-=u=+u)?function(b){return(b-u)/p}:(m=isNaN(p)?NaN:.5,function(){return m});var m}function v0(u){var p,m=u[0],b=u[u.length-1];return m>b&&(p=m,m=b,b=p),function(x){return Math.max(m,Math.min(b,x))}}function m1(u,p,m){var b=u[0],x=u[1],T=p[0],P=p[1];return x<b?(b=g1(x,b),T=m(P,T)):(b=g1(b,x),T=m(T,P)),function(L){return T(b(L))}}function b0(u,p,m){var b=Math.min(u.length,p.length)-1,x=new Array(b),T=new Array(b),P=-1;for(u[b]<u[0]&&(u=u.slice().reverse(),p=p.slice().reverse());++P<b;)x[P]=g1(u[P],u[P+1]),T[P]=m(p[P],p[P+1]);return function(L){var $=h(u,L,1,b)-1;return T[$](x[$](L))}}function Oa(u,p){return p.domain(u.domain()).range(u.range()).interpolate(u.interpolate()).clamp(u.clamp()).unknown(u.unknown())}function ib(){var u,p,m,b,x,T,P=B6,L=B6,$=$f,j=Is;function Y(){return b=Math.min(P.length,L.length)>2?b0:m1,x=T=null,te}function te(G){return isNaN(G=+G)?m:(x||(x=b(P.map(u),L,$)))(u(j(G)))}return te.invert=function(G){return j(p((T||(T=b(L,P.map(u),ea)))(G)))},te.domain=function(G){return arguments.length?(P=m0.call(G,y0),j===Is||(j=v0(P)),Y()):P.slice()},te.range=function(G){return arguments.length?(L=Fd.call(G),Y()):L.slice()},te.rangeRound=function(G){return L=Fd.call(G),$=C6,Y()},te.clamp=function(G){return arguments.length?(j=G?v0(P):Is,te):j!==Is},te.interpolate=function(G){return arguments.length?($=G,Y()):$},te.unknown=function(G){return arguments.length?(m=G,te):m},function(G,le){return u=G,p=le,Y()}}function zk(u,p){return ib()(u,p)}function qk(u,p,m,b){var x,T=Q(u,p,m);switch((b=Cm(b==null?",f":b)).type){case"s":var P=Math.max(Math.abs(u),Math.abs(p));return b.precision!=null||isNaN(x=H7(T,P))||(b.precision=x),e2(b,P);case"":case"e":case"g":case"p":case"r":b.precision!=null||isNaN(x=j7(T,Math.max(Math.abs(u),Math.abs(p))))||(b.precision=x-(b.type==="e"));break;case"f":case"%":b.precision!=null||isNaN(x=U7(T))||(b.precision=x-2*(b.type==="%"))}return Wp(b)}function hh(u){var p=u.domain;return u.ticks=function(m){var b=p();return se(b[0],b[b.length-1],m==null?10:m)},u.tickFormat=function(m,b){var x=p();return qk(x[0],x[x.length-1],m==null?10:m,b)},u.nice=function(m){m==null&&(m=10);var b,x=p(),T=0,P=x.length-1,L=x[T],$=x[P];return $<L&&(b=L,L=$,$=b,b=T,T=P,P=b),(b=oe(L,$,m))>0?b=oe(L=Math.floor(L/b)*b,$=Math.ceil($/b)*b,m):b<0&&(b=oe(L=Math.ceil(L*b)/b,$=Math.floor($*b)/b,m)),b>0?(x[T]=Math.floor(L/b)*b,x[P]=Math.ceil($/b)*b,p(x)):b<0&&(x[T]=Math.ceil(L*b)/b,x[P]=Math.floor($*b)/b,p(x)),u},u}function Vk(){var u=zk(Is,Is);return u.copy=function(){return Oa(u,Vk())},Ma.apply(u,arguments),hh(u)}function Gk(u){var p;function m(b){return isNaN(b=+b)?p:b}return m.invert=m,m.domain=m.range=function(b){return arguments.length?(u=m0.call(b,y0),m):u.slice()},m.unknown=function(b){return arguments.length?(p=b,m):p},m.copy=function(){return Gk(u).unknown(p)},u=arguments.length?m0.call(u,y0):[0,1],hh(m)}function Wk(u,p){var m,b=0,x=(u=u.slice()).length-1,T=u[b],P=u[x];return P<T&&(m=b,b=x,x=m,m=T,T=P,P=m),u[b]=p.floor(T),u[x]=p.ceil(P),u}function $6(u){return Math.log(u)}function F6(u){return Math.exp(u)}function Yk(u){return-Math.log(-u)}function _0(u){return-Math.exp(-u)}function Xk(u){return isFinite(u)?+("1e"+u):u<0?0:u}function w0(u){return function(p){return-u(-p)}}function U6(u){var p,m,b=u($6,F6),x=b.domain,T=10;function P(){return p=function(L){return L===Math.E?Math.log:L===10&&Math.log10||L===2&&Math.log2||(L=Math.log(L),function($){return Math.log($)/L})}(T),m=function(L){return L===10?Xk:L===Math.E?Math.exp:function($){return Math.pow(L,$)}}(T),x()[0]<0?(p=w0(p),m=w0(m),u(Yk,_0)):u($6,F6),b}return b.base=function(L){return arguments.length?(T=+L,P()):T},b.domain=function(L){return arguments.length?(x(L),P()):x()},b.ticks=function(L){var $,j=x(),Y=j[0],te=j[j.length-1];($=te<Y)&&(ve=Y,Y=te,te=ve);var G,le,ue,ve=p(Y),ye=p(te),pe=L==null?10:+L,Ce=[];if(!(T%1)&&ye-ve<pe){if(ve=Math.round(ve)-1,ye=Math.round(ye)+1,Y>0){for(;ve<ye;++ve)for(le=1,G=m(ve);le<T;++le)if(!((ue=G*le)<Y)){if(ue>te)break;Ce.push(ue)}}else for(;ve<ye;++ve)for(le=T-1,G=m(ve);le>=1;--le)if(!((ue=G*le)<Y)){if(ue>te)break;Ce.push(ue)}}else Ce=se(ve,ye,Math.min(ye-ve,pe)).map(m);return $?Ce.reverse():Ce},b.tickFormat=function(L,$){if($==null&&($=T===10?".0e":","),typeof $!="function"&&($=Wp($)),L===1/0)return $;L==null&&(L=10);var j=Math.max(1,T*L/b.ticks().length);return function(Y){var te=Y/m(Math.round(p(Y)));return te*T<T-.5&&(te*=T),te<=j?$(Y):""}},b.nice=function(){return x(Wk(x(),{floor:function(L){return m(Math.floor(p(L)))},ceil:function(L){return m(Math.ceil(p(L)))}}))},b}function sb(){var u=U6(ib()).domain([1,10]);return u.copy=function(){return Oa(u,sb()).base(u.base())},Ma.apply(u,arguments),u}function La(u){return function(p){return Math.sign(p)*Math.log1p(Math.abs(p/u))}}function H6(u){return function(p){return Math.sign(p)*Math.expm1(Math.abs(p))*u}}function ob(u){var p=1,m=u(La(p),H6(p));return m.constant=function(b){return arguments.length?u(La(p=+b),H6(p)):p},hh(m)}function ab(){var u=ob(ib());return u.copy=function(){return Oa(u,ab()).constant(u.constant())},Ma.apply(u,arguments)}function j6(u){return function(p){return p<0?-Math.pow(-p,u):Math.pow(p,u)}}function Zk(u){return u<0?-Math.sqrt(-u):Math.sqrt(u)}function Yc(u){return u<0?-u*u:u*u}function E0(u){var p=u(Is,Is),m=1;function b(){return m===1?u(Is,Is):m===.5?u(Zk,Yc):u(j6(m),j6(1/m))}return p.exponent=function(x){return arguments.length?(m=+x,b()):m},hh(p)}function lb(){var u=E0(ib());return u.copy=function(){return Oa(u,lb()).exponent(u.exponent())},Ma.apply(u,arguments),u}function Jk(){return lb.apply(null,arguments).exponent(.5)}function K6(){var u,p=[],m=[],b=[];function x(){var P=0,L=Math.max(1,m.length);for(b=new Array(L-1);++P<L;)b[P-1]=Ee(p,P/L);return T}function T(P){return isNaN(P=+P)?u:m[h(b,P)]}return T.invertExtent=function(P){var L=m.indexOf(P);return L<0?[NaN,NaN]:[L>0?b[L-1]:p[0],L<b.length?b[L]:p[p.length-1]]},T.domain=function(P){if(!arguments.length)return p.slice();p=[];for(var L,$=0,j=P.length;$<j;++$)(L=P[$])==null||isNaN(L=+L)||p.push(L);return p.sort(i),x()},T.range=function(P){return arguments.length?(m=Fd.call(P),x()):m.slice()},T.unknown=function(P){return arguments.length?(u=P,T):u},T.quantiles=function(){return b.slice()},T.copy=function(){return K6().domain(p).range(m).unknown(u)},Ma.apply(T,arguments)}function cb(){var u,p=0,m=1,b=1,x=[.5],T=[0,1];function P($){return $<=$?T[h(x,$,0,b)]:u}function L(){var $=-1;for(x=new Array(b);++$<b;)x[$]=(($+1)*m-($-b)*p)/(b+1);return P}return P.domain=function($){return arguments.length?(p=+$[0],m=+$[1],L()):[p,m]},P.range=function($){return arguments.length?(b=(T=Fd.call($)).length-1,L()):T.slice()},P.invertExtent=function($){var j=T.indexOf($);return j<0?[NaN,NaN]:j<1?[p,x[0]]:j>=b?[x[b-1],m]:[x[j-1],x[j]]},P.unknown=function($){return arguments.length&&(u=$),P},P.thresholds=function(){return x.slice()},P.copy=function(){return cb().domain([p,m]).range(T).unknown(u)},Ma.apply(hh(P),arguments)}function ub(){var u,p=[.5],m=[0,1],b=1;function x(T){return T<=T?m[h(p,T,0,b)]:u}return x.domain=function(T){return arguments.length?(p=Fd.call(T),b=Math.min(p.length,m.length-1),x):p.slice()},x.range=function(T){return arguments.length?(m=Fd.call(T),b=Math.min(p.length,m.length-1),x):m.slice()},x.invertExtent=function(T){var P=m.indexOf(T);return[p[P-1],p[P]]},x.unknown=function(T){return arguments.length?(u=T,x):u},x.copy=function(){return ub().domain(p).range(m).unknown(u)},Ma.apply(x,arguments)}var z6=new Date,db=new Date;function Gs(u,p,m,b){function x(T){return u(T=arguments.length===0?new Date:new Date(+T)),T}return x.floor=function(T){return u(T=new Date(+T)),T},x.ceil=function(T){return u(T=new Date(T-1)),p(T,1),u(T),T},x.round=function(T){var P=x(T),L=x.ceil(T);return T-P<L-T?P:L},x.offset=function(T,P){return p(T=new Date(+T),P==null?1:Math.floor(P)),T},x.range=function(T,P,L){var $,j=[];if(T=x.ceil(T),L=L==null?1:Math.floor(L),!(T<P&&L>0))return j;do j.push($=new Date(+T)),p(T,L),u(T);while($<T&&T<P);return j},x.filter=function(T){return Gs(function(P){if(P>=P)for(;u(P),!T(P);)P.setTime(P-1)},function(P,L){if(P>=P)if(L<0)for(;++L<=0;)for(;p(P,-1),!T(P););else for(;--L>=0;)for(;p(P,1),!T(P););})},m&&(x.count=function(T,P){return z6.setTime(+T),db.setTime(+P),u(z6),u(db),Math.floor(m(z6,db))},x.every=function(T){return T=Math.floor(T),isFinite(T)&&T>0?T>1?x.filter(b?function(P){return b(P)%T==0}:function(P){return x.count(0,P)%T==0}):x:null}),x}var q6=Gs(function(u){u.setMonth(0,1),u.setHours(0,0,0,0)},function(u,p){u.setFullYear(u.getFullYear()+p)},function(u,p){return p.getFullYear()-u.getFullYear()},function(u){return u.getFullYear()});q6.every=function(u){return isFinite(u=Math.floor(u))&&u>0?Gs(function(p){p.setFullYear(Math.floor(p.getFullYear()/u)*u),p.setMonth(0,1),p.setHours(0,0,0,0)},function(p,m){p.setFullYear(p.getFullYear()+m*u)}):null};const ph=q6;var ZA=q6.range,Qk=Gs(function(u){u.setDate(1),u.setHours(0,0,0,0)},function(u,p){u.setMonth(u.getMonth()+p)},function(u,p){return p.getMonth()-u.getMonth()+12*(p.getFullYear()-u.getFullYear())},function(u){return u.getMonth()});const e9=Qk;var JA=Qk.range,fb=1e3,gh=6e4,hb=36e5,t9=864e5,n9=6048e5;function mh(u){return Gs(function(p){p.setDate(p.getDate()-(p.getDay()+7-u)%7),p.setHours(0,0,0,0)},function(p,m){p.setDate(p.getDate()+7*m)},function(p,m){return(m-p-(m.getTimezoneOffset()-p.getTimezoneOffset())*gh)/n9})}var S0=mh(0),x0=mh(1),r9=mh(2),i9=mh(3),Ud=mh(4),s9=mh(5),o9=mh(6),a9=S0.range,QA=x0.range,eP=r9.range,Pu=i9.range,l9=Ud.range,Du=s9.range,tP=o9.range,c9=Gs(function(u){u.setHours(0,0,0,0)},function(u,p){u.setDate(u.getDate()+p)},function(u,p){return(p-u-(p.getTimezoneOffset()-u.getTimezoneOffset())*gh)/t9},function(u){return u.getDate()-1});const Nu=c9;var u9=c9.range,V6=Gs(function(u){u.setTime(u-u.getMilliseconds()-u.getSeconds()*fb-u.getMinutes()*gh)},function(u,p){u.setTime(+u+p*hb)},function(u,p){return(p-u)/hb},function(u){return u.getHours()});const G6=V6;var nP=V6.range,pb=Gs(function(u){u.setTime(u-u.getMilliseconds()-u.getSeconds()*fb)},function(u,p){u.setTime(+u+p*gh)},function(u,p){return(p-u)/gh},function(u){return u.getMinutes()});const W6=pb;var Y6=pb.range,d9=Gs(function(u){u.setTime(u-u.getMilliseconds())},function(u,p){u.setTime(+u+p*fb)},function(u,p){return(p-u)/fb},function(u){return u.getUTCSeconds()});const y1=d9;var v1=d9.range,hc=Gs(function(){},function(u,p){u.setTime(+u+p)},function(u,p){return p-u});hc.every=function(u){return u=Math.floor(u),isFinite(u)&&u>0?u>1?Gs(function(p){p.setTime(Math.floor(p/u)*u)},function(p,m){p.setTime(+p+m*u)},function(p,m){return(m-p)/u}):hc:null};const k0=hc;var T0=hc.range;function Bu(u){return Gs(function(p){p.setUTCDate(p.getUTCDate()-(p.getUTCDay()+7-u)%7),p.setUTCHours(0,0,0,0)},function(p,m){p.setUTCDate(p.getUTCDate()+7*m)},function(p,m){return(m-p)/n9})}var C0=Bu(0),Hd=Bu(1),yh=Bu(2),X6=Bu(3),lo=Bu(4),Rs=Bu(5),vh=Bu(6),gb=C0.range,rP=Hd.range,pc=yh.range,bh=X6.range,mb=lo.range,yb=Rs.range,Z6=vh.range,vb=Gs(function(u){u.setUTCHours(0,0,0,0)},function(u,p){u.setUTCDate(u.getUTCDate()+p)},function(u,p){return(p-u)/t9},function(u){return u.getUTCDate()-1});const bb=vb;var iP=vb.range,I0=Gs(function(u){u.setUTCMonth(0,1),u.setUTCHours(0,0,0,0)},function(u,p){u.setUTCFullYear(u.getUTCFullYear()+p)},function(u,p){return p.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});I0.every=function(u){return isFinite(u=Math.floor(u))&&u>0?Gs(function(p){p.setUTCFullYear(Math.floor(p.getUTCFullYear()/u)*u),p.setUTCMonth(0,1),p.setUTCHours(0,0,0,0)},function(p,m){p.setUTCFullYear(p.getUTCFullYear()+m*u)}):null};const _h=I0;var sP=I0.range;function J6(u){if(0<=u.y&&u.y<100){var p=new Date(-1,u.m,u.d,u.H,u.M,u.S,u.L);return p.setFullYear(u.y),p}return new Date(u.y,u.m,u.d,u.H,u.M,u.S,u.L)}function b1(u){if(0<=u.y&&u.y<100){var p=new Date(Date.UTC(-1,u.m,u.d,u.H,u.M,u.S,u.L));return p.setUTCFullYear(u.y),p}return new Date(Date.UTC(u.y,u.m,u.d,u.H,u.M,u.S,u.L))}function _1(u,p,m){return{y:u,m:p,d:m,H:0,M:0,S:0,L:0}}function f9(u){var p=u.dateTime,m=u.date,b=u.time,x=u.periods,T=u.days,P=u.shortDays,L=u.months,$=u.shortMonths,j=Ms(x),Y=Kr(x),te=Ms(T),G=Kr(T),le=Ms(P),ue=Kr(P),ve=Ms(L),ye=Kr(L),pe=Ms($),Ce=Kr($),Te={a:function(ft){return P[ft.getDay()]},A:function(ft){return T[ft.getDay()]},b:function(ft){return $[ft.getMonth()]},B:function(ft){return L[ft.getMonth()]},c:null,d:xb,e:xb,f:gP,g:w9,G:Tb,H:E1,I:hP,j:pP,L:y9,m:v9,M:Dl,p:function(ft){return x[+(ft.getHours()>=12)]},q:function(ft){return 1+~~(ft.getMonth()/3)},Q:O0,s:L0,S:b9,u:_9,U:a4,V:mP,w:kb,W:yP,x:null,X:null,y:vP,Y:E9,Z:gc,"%":S1},Ne={a:function(ft){return P[ft.getUTCDay()]},A:function(ft){return T[ft.getUTCDay()]},b:function(ft){return $[ft.getUTCMonth()]},B:function(ft){return L[ft.getUTCMonth()]},c:null,d:xh,e:xh,f:co,g:d4,G:M0,H:jd,I:S9,j:x9,L:l4,m:bP,M:_P,p:function(ft){return x[+(ft.getUTCHours()>=12)]},q:function(ft){return 1+~~(ft.getUTCMonth()/3)},Q:O0,s:L0,S:wP,u:Cb,U:c4,V:dl,w:Ib,W:k9,x:null,X:null,y:Dr,Y:T9,Z:uo,"%":S1},rt={a:function(ft,Dt,Pe){var Ge=le.exec(Dt.slice(Pe));return Ge?(ft.w=ue[Ge[0].toLowerCase()],Pe+Ge[0].length):-1},A:function(ft,Dt,Pe){var Ge=te.exec(Dt.slice(Pe));return Ge?(ft.w=G[Ge[0].toLowerCase()],Pe+Ge[0].length):-1},b:function(ft,Dt,Pe){var Ge=pe.exec(Dt.slice(Pe));return Ge?(ft.m=Ce[Ge[0].toLowerCase()],Pe+Ge[0].length):-1},B:function(ft,Dt,Pe){var Ge=ve.exec(Dt.slice(Pe));return Ge?(ft.m=ye[Ge[0].toLowerCase()],Pe+Ge[0].length):-1},c:function(ft,Dt,Pe){return Vt(ft,p,Dt,Pe)},d:g9,e:g9,f:fP,g:p9,G:Sb,H:m9,I:m9,j:r4,L:dP,m:cP,M:uP,p:function(ft,Dt,Pe){var Ge=j.exec(Dt.slice(Pe));return Ge?(ft.p=Y[Ge[0].toLowerCase()],Pe+Ge[0].length):-1},q:n4,Q:s4,s:o4,S:i4,u:Ho,U:t4,V:oP,w:Zt,W:aP,x:function(ft,Dt,Pe){return Vt(ft,m,Dt,Pe)},X:function(ft,Dt,Pe){return Vt(ft,b,Dt,Pe)},y:p9,Y:Sb,Z:lP,"%":w1};function bt(ft,Dt){return function(Pe){var Ge,Rt,mt,Mt=[],on=-1,Fn=0,yr=ft.length;for(Pe instanceof Date||(Pe=new Date(+Pe));++on<yr;)ft.charCodeAt(on)===37&&(Mt.push(ft.slice(Fn,on)),(Rt=e4[Ge=ft.charAt(++on)])!=null?Ge=ft.charAt(++on):Rt=Ge==="e"?" ":"0",(mt=Dt[Ge])&&(Ge=mt(Pe,Rt)),Mt.push(Ge),Fn=on+1);return Mt.push(ft.slice(Fn,on)),Mt.join("")}}function Tt(ft,Dt){return function(Pe){var Ge,Rt,mt=_1(1900,void 0,1);if(Vt(mt,ft,Pe+="",0)!=Pe.length)return null;if("Q"in mt)return new Date(mt.Q);if("s"in mt)return new Date(1e3*mt.s+("L"in mt?mt.L:0));if(Dt&&!("Z"in mt)&&(mt.Z=0),"p"in mt&&(mt.H=mt.H%12+12*mt.p),mt.m===void 0&&(mt.m="q"in mt?mt.q:0),"V"in mt){if(mt.V<1||mt.V>53)return null;"w"in mt||(mt.w=1),"Z"in mt?(Rt=(Ge=b1(_1(mt.y,0,1))).getUTCDay(),Ge=Rt>4||Rt===0?Hd.ceil(Ge):Hd(Ge),Ge=bb.offset(Ge,7*(mt.V-1)),mt.y=Ge.getUTCFullYear(),mt.m=Ge.getUTCMonth(),mt.d=Ge.getUTCDate()+(mt.w+6)%7):(Rt=(Ge=J6(_1(mt.y,0,1))).getDay(),Ge=Rt>4||Rt===0?x0.ceil(Ge):x0(Ge),Ge=Nu.offset(Ge,7*(mt.V-1)),mt.y=Ge.getFullYear(),mt.m=Ge.getMonth(),mt.d=Ge.getDate()+(mt.w+6)%7)}else("W"in mt||"U"in mt)&&("w"in mt||(mt.w="u"in mt?mt.u%7:"W"in mt?1:0),Rt="Z"in mt?b1(_1(mt.y,0,1)).getUTCDay():J6(_1(mt.y,0,1)).getDay(),mt.m=0,mt.d="W"in mt?(mt.w+6)%7+7*mt.W-(Rt+5)%7:mt.w+7*mt.U-(Rt+6)%7);return"Z"in mt?(mt.H+=mt.Z/100|0,mt.M+=mt.Z%100,b1(mt)):J6(mt)}}function Vt(ft,Dt,Pe,Ge){for(var Rt,mt,Mt=0,on=Dt.length,Fn=Pe.length;Mt<on;){if(Ge>=Fn)return-1;if((Rt=Dt.charCodeAt(Mt++))===37){if(Rt=Dt.charAt(Mt++),!(mt=rt[Rt in e4?Dt.charAt(Mt++):Rt])||(Ge=mt(ft,Pe,Ge))<0)return-1}else if(Rt!=Pe.charCodeAt(Ge++))return-1}return Ge}return Te.x=bt(m,Te),Te.X=bt(b,Te),Te.c=bt(p,Te),Ne.x=bt(m,Ne),Ne.X=bt(b,Ne),Ne.c=bt(p,Ne),{format:function(ft){var Dt=bt(ft+="",Te);return Dt.toString=function(){return ft},Dt},parse:function(ft){var Dt=Tt(ft+="",!1);return Dt.toString=function(){return ft},Dt},utcFormat:function(ft){var Dt=bt(ft+="",Ne);return Dt.toString=function(){return ft},Dt},utcParse:function(ft){var Dt=Tt(ft+="",!0);return Dt.toString=function(){return ft},Dt}}}var wh,_b,Eh,wb,Q6,e4={"-":"",_:" ",0:"0"},Ws=/^\s*\d+/,Sh=/^%/,Eb=/[\\^$*+?|[\]().{}]/g;function gi(u,p,m){var b=u<0?"-":"",x=(b?-u:u)+"",T=x.length;return b+(T<m?new Array(m-T+1).join(p)+x:x)}function h9(u){return u.replace(Eb,"\\$&")}function Ms(u){return new RegExp("^(?:"+u.map(h9).join("|")+")","i")}function Kr(u){for(var p={},m=-1,b=u.length;++m<b;)p[u[m].toLowerCase()]=m;return p}function Zt(u,p,m){var b=Ws.exec(p.slice(m,m+1));return b?(u.w=+b[0],m+b[0].length):-1}function Ho(u,p,m){var b=Ws.exec(p.slice(m,m+1));return b?(u.u=+b[0],m+b[0].length):-1}function t4(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.U=+b[0],m+b[0].length):-1}function oP(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.V=+b[0],m+b[0].length):-1}function aP(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.W=+b[0],m+b[0].length):-1}function Sb(u,p,m){var b=Ws.exec(p.slice(m,m+4));return b?(u.y=+b[0],m+b[0].length):-1}function p9(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.y=+b[0]+(+b[0]>68?1900:2e3),m+b[0].length):-1}function lP(u,p,m){var b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(p.slice(m,m+6));return b?(u.Z=b[1]?0:-(b[2]+(b[3]||"00")),m+b[0].length):-1}function n4(u,p,m){var b=Ws.exec(p.slice(m,m+1));return b?(u.q=3*b[0]-3,m+b[0].length):-1}function cP(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.m=b[0]-1,m+b[0].length):-1}function g9(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.d=+b[0],m+b[0].length):-1}function r4(u,p,m){var b=Ws.exec(p.slice(m,m+3));return b?(u.m=0,u.d=+b[0],m+b[0].length):-1}function m9(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.H=+b[0],m+b[0].length):-1}function uP(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.M=+b[0],m+b[0].length):-1}function i4(u,p,m){var b=Ws.exec(p.slice(m,m+2));return b?(u.S=+b[0],m+b[0].length):-1}function dP(u,p,m){var b=Ws.exec(p.slice(m,m+3));return b?(u.L=+b[0],m+b[0].length):-1}function fP(u,p,m){var b=Ws.exec(p.slice(m,m+6));return b?(u.L=Math.floor(b[0]/1e3),m+b[0].length):-1}function w1(u,p,m){var b=Sh.exec(p.slice(m,m+1));return b?m+b[0].length:-1}function s4(u,p,m){var b=Ws.exec(p.slice(m));return b?(u.Q=+b[0],m+b[0].length):-1}function o4(u,p,m){var b=Ws.exec(p.slice(m));return b?(u.s=+b[0],m+b[0].length):-1}function xb(u,p){return gi(u.getDate(),p,2)}function E1(u,p){return gi(u.getHours(),p,2)}function hP(u,p){return gi(u.getHours()%12||12,p,2)}function pP(u,p){return gi(1+Nu.count(ph(u),u),p,3)}function y9(u,p){return gi(u.getMilliseconds(),p,3)}function gP(u,p){return y9(u,p)+"000"}function v9(u,p){return gi(u.getMonth()+1,p,2)}function Dl(u,p){return gi(u.getMinutes(),p,2)}function b9(u,p){return gi(u.getSeconds(),p,2)}function _9(u){var p=u.getDay();return p===0?7:p}function a4(u,p){return gi(S0.count(ph(u)-1,u),p,2)}function R0(u){var p=u.getDay();return p>=4||p===0?Ud(u):Ud.ceil(u)}function mP(u,p){return u=R0(u),gi(Ud.count(ph(u),u)+(ph(u).getDay()===4),p,2)}function kb(u){return u.getDay()}function yP(u,p){return gi(x0.count(ph(u)-1,u),p,2)}function vP(u,p){return gi(u.getFullYear()%100,p,2)}function w9(u,p){return gi((u=R0(u)).getFullYear()%100,p,2)}function E9(u,p){return gi(u.getFullYear()%1e4,p,4)}function Tb(u,p){var m=u.getDay();return gi((u=m>=4||m===0?Ud(u):Ud.ceil(u)).getFullYear()%1e4,p,4)}function gc(u){var p=u.getTimezoneOffset();return(p>0?"-":(p*=-1,"+"))+gi(p/60|0,"0",2)+gi(p%60,"0",2)}function xh(u,p){return gi(u.getUTCDate(),p,2)}function jd(u,p){return gi(u.getUTCHours(),p,2)}function S9(u,p){return gi(u.getUTCHours()%12||12,p,2)}function x9(u,p){return gi(1+bb.count(_h(u),u),p,3)}function l4(u,p){return gi(u.getUTCMilliseconds(),p,3)}function co(u,p){return l4(u,p)+"000"}function bP(u,p){return gi(u.getUTCMonth()+1,p,2)}function _P(u,p){return gi(u.getUTCMinutes(),p,2)}function wP(u,p){return gi(u.getUTCSeconds(),p,2)}function Cb(u){var p=u.getUTCDay();return p===0?7:p}function c4(u,p){return gi(C0.count(_h(u)-1,u),p,2)}function u4(u){var p=u.getUTCDay();return p>=4||p===0?lo(u):lo.ceil(u)}function dl(u,p){return u=u4(u),gi(lo.count(_h(u),u)+(_h(u).getUTCDay()===4),p,2)}function Ib(u){return u.getUTCDay()}function k9(u,p){return gi(Hd.count(_h(u)-1,u),p,2)}function Dr(u,p){return gi(u.getUTCFullYear()%100,p,2)}function d4(u,p){return gi((u=u4(u)).getUTCFullYear()%100,p,2)}function T9(u,p){return gi(u.getUTCFullYear()%1e4,p,4)}function M0(u,p){var m=u.getUTCDay();return gi((u=m>=4||m===0?lo(u):lo.ceil(u)).getUTCFullYear()%1e4,p,4)}function uo(){return"+0000"}function S1(){return"%"}function O0(u){return+u}function L0(u){return Math.floor(+u/1e3)}function f4(u){return wh=f9(u),_b=wh.format,Eh=wh.parse,wb=wh.utcFormat,Q6=wh.utcParse,wh}f4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xt=31536e6;function EP(u){return new Date(u)}function C9(u){return u instanceof Date?+u:+new Date(+u)}function x1(u,p,m,b,x,T,P,L,$){var j=zk(Is,Is),Y=j.invert,te=j.domain,G=$(".%L"),le=$(":%S"),ue=$("%I:%M"),ve=$("%I %p"),ye=$("%a %d"),pe=$("%b %d"),Ce=$("%B"),Te=$("%Y"),Ne=[[P,1,1e3],[P,5,5e3],[P,15,15e3],[P,30,3e4],[T,1,6e4],[T,5,3e5],[T,15,9e5],[T,30,18e5],[x,1,36e5],[x,3,108e5],[x,6,216e5],[x,12,432e5],[b,1,864e5],[b,2,1728e5],[m,1,6048e5],[p,1,2592e6],[p,3,7776e6],[u,1,xt]];function rt(Tt){return(P(Tt)<Tt?G:T(Tt)<Tt?le:x(Tt)<Tt?ue:b(Tt)<Tt?ve:p(Tt)<Tt?m(Tt)<Tt?ye:pe:u(Tt)<Tt?Ce:Te)(Tt)}function bt(Tt,Vt,ft,Dt){if(Tt==null&&(Tt=10),typeof Tt=="number"){var Pe=Math.abs(ft-Vt)/Tt,Ge=s(function(Rt){return Rt[2]}).right(Ne,Pe);Ge===Ne.length?(Dt=Q(Vt/xt,ft/xt,Tt),Tt=u):Ge?(Dt=(Ge=Ne[Pe/Ne[Ge-1][2]<Ne[Ge][2]/Pe?Ge-1:Ge])[1],Tt=Ge[0]):(Dt=Math.max(Q(Vt,ft,Tt),1),Tt=L)}return Dt==null?Tt:Tt.every(Dt)}return j.invert=function(Tt){return new Date(Y(Tt))},j.domain=function(Tt){return arguments.length?te(m0.call(Tt,C9)):te().map(EP)},j.ticks=function(Tt,Vt){var ft,Dt=te(),Pe=Dt[0],Ge=Dt[Dt.length-1],Rt=Ge<Pe;return Rt&&(ft=Pe,Pe=Ge,Ge=ft),ft=(ft=bt(Tt,Pe,Ge,Vt))?ft.range(Pe,Ge+1):[],Rt?ft.reverse():ft},j.tickFormat=function(Tt,Vt){return Vt==null?rt:$(Vt)},j.nice=function(Tt,Vt){var ft=te();return(Tt=bt(Tt,ft[0],ft[ft.length-1],Vt))?te(Wk(ft,Tt)):j},j.copy=function(){return Oa(j,x1(u,p,m,b,x,T,P,L,$))},j}function h4(){return Ma.apply(x1(ph,e9,S0,Nu,G6,W6,y1,k0,_b).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Rb=Gs(function(u){u.setUTCDate(1),u.setUTCHours(0,0,0,0)},function(u,p){u.setUTCMonth(u.getUTCMonth()+p)},function(u,p){return p.getUTCMonth()-u.getUTCMonth()+12*(p.getUTCFullYear()-u.getUTCFullYear())},function(u){return u.getUTCMonth()});const Mb=Rb;var Ys=Rb.range,p4=Gs(function(u){u.setUTCMinutes(0,0,0)},function(u,p){u.setTime(+u+p*hb)},function(u,p){return(p-u)/hb},function(u){return u.getUTCHours()});const A0=p4;var P0=p4.range,k1=Gs(function(u){u.setUTCSeconds(0,0)},function(u,p){u.setTime(+u+p*gh)},function(u,p){return(p-u)/gh},function(u){return u.getUTCMinutes()});const Ob=k1;var Lb=k1.range;function I9(){return Ma.apply(x1(_h,Mb,C0,bb,A0,Ob,y1,k0,wb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function T1(){var u,p,m,b,x,T=0,P=1,L=Is,$=!1;function j(Y){return isNaN(Y=+Y)?x:L(m===0?.5:(Y=(b(Y)-u)*m,$?Math.max(0,Math.min(1,Y)):Y))}return j.domain=function(Y){return arguments.length?(u=b(T=+Y[0]),p=b(P=+Y[1]),m=u===p?0:1/(p-u),j):[T,P]},j.clamp=function(Y){return arguments.length?($=!!Y,j):$},j.interpolator=function(Y){return arguments.length?(L=Y,j):L},j.unknown=function(Y){return arguments.length?(x=Y,j):x},function(Y){return b=Y,u=Y(T),p=Y(P),m=u===p?0:1/(p-u),j}}function Kd(u,p){return p.domain(u.domain()).interpolator(u.interpolator()).clamp(u.clamp()).unknown(u.unknown())}function C1(){var u=hh(T1()(Is));return u.copy=function(){return Kd(u,C1())},Wc.apply(u,arguments)}function g4(){var u=U6(T1()).domain([1,10]);return u.copy=function(){return Kd(u,g4()).base(u.base())},Wc.apply(u,arguments)}function m4(){var u=ob(T1());return u.copy=function(){return Kd(u,m4()).constant(u.constant())},Wc.apply(u,arguments)}function Nl(){var u=E0(T1());return u.copy=function(){return Kd(u,Nl()).exponent(u.exponent())},Wc.apply(u,arguments)}function SP(){return Nl.apply(null,arguments).exponent(.5)}function I1(){var u=[],p=Is;function m(b){if(!isNaN(b=+b))return p((h(u,b)-1)/(u.length-1))}return m.domain=function(b){if(!arguments.length)return u.slice();u=[];for(var x,T=0,P=b.length;T<P;++T)(x=b[T])==null||isNaN(x=+x)||u.push(x);return u.sort(i),m},m.interpolator=function(b){return arguments.length?(p=b,m):p},m.copy=function(){return I1(p).domain(u)},Wc.apply(m,arguments)}function Ab(){var u,p,m,b,x,T,P,L=0,$=.5,j=1,Y=Is,te=!1;function G(le){return isNaN(le=+le)?P:(le=.5+((le=+T(le))-p)*(le<p?b:x),Y(te?Math.max(0,Math.min(1,le)):le))}return G.domain=function(le){return arguments.length?(u=T(L=+le[0]),p=T($=+le[1]),m=T(j=+le[2]),b=u===p?0:.5/(p-u),x=p===m?0:.5/(m-p),G):[L,$,j]},G.clamp=function(le){return arguments.length?(te=!!le,G):te},G.interpolator=function(le){return arguments.length?(Y=le,G):Y},G.unknown=function(le){return arguments.length?(P=le,G):P},function(le){return T=le,u=le(L),p=le($),m=le(j),b=u===p?0:.5/(p-u),x=p===m?0:.5/(m-p),G}}function Ds(){var u=hh(Ab()(Is));return u.copy=function(){return Kd(u,Ds())},Wc.apply(u,arguments)}function kh(){var u=U6(Ab()).domain([.1,1,10]);return u.copy=function(){return Kd(u,kh()).base(u.base())},Wc.apply(u,arguments)}function R9(){var u=ob(Ab());return u.copy=function(){return Kd(u,R9()).constant(u.constant())},Wc.apply(u,arguments)}function Pb(){var u=E0(Ab());return u.copy=function(){return Kd(u,Pb()).exponent(u.exponent())},Wc.apply(u,arguments)}function y4(){return Pb.apply(null,arguments).exponent(.5)}function Nr(u){for(var p=u.length/6|0,m=new Array(p),b=0;b<p;)m[b]="#"+u.slice(6*b,6*++b);return m}const xP=Nr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),kP=Nr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),M9=Nr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),R1=Nr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),v4=Nr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),TP=Nr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),b4=Nr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Db=Nr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Nb=Nr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),O9=Nr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ui(u){return Dp(u[u.length-1])}var L9=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Nr);const CP=Ui(L9);var Bb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Nr);const Aa=Ui(Bb);var oa=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Nr);const Xs=Ui(oa);var Xc=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Nr);const oi=Ui(Xc);var Bl=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Nr);const A9=Ui(Bl);var D0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Nr);const IP=Ui(D0);var P9=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Nr);const $b=Ui(P9);var _4=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Nr);const RP=Ui(_4);var D9=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Nr);const MP=Ui(D9);var N9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Nr);const OP=Ui(N9);var B9=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Nr);const $9=Ui(B9);var F9=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Nr);const N0=Ui(F9);var B0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Nr);const $u=Ui(B0);var zd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Nr);const Fb=Ui(zd);var w4=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Nr);const U9=Ui(w4);var Th=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Nr);const H9=Ui(Th);var j9=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Nr);const K9=Ui(j9);var $0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Nr);const xo=Ui($0);var z9=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Nr);const Ub=Ui(z9);var q9=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Nr);const V9=Ui(q9);var G9=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Nr);const E4=Ui(G9);var S4=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Nr);const W9=Ui(S4);var M1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Nr);const x4=Ui(M1);var Hb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Nr);const Y9=Ui(Hb);var aa=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Nr);const LP=Ui(aa);var k4=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Nr);const Fu=Ui(k4);var Uu=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Nr);const Hi=Ui(Uu);function X9(u){return u=Math.max(0,Math.min(1,u)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-u*(35.34-u*(2381.73-u*(6402.7-u*(7024.72-2710.57*u)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+u*(170.73+u*(52.82-u*(131.46-u*(176.58-67.37*u)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+u*(442.36-u*(2482.43-u*(6167.24-u*(6614.94-2475.67*u)))))))+")"}const Z9=fh(Il(300,.5,0),Il(-240,.5,1));var J9=fh(Il(-100,.75,.35),Il(80,1.5,.8)),AP=fh(Il(260,.75,.35),Il(80,1.5,.8)),O1=Il();function T4(u){(u<0||u>1)&&(u-=Math.floor(u));var p=Math.abs(u-.5);return O1.h=360*u-100,O1.s=1.5-1.5*p,O1.l=.8-.9*p,O1+""}var $l=no(),jb=Math.PI/3,PP=2*Math.PI/3;function Q9(u){var p;return u=(.5-u)*Math.PI,$l.r=255*(p=Math.sin(u))*p,$l.g=255*(p=Math.sin(u+jb))*p,$l.b=255*(p=Math.sin(u+PP))*p,$l+""}function L1(u){return u=Math.max(0,Math.min(1,u)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+u*(1172.33-u*(10793.56-u*(33300.12-u*(38394.49-14825.05*u)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+u*(557.33+u*(1225.33-u*(3574.96-u*(1073.77+707.56*u)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+u*(3211.1-u*(15327.97-u*(27814-u*(22569.18-6838.66*u)))))))+")"}function Yi(u){var p=u.length;return function(m){return u[Math.max(0,Math.min(p-1,Math.floor(m*p)))]}}const Ch=Yi(Nr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var A1=Yi(Nr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Zc=Yi(Nr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Kb=Yi(Nr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function C4(u){return ri(Qn(u).call(document.documentElement))}var I4=0;function zb(){return new P1}function P1(){this._="@"+(++I4).toString(36)}function qb(u){return typeof u=="string"?new hr([document.querySelectorAll(u)],[document.documentElement]):new hr([u==null?[]:u],Ss)}function DP(u,p){p==null&&(p=rl().touches);for(var m=0,b=p?p.length:0,x=new Array(b);m<b;++m)x[m]=Ff(u,p[m]);return x}function Ur(u){return function(){return u}}P1.prototype=zb.prototype={constructor:P1,get:function(u){for(var p=this._;!(p in u);)if(!(u=u.parentNode))return;return u[p]},set:function(u,p){return u[this._]=p},remove:function(u){return this._ in u&&delete u[this._]},toString:function(){return this._}};var R4=Math.abs,jo=Math.atan2,Hu=Math.cos,eT=Math.max,M4=Math.min,mc=Math.sin,Ih=Math.sqrt,vr=1e-12,qd=Math.PI,Rh=qd/2,Vd=2*qd;function fl(u){return u>1?0:u<-1?qd:Math.acos(u)}function tT(u){return u>=1?Rh:u<=-1?-Rh:Math.asin(u)}function nT(u){return u.innerRadius}function NP(u){return u.outerRadius}function BP(u){return u.startAngle}function $P(u){return u.endAngle}function FP(u){return u&&u.padAngle}function UP(u,p,m,b,x,T,P,L){var $=m-u,j=b-p,Y=P-x,te=L-T,G=te*$-Y*j;if(!(G*G<vr))return[u+(G=(Y*(p-T)-te*(u-x))/G)*$,p+G*j]}function Vb(u,p,m,b,x,T,P){var L=u-m,$=p-b,j=(P?T:-T)/Ih(L*L+$*$),Y=j*$,te=-j*L,G=u+Y,le=p+te,ue=m+Y,ve=b+te,ye=(G+ue)/2,pe=(le+ve)/2,Ce=ue-G,Te=ve-le,Ne=Ce*Ce+Te*Te,rt=x-T,bt=G*ve-ue*le,Tt=(Te<0?-1:1)*Ih(eT(0,rt*rt*Ne-bt*bt)),Vt=(bt*Te-Ce*Tt)/Ne,ft=(-bt*Ce-Te*Tt)/Ne,Dt=(bt*Te+Ce*Tt)/Ne,Pe=(-bt*Ce+Te*Tt)/Ne,Ge=Vt-ye,Rt=ft-pe,mt=Dt-ye,Mt=Pe-pe;return Ge*Ge+Rt*Rt>mt*mt+Mt*Mt&&(Vt=Dt,ft=Pe),{cx:Vt,cy:ft,x01:-Y,y01:-te,x11:Vt*(x/rt-1),y11:ft*(x/rt-1)}}function HP(){var u=nT,p=NP,m=Ur(0),b=null,x=BP,T=$P,P=FP,L=null;function $(){var j,Y,te=+u.apply(this,arguments),G=+p.apply(this,arguments),le=x.apply(this,arguments)-Rh,ue=T.apply(this,arguments)-Rh,ve=R4(ue-le),ye=ue>le;if(L||(L=j=ku()),G<te&&(Y=G,G=te,te=Y),G>vr)if(ve>Vd-vr)L.moveTo(G*Hu(le),G*mc(le)),L.arc(0,0,G,le,ue,!ye),te>vr&&(L.moveTo(te*Hu(ue),te*mc(ue)),L.arc(0,0,te,ue,le,ye));else{var pe,Ce,Te=le,Ne=ue,rt=le,bt=ue,Tt=ve,Vt=ve,ft=P.apply(this,arguments)/2,Dt=ft>vr&&(b?+b.apply(this,arguments):Ih(te*te+G*G)),Pe=M4(R4(G-te)/2,+m.apply(this,arguments)),Ge=Pe,Rt=Pe;if(Dt>vr){var mt=tT(Dt/te*mc(ft)),Mt=tT(Dt/G*mc(ft));(Tt-=2*mt)>vr?(rt+=mt*=ye?1:-1,bt-=mt):(Tt=0,rt=bt=(le+ue)/2),(Vt-=2*Mt)>vr?(Te+=Mt*=ye?1:-1,Ne-=Mt):(Vt=0,Te=Ne=(le+ue)/2)}var on=G*Hu(Te),Fn=G*mc(Te),yr=te*Hu(bt),Br=te*mc(bt);if(Pe>vr){var zr,Wn=G*Hu(Ne),ti=G*mc(Ne),Sr=te*Hu(rt),wr=te*mc(rt);if(ve<qd&&(zr=UP(on,Fn,Sr,wr,Wn,ti,yr,Br))){var er=on-zr[0],$s=Fn-zr[1],ji=Wn-zr[0],Vu=ti-zr[1],Jc=1/mc(fl((er*ji+$s*Vu)/(Ih(er*er+$s*$s)*Ih(ji*ji+Vu*Vu)))/2),W1=Ih(zr[0]*zr[0]+zr[1]*zr[1]);Ge=M4(Pe,(te-W1)/(Jc-1)),Rt=M4(Pe,(G-W1)/(Jc+1))}}Vt>vr?Rt>vr?(pe=Vb(Sr,wr,on,Fn,G,Rt,ye),Ce=Vb(Wn,ti,yr,Br,G,Rt,ye),L.moveTo(pe.cx+pe.x01,pe.cy+pe.y01),Rt<Pe?L.arc(pe.cx,pe.cy,Rt,jo(pe.y01,pe.x01),jo(Ce.y01,Ce.x01),!ye):(L.arc(pe.cx,pe.cy,Rt,jo(pe.y01,pe.x01),jo(pe.y11,pe.x11),!ye),L.arc(0,0,G,jo(pe.cy+pe.y11,pe.cx+pe.x11),jo(Ce.cy+Ce.y11,Ce.cx+Ce.x11),!ye),L.arc(Ce.cx,Ce.cy,Rt,jo(Ce.y11,Ce.x11),jo(Ce.y01,Ce.x01),!ye))):(L.moveTo(on,Fn),L.arc(0,0,G,Te,Ne,!ye)):L.moveTo(on,Fn),te>vr&&Tt>vr?Ge>vr?(pe=Vb(yr,Br,Wn,ti,te,-Ge,ye),Ce=Vb(on,Fn,Sr,wr,te,-Ge,ye),L.lineTo(pe.cx+pe.x01,pe.cy+pe.y01),Ge<Pe?L.arc(pe.cx,pe.cy,Ge,jo(pe.y01,pe.x01),jo(Ce.y01,Ce.x01),!ye):(L.arc(pe.cx,pe.cy,Ge,jo(pe.y01,pe.x01),jo(pe.y11,pe.x11),!ye),L.arc(0,0,te,jo(pe.cy+pe.y11,pe.cx+pe.x11),jo(Ce.cy+Ce.y11,Ce.cx+Ce.x11),ye),L.arc(Ce.cx,Ce.cy,Ge,jo(Ce.y11,Ce.x11),jo(Ce.y01,Ce.x01),!ye))):L.arc(0,0,te,bt,rt,ye):L.lineTo(yr,Br)}else L.moveTo(0,0);if(L.closePath(),j)return L=null,j+""||null}return $.centroid=function(){var j=(+u.apply(this,arguments)+ +p.apply(this,arguments))/2,Y=(+x.apply(this,arguments)+ +T.apply(this,arguments))/2-qd/2;return[Hu(Y)*j,mc(Y)*j]},$.innerRadius=function(j){return arguments.length?(u=typeof j=="function"?j:Ur(+j),$):u},$.outerRadius=function(j){return arguments.length?(p=typeof j=="function"?j:Ur(+j),$):p},$.cornerRadius=function(j){return arguments.length?(m=typeof j=="function"?j:Ur(+j),$):m},$.padRadius=function(j){return arguments.length?(b=j==null?null:typeof j=="function"?j:Ur(+j),$):b},$.startAngle=function(j){return arguments.length?(x=typeof j=="function"?j:Ur(+j),$):x},$.endAngle=function(j){return arguments.length?(T=typeof j=="function"?j:Ur(+j),$):T},$.padAngle=function(j){return arguments.length?(P=typeof j=="function"?j:Ur(+j),$):P},$.context=function(j){return arguments.length?(L=j==null?null:j,$):L},$}function rT(u){this._context=u}function Gb(u){return new rT(u)}function O4(u){return u[0]}function L4(u){return u[1]}function yc(){var u=O4,p=L4,m=Ur(!0),b=null,x=Gb,T=null;function P(L){var $,j,Y,te=L.length,G=!1;for(b==null&&(T=x(Y=ku())),$=0;$<=te;++$)!($<te&&m(j=L[$],$,L))===G&&((G=!G)?T.lineStart():T.lineEnd()),G&&T.point(+u(j,$,L),+p(j,$,L));if(Y)return T=null,Y+""||null}return P.x=function(L){return arguments.length?(u=typeof L=="function"?L:Ur(+L),P):u},P.y=function(L){return arguments.length?(p=typeof L=="function"?L:Ur(+L),P):p},P.defined=function(L){return arguments.length?(m=typeof L=="function"?L:Ur(!!L),P):m},P.curve=function(L){return arguments.length?(x=L,b!=null&&(T=x(b)),P):x},P.context=function(L){return arguments.length?(L==null?b=T=null:T=x(b=L),P):b},P}function iT(){var u=O4,p=null,m=Ur(0),b=L4,x=Ur(!0),T=null,P=Gb,L=null;function $(Y){var te,G,le,ue,ve,ye=Y.length,pe=!1,Ce=new Array(ye),Te=new Array(ye);for(T==null&&(L=P(ve=ku())),te=0;te<=ye;++te){if(!(te<ye&&x(ue=Y[te],te,Y))===pe)if(pe=!pe)G=te,L.areaStart(),L.lineStart();else{for(L.lineEnd(),L.lineStart(),le=te-1;le>=G;--le)L.point(Ce[le],Te[le]);L.lineEnd(),L.areaEnd()}pe&&(Ce[te]=+u(ue,te,Y),Te[te]=+m(ue,te,Y),L.point(p?+p(ue,te,Y):Ce[te],b?+b(ue,te,Y):Te[te]))}if(ve)return L=null,ve+""||null}function j(){return yc().defined(x).curve(P).context(T)}return $.x=function(Y){return arguments.length?(u=typeof Y=="function"?Y:Ur(+Y),p=null,$):u},$.x0=function(Y){return arguments.length?(u=typeof Y=="function"?Y:Ur(+Y),$):u},$.x1=function(Y){return arguments.length?(p=Y==null?null:typeof Y=="function"?Y:Ur(+Y),$):p},$.y=function(Y){return arguments.length?(m=typeof Y=="function"?Y:Ur(+Y),b=null,$):m},$.y0=function(Y){return arguments.length?(m=typeof Y=="function"?Y:Ur(+Y),$):m},$.y1=function(Y){return arguments.length?(b=Y==null?null:typeof Y=="function"?Y:Ur(+Y),$):b},$.lineX0=$.lineY0=function(){return j().x(u).y(m)},$.lineY1=function(){return j().x(u).y(b)},$.lineX1=function(){return j().x(p).y(m)},$.defined=function(Y){return arguments.length?(x=typeof Y=="function"?Y:Ur(!!Y),$):x},$.curve=function(Y){return arguments.length?(P=Y,T!=null&&(L=P(T)),$):P},$.context=function(Y){return arguments.length?(Y==null?T=L=null:L=P(T=Y),$):T},$}function sT(u,p){return p<u?-1:p>u?1:p>=u?0:NaN}function oT(u){return u}function jP(){var u=oT,p=sT,m=null,b=Ur(0),x=Ur(Vd),T=Ur(0);function P(L){var $,j,Y,te,G,le=L.length,ue=0,ve=new Array(le),ye=new Array(le),pe=+b.apply(this,arguments),Ce=Math.min(Vd,Math.max(-Vd,x.apply(this,arguments)-pe)),Te=Math.min(Math.abs(Ce)/le,T.apply(this,arguments)),Ne=Te*(Ce<0?-1:1);for($=0;$<le;++$)(G=ye[ve[$]=$]=+u(L[$],$,L))>0&&(ue+=G);for(p!=null?ve.sort(function(rt,bt){return p(ye[rt],ye[bt])}):m!=null&&ve.sort(function(rt,bt){return m(L[rt],L[bt])}),$=0,Y=ue?(Ce-le*Ne)/ue:0;$<le;++$,pe=te)j=ve[$],te=pe+((G=ye[j])>0?G*Y:0)+Ne,ye[j]={data:L[j],index:$,value:G,startAngle:pe,endAngle:te,padAngle:Te};return ye}return P.value=function(L){return arguments.length?(u=typeof L=="function"?L:Ur(+L),P):u},P.sortValues=function(L){return arguments.length?(p=L,m=null,P):p},P.sort=function(L){return arguments.length?(m=L,p=null,P):m},P.startAngle=function(L){return arguments.length?(b=typeof L=="function"?L:Ur(+L),P):b},P.endAngle=function(L){return arguments.length?(x=typeof L=="function"?L:Ur(+L),P):x},P.padAngle=function(L){return arguments.length?(T=typeof L=="function"?L:Ur(+L),P):T},P}rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1,this._line?this._context.lineTo(u,p):this._context.moveTo(u,p);break;case 1:this._point=2;default:this._context.lineTo(u,p)}}};var A4=D4(Gb);function P4(u){this._curve=u}function D4(u){function p(m){return new P4(u(m))}return p._curve=u,p}function Mh(u){var p=u.curve;return u.angle=u.x,delete u.x,u.radius=u.y,delete u.y,u.curve=function(m){return arguments.length?p(D4(m)):p()._curve},u}function Wb(){return Mh(yc().curve(A4))}function F0(){var u=iT().curve(A4),p=u.curve,m=u.lineX0,b=u.lineX1,x=u.lineY0,T=u.lineY1;return u.angle=u.x,delete u.x,u.startAngle=u.x0,delete u.x0,u.endAngle=u.x1,delete u.x1,u.radius=u.y,delete u.y,u.innerRadius=u.y0,delete u.y0,u.outerRadius=u.y1,delete u.y1,u.lineStartAngle=function(){return Mh(m())},delete u.lineX0,u.lineEndAngle=function(){return Mh(b())},delete u.lineX1,u.lineInnerRadius=function(){return Mh(x())},delete u.lineY0,u.lineOuterRadius=function(){return Mh(T())},delete u.lineY1,u.curve=function(P){return arguments.length?p(D4(P)):p()._curve},u}function Pa(u,p){return[(p=+p)*Math.cos(u-=Math.PI/2),p*Math.sin(u)]}P4.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(u,p){this._curve.point(p*Math.sin(u),p*-Math.cos(u))}};var U0=Array.prototype.slice;function N4(u){return u.source}function H0(u){return u.target}function Oh(u){var p=N4,m=H0,b=O4,x=L4,T=null;function P(){var L,$=U0.call(arguments),j=p.apply(this,$),Y=m.apply(this,$);if(T||(T=L=ku()),u(T,+b.apply(this,($[0]=j,$)),+x.apply(this,$),+b.apply(this,($[0]=Y,$)),+x.apply(this,$)),L)return T=null,L+""||null}return P.source=function(L){return arguments.length?(p=L,P):p},P.target=function(L){return arguments.length?(m=L,P):m},P.x=function(L){return arguments.length?(b=typeof L=="function"?L:Ur(+L),P):b},P.y=function(L){return arguments.length?(x=typeof L=="function"?L:Ur(+L),P):x},P.context=function(L){return arguments.length?(T=L==null?null:L,P):T},P}function B4(u,p,m,b,x){u.moveTo(p,m),u.bezierCurveTo(p=(p+b)/2,m,p,x,b,x)}function $4(u,p,m,b,x){u.moveTo(p,m),u.bezierCurveTo(p,m=(m+x)/2,b,m,b,x)}function F4(u,p,m,b,x){var T=Pa(p,m),P=Pa(p,m=(m+x)/2),L=Pa(b,m),$=Pa(b,x);u.moveTo(T[0],T[1]),u.bezierCurveTo(P[0],P[1],L[0],L[1],$[0],$[1])}function U4(){return Oh(B4)}function D1(){return Oh($4)}function aT(){var u=Oh(F4);return u.angle=u.x,delete u.x,u.radius=u.y,delete u.y,u}const N1={draw:function(u,p){var m=Math.sqrt(p/qd);u.moveTo(m,0),u.arc(0,0,m,0,Vd)}},B1={draw:function(u,p){var m=Math.sqrt(p/5)/2;u.moveTo(-3*m,-m),u.lineTo(-m,-m),u.lineTo(-m,-3*m),u.lineTo(m,-3*m),u.lineTo(m,-m),u.lineTo(3*m,-m),u.lineTo(3*m,m),u.lineTo(m,m),u.lineTo(m,3*m),u.lineTo(-m,3*m),u.lineTo(-m,m),u.lineTo(-3*m,m),u.closePath()}};var Yb=Math.sqrt(1/3),H4=2*Yb;const j4={draw:function(u,p){var m=Math.sqrt(p/H4),b=m*Yb;u.moveTo(0,-m),u.lineTo(b,0),u.lineTo(0,m),u.lineTo(-b,0),u.closePath()}};var K4=Math.sin(qd/10)/Math.sin(7*qd/10),KP=Math.sin(Vd/10)*K4,z4=-Math.cos(Vd/10)*K4;const q4={draw:function(u,p){var m=Math.sqrt(.8908130915292852*p),b=KP*m,x=z4*m;u.moveTo(0,-m),u.lineTo(b,x);for(var T=1;T<5;++T){var P=Vd*T/5,L=Math.cos(P),$=Math.sin(P);u.lineTo($*m,-L*m),u.lineTo(L*b-$*x,$*b+L*x)}u.closePath()}},V4={draw:function(u,p){var m=Math.sqrt(p),b=-m/2;u.rect(b,b,m,m)}};var Xb=Math.sqrt(3);const Lh={draw:function(u,p){var m=-Math.sqrt(p/(3*Xb));u.moveTo(0,2*m),u.lineTo(-Xb*m,-m),u.lineTo(Xb*m,-m),u.closePath()}};var _i=-.5,hl=Math.sqrt(3)/2,Gd=1/Math.sqrt(12),lT=3*(Gd/2+1);const G4={draw:function(u,p){var m=Math.sqrt(p/lT),b=m/2,x=m*Gd,T=b,P=m*Gd+m,L=-T,$=P;u.moveTo(b,x),u.lineTo(T,P),u.lineTo(L,$),u.lineTo(_i*b-hl*x,hl*b+_i*x),u.lineTo(_i*T-hl*P,hl*T+_i*P),u.lineTo(_i*L-hl*$,hl*L+_i*$),u.lineTo(_i*b+hl*x,_i*x-hl*b),u.lineTo(_i*T+hl*P,_i*P-hl*T),u.lineTo(_i*L+hl*$,_i*$-hl*L),u.closePath()}};var cT=[N1,B1,j4,V4,q4,Lh,G4];function $1(){var u=Ur(N1),p=Ur(64),m=null;function b(){var x;if(m||(m=x=ku()),u.apply(this,arguments).draw(m,+p.apply(this,arguments)),x)return m=null,x+""||null}return b.type=function(x){return arguments.length?(u=typeof x=="function"?x:Ur(x),b):u},b.size=function(x){return arguments.length?(p=typeof x=="function"?x:Ur(+x),b):p},b.context=function(x){return arguments.length?(m=x==null?null:x,b):m},b}function ju(){}function vc(u,p,m){u._context.bezierCurveTo((2*u._x0+u._x1)/3,(2*u._y0+u._y1)/3,(u._x0+2*u._x1)/3,(u._y0+2*u._y1)/3,(u._x0+4*u._x1+p)/6,(u._y0+4*u._y1+m)/6)}function la(u){this._context=u}function zP(u){return new la(u)}function uT(u){this._context=u}function Ns(u){return new uT(u)}function Ko(u){this._context=u}function Zs(u){return new Ko(u)}function bc(u,p){this._basis=new la(u),this._beta=p}la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1,this._line?this._context.lineTo(u,p):this._context.moveTo(u,p);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vc(this,u,p)}this._x0=this._x1,this._x1=u,this._y0=this._y1,this._y1=p}},uT.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1,this._x2=u,this._y2=p;break;case 1:this._point=2,this._x3=u,this._y3=p;break;case 2:this._point=3,this._x4=u,this._y4=p,this._context.moveTo((this._x0+4*this._x1+u)/6,(this._y0+4*this._y1+p)/6);break;default:vc(this,u,p)}this._x0=this._x1,this._x1=u,this._y0=this._y1,this._y1=p}},Ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var m=(this._x0+4*this._x1+u)/6,b=(this._y0+4*this._y1+p)/6;this._line?this._context.lineTo(m,b):this._context.moveTo(m,b);break;case 3:this._point=4;default:vc(this,u,p)}this._x0=this._x1,this._x1=u,this._y0=this._y1,this._y1=p}},bc.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var u=this._x,p=this._y,m=u.length-1;if(m>0)for(var b,x=u[0],T=p[0],P=u[m]-x,L=p[m]-T,$=-1;++$<=m;)b=$/m,this._basis.point(this._beta*u[$]+(1-this._beta)*(x+b*P),this._beta*p[$]+(1-this._beta)*(T+b*L));this._x=this._y=null,this._basis.lineEnd()},point:function(u,p){this._x.push(+u),this._y.push(+p)}};const dT=function u(p){function m(b){return p===1?new la(b):new bc(b,p)}return m.beta=function(b){return u(+b)},m}(.85);function F1(u,p,m){u._context.bezierCurveTo(u._x1+u._k*(u._x2-u._x0),u._y1+u._k*(u._y2-u._y0),u._x2+u._k*(u._x1-p),u._y2+u._k*(u._y1-m),u._x2,u._y2)}function Zb(u,p){this._context=u,this._k=(1-p)/6}Zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:F1(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1,this._line?this._context.lineTo(u,p):this._context.moveTo(u,p);break;case 1:this._point=2,this._x1=u,this._y1=p;break;case 2:this._point=3;default:F1(this,u,p)}this._x0=this._x1,this._x1=this._x2,this._x2=u,this._y0=this._y1,this._y1=this._y2,this._y2=p}};const Jb=function u(p){function m(b){return new Zb(b,p)}return m.tension=function(b){return u(+b)},m}(0);function Qb(u,p){this._context=u,this._k=(1-p)/6}Qb.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1,this._x3=u,this._y3=p;break;case 1:this._point=2,this._context.moveTo(this._x4=u,this._y4=p);break;case 2:this._point=3,this._x5=u,this._y5=p;break;default:F1(this,u,p)}this._x0=this._x1,this._x1=this._x2,this._x2=u,this._y0=this._y1,this._y1=this._y2,this._y2=p}};const fT=function u(p){function m(b){return new Qb(b,p)}return m.tension=function(b){return u(+b)},m}(0);function e_(u,p){this._context=u,this._k=(1-p)/6}e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:F1(this,u,p)}this._x0=this._x1,this._x1=this._x2,this._x2=u,this._y0=this._y1,this._y1=this._y2,this._y2=p}};const hT=function u(p){function m(b){return new e_(b,p)}return m.tension=function(b){return u(+b)},m}(0);function Wd(u,p,m){var b=u._x1,x=u._y1,T=u._x2,P=u._y2;if(u._l01_a>vr){var L=2*u._l01_2a+3*u._l01_a*u._l12_a+u._l12_2a,$=3*u._l01_a*(u._l01_a+u._l12_a);b=(b*L-u._x0*u._l12_2a+u._x2*u._l01_2a)/$,x=(x*L-u._y0*u._l12_2a+u._y2*u._l01_2a)/$}if(u._l23_a>vr){var j=2*u._l23_2a+3*u._l23_a*u._l12_a+u._l12_2a,Y=3*u._l23_a*(u._l23_a+u._l12_a);T=(T*j+u._x1*u._l23_2a-p*u._l12_2a)/Y,P=(P*j+u._y1*u._l23_2a-m*u._l12_2a)/Y}u._context.bezierCurveTo(b,x,T,P,u._x2,u._y2)}function Ah(u,p){this._context=u,this._alpha=p}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){if(u=+u,p=+p,this._point){var m=this._x2-u,b=this._y2-p;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(m*m+b*b,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(u,p):this._context.moveTo(u,p);break;case 1:this._point=2;break;case 2:this._point=3;default:Wd(this,u,p)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=u,this._y0=this._y1,this._y1=this._y2,this._y2=p}};const qP=function u(p){function m(b){return p?new Ah(b,p):new Zb(b,0)}return m.alpha=function(b){return u(+b)},m}(.5);function W4(u,p){this._context=u,this._alpha=p}W4.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(u,p){if(u=+u,p=+p,this._point){var m=this._x2-u,b=this._y2-p;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(m*m+b*b,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=u,this._y3=p;break;case 1:this._point=2,this._context.moveTo(this._x4=u,this._y4=p);break;case 2:this._point=3,this._x5=u,this._y5=p;break;default:Wd(this,u,p)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=u,this._y0=this._y1,this._y1=this._y2,this._y2=p}};const Yd=function u(p){function m(b){return p?new W4(b,p):new Qb(b,0)}return m.alpha=function(b){return u(+b)},m}(.5);function Hr(u,p){this._context=u,this._alpha=p}Hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){if(u=+u,p=+p,this._point){var m=this._x2-u,b=this._y2-p;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(m*m+b*b,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wd(this,u,p)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=u,this._y0=this._y1,this._y1=this._y2,this._y2=p}};const pT=function u(p){function m(b){return p?new Hr(b,p):new e_(b,0)}return m.alpha=function(b){return u(+b)},m}(.5);function Ph(u){this._context=u}function gT(u){return new Ph(u)}function t_(u){return u<0?-1:1}function mT(u,p,m){var b=u._x1-u._x0,x=p-u._x1,T=(u._y1-u._y0)/(b||x<0&&-0),P=(m-u._y1)/(x||b<0&&-0),L=(T*x+P*b)/(b+x);return(t_(T)+t_(P))*Math.min(Math.abs(T),Math.abs(P),.5*Math.abs(L))||0}function n_(u,p){var m=u._x1-u._x0;return m?(3*(u._y1-u._y0)/m-p)/2:p}function r_(u,p,m){var b=u._x0,x=u._y0,T=u._x1,P=u._y1,L=(T-b)/3;u._context.bezierCurveTo(b+L,x+L*p,T-L,P-L*m,T,P)}function j0(u){this._context=u}function Y4(u){this._context=new X4(u)}function X4(u){this._context=u}function yT(u){return new j0(u)}function VP(u){return new Y4(u)}function Z4(u){this._context=u}function J4(u){var p,m,b=u.length-1,x=new Array(b),T=new Array(b),P=new Array(b);for(x[0]=0,T[0]=2,P[0]=u[0]+2*u[1],p=1;p<b-1;++p)x[p]=1,T[p]=4,P[p]=4*u[p]+2*u[p+1];for(x[b-1]=2,T[b-1]=7,P[b-1]=8*u[b-1]+u[b],p=1;p<b;++p)m=x[p]/T[p-1],T[p]-=m,P[p]-=m*P[p-1];for(x[b-1]=P[b-1]/T[b-1],p=b-2;p>=0;--p)x[p]=(P[p]-x[p+1])/T[p];for(T[b-1]=(u[b]+x[b-1])/2,p=0;p<b-1;++p)T[p]=2*u[p+1]-x[p+1];return[x,T]}function GP(u){return new Z4(u)}function K0(u,p){this._context=u,this._t=p}function i_(u){return new K0(u,.5)}function Q4(u){return new K0(u,0)}function eE(u){return new K0(u,1)}function Xd(u,p){if((x=u.length)>1)for(var m,b,x,T=1,P=u[p[0]],L=P.length;T<x;++T)for(b=P,P=u[p[T]],m=0;m<L;++m)P[m][1]+=P[m][0]=isNaN(b[m][1])?b[m][0]:b[m][1]}function pl(u){for(var p=u.length,m=new Array(p);--p>=0;)m[p]=p;return m}function Ku(u,p){return u[p]}function WP(){var u=Ur([]),p=pl,m=Xd,b=Ku;function x(T){var P,L,$=u.apply(this,arguments),j=T.length,Y=$.length,te=new Array(Y);for(P=0;P<Y;++P){for(var G,le=$[P],ue=te[P]=new Array(j),ve=0;ve<j;++ve)ue[ve]=G=[0,+b(T[ve],le,ve,T)],G.data=T[ve];ue.key=le}for(P=0,L=p(te);P<Y;++P)te[L[P]].index=P;return m(te,L),te}return x.keys=function(T){return arguments.length?(u=typeof T=="function"?T:Ur(U0.call(T)),x):u},x.value=function(T){return arguments.length?(b=typeof T=="function"?T:Ur(+T),x):b},x.order=function(T){return arguments.length?(p=T==null?pl:typeof T=="function"?T:Ur(U0.call(T)),x):p},x.offset=function(T){return arguments.length?(m=T==null?Xd:T,x):m},x}function s_(u,p){if((b=u.length)>0){for(var m,b,x,T=0,P=u[0].length;T<P;++T){for(x=m=0;m<b;++m)x+=u[m][T][1]||0;if(x)for(m=0;m<b;++m)u[m][T][1]/=x}Xd(u,p)}}function YP(u,p){if((L=u.length)>0)for(var m,b,x,T,P,L,$=0,j=u[p[0]].length;$<j;++$)for(T=P=0,m=0;m<L;++m)(x=(b=u[p[m]][$])[1]-b[0])>0?(b[0]=T,b[1]=T+=x):x<0?(b[1]=P,b[0]=P+=x):(b[0]=0,b[1]=x)}function tE(u,p){if((m=u.length)>0){for(var m,b=0,x=u[p[0]],T=x.length;b<T;++b){for(var P=0,L=0;P<m;++P)L+=u[P][b][1]||0;x[b][1]+=x[b][0]=-L/2}Xd(u,p)}}function Da(u,p){if((x=u.length)>0&&(b=(m=u[p[0]]).length)>0){for(var m,b,x,T=0,P=1;P<b;++P){for(var L=0,$=0,j=0;L<x;++L){for(var Y=u[p[L]],te=Y[P][1]||0,G=(te-(Y[P-1][1]||0))/2,le=0;le<L;++le){var ue=u[p[le]];G+=(ue[P][1]||0)-(ue[P-1][1]||0)}$+=te,j+=G*te}m[P-1][1]+=m[P-1][0]=T,$&&(T-=j/$)}m[P-1][1]+=m[P-1][0]=T,Xd(u,p)}}function U1(u){var p=u.map(Zd);return pl(u).sort(function(m,b){return p[m]-p[b]})}function Zd(u){for(var p,m=-1,b=0,x=u.length,T=-1/0;++m<x;)(p=+u[m][1])>T&&(T=p,b=m);return b}function H1(u){var p=u.map(Dh);return pl(u).sort(function(m,b){return p[m]-p[b]})}function Dh(u){for(var p,m=0,b=-1,x=u.length;++b<x;)(p=+u[b][1])&&(m+=p);return m}function nE(u){return H1(u).reverse()}function XP(u){var p,m,b=u.length,x=u.map(Dh),T=U1(u),P=0,L=0,$=[],j=[];for(p=0;p<b;++p)m=T[p],P<L?(P+=x[m],$.push(m)):(L+=x[m],j.push(m));return j.reverse().concat($)}function Bs(u){return pl(u).reverse()}Ph.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(u,p){u=+u,p=+p,this._point?this._context.lineTo(u,p):(this._point=1,this._context.moveTo(u,p))}},j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r_(this,this._t0,n_(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(u,p){var m=NaN;if(p=+p,(u=+u)!==this._x1||p!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(u,p):this._context.moveTo(u,p);break;case 1:this._point=2;break;case 2:this._point=3,r_(this,n_(this,m=mT(this,u,p)),m);break;default:r_(this,this._t0,m=mT(this,u,p))}this._x0=this._x1,this._x1=u,this._y0=this._y1,this._y1=p,this._t0=m}}},(Y4.prototype=Object.create(j0.prototype)).point=function(u,p){j0.prototype.point.call(this,p,u)},X4.prototype={moveTo:function(u,p){this._context.moveTo(p,u)},closePath:function(){this._context.closePath()},lineTo:function(u,p){this._context.lineTo(p,u)},bezierCurveTo:function(u,p,m,b,x,T){this._context.bezierCurveTo(p,u,b,m,T,x)}},Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var u=this._x,p=this._y,m=u.length;if(m)if(this._line?this._context.lineTo(u[0],p[0]):this._context.moveTo(u[0],p[0]),m===2)this._context.lineTo(u[1],p[1]);else for(var b=J4(u),x=J4(p),T=0,P=1;P<m;++T,++P)this._context.bezierCurveTo(b[0][T],x[0][T],b[1][T],x[1][T],u[P],p[P]);(this._line||this._line!==0&&m===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(u,p){this._x.push(+u),this._y.push(+p)}},K0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(u,p){switch(u=+u,p=+p,this._point){case 0:this._point=1,this._line?this._context.lineTo(u,p):this._context.moveTo(u,p);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,p),this._context.lineTo(u,p);else{var m=this._x*(1-this._t)+u*this._t;this._context.lineTo(m,this._y),this._context.lineTo(m,p)}}this._x=u,this._y=p}};var rE="%Y-%m-%dT%H:%M:%S.%LZ",vT=Date.prototype.toISOString?function(u){return u.toISOString()}:wb(rE);const bT=vT;var _T=+new Date("2000-01-01T00:00:00.000Z")?function(u){var p=new Date(u);return isNaN(p)?null:p}:Q6(rE);const j1=_T;function wT(u,p,m){var b=new vt,x=p;return p==null?(b.restart(u,p,m),b):(p=+p,m=m==null?fe():+m,b.restart(function T(P){P+=x,b.restart(T,x+=p,m),u(P)},p,m),b)}function ET(u){return function(){return u}}function Xn(u){return u[0]}function ZP(u){return u[1]}function Nh(){this._=null}function _c(u){u.U=u.C=u.L=u.R=u.P=u.N=null}function Na(u,p){var m=p,b=p.R,x=m.U;x?x.L===m?x.L=b:x.R=b:u._=b,b.U=x,m.U=b,m.R=b.L,m.R&&(m.R.U=m),b.L=m}function K1(u,p){var m=p,b=p.L,x=m.U;x?x.L===m?x.L=b:x.R=b:u._=b,b.U=x,m.U=b,m.L=b.R,m.L&&(m.L.U=m),b.R=m}function iE(u){for(;u.L;)u=u.L;return u}Nh.prototype={constructor:Nh,insert:function(u,p){var m,b,x;if(u){if(p.P=u,p.N=u.N,u.N&&(u.N.P=p),u.N=p,u.R){for(u=u.R;u.L;)u=u.L;u.L=p}else u.R=p;m=u}else this._?(u=iE(this._),p.P=null,p.N=u,u.P=u.L=p,m=u):(p.P=p.N=null,this._=p,m=null);for(p.L=p.R=null,p.U=m,p.C=!0,u=p;m&&m.C;)m===(b=m.U).L?(x=b.R)&&x.C?(m.C=x.C=!1,b.C=!0,u=b):(u===m.R&&(Na(this,m),m=(u=m).U),m.C=!1,b.C=!0,K1(this,b)):(x=b.L)&&x.C?(m.C=x.C=!1,b.C=!0,u=b):(u===m.L&&(K1(this,m),m=(u=m).U),m.C=!1,b.C=!0,Na(this,b)),m=u.U;this._.C=!1},remove:function(u){u.N&&(u.N.P=u.P),u.P&&(u.P.N=u.N),u.N=u.P=null;var p,m,b,x=u.U,T=u.L,P=u.R;if(m=T?P?iE(P):T:P,x?x.L===u?x.L=m:x.R=m:this._=m,T&&P?(b=m.C,m.C=u.C,m.L=T,T.U=m,m!==P?(x=m.U,m.U=u.U,u=m.R,x.L=u,m.R=P,P.U=m):(m.U=x,x=m,u=m.R)):(b=u.C,u=m),u&&(u.U=x),!b)if(u&&u.C)u.C=!1;else{do{if(u===this._)break;if(u===x.L){if((p=x.R).C&&(p.C=!1,x.C=!0,Na(this,x),p=x.R),p.L&&p.L.C||p.R&&p.R.C){p.R&&p.R.C||(p.L.C=!1,p.C=!0,K1(this,p),p=x.R),p.C=x.C,x.C=p.R.C=!1,Na(this,x),u=this._;break}}else if((p=x.L).C&&(p.C=!1,x.C=!0,K1(this,x),p=x.L),p.L&&p.L.C||p.R&&p.R.C){p.L&&p.L.C||(p.R.C=!1,p.C=!0,Na(this,p),p=x.L),p.C=x.C,x.C=p.L.C=!1,K1(this,x),u=this._;break}p.C=!0,u=x,x=x.U}while(!u.C);u&&(u.C=!1)}}};const sE=Nh;function z1(u,p,m,b){var x=[null,null],T=Xi.push(x)-1;return x.left=u,x.right=p,m&&o_(x,u,p,m),b&&o_(x,p,u,b),ko[u.index].halfedges.push(T),ko[p.index].halfedges.push(T),x}function Bh(u,p,m){var b=[p,m];return b.left=u,b}function o_(u,p,m,b){u[0]||u[1]?u.left===m?u[1]=b:u[0]=b:(u[0]=b,u.left=p,u.right=m)}function zu(u,p,m,b,x){var T,P=u[0],L=u[1],$=P[0],j=P[1],Y=0,te=1,G=L[0]-$,le=L[1]-j;if(T=p-$,G||!(T>0)){if(T/=G,G<0){if(T<Y)return;T<te&&(te=T)}else if(G>0){if(T>te)return;T>Y&&(Y=T)}if(T=b-$,G||!(T<0)){if(T/=G,G<0){if(T>te)return;T>Y&&(Y=T)}else if(G>0){if(T<Y)return;T<te&&(te=T)}if(T=m-j,le||!(T>0)){if(T/=le,le<0){if(T<Y)return;T<te&&(te=T)}else if(le>0){if(T>te)return;T>Y&&(Y=T)}if(T=x-j,le||!(T<0)){if(T/=le,le<0){if(T>te)return;T>Y&&(Y=T)}else if(le>0){if(T<Y)return;T<te&&(te=T)}return!(Y>0||te<1)||(Y>0&&(u[0]=[$+Y*G,j+Y*le]),te<1&&(u[1]=[$+te*G,j+te*le]),!0)}}}}}function z0(u,p,m,b,x){var T=u[1];if(T)return!0;var P,L,$=u[0],j=u.left,Y=u.right,te=j[0],G=j[1],le=Y[0],ue=Y[1],ve=(te+le)/2,ye=(G+ue)/2;if(ue===G){if(ve<p||ve>=b)return;if(te>le){if($){if($[1]>=x)return}else $=[ve,m];T=[ve,x]}else{if($){if($[1]<m)return}else $=[ve,x];T=[ve,m]}}else if(L=ye-(P=(te-le)/(ue-G))*ve,P<-1||P>1)if(te>le){if($){if($[1]>=x)return}else $=[(m-L)/P,m];T=[(x-L)/P,x]}else{if($){if($[1]<m)return}else $=[(x-L)/P,x];T=[(m-L)/P,m]}else if(G<ue){if($){if($[0]>=b)return}else $=[p,P*p+L];T=[b,P*b+L]}else{if($){if($[0]<p)return}else $=[b,P*b+L];T=[p,P*p+L]}return u[0]=$,u[1]=T,!0}function $h(u,p){var m=u.site,b=p.left,x=p.right;return m===x&&(x=b,b=m),x?Math.atan2(x[1]-b[1],x[0]-b[0]):(m===b?(b=p[1],x=p[0]):(b=p[0],x=p[1]),Math.atan2(b[0]-x[0],x[1]-b[1]))}function q1(u,p){return p[+(p.left!==u.site)]}function ST(u,p){return p[+(p.left===u.site)]}var a_,l_=[];function xT(){_c(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fh(u){var p=u.P,m=u.N;if(p&&m){var b=p.site,x=u.site,T=m.site;if(b!==T){var P=x[0],L=x[1],$=b[0]-P,j=b[1]-L,Y=T[0]-P,te=T[1]-L,G=2*($*te-j*Y);if(!(G>=-eD)){var le=$*$+j*j,ue=Y*Y+te*te,ve=(te*le-j*ue)/G,ye=($*ue-Y*le)/G,pe=l_.pop()||new xT;pe.arc=u,pe.site=x,pe.x=ve+P,pe.y=(pe.cy=ye+L)+Math.sqrt(ve*ve+ye*ye),u.circle=pe;for(var Ce=null,Te=q0._;Te;)if(pe.y<Te.y||pe.y===Te.y&&pe.x<=Te.x){if(!Te.L){Ce=Te.P;break}Te=Te.L}else{if(!Te.R){Ce=Te;break}Te=Te.R}q0.insert(Ce,pe),Ce||(a_=pe)}}}}function Uh(u){var p=u.circle;p&&(p.P||(a_=p.N),q0.remove(p),l_.push(p),_c(p),u.circle=null)}var oE=[];function aE(){_c(this),this.edge=this.site=this.circle=null}function c_(u){var p=oE.pop()||new aE;return p.site=u,p}function V1(u){Uh(u),G1.remove(u),oE.push(u),_c(u)}function kT(u){var p=u.circle,m=p.x,b=p.cy,x=[m,b],T=u.P,P=u.N,L=[u];V1(u);for(var $=T;$.circle&&Math.abs(m-$.circle.x)<Ai&&Math.abs(b-$.circle.cy)<Ai;)T=$.P,L.unshift($),V1($),$=T;L.unshift($),Uh($);for(var j=P;j.circle&&Math.abs(m-j.circle.x)<Ai&&Math.abs(b-j.circle.cy)<Ai;)P=j.N,L.push(j),V1(j),j=P;L.push(j),Uh(j);var Y,te=L.length;for(Y=1;Y<te;++Y)j=L[Y],$=L[Y-1],o_(j.edge,$.site,j.site,x);$=L[0],(j=L[te-1]).edge=z1($.site,j.site,null,x),Fh($),Fh(j)}function JP(u){for(var p,m,b,x,T=u[0],P=u[1],L=G1._;L;)if((b=TT(L,P)-T)>Ai)L=L.L;else{if(!((x=T-QP(L,P))>Ai)){b>-Ai?(p=L.P,m=L):x>-Ai?(p=L,m=L.N):p=m=L;break}if(!L.R){p=L;break}L=L.R}(function(rt){ko[rt.index]={site:rt,halfedges:[]}})(u);var $=c_(u);if(G1.insert(p,$),p||m){if(p===m)return Uh(p),m=c_(p.site),G1.insert($,m),$.edge=m.edge=z1(p.site,$.site),Fh(p),void Fh(m);if(m){Uh(p),Uh(m);var j=p.site,Y=j[0],te=j[1],G=u[0]-Y,le=u[1]-te,ue=m.site,ve=ue[0]-Y,ye=ue[1]-te,pe=2*(G*ye-le*ve),Ce=G*G+le*le,Te=ve*ve+ye*ye,Ne=[(ye*Ce-le*Te)/pe+Y,(G*Te-ve*Ce)/pe+te];o_(m.edge,j,ue,Ne),$.edge=z1(j,u,null,Ne),m.edge=z1(u,ue,null,Ne),Fh(p),Fh(m)}else $.edge=z1(p.site,$.site)}}function TT(u,p){var m=u.site,b=m[0],x=m[1],T=x-p;if(!T)return b;var P=u.P;if(!P)return-1/0;var L=(m=P.site)[0],$=m[1],j=$-p;if(!j)return L;var Y=L-b,te=1/T-1/j,G=Y/j;return te?(-G+Math.sqrt(G*G-2*te*(Y*Y/(-2*j)-$+j/2+x-T/2)))/te+b:(b+L)/2}function QP(u,p){var m=u.N;if(m)return TT(m,p);var b=u.site;return b[1]===p?b[0]:1/0}var G1,ko,q0,Xi,Ai=1e-6,eD=1e-12;function tD(u,p,m){return(u[0]-m[0])*(p[1]-u[1])-(u[0]-p[0])*(m[1]-u[1])}function CT(u,p){return p[1]-u[1]||p[0]-u[0]}function lE(u,p){var m,b,x,T=u.sort(CT).pop();for(Xi=[],ko=new Array(u.length),G1=new sE,q0=new sE;;)if(x=a_,T&&(!x||T[1]<x.y||T[1]===x.y&&T[0]<x.x))T[0]===m&&T[1]===b||(JP(T),m=T[0],b=T[1]),T=u.pop();else{if(!x)break;kT(x.arc)}if(function(){for(var Y,te,G,le,ue=0,ve=ko.length;ue<ve;++ue)if((Y=ko[ue])&&(le=(te=Y.halfedges).length)){var ye=new Array(le),pe=new Array(le);for(G=0;G<le;++G)ye[G]=G,pe[G]=$h(Y,Xi[te[G]]);for(ye.sort(function(Ce,Te){return pe[Te]-pe[Ce]}),G=0;G<le;++G)pe[G]=te[ye[G]];for(G=0;G<le;++G)te[G]=pe[G]}}(),p){var P=+p[0][0],L=+p[0][1],$=+p[1][0],j=+p[1][1];(function(Y,te,G,le){for(var ue,ve=Xi.length;ve--;)z0(ue=Xi[ve],Y,te,G,le)&&zu(ue,Y,te,G,le)&&(Math.abs(ue[0][0]-ue[1][0])>Ai||Math.abs(ue[0][1]-ue[1][1])>Ai)||delete Xi[ve]})(P,L,$,j),function(Y,te,G,le){var ue,ve,ye,pe,Ce,Te,Ne,rt,bt,Tt,Vt,ft,Dt=ko.length,Pe=!0;for(ue=0;ue<Dt;++ue)if(ve=ko[ue]){for(ye=ve.site,pe=(Ce=ve.halfedges).length;pe--;)Xi[Ce[pe]]||Ce.splice(pe,1);for(pe=0,Te=Ce.length;pe<Te;)Vt=(Tt=ST(ve,Xi[Ce[pe]]))[0],ft=Tt[1],rt=(Ne=q1(ve,Xi[Ce[++pe%Te]]))[0],bt=Ne[1],(Math.abs(Vt-rt)>Ai||Math.abs(ft-bt)>Ai)&&(Ce.splice(pe,0,Xi.push(Bh(ye,Tt,Math.abs(Vt-Y)<Ai&&le-ft>Ai?[Y,Math.abs(rt-Y)<Ai?bt:le]:Math.abs(ft-le)<Ai&&G-Vt>Ai?[Math.abs(bt-le)<Ai?rt:G,le]:Math.abs(Vt-G)<Ai&&ft-te>Ai?[G,Math.abs(rt-G)<Ai?bt:te]:Math.abs(ft-te)<Ai&&Vt-Y>Ai?[Math.abs(bt-te)<Ai?rt:Y,te]:null))-1),++Te);Te&&(Pe=!1)}if(Pe){var Ge,Rt,mt,Mt=1/0;for(ue=0,Pe=null;ue<Dt;++ue)(ve=ko[ue])&&(mt=(Ge=(ye=ve.site)[0]-Y)*Ge+(Rt=ye[1]-te)*Rt)<Mt&&(Mt=mt,Pe=ve);if(Pe){var on=[Y,te],Fn=[Y,le],yr=[G,le],Br=[G,te];Pe.halfedges.push(Xi.push(Bh(ye=Pe.site,on,Fn))-1,Xi.push(Bh(ye,Fn,yr))-1,Xi.push(Bh(ye,yr,Br))-1,Xi.push(Bh(ye,Br,on))-1)}}for(ue=0;ue<Dt;++ue)(ve=ko[ue])&&(ve.halfedges.length||delete ko[ue])}(P,L,$,j)}this.edges=Xi,this.cells=ko,G1=q0=Xi=ko=null}function nD(){var u=Xn,p=ZP,m=null;function b(x){return new lE(x.map(function(T,P){var L=[Math.round(u(T,P,x)/Ai)*Ai,Math.round(p(T,P,x)/Ai)*Ai];return L.index=P,L.data=T,L}),m)}return b.polygons=function(x){return b(x).polygons()},b.links=function(x){return b(x).links()},b.triangles=function(x){return b(x).triangles()},b.x=function(x){return arguments.length?(u=typeof x=="function"?x:ET(+x),b):u},b.y=function(x){return arguments.length?(p=typeof x=="function"?x:ET(+x),b):p},b.extent=function(x){return arguments.length?(m=x==null?null:[[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]],b):m&&[[m[0][0],m[0][1]],[m[1][0],m[1][1]]]},b.size=function(x){return arguments.length?(m=x==null?null:[[0,0],[+x[0],+x[1]]],b):m&&[m[1][0]-m[0][0],m[1][1]-m[0][1]]},b}function u_(u){return function(){return u}}function rD(u,p,m){this.target=u,this.type=p,this.transform=m}function qu(u,p,m){this.k=u,this.x=p,this.y=m}lE.prototype={constructor:lE,polygons:function(){var u=this.edges;return this.cells.map(function(p){var m=p.halfedges.map(function(b){return q1(p,u[b])});return m.data=p.site.data,m})},triangles:function(){var u=[],p=this.edges;return this.cells.forEach(function(m,b){if(T=(x=m.halfedges).length)for(var x,T,P,L=m.site,$=-1,j=p[x[T-1]],Y=j.left===L?j.right:j.left;++$<T;)P=Y,Y=(j=p[x[$]]).left===L?j.right:j.left,P&&Y&&b<P.index&&b<Y.index&&tD(L,P,Y)<0&&u.push([L.data,P.data,Y.data])}),u},links:function(){return this.edges.filter(function(u){return u.right}).map(function(u){return{source:u.left.data,target:u.right.data}})},find:function(u,p,m){for(var b,x,T=this,P=T._found||0,L=T.cells.length;!(x=T.cells[P]);)if(++P>=L)return null;var $=u-x.site[0],j=p-x.site[1],Y=$*$+j*j;do x=T.cells[b=P],P=null,x.halfedges.forEach(function(te){var G=T.edges[te],le=G.left;if(le!==x.site&&le||(le=G.right)){var ue=u-le[0],ve=p-le[1],ye=ue*ue+ve*ve;ye<Y&&(Y=ye,P=le.index)}});while(P!==null);return T._found=b,m==null||Y<=m*m?x.site:null}},qu.prototype={constructor:qu,scale:function(u){return u===1?this:new qu(this.k*u,this.x,this.y)},translate:function(u,p){return u===0&p===0?this:new qu(this.k,this.x+this.k*u,this.y+this.k*p)},apply:function(u){return[u[0]*this.k+this.x,u[1]*this.k+this.y]},applyX:function(u){return u*this.k+this.x},applyY:function(u){return u*this.k+this.y},invert:function(u){return[(u[0]-this.x)/this.k,(u[1]-this.y)/this.k]},invertX:function(u){return(u-this.x)/this.k},invertY:function(u){return(u-this.y)/this.k},rescaleX:function(u){return u.copy().domain(u.range().map(this.invertX,this).map(u.invert,u))},rescaleY:function(u){return u.copy().domain(u.range().map(this.invertY,this).map(u.invert,u))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var d_=new qu(1,0,0);function V0(u){for(;!u.__zoom;)if(!(u=u.parentNode))return d_;return u.__zoom}function cE(){Fe.stopImmediatePropagation()}function G0(){Fe.preventDefault(),Fe.stopImmediatePropagation()}function iD(){return!Fe.ctrlKey&&!Fe.button}function sD(){var u=this;return u instanceof SVGElement?(u=u.ownerSVGElement||u).hasAttribute("viewBox")?[[(u=u.viewBox.baseVal).x,u.y],[u.x+u.width,u.y+u.height]]:[[0,0],[u.width.baseVal.value,u.height.baseVal.value]]:[[0,0],[u.clientWidth,u.clientHeight]]}function IT(){return this.__zoom||d_}function oD(){return-Fe.deltaY*(Fe.deltaMode===1?.05:Fe.deltaMode?1:.002)}function aD(){return navigator.maxTouchPoints||"ontouchstart"in this}function lD(u,p,m){var b=u.invertX(p[0][0])-m[0][0],x=u.invertX(p[1][0])-m[1][0],T=u.invertY(p[0][1])-m[0][1],P=u.invertY(p[1][1])-m[1][1];return u.translate(x>b?(b+x)/2:Math.min(0,b)||Math.max(0,x),P>T?(T+P)/2:Math.min(0,T)||Math.max(0,P))}function RT(){var u,p,m=iD,b=sD,x=lD,T=oD,P=aD,L=[0,1/0],$=[[-1/0,-1/0],[1/0,1/0]],j=250,Y=Fk,te=Ut("start","zoom","end"),G=500,le=0;function ue(Pe){Pe.property("__zoom",IT).on("wheel.zoom",rt).on("mousedown.zoom",bt).on("dblclick.zoom",Tt).filter(P).on("touchstart.zoom",Vt).on("touchmove.zoom",ft).on("touchend.zoom touchcancel.zoom",Dt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ve(Pe,Ge){return(Ge=Math.max(L[0],Math.min(L[1],Ge)))===Pe.k?Pe:new qu(Ge,Pe.x,Pe.y)}function ye(Pe,Ge,Rt){var mt=Ge[0]-Rt[0]*Pe.k,Mt=Ge[1]-Rt[1]*Pe.k;return mt===Pe.x&&Mt===Pe.y?Pe:new qu(Pe.k,mt,Mt)}function pe(Pe){return[(+Pe[0][0]+ +Pe[1][0])/2,(+Pe[0][1]+ +Pe[1][1])/2]}function Ce(Pe,Ge,Rt){Pe.on("start.zoom",function(){Te(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){Te(this,arguments).end()}).tween("zoom",function(){var mt=this,Mt=arguments,on=Te(mt,Mt),Fn=b.apply(mt,Mt),yr=Rt==null?pe(Fn):typeof Rt=="function"?Rt.apply(mt,Mt):Rt,Br=Math.max(Fn[1][0]-Fn[0][0],Fn[1][1]-Fn[0][1]),zr=mt.__zoom,Wn=typeof Ge=="function"?Ge.apply(mt,Mt):Ge,ti=Y(zr.invert(yr).concat(Br/zr.k),Wn.invert(yr).concat(Br/Wn.k));return function(Sr){if(Sr===1)Sr=Wn;else{var wr=ti(Sr),er=Br/wr[2];Sr=new qu(er,yr[0]-wr[0]*er,yr[1]-wr[1]*er)}on.zoom(null,Sr)}})}function Te(Pe,Ge,Rt){return!Rt&&Pe.__zooming||new Ne(Pe,Ge)}function Ne(Pe,Ge){this.that=Pe,this.args=Ge,this.active=0,this.extent=b.apply(Pe,Ge),this.taps=0}function rt(){if(m.apply(this,arguments)){var Pe=Te(this,arguments),Ge=this.__zoom,Rt=Math.max(L[0],Math.min(L[1],Ge.k*Math.pow(2,T.apply(this,arguments)))),mt=wu(this);if(Pe.wheel)Pe.mouse[0][0]===mt[0]&&Pe.mouse[0][1]===mt[1]||(Pe.mouse[1]=Ge.invert(Pe.mouse[0]=mt)),clearTimeout(Pe.wheel);else{if(Ge.k===Rt)return;Pe.mouse=[mt,Ge.invert(mt)],na(this),Pe.start()}G0(),Pe.wheel=setTimeout(Mt,150),Pe.zoom("mouse",x(ye(ve(Ge,Rt),Pe.mouse[0],Pe.mouse[1]),Pe.extent,$))}function Mt(){Pe.wheel=null,Pe.end()}}function bt(){if(!p&&m.apply(this,arguments)){var Pe=Te(this,arguments,!0),Ge=ri(Fe.view).on("mousemove.zoom",on,!0).on("mouseup.zoom",Fn,!0),Rt=wu(this),mt=Fe.clientX,Mt=Fe.clientY;es(Fe.view),cE(),Pe.mouse=[Rt,this.__zoom.invert(Rt)],na(this),Pe.start()}function on(){if(G0(),!Pe.moved){var yr=Fe.clientX-mt,Br=Fe.clientY-Mt;Pe.moved=yr*yr+Br*Br>le}Pe.zoom("mouse",x(ye(Pe.that.__zoom,Pe.mouse[0]=wu(Pe.that),Pe.mouse[1]),Pe.extent,$))}function Fn(){Ge.on("mousemove.zoom mouseup.zoom",null),Ni(Fe.view,Pe.moved),G0(),Pe.end()}}function Tt(){if(m.apply(this,arguments)){var Pe=this.__zoom,Ge=wu(this),Rt=Pe.invert(Ge),mt=Pe.k*(Fe.shiftKey?.5:2),Mt=x(ye(ve(Pe,mt),Ge,Rt),b.apply(this,arguments),$);G0(),j>0?ri(this).transition().duration(j).call(Ce,Mt,Ge):ri(this).call(ue.transform,Mt)}}function Vt(){if(m.apply(this,arguments)){var Pe,Ge,Rt,mt,Mt=Fe.touches,on=Mt.length,Fn=Te(this,arguments,Fe.changedTouches.length===on);for(cE(),Ge=0;Ge<on;++Ge)mt=[mt=ta(this,Mt,(Rt=Mt[Ge]).identifier),this.__zoom.invert(mt),Rt.identifier],Fn.touch0?Fn.touch1||Fn.touch0[2]===mt[2]||(Fn.touch1=mt,Fn.taps=0):(Fn.touch0=mt,Pe=!0,Fn.taps=1+!!u);u&&(u=clearTimeout(u)),Pe&&(Fn.taps<2&&(u=setTimeout(function(){u=null},G)),na(this),Fn.start())}}function ft(){if(this.__zooming){var Pe,Ge,Rt,mt,Mt=Te(this,arguments),on=Fe.changedTouches,Fn=on.length;for(G0(),u&&(u=clearTimeout(u)),Mt.taps=0,Pe=0;Pe<Fn;++Pe)Rt=ta(this,on,(Ge=on[Pe]).identifier),Mt.touch0&&Mt.touch0[2]===Ge.identifier?Mt.touch0[0]=Rt:Mt.touch1&&Mt.touch1[2]===Ge.identifier&&(Mt.touch1[0]=Rt);if(Ge=Mt.that.__zoom,Mt.touch1){var yr=Mt.touch0[0],Br=Mt.touch0[1],zr=Mt.touch1[0],Wn=Mt.touch1[1],ti=(ti=zr[0]-yr[0])*ti+(ti=zr[1]-yr[1])*ti,Sr=(Sr=Wn[0]-Br[0])*Sr+(Sr=Wn[1]-Br[1])*Sr;Ge=ve(Ge,Math.sqrt(ti/Sr)),Rt=[(yr[0]+zr[0])/2,(yr[1]+zr[1])/2],mt=[(Br[0]+Wn[0])/2,(Br[1]+Wn[1])/2]}else{if(!Mt.touch0)return;Rt=Mt.touch0[0],mt=Mt.touch0[1]}Mt.zoom("touch",x(ye(Ge,Rt,mt),Mt.extent,$))}}function Dt(){if(this.__zooming){var Pe,Ge,Rt=Te(this,arguments),mt=Fe.changedTouches,Mt=mt.length;for(cE(),p&&clearTimeout(p),p=setTimeout(function(){p=null},G),Pe=0;Pe<Mt;++Pe)Ge=mt[Pe],Rt.touch0&&Rt.touch0[2]===Ge.identifier?delete Rt.touch0:Rt.touch1&&Rt.touch1[2]===Ge.identifier&&delete Rt.touch1;if(Rt.touch1&&!Rt.touch0&&(Rt.touch0=Rt.touch1,delete Rt.touch1),Rt.touch0)Rt.touch0[1]=this.__zoom.invert(Rt.touch0[0]);else if(Rt.end(),Rt.taps===2){var on=ri(this).on("dblclick.zoom");on&&on.apply(this,arguments)}}}return ue.transform=function(Pe,Ge,Rt){var mt=Pe.selection?Pe.selection():Pe;mt.property("__zoom",IT),Pe!==mt?Ce(Pe,Ge,Rt):mt.interrupt().each(function(){Te(this,arguments).start().zoom(null,typeof Ge=="function"?Ge.apply(this,arguments):Ge).end()})},ue.scaleBy=function(Pe,Ge,Rt){ue.scaleTo(Pe,function(){var mt=this.__zoom.k,Mt=typeof Ge=="function"?Ge.apply(this,arguments):Ge;return mt*Mt},Rt)},ue.scaleTo=function(Pe,Ge,Rt){ue.transform(Pe,function(){var mt=b.apply(this,arguments),Mt=this.__zoom,on=Rt==null?pe(mt):typeof Rt=="function"?Rt.apply(this,arguments):Rt,Fn=Mt.invert(on),yr=typeof Ge=="function"?Ge.apply(this,arguments):Ge;return x(ye(ve(Mt,yr),on,Fn),mt,$)},Rt)},ue.translateBy=function(Pe,Ge,Rt){ue.transform(Pe,function(){return x(this.__zoom.translate(typeof Ge=="function"?Ge.apply(this,arguments):Ge,typeof Rt=="function"?Rt.apply(this,arguments):Rt),b.apply(this,arguments),$)})},ue.translateTo=function(Pe,Ge,Rt,mt){ue.transform(Pe,function(){var Mt=b.apply(this,arguments),on=this.__zoom,Fn=mt==null?pe(Mt):typeof mt=="function"?mt.apply(this,arguments):mt;return x(d_.translate(Fn[0],Fn[1]).scale(on.k).translate(typeof Ge=="function"?-Ge.apply(this,arguments):-Ge,typeof Rt=="function"?-Rt.apply(this,arguments):-Rt),Mt,$)},mt)},Ne.prototype={start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Pe,Ge){return this.mouse&&Pe!=="mouse"&&(this.mouse[1]=Ge.invert(this.mouse[0])),this.touch0&&Pe!=="touch"&&(this.touch0[1]=Ge.invert(this.touch0[0])),this.touch1&&Pe!=="touch"&&(this.touch1[1]=Ge.invert(this.touch1[0])),this.that.__zoom=Ge,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Pe){Jo(new rD(ue,Pe,this.that.__zoom),te.apply,te,[Pe,this.that,this.args])}},ue.wheelDelta=function(Pe){return arguments.length?(T=typeof Pe=="function"?Pe:u_(+Pe),ue):T},ue.filter=function(Pe){return arguments.length?(m=typeof Pe=="function"?Pe:u_(!!Pe),ue):m},ue.touchable=function(Pe){return arguments.length?(P=typeof Pe=="function"?Pe:u_(!!Pe),ue):P},ue.extent=function(Pe){return arguments.length?(b=typeof Pe=="function"?Pe:u_([[+Pe[0][0],+Pe[0][1]],[+Pe[1][0],+Pe[1][1]]]),ue):b},ue.scaleExtent=function(Pe){return arguments.length?(L[0]=+Pe[0],L[1]=+Pe[1],ue):[L[0],L[1]]},ue.translateExtent=function(Pe){return arguments.length?($[0][0]=+Pe[0][0],$[1][0]=+Pe[1][0],$[0][1]=+Pe[0][1],$[1][1]=+Pe[1][1],ue):[[$[0][0],$[0][1]],[$[1][0],$[1][1]]]},ue.constrain=function(Pe){return arguments.length?(x=Pe,ue):x},ue.duration=function(Pe){return arguments.length?(j=+Pe,ue):j},ue.interpolate=function(Pe){return arguments.length?(Y=Pe,ue):Y},ue.on=function(){var Pe=te.on.apply(te,arguments);return Pe===te?ue:Pe},ue.clickDistance=function(Pe){return arguments.length?(le=(Pe=+Pe)*Pe,ue):Math.sqrt(le)},ue}V0.prototype=qu.prototype},681:(t,e,n)=>{t.exports={graphlib:n(574),layout:n(8123),debug:n(7570),util:{time:n(1138).time,notime:n(1138).notime},version:n(8177)}},1207:(t,e,n)=>{var r=n(8436),i=n(4079);t.exports={run:function(s){var o=s.graph().acyclicer==="greedy"?i(s,function(l){return function(d){return l.edge(d).weight}}(s)):function(l){var d=[],h={},f={};return r.forEach(l.nodes(),function v(w){r.has(f,w)||(f[w]=!0,h[w]=!0,r.forEach(l.outEdges(w),function(E){r.has(h,E.w)?d.push(E):v(E.w)}),delete h[w])}),d}(s);r.forEach(o,function(l){var d=s.edge(l);s.removeEdge(l),d.forwardName=l.name,d.reversed=!0,s.setEdge(l.w,l.v,d,r.uniqueId("rev"))})},undo:function(s){r.forEach(s.edges(),function(o){var l=s.edge(o);if(l.reversed){s.removeEdge(o);var d=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,d)}})}}},1133:(t,e,n)=>{var r=n(8436),i=n(1138);function s(o,l,d,h,f,v){var w={width:0,height:0,rank:v,borderType:l},E=f[l][v-1],C=i.addDummyNode(o,"border",w,d);f[l][v]=C,o.setParent(C,h),E&&o.setEdge(E,C,{weight:1})}t.exports=function(o){r.forEach(o.children(),function l(d){var h=o.children(d),f=o.node(d);if(h.length&&r.forEach(h,l),r.has(f,"minRank")){f.borderLeft=[],f.borderRight=[];for(var v=f.minRank,w=f.maxRank+1;v<w;++v)s(o,"borderLeft","_bl",d,f,v),s(o,"borderRight","_br",d,f,v)}})}},3258:(t,e,n)=>{var r=n(8436);function i(d){r.forEach(d.nodes(),function(h){s(d.node(h))}),r.forEach(d.edges(),function(h){s(d.edge(h))})}function s(d){var h=d.width;d.width=d.height,d.height=h}function o(d){d.y=-d.y}function l(d){var h=d.x;d.x=d.y,d.y=h}t.exports={adjust:function(d){var h=d.graph().rankdir.toLowerCase();h!=="lr"&&h!=="rl"||i(d)},undo:function(d){var h=d.graph().rankdir.toLowerCase();h!=="bt"&&h!=="rl"||function(f){r.forEach(f.nodes(),function(v){o(f.node(v))}),r.forEach(f.edges(),function(v){var w=f.edge(v);r.forEach(w.points,o),r.has(w,"y")&&o(w)})}(d),h!=="lr"&&h!=="rl"||(function(f){r.forEach(f.nodes(),function(v){l(f.node(v))}),r.forEach(f.edges(),function(v){var w=f.edge(v);r.forEach(w.points,l),r.has(w,"x")&&l(w)})}(d),i(d))}}},7822:t=>{function e(){var i={};i._next=i._prev=i,this._sentinel=i}function n(i){i._prev._next=i._next,i._next._prev=i._prev,delete i._next,delete i._prev}function r(i,s){if(i!=="_next"&&i!=="_prev")return s}t.exports=e,e.prototype.dequeue=function(){var i=this._sentinel,s=i._prev;if(s!==i)return n(s),s},e.prototype.enqueue=function(i){var s=this._sentinel;i._prev&&i._next&&n(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s},e.prototype.toString=function(){for(var i=[],s=this._sentinel,o=s._prev;o!==s;)i.push(JSON.stringify(o,r)),o=o._prev;return"["+i.join(", ")+"]"}},7570:(t,e,n)=>{var r=n(8436),i=n(1138),s=n(574).Graph;t.exports={debugOrdering:function(o){var l=i.buildLayerMatrix(o),d=new s({compound:!0,multigraph:!0}).setGraph({});return r.forEach(o.nodes(),function(h){d.setNode(h,{label:h}),d.setParent(h,"layer"+o.node(h).rank)}),r.forEach(o.edges(),function(h){d.setEdge(h.v,h.w,{},h.name)}),r.forEach(l,function(h,f){var v="layer"+f;d.setNode(v,{rank:"same"}),r.reduce(h,function(w,E){return d.setEdge(w,E,{style:"invis"}),E})}),d}}},574:(t,e,n)=>{var r;try{r=n(8282)}catch{}r||(r=window.graphlib),t.exports=r},4079:(t,e,n)=>{var r=n(8436),i=n(574).Graph,s=n(7822);t.exports=function(h,f){if(h.nodeCount()<=1)return[];var v=function(E,C){var O=new i,M=0,A=0;r.forEach(E.nodes(),function(R){O.setNode(R,{v:R,in:0,out:0})}),r.forEach(E.edges(),function(R){var X=O.edge(R.v,R.w)||0,H=C(R),K=X+H;O.setEdge(R.v,R.w,K),A=Math.max(A,O.node(R.v).out+=H),M=Math.max(M,O.node(R.w).in+=H)});var D=r.range(A+M+3).map(function(){return new s}),U=M+1;return r.forEach(O.nodes(),function(R){d(D,U,O.node(R))}),{graph:O,buckets:D,zeroIdx:U}}(h,f||o),w=function(E,C,O){for(var M,A=[],D=C[C.length-1],U=C[0];E.nodeCount();){for(;M=U.dequeue();)l(E,C,O,M);for(;M=D.dequeue();)l(E,C,O,M);if(E.nodeCount()){for(var R=C.length-2;R>0;--R)if(M=C[R].dequeue()){A=A.concat(l(E,C,O,M,!0));break}}}return A}(v.graph,v.buckets,v.zeroIdx);return r.flatten(r.map(w,function(E){return h.outEdges(E.v,E.w)}),!0)};var o=r.constant(1);function l(h,f,v,w,E){var C=E?[]:void 0;return r.forEach(h.inEdges(w.v),function(O){var M=h.edge(O),A=h.node(O.v);E&&C.push({v:O.v,w:O.w}),A.out-=M,d(f,v,A)}),r.forEach(h.outEdges(w.v),function(O){var M=h.edge(O),A=O.w,D=h.node(A);D.in-=M,d(f,v,D)}),h.removeNode(w.v),C}function d(h,f,v){v.out?v.in?h[v.out-v.in+f].enqueue(v):h[h.length-1].enqueue(v):h[0].enqueue(v)}},8123:(t,e,n)=>{var r=n(8436),i=n(1207),s=n(5995),o=n(8093),l=n(1138).normalizeRanks,d=n(4219),h=n(1138).removeEmptyRanks,f=n(2981),v=n(1133),w=n(3258),E=n(3408),C=n(7873),O=n(1138),M=n(574).Graph;t.exports=function(se,oe){var Q=oe&&oe.debugTiming?O.time:O.notime;Q("layout",function(){var ae=Q("  buildLayoutGraph",function(){return function(he){var Ee=new M({multigraph:!0,compound:!0}),De=ie(he.graph());return Ee.setGraph(r.merge({},D,Z(De,A),r.pick(De,U))),r.forEach(he.nodes(),function(qe){var _e=ie(he.node(qe));Ee.setNode(qe,r.defaults(Z(_e,R),X)),Ee.setParent(qe,he.parent(qe))}),r.forEach(he.edges(),function(qe){var _e=ie(he.edge(qe));Ee.setEdge(qe,r.merge({},K,Z(_e,H),r.pick(_e,W)))}),Ee}(se)});Q("  runLayout",function(){(function(he,Ee){Ee("    makeSpaceForEdgeLabels",function(){(function(De){var qe=De.graph();qe.ranksep/=2,r.forEach(De.edges(),function(_e){var xe=De.edge(_e);xe.minlen*=2,xe.labelpos.toLowerCase()!=="c"&&(qe.rankdir==="TB"||qe.rankdir==="BT"?xe.width+=xe.labeloffset:xe.height+=xe.labeloffset)})})(he)}),Ee("    removeSelfEdges",function(){(function(De){r.forEach(De.edges(),function(qe){if(qe.v===qe.w){var _e=De.node(qe.v);_e.selfEdges||(_e.selfEdges=[]),_e.selfEdges.push({e:qe,label:De.edge(qe)}),De.removeEdge(qe)}})})(he)}),Ee("    acyclic",function(){i.run(he)}),Ee("    nestingGraph.run",function(){f.run(he)}),Ee("    rank",function(){o(O.asNonCompoundGraph(he))}),Ee("    injectEdgeLabelProxies",function(){(function(De){r.forEach(De.edges(),function(qe){var _e=De.edge(qe);if(_e.width&&_e.height){var xe=De.node(qe.v),Se={rank:(De.node(qe.w).rank-xe.rank)/2+xe.rank,e:qe};O.addDummyNode(De,"edge-proxy",Se,"_ep")}})})(he)}),Ee("    removeEmptyRanks",function(){h(he)}),Ee("    nestingGraph.cleanup",function(){f.cleanup(he)}),Ee("    normalizeRanks",function(){l(he)}),Ee("    assignRankMinMax",function(){(function(De){var qe=0;r.forEach(De.nodes(),function(_e){var xe=De.node(_e);xe.borderTop&&(xe.minRank=De.node(xe.borderTop).rank,xe.maxRank=De.node(xe.borderBottom).rank,qe=r.max(qe,xe.maxRank))}),De.graph().maxRank=qe})(he)}),Ee("    removeEdgeLabelProxies",function(){(function(De){r.forEach(De.nodes(),function(qe){var _e=De.node(qe);_e.dummy==="edge-proxy"&&(De.edge(_e.e).labelRank=_e.rank,De.removeNode(qe))})})(he)}),Ee("    normalize.run",function(){s.run(he)}),Ee("    parentDummyChains",function(){d(he)}),Ee("    addBorderSegments",function(){v(he)}),Ee("    order",function(){E(he)}),Ee("    insertSelfEdges",function(){(function(De){var qe=O.buildLayerMatrix(De);r.forEach(qe,function(_e){var xe=0;r.forEach(_e,function(Se,Ie){var Ye=De.node(Se);Ye.order=Ie+xe,r.forEach(Ye.selfEdges,function(Le){O.addDummyNode(De,"selfedge",{width:Le.label.width,height:Le.label.height,rank:Ye.rank,order:Ie+ ++xe,e:Le.e,label:Le.label},"_se")}),delete Ye.selfEdges})})})(he)}),Ee("    adjustCoordinateSystem",function(){w.adjust(he)}),Ee("    position",function(){C(he)}),Ee("    positionSelfEdges",function(){(function(De){r.forEach(De.nodes(),function(qe){var _e=De.node(qe);if(_e.dummy==="selfedge"){var xe=De.node(_e.e.v),Se=xe.x+xe.width/2,Ie=xe.y,Ye=_e.x-Se,Le=xe.height/2;De.setEdge(_e.e,_e.label),De.removeNode(qe),_e.label.points=[{x:Se+2*Ye/3,y:Ie-Le},{x:Se+5*Ye/6,y:Ie-Le},{x:Se+Ye,y:Ie},{x:Se+5*Ye/6,y:Ie+Le},{x:Se+2*Ye/3,y:Ie+Le}],_e.label.x=_e.x,_e.label.y=_e.y}})})(he)}),Ee("    removeBorderNodes",function(){(function(De){r.forEach(De.nodes(),function(qe){if(De.children(qe).length){var _e=De.node(qe),xe=De.node(_e.borderTop),Se=De.node(_e.borderBottom),Ie=De.node(r.last(_e.borderLeft)),Ye=De.node(r.last(_e.borderRight));_e.width=Math.abs(Ye.x-Ie.x),_e.height=Math.abs(Se.y-xe.y),_e.x=Ie.x+_e.width/2,_e.y=xe.y+_e.height/2}}),r.forEach(De.nodes(),function(qe){De.node(qe).dummy==="border"&&De.removeNode(qe)})})(he)}),Ee("    normalize.undo",function(){s.undo(he)}),Ee("    fixupEdgeLabelCoords",function(){(function(De){r.forEach(De.edges(),function(qe){var _e=De.edge(qe);if(r.has(_e,"x"))switch(_e.labelpos!=="l"&&_e.labelpos!=="r"||(_e.width-=_e.labeloffset),_e.labelpos){case"l":_e.x-=_e.width/2+_e.labeloffset;break;case"r":_e.x+=_e.width/2+_e.labeloffset}})})(he)}),Ee("    undoCoordinateSystem",function(){w.undo(he)}),Ee("    translateGraph",function(){(function(De){var qe=Number.POSITIVE_INFINITY,_e=0,xe=Number.POSITIVE_INFINITY,Se=0,Ie=De.graph(),Ye=Ie.marginx||0,Le=Ie.marginy||0;function Nt(pt){var ze=pt.x,nt=pt.y,me=pt.width,ut=pt.height;qe=Math.min(qe,ze-me/2),_e=Math.max(_e,ze+me/2),xe=Math.min(xe,nt-ut/2),Se=Math.max(Se,nt+ut/2)}r.forEach(De.nodes(),function(pt){Nt(De.node(pt))}),r.forEach(De.edges(),function(pt){var ze=De.edge(pt);r.has(ze,"x")&&Nt(ze)}),qe-=Ye,xe-=Le,r.forEach(De.nodes(),function(pt){var ze=De.node(pt);ze.x-=qe,ze.y-=xe}),r.forEach(De.edges(),function(pt){var ze=De.edge(pt);r.forEach(ze.points,function(nt){nt.x-=qe,nt.y-=xe}),r.has(ze,"x")&&(ze.x-=qe),r.has(ze,"y")&&(ze.y-=xe)}),Ie.width=_e-qe+Ye,Ie.height=Se-xe+Le})(he)}),Ee("    assignNodeIntersects",function(){(function(De){r.forEach(De.edges(),function(qe){var _e,xe,Se=De.edge(qe),Ie=De.node(qe.v),Ye=De.node(qe.w);Se.points?(_e=Se.points[0],xe=Se.points[Se.points.length-1]):(Se.points=[],_e=Ye,xe=Ie),Se.points.unshift(O.intersectRect(Ie,_e)),Se.points.push(O.intersectRect(Ye,xe))})})(he)}),Ee("    reversePoints",function(){(function(De){r.forEach(De.edges(),function(qe){var _e=De.edge(qe);_e.reversed&&_e.points.reverse()})})(he)}),Ee("    acyclic.undo",function(){i.undo(he)})})(ae,Q)}),Q("  updateInputGraph",function(){(function(he,Ee){r.forEach(he.nodes(),function(De){var qe=he.node(De),_e=Ee.node(De);qe&&(qe.x=_e.x,qe.y=_e.y,Ee.children(De).length&&(qe.width=_e.width,qe.height=_e.height))}),r.forEach(he.edges(),function(De){var qe=he.edge(De),_e=Ee.edge(De);qe.points=_e.points,r.has(_e,"x")&&(qe.x=_e.x,qe.y=_e.y)}),he.graph().width=Ee.graph().width,he.graph().height=Ee.graph().height})(se,ae)})})};var A=["nodesep","edgesep","ranksep","marginx","marginy"],D={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},U=["acyclicer","ranker","rankdir","align"],R=["width","height"],X={width:0,height:0},H=["minlen","weight","width","height","labeloffset"],K={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},W=["labelpos"];function Z(se,oe){return r.mapValues(r.pick(se,oe),Number)}function ie(se){var oe={};return r.forEach(se,function(Q,ae){oe[ae.toLowerCase()]=Q}),oe}},8436:(t,e,n)=>{var r;try{r={cloneDeep:n(361),constant:n(5703),defaults:n(1747),each:n(6073),filter:n(3105),find:n(3311),flatten:n(5564),forEach:n(4486),forIn:n(2620),has:n(8721),isUndefined:n(2353),last:n(928),map:n(5161),mapValues:n(6604),max:n(6162),merge:n(3857),min:n(3632),minBy:n(2762),now:n(7771),pick:n(9722),range:n(6026),reduce:n(4061),sortBy:n(9734),uniqueId:n(3955),values:n(2628),zipObject:n(7287)}}catch{}r||(r=window._),t.exports=r},2981:(t,e,n)=>{var r=n(8436),i=n(1138);function s(o,l,d,h,f,v,w){var E=o.children(w);if(E.length){var C=i.addBorderNode(o,"_bt"),O=i.addBorderNode(o,"_bb"),M=o.node(w);o.setParent(C,w),M.borderTop=C,o.setParent(O,w),M.borderBottom=O,r.forEach(E,function(A){s(o,l,d,h,f,v,A);var D=o.node(A),U=D.borderTop?D.borderTop:A,R=D.borderBottom?D.borderBottom:A,X=D.borderTop?h:2*h,H=U!==R?1:f-v[w]+1;o.setEdge(C,U,{weight:X,minlen:H,nestingEdge:!0}),o.setEdge(R,O,{weight:X,minlen:H,nestingEdge:!0})}),o.parent(w)||o.setEdge(l,C,{weight:0,minlen:f+v[w]})}else w!==l&&o.setEdge(l,w,{weight:0,minlen:d})}t.exports={run:function(o){var l=i.addDummyNode(o,"root",{},"_root"),d=function(w){var E={};function C(O,M){var A=w.children(O);A&&A.length&&r.forEach(A,function(D){C(D,M+1)}),E[O]=M}return r.forEach(w.children(),function(O){C(O,1)}),E}(o),h=r.max(r.values(d))-1,f=2*h+1;o.graph().nestingRoot=l,r.forEach(o.edges(),function(w){o.edge(w).minlen*=f});var v=function(w){return r.reduce(w.edges(),function(E,C){return E+w.edge(C).weight},0)}(o)+1;r.forEach(o.children(),function(w){s(o,l,f,v,h,d,w)}),o.graph().nodeRankFactor=f},cleanup:function(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,r.forEach(o.edges(),function(d){o.edge(d).nestingEdge&&o.removeEdge(d)})}}},5995:(t,e,n)=>{var r=n(8436),i=n(1138);t.exports={run:function(s){s.graph().dummyChains=[],r.forEach(s.edges(),function(o){(function(l,d){var h,f,v,w=d.v,E=l.node(w).rank,C=d.w,O=l.node(C).rank,M=d.name,A=l.edge(d),D=A.labelRank;if(O!==E+1){for(l.removeEdge(d),v=0,++E;E<O;++v,++E)A.points=[],f={width:0,height:0,edgeLabel:A,edgeObj:d,rank:E},h=i.addDummyNode(l,"edge",f,"_d"),E===D&&(f.width=A.width,f.height=A.height,f.dummy="edge-label",f.labelpos=A.labelpos),l.setEdge(w,h,{weight:A.weight},M),v===0&&l.graph().dummyChains.push(h),w=h;l.setEdge(w,C,{weight:A.weight},M)}})(s,o)})},undo:function(s){r.forEach(s.graph().dummyChains,function(o){var l,d=s.node(o),h=d.edgeLabel;for(s.setEdge(d.edgeObj,h);d.dummy;)l=s.successors(o)[0],s.removeNode(o),h.points.push({x:d.x,y:d.y}),d.dummy==="edge-label"&&(h.x=d.x,h.y=d.y,h.width=d.width,h.height=d.height),o=l,d=s.node(o)})}}},5093:(t,e,n)=>{var r=n(8436);t.exports=function(i,s,o){var l,d={};r.forEach(o,function(h){for(var f,v,w=i.parent(h);w;){if((f=i.parent(w))?(v=d[f],d[f]=w):(v=l,l=w),v&&v!==w)return void s.setEdge(v,w);w=f}})}},5439:(t,e,n)=>{var r=n(8436);t.exports=function(i,s){return r.map(s,function(o){var l=i.inEdges(o);if(l.length){var d=r.reduce(l,function(h,f){var v=i.edge(f),w=i.node(f.v);return{sum:h.sum+v.weight*w.order,weight:h.weight+v.weight}},{sum:0,weight:0});return{v:o,barycenter:d.sum/d.weight,weight:d.weight}}return{v:o}})}},3128:(t,e,n)=>{var r=n(8436),i=n(574).Graph;t.exports=function(s,o,l){var d=function(f){for(var v;f.hasNode(v=r.uniqueId("_root")););return v}(s),h=new i({compound:!0}).setGraph({root:d}).setDefaultNodeLabel(function(f){return s.node(f)});return r.forEach(s.nodes(),function(f){var v=s.node(f),w=s.parent(f);(v.rank===o||v.minRank<=o&&o<=v.maxRank)&&(h.setNode(f),h.setParent(f,w||d),r.forEach(s[l](f),function(E){var C=E.v===f?E.w:E.v,O=h.edge(C,f),M=r.isUndefined(O)?0:O.weight;h.setEdge(C,f,{weight:s.edge(E).weight+M})}),r.has(v,"minRank")&&h.setNode(f,{borderLeft:v.borderLeft[o],borderRight:v.borderRight[o]}))}),h}},6630:(t,e,n)=>{var r=n(8436);function i(s,o,l){for(var d=r.zipObject(l,r.map(l,function(C,O){return O})),h=r.flatten(r.map(o,function(C){return r.sortBy(r.map(s.outEdges(C),function(O){return{pos:d[O.w],weight:s.edge(O).weight}}),"pos")}),!0),f=1;f<l.length;)f<<=1;var v=2*f-1;f-=1;var w=r.map(new Array(v),function(){return 0}),E=0;return r.forEach(h.forEach(function(C){var O=C.pos+f;w[O]+=C.weight;for(var M=0;O>0;)O%2&&(M+=w[O+1]),w[O=O-1>>1]+=C.weight;E+=C.weight*M})),E}t.exports=function(s,o){for(var l=0,d=1;d<o.length;++d)l+=i(s,o[d-1],o[d]);return l}},3408:(t,e,n)=>{var r=n(8436),i=n(2588),s=n(6630),o=n(1026),l=n(3128),d=n(5093),h=n(574).Graph,f=n(1138);function v(C,O,M){return r.map(O,function(A){return l(C,A,M)})}function w(C,O){var M=new h;r.forEach(C,function(A){var D=A.graph().root,U=o(A,D,M,O);r.forEach(U.vs,function(R,X){A.node(R).order=X}),d(A,M,U.vs)})}function E(C,O){r.forEach(O,function(M){r.forEach(M,function(A,D){C.node(A).order=D})})}t.exports=function(C){var O=f.maxRank(C),M=v(C,r.range(1,O+1),"inEdges"),A=v(C,r.range(O-1,-1,-1),"outEdges"),D=i(C);E(C,D);for(var U,R=Number.POSITIVE_INFINITY,X=0,H=0;H<4;++X,++H){w(X%2?M:A,X%4>=2),D=f.buildLayerMatrix(C);var K=s(C,D);K<R&&(H=0,U=r.cloneDeep(D),R=K)}E(C,U)}},2588:(t,e,n)=>{var r=n(8436);t.exports=function(i){var s={},o=r.filter(i.nodes(),function(f){return!i.children(f).length}),l=r.max(r.map(o,function(f){return i.node(f).rank})),d=r.map(r.range(l+1),function(){return[]}),h=r.sortBy(o,function(f){return i.node(f).rank});return r.forEach(h,function f(v){if(!r.has(s,v)){s[v]=!0;var w=i.node(v);d[w.rank].push(v),r.forEach(i.successors(v),f)}}),d}},9567:(t,e,n)=>{var r=n(8436);t.exports=function(i,s){var o={};return r.forEach(i,function(l,d){var h=o[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:d};r.isUndefined(l.barycenter)||(h.barycenter=l.barycenter,h.weight=l.weight)}),r.forEach(s.edges(),function(l){var d=o[l.v],h=o[l.w];r.isUndefined(d)||r.isUndefined(h)||(h.indegree++,d.out.push(o[l.w]))}),function(l){var d=[];function h(w){return function(E){var C,O,M,A;E.merged||(r.isUndefined(E.barycenter)||r.isUndefined(w.barycenter)||E.barycenter>=w.barycenter)&&(O=E,M=0,A=0,(C=w).weight&&(M+=C.barycenter*C.weight,A+=C.weight),O.weight&&(M+=O.barycenter*O.weight,A+=O.weight),C.vs=O.vs.concat(C.vs),C.barycenter=M/A,C.weight=A,C.i=Math.min(O.i,C.i),O.merged=!0)}}function f(w){return function(E){E.in.push(w),--E.indegree==0&&l.push(E)}}for(;l.length;){var v=l.pop();d.push(v),r.forEach(v.in.reverse(),h(v)),r.forEach(v.out,f(v))}return r.map(r.filter(d,function(w){return!w.merged}),function(w){return r.pick(w,["vs","i","barycenter","weight"])})}(r.filter(o,function(l){return!l.indegree}))}},1026:(t,e,n)=>{var r=n(8436),i=n(5439),s=n(9567),o=n(7304);t.exports=function l(d,h,f,v){var w=d.children(h),E=d.node(h),C=E?E.borderLeft:void 0,O=E?E.borderRight:void 0,M={};C&&(w=r.filter(w,function(H){return H!==C&&H!==O}));var A=i(d,w);r.forEach(A,function(H){if(d.children(H.v).length){var K=l(d,H.v,f,v);M[H.v]=K,r.has(K,"barycenter")&&(W=H,Z=K,r.isUndefined(W.barycenter)?(W.barycenter=Z.barycenter,W.weight=Z.weight):(W.barycenter=(W.barycenter*W.weight+Z.barycenter*Z.weight)/(W.weight+Z.weight),W.weight+=Z.weight))}var W,Z});var D=s(A,f);(function(H,K){r.forEach(H,function(W){W.vs=r.flatten(W.vs.map(function(Z){return K[Z]?K[Z].vs:Z}),!0)})})(D,M);var U=o(D,v);if(C&&(U.vs=r.flatten([C,U.vs,O],!0),d.predecessors(C).length)){var R=d.node(d.predecessors(C)[0]),X=d.node(d.predecessors(O)[0]);r.has(U,"barycenter")||(U.barycenter=0,U.weight=0),U.barycenter=(U.barycenter*U.weight+R.order+X.order)/(U.weight+2),U.weight+=2}return U}},7304:(t,e,n)=>{var r=n(8436),i=n(1138);function s(o,l,d){for(var h;l.length&&(h=r.last(l)).i<=d;)l.pop(),o.push(h.vs),d++;return d}t.exports=function(o,l){var d,h=i.partition(o,function(A){return r.has(A,"barycenter")}),f=h.lhs,v=r.sortBy(h.rhs,function(A){return-A.i}),w=[],E=0,C=0,O=0;f.sort((d=!!l,function(A,D){return A.barycenter<D.barycenter?-1:A.barycenter>D.barycenter?1:d?D.i-A.i:A.i-D.i})),O=s(w,v,O),r.forEach(f,function(A){O+=A.vs.length,w.push(A.vs),E+=A.barycenter*A.weight,C+=A.weight,O=s(w,v,O)});var M={vs:r.flatten(w,!0)};return C&&(M.barycenter=E/C,M.weight=C),M}},4219:(t,e,n)=>{var r=n(8436);t.exports=function(i){var s=function(o){var l={},d=0;return r.forEach(o.children(),function h(f){var v=d;r.forEach(o.children(f),h),l[f]={low:v,lim:d++}}),l}(i);r.forEach(i.graph().dummyChains,function(o){for(var l=i.node(o),d=l.edgeObj,h=function(O,M,A,D){var U,R,X=[],H=[],K=Math.min(M[A].low,M[D].low),W=Math.max(M[A].lim,M[D].lim);U=A;do U=O.parent(U),X.push(U);while(U&&(M[U].low>K||W>M[U].lim));for(R=U,U=D;(U=O.parent(U))!==R;)H.push(U);return{path:X.concat(H.reverse()),lca:R}}(i,s,d.v,d.w),f=h.path,v=h.lca,w=0,E=f[w],C=!0;o!==d.w;){if(l=i.node(o),C){for(;(E=f[w])!==v&&i.node(E).maxRank<l.rank;)w++;E===v&&(C=!1)}if(!C){for(;w<f.length-1&&i.node(E=f[w+1]).minRank<=l.rank;)w++;E=f[w]}i.setParent(o,E),o=i.successors(o)[0]}})}},3573:(t,e,n)=>{var r=n(8436),i=n(574).Graph,s=n(1138);function o(O,M){var A={};return r.reduce(M,function(D,U){var R=0,X=0,H=D.length,K=r.last(U);return r.forEach(U,function(W,Z){var ie=function(oe,Q){if(oe.node(Q).dummy)return r.find(oe.predecessors(Q),function(ae){return oe.node(ae).dummy})}(O,W),se=ie?O.node(ie).order:H;(ie||W===K)&&(r.forEach(U.slice(X,Z+1),function(oe){r.forEach(O.predecessors(oe),function(Q){var ae=O.node(Q),he=ae.order;!(he<R||se<he)||ae.dummy&&O.node(oe).dummy||d(A,Q,oe)})}),X=Z+1,R=se)}),U}),A}function l(O,M){var A={};function D(U,R,X,H,K){var W;r.forEach(r.range(R,X),function(Z){W=U[Z],O.node(W).dummy&&r.forEach(O.predecessors(W),function(ie){var se=O.node(ie);se.dummy&&(se.order<H||se.order>K)&&d(A,ie,W)})})}return r.reduce(M,function(U,R){var X,H=-1,K=0;return r.forEach(R,function(W,Z){if(O.node(W).dummy==="border"){var ie=O.predecessors(W);ie.length&&(X=O.node(ie[0]).order,D(R,K,Z,H,X),K=Z,H=X)}D(R,K,R.length,X,U.length)}),R}),A}function d(O,M,A){if(M>A){var D=M;M=A,A=D}var U=O[M];U||(O[M]=U={}),U[A]=!0}function h(O,M,A){if(M>A){var D=M;M=A,A=D}return r.has(O[M],A)}function f(O,M,A,D){var U={},R={},X={};return r.forEach(M,function(H){r.forEach(H,function(K,W){U[K]=K,R[K]=K,X[K]=W})}),r.forEach(M,function(H){var K=-1;r.forEach(H,function(W){var Z=D(W);if(Z.length){Z=r.sortBy(Z,function(ae){return X[ae]});for(var ie=(Z.length-1)/2,se=Math.floor(ie),oe=Math.ceil(ie);se<=oe;++se){var Q=Z[se];R[W]===W&&K<X[Q]&&!h(A,W,Q)&&(R[Q]=W,R[W]=U[W]=U[Q],K=X[Q])}}})}),{root:U,align:R}}function v(O,M,A,D,U){var R={},X=function(W,Z,ie,se){var oe=new i,Q=W.graph(),ae=function(he,Ee,De){return function(qe,_e,xe){var Se,Ie=qe.node(_e),Ye=qe.node(xe),Le=0;if(Le+=Ie.width/2,r.has(Ie,"labelpos"))switch(Ie.labelpos.toLowerCase()){case"l":Se=-Ie.width/2;break;case"r":Se=Ie.width/2}if(Se&&(Le+=De?Se:-Se),Se=0,Le+=(Ie.dummy?Ee:he)/2,Le+=(Ye.dummy?Ee:he)/2,Le+=Ye.width/2,r.has(Ye,"labelpos"))switch(Ye.labelpos.toLowerCase()){case"l":Se=Ye.width/2;break;case"r":Se=-Ye.width/2}return Se&&(Le+=De?Se:-Se),Se=0,Le}}(Q.nodesep,Q.edgesep,se);return r.forEach(Z,function(he){var Ee;r.forEach(he,function(De){var qe=ie[De];if(oe.setNode(qe),Ee){var _e=ie[Ee],xe=oe.edge(_e,qe);oe.setEdge(_e,qe,Math.max(ae(W,De,Ee),xe||0))}Ee=De})}),oe}(O,M,A,U),H=U?"borderLeft":"borderRight";function K(W,Z){for(var ie=X.nodes(),se=ie.pop(),oe={};se;)oe[se]?W(se):(oe[se]=!0,ie.push(se),ie=ie.concat(Z(se))),se=ie.pop()}return K(function(W){R[W]=X.inEdges(W).reduce(function(Z,ie){return Math.max(Z,R[ie.v]+X.edge(ie))},0)},X.predecessors.bind(X)),K(function(W){var Z=X.outEdges(W).reduce(function(se,oe){return Math.min(se,R[oe.w]-X.edge(oe))},Number.POSITIVE_INFINITY),ie=O.node(W);Z!==Number.POSITIVE_INFINITY&&ie.borderType!==H&&(R[W]=Math.max(R[W],Z))},X.successors.bind(X)),r.forEach(D,function(W){R[W]=R[A[W]]}),R}function w(O,M){return r.minBy(r.values(M),function(A){var D=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY;return r.forIn(A,function(R,X){var H=function(K,W){return K.node(W).width}(O,X)/2;D=Math.max(R+H,D),U=Math.min(R-H,U)}),D-U})}function E(O,M){var A=r.values(M),D=r.min(A),U=r.max(A);r.forEach(["u","d"],function(R){r.forEach(["l","r"],function(X){var H,K=R+X,W=O[K];if(W!==M){var Z=r.values(W);(H=X==="l"?D-r.min(Z):U-r.max(Z))&&(O[K]=r.mapValues(W,function(ie){return ie+H}))}})})}function C(O,M){return r.mapValues(O.ul,function(A,D){if(M)return O[M.toLowerCase()][D];var U=r.sortBy(r.map(O,D));return(U[1]+U[2])/2})}t.exports={positionX:function(O){var M,A=s.buildLayerMatrix(O),D=r.merge(o(O,A),l(O,A)),U={};r.forEach(["u","d"],function(X){M=X==="u"?A:r.values(A).reverse(),r.forEach(["l","r"],function(H){H==="r"&&(M=r.map(M,function(ie){return r.values(ie).reverse()}));var K=(X==="u"?O.predecessors:O.successors).bind(O),W=f(0,M,D,K),Z=v(O,M,W.root,W.align,H==="r");H==="r"&&(Z=r.mapValues(Z,function(ie){return-ie})),U[X+H]=Z})});var R=w(O,U);return E(U,R),C(U,O.graph().align)},findType1Conflicts:o,findType2Conflicts:l,addConflict:d,hasConflict:h,verticalAlignment:f,horizontalCompaction:v,alignCoordinates:E,findSmallestWidthAlignment:w,balance:C}},7873:(t,e,n)=>{var r=n(8436),i=n(1138),s=n(3573).positionX;t.exports=function(o){(function(l){var d=i.buildLayerMatrix(l),h=l.graph().ranksep,f=0;r.forEach(d,function(v){var w=r.max(r.map(v,function(E){return l.node(E).height}));r.forEach(v,function(E){l.node(E).y=f+w/2}),f+=w+h})})(o=i.asNonCompoundGraph(o)),r.forEach(s(o),function(l,d){o.node(d).x=l})}},300:(t,e,n)=>{var r=n(8436),i=n(574).Graph,s=n(6681).slack;function o(h,f){return r.forEach(h.nodes(),function v(w){r.forEach(f.nodeEdges(w),function(E){var C=E.v,O=w===C?E.w:C;h.hasNode(O)||s(f,E)||(h.setNode(O,{}),h.setEdge(w,O,{}),v(O))})}),h.nodeCount()}function l(h,f){return r.minBy(f.edges(),function(v){if(h.hasNode(v.v)!==h.hasNode(v.w))return s(f,v)})}function d(h,f,v){r.forEach(h.nodes(),function(w){f.node(w).rank+=v})}t.exports=function(h){var f,v,w=new i({directed:!1}),E=h.nodes()[0],C=h.nodeCount();for(w.setNode(E,{});o(w,h)<C;)f=l(w,h),v=w.hasNode(f.v)?s(h,f):-s(h,f),d(w,h,v);return w}},8093:(t,e,n)=>{var r=n(6681).longestPath,i=n(300),s=n(2472);t.exports=function(l){switch(l.graph().ranker){case"network-simplex":default:(function(d){s(d)})(l);break;case"tight-tree":(function(d){r(d),i(d)})(l);break;case"longest-path":o(l)}};var o=r},2472:(t,e,n)=>{var r=n(8436),i=n(300),s=n(6681).slack,o=n(6681).longestPath,l=n(574).alg.preorder,d=n(574).alg.postorder,h=n(1138).simplify;function f(U){U=h(U),o(U);var R,X=i(U);for(E(X),v(X,U);R=O(X);)A(X,U,R,M(X,U,R))}function v(U,R){var X=d(U,U.nodes());X=X.slice(0,X.length-1),r.forEach(X,function(H){(function(K,W,Z){var ie=K.node(Z).parent;K.edge(Z,ie).cutvalue=w(K,W,Z)})(U,R,H)})}function w(U,R,X){var H=U.node(X).parent,K=!0,W=R.edge(X,H),Z=0;return W||(K=!1,W=R.edge(H,X)),Z=W.weight,r.forEach(R.nodeEdges(X),function(ie){var se,oe,Q=ie.v===X,ae=Q?ie.w:ie.v;if(ae!==H){var he=Q===K,Ee=R.edge(ie).weight;if(Z+=he?Ee:-Ee,se=X,oe=ae,U.hasEdge(se,oe)){var De=U.edge(X,ae).cutvalue;Z+=he?-De:De}}}),Z}function E(U,R){arguments.length<2&&(R=U.nodes()[0]),C(U,{},1,R)}function C(U,R,X,H,K){var W=X,Z=U.node(H);return R[H]=!0,r.forEach(U.neighbors(H),function(ie){r.has(R,ie)||(X=C(U,R,X,ie,H))}),Z.low=W,Z.lim=X++,K?Z.parent=K:delete Z.parent,X}function O(U){return r.find(U.edges(),function(R){return U.edge(R).cutvalue<0})}function M(U,R,X){var H=X.v,K=X.w;R.hasEdge(H,K)||(H=X.w,K=X.v);var W=U.node(H),Z=U.node(K),ie=W,se=!1;W.lim>Z.lim&&(ie=Z,se=!0);var oe=r.filter(R.edges(),function(Q){return se===D(0,U.node(Q.v),ie)&&se!==D(0,U.node(Q.w),ie)});return r.minBy(oe,function(Q){return s(R,Q)})}function A(U,R,X,H){var K=X.v,W=X.w;U.removeEdge(K,W),U.setEdge(H.v,H.w,{}),E(U),v(U,R),function(Z,ie){var se=r.find(Z.nodes(),function(Q){return!ie.node(Q).parent}),oe=l(Z,se);oe=oe.slice(1),r.forEach(oe,function(Q){var ae=Z.node(Q).parent,he=ie.edge(Q,ae),Ee=!1;he||(he=ie.edge(ae,Q),Ee=!0),ie.node(Q).rank=ie.node(ae).rank+(Ee?he.minlen:-he.minlen)})}(U,R)}function D(U,R,X){return X.low<=R.lim&&R.lim<=X.lim}t.exports=f,f.initLowLimValues=E,f.initCutValues=v,f.calcCutValue=w,f.leaveEdge=O,f.enterEdge=M,f.exchangeEdges=A},6681:(t,e,n)=>{var r=n(8436);t.exports={longestPath:function(i){var s={};r.forEach(i.sources(),function o(l){var d=i.node(l);if(r.has(s,l))return d.rank;s[l]=!0;var h=r.min(r.map(i.outEdges(l),function(f){return o(f.w)-i.edge(f).minlen}));return h!==Number.POSITIVE_INFINITY&&h!=null||(h=0),d.rank=h})},slack:function(i,s){return i.node(s.w).rank-i.node(s.v).rank-i.edge(s).minlen}}},1138:(t,e,n)=>{var r=n(8436),i=n(574).Graph;function s(l,d,h,f){var v;do v=r.uniqueId(f);while(l.hasNode(v));return h.dummy=d,l.setNode(v,h),v}function o(l){return r.max(r.map(l.nodes(),function(d){var h=l.node(d).rank;if(!r.isUndefined(h))return h}))}t.exports={addDummyNode:s,simplify:function(l){var d=new i().setGraph(l.graph());return r.forEach(l.nodes(),function(h){d.setNode(h,l.node(h))}),r.forEach(l.edges(),function(h){var f=d.edge(h.v,h.w)||{weight:0,minlen:1},v=l.edge(h);d.setEdge(h.v,h.w,{weight:f.weight+v.weight,minlen:Math.max(f.minlen,v.minlen)})}),d},asNonCompoundGraph:function(l){var d=new i({multigraph:l.isMultigraph()}).setGraph(l.graph());return r.forEach(l.nodes(),function(h){l.children(h).length||d.setNode(h,l.node(h))}),r.forEach(l.edges(),function(h){d.setEdge(h,l.edge(h))}),d},successorWeights:function(l){var d=r.map(l.nodes(),function(h){var f={};return r.forEach(l.outEdges(h),function(v){f[v.w]=(f[v.w]||0)+l.edge(v).weight}),f});return r.zipObject(l.nodes(),d)},predecessorWeights:function(l){var d=r.map(l.nodes(),function(h){var f={};return r.forEach(l.inEdges(h),function(v){f[v.v]=(f[v.v]||0)+l.edge(v).weight}),f});return r.zipObject(l.nodes(),d)},intersectRect:function(l,d){var h,f,v=l.x,w=l.y,E=d.x-v,C=d.y-w,O=l.width/2,M=l.height/2;if(!E&&!C)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(C)*O>Math.abs(E)*M?(C<0&&(M=-M),h=M*E/C,f=M):(E<0&&(O=-O),h=O,f=O*C/E),{x:v+h,y:w+f}},buildLayerMatrix:function(l){var d=r.map(r.range(o(l)+1),function(){return[]});return r.forEach(l.nodes(),function(h){var f=l.node(h),v=f.rank;r.isUndefined(v)||(d[v][f.order]=h)}),d},normalizeRanks:function(l){var d=r.min(r.map(l.nodes(),function(h){return l.node(h).rank}));r.forEach(l.nodes(),function(h){var f=l.node(h);r.has(f,"rank")&&(f.rank-=d)})},removeEmptyRanks:function(l){var d=r.min(r.map(l.nodes(),function(w){return l.node(w).rank})),h=[];r.forEach(l.nodes(),function(w){var E=l.node(w).rank-d;h[E]||(h[E]=[]),h[E].push(w)});var f=0,v=l.graph().nodeRankFactor;r.forEach(h,function(w,E){r.isUndefined(w)&&E%v!=0?--f:f&&r.forEach(w,function(C){l.node(C).rank+=f})})},addBorderNode:function(l,d,h,f){var v={width:0,height:0};return arguments.length>=4&&(v.rank=h,v.order=f),s(l,"border",v,d)},maxRank:o,partition:function(l,d){var h={lhs:[],rhs:[]};return r.forEach(l,function(f){d(f)?h.lhs.push(f):h.rhs.push(f)}),h},time:function(l,d){var h=r.now();try{return d()}finally{console.log(l+" time: "+(r.now()-h)+"ms")}},notime:function(l,d){return d()}}},8177:t=>{t.exports="0.8.5"},7856:function(t){t.exports=function(){var e=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,i=Object.getPrototypeOf,s=Object.getOwnPropertyDescriptor,o=Object.freeze,l=Object.seal,d=Object.create,h=typeof Reflect!="undefined"&&Reflect,f=h.apply,v=h.construct;f||(f=function(ot,Ze,kt){return ot.apply(Ze,kt)}),o||(o=function(ot){return ot}),l||(l=function(ot){return ot}),v||(v=function(ot,Ze){return new(Function.prototype.bind.apply(ot,[null].concat(function(kt){if(Array.isArray(kt)){for(var ln=0,Ht=Array(kt.length);ln<kt.length;ln++)Ht[ln]=kt[ln];return Ht}return Array.from(kt)}(Ze))))});var w,E=K(Array.prototype.forEach),C=K(Array.prototype.pop),O=K(Array.prototype.push),M=K(String.prototype.toLowerCase),A=K(String.prototype.match),D=K(String.prototype.replace),U=K(String.prototype.indexOf),R=K(String.prototype.trim),X=K(RegExp.prototype.test),H=(w=TypeError,function(){for(var ot=arguments.length,Ze=Array(ot),kt=0;kt<ot;kt++)Ze[kt]=arguments[kt];return v(w,Ze)});function K(ot){return function(Ze){for(var kt=arguments.length,ln=Array(kt>1?kt-1:0),Ht=1;Ht<kt;Ht++)ln[Ht-1]=arguments[Ht];return f(ot,Ze,ln)}}function W(ot,Ze){n&&n(ot,null);for(var kt=Ze.length;kt--;){var ln=Ze[kt];if(typeof ln=="string"){var Ht=M(ln);Ht!==ln&&(r(Ze)||(Ze[kt]=Ht),ln=Ht)}ot[ln]=!0}return ot}function Z(ot){var Ze=d(null),kt=void 0;for(kt in ot)f(e,ot,[kt])&&(Ze[kt]=ot[kt]);return Ze}function ie(ot,Ze){for(;ot!==null;){var kt=s(ot,Ze);if(kt){if(kt.get)return K(kt.get);if(typeof kt.value=="function")return K(kt.value)}ot=i(ot)}return function(ln){return console.warn("fallback value for",ln),null}}var se=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),oe=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Q=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ae=o(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),he=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ee=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),De=o(["#text"]),qe=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),_e=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xe=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Se=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ie=l(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Ye=l(/<%[\s\S]*|[\s\S]*%>/gm),Le=l(/^data-[\-\w.\u00B7-\uFFFF]/),Nt=l(/^aria-[\-\w]+$/),pt=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ze=l(/^(?:\w+script|data):/i),nt=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot};function ut(ot){if(Array.isArray(ot)){for(var Ze=0,kt=Array(ot.length);Ze<ot.length;Ze++)kt[Ze]=ot[Ze];return kt}return Array.from(ot)}var Ve=function(){return typeof window=="undefined"?null:window},dt=function(ot,Ze){if((ot===void 0?"undefined":me(ot))!=="object"||typeof ot.createPolicy!="function")return null;var kt=null,ln="data-tt-policy-suffix";Ze.currentScript&&Ze.currentScript.hasAttribute(ln)&&(kt=Ze.currentScript.getAttribute(ln));var Ht="dompurify"+(kt?"#"+kt:"");try{return ot.createPolicy(Ht,{createHTML:function(nn){return nn}})}catch{return console.warn("TrustedTypes policy "+Ht+" could not be created."),null}};return function ot(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ve(),kt=function(st){return ot(st)};if(kt.version="2.3.5",kt.removed=[],!Ze||!Ze.document||Ze.document.nodeType!==9)return kt.isSupported=!1,kt;var ln=Ze.document,Ht=Ze.document,nn=Ze.DocumentFragment,qn=Ze.HTMLTemplateElement,_n=Ze.Node,rn=Ze.Element,Yt=Ze.NodeFilter,gn=Ze.NamedNodeMap,cn=gn===void 0?Ze.NamedNodeMap||Ze.MozNamedAttrMap:gn,Et=Ze.HTMLFormElement,it=Ze.DOMParser,Qe=Ze.trustedTypes,Pt=rn.prototype,St=ie(Pt,"cloneNode"),Ut=ie(Pt,"nextSibling"),tn=ie(Pt,"childNodes"),Pn=ie(Pt,"parentNode");if(typeof qn=="function"){var yn=Ht.createElement("template");yn.content&&yn.content.ownerDocument&&(Ht=yn.content.ownerDocument)}var Yn=dt(Qe,ln),un=Yn?Yn.createHTML(""):"",vn=Ht,sn=vn.implementation,zn=vn.createNodeIterator,Un=vn.createDocumentFragment,nr=vn.getElementsByTagName,Dn=ln.importNode,Vn={};try{Vn=Z(Ht).documentMode?Ht.documentMode:{}}catch{}var an={};kt.isSupported=typeof Pn=="function"&&sn&&sn.createHTMLDocument!==void 0&&Vn!==9;var Gn=Ie,Kt=Ye,mn=Le,en=Nt,pn=ze,Nn=nt,Hn=pt,Cn=null,tr=W({},[].concat(ut(se),ut(oe),ut(Q),ut(he),ut(De))),Jn=null,Ii=W({},[].concat(ut(qe),ut(_e),ut(xe),ut(Se))),ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Ke=null,Bt=!0,we=!0,Oe=!1,ge=!1,Re=!1,Be=!1,_t=!1,At=!1,Lt=!1,yt=!1,qt=!0,Rn=!0,Bn=!1,dr={},Mr=null,rr=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Or=null,ei=W({},["audio","video","img","source","image","track"]),Qn=null,Sn=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gr="http://www.w3.org/1998/Math/MathML",or="http://www.w3.org/2000/svg",fn="http://www.w3.org/1999/xhtml",_r=fn,Fe=!1,fi=void 0,gt=["application/xhtml+xml","text/html"],qi="text/html",cs=void 0,Ps=null,Jo=Ht.createElement("form"),No=function(st){return st instanceof RegExp||st instanceof Function},Qo=function(st){Ps&&Ps===st||(st&&(st===void 0?"undefined":me(st))==="object"||(st={}),st=Z(st),Cn="ALLOWED_TAGS"in st?W({},st.ALLOWED_TAGS):tr,Jn="ALLOWED_ATTR"in st?W({},st.ALLOWED_ATTR):Ii,Qn="ADD_URI_SAFE_ATTR"in st?W(Z(Sn),st.ADD_URI_SAFE_ATTR):Sn,Or="ADD_DATA_URI_TAGS"in st?W(Z(ei),st.ADD_DATA_URI_TAGS):ei,Mr="FORBID_CONTENTS"in st?W({},st.FORBID_CONTENTS):rr,be="FORBID_TAGS"in st?W({},st.FORBID_TAGS):{},Ke="FORBID_ATTR"in st?W({},st.FORBID_ATTR):{},dr="USE_PROFILES"in st&&st.USE_PROFILES,Bt=st.ALLOW_ARIA_ATTR!==!1,we=st.ALLOW_DATA_ATTR!==!1,Oe=st.ALLOW_UNKNOWN_PROTOCOLS||!1,ge=st.SAFE_FOR_TEMPLATES||!1,Re=st.WHOLE_DOCUMENT||!1,At=st.RETURN_DOM||!1,Lt=st.RETURN_DOM_FRAGMENT||!1,yt=st.RETURN_TRUSTED_TYPE||!1,_t=st.FORCE_BODY||!1,qt=st.SANITIZE_DOM!==!1,Rn=st.KEEP_CONTENT!==!1,Bn=st.IN_PLACE||!1,Hn=st.ALLOWED_URI_REGEXP||Hn,_r=st.NAMESPACE||fn,st.CUSTOM_ELEMENT_HANDLING&&No(st.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=st.CUSTOM_ELEMENT_HANDLING.tagNameCheck),st.CUSTOM_ELEMENT_HANDLING&&No(st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),st.CUSTOM_ELEMENT_HANDLING&&typeof st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fi=fi=gt.indexOf(st.PARSER_MEDIA_TYPE)===-1?qi:st.PARSER_MEDIA_TYPE,cs=fi==="application/xhtml+xml"?function(In){return In}:M,ge&&(we=!1),Lt&&(At=!0),dr&&(Cn=W({},[].concat(ut(De))),Jn=[],dr.html===!0&&(W(Cn,se),W(Jn,qe)),dr.svg===!0&&(W(Cn,oe),W(Jn,_e),W(Jn,Se)),dr.svgFilters===!0&&(W(Cn,Q),W(Jn,_e),W(Jn,Se)),dr.mathMl===!0&&(W(Cn,he),W(Jn,xe),W(Jn,Se))),st.ADD_TAGS&&(Cn===tr&&(Cn=Z(Cn)),W(Cn,st.ADD_TAGS)),st.ADD_ATTR&&(Jn===Ii&&(Jn=Z(Jn)),W(Jn,st.ADD_ATTR)),st.ADD_URI_SAFE_ATTR&&W(Qn,st.ADD_URI_SAFE_ATTR),st.FORBID_CONTENTS&&(Mr===rr&&(Mr=Z(Mr)),W(Mr,st.FORBID_CONTENTS)),Rn&&(Cn["#text"]=!0),Re&&W(Cn,["html","head","body"]),Cn.table&&(W(Cn,["tbody"]),delete be.tbody),o&&o(st),Ps=st)},xi=W({},["mi","mo","mn","ms","mtext"]),Ss=W({},["foreignobject","desc","title","annotation-xml"]),hr=W({},oe);W(hr,Q),W(hr,ae);var xs=W({},he);W(xs,Ee);var Bo=function(st){var In=Pn(st);In&&In.tagName||(In={namespaceURI:fn,tagName:"template"});var xn=M(st.tagName),ii=M(In.tagName);if(st.namespaceURI===or)return In.namespaceURI===fn?xn==="svg":In.namespaceURI===gr?xn==="svg"&&(ii==="annotation-xml"||xi[ii]):Boolean(hr[xn]);if(st.namespaceURI===gr)return In.namespaceURI===fn?xn==="math":In.namespaceURI===or?xn==="math"&&Ss[ii]:Boolean(xs[xn]);if(st.namespaceURI===fn){if(In.namespaceURI===or&&!Ss[ii]||In.namespaceURI===gr&&!xi[ii])return!1;var hi=W({},["title","style","font","a","script"]);return!xs[xn]&&(hi[xn]||!hr[xn])}return!1},ri=function(st){O(kt.removed,{element:st});try{st.parentNode.removeChild(st)}catch{try{st.outerHTML=un}catch{st.remove()}}},bi=function(st,In){try{O(kt.removed,{attribute:In.getAttributeNode(st),from:In})}catch{O(kt.removed,{attribute:null,from:In})}if(In.removeAttribute(st),st==="is"&&!Jn[st])if(At||Lt)try{ri(In)}catch{}else try{In.setAttribute(st,"")}catch{}},ks=function(st){var In=void 0,xn=void 0;if(_t)st="<remove></remove>"+st;else{var ii=A(st,/^[\r\n\t ]+/);xn=ii&&ii[0]}fi==="application/xhtml+xml"&&(st='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+st+"</body></html>");var hi=Yn?Yn.createHTML(st):st;if(_r===fn)try{In=new it().parseFromString(hi,fi)}catch{}if(!In||!In.documentElement){In=sn.createDocument(_r,"template",null);try{In.documentElement.innerHTML=Fe?"":hi}catch{}}var Ts=In.body||In.documentElement;return st&&xn&&Ts.insertBefore(Ht.createTextNode(xn),Ts.childNodes[0]||null),_r===fn?nr.call(In,Re?"html":"body")[0]:Re?In.documentElement:Ts},es=function(st){return zn.call(st.ownerDocument||st,st,Yt.SHOW_ELEMENT|Yt.SHOW_COMMENT|Yt.SHOW_TEXT,null,!1)},Ni=function(st){return st instanceof Et&&(typeof st.nodeName!="string"||typeof st.textContent!="string"||typeof st.removeChild!="function"||!(st.attributes instanceof cn)||typeof st.removeAttribute!="function"||typeof st.setAttribute!="function"||typeof st.namespaceURI!="string"||typeof st.insertBefore!="function")},Bi=function(st){return(_n===void 0?"undefined":me(_n))==="object"?st instanceof _n:st&&(st===void 0?"undefined":me(st))==="object"&&typeof st.nodeType=="number"&&typeof st.nodeName=="string"},ps=function(st,In,xn){an[st]&&E(an[st],function(ii){ii.call(kt,In,xn,Ps)})},Wi=function(st){var In=void 0;if(ps("beforeSanitizeElements",st,null),Ni(st)||A(st.nodeName,/[\u0080-\uFFFF]/))return ri(st),!0;var xn=cs(st.nodeName);if(ps("uponSanitizeElement",st,{tagName:xn,allowedTags:Cn}),!Bi(st.firstElementChild)&&(!Bi(st.content)||!Bi(st.content.firstElementChild))&&X(/<[/\w]/g,st.innerHTML)&&X(/<[/\w]/g,st.textContent)||xn==="select"&&X(/<template/i,st.innerHTML))return ri(st),!0;if(!Cn[xn]||be[xn]){if(Rn&&!Mr[xn]){var ii=Pn(st)||st.parentNode,hi=tn(st)||st.childNodes;if(hi&&ii)for(var Ts=hi.length-1;Ts>=0;--Ts)ii.insertBefore(St(hi[Ts],!0),Ut(st))}return!be[xn]&&to(xn)&&(ce.tagNameCheck instanceof RegExp&&X(ce.tagNameCheck,xn)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(xn))?!1:(ri(st),!0)}return st instanceof rn&&!Bo(st)?(ri(st),!0):xn!=="noscript"&&xn!=="noembed"||!X(/<\/no(script|embed)/i,st.innerHTML)?(ge&&st.nodeType===3&&(In=st.textContent,In=D(In,Gn," "),In=D(In,Kt," "),st.textContent!==In&&(O(kt.removed,{element:st.cloneNode()}),st.textContent=In)),ps("afterSanitizeElements",st,null),!1):(ri(st),!0)},yo=function(st,In,xn){if(qt&&(In==="id"||In==="name")&&(xn in Ht||xn in Jo))return!1;if(!(we&&!Ke[In]&&X(mn,In))){if(!(Bt&&X(en,In))){if(!Jn[In]||Ke[In]){if(!(to(st)&&(ce.tagNameCheck instanceof RegExp&&X(ce.tagNameCheck,st)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(st))&&(ce.attributeNameCheck instanceof RegExp&&X(ce.attributeNameCheck,In)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(In))||In==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&X(ce.tagNameCheck,xn)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(xn))))return!1}else if(!Qn[In]){if(!X(Hn,D(xn,Nn,""))){if((In!=="src"&&In!=="xlink:href"&&In!=="href"||st==="script"||U(xn,"data:")!==0||!Or[st])&&!(Oe&&!X(pn,D(xn,Nn,"")))){if(xn)return!1}}}}}return!0},to=function(st){return st.indexOf("-")>0},Ks=function(st){var In=void 0,xn=void 0,ii=void 0,hi=void 0;ps("beforeSanitizeAttributes",st,null);var Ts=st.attributes;if(Ts){var ts={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Jn};for(hi=Ts.length;hi--;){var _u=In=Ts[hi],$o=_u.name,$i=_u.namespaceURI;if(xn=R(In.value),ii=cs($o),ts.attrName=ii,ts.attrValue=xn,ts.keepAttr=!0,ts.forceKeepAttr=void 0,ps("uponSanitizeAttribute",st,ts),xn=ts.attrValue,!ts.forceKeepAttr&&(bi($o,st),ts.keepAttr))if(X(/\/>/i,xn))bi($o,st);else{ge&&(xn=D(xn,Gn," "),xn=D(xn,Kt," "));var wd=cs(st.nodeName);if(yo(wd,ii,xn))try{$i?st.setAttributeNS($i,$o,xn):st.setAttribute($o,xn),C(kt.removed)}catch{}}}ps("afterSanitizeAttributes",st,null)}},kl=function st(In){var xn=void 0,ii=es(In);for(ps("beforeSanitizeShadowDOM",In,null);xn=ii.nextNode();)ps("uponSanitizeShadowNode",xn,null),Wi(xn)||(xn.content instanceof nn&&st(xn.content),Ks(xn));ps("afterSanitizeShadowDOM",In,null)};return kt.sanitize=function(st,In){var xn=void 0,ii=void 0,hi=void 0,Ts=void 0,ts=void 0;if((Fe=!st)&&(st="<!-->"),typeof st!="string"&&!Bi(st)){if(typeof st.toString!="function")throw H("toString is not a function");if(typeof(st=st.toString())!="string")throw H("dirty is not a string, aborting")}if(!kt.isSupported){if(me(Ze.toStaticHTML)==="object"||typeof Ze.toStaticHTML=="function"){if(typeof st=="string")return Ze.toStaticHTML(st);if(Bi(st))return Ze.toStaticHTML(st.outerHTML)}return st}if(Be||Qo(In),kt.removed=[],typeof st=="string"&&(Bn=!1),Bn){if(st.nodeName){var _u=cs(st.nodeName);if(!Cn[_u]||be[_u])throw H("root node is forbidden and cannot be sanitized in-place")}}else if(st instanceof _n)(ii=(xn=ks("<!---->")).ownerDocument.importNode(st,!0)).nodeType===1&&ii.nodeName==="BODY"||ii.nodeName==="HTML"?xn=ii:xn.appendChild(ii);else{if(!At&&!ge&&!Re&&st.indexOf("<")===-1)return Yn&&yt?Yn.createHTML(st):st;if(!(xn=ks(st)))return At?null:yt?un:""}xn&&_t&&ri(xn.firstChild);for(var $o=es(Bn?st:xn);hi=$o.nextNode();)hi.nodeType===3&&hi===Ts||Wi(hi)||(hi.content instanceof nn&&kl(hi.content),Ks(hi),Ts=hi);if(Ts=null,Bn)return st;if(At){if(Lt)for(ts=Un.call(xn.ownerDocument);xn.firstChild;)ts.appendChild(xn.firstChild);else ts=xn;return Jn.shadowroot&&(ts=Dn.call(ln,ts,!0)),ts}var $i=Re?xn.outerHTML:xn.innerHTML;return ge&&($i=D($i,Gn," "),$i=D($i,Kt," ")),Yn&&yt?Yn.createHTML($i):$i},kt.setConfig=function(st){Qo(st),Be=!0},kt.clearConfig=function(){Ps=null,Be=!1},kt.isValidAttribute=function(st,In,xn){Ps||Qo({});var ii=cs(st),hi=cs(In);return yo(ii,hi,xn)},kt.addHook=function(st,In){typeof In=="function"&&(an[st]=an[st]||[],O(an[st],In))},kt.removeHook=function(st){an[st]&&C(an[st])},kt.removeHooks=function(st){an[st]&&(an[st]=[])},kt.removeAllHooks=function(){an={}},kt}()}()},8282:(t,e,n)=>{var r=n(2354);t.exports={Graph:r.Graph,json:n(8974),alg:n(2440),version:r.version}},2842:(t,e,n)=>{var r=n(9126);t.exports=function(i){var s,o={},l=[];function d(h){r.has(o,h)||(o[h]=!0,s.push(h),r.each(i.successors(h),d),r.each(i.predecessors(h),d))}return r.each(i.nodes(),function(h){s=[],d(h),s.length&&l.push(s)}),l}},3984:(t,e,n)=>{var r=n(9126);function i(s,o,l,d,h,f){r.has(d,o)||(d[o]=!0,l||f.push(o),r.each(h(o),function(v){i(s,v,l,d,h,f)}),l&&f.push(o))}t.exports=function(s,o,l){r.isArray(o)||(o=[o]);var d=(s.isDirected()?s.successors:s.neighbors).bind(s),h=[],f={};return r.each(o,function(v){if(!s.hasNode(v))throw new Error("Graph does not have node: "+v);i(s,v,l==="post",f,d,h)}),h}},4847:(t,e,n)=>{var r=n(3763),i=n(9126);t.exports=function(s,o,l){return i.transform(s.nodes(),function(d,h){d[h]=r(s,h,o,l)},{})}},3763:(t,e,n)=>{var r=n(9126),i=n(9675);t.exports=function(o,l,d,h){return function(f,v,w,E){var C,O,M={},A=new i,D=function(U){var R=U.v!==C?U.v:U.w,X=M[R],H=w(U),K=O.distance+H;if(H<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+U+" Weight: "+H);K<X.distance&&(X.distance=K,X.predecessor=C,A.decrease(R,K))};for(f.nodes().forEach(function(U){var R=U===v?0:Number.POSITIVE_INFINITY;M[U]={distance:R},A.add(U,R)});A.size()>0&&(C=A.removeMin(),(O=M[C]).distance!==Number.POSITIVE_INFINITY);)E(C).forEach(D);return M}(o,String(l),d||s,h||function(f){return o.outEdges(f)})};var s=r.constant(1)},9096:(t,e,n)=>{var r=n(9126),i=n(5023);t.exports=function(s){return r.filter(i(s),function(o){return o.length>1||o.length===1&&s.hasEdge(o[0],o[0])})}},8924:(t,e,n)=>{var r=n(9126);t.exports=function(s,o,l){return function(d,h,f){var v={},w=d.nodes();return w.forEach(function(E){v[E]={},v[E][E]={distance:0},w.forEach(function(C){E!==C&&(v[E][C]={distance:Number.POSITIVE_INFINITY})}),f(E).forEach(function(C){var O=C.v===E?C.w:C.v,M=h(C);v[E][O]={distance:M,predecessor:E}})}),w.forEach(function(E){var C=v[E];w.forEach(function(O){var M=v[O];w.forEach(function(A){var D=M[E],U=C[A],R=M[A],X=D.distance+U.distance;X<R.distance&&(R.distance=X,R.predecessor=U.predecessor)})})}),v}(s,o||i,l||function(d){return s.outEdges(d)})};var i=r.constant(1)},2440:(t,e,n)=>{t.exports={components:n(2842),dijkstra:n(3763),dijkstraAll:n(4847),findCycles:n(9096),floydWarshall:n(8924),isAcyclic:n(2707),postorder:n(8828),preorder:n(2648),prim:n(514),tarjan:n(5023),topsort:n(2166)}},2707:(t,e,n)=>{var r=n(2166);t.exports=function(i){try{r(i)}catch(s){if(s instanceof r.CycleException)return!1;throw s}return!0}},8828:(t,e,n)=>{var r=n(3984);t.exports=function(i,s){return r(i,s,"post")}},2648:(t,e,n)=>{var r=n(3984);t.exports=function(i,s){return r(i,s,"pre")}},514:(t,e,n)=>{var r=n(9126),i=n(771),s=n(9675);t.exports=function(o,l){var d,h=new i,f={},v=new s;function w(C){var O=C.v===d?C.w:C.v,M=v.priority(O);if(M!==void 0){var A=l(C);A<M&&(f[O]=d,v.decrease(O,A))}}if(o.nodeCount()===0)return h;r.each(o.nodes(),function(C){v.add(C,Number.POSITIVE_INFINITY),h.setNode(C)}),v.decrease(o.nodes()[0],0);for(var E=!1;v.size()>0;){if(d=v.removeMin(),r.has(f,d))h.setEdge(d,f[d]);else{if(E)throw new Error("Input graph is not connected: "+o);E=!0}o.nodeEdges(d).forEach(w)}return h}},5023:(t,e,n)=>{var r=n(9126);t.exports=function(i){var s=0,o=[],l={},d=[];function h(f){var v=l[f]={onStack:!0,lowlink:s,index:s++};if(o.push(f),i.successors(f).forEach(function(C){r.has(l,C)?l[C].onStack&&(v.lowlink=Math.min(v.lowlink,l[C].index)):(h(C),v.lowlink=Math.min(v.lowlink,l[C].lowlink))}),v.lowlink===v.index){var w,E=[];do w=o.pop(),l[w].onStack=!1,E.push(w);while(f!==w);d.push(E)}}return i.nodes().forEach(function(f){r.has(l,f)||h(f)}),d}},2166:(t,e,n)=>{var r=n(9126);function i(o){var l={},d={},h=[];if(r.each(o.sinks(),function f(v){if(r.has(d,v))throw new s;r.has(l,v)||(d[v]=!0,l[v]=!0,r.each(o.predecessors(v),f),delete d[v],h.push(v))}),r.size(l)!==o.nodeCount())throw new s;return h}function s(){}t.exports=i,i.CycleException=s,s.prototype=new Error},9675:(t,e,n)=>{var r=n(9126);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(s){return s.key})},i.prototype.has=function(s){return r.has(this._keyIndices,s)},i.prototype.priority=function(s){var o=this._keyIndices[s];if(o!==void 0)return this._arr[o].priority},i.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(s,o){var l=this._keyIndices;if(s=String(s),!r.has(l,s)){var d=this._arr,h=d.length;return l[s]=h,d.push({key:s,priority:o}),this._decrease(h),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var s=this._arr.pop();return delete this._keyIndices[s.key],this._heapify(0),s.key},i.prototype.decrease=function(s,o){var l=this._keyIndices[s];if(o>this._arr[l].priority)throw new Error("New priority is greater than current priority. Key: "+s+" Old: "+this._arr[l].priority+" New: "+o);this._arr[l].priority=o,this._decrease(l)},i.prototype._heapify=function(s){var o=this._arr,l=2*s,d=l+1,h=s;l<o.length&&(h=o[l].priority<o[h].priority?l:h,d<o.length&&(h=o[d].priority<o[h].priority?d:h),h!==s&&(this._swap(s,h),this._heapify(h)))},i.prototype._decrease=function(s){for(var o,l=this._arr,d=l[s].priority;s!==0&&!(l[o=s>>1].priority<d);)this._swap(s,o),s=o},i.prototype._swap=function(s,o){var l=this._arr,d=this._keyIndices,h=l[s],f=l[o];l[s]=f,l[o]=h,d[f.key]=s,d[h.key]=o}},771:(t,e,n)=>{var r=n(9126);t.exports=s;var i="\0";function s(v){this._isDirected=!r.has(v,"directed")||v.directed,this._isMultigraph=!!r.has(v,"multigraph")&&v.multigraph,this._isCompound=!!r.has(v,"compound")&&v.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(v,w){v[w]?v[w]++:v[w]=1}function l(v,w){--v[w]||delete v[w]}function d(v,w,E,C){var O=""+w,M=""+E;if(!v&&O>M){var A=O;O=M,M=A}return O+""+M+""+(r.isUndefined(C)?"\0":C)}function h(v,w,E,C){var O=""+w,M=""+E;if(!v&&O>M){var A=O;O=M,M=A}var D={v:O,w:M};return C&&(D.name=C),D}function f(v,w){return d(v,w.v,w.w,w.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(v){return this._label=v,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(v){return r.isFunction(v)||(v=r.constant(v)),this._defaultNodeLabelFn=v,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var v=this;return r.filter(this.nodes(),function(w){return r.isEmpty(v._in[w])})},s.prototype.sinks=function(){var v=this;return r.filter(this.nodes(),function(w){return r.isEmpty(v._out[w])})},s.prototype.setNodes=function(v,w){var E=arguments,C=this;return r.each(v,function(O){E.length>1?C.setNode(O,w):C.setNode(O)}),this},s.prototype.setNode=function(v,w){return r.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=w),this):(this._nodes[v]=arguments.length>1?w:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]=i,this._children[v]={},this._children["\0"][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},s.prototype.node=function(v){return this._nodes[v]},s.prototype.hasNode=function(v){return r.has(this._nodes,v)},s.prototype.removeNode=function(v){var w=this;if(r.has(this._nodes,v)){var E=function(C){w.removeEdge(w._edgeObjs[C])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],r.each(this.children(v),function(C){w.setParent(C)}),delete this._children[v]),r.each(r.keys(this._in[v]),E),delete this._in[v],delete this._preds[v],r.each(r.keys(this._out[v]),E),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},s.prototype.setParent=function(v,w){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(w))w=i;else{for(var E=w+="";!r.isUndefined(E);E=this.parent(E))if(E===v)throw new Error("Setting "+w+" as parent of "+v+" would create a cycle");this.setNode(w)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=w,this._children[w][v]=!0,this},s.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},s.prototype.parent=function(v){if(this._isCompound){var w=this._parent[v];if(w!==i)return w}},s.prototype.children=function(v){if(r.isUndefined(v)&&(v=i),this._isCompound){var w=this._children[v];if(w)return r.keys(w)}else{if(v===i)return this.nodes();if(this.hasNode(v))return[]}},s.prototype.predecessors=function(v){var w=this._preds[v];if(w)return r.keys(w)},s.prototype.successors=function(v){var w=this._sucs[v];if(w)return r.keys(w)},s.prototype.neighbors=function(v){var w=this.predecessors(v);if(w)return r.union(w,this.successors(v))},s.prototype.isLeaf=function(v){return(this.isDirected()?this.successors(v):this.neighbors(v)).length===0},s.prototype.filterNodes=function(v){var w=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});w.setGraph(this.graph());var E=this;r.each(this._nodes,function(M,A){v(A)&&w.setNode(A,M)}),r.each(this._edgeObjs,function(M){w.hasNode(M.v)&&w.hasNode(M.w)&&w.setEdge(M,E.edge(M))});var C={};function O(M){var A=E.parent(M);return A===void 0||w.hasNode(A)?(C[M]=A,A):A in C?C[A]:O(A)}return this._isCompound&&r.each(w.nodes(),function(M){w.setParent(M,O(M))}),w},s.prototype.setDefaultEdgeLabel=function(v){return r.isFunction(v)||(v=r.constant(v)),this._defaultEdgeLabelFn=v,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(v,w){var E=this,C=arguments;return r.reduce(v,function(O,M){return C.length>1?E.setEdge(O,M,w):E.setEdge(O,M),M}),this},s.prototype.setEdge=function(){var v,w,E,C,O=!1,M=arguments[0];typeof M=="object"&&M!==null&&"v"in M?(v=M.v,w=M.w,E=M.name,arguments.length===2&&(C=arguments[1],O=!0)):(v=M,w=arguments[1],E=arguments[3],arguments.length>2&&(C=arguments[2],O=!0)),v=""+v,w=""+w,r.isUndefined(E)||(E=""+E);var A=d(this._isDirected,v,w,E);if(r.has(this._edgeLabels,A))return O&&(this._edgeLabels[A]=C),this;if(!r.isUndefined(E)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(w),this._edgeLabels[A]=O?C:this._defaultEdgeLabelFn(v,w,E);var D=h(this._isDirected,v,w,E);return v=D.v,w=D.w,Object.freeze(D),this._edgeObjs[A]=D,o(this._preds[w],v),o(this._sucs[v],w),this._in[w][A]=D,this._out[v][A]=D,this._edgeCount++,this},s.prototype.edge=function(v,w,E){var C=arguments.length===1?f(this._isDirected,arguments[0]):d(this._isDirected,v,w,E);return this._edgeLabels[C]},s.prototype.hasEdge=function(v,w,E){var C=arguments.length===1?f(this._isDirected,arguments[0]):d(this._isDirected,v,w,E);return r.has(this._edgeLabels,C)},s.prototype.removeEdge=function(v,w,E){var C=arguments.length===1?f(this._isDirected,arguments[0]):d(this._isDirected,v,w,E),O=this._edgeObjs[C];return O&&(v=O.v,w=O.w,delete this._edgeLabels[C],delete this._edgeObjs[C],l(this._preds[w],v),l(this._sucs[v],w),delete this._in[w][C],delete this._out[v][C],this._edgeCount--),this},s.prototype.inEdges=function(v,w){var E=this._in[v];if(E){var C=r.values(E);return w?r.filter(C,function(O){return O.v===w}):C}},s.prototype.outEdges=function(v,w){var E=this._out[v];if(E){var C=r.values(E);return w?r.filter(C,function(O){return O.w===w}):C}},s.prototype.nodeEdges=function(v,w){var E=this.inEdges(v,w);if(E)return E.concat(this.outEdges(v,w))}},2354:(t,e,n)=>{t.exports={Graph:n(771),version:n(9631)}},8974:(t,e,n)=>{var r=n(9126),i=n(771);function s(l){return r.map(l.nodes(),function(d){var h=l.node(d),f=l.parent(d),v={v:d};return r.isUndefined(h)||(v.value=h),r.isUndefined(f)||(v.parent=f),v})}function o(l){return r.map(l.edges(),function(d){var h=l.edge(d),f={v:d.v,w:d.w};return r.isUndefined(d.name)||(f.name=d.name),r.isUndefined(h)||(f.value=h),f})}t.exports={write:function(l){var d={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:s(l),edges:o(l)};return r.isUndefined(l.graph())||(d.value=r.clone(l.graph())),d},read:function(l){var d=new i(l.options).setGraph(l.value);return r.each(l.nodes,function(h){d.setNode(h.v,h.value),h.parent&&d.setParent(h.v,h.parent)}),r.each(l.edges,function(h){d.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),d}}},9126:(t,e,n)=>{var r;try{r={clone:n(6678),constant:n(5703),each:n(6073),filter:n(3105),has:n(8721),isArray:n(1469),isEmpty:n(1609),isFunction:n(3560),isUndefined:n(2353),keys:n(3674),map:n(5161),reduce:n(4061),size:n(4238),transform:n(8718),union:n(3386),values:n(2628)}}catch{}r||(r=window._),t.exports=r},9631:t=>{t.exports="2.1.8"},1773:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(7628),s=function(){function o(l,d){this.color=d,this.changed=!1,this.data=l,this.type=new i.default}return o.prototype.set=function(l,d){return this.color=d,this.changed=!1,this.data=l,this.type.type=0,this},o.prototype._ensureHSL=function(){var l=this.data,d=l.h,h=l.s,f=l.l;d===void 0&&(l.h=r.default.channel.rgb2hsl(l,"h")),h===void 0&&(l.s=r.default.channel.rgb2hsl(l,"s")),f===void 0&&(l.l=r.default.channel.rgb2hsl(l,"l"))},o.prototype._ensureRGB=function(){var l=this.data,d=l.r,h=l.g,f=l.b;d===void 0&&(l.r=r.default.channel.hsl2rgb(l,"r")),h===void 0&&(l.g=r.default.channel.hsl2rgb(l,"g")),f===void 0&&(l.b=r.default.channel.hsl2rgb(l,"b"))},Object.defineProperty(o.prototype,"r",{get:function(){var l=this.data,d=l.r;return this.type.is(2)||d===void 0?(this._ensureHSL(),r.default.channel.hsl2rgb(l,"r")):d},set:function(l){this.type.set(1),this.changed=!0,this.data.r=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"g",{get:function(){var l=this.data,d=l.g;return this.type.is(2)||d===void 0?(this._ensureHSL(),r.default.channel.hsl2rgb(l,"g")):d},set:function(l){this.type.set(1),this.changed=!0,this.data.g=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"b",{get:function(){var l=this.data,d=l.b;return this.type.is(2)||d===void 0?(this._ensureHSL(),r.default.channel.hsl2rgb(l,"b")):d},set:function(l){this.type.set(1),this.changed=!0,this.data.b=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"h",{get:function(){var l=this.data,d=l.h;return this.type.is(1)||d===void 0?(this._ensureRGB(),r.default.channel.rgb2hsl(l,"h")):d},set:function(l){this.type.set(2),this.changed=!0,this.data.h=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"s",{get:function(){var l=this.data,d=l.s;return this.type.is(1)||d===void 0?(this._ensureRGB(),r.default.channel.rgb2hsl(l,"s")):d},set:function(l){this.type.set(2),this.changed=!0,this.data.s=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"l",{get:function(){var l=this.data,d=l.l;return this.type.is(1)||d===void 0?(this._ensureRGB(),r.default.channel.rgb2hsl(l,"l")):d},set:function(l){this.type.set(2),this.changed=!0,this.data.l=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"a",{get:function(){return this.data.a},set:function(l){this.changed=!0,this.data.a=l},enumerable:!0,configurable:!0}),o}();e.default=s},8167:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=new(n(1773)).default({r:0,g:0,b:0,a:0},"transparent");e.default=r},7628:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(){this.type=0}return r.prototype.get=function(){return this.type},r.prototype.set=function(i){if(this.type&&this.type!==i)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=i},r.prototype.reset=function(){this.type=0},r.prototype.is=function(i){return this.type===i},r}();e.default=n},1655:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(8167),i=n(6061),s={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:function(o){if(o.charCodeAt(0)===35){var l=o.match(s.re);if(l){var d=l[1],h=parseInt(d,16),f=d.length,v=f%4==0,w=f>4,E=w?1:17,C=w?8:4,O=v?0:-1,M=w?255:15;return r.default.set({r:(h>>C*(O+3)&M)*E,g:(h>>C*(O+2)&M)*E,b:(h>>C*(O+1)&M)*E,a:v?(h&M)*E/255:1},o)}}},stringify:function(o){var l=o.r,d=o.g,h=o.b,f=o.a;return f<1?"#"+i.DEC2HEX[Math.round(l)]+i.DEC2HEX[Math.round(d)]+i.DEC2HEX[Math.round(h)]+i.DEC2HEX[Math.round(255*f)]:"#"+i.DEC2HEX[Math.round(l)]+i.DEC2HEX[Math.round(d)]+i.DEC2HEX[Math.round(h)]}};e.default=s},8589:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(8167),s={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:function(o){var l=o.match(s.hueRe);if(l){var d=l[1];switch(l[2]){case"grad":return r.default.channel.clamp.h(.9*parseFloat(d));case"rad":return r.default.channel.clamp.h(180*parseFloat(d)/Math.PI);case"turn":return r.default.channel.clamp.h(360*parseFloat(d))}}return r.default.channel.clamp.h(parseFloat(o))},parse:function(o){var l=o.charCodeAt(0);if(l===104||l===72){var d=o.match(s.re);if(d){var h=d[1],f=d[2],v=d[3],w=d[4],E=d[5];return i.default.set({h:s._hue2deg(h),s:r.default.channel.clamp.s(parseFloat(f)),l:r.default.channel.clamp.l(parseFloat(v)),a:w?r.default.channel.clamp.a(E?parseFloat(w)/100:parseFloat(w)):1},o)}}},stringify:function(o){var l=o.h,d=o.s,h=o.l,f=o.a;return f<1?"hsla("+r.default.lang.round(l)+", "+r.default.lang.round(d)+"%, "+r.default.lang.round(h)+"%, "+f+")":"hsl("+r.default.lang.round(l)+", "+r.default.lang.round(d)+"%, "+r.default.lang.round(h)+"%)"}};e.default=s},2191:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1655),i=n(7538),s=n(6762),o=n(8589),l={format:{keyword:i.default,hex:r.default,rgb:s.default,rgba:s.default,hsl:o.default,hsla:o.default},parse:function(d){if(typeof d!="string")return d;var h=r.default.parse(d)||s.default.parse(d)||o.default.parse(d)||i.default.parse(d);if(h)return h;throw new Error('Unsupported color format: "'+d+'"')},stringify:function(d){return!d.changed&&d.color?d.color:d.type.is(2)||d.data.r===void 0?o.default.stringify(d):d.a<1||!Number.isInteger(d.r)||!Number.isInteger(d.g)||!Number.isInteger(d.b)?s.default.stringify(d):r.default.stringify(d)}};e.default=l},7538:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1655),i={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:function(s){s=s.toLowerCase();var o=i.colors[s];if(o)return r.default.parse(o)},stringify:function(s){var o=r.default.stringify(s);for(var l in i.colors)if(i.colors[l]===o)return l}};e.default=i},6762:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(8167),s={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:function(o){var l=o.charCodeAt(0);if(l===114||l===82){var d=o.match(s.re);if(d){var h=d[1],f=d[2],v=d[3],w=d[4],E=d[5],C=d[6],O=d[7],M=d[8];return i.default.set({r:r.default.channel.clamp.r(f?2.55*parseFloat(h):parseFloat(h)),g:r.default.channel.clamp.g(w?2.55*parseFloat(v):parseFloat(v)),b:r.default.channel.clamp.b(C?2.55*parseFloat(E):parseFloat(E)),a:O?r.default.channel.clamp.a(M?parseFloat(O)/100:parseFloat(O)):1},o)}}},stringify:function(o){var l=o.r,d=o.g,h=o.b,f=o.a;return f<1?"rgba("+r.default.lang.round(l)+", "+r.default.lang.round(d)+", "+r.default.lang.round(h)+", "+r.default.lang.round(f)+")":"rgb("+r.default.lang.round(l)+", "+r.default.lang.round(d)+", "+r.default.lang.round(h)+")"}};e.default=s},6061:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i={};e.DEC2HEX=i;for(var s=0;s<=255;s++)i[s]=r.default.unit.dec2hex(s)},8613:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),function(r){for(var i in r)e.hasOwnProperty(i)||(e[i]=r[i])}(n(1203))},5371:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191),i=n(418);e.default=function(s,o){var l=r.default.parse(s),d={};for(var h in o)o[h]&&(d[h]=l[h]+o[h]);return i.default(s,d)}},1416:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(2191);e.default=function(s,o,l){var d=i.default.parse(s),h=d[o],f=r.default.channel.clamp[o](h+l);return h!==f&&(d[o]=f),i.default.stringify(d)}},9353:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6197);e.default=function(i){return r.default(i,"a")}},3394:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6197);e.default=function(i){return r.default(i,"b")}},418:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(2191);e.default=function(s,o){var l=i.default.parse(s);for(var d in o)l[d]=r.default.channel.clamp[d](o[d]);return i.default.stringify(l)}},6197:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(2191);e.default=function(s,o){return r.default.lang.round(i.default.parse(s)[o])}},7361:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1416);e.default=function(i){return r.default(i,"h",180)}},3042:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(8346);e.default=function(s,o){var l=i.default(s),d=i.default(o),h=Math.max(l,d),f=Math.min(l,d),v=(h+Number.EPSILON)/(f+Number.EPSILON);return r.default.lang.round(r.default.lang.clamp(v,1,10))}},1364:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1416);e.default=function(i,s){return r.default(i,"l",-s)}},9610:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1416);e.default=function(i,s){return r.default(i,"s",-s)}},572:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(418);e.default=function(i){return r.default(i,{s:0})}},2299:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6197);e.default=function(i){return r.default(i,"g")}},3116:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(8167),s=n(2191);e.default=function(o,l,d,h){h===void 0&&(h=1);var f=i.default.set({h:r.default.channel.clamp.h(o),s:r.default.channel.clamp.s(l),l:r.default.channel.clamp.l(d),a:r.default.channel.clamp.a(h)});return s.default.stringify(f)}},3008:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6197);e.default=function(i){return r.default(i,"h")}},1203:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6538);e.hex=r.default;var i=n(6538);e.rgb=i.default;var s=n(6538);e.rgba=s.default;var o=n(3116);e.hsl=o.default;var l=n(3116);e.hsla=l.default;var d=n(2619);e.toKeyword=d.default;var h=n(4307);e.toHex=h.default;var f=n(4125);e.toRgba=f.default;var v=n(7329);e.toHsla=v.default;var w=n(6197);e.channel=w.default;var E=n(9640);e.red=E.default;var C=n(2299);e.green=C.default;var O=n(3394);e.blue=O.default;var M=n(3008);e.hue=M.default;var A=n(6451);e.saturation=A.default;var D=n(9235);e.lightness=D.default;var U=n(9353);e.alpha=U.default;var R=n(9353);e.opacity=R.default;var X=n(3042);e.contrast=X.default;var H=n(8346);e.luminance=H.default;var K=n(4117);e.isDark=K.default;var W=n(2224);e.isLight=W.default;var Z=n(585);e.isValid=Z.default;var ie=n(1080);e.saturate=ie.default;var se=n(9610);e.desaturate=se.default;var oe=n(3235);e.lighten=oe.default;var Q=n(1364);e.darken=Q.default;var ae=n(7189);e.opacify=ae.default;var he=n(7189);e.fadeIn=he.default;var Ee=n(4989);e.transparentize=Ee.default;var De=n(4989);e.fadeOut=De.default;var qe=n(7361);e.complement=qe.default;var _e=n(572);e.grayscale=_e.default;var xe=n(5371);e.adjust=xe.default;var Se=n(418);e.change=Se.default;var Ie=n(566);e.invert=Ie.default;var Ye=n(1861);e.mix=Ye.default;var Le=n(7081);e.scale=Le.default},566:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191),i=n(1861);e.default=function(s,o){o===void 0&&(o=100);var l=r.default.parse(s);return l.r=255-l.r,l.g=255-l.g,l.b=255-l.b,i.default(l,s,o)}},4117:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2224);e.default=function(i){return!r.default(i)}},2224:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(8346);e.default=function(i){return r.default(i)>=.5}},585:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191);e.default=function(i){try{return r.default.parse(i),!0}catch{return!1}}},3235:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1416);e.default=function(i,s){return r.default(i,"l",s)}},9235:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6197);e.default=function(i){return r.default(i,"l")}},8346:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(2191);e.default=function(s){var o=i.default.parse(s),l=o.r,d=o.g,h=o.b,f=.2126*r.default.channel.toLinear(l)+.7152*r.default.channel.toLinear(d)+.0722*r.default.channel.toLinear(h);return r.default.lang.round(f)}},1861:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191),i=n(6538);e.default=function(s,o,l){l===void 0&&(l=50);var d=r.default.parse(s),h=d.r,f=d.g,v=d.b,w=d.a,E=r.default.parse(o),C=E.r,O=E.g,M=E.b,A=E.a,D=l/100,U=2*D-1,R=w-A,X=((U*R==-1?U:(U+R)/(1+U*R))+1)/2,H=1-X,K=h*X+C*H,W=f*X+O*H,Z=v*X+M*H,ie=w*D+A*(1-D);return i.default(K,W,Z,ie)}},7189:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1416);e.default=function(i,s){return r.default(i,"a",s)}},9640:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6197);e.default=function(i){return r.default(i,"r")}},6538:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(8167),s=n(2191),o=n(418);e.default=function(l,d,h,f){if(h===void 0&&(h=0),f===void 0&&(f=1),typeof l!="number")return o.default(l,{a:d});var v=i.default.set({r:r.default.channel.clamp.r(l),g:r.default.channel.clamp.g(d),b:r.default.channel.clamp.b(h),a:r.default.channel.clamp.a(f)});return s.default.stringify(v)}},1080:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1416);e.default=function(i,s){return r.default(i,"s",s)}},6451:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(6197);e.default=function(i){return r.default(i,"s")}},7081:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1083),i=n(2191),s=n(5371);e.default=function(o,l){var d,h,f,v=i.default.parse(o),w={};for(var E in l)w[E]=(d=v[E],h=l[E],f=r.default.channel.max[E],h>0?(f-d)*h/100:d*h/100);return s.default(o,w)}},4307:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191);e.default=function(i){return r.default.format.hex.stringify(r.default.parse(i))}},7329:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191);e.default=function(i){return r.default.format.hsla.stringify(r.default.parse(i))}},2619:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191);e.default=function(i){return r.default.format.keyword.stringify(r.default.parse(i))}},4125:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(2191);e.default=function(i){return r.default.format.rgba.stringify(r.default.parse(i))}},4989:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(1416);e.default=function(i,s){return r.default(i,"a",-s)}},7994:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:function(r){return r>=255?255:r<0?0:r},g:function(r){return r>=255?255:r<0?0:r},b:function(r){return r>=255?255:r<0?0:r},h:function(r){return r%360},s:function(r){return r>=100?100:r<0?0:r},l:function(r){return r>=100?100:r<0?0:r},a:function(r){return r>=1?1:r<0?0:r}},toLinear:function(r){var i=r/255;return r>.03928?Math.pow((i+.055)/1.055,2.4):i/12.92},hue2rgb:function(r,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+6*(i-r)*s:s<.5?i:s<2/3?r+(i-r)*(2/3-s)*6:r},hsl2rgb:function(r,i){var s=r.h,o=r.s,l=r.l;if(!o)return 2.55*l;s/=360,o/=100;var d=(l/=100)<.5?l*(1+o):l+o-l*o,h=2*l-d;switch(i){case"r":return 255*n.hue2rgb(h,d,s+1/3);case"g":return 255*n.hue2rgb(h,d,s);case"b":return 255*n.hue2rgb(h,d,s-1/3)}},rgb2hsl:function(r,i){var s=r.r,o=r.g,l=r.b;s/=255,o/=255,l/=255;var d=Math.max(s,o,l),h=Math.min(s,o,l),f=(d+h)/2;if(i==="l")return 100*f;if(d===h)return 0;var v=d-h;if(i==="s")return 100*(f>.5?v/(2-d-h):v/(d+h));switch(d){case s:return 60*((o-l)/v+(o<l?6:0));case o:return 60*((l-s)/v+2);case l:return 60*((s-o)/v+4);default:return-1}}};e.default=n},1083:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(7994),i=n(4027),s=n(318),o={channel:r.default,lang:i.default,unit:s.default};e.default=o},4027:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={clamp:function(r,i,s){return i>s?Math.min(i,Math.max(s,r)):Math.min(s,Math.max(i,r))},round:function(r){return Math.round(1e10*r)/1e10}};e.default=n},318:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={dec2hex:function(r){var i=Math.round(r).toString(16);return i.length>1?i:"0"+i}};e.default=n},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),i=n(401),s=n(7667),o=n(1327),l=n(1866);function d(h){var f=-1,v=h==null?0:h.length;for(this.clear();++f<v;){var w=h[f];this.set(w[0],w[1])}}d.prototype.clear=r,d.prototype.delete=i,d.prototype.get=s,d.prototype.has=o,d.prototype.set=l,t.exports=d},8407:(t,e,n)=>{var r=n(7040),i=n(2188),s=n(2117),o=n(7518),l=n(4705);function d(h){var f=-1,v=h==null?0:h.length;for(this.clear();++f<v;){var w=h[f];this.set(w[0],w[1])}}d.prototype.clear=r,d.prototype.delete=i,d.prototype.get=s,d.prototype.has=o,d.prototype.set=l,t.exports=d},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),i=n(1285),s=n(6e3),o=n(9916),l=n(5265);function d(h){var f=-1,v=h==null?0:h.length;for(this.clear();++f<v;){var w=h[f];this.set(w[0],w[1])}}d.prototype.clear=r,d.prototype.delete=i,d.prototype.get=s,d.prototype.has=o,d.prototype.set=l,t.exports=d},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),i=n(619),s=n(2385);function o(l){var d=-1,h=l==null?0:l.length;for(this.__data__=new r;++d<h;)this.add(l[d])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,t.exports=o},6384:(t,e,n)=>{var r=n(8407),i=n(7465),s=n(3779),o=n(7599),l=n(4758),d=n(4309);function h(f){var v=this.__data__=new r(f);this.size=v.size}h.prototype.clear=i,h.prototype.delete=s,h.prototype.get=o,h.prototype.has=l,h.prototype.set=d,t.exports=h},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}},7412:t=>{t.exports=function(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}},4963:t=>{t.exports=function(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[s++]=l)}return o}},7443:(t,e,n)=>{var r=n(2118);t.exports=function(i,s){return!(i==null||!i.length)&&r(i,s,0)>-1}},1196:t=>{t.exports=function(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}},4636:(t,e,n)=>{var r=n(2545),i=n(5694),s=n(1469),o=n(4144),l=n(5776),d=n(6719),h=Object.prototype.hasOwnProperty;t.exports=function(f,v){var w=s(f),E=!w&&i(f),C=!w&&!E&&o(f),O=!w&&!E&&!C&&d(f),M=w||E||C||O,A=M?r(f.length,String):[],D=A.length;for(var U in f)!v&&!h.call(f,U)||M&&(U=="length"||C&&(U=="offset"||U=="parent")||O&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||l(U,D))||A.push(U);return A}},9932:t=>{t.exports=function(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}},2488:t=>{t.exports=function(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}},2663:t=>{t.exports=function(e,n,r,i){var s=-1,o=e==null?0:e.length;for(i&&o&&(r=e[++s]);++s<o;)r=n(r,e[s],s,e);return r}},2908:t=>{t.exports=function(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}},8983:(t,e,n)=>{var r=n(371)("length");t.exports=r},6556:(t,e,n)=>{var r=n(9465),i=n(7813);t.exports=function(s,o,l){(l!==void 0&&!i(s[o],l)||l===void 0&&!(o in s))&&r(s,o,l)}},4865:(t,e,n)=>{var r=n(9465),i=n(7813),s=Object.prototype.hasOwnProperty;t.exports=function(o,l,d){var h=o[l];s.call(o,l)&&i(h,d)&&(d!==void 0||l in o)||r(o,l,d)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(i,s){for(var o=i.length;o--;)if(r(i[o][0],s))return o;return-1}},4037:(t,e,n)=>{var r=n(8363),i=n(3674);t.exports=function(s,o){return s&&r(o,i(o),s)}},3886:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(s,o){return s&&r(o,i(o),s)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(i,s,o){s=="__proto__"&&r?r(i,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):i[s]=o}},5990:(t,e,n)=>{var r=n(6384),i=n(7412),s=n(4865),o=n(4037),l=n(3886),d=n(4626),h=n(278),f=n(8805),v=n(1911),w=n(8234),E=n(6904),C=n(4160),O=n(3824),M=n(9148),A=n(8517),D=n(1469),U=n(4144),R=n(6688),X=n(3218),H=n(2928),K=n(3674),W=n(1704),Z="[object Arguments]",ie="[object Function]",se="[object Object]",oe={};oe[Z]=oe["[object Array]"]=oe["[object ArrayBuffer]"]=oe["[object DataView]"]=oe["[object Boolean]"]=oe["[object Date]"]=oe["[object Float32Array]"]=oe["[object Float64Array]"]=oe["[object Int8Array]"]=oe["[object Int16Array]"]=oe["[object Int32Array]"]=oe["[object Map]"]=oe["[object Number]"]=oe[se]=oe["[object RegExp]"]=oe["[object Set]"]=oe["[object String]"]=oe["[object Symbol]"]=oe["[object Uint8Array]"]=oe["[object Uint8ClampedArray]"]=oe["[object Uint16Array]"]=oe["[object Uint32Array]"]=!0,oe["[object Error]"]=oe[ie]=oe["[object WeakMap]"]=!1,t.exports=function Q(ae,he,Ee,De,qe,_e){var xe,Se=1&he,Ie=2&he,Ye=4&he;if(Ee&&(xe=qe?Ee(ae,De,qe,_e):Ee(ae)),xe!==void 0)return xe;if(!X(ae))return ae;var Le=D(ae);if(Le){if(xe=O(ae),!Se)return h(ae,xe)}else{var Nt=C(ae),pt=Nt==ie||Nt=="[object GeneratorFunction]";if(U(ae))return d(ae,Se);if(Nt==se||Nt==Z||pt&&!qe){if(xe=Ie||pt?{}:A(ae),!Se)return Ie?v(ae,l(xe,ae)):f(ae,o(xe,ae))}else{if(!oe[Nt])return qe?ae:{};xe=M(ae,Nt,Se)}}_e||(_e=new r);var ze=_e.get(ae);if(ze)return ze;_e.set(ae,xe),H(ae)?ae.forEach(function(me){xe.add(Q(me,he,Ee,me,ae,_e))}):R(ae)&&ae.forEach(function(me,ut){xe.set(ut,Q(me,he,Ee,ut,ae,_e))});var nt=Le?void 0:(Ye?Ie?E:w:Ie?W:K)(ae);return i(nt||ae,function(me,ut){nt&&(me=ae[ut=me]),s(xe,ut,Q(me,he,Ee,ut,ae,_e))}),xe}},3118:(t,e,n)=>{var r=n(3218),i=Object.create,s=function(){function o(){}return function(l){if(!r(l))return{};if(i)return i(l);o.prototype=l;var d=new o;return o.prototype=void 0,d}}();t.exports=s},9881:(t,e,n)=>{var r=n(7816),i=n(9291)(r);t.exports=i},6029:(t,e,n)=>{var r=n(3448);t.exports=function(i,s,o){for(var l=-1,d=i.length;++l<d;){var h=i[l],f=s(h);if(f!=null&&(v===void 0?f==f&&!r(f):o(f,v)))var v=f,w=h}return w}},760:(t,e,n)=>{var r=n(9881);t.exports=function(i,s){var o=[];return r(i,function(l,d,h){s(l,d,h)&&o.push(l)}),o}},1848:t=>{t.exports=function(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}},1078:(t,e,n)=>{var r=n(2488),i=n(7285);t.exports=function s(o,l,d,h,f){var v=-1,w=o.length;for(d||(d=i),f||(f=[]);++v<w;){var E=o[v];l>0&&d(E)?l>1?s(E,l-1,d,h,f):r(f,E):h||(f[f.length]=E)}return f}},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},7816:(t,e,n)=>{var r=n(8483),i=n(3674);t.exports=function(s,o){return s&&r(s,o,i)}},7786:(t,e,n)=>{var r=n(1811),i=n(327);t.exports=function(s,o){for(var l=0,d=(o=r(o,s)).length;s!=null&&l<d;)s=s[i(o[l++])];return l&&l==d?s:void 0}},8866:(t,e,n)=>{var r=n(2488),i=n(1469);t.exports=function(s,o,l){var d=o(s);return i(s)?d:r(d,l(s))}},4239:(t,e,n)=>{var r=n(2705),i=n(9607),s=n(2333),o=r?r.toStringTag:void 0;t.exports=function(l){return l==null?l===void 0?"[object Undefined]":"[object Null]":o&&o in Object(l)?i(l):s(l)}},3325:t=>{t.exports=function(e,n){return e>n}},8565:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(n,r){return n!=null&&e.call(n,r)}},13:t=>{t.exports=function(e,n){return e!=null&&n in Object(e)}},2118:(t,e,n)=>{var r=n(1848),i=n(2722),s=n(2351);t.exports=function(o,l,d){return l==l?s(o,l,d):r(o,i,d)}},9454:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(s){return i(s)&&r(s)=="[object Arguments]"}},939:(t,e,n)=>{var r=n(2492),i=n(7005);t.exports=function s(o,l,d,h,f){return o===l||(o==null||l==null||!i(o)&&!i(l)?o!=o&&l!=l:r(o,l,d,h,s,f))}},2492:(t,e,n)=>{var r=n(6384),i=n(7114),s=n(8351),o=n(6096),l=n(4160),d=n(1469),h=n(4144),f=n(6719),v="[object Arguments]",w="[object Array]",E="[object Object]",C=Object.prototype.hasOwnProperty;t.exports=function(O,M,A,D,U,R){var X=d(O),H=d(M),K=X?w:l(O),W=H?w:l(M),Z=(K=K==v?E:K)==E,ie=(W=W==v?E:W)==E,se=K==W;if(se&&h(O)){if(!h(M))return!1;X=!0,Z=!1}if(se&&!Z)return R||(R=new r),X||f(O)?i(O,M,A,D,U,R):s(O,M,K,A,D,U,R);if(!(1&A)){var oe=Z&&C.call(O,"__wrapped__"),Q=ie&&C.call(M,"__wrapped__");if(oe||Q){var ae=oe?O.value():O,he=Q?M.value():M;return R||(R=new r),U(ae,he,A,D,R)}}return!!se&&(R||(R=new r),o(O,M,A,D,U,R))}},5588:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(s){return i(s)&&r(s)=="[object Map]"}},2958:(t,e,n)=>{var r=n(6384),i=n(939);t.exports=function(s,o,l,d){var h=l.length,f=h,v=!d;if(s==null)return!f;for(s=Object(s);h--;){var w=l[h];if(v&&w[2]?w[1]!==s[w[0]]:!(w[0]in s))return!1}for(;++h<f;){var E=(w=l[h])[0],C=s[E],O=w[1];if(v&&w[2]){if(C===void 0&&!(E in s))return!1}else{var M=new r;if(d)var A=d(C,O,E,s,o,M);if(!(A===void 0?i(O,C,3,d,M):A))return!1}}return!0}},2722:t=>{t.exports=function(e){return e!=e}},8458:(t,e,n)=>{var r=n(3560),i=n(5346),s=n(3218),o=n(346),l=/^\[object .+?Constructor\]$/,d=Function.prototype,h=Object.prototype,f=d.toString,v=h.hasOwnProperty,w=RegExp("^"+f.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(E){return!(!s(E)||i(E))&&(r(E)?w:l).test(o(E))}},9221:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(s){return i(s)&&r(s)=="[object Set]"}},8749:(t,e,n)=>{var r=n(4239),i=n(1780),s=n(7005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(l){return s(l)&&i(l.length)&&!!o[r(l)]}},7206:(t,e,n)=>{var r=n(1573),i=n(6432),s=n(6557),o=n(1469),l=n(9601);t.exports=function(d){return typeof d=="function"?d:d==null?s:typeof d=="object"?o(d)?i(d[0],d[1]):r(d):l(d)}},280:(t,e,n)=>{var r=n(5726),i=n(6916),s=Object.prototype.hasOwnProperty;t.exports=function(o){if(!r(o))return i(o);var l=[];for(var d in Object(o))s.call(o,d)&&d!="constructor"&&l.push(d);return l}},313:(t,e,n)=>{var r=n(3218),i=n(5726),s=n(3498),o=Object.prototype.hasOwnProperty;t.exports=function(l){if(!r(l))return s(l);var d=i(l),h=[];for(var f in l)(f!="constructor"||!d&&o.call(l,f))&&h.push(f);return h}},433:t=>{t.exports=function(e,n){return e<n}},9199:(t,e,n)=>{var r=n(9881),i=n(8612);t.exports=function(s,o){var l=-1,d=i(s)?Array(s.length):[];return r(s,function(h,f,v){d[++l]=o(h,f,v)}),d}},1573:(t,e,n)=>{var r=n(2958),i=n(1499),s=n(2634);t.exports=function(o){var l=i(o);return l.length==1&&l[0][2]?s(l[0][0],l[0][1]):function(d){return d===o||r(d,o,l)}}},6432:(t,e,n)=>{var r=n(939),i=n(1917),s=n(9095),o=n(5403),l=n(9162),d=n(2634),h=n(327);t.exports=function(f,v){return o(f)&&l(v)?d(h(f),v):function(w){var E=i(w,f);return E===void 0&&E===v?s(w,f):r(v,E,3)}}},2980:(t,e,n)=>{var r=n(6384),i=n(6556),s=n(8483),o=n(9783),l=n(3218),d=n(1704),h=n(6390);t.exports=function f(v,w,E,C,O){v!==w&&s(w,function(M,A){if(O||(O=new r),l(M))o(v,w,A,E,f,C,O);else{var D=C?C(h(v,A),M,A+"",v,w,O):void 0;D===void 0&&(D=M),i(v,A,D)}},d)}},9783:(t,e,n)=>{var r=n(6556),i=n(4626),s=n(7133),o=n(278),l=n(8517),d=n(5694),h=n(1469),f=n(9246),v=n(4144),w=n(3560),E=n(3218),C=n(8630),O=n(6719),M=n(6390),A=n(3678);t.exports=function(D,U,R,X,H,K,W){var Z=M(D,R),ie=M(U,R),se=W.get(ie);if(se)r(D,R,se);else{var oe=K?K(Z,ie,R+"",D,U,W):void 0,Q=oe===void 0;if(Q){var ae=h(ie),he=!ae&&v(ie),Ee=!ae&&!he&&O(ie);oe=ie,ae||he||Ee?h(Z)?oe=Z:f(Z)?oe=o(Z):he?(Q=!1,oe=i(ie,!0)):Ee?(Q=!1,oe=s(ie,!0)):oe=[]:C(ie)||d(ie)?(oe=Z,d(Z)?oe=A(Z):E(Z)&&!w(Z)||(oe=l(ie))):Q=!1}Q&&(W.set(ie,oe),H(oe,ie,X,K,W),W.delete(ie)),r(D,R,oe)}}},9556:(t,e,n)=>{var r=n(9932),i=n(7786),s=n(7206),o=n(9199),l=n(1131),d=n(1717),h=n(5022),f=n(6557),v=n(1469);t.exports=function(w,E,C){E=E.length?r(E,function(A){return v(A)?function(D){return i(D,A.length===1?A[0]:A)}:A}):[f];var O=-1;E=r(E,d(s));var M=o(w,function(A,D,U){return{criteria:r(E,function(R){return R(A)}),index:++O,value:A}});return l(M,function(A,D){return h(A,D,C)})}},5970:(t,e,n)=>{var r=n(3012),i=n(9095);t.exports=function(s,o){return r(s,o,function(l,d){return i(s,d)})}},3012:(t,e,n)=>{var r=n(7786),i=n(611),s=n(1811);t.exports=function(o,l,d){for(var h=-1,f=l.length,v={};++h<f;){var w=l[h],E=r(o,w);d(E,w)&&i(v,s(w,o),E)}return v}},371:t=>{t.exports=function(e){return function(n){return n==null?void 0:n[e]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(i){return function(s){return r(s,i)}}},98:t=>{var e=Math.ceil,n=Math.max;t.exports=function(r,i,s,o){for(var l=-1,d=n(e((i-r)/(s||1)),0),h=Array(d);d--;)h[o?d:++l]=r,r+=s;return h}},107:t=>{t.exports=function(e,n,r,i,s){return s(e,function(o,l,d){r=i?(i=!1,o):n(r,o,l,d)}),r}},5976:(t,e,n)=>{var r=n(6557),i=n(5357),s=n(61);t.exports=function(o,l){return s(i(o,l,r),o+"")}},611:(t,e,n)=>{var r=n(4865),i=n(1811),s=n(5776),o=n(3218),l=n(327);t.exports=function(d,h,f,v){if(!o(d))return d;for(var w=-1,E=(h=i(h,d)).length,C=E-1,O=d;O!=null&&++w<E;){var M=l(h[w]),A=f;if(M==="__proto__"||M==="constructor"||M==="prototype")return d;if(w!=C){var D=O[M];(A=v?v(D,M,O):void 0)===void 0&&(A=o(D)?D:s(h[w+1])?[]:{})}r(O,M,A),O=O[M]}return d}},6560:(t,e,n)=>{var r=n(5703),i=n(8777),s=n(6557),o=i?function(l,d){return i(l,"toString",{configurable:!0,enumerable:!1,value:r(d),writable:!0})}:s;t.exports=o},1131:t=>{t.exports=function(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}},2545:t=>{t.exports=function(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}},531:(t,e,n)=>{var r=n(2705),i=n(9932),s=n(1469),o=n(3448),l=r?r.prototype:void 0,d=l?l.toString:void 0;t.exports=function h(f){if(typeof f=="string")return f;if(s(f))return i(f,h)+"";if(o(f))return d?d.call(f):"";var v=f+"";return v=="0"&&1/f==-1/0?"-0":v}},7561:(t,e,n)=>{var r=n(7990),i=/^\s+/;t.exports=function(s){return s&&s.slice(0,r(s)+1).replace(i,"")}},1717:t=>{t.exports=function(e){return function(n){return e(n)}}},5652:(t,e,n)=>{var r=n(8668),i=n(7443),s=n(1196),o=n(4757),l=n(3593),d=n(1814);t.exports=function(h,f,v){var w=-1,E=i,C=h.length,O=!0,M=[],A=M;if(v)O=!1,E=s;else if(C>=200){var D=f?null:l(h);if(D)return d(D);O=!1,E=o,A=new r}else A=f?[]:M;e:for(;++w<C;){var U=h[w],R=f?f(U):U;if(U=v||U!==0?U:0,O&&R==R){for(var X=A.length;X--;)if(A[X]===R)continue e;f&&A.push(R),M.push(U)}else E(A,R,v)||(A!==M&&A.push(R),M.push(U))}return M}},7415:(t,e,n)=>{var r=n(9932);t.exports=function(i,s){return r(s,function(o){return i[o]})}},1757:t=>{t.exports=function(e,n,r){for(var i=-1,s=e.length,o=n.length,l={};++i<s;){var d=i<o?n[i]:void 0;r(l,e[i],d)}return l}},4757:t=>{t.exports=function(e,n){return e.has(n)}},4290:(t,e,n)=>{var r=n(6557);t.exports=function(i){return typeof i=="function"?i:r}},1811:(t,e,n)=>{var r=n(1469),i=n(5403),s=n(5514),o=n(9833);t.exports=function(l,d){return r(l)?l:i(l,d)?[l]:s(o(l))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(i){var s=new i.constructor(i.byteLength);return new r(s).set(new r(i)),s}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;t.exports=function(d,h){if(h)return d.slice();var f=d.length,v=l?l(f):new d.constructor(f);return d.copy(v),v}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(i,s){var o=s?r(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}},419:(t,e,n)=>{var r=n(2705),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;t.exports=function(o){return s?Object(s.call(o)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(i,s){var o=s?r(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.length)}},6393:(t,e,n)=>{var r=n(3448);t.exports=function(i,s){if(i!==s){var o=i!==void 0,l=i===null,d=i==i,h=r(i),f=s!==void 0,v=s===null,w=s==s,E=r(s);if(!v&&!E&&!h&&i>s||h&&f&&w&&!v&&!E||l&&f&&w||!o&&w||!d)return 1;if(!l&&!h&&!E&&i<s||E&&o&&d&&!l&&!h||v&&o&&d||!f&&d||!w)return-1}return 0}},5022:(t,e,n)=>{var r=n(6393);t.exports=function(i,s,o){for(var l=-1,d=i.criteria,h=s.criteria,f=d.length,v=o.length;++l<f;){var w=r(d[l],h[l]);if(w)return l>=v?w:w*(o[l]=="desc"?-1:1)}return i.index-s.index}},278:t=>{t.exports=function(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}},8363:(t,e,n)=>{var r=n(4865),i=n(9465);t.exports=function(s,o,l,d){var h=!l;l||(l={});for(var f=-1,v=o.length;++f<v;){var w=o[f],E=d?d(l[w],s[w],w,l,s):void 0;E===void 0&&(E=s[w]),h?i(l,w,E):r(l,w,E)}return l}},8805:(t,e,n)=>{var r=n(8363),i=n(9551);t.exports=function(s,o){return r(s,i(s),o)}},1911:(t,e,n)=>{var r=n(8363),i=n(1442);t.exports=function(s,o){return r(s,i(s),o)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},1750:(t,e,n)=>{var r=n(5976),i=n(6612);t.exports=function(s){return r(function(o,l){var d=-1,h=l.length,f=h>1?l[h-1]:void 0,v=h>2?l[2]:void 0;for(f=s.length>3&&typeof f=="function"?(h--,f):void 0,v&&i(l[0],l[1],v)&&(f=h<3?void 0:f,h=1),o=Object(o);++d<h;){var w=l[d];w&&s(o,w,d,f)}return o})}},9291:(t,e,n)=>{var r=n(8612);t.exports=function(i,s){return function(o,l){if(o==null)return o;if(!r(o))return i(o,l);for(var d=o.length,h=s?d:-1,f=Object(o);(s?h--:++h<d)&&l(f[h],h,f)!==!1;);return o}}},5063:t=>{t.exports=function(e){return function(n,r,i){for(var s=-1,o=Object(n),l=i(n),d=l.length;d--;){var h=l[e?d:++s];if(r(o[h],h,o)===!1)break}return n}}},7740:(t,e,n)=>{var r=n(7206),i=n(8612),s=n(3674);t.exports=function(o){return function(l,d,h){var f=Object(l);if(!i(l)){var v=r(d,3);l=s(l),d=function(E){return v(f[E],E,f)}}var w=o(l,d,h);return w>-1?f[v?l[w]:w]:void 0}}},7445:(t,e,n)=>{var r=n(98),i=n(6612),s=n(8601);t.exports=function(o){return function(l,d,h){return h&&typeof h!="number"&&i(l,d,h)&&(d=h=void 0),l=s(l),d===void 0?(d=l,l=0):d=s(d),h=h===void 0?l<d?1:-1:s(h),r(l,d,h,o)}}},3593:(t,e,n)=>{var r=n(8525),i=n(308),s=n(1814),o=r&&1/s(new r([,-0]))[1]==1/0?function(l){return new r(l)}:i;t.exports=o},8777:(t,e,n)=>{var r=n(852),i=function(){try{var s=r(Object,"defineProperty");return s({},"",{}),s}catch{}}();t.exports=i},7114:(t,e,n)=>{var r=n(8668),i=n(2908),s=n(4757);t.exports=function(o,l,d,h,f,v){var w=1&d,E=o.length,C=l.length;if(E!=C&&!(w&&C>E))return!1;var O=v.get(o),M=v.get(l);if(O&&M)return O==l&&M==o;var A=-1,D=!0,U=2&d?new r:void 0;for(v.set(o,l),v.set(l,o);++A<E;){var R=o[A],X=l[A];if(h)var H=w?h(X,R,A,l,o,v):h(R,X,A,o,l,v);if(H!==void 0){if(H)continue;D=!1;break}if(U){if(!i(l,function(K,W){if(!s(U,W)&&(R===K||f(R,K,d,h,v)))return U.push(W)})){D=!1;break}}else if(R!==X&&!f(R,X,d,h,v)){D=!1;break}}return v.delete(o),v.delete(l),D}},8351:(t,e,n)=>{var r=n(2705),i=n(1149),s=n(7813),o=n(7114),l=n(8776),d=n(1814),h=r?r.prototype:void 0,f=h?h.valueOf:void 0;t.exports=function(v,w,E,C,O,M,A){switch(E){case"[object DataView]":if(v.byteLength!=w.byteLength||v.byteOffset!=w.byteOffset)return!1;v=v.buffer,w=w.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=w.byteLength||!M(new i(v),new i(w)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+v,+w);case"[object Error]":return v.name==w.name&&v.message==w.message;case"[object RegExp]":case"[object String]":return v==w+"";case"[object Map]":var D=l;case"[object Set]":var U=1&C;if(D||(D=d),v.size!=w.size&&!U)return!1;var R=A.get(v);if(R)return R==w;C|=2,A.set(v,w);var X=o(D(v),D(w),C,O,M,A);return A.delete(v),X;case"[object Symbol]":if(f)return f.call(v)==f.call(w)}return!1}},6096:(t,e,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;t.exports=function(s,o,l,d,h,f){var v=1&l,w=r(s),E=w.length;if(E!=r(o).length&&!v)return!1;for(var C=E;C--;){var O=w[C];if(!(v?O in o:i.call(o,O)))return!1}var M=f.get(s),A=f.get(o);if(M&&A)return M==o&&A==s;var D=!0;f.set(s,o),f.set(o,s);for(var U=v;++C<E;){var R=s[O=w[C]],X=o[O];if(d)var H=v?d(X,R,O,o,s,f):d(R,X,O,s,o,f);if(!(H===void 0?R===X||h(R,X,l,d,f):H)){D=!1;break}U||(U=O=="constructor")}if(D&&!U){var K=s.constructor,W=o.constructor;K==W||!("constructor"in s)||!("constructor"in o)||typeof K=="function"&&K instanceof K&&typeof W=="function"&&W instanceof W||(D=!1)}return f.delete(s),f.delete(o),D}},9021:(t,e,n)=>{var r=n(5564),i=n(5357),s=n(61);t.exports=function(o){return s(i(o,void 0,r),o+"")}},1957:(t,e,n)=>{var r=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),i=n(9551),s=n(3674);t.exports=function(o){return r(o,s,i)}},6904:(t,e,n)=>{var r=n(8866),i=n(1442),s=n(1704);t.exports=function(o){return r(o,s,i)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(i,s){var o=i.__data__;return r(s)?o[typeof s=="string"?"string":"hash"]:o.map}},1499:(t,e,n)=>{var r=n(9162),i=n(3674);t.exports=function(s){for(var o=i(s),l=o.length;l--;){var d=o[l],h=s[d];o[l]=[d,h,r(h)]}return o}},852:(t,e,n)=>{var r=n(8458),i=n(7801);t.exports=function(s,o){var l=i(s,o);return r(l)?l:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,l=r?r.toStringTag:void 0;t.exports=function(d){var h=s.call(d,l),f=d[l];try{d[l]=void 0;var v=!0}catch{}var w=o.call(d);return v&&(h?d[l]=f:delete d[l]),w}},9551:(t,e,n)=>{var r=n(4963),i=n(479),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(d){return d==null?[]:(d=Object(d),r(o(d),function(h){return s.call(d,h)}))}:i;t.exports=l},1442:(t,e,n)=>{var r=n(2488),i=n(5924),s=n(9551),o=n(479),l=Object.getOwnPropertySymbols?function(d){for(var h=[];d;)r(h,s(d)),d=i(d);return h}:o;t.exports=l},4160:(t,e,n)=>{var r=n(8552),i=n(7071),s=n(3818),o=n(8525),l=n(577),d=n(4239),h=n(346),f="[object Map]",v="[object Promise]",w="[object Set]",E="[object WeakMap]",C="[object DataView]",O=h(r),M=h(i),A=h(s),D=h(o),U=h(l),R=d;(r&&R(new r(new ArrayBuffer(1)))!=C||i&&R(new i)!=f||s&&R(s.resolve())!=v||o&&R(new o)!=w||l&&R(new l)!=E)&&(R=function(X){var H=d(X),K=H=="[object Object]"?X.constructor:void 0,W=K?h(K):"";if(W)switch(W){case O:return C;case M:return f;case A:return v;case D:return w;case U:return E}return H}),t.exports=R},7801:t=>{t.exports=function(e,n){return e==null?void 0:e[n]}},222:(t,e,n)=>{var r=n(1811),i=n(5694),s=n(1469),o=n(5776),l=n(1780),d=n(327);t.exports=function(h,f,v){for(var w=-1,E=(f=r(f,h)).length,C=!1;++w<E;){var O=d(f[w]);if(!(C=h!=null&&v(h,O)))break;h=h[O]}return C||++w!=E?C:!!(E=h==null?0:h.length)&&l(E)&&o(O,E)&&(s(h)||i(h))}},2689:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(n){return e.test(n)}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},7667:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(s){var o=this.__data__;if(r){var l=o[s];return l==="__lodash_hash_undefined__"?void 0:l}return i.call(o,s)?o[s]:void 0}},1327:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(s){var o=this.__data__;return r?o[s]!==void 0:i.call(o,s)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(i,s){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=r&&s===void 0?"__lodash_hash_undefined__":s,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(n){var r=n.length,i=new n.constructor(r);return r&&typeof n[0]=="string"&&e.call(n,"index")&&(i.index=n.index,i.input=n.input),i}},9148:(t,e,n)=>{var r=n(4318),i=n(7157),s=n(3147),o=n(419),l=n(7133);t.exports=function(d,h,f){var v=d.constructor;switch(h){case"[object ArrayBuffer]":return r(d);case"[object Boolean]":case"[object Date]":return new v(+d);case"[object DataView]":return i(d,f);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(d,f);case"[object Map]":case"[object Set]":return new v;case"[object Number]":case"[object String]":return new v(d);case"[object RegExp]":return s(d);case"[object Symbol]":return o(d)}}},8517:(t,e,n)=>{var r=n(3118),i=n(5924),s=n(5726);t.exports=function(o){return typeof o.constructor!="function"||s(o)?{}:r(i(o))}},7285:(t,e,n)=>{var r=n(2705),i=n(5694),s=n(1469),o=r?r.isConcatSpreadable:void 0;t.exports=function(l){return s(l)||i(l)||!!(o&&l&&l[o])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(n,r){var i=typeof n;return!!(r=r==null?9007199254740991:r)&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<r}},6612:(t,e,n)=>{var r=n(7813),i=n(8612),s=n(5776),o=n(3218);t.exports=function(l,d,h){if(!o(h))return!1;var f=typeof d;return!!(f=="number"?i(h)&&s(d,h.length):f=="string"&&d in h)&&r(h[d],l)}},5403:(t,e,n)=>{var r=n(1469),i=n(3448),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(l,d){if(r(l))return!1;var h=typeof l;return!(h!="number"&&h!="symbol"&&h!="boolean"&&l!=null&&!i(l))||o.test(l)||!s.test(l)||d!=null&&l in Object(d)}},7019:t=>{t.exports=function(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}},5346:(t,e,n)=>{var r,i=n(4429),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(o){return!!s&&s in o}},5726:t=>{var e=Object.prototype;t.exports=function(n){var r=n&&n.constructor;return n===(typeof r=="function"&&r.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(i){return i==i&&!r(i)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},2188:(t,e,n)=>{var r=n(8470),i=Array.prototype.splice;t.exports=function(s){var o=this.__data__,l=r(o,s);return!(l<0||(l==o.length-1?o.pop():i.call(o,l,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(i){var s=this.__data__,o=r(s,i);return o<0?void 0:s[o][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(i){return r(this.__data__,i)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(i,s){var o=this.__data__,l=r(o,i);return l<0?(++this.size,o.push([i,s])):o[l][1]=s,this}},4785:(t,e,n)=>{var r=n(1989),i=n(8407),s=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(i){var s=r(this,i).delete(i);return this.size-=s?1:0,s}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(i){return r(this,i).get(i)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(i){return r(this,i).has(i)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(i,s){var o=r(this,i),l=o.size;return o.set(i,s),this.size+=o.size==l?0:1,this}},8776:t=>{t.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}},2634:t=>{t.exports=function(e,n){return function(r){return r!=null&&r[e]===n&&(n!==void 0||e in Object(r))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(i){var s=r(i,function(l){return o.size===500&&o.clear(),l}),o=s.cache;return s}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i&&r.process,l=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l},2333:t=>{var e=Object.prototype.toString;t.exports=function(n){return e.call(n)}},5569:t=>{t.exports=function(e,n){return function(r){return e(n(r))}}},5357:(t,e,n)=>{var r=n(6874),i=Math.max;t.exports=function(s,o,l){return o=i(o===void 0?s.length-1:o,0),function(){for(var d=arguments,h=-1,f=i(d.length-o,0),v=Array(f);++h<f;)v[h]=d[o+h];h=-1;for(var w=Array(o+1);++h<o;)w[h]=d[h];return w[o]=l(v),r(s,this,w)}}},5639:(t,e,n)=>{var r=n(1957),i=typeof self=="object"&&self&&self.Object===Object&&self,s=r||i||Function("return this")();t.exports=s},6390:t=>{t.exports=function(e,n){if((n!=="constructor"||typeof e[n]!="function")&&n!="__proto__")return e[n]}},619:t=>{t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(e){return this.__data__.has(e)}},1814:t=>{t.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}},61:(t,e,n)=>{var r=n(6560),i=n(1275)(r);t.exports=i},1275:t=>{var e=Date.now;t.exports=function(n){var r=0,i=0;return function(){var s=e(),o=16-(s-i);if(i=s,o>0){if(++r>=800)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}},7599:t=>{t.exports=function(e){return this.__data__.get(e)}},4758:t=>{t.exports=function(e){return this.__data__.has(e)}},4309:(t,e,n)=>{var r=n(8407),i=n(7071),s=n(3369);t.exports=function(o,l){var d=this.__data__;if(d instanceof r){var h=d.__data__;if(!i||h.length<199)return h.push([o,l]),this.size=++d.size,this;d=this.__data__=new s(h)}return d.set(o,l),this.size=d.size,this}},2351:t=>{t.exports=function(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}},8016:(t,e,n)=>{var r=n(8983),i=n(2689),s=n(1903);t.exports=function(o){return i(o)?s(o):r(o)}},5514:(t,e,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(i,function(h,f,v,w){d.push(v?w.replace(s,"$1"):f||h)}),d});t.exports=o},327:(t,e,n)=>{var r=n(3448);t.exports=function(i){if(typeof i=="string"||r(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}},346:t=>{var e=Function.prototype.toString;t.exports=function(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}},7990:t=>{var e=/\s/;t.exports=function(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}},1903:t=>{var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+e+"|"+n+")?",l="[\\ufe0e\\ufe0f]?",d=l+o+"(?:\\u200d(?:"+[r,i,s].join("|")+")"+l+o+")*",h="(?:"+[r+e+"?",e,i,s,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(n+"(?="+n+")|"+h+d,"g");t.exports=function(v){for(var w=f.lastIndex=0;f.test(v);)++w;return w}},6678:(t,e,n)=>{var r=n(5990);t.exports=function(i){return r(i,4)}},361:(t,e,n)=>{var r=n(5990);t.exports=function(i){return r(i,5)}},5703:t=>{t.exports=function(e){return function(){return e}}},1747:(t,e,n)=>{var r=n(5976),i=n(7813),s=n(6612),o=n(1704),l=Object.prototype,d=l.hasOwnProperty,h=r(function(f,v){f=Object(f);var w=-1,E=v.length,C=E>2?v[2]:void 0;for(C&&s(v[0],v[1],C)&&(E=1);++w<E;)for(var O=v[w],M=o(O),A=-1,D=M.length;++A<D;){var U=M[A],R=f[U];(R===void 0||i(R,l[U])&&!d.call(f,U))&&(f[U]=O[U])}return f});t.exports=h},6073:(t,e,n)=>{t.exports=n(4486)},7813:t=>{t.exports=function(e,n){return e===n||e!=e&&n!=n}},3105:(t,e,n)=>{var r=n(4963),i=n(760),s=n(7206),o=n(1469);t.exports=function(l,d){return(o(l)?r:i)(l,s(d,3))}},3311:(t,e,n)=>{var r=n(7740)(n(998));t.exports=r},998:(t,e,n)=>{var r=n(1848),i=n(7206),s=n(554),o=Math.max;t.exports=function(l,d,h){var f=l==null?0:l.length;if(!f)return-1;var v=h==null?0:s(h);return v<0&&(v=o(f+v,0)),r(l,i(d,3),v)}},5564:(t,e,n)=>{var r=n(1078);t.exports=function(i){return i!=null&&i.length?r(i,1):[]}},4486:(t,e,n)=>{var r=n(7412),i=n(9881),s=n(4290),o=n(1469);t.exports=function(l,d){return(o(l)?r:i)(l,s(d))}},2620:(t,e,n)=>{var r=n(8483),i=n(4290),s=n(1704);t.exports=function(o,l){return o==null?o:r(o,i(l),s)}},1917:(t,e,n)=>{var r=n(7786);t.exports=function(i,s,o){var l=i==null?void 0:r(i,s);return l===void 0?o:l}},8721:(t,e,n)=>{var r=n(8565),i=n(222);t.exports=function(s,o){return s!=null&&i(s,o,r)}},9095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(s,o){return s!=null&&i(s,o,r)}},6557:t=>{t.exports=function(e){return e}},5694:(t,e,n)=>{var r=n(9454),i=n(7005),s=Object.prototype,o=s.hasOwnProperty,l=s.propertyIsEnumerable,d=r(function(){return arguments}())?r:function(h){return i(h)&&o.call(h,"callee")&&!l.call(h,"callee")};t.exports=d},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),i=n(1780);t.exports=function(s){return s!=null&&i(s.length)&&!r(s)}},9246:(t,e,n)=>{var r=n(8612),i=n(7005);t.exports=function(s){return i(s)&&r(s)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=n(5062),s=e&&!e.nodeType&&e,o=s&&t&&!t.nodeType&&t,l=o&&o.exports===s?r.Buffer:void 0,d=(l?l.isBuffer:void 0)||i;t.exports=d},1609:(t,e,n)=>{var r=n(280),i=n(4160),s=n(5694),o=n(1469),l=n(8612),d=n(4144),h=n(5726),f=n(6719),v=Object.prototype.hasOwnProperty;t.exports=function(w){if(w==null)return!0;if(l(w)&&(o(w)||typeof w=="string"||typeof w.splice=="function"||d(w)||f(w)||s(w)))return!w.length;var E=i(w);if(E=="[object Map]"||E=="[object Set]")return!w.size;if(h(w))return!r(w).length;for(var C in w)if(v.call(w,C))return!1;return!0}},3560:(t,e,n)=>{var r=n(4239),i=n(3218);t.exports=function(s){if(!i(s))return!1;var o=r(s);return o=="[object Function]"||o=="[object GeneratorFunction]"||o=="[object AsyncFunction]"||o=="[object Proxy]"}},1780:t=>{t.exports=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),i=n(1717),s=n(1167),o=s&&s.isMap,l=o?i(o):r;t.exports=l},3218:t=>{t.exports=function(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}},7005:t=>{t.exports=function(e){return e!=null&&typeof e=="object"}},8630:(t,e,n)=>{var r=n(4239),i=n(5924),s=n(7005),o=Function.prototype,l=Object.prototype,d=o.toString,h=l.hasOwnProperty,f=d.call(Object);t.exports=function(v){if(!s(v)||r(v)!="[object Object]")return!1;var w=i(v);if(w===null)return!0;var E=h.call(w,"constructor")&&w.constructor;return typeof E=="function"&&E instanceof E&&d.call(E)==f}},2928:(t,e,n)=>{var r=n(9221),i=n(1717),s=n(1167),o=s&&s.isSet,l=o?i(o):r;t.exports=l},7037:(t,e,n)=>{var r=n(4239),i=n(1469),s=n(7005);t.exports=function(o){return typeof o=="string"||!i(o)&&s(o)&&r(o)=="[object String]"}},3448:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(s){return typeof s=="symbol"||i(s)&&r(s)=="[object Symbol]"}},6719:(t,e,n)=>{var r=n(8749),i=n(1717),s=n(1167),o=s&&s.isTypedArray,l=o?i(o):r;t.exports=l},2353:t=>{t.exports=function(e){return e===void 0}},3674:(t,e,n)=>{var r=n(4636),i=n(280),s=n(8612);t.exports=function(o){return s(o)?r(o):i(o)}},1704:(t,e,n)=>{var r=n(4636),i=n(313),s=n(8612);t.exports=function(o){return s(o)?r(o,!0):i(o)}},928:t=>{t.exports=function(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}},5161:(t,e,n)=>{var r=n(9932),i=n(7206),s=n(9199),o=n(1469);t.exports=function(l,d){return(o(l)?r:s)(l,i(d,3))}},6604:(t,e,n)=>{var r=n(9465),i=n(7816),s=n(7206);t.exports=function(o,l){var d={};return l=s(l,3),i(o,function(h,f,v){r(d,f,l(h,f,v))}),d}},6162:(t,e,n)=>{var r=n(6029),i=n(3325),s=n(6557);t.exports=function(o){return o&&o.length?r(o,s,i):void 0}},8306:(t,e,n)=>{var r=n(3369);function i(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError("Expected a function");var l=function(){var d=arguments,h=o?o.apply(this,d):d[0],f=l.cache;if(f.has(h))return f.get(h);var v=s.apply(this,d);return l.cache=f.set(h,v)||f,v};return l.cache=new(i.Cache||r),l}i.Cache=r,t.exports=i},3857:(t,e,n)=>{var r=n(2980),i=n(1750)(function(s,o,l){r(s,o,l)});t.exports=i},3632:(t,e,n)=>{var r=n(6029),i=n(433),s=n(6557);t.exports=function(o){return o&&o.length?r(o,s,i):void 0}},2762:(t,e,n)=>{var r=n(6029),i=n(7206),s=n(433);t.exports=function(o,l){return o&&o.length?r(o,i(l,2),s):void 0}},308:t=>{t.exports=function(){}},7771:(t,e,n)=>{var r=n(5639);t.exports=function(){return r.Date.now()}},9722:(t,e,n)=>{var r=n(5970),i=n(9021)(function(s,o){return s==null?{}:r(s,o)});t.exports=i},9601:(t,e,n)=>{var r=n(371),i=n(9152),s=n(5403),o=n(327);t.exports=function(l){return s(l)?r(o(l)):i(l)}},6026:(t,e,n)=>{var r=n(7445)();t.exports=r},4061:(t,e,n)=>{var r=n(2663),i=n(9881),s=n(7206),o=n(107),l=n(1469);t.exports=function(d,h,f){var v=l(d)?r:o,w=arguments.length<3;return v(d,s(h,4),f,w,i)}},4238:(t,e,n)=>{var r=n(280),i=n(4160),s=n(8612),o=n(7037),l=n(8016);t.exports=function(d){if(d==null)return 0;if(s(d))return o(d)?l(d):d.length;var h=i(d);return h=="[object Map]"||h=="[object Set]"?d.size:r(d).length}},9734:(t,e,n)=>{var r=n(1078),i=n(9556),s=n(5976),o=n(6612),l=s(function(d,h){if(d==null)return[];var f=h.length;return f>1&&o(d,h[0],h[1])?h=[]:f>2&&o(h[0],h[1],h[2])&&(h=[h[0]]),i(d,r(h,1),[])});t.exports=l},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(i){return i?(i=r(i))===1/0||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:i===0?i:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(i){var s=r(i),o=s%1;return s==s?o?s-o:s:0}},4841:(t,e,n)=>{var r=n(7561),i=n(3218),s=n(3448),o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt;t.exports=function(f){if(typeof f=="number")return f;if(s(f))return NaN;if(i(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=i(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=r(f);var w=l.test(f);return w||d.test(f)?h(f.slice(2),w?2:8):o.test(f)?NaN:+f}},3678:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(s){return r(s,i(s))}},9833:(t,e,n)=>{var r=n(531);t.exports=function(i){return i==null?"":r(i)}},8718:(t,e,n)=>{var r=n(7412),i=n(3118),s=n(7816),o=n(7206),l=n(5924),d=n(1469),h=n(4144),f=n(3560),v=n(3218),w=n(6719);t.exports=function(E,C,O){var M=d(E),A=M||h(E)||w(E);if(C=o(C,4),O==null){var D=E&&E.constructor;O=A?M?new D:[]:v(E)&&f(D)?i(l(E)):{}}return(A?r:s)(E,function(U,R,X){return C(O,U,R,X)}),O}},3386:(t,e,n)=>{var r=n(1078),i=n(5976),s=n(5652),o=n(9246),l=i(function(d){return s(r(d,1,o,!0))});t.exports=l},3955:(t,e,n)=>{var r=n(9833),i=0;t.exports=function(s){var o=++i;return r(s)+o}},2628:(t,e,n)=>{var r=n(7415),i=n(3674);t.exports=function(s){return s==null?[]:r(s,i(s))}},7287:(t,e,n)=>{var r=n(4865),i=n(1757);t.exports=function(s,o){return i(s||[],o||[],r)}},9234:()=>{},1748:(t,e,n)=>{var r={"./locale":9234,"./locale.js":9234};function i(o){var l=s(o);return n(l)}function s(o){if(!n.o(r,o)){var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}return r[o]}i.keys=function(){return Object.keys(r)},i.resolve=s,t.exports=i,i.id=1748},1941:function(t,e,n){(t=n.nmd(t)).exports=function(){var r,i;function s(){return r.apply(null,arguments)}function o(F){return F instanceof Array||Object.prototype.toString.call(F)==="[object Array]"}function l(F){return F!=null&&Object.prototype.toString.call(F)==="[object Object]"}function d(F){return F===void 0}function h(F){return typeof F=="number"||Object.prototype.toString.call(F)==="[object Number]"}function f(F){return F instanceof Date||Object.prototype.toString.call(F)==="[object Date]"}function v(F,J){var fe,Me=[];for(fe=0;fe<F.length;++fe)Me.push(J(F[fe],fe));return Me}function w(F,J){return Object.prototype.hasOwnProperty.call(F,J)}function E(F,J){for(var fe in J)w(J,fe)&&(F[fe]=J[fe]);return w(J,"toString")&&(F.toString=J.toString),w(J,"valueOf")&&(F.valueOf=J.valueOf),F}function C(F,J,fe,Me){return Ss(F,J,fe,Me,!0).utc()}function O(F){return F._pf==null&&(F._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),F._pf}function M(F){if(F._isValid==null){var J=O(F),fe=i.call(J.parsedDateParts,function(vt){return vt!=null}),Me=!isNaN(F._d.getTime())&&J.overflow<0&&!J.empty&&!J.invalidMonth&&!J.invalidWeekday&&!J.weekdayMismatch&&!J.nullInput&&!J.invalidFormat&&!J.userInvalidated&&(!J.meridiem||J.meridiem&&fe);if(F._strict&&(Me=Me&&J.charsLeftOver===0&&J.unusedTokens.length===0&&J.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(F))return Me;F._isValid=Me}return F._isValid}function A(F){var J=C(NaN);return F!=null?E(O(J),F):O(J).userInvalidated=!0,J}i=Array.prototype.some?Array.prototype.some:function(F){for(var J=Object(this),fe=J.length>>>0,Me=0;Me<fe;Me++)if(Me in J&&F.call(this,J[Me],Me,J))return!0;return!1};var D=s.momentProperties=[];function U(F,J){var fe,Me,vt;if(d(J._isAMomentObject)||(F._isAMomentObject=J._isAMomentObject),d(J._i)||(F._i=J._i),d(J._f)||(F._f=J._f),d(J._l)||(F._l=J._l),d(J._strict)||(F._strict=J._strict),d(J._tzm)||(F._tzm=J._tzm),d(J._isUTC)||(F._isUTC=J._isUTC),d(J._offset)||(F._offset=J._offset),d(J._pf)||(F._pf=O(J)),d(J._locale)||(F._locale=J._locale),0<D.length)for(fe=0;fe<D.length;fe++)d(vt=J[Me=D[fe]])||(F[Me]=vt);return F}var R=!1;function X(F){U(this,F),this._d=new Date(F._d!=null?F._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),R===!1&&(R=!0,s.updateOffset(this),R=!1)}function H(F){return F instanceof X||F!=null&&F._isAMomentObject!=null}function K(F){return F<0?Math.ceil(F)||0:Math.floor(F)}function W(F){var J=+F,fe=0;return J!==0&&isFinite(J)&&(fe=K(J)),fe}function Z(F,J,fe){var Me,vt=Math.min(F.length,J.length),Ft=Math.abs(F.length-J.length),Wt=0;for(Me=0;Me<vt;Me++)(fe&&F[Me]!==J[Me]||!fe&&W(F[Me])!==W(J[Me]))&&Wt++;return Wt+Ft}function ie(F){s.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+F)}function se(F,J){var fe=!0;return E(function(){if(s.deprecationHandler!=null&&s.deprecationHandler(null,F),fe){for(var Me,vt=[],Ft=0;Ft<arguments.length;Ft++){if(Me="",typeof arguments[Ft]=="object"){for(var Wt in Me+=`
[`+Ft+"] ",arguments[0])Me+=Wt+": "+arguments[0][Wt]+", ";Me=Me.slice(0,-2)}else Me=arguments[Ft];vt.push(Me)}ie(F+`
Arguments: `+Array.prototype.slice.call(vt).join("")+`
`+new Error().stack),fe=!1}return J.apply(this,arguments)},J)}var oe,Q={};function ae(F,J){s.deprecationHandler!=null&&s.deprecationHandler(F,J),Q[F]||(ie(J),Q[F]=!0)}function he(F){return F instanceof Function||Object.prototype.toString.call(F)==="[object Function]"}function Ee(F,J){var fe,Me=E({},F);for(fe in J)w(J,fe)&&(l(F[fe])&&l(J[fe])?(Me[fe]={},E(Me[fe],F[fe]),E(Me[fe],J[fe])):J[fe]!=null?Me[fe]=J[fe]:delete Me[fe]);for(fe in F)w(F,fe)&&!w(J,fe)&&l(F[fe])&&(Me[fe]=E({},Me[fe]));return Me}function De(F){F!=null&&this.set(F)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null,oe=Object.keys?Object.keys:function(F){var J,fe=[];for(J in F)w(F,J)&&fe.push(J);return fe};var qe={};function _e(F,J){var fe=F.toLowerCase();qe[fe]=qe[fe+"s"]=qe[J]=F}function xe(F){return typeof F=="string"?qe[F]||qe[F.toLowerCase()]:void 0}function Se(F){var J,fe,Me={};for(fe in F)w(F,fe)&&(J=xe(fe))&&(Me[J]=F[fe]);return Me}var Ie={};function Ye(F,J){Ie[F]=J}function Le(F,J,fe){var Me=""+Math.abs(F),vt=J-Me.length;return(0<=F?fe?"+":"":"-")+Math.pow(10,Math.max(0,vt)).toString().substr(1)+Me}var Nt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ze={},nt={};function me(F,J,fe,Me){var vt=Me;typeof Me=="string"&&(vt=function(){return this[Me]()}),F&&(nt[F]=vt),J&&(nt[J[0]]=function(){return Le(vt.apply(this,arguments),J[1],J[2])}),fe&&(nt[fe]=function(){return this.localeData().ordinal(vt.apply(this,arguments),F)})}function ut(F,J){return F.isValid()?(J=Ve(J,F.localeData()),ze[J]=ze[J]||function(fe){var Me,vt,Ft,Wt=fe.match(Nt);for(Me=0,vt=Wt.length;Me<vt;Me++)nt[Wt[Me]]?Wt[Me]=nt[Wt[Me]]:Wt[Me]=(Ft=Wt[Me]).match(/\[[\s\S]/)?Ft.replace(/^\[|\]$/g,""):Ft.replace(/\\/g,"");return function(dn){var hn,kn="";for(hn=0;hn<vt;hn++)kn+=he(Wt[hn])?Wt[hn].call(dn,fe):Wt[hn];return kn}}(J),ze[J](F)):F.localeData().invalidDate()}function Ve(F,J){var fe=5;function Me(vt){return J.longDateFormat(vt)||vt}for(pt.lastIndex=0;0<=fe&&pt.test(F);)F=F.replace(pt,Me),pt.lastIndex=0,fe-=1;return F}var dt=/\d/,ot=/\d\d/,Ze=/\d{3}/,kt=/\d{4}/,ln=/[+-]?\d{6}/,Ht=/\d\d?/,nn=/\d\d\d\d?/,qn=/\d\d\d\d\d\d?/,_n=/\d{1,3}/,rn=/\d{1,4}/,Yt=/[+-]?\d{1,6}/,gn=/\d+/,cn=/[+-]?\d+/,Et=/Z|[+-]\d\d:?\d\d/gi,it=/Z|[+-]\d\d(?::?\d\d)?/gi,Qe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Pt={};function St(F,J,fe){Pt[F]=he(J)?J:function(Me,vt){return Me&&fe?fe:J}}function Ut(F,J){return w(Pt,F)?Pt[F](J._strict,J._locale):new RegExp(tn(F.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(fe,Me,vt,Ft,Wt){return Me||vt||Ft||Wt})))}function tn(F){return F.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Pn={};function yn(F,J){var fe,Me=J;for(typeof F=="string"&&(F=[F]),h(J)&&(Me=function(vt,Ft){Ft[J]=W(vt)}),fe=0;fe<F.length;fe++)Pn[F[fe]]=Me}function Yn(F,J){yn(F,function(fe,Me,vt,Ft){vt._w=vt._w||{},J(fe,vt._w,vt,Ft)})}function un(F){return vn(F)?366:365}function vn(F){return F%4==0&&F%100!=0||F%400==0}me("Y",0,0,function(){var F=this.year();return F<=9999?""+F:"+"+F}),me(0,["YY",2],0,function(){return this.year()%100}),me(0,["YYYY",4],0,"year"),me(0,["YYYYY",5],0,"year"),me(0,["YYYYYY",6,!0],0,"year"),_e("year","y"),Ye("year",1),St("Y",cn),St("YY",Ht,ot),St("YYYY",rn,kt),St("YYYYY",Yt,ln),St("YYYYYY",Yt,ln),yn(["YYYYY","YYYYYY"],0),yn("YYYY",function(F,J){J[0]=F.length===2?s.parseTwoDigitYear(F):W(F)}),yn("YY",function(F,J){J[0]=s.parseTwoDigitYear(F)}),yn("Y",function(F,J){J[0]=parseInt(F,10)}),s.parseTwoDigitYear=function(F){return W(F)+(68<W(F)?1900:2e3)};var sn,zn=Un("FullYear",!0);function Un(F,J){return function(fe){return fe!=null?(Dn(this,F,fe),s.updateOffset(this,J),this):nr(this,F)}}function nr(F,J){return F.isValid()?F._d["get"+(F._isUTC?"UTC":"")+J]():NaN}function Dn(F,J,fe){F.isValid()&&!isNaN(fe)&&(J==="FullYear"&&vn(F.year())&&F.month()===1&&F.date()===29?F._d["set"+(F._isUTC?"UTC":"")+J](fe,F.month(),Vn(fe,F.month())):F._d["set"+(F._isUTC?"UTC":"")+J](fe))}function Vn(F,J){if(isNaN(F)||isNaN(J))return NaN;var fe=(J%12+12)%12;return F+=(J-fe)/12,fe===1?vn(F)?29:28:31-fe%7%2}sn=Array.prototype.indexOf?Array.prototype.indexOf:function(F){var J;for(J=0;J<this.length;++J)if(this[J]===F)return J;return-1},me("M",["MM",2],"Mo",function(){return this.month()+1}),me("MMM",0,0,function(F){return this.localeData().monthsShort(this,F)}),me("MMMM",0,0,function(F){return this.localeData().months(this,F)}),_e("month","M"),Ye("month",8),St("M",Ht),St("MM",Ht,ot),St("MMM",function(F,J){return J.monthsShortRegex(F)}),St("MMMM",function(F,J){return J.monthsRegex(F)}),yn(["M","MM"],function(F,J){J[1]=W(F)-1}),yn(["MMM","MMMM"],function(F,J,fe,Me){var vt=fe._locale.monthsParse(F,Me,fe._strict);vt!=null?J[1]=vt:O(fe).invalidMonth=F});var an=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Kt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function mn(F,J){var fe;if(!F.isValid())return F;if(typeof J=="string"){if(/^\d+$/.test(J))J=W(J);else if(!h(J=F.localeData().monthsParse(J)))return F}return fe=Math.min(F.date(),Vn(F.year(),J)),F._d["set"+(F._isUTC?"UTC":"")+"Month"](J,fe),F}function en(F){return F!=null?(mn(this,F),s.updateOffset(this,!0),this):nr(this,"Month")}var pn=Qe,Nn=Qe;function Hn(){function F(Wt,dn){return dn.length-Wt.length}var J,fe,Me=[],vt=[],Ft=[];for(J=0;J<12;J++)fe=C([2e3,J]),Me.push(this.monthsShort(fe,"")),vt.push(this.months(fe,"")),Ft.push(this.months(fe,"")),Ft.push(this.monthsShort(fe,""));for(Me.sort(F),vt.sort(F),Ft.sort(F),J=0;J<12;J++)Me[J]=tn(Me[J]),vt[J]=tn(vt[J]);for(J=0;J<24;J++)Ft[J]=tn(Ft[J]);this._monthsRegex=new RegExp("^("+Ft.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+vt.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Me.join("|")+")","i")}function Cn(F){var J;if(F<100&&0<=F){var fe=Array.prototype.slice.call(arguments);fe[0]=F+400,J=new Date(Date.UTC.apply(null,fe)),isFinite(J.getUTCFullYear())&&J.setUTCFullYear(F)}else J=new Date(Date.UTC.apply(null,arguments));return J}function tr(F,J,fe){var Me=7+J-fe;return-(7+Cn(F,0,Me).getUTCDay()-J)%7+Me-1}function Jn(F,J,fe,Me,vt){var Ft,Wt,dn=1+7*(J-1)+(7+fe-Me)%7+tr(F,Me,vt);return Wt=dn<=0?un(Ft=F-1)+dn:dn>un(F)?(Ft=F+1,dn-un(F)):(Ft=F,dn),{year:Ft,dayOfYear:Wt}}function Ii(F,J,fe){var Me,vt,Ft=tr(F.year(),J,fe),Wt=Math.floor((F.dayOfYear()-Ft-1)/7)+1;return Wt<1?Me=Wt+ce(vt=F.year()-1,J,fe):Wt>ce(F.year(),J,fe)?(Me=Wt-ce(F.year(),J,fe),vt=F.year()+1):(vt=F.year(),Me=Wt),{week:Me,year:vt}}function ce(F,J,fe){var Me=tr(F,J,fe),vt=tr(F+1,J,fe);return(un(F)-Me+vt)/7}function be(F,J){return F.slice(J,7).concat(F.slice(0,J))}me("w",["ww",2],"wo","week"),me("W",["WW",2],"Wo","isoWeek"),_e("week","w"),_e("isoWeek","W"),Ye("week",5),Ye("isoWeek",5),St("w",Ht),St("ww",Ht,ot),St("W",Ht),St("WW",Ht,ot),Yn(["w","ww","W","WW"],function(F,J,fe,Me){J[Me.substr(0,1)]=W(F)}),me("d",0,"do","day"),me("dd",0,0,function(F){return this.localeData().weekdaysMin(this,F)}),me("ddd",0,0,function(F){return this.localeData().weekdaysShort(this,F)}),me("dddd",0,0,function(F){return this.localeData().weekdays(this,F)}),me("e",0,0,"weekday"),me("E",0,0,"isoWeekday"),_e("day","d"),_e("weekday","e"),_e("isoWeekday","E"),Ye("day",11),Ye("weekday",11),Ye("isoWeekday",11),St("d",Ht),St("e",Ht),St("E",Ht),St("dd",function(F,J){return J.weekdaysMinRegex(F)}),St("ddd",function(F,J){return J.weekdaysShortRegex(F)}),St("dddd",function(F,J){return J.weekdaysRegex(F)}),Yn(["dd","ddd","dddd"],function(F,J,fe,Me){var vt=fe._locale.weekdaysParse(F,Me,fe._strict);vt!=null?J.d=vt:O(fe).invalidWeekday=F}),Yn(["d","e","E"],function(F,J,fe,Me){J[Me]=W(F)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),we="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Oe=Qe,ge=Qe,Re=Qe;function Be(){function F($n,mr){return mr.length-$n.length}var J,fe,Me,vt,Ft,Wt=[],dn=[],hn=[],kn=[];for(J=0;J<7;J++)fe=C([2e3,1]).day(J),Me=this.weekdaysMin(fe,""),vt=this.weekdaysShort(fe,""),Ft=this.weekdays(fe,""),Wt.push(Me),dn.push(vt),hn.push(Ft),kn.push(Me),kn.push(vt),kn.push(Ft);for(Wt.sort(F),dn.sort(F),hn.sort(F),kn.sort(F),J=0;J<7;J++)dn[J]=tn(dn[J]),hn[J]=tn(hn[J]),kn[J]=tn(kn[J]);this._weekdaysRegex=new RegExp("^("+kn.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+hn.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+dn.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Wt.join("|")+")","i")}function _t(){return this.hours()%12||12}function At(F,J){me(F,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),J)})}function Lt(F,J){return J._meridiemParse}me("H",["HH",2],0,"hour"),me("h",["hh",2],0,_t),me("k",["kk",2],0,function(){return this.hours()||24}),me("hmm",0,0,function(){return""+_t.apply(this)+Le(this.minutes(),2)}),me("hmmss",0,0,function(){return""+_t.apply(this)+Le(this.minutes(),2)+Le(this.seconds(),2)}),me("Hmm",0,0,function(){return""+this.hours()+Le(this.minutes(),2)}),me("Hmmss",0,0,function(){return""+this.hours()+Le(this.minutes(),2)+Le(this.seconds(),2)}),At("a",!0),At("A",!1),_e("hour","h"),Ye("hour",13),St("a",Lt),St("A",Lt),St("H",Ht),St("h",Ht),St("k",Ht),St("HH",Ht,ot),St("hh",Ht,ot),St("kk",Ht,ot),St("hmm",nn),St("hmmss",qn),St("Hmm",nn),St("Hmmss",qn),yn(["H","HH"],3),yn(["k","kk"],function(F,J,fe){var Me=W(F);J[3]=Me===24?0:Me}),yn(["a","A"],function(F,J,fe){fe._isPm=fe._locale.isPM(F),fe._meridiem=F}),yn(["h","hh"],function(F,J,fe){J[3]=W(F),O(fe).bigHour=!0}),yn("hmm",function(F,J,fe){var Me=F.length-2;J[3]=W(F.substr(0,Me)),J[4]=W(F.substr(Me)),O(fe).bigHour=!0}),yn("hmmss",function(F,J,fe){var Me=F.length-4,vt=F.length-2;J[3]=W(F.substr(0,Me)),J[4]=W(F.substr(Me,2)),J[5]=W(F.substr(vt)),O(fe).bigHour=!0}),yn("Hmm",function(F,J,fe){var Me=F.length-2;J[3]=W(F.substr(0,Me)),J[4]=W(F.substr(Me))}),yn("Hmmss",function(F,J,fe){var Me=F.length-4,vt=F.length-2;J[3]=W(F.substr(0,Me)),J[4]=W(F.substr(Me,2)),J[5]=W(F.substr(vt))});var yt,qt=Un("Hours",!0),Rn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Gn,monthsShort:Kt,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:we,weekdaysShort:Bt,meridiemParse:/[ap]\.?m?\.?/i},Bn={},dr={};function Mr(F){return F&&F.toLowerCase().replace("_","-")}function rr(F){var J=null;if(!Bn[F]&&t&&t.exports)try{J=yt._abbr,n(1748)("./"+F),Or(J)}catch{}return Bn[F]}function Or(F,J){var fe;return F&&((fe=d(J)?Qn(F):ei(F,J))?yt=fe:typeof console!="undefined"&&console.warn&&console.warn("Locale "+F+" not found. Did you forget to load it?")),yt._abbr}function ei(F,J){if(J===null)return delete Bn[F],null;var fe,Me=Rn;if(J.abbr=F,Bn[F]!=null)ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Me=Bn[F]._config;else if(J.parentLocale!=null)if(Bn[J.parentLocale]!=null)Me=Bn[J.parentLocale]._config;else{if((fe=rr(J.parentLocale))==null)return dr[J.parentLocale]||(dr[J.parentLocale]=[]),dr[J.parentLocale].push({name:F,config:J}),null;Me=fe._config}return Bn[F]=new De(Ee(Me,J)),dr[F]&&dr[F].forEach(function(vt){ei(vt.name,vt.config)}),Or(F),Bn[F]}function Qn(F){var J;if(F&&F._locale&&F._locale._abbr&&(F=F._locale._abbr),!F)return yt;if(!o(F)){if(J=rr(F))return J;F=[F]}return function(fe){for(var Me,vt,Ft,Wt,dn=0;dn<fe.length;){for(Me=(Wt=Mr(fe[dn]).split("-")).length,vt=(vt=Mr(fe[dn+1]))?vt.split("-"):null;0<Me;){if(Ft=rr(Wt.slice(0,Me).join("-")))return Ft;if(vt&&vt.length>=Me&&Z(Wt,vt,!0)>=Me-1)break;Me--}dn++}return yt}(F)}function Sn(F){var J,fe=F._a;return fe&&O(F).overflow===-2&&(J=fe[1]<0||11<fe[1]?1:fe[2]<1||fe[2]>Vn(fe[0],fe[1])?2:fe[3]<0||24<fe[3]||fe[3]===24&&(fe[4]!==0||fe[5]!==0||fe[6]!==0)?3:fe[4]<0||59<fe[4]?4:fe[5]<0||59<fe[5]?5:fe[6]<0||999<fe[6]?6:-1,O(F)._overflowDayOfYear&&(J<0||2<J)&&(J=2),O(F)._overflowWeeks&&J===-1&&(J=7),O(F)._overflowWeekday&&J===-1&&(J=8),O(F).overflow=J),F}function gr(F,J,fe){return F!=null?F:J!=null?J:fe}function or(F){var J,fe,Me,vt,Ft,Wt=[];if(!F._d){var dn,hn;for(dn=F,hn=new Date(s.now()),Me=dn._useUTC?[hn.getUTCFullYear(),hn.getUTCMonth(),hn.getUTCDate()]:[hn.getFullYear(),hn.getMonth(),hn.getDate()],F._w&&F._a[2]==null&&F._a[1]==null&&function(kn){var $n,mr,ar,Wr,Yr,Mi,Vr,na;if(($n=kn._w).GG!=null||$n.W!=null||$n.E!=null)Yr=1,Mi=4,mr=gr($n.GG,kn._a[0],Ii(hr(),1,4).year),ar=gr($n.W,1),((Wr=gr($n.E,1))<1||7<Wr)&&(na=!0);else{Yr=kn._locale._week.dow,Mi=kn._locale._week.doy;var Eu=Ii(hr(),Yr,Mi);mr=gr($n.gg,kn._a[0],Eu.year),ar=gr($n.w,Eu.week),$n.d!=null?((Wr=$n.d)<0||6<Wr)&&(na=!0):$n.e!=null?(Wr=$n.e+Yr,($n.e<0||6<$n.e)&&(na=!0)):Wr=Yr}ar<1||ar>ce(mr,Yr,Mi)?O(kn)._overflowWeeks=!0:na!=null?O(kn)._overflowWeekday=!0:(Vr=Jn(mr,ar,Wr,Yr,Mi),kn._a[0]=Vr.year,kn._dayOfYear=Vr.dayOfYear)}(F),F._dayOfYear!=null&&(Ft=gr(F._a[0],Me[0]),(F._dayOfYear>un(Ft)||F._dayOfYear===0)&&(O(F)._overflowDayOfYear=!0),fe=Cn(Ft,0,F._dayOfYear),F._a[1]=fe.getUTCMonth(),F._a[2]=fe.getUTCDate()),J=0;J<3&&F._a[J]==null;++J)F._a[J]=Wt[J]=Me[J];for(;J<7;J++)F._a[J]=Wt[J]=F._a[J]==null?J===2?1:0:F._a[J];F._a[3]===24&&F._a[4]===0&&F._a[5]===0&&F._a[6]===0&&(F._nextDay=!0,F._a[3]=0),F._d=(F._useUTC?Cn:function(kn,$n,mr,ar,Wr,Yr,Mi){var Vr;return kn<100&&0<=kn?(Vr=new Date(kn+400,$n,mr,ar,Wr,Yr,Mi),isFinite(Vr.getFullYear())&&Vr.setFullYear(kn)):Vr=new Date(kn,$n,mr,ar,Wr,Yr,Mi),Vr}).apply(null,Wt),vt=F._useUTC?F._d.getUTCDay():F._d.getDay(),F._tzm!=null&&F._d.setUTCMinutes(F._d.getUTCMinutes()-F._tzm),F._nextDay&&(F._a[3]=24),F._w&&F._w.d!==void 0&&F._w.d!==vt&&(O(F).weekdayMismatch=!0)}}var fn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fe=/Z|[+-]\d\d(?::?\d\d)?/,fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qi=/^\/?Date\((\-?\d+)/i;function cs(F){var J,fe,Me,vt,Ft,Wt,dn=F._i,hn=fn.exec(dn)||_r.exec(dn);if(hn){for(O(F).iso=!0,J=0,fe=fi.length;J<fe;J++)if(fi[J][1].exec(hn[1])){vt=fi[J][0],Me=fi[J][2]!==!1;break}if(vt==null)return void(F._isValid=!1);if(hn[3]){for(J=0,fe=gt.length;J<fe;J++)if(gt[J][1].exec(hn[3])){Ft=(hn[2]||" ")+gt[J][0];break}if(Ft==null)return void(F._isValid=!1)}if(!Me&&Ft!=null)return void(F._isValid=!1);if(hn[4]){if(!Fe.exec(hn[4]))return void(F._isValid=!1);Wt="Z"}F._f=vt+(Ft||"")+(Wt||""),Qo(F)}else F._isValid=!1}var Ps=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Jo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function No(F){var J,fe,Me,vt=Ps.exec(F._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(vt){var Ft=function(Wt,dn,hn,kn,$n,mr){var ar=[function(Wr){var Yr=parseInt(Wr,10);return Yr<=49?2e3+Yr:Yr<=999?1900+Yr:Yr}(Wt),Kt.indexOf(dn),parseInt(hn,10),parseInt(kn,10),parseInt($n,10)];return mr&&ar.push(parseInt(mr,10)),ar}(vt[4],vt[3],vt[2],vt[5],vt[6],vt[7]);if(fe=Ft,Me=F,(J=vt[1])&&Bt.indexOf(J)!==new Date(fe[0],fe[1],fe[2]).getDay()&&(O(Me).weekdayMismatch=!0,!(Me._isValid=!1)))return;F._a=Ft,F._tzm=function(Wt,dn,hn){if(Wt)return Jo[Wt];if(dn)return 0;var kn=parseInt(hn,10),$n=kn%100;return(kn-$n)/100*60+$n}(vt[8],vt[9],vt[10]),F._d=Cn.apply(null,F._a),F._d.setUTCMinutes(F._d.getUTCMinutes()-F._tzm),O(F).rfc2822=!0}else F._isValid=!1}function Qo(F){if(F._f!==s.ISO_8601)if(F._f!==s.RFC_2822){F._a=[],O(F).empty=!0;var J,fe,Me,vt,Ft,Wt,dn,hn,kn=""+F._i,$n=kn.length,mr=0;for(Me=Ve(F._f,F._locale).match(Nt)||[],J=0;J<Me.length;J++)vt=Me[J],(fe=(kn.match(Ut(vt,F))||[])[0])&&(0<(Ft=kn.substr(0,kn.indexOf(fe))).length&&O(F).unusedInput.push(Ft),kn=kn.slice(kn.indexOf(fe)+fe.length),mr+=fe.length),nt[vt]?(fe?O(F).empty=!1:O(F).unusedTokens.push(vt),Wt=vt,hn=F,(dn=fe)!=null&&w(Pn,Wt)&&Pn[Wt](dn,hn._a,hn,Wt)):F._strict&&!fe&&O(F).unusedTokens.push(vt);O(F).charsLeftOver=$n-mr,0<kn.length&&O(F).unusedInput.push(kn),F._a[3]<=12&&O(F).bigHour===!0&&0<F._a[3]&&(O(F).bigHour=void 0),O(F).parsedDateParts=F._a.slice(0),O(F).meridiem=F._meridiem,F._a[3]=function(ar,Wr,Yr){var Mi;return Yr==null?Wr:ar.meridiemHour!=null?ar.meridiemHour(Wr,Yr):(ar.isPM!=null&&((Mi=ar.isPM(Yr))&&Wr<12&&(Wr+=12),Mi||Wr!==12||(Wr=0)),Wr)}(F._locale,F._a[3],F._meridiem),or(F),Sn(F)}else No(F);else cs(F)}function xi(F){var J,fe,Me,vt,Ft=F._i,Wt=F._f;return F._locale=F._locale||Qn(F._l),Ft===null||Wt===void 0&&Ft===""?A({nullInput:!0}):(typeof Ft=="string"&&(F._i=Ft=F._locale.preparse(Ft)),H(Ft)?new X(Sn(Ft)):(f(Ft)?F._d=Ft:o(Wt)?function(dn){var hn,kn,$n,mr,ar;if(dn._f.length===0)return O(dn).invalidFormat=!0,dn._d=new Date(NaN);for(mr=0;mr<dn._f.length;mr++)ar=0,hn=U({},dn),dn._useUTC!=null&&(hn._useUTC=dn._useUTC),hn._f=dn._f[mr],Qo(hn),M(hn)&&(ar+=O(hn).charsLeftOver,ar+=10*O(hn).unusedTokens.length,O(hn).score=ar,($n==null||ar<$n)&&($n=ar,kn=hn));E(dn,kn||hn)}(F):Wt?Qo(F):d(fe=(J=F)._i)?J._d=new Date(s.now()):f(fe)?J._d=new Date(fe.valueOf()):typeof fe=="string"?(Me=J,(vt=qi.exec(Me._i))===null?(cs(Me),Me._isValid===!1&&(delete Me._isValid,No(Me),Me._isValid===!1&&(delete Me._isValid,s.createFromInputFallback(Me)))):Me._d=new Date(+vt[1])):o(fe)?(J._a=v(fe.slice(0),function(dn){return parseInt(dn,10)}),or(J)):l(fe)?function(dn){if(!dn._d){var hn=Se(dn._i);dn._a=v([hn.year,hn.month,hn.day||hn.date,hn.hour,hn.minute,hn.second,hn.millisecond],function(kn){return kn&&parseInt(kn,10)}),or(dn)}}(J):h(fe)?J._d=new Date(fe):s.createFromInputFallback(J),M(F)||(F._d=null),F))}function Ss(F,J,fe,Me,vt){var Ft,Wt={};return fe!==!0&&fe!==!1||(Me=fe,fe=void 0),(l(F)&&function(dn){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(dn).length===0;var hn;for(hn in dn)if(dn.hasOwnProperty(hn))return!1;return!0}(F)||o(F)&&F.length===0)&&(F=void 0),Wt._isAMomentObject=!0,Wt._useUTC=Wt._isUTC=vt,Wt._l=fe,Wt._i=F,Wt._f=J,Wt._strict=Me,(Ft=new X(Sn(xi(Wt))))._nextDay&&(Ft.add(1,"d"),Ft._nextDay=void 0),Ft}function hr(F,J,fe,Me){return Ss(F,J,fe,Me,!1)}s.createFromInputFallback=se("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(F){F._d=new Date(F._i+(F._useUTC?" UTC":""))}),s.ISO_8601=function(){},s.RFC_2822=function(){};var xs=se("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var F=hr.apply(null,arguments);return this.isValid()&&F.isValid()?F<this?this:F:A()}),Bo=se("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var F=hr.apply(null,arguments);return this.isValid()&&F.isValid()?this<F?this:F:A()});function ri(F,J){var fe,Me;if(J.length===1&&o(J[0])&&(J=J[0]),!J.length)return hr();for(fe=J[0],Me=1;Me<J.length;++Me)J[Me].isValid()&&!J[Me][F](fe)||(fe=J[Me]);return fe}var bi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ks(F){var J=Se(F),fe=J.year||0,Me=J.quarter||0,vt=J.month||0,Ft=J.week||J.isoWeek||0,Wt=J.day||0,dn=J.hour||0,hn=J.minute||0,kn=J.second||0,$n=J.millisecond||0;this._isValid=function(mr){for(var ar in mr)if(sn.call(bi,ar)===-1||mr[ar]!=null&&isNaN(mr[ar]))return!1;for(var Wr=!1,Yr=0;Yr<bi.length;++Yr)if(mr[bi[Yr]]){if(Wr)return!1;parseFloat(mr[bi[Yr]])!==W(mr[bi[Yr]])&&(Wr=!0)}return!0}(J),this._milliseconds=+$n+1e3*kn+6e4*hn+1e3*dn*60*60,this._days=+Wt+7*Ft,this._months=+vt+3*Me+12*fe,this._data={},this._locale=Qn(),this._bubble()}function es(F){return F instanceof ks}function Ni(F){return F<0?-1*Math.round(-1*F):Math.round(F)}function Bi(F,J){me(F,0,0,function(){var fe=this.utcOffset(),Me="+";return fe<0&&(fe=-fe,Me="-"),Me+Le(~~(fe/60),2)+J+Le(~~fe%60,2)})}Bi("Z",":"),Bi("ZZ",""),St("Z",it),St("ZZ",it),yn(["Z","ZZ"],function(F,J,fe){fe._useUTC=!0,fe._tzm=Wi(it,F)});var ps=/([\+\-]|\d\d)/gi;function Wi(F,J){var fe=(J||"").match(F);if(fe===null)return null;var Me=((fe[fe.length-1]||[])+"").match(ps)||["-",0,0],vt=60*Me[1]+W(Me[2]);return vt===0?0:Me[0]==="+"?vt:-vt}function yo(F,J){var fe,Me;return J._isUTC?(fe=J.clone(),Me=(H(F)||f(F)?F.valueOf():hr(F).valueOf())-fe.valueOf(),fe._d.setTime(fe._d.valueOf()+Me),s.updateOffset(fe,!1),fe):hr(F).local()}function to(F){return 15*-Math.round(F._d.getTimezoneOffset()/15)}function Ks(){return!!this.isValid()&&this._isUTC&&this._offset===0}s.updateOffset=function(){};var kl=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,st=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function In(F,J){var fe,Me,vt,Ft=F,Wt=null;return es(F)?Ft={ms:F._milliseconds,d:F._days,M:F._months}:h(F)?(Ft={},J?Ft[J]=F:Ft.milliseconds=F):(Wt=kl.exec(F))?(fe=Wt[1]==="-"?-1:1,Ft={y:0,d:W(Wt[2])*fe,h:W(Wt[3])*fe,m:W(Wt[4])*fe,s:W(Wt[5])*fe,ms:W(Ni(1e3*Wt[6]))*fe}):(Wt=st.exec(F))?(fe=Wt[1]==="-"?-1:1,Ft={y:xn(Wt[2],fe),M:xn(Wt[3],fe),w:xn(Wt[4],fe),d:xn(Wt[5],fe),h:xn(Wt[6],fe),m:xn(Wt[7],fe),s:xn(Wt[8],fe)}):Ft==null?Ft={}:typeof Ft=="object"&&("from"in Ft||"to"in Ft)&&(vt=function(dn,hn){var kn;return dn.isValid()&&hn.isValid()?(hn=yo(hn,dn),dn.isBefore(hn)?kn=ii(dn,hn):((kn=ii(hn,dn)).milliseconds=-kn.milliseconds,kn.months=-kn.months),kn):{milliseconds:0,months:0}}(hr(Ft.from),hr(Ft.to)),(Ft={}).ms=vt.milliseconds,Ft.M=vt.months),Me=new ks(Ft),es(F)&&w(F,"_locale")&&(Me._locale=F._locale),Me}function xn(F,J){var fe=F&&parseFloat(F.replace(",","."));return(isNaN(fe)?0:fe)*J}function ii(F,J){var fe={};return fe.months=J.month()-F.month()+12*(J.year()-F.year()),F.clone().add(fe.months,"M").isAfter(J)&&--fe.months,fe.milliseconds=+J-+F.clone().add(fe.months,"M"),fe}function hi(F,J){return function(fe,Me){var vt;return Me===null||isNaN(+Me)||(ae(J,"moment()."+J+"(period, number) is deprecated. Please use moment()."+J+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),vt=fe,fe=Me,Me=vt),Ts(this,In(fe=typeof fe=="string"?+fe:fe,Me),F),this}}function Ts(F,J,fe,Me){var vt=J._milliseconds,Ft=Ni(J._days),Wt=Ni(J._months);F.isValid()&&(Me=Me==null||Me,Wt&&mn(F,nr(F,"Month")+Wt*fe),Ft&&Dn(F,"Date",nr(F,"Date")+Ft*fe),vt&&F._d.setTime(F._d.valueOf()+vt*fe),Me&&s.updateOffset(F,Ft||Wt))}In.fn=ks.prototype,In.invalid=function(){return In(NaN)};var ts=hi(1,"add"),_u=hi(-1,"subtract");function $o(F,J){var fe=12*(J.year()-F.year())+(J.month()-F.month()),Me=F.clone().add(fe,"months");return-(fe+(J-Me<0?(J-Me)/(Me-F.clone().add(fe-1,"months")):(J-Me)/(F.clone().add(fe+1,"months")-Me)))||0}function $i(F){var J;return F===void 0?this._locale._abbr:((J=Qn(F))!=null&&(this._locale=J),this)}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var wd=se("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(F){return F===void 0?this.localeData():this.locale(F)});function el(){return this._locale}var Pf=126227808e5;function Tl(F,J){return(F%J+J)%J}function Df(F,J,fe){return F<100&&0<=F?new Date(F+400,J,fe)-Pf:new Date(F,J,fe).valueOf()}function no(F,J,fe){return F<100&&0<=F?Date.UTC(F+400,J,fe)-Pf:Date.UTC(F,J,fe)}function ns(F,J){me(0,[F,F.length],0,J)}function Rp(F,J,fe,Me,vt){var Ft;return F==null?Ii(this,Me,vt).year:((Ft=ce(F,Me,vt))<J&&(J=Ft),function(Wt,dn,hn,kn,$n){var mr=Jn(Wt,dn,hn,kn,$n),ar=Cn(mr.year,0,mr.dayOfYear);return this.year(ar.getUTCFullYear()),this.month(ar.getUTCMonth()),this.date(ar.getUTCDate()),this}.call(this,F,J,fe,Me,vt))}me(0,["gg",2],0,function(){return this.weekYear()%100}),me(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ns("gggg","weekYear"),ns("ggggg","weekYear"),ns("GGGG","isoWeekYear"),ns("GGGGG","isoWeekYear"),_e("weekYear","gg"),_e("isoWeekYear","GG"),Ye("weekYear",1),Ye("isoWeekYear",1),St("G",cn),St("g",cn),St("GG",Ht,ot),St("gg",Ht,ot),St("GGGG",rn,kt),St("gggg",rn,kt),St("GGGGG",Yt,ln),St("ggggg",Yt,ln),Yn(["gggg","ggggg","GGGG","GGGGG"],function(F,J,fe,Me){J[Me.substr(0,2)]=W(F)}),Yn(["gg","GG"],function(F,J,fe,Me){J[Me]=s.parseTwoDigitYear(F)}),me("Q",0,"Qo","quarter"),_e("quarter","Q"),Ye("quarter",7),St("Q",dt),yn("Q",function(F,J){J[1]=3*(W(F)-1)}),me("D",["DD",2],"Do","date"),_e("date","D"),Ye("date",9),St("D",Ht),St("DD",Ht,ot),St("Do",function(F,J){return F?J._dayOfMonthOrdinalParse||J._ordinalParse:J._dayOfMonthOrdinalParseLenient}),yn(["D","DD"],2),yn("Do",function(F,J){J[2]=W(F.match(Ht)[0])});var Mp=Un("Date",!0);me("DDD",["DDDD",3],"DDDo","dayOfYear"),_e("dayOfYear","DDD"),Ye("dayOfYear",4),St("DDD",_n),St("DDDD",Ze),yn(["DDD","DDDD"],function(F,J,fe){fe._dayOfYear=W(F)}),me("m",["mm",2],0,"minute"),_e("minute","m"),Ye("minute",14),St("m",Ht),St("mm",Ht,ot),yn(["m","mm"],4);var Op=Un("Minutes",!1);me("s",["ss",2],0,"second"),_e("second","s"),Ye("second",15),St("s",Ht),St("ss",Ht,ot),yn(["s","ss"],5);var tl,Lp=Un("Seconds",!1);for(me("S",0,0,function(){return~~(this.millisecond()/100)}),me(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),me(0,["SSS",3],0,"millisecond"),me(0,["SSSS",4],0,function(){return 10*this.millisecond()}),me(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),me(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),me(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),me(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),me(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),_e("millisecond","ms"),Ye("millisecond",16),St("S",_n,dt),St("SS",_n,ot),St("SSS",_n,Ze),tl="SSSS";tl.length<=9;tl+="S")St(tl,gn);function Ap(F,J){J[6]=W(1e3*("0."+F))}for(tl="S";tl.length<=9;tl+="S")yn(tl,Ap);var nl=Un("Milliseconds",!1);me("z",0,0,"zoneAbbr"),me("zz",0,0,"zoneName");var wn=X.prototype;function lm(F){return F}wn.add=ts,wn.calendar=function(F,J){var fe=F||hr(),Me=yo(fe,this).startOf("day"),vt=s.calendarFormat(this,Me)||"sameElse",Ft=J&&(he(J[vt])?J[vt].call(this,fe):J[vt]);return this.format(Ft||this.localeData().calendar(vt,this,hr(fe)))},wn.clone=function(){return new X(this)},wn.diff=function(F,J,fe){var Me,vt,Ft;if(!this.isValid())return NaN;if(!(Me=yo(F,this)).isValid())return NaN;switch(vt=6e4*(Me.utcOffset()-this.utcOffset()),J=xe(J)){case"year":Ft=$o(this,Me)/12;break;case"month":Ft=$o(this,Me);break;case"quarter":Ft=$o(this,Me)/3;break;case"second":Ft=(this-Me)/1e3;break;case"minute":Ft=(this-Me)/6e4;break;case"hour":Ft=(this-Me)/36e5;break;case"day":Ft=(this-Me-vt)/864e5;break;case"week":Ft=(this-Me-vt)/6048e5;break;default:Ft=this-Me}return fe?Ft:K(Ft)},wn.endOf=function(F){var J;if((F=xe(F))===void 0||F==="millisecond"||!this.isValid())return this;var fe=this._isUTC?no:Df;switch(F){case"year":J=fe(this.year()+1,0,1)-1;break;case"quarter":J=fe(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":J=fe(this.year(),this.month()+1,1)-1;break;case"week":J=fe(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":J=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":J=fe(this.year(),this.month(),this.date()+1)-1;break;case"hour":J=this._d.valueOf(),J+=36e5-Tl(J+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":J=this._d.valueOf(),J+=6e4-Tl(J,6e4)-1;break;case"second":J=this._d.valueOf(),J+=1e3-Tl(J,1e3)-1}return this._d.setTime(J),s.updateOffset(this,!0),this},wn.format=function(F){F||(F=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var J=ut(this,F);return this.localeData().postformat(J)},wn.from=function(F,J){return this.isValid()&&(H(F)&&F.isValid()||hr(F).isValid())?In({to:this,from:F}).locale(this.locale()).humanize(!J):this.localeData().invalidDate()},wn.fromNow=function(F){return this.from(hr(),F)},wn.to=function(F,J){return this.isValid()&&(H(F)&&F.isValid()||hr(F).isValid())?In({from:this,to:F}).locale(this.locale()).humanize(!J):this.localeData().invalidDate()},wn.toNow=function(F){return this.to(hr(),F)},wn.get=function(F){return he(this[F=xe(F)])?this[F]():this},wn.invalidAt=function(){return O(this).overflow},wn.isAfter=function(F,J){var fe=H(F)?F:hr(F);return!(!this.isValid()||!fe.isValid())&&((J=xe(J)||"millisecond")==="millisecond"?this.valueOf()>fe.valueOf():fe.valueOf()<this.clone().startOf(J).valueOf())},wn.isBefore=function(F,J){var fe=H(F)?F:hr(F);return!(!this.isValid()||!fe.isValid())&&((J=xe(J)||"millisecond")==="millisecond"?this.valueOf()<fe.valueOf():this.clone().endOf(J).valueOf()<fe.valueOf())},wn.isBetween=function(F,J,fe,Me){var vt=H(F)?F:hr(F),Ft=H(J)?J:hr(J);return!!(this.isValid()&&vt.isValid()&&Ft.isValid())&&((Me=Me||"()")[0]==="("?this.isAfter(vt,fe):!this.isBefore(vt,fe))&&(Me[1]===")"?this.isBefore(Ft,fe):!this.isAfter(Ft,fe))},wn.isSame=function(F,J){var fe,Me=H(F)?F:hr(F);return!(!this.isValid()||!Me.isValid())&&((J=xe(J)||"millisecond")==="millisecond"?this.valueOf()===Me.valueOf():(fe=Me.valueOf(),this.clone().startOf(J).valueOf()<=fe&&fe<=this.clone().endOf(J).valueOf()))},wn.isSameOrAfter=function(F,J){return this.isSame(F,J)||this.isAfter(F,J)},wn.isSameOrBefore=function(F,J){return this.isSame(F,J)||this.isBefore(F,J)},wn.isValid=function(){return M(this)},wn.lang=wd,wn.locale=$i,wn.localeData=el,wn.max=Bo,wn.min=xs,wn.parsingFlags=function(){return E({},O(this))},wn.set=function(F,J){if(typeof F=="object")for(var fe=function(vt){var Ft=[];for(var Wt in vt)Ft.push({unit:Wt,priority:Ie[Wt]});return Ft.sort(function(dn,hn){return dn.priority-hn.priority}),Ft}(F=Se(F)),Me=0;Me<fe.length;Me++)this[fe[Me].unit](F[fe[Me].unit]);else if(he(this[F=xe(F)]))return this[F](J);return this},wn.startOf=function(F){var J;if((F=xe(F))===void 0||F==="millisecond"||!this.isValid())return this;var fe=this._isUTC?no:Df;switch(F){case"year":J=fe(this.year(),0,1);break;case"quarter":J=fe(this.year(),this.month()-this.month()%3,1);break;case"month":J=fe(this.year(),this.month(),1);break;case"week":J=fe(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":J=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":J=fe(this.year(),this.month(),this.date());break;case"hour":J=this._d.valueOf(),J-=Tl(J+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":J=this._d.valueOf(),J-=Tl(J,6e4);break;case"second":J=this._d.valueOf(),J-=Tl(J,1e3)}return this._d.setTime(J),s.updateOffset(this,!0),this},wn.subtract=_u,wn.toArray=function(){var F=this;return[F.year(),F.month(),F.date(),F.hour(),F.minute(),F.second(),F.millisecond()]},wn.toObject=function(){var F=this;return{years:F.year(),months:F.month(),date:F.date(),hours:F.hours(),minutes:F.minutes(),seconds:F.seconds(),milliseconds:F.milliseconds()}},wn.toDate=function(){return new Date(this.valueOf())},wn.toISOString=function(F){if(!this.isValid())return null;var J=F!==!0,fe=J?this.clone().utc():this;return fe.year()<0||9999<fe.year()?ut(fe,J?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):he(Date.prototype.toISOString)?J?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ut(fe,"Z")):ut(fe,J?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var F="moment",J="";this.isLocal()||(F=this.utcOffset()===0?"moment.utc":"moment.parseZone",J="Z");var fe="["+F+'("]',Me=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",vt=J+'[")]';return this.format(fe+Me+"-MM-DD[T]HH:mm:ss.SSS"+vt)},wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wn.year=zn,wn.isLeapYear=function(){return vn(this.year())},wn.weekYear=function(F){return Rp.call(this,F,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wn.isoWeekYear=function(F){return Rp.call(this,F,this.isoWeek(),this.isoWeekday(),1,4)},wn.quarter=wn.quarters=function(F){return F==null?Math.ceil((this.month()+1)/3):this.month(3*(F-1)+this.month()%3)},wn.month=en,wn.daysInMonth=function(){return Vn(this.year(),this.month())},wn.week=wn.weeks=function(F){var J=this.localeData().week(this);return F==null?J:this.add(7*(F-J),"d")},wn.isoWeek=wn.isoWeeks=function(F){var J=Ii(this,1,4).week;return F==null?J:this.add(7*(F-J),"d")},wn.weeksInYear=function(){var F=this.localeData()._week;return ce(this.year(),F.dow,F.doy)},wn.isoWeeksInYear=function(){return ce(this.year(),1,4)},wn.date=Mp,wn.day=wn.days=function(F){if(!this.isValid())return F!=null?this:NaN;var J,fe,Me=this._isUTC?this._d.getUTCDay():this._d.getDay();return F!=null?(J=F,fe=this.localeData(),F=typeof J!="string"?J:isNaN(J)?typeof(J=fe.weekdaysParse(J))=="number"?J:null:parseInt(J,10),this.add(F-Me,"d")):Me},wn.weekday=function(F){if(!this.isValid())return F!=null?this:NaN;var J=(this.day()+7-this.localeData()._week.dow)%7;return F==null?J:this.add(F-J,"d")},wn.isoWeekday=function(F){if(!this.isValid())return F!=null?this:NaN;if(F==null)return this.day()||7;var J,fe,Me=(J=F,fe=this.localeData(),typeof J=="string"?fe.weekdaysParse(J)%7||7:isNaN(J)?null:J);return this.day(this.day()%7?Me:Me-7)},wn.dayOfYear=function(F){var J=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return F==null?J:this.add(F-J,"d")},wn.hour=wn.hours=qt,wn.minute=wn.minutes=Op,wn.second=wn.seconds=Lp,wn.millisecond=wn.milliseconds=nl,wn.utcOffset=function(F,J,fe){var Me,vt=this._offset||0;if(!this.isValid())return F!=null?this:NaN;if(F==null)return this._isUTC?vt:to(this);if(typeof F=="string"){if((F=Wi(it,F))===null)return this}else Math.abs(F)<16&&!fe&&(F*=60);return!this._isUTC&&J&&(Me=to(this)),this._offset=F,this._isUTC=!0,Me!=null&&this.add(Me,"m"),vt!==F&&(!J||this._changeInProgress?Ts(this,In(F-vt,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this},wn.utc=function(F){return this.utcOffset(0,F)},wn.local=function(F){return this._isUTC&&(this.utcOffset(0,F),this._isUTC=!1,F&&this.subtract(to(this),"m")),this},wn.parseZone=function(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var F=Wi(Et,this._i);F!=null?this.utcOffset(F):this.utcOffset(0,!0)}return this},wn.hasAlignedHourOffset=function(F){return!!this.isValid()&&(F=F?hr(F).utcOffset():0,(this.utcOffset()-F)%60==0)},wn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wn.isLocal=function(){return!!this.isValid()&&!this._isUTC},wn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wn.isUtc=Ks,wn.isUTC=Ks,wn.zoneAbbr=function(){return this._isUTC?"UTC":""},wn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wn.dates=se("dates accessor is deprecated. Use date instead.",Mp),wn.months=se("months accessor is deprecated. Use month instead",en),wn.years=se("years accessor is deprecated. Use year instead",zn),wn.zone=se("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(F,J){return F!=null?(typeof F!="string"&&(F=-F),this.utcOffset(F,J),this):-this.utcOffset()}),wn.isDSTShifted=se("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var F={};if(U(F,this),(F=xi(F))._a){var J=F._isUTC?C(F._a):hr(F._a);this._isDSTShifted=this.isValid()&&0<Z(F._a,J.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var Ri=De.prototype;function Nf(F,J,fe,Me){var vt=Qn(),Ft=C().set(Me,J);return vt[fe](Ft,F)}function Bf(F,J,fe){if(h(F)&&(J=F,F=void 0),F=F||"",J!=null)return Nf(F,J,fe,"month");var Me,vt=[];for(Me=0;Me<12;Me++)vt[Me]=Nf(F,Me,fe,"month");return vt}function Pp(F,J,fe,Me){typeof F=="boolean"?h(J)&&(fe=J,J=void 0):(J=F,F=!1,h(fe=J)&&(fe=J,J=void 0)),J=J||"";var vt,Ft=Qn(),Wt=F?Ft._week.dow:0;if(fe!=null)return Nf(J,(fe+Wt)%7,Me,"day");var dn=[];for(vt=0;vt<7;vt++)dn[vt]=Nf(J,(vt+Wt)%7,Me,"day");return dn}Ri.calendar=function(F,J,fe){var Me=this._calendar[F]||this._calendar.sameElse;return he(Me)?Me.call(J,fe):Me},Ri.longDateFormat=function(F){var J=this._longDateFormat[F],fe=this._longDateFormat[F.toUpperCase()];return J||!fe?J:(this._longDateFormat[F]=fe.replace(/MMMM|MM|DD|dddd/g,function(Me){return Me.slice(1)}),this._longDateFormat[F])},Ri.invalidDate=function(){return this._invalidDate},Ri.ordinal=function(F){return this._ordinal.replace("%d",F)},Ri.preparse=lm,Ri.postformat=lm,Ri.relativeTime=function(F,J,fe,Me){var vt=this._relativeTime[fe];return he(vt)?vt(F,J,fe,Me):vt.replace(/%d/i,F)},Ri.pastFuture=function(F,J){var fe=this._relativeTime[0<F?"future":"past"];return he(fe)?fe(J):fe.replace(/%s/i,J)},Ri.set=function(F){var J,fe;for(fe in F)he(J=F[fe])?this[fe]=J:this["_"+fe]=J;this._config=F,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ri.months=function(F,J){return F?o(this._months)?this._months[F.month()]:this._months[(this._months.isFormat||an).test(J)?"format":"standalone"][F.month()]:o(this._months)?this._months:this._months.standalone},Ri.monthsShort=function(F,J){return F?o(this._monthsShort)?this._monthsShort[F.month()]:this._monthsShort[an.test(J)?"format":"standalone"][F.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ri.monthsParse=function(F,J,fe){var Me,vt,Ft;if(this._monthsParseExact)return function(Wt,dn,hn){var kn,$n,mr,ar=Wt.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],kn=0;kn<12;++kn)mr=C([2e3,kn]),this._shortMonthsParse[kn]=this.monthsShort(mr,"").toLocaleLowerCase(),this._longMonthsParse[kn]=this.months(mr,"").toLocaleLowerCase();return hn?dn==="MMM"?($n=sn.call(this._shortMonthsParse,ar))!==-1?$n:null:($n=sn.call(this._longMonthsParse,ar))!==-1?$n:null:dn==="MMM"?($n=sn.call(this._shortMonthsParse,ar))!==-1||($n=sn.call(this._longMonthsParse,ar))!==-1?$n:null:($n=sn.call(this._longMonthsParse,ar))!==-1||($n=sn.call(this._shortMonthsParse,ar))!==-1?$n:null}.call(this,F,J,fe);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Me=0;Me<12;Me++)if(vt=C([2e3,Me]),fe&&!this._longMonthsParse[Me]&&(this._longMonthsParse[Me]=new RegExp("^"+this.months(vt,"").replace(".","")+"$","i"),this._shortMonthsParse[Me]=new RegExp("^"+this.monthsShort(vt,"").replace(".","")+"$","i")),fe||this._monthsParse[Me]||(Ft="^"+this.months(vt,"")+"|^"+this.monthsShort(vt,""),this._monthsParse[Me]=new RegExp(Ft.replace(".",""),"i")),fe&&J==="MMMM"&&this._longMonthsParse[Me].test(F)||fe&&J==="MMM"&&this._shortMonthsParse[Me].test(F)||!fe&&this._monthsParse[Me].test(F))return Me},Ri.monthsRegex=function(F){return this._monthsParseExact?(w(this,"_monthsRegex")||Hn.call(this),F?this._monthsStrictRegex:this._monthsRegex):(w(this,"_monthsRegex")||(this._monthsRegex=Nn),this._monthsStrictRegex&&F?this._monthsStrictRegex:this._monthsRegex)},Ri.monthsShortRegex=function(F){return this._monthsParseExact?(w(this,"_monthsRegex")||Hn.call(this),F?this._monthsShortStrictRegex:this._monthsShortRegex):(w(this,"_monthsShortRegex")||(this._monthsShortRegex=pn),this._monthsShortStrictRegex&&F?this._monthsShortStrictRegex:this._monthsShortRegex)},Ri.week=function(F){return Ii(F,this._week.dow,this._week.doy).week},Ri.firstDayOfYear=function(){return this._week.doy},Ri.firstDayOfWeek=function(){return this._week.dow},Ri.weekdays=function(F,J){var fe=o(this._weekdays)?this._weekdays:this._weekdays[F&&F!==!0&&this._weekdays.isFormat.test(J)?"format":"standalone"];return F===!0?be(fe,this._week.dow):F?fe[F.day()]:fe},Ri.weekdaysMin=function(F){return F===!0?be(this._weekdaysMin,this._week.dow):F?this._weekdaysMin[F.day()]:this._weekdaysMin},Ri.weekdaysShort=function(F){return F===!0?be(this._weekdaysShort,this._week.dow):F?this._weekdaysShort[F.day()]:this._weekdaysShort},Ri.weekdaysParse=function(F,J,fe){var Me,vt,Ft;if(this._weekdaysParseExact)return function(Wt,dn,hn){var kn,$n,mr,ar=Wt.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],kn=0;kn<7;++kn)mr=C([2e3,1]).day(kn),this._minWeekdaysParse[kn]=this.weekdaysMin(mr,"").toLocaleLowerCase(),this._shortWeekdaysParse[kn]=this.weekdaysShort(mr,"").toLocaleLowerCase(),this._weekdaysParse[kn]=this.weekdays(mr,"").toLocaleLowerCase();return hn?dn==="dddd"?($n=sn.call(this._weekdaysParse,ar))!==-1?$n:null:dn==="ddd"?($n=sn.call(this._shortWeekdaysParse,ar))!==-1?$n:null:($n=sn.call(this._minWeekdaysParse,ar))!==-1?$n:null:dn==="dddd"?($n=sn.call(this._weekdaysParse,ar))!==-1||($n=sn.call(this._shortWeekdaysParse,ar))!==-1||($n=sn.call(this._minWeekdaysParse,ar))!==-1?$n:null:dn==="ddd"?($n=sn.call(this._shortWeekdaysParse,ar))!==-1||($n=sn.call(this._weekdaysParse,ar))!==-1||($n=sn.call(this._minWeekdaysParse,ar))!==-1?$n:null:($n=sn.call(this._minWeekdaysParse,ar))!==-1||($n=sn.call(this._weekdaysParse,ar))!==-1||($n=sn.call(this._shortWeekdaysParse,ar))!==-1?$n:null}.call(this,F,J,fe);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Me=0;Me<7;Me++)if(vt=C([2e3,1]).day(Me),fe&&!this._fullWeekdaysParse[Me]&&(this._fullWeekdaysParse[Me]=new RegExp("^"+this.weekdays(vt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Me]=new RegExp("^"+this.weekdaysShort(vt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Me]=new RegExp("^"+this.weekdaysMin(vt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Me]||(Ft="^"+this.weekdays(vt,"")+"|^"+this.weekdaysShort(vt,"")+"|^"+this.weekdaysMin(vt,""),this._weekdaysParse[Me]=new RegExp(Ft.replace(".",""),"i")),fe&&J==="dddd"&&this._fullWeekdaysParse[Me].test(F)||fe&&J==="ddd"&&this._shortWeekdaysParse[Me].test(F)||fe&&J==="dd"&&this._minWeekdaysParse[Me].test(F)||!fe&&this._weekdaysParse[Me].test(F))return Me},Ri.weekdaysRegex=function(F){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||Be.call(this),F?this._weekdaysStrictRegex:this._weekdaysRegex):(w(this,"_weekdaysRegex")||(this._weekdaysRegex=Oe),this._weekdaysStrictRegex&&F?this._weekdaysStrictRegex:this._weekdaysRegex)},Ri.weekdaysShortRegex=function(F){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||Be.call(this),F?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(w(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ge),this._weekdaysShortStrictRegex&&F?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ri.weekdaysMinRegex=function(F){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||Be.call(this),F?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(w(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Re),this._weekdaysMinStrictRegex&&F?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ri.isPM=function(F){return(F+"").toLowerCase().charAt(0)==="p"},Ri.meridiem=function(F,J,fe){return 11<F?fe?"pm":"PM":fe?"am":"AM"},Or("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(F){var J=F%10;return F+(W(F%100/10)===1?"th":J===1?"st":J===2?"nd":J===3?"rd":"th")}}),s.lang=se("moment.lang is deprecated. Use moment.locale instead.",Or),s.langData=se("moment.langData is deprecated. Use moment.localeData instead.",Qn);var xa=Math.abs;function Cs(F,J,fe,Me){var vt=In(J,fe);return F._milliseconds+=Me*vt._milliseconds,F._days+=Me*vt._days,F._months+=Me*vt._months,F._bubble()}function Ed(F){return F<0?Math.floor(F):Math.ceil(F)}function cm(F){return 4800*F/146097}function Dp(F){return 146097*F/4800}function nc(F){return function(){return this.as(F)}}var um=nc("ms"),vv=nc("s"),$w=nc("m"),bv=nc("h"),_v=nc("d"),ea=nc("w"),wv=nc("M"),dm=nc("Q"),fm=nc("y");function rc(F){return function(){return this.isValid()?this._data[F]:NaN}}var $f=rc("milliseconds"),rl=rc("seconds"),Ff=rc("minutes"),ta=rc("hours"),wu=rc("days"),Np=rc("months"),ic=rc("years"),ro=Math.round,gs={ss:44,s:45,m:45,h:22,d:26,M:11},il=Math.abs;function ka(F){return(0<F)-(F<0)||+F}function vo(){if(!this.isValid())return this.localeData().invalidDate();var F,J,fe=il(this._milliseconds)/1e3,Me=il(this._days),vt=il(this._months);J=K((F=K(fe/60))/60),fe%=60,F%=60;var Ft=K(vt/12),Wt=vt%=12,dn=Me,hn=J,kn=F,$n=fe?fe.toFixed(3).replace(/\.?0+$/,""):"",mr=this.asSeconds();if(!mr)return"P0D";var ar=mr<0?"-":"",Wr=ka(this._months)!==ka(mr)?"-":"",Yr=ka(this._days)!==ka(mr)?"-":"",Mi=ka(this._milliseconds)!==ka(mr)?"-":"";return ar+"P"+(Ft?Wr+Ft+"Y":"")+(Wt?Wr+Wt+"M":"")+(dn?Yr+dn+"D":"")+(hn||kn||$n?"T":"")+(hn?Mi+hn+"H":"")+(kn?Mi+kn+"M":"")+($n?Mi+$n+"S":"")}var Ar=ks.prototype;return Ar.isValid=function(){return this._isValid},Ar.abs=function(){var F=this._data;return this._milliseconds=xa(this._milliseconds),this._days=xa(this._days),this._months=xa(this._months),F.milliseconds=xa(F.milliseconds),F.seconds=xa(F.seconds),F.minutes=xa(F.minutes),F.hours=xa(F.hours),F.months=xa(F.months),F.years=xa(F.years),this},Ar.add=function(F,J){return Cs(this,F,J,1)},Ar.subtract=function(F,J){return Cs(this,F,J,-1)},Ar.as=function(F){if(!this.isValid())return NaN;var J,fe,Me=this._milliseconds;if((F=xe(F))==="month"||F==="quarter"||F==="year")switch(J=this._days+Me/864e5,fe=this._months+cm(J),F){case"month":return fe;case"quarter":return fe/3;case"year":return fe/12}else switch(J=this._days+Math.round(Dp(this._months)),F){case"week":return J/7+Me/6048e5;case"day":return J+Me/864e5;case"hour":return 24*J+Me/36e5;case"minute":return 1440*J+Me/6e4;case"second":return 86400*J+Me/1e3;case"millisecond":return Math.floor(864e5*J)+Me;default:throw new Error("Unknown unit "+F)}},Ar.asMilliseconds=um,Ar.asSeconds=vv,Ar.asMinutes=$w,Ar.asHours=bv,Ar.asDays=_v,Ar.asWeeks=ea,Ar.asMonths=wv,Ar.asQuarters=dm,Ar.asYears=fm,Ar.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},Ar._bubble=function(){var F,J,fe,Me,vt,Ft=this._milliseconds,Wt=this._days,dn=this._months,hn=this._data;return 0<=Ft&&0<=Wt&&0<=dn||Ft<=0&&Wt<=0&&dn<=0||(Ft+=864e5*Ed(Dp(dn)+Wt),dn=Wt=0),hn.milliseconds=Ft%1e3,F=K(Ft/1e3),hn.seconds=F%60,J=K(F/60),hn.minutes=J%60,fe=K(J/60),hn.hours=fe%24,dn+=vt=K(cm(Wt+=K(fe/24))),Wt-=Ed(Dp(vt)),Me=K(dn/12),dn%=12,hn.days=Wt,hn.months=dn,hn.years=Me,this},Ar.clone=function(){return In(this)},Ar.get=function(F){return F=xe(F),this.isValid()?this[F+"s"]():NaN},Ar.milliseconds=$f,Ar.seconds=rl,Ar.minutes=Ff,Ar.hours=ta,Ar.days=wu,Ar.weeks=function(){return K(this.days()/7)},Ar.months=Np,Ar.years=ic,Ar.humanize=function(F){if(!this.isValid())return this.localeData().invalidDate();var J,fe,Me,vt,Ft,Wt,dn,hn,kn,$n,mr=this.localeData(),ar=(J=!F,fe=mr,Me=In(this).abs(),vt=ro(Me.as("s")),Ft=ro(Me.as("m")),Wt=ro(Me.as("h")),dn=ro(Me.as("d")),hn=ro(Me.as("M")),kn=ro(Me.as("y")),($n=vt<=gs.ss&&["s",vt]||vt<gs.s&&["ss",vt]||Ft<=1&&["m"]||Ft<gs.m&&["mm",Ft]||Wt<=1&&["h"]||Wt<gs.h&&["hh",Wt]||dn<=1&&["d"]||dn<gs.d&&["dd",dn]||hn<=1&&["M"]||hn<gs.M&&["MM",hn]||kn<=1&&["y"]||["yy",kn])[2]=J,$n[3]=0<+this,$n[4]=fe,function(Wr,Yr,Mi,Vr,na){return na.relativeTime(Yr||1,!!Mi,Wr,Vr)}.apply(null,$n));return F&&(ar=mr.pastFuture(+this,ar)),mr.postformat(ar)},Ar.toISOString=vo,Ar.toString=vo,Ar.toJSON=vo,Ar.locale=$i,Ar.localeData=el,Ar.toIsoString=se("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vo),Ar.lang=wd,me("X",0,0,"unix"),me("x",0,0,"valueOf"),St("x",cn),St("X",/[+-]?\d+(\.\d{1,3})?/),yn("X",function(F,J,fe){fe._d=new Date(1e3*parseFloat(F,10))}),yn("x",function(F,J,fe){fe._d=new Date(W(F))}),s.version="2.24.0",r=hr,s.fn=wn,s.min=function(){return ri("isBefore",[].slice.call(arguments,0))},s.max=function(){return ri("isAfter",[].slice.call(arguments,0))},s.now=function(){return Date.now?Date.now():+new Date},s.utc=C,s.unix=function(F){return hr(1e3*F)},s.months=function(F,J){return Bf(F,J,"months")},s.isDate=f,s.locale=Or,s.invalid=A,s.duration=In,s.isMoment=H,s.weekdays=function(F,J,fe){return Pp(F,J,fe,"weekdays")},s.parseZone=function(){return hr.apply(null,arguments).parseZone()},s.localeData=Qn,s.isDuration=es,s.monthsShort=function(F,J){return Bf(F,J,"monthsShort")},s.weekdaysMin=function(F,J,fe){return Pp(F,J,fe,"weekdaysMin")},s.defineLocale=ei,s.updateLocale=function(F,J){if(J!=null){var fe,Me,vt=Rn;(Me=rr(F))!=null&&(vt=Me._config),(fe=new De(J=Ee(vt,J))).parentLocale=Bn[F],Bn[F]=fe,Or(F)}else Bn[F]!=null&&(Bn[F].parentLocale!=null?Bn[F]=Bn[F].parentLocale:Bn[F]!=null&&delete Bn[F]);return Bn[F]},s.locales=function(){return oe(Bn)},s.weekdaysShort=function(F,J,fe){return Pp(F,J,fe,"weekdaysShort")},s.normalizeUnits=xe,s.relativeTimeRounding=function(F){return F===void 0?ro:typeof F=="function"&&(ro=F,!0)},s.relativeTimeThreshold=function(F,J){return gs[F]!==void 0&&(J===void 0?gs[F]:(gs[F]=J,F==="s"&&(gs.ss=J-1),!0))},s.calendarFormat=function(F,J){var fe=F.diff(J,"days",!0);return fe<-6?"sameElse":fe<-1?"lastWeek":fe<0?"lastDay":fe<1?"sameDay":fe<2?"nextDay":fe<7?"nextWeek":"sameElse"},s.prototype=wn,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s}()},6470:t=>{function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function n(i,s){for(var o,l="",d=0,h=-1,f=0,v=0;v<=i.length;++v){if(v<i.length)o=i.charCodeAt(v);else{if(o===47)break;o=47}if(o===47){if(!(h===v-1||f===1))if(h!==v-1&&f===2){if(l.length<2||d!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var w=l.lastIndexOf("/");if(w!==l.length-1){w===-1?(l="",d=0):d=(l=l.slice(0,w)).length-1-l.lastIndexOf("/"),h=v,f=0;continue}}else if(l.length===2||l.length===1){l="",d=0,h=v,f=0;continue}}s&&(l.length>0?l+="/..":l="..",d=2)}else l.length>0?l+="/"+i.slice(h+1,v):l=i.slice(h+1,v),d=v-h-1;h=v,f=0}else o===46&&f!==-1?++f:f=-1}return l}var r={resolve:function(){for(var i,s="",o=!1,l=arguments.length-1;l>=-1&&!o;l--){var d;l>=0?d=arguments[l]:(i===void 0&&(i=process.cwd()),d=i),e(d),d.length!==0&&(s=d+"/"+s,o=d.charCodeAt(0)===47)}return s=n(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(i){if(e(i),i.length===0)return".";var s=i.charCodeAt(0)===47,o=i.charCodeAt(i.length-1)===47;return(i=n(i,!s)).length!==0||s||(i="."),i.length>0&&o&&(i+="/"),s?"/"+i:i},isAbsolute:function(i){return e(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,s=0;s<arguments.length;++s){var o=arguments[s];e(o),o.length>0&&(i===void 0?i=o:i+="/"+o)}return i===void 0?".":r.normalize(i)},relative:function(i,s){if(e(i),e(s),i===s||(i=r.resolve(i))===(s=r.resolve(s)))return"";for(var o=1;o<i.length&&i.charCodeAt(o)===47;++o);for(var l=i.length,d=l-o,h=1;h<s.length&&s.charCodeAt(h)===47;++h);for(var f=s.length-h,v=d<f?d:f,w=-1,E=0;E<=v;++E){if(E===v){if(f>v){if(s.charCodeAt(h+E)===47)return s.slice(h+E+1);if(E===0)return s.slice(h+E)}else d>v&&(i.charCodeAt(o+E)===47?w=E:E===0&&(w=0));break}var C=i.charCodeAt(o+E);if(C!==s.charCodeAt(h+E))break;C===47&&(w=E)}var O="";for(E=o+w+1;E<=l;++E)E!==l&&i.charCodeAt(E)!==47||(O.length===0?O+="..":O+="/..");return O.length>0?O+s.slice(h+w):(h+=w,s.charCodeAt(h)===47&&++h,s.slice(h))},_makeLong:function(i){return i},dirname:function(i){if(e(i),i.length===0)return".";for(var s=i.charCodeAt(0),o=s===47,l=-1,d=!0,h=i.length-1;h>=1;--h)if((s=i.charCodeAt(h))===47){if(!d){l=h;break}}else d=!1;return l===-1?o?"/":".":o&&l===1?"//":i.slice(0,l)},basename:function(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');e(i);var o,l=0,d=-1,h=!0;if(s!==void 0&&s.length>0&&s.length<=i.length){if(s.length===i.length&&s===i)return"";var f=s.length-1,v=-1;for(o=i.length-1;o>=0;--o){var w=i.charCodeAt(o);if(w===47){if(!h){l=o+1;break}}else v===-1&&(h=!1,v=o+1),f>=0&&(w===s.charCodeAt(f)?--f==-1&&(d=o):(f=-1,d=v))}return l===d?d=v:d===-1&&(d=i.length),i.slice(l,d)}for(o=i.length-1;o>=0;--o)if(i.charCodeAt(o)===47){if(!h){l=o+1;break}}else d===-1&&(h=!1,d=o+1);return d===-1?"":i.slice(l,d)},extname:function(i){e(i);for(var s=-1,o=0,l=-1,d=!0,h=0,f=i.length-1;f>=0;--f){var v=i.charCodeAt(f);if(v!==47)l===-1&&(d=!1,l=f+1),v===46?s===-1?s=f:h!==1&&(h=1):s!==-1&&(h=-1);else if(!d){o=f+1;break}}return s===-1||l===-1||h===0||h===1&&s===l-1&&s===o+1?"":i.slice(s,l)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return function(s,o){var l=o.dir||o.root,d=o.base||(o.name||"")+(o.ext||"");return l?l===o.root?l+d:l+"/"+d:d}(0,i)},parse:function(i){e(i);var s={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return s;var o,l=i.charCodeAt(0),d=l===47;d?(s.root="/",o=1):o=0;for(var h=-1,f=0,v=-1,w=!0,E=i.length-1,C=0;E>=o;--E)if((l=i.charCodeAt(E))!==47)v===-1&&(w=!1,v=E+1),l===46?h===-1?h=E:C!==1&&(C=1):h!==-1&&(C=-1);else if(!w){f=E+1;break}return h===-1||v===-1||C===0||C===1&&h===v-1&&h===f+1?v!==-1&&(s.base=s.name=f===0&&d?i.slice(1,v):i.slice(f,v)):(f===0&&d?(s.name=i.slice(1,h),s.base=i.slice(1,v)):(s.name=i.slice(f,h),s.base=i.slice(f,v)),s.ext=i.slice(h,v)),f>0?s.dir=i.slice(0,f-1):d&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},8218:()=>{},8009:()=>{},5354:()=>{},6878:()=>{},8183:()=>{},1428:()=>{},4551:()=>{},8800:()=>{},1993:()=>{},3069:()=>{},9143:()=>{}},ZF={};function kc(t){var e=ZF[t];if(e!==void 0)return e.exports;var n=ZF[t]={id:t,loaded:!1,exports:{}};return hxe[t].call(n.exports,n,n.exports,kc),n.loaded=!0,n.exports}kc.c=ZF,kc.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return kc.d(e,{a:e}),e},kc.d=(t,e)=>{for(var n in e)kc.o(e,n)&&!kc.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},kc.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),kc.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),kc.r=t=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},kc.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var MY=kc(kc.s=7458).Z;function dO(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var pxe={};dO(pxe,"Item",()=>Wa);function dse(t){return null}dse.getCollectionNode=function*(e,n){let{childItems:r,title:i,children:s}=e,o=e.title||e.children,l=e.textValue||(typeof o=="string"?o:"")||e["aria-label"]||"";!l&&!(n!=null&&n.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:o,textValue:l,"aria-label":e["aria-label"],hasChildNodes:gxe(e),*childNodes(){if(r)for(let d of r)yield{type:"item",value:d};else if(i){let d=[];z.Children.forEach(s,h=>{d.push({type:"item",element:h})}),yield*d}}}};function gxe(t){return t.hasChildItems!=null?t.hasChildItems:!!(t.childItems||t.title&&z.Children.count(t.children)>0)}let Wa=dse;var mxe={};dO(mxe,"Section",()=>yxe);function fse(t){return null}fse.getCollectionNode=function*(e){let{children:n,title:r,items:i}=e;yield{type:"section",hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof n=="function"){if(!i)throw new Error("props.children was a function but props.items is missing");for(let s of i)yield{type:"item",value:s,renderer:n}}else{let s=[];z.Children.forEach(n,o=>{s.push({type:"item",element:o})}),yield*s}}}};let yxe=fse;var vxe={};dO(vxe,"useCollection",()=>Jj);class bxe{build(e,n){return this.context=n,OY(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:n,items:r}=e;if(typeof n=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let i of e.items)yield*this.getFullNode({value:i},{renderer:n})}else{let i=[];z.Children.forEach(n,o=>{i.push(o)});let s=0;for(let o of i){let l=this.getFullNode({element:o,index:s},{});for(let d of l)s++,yield d}}}getKey(e,n,r,i){if(e.key!=null)return e.key;if(n.type==="cell"&&n.key!=null)return`${i}${n.key}`;let s=n.value;if(s!=null){var o;let l=(o=s.key)!==null&&o!==void 0?o:s.id;if(l==null)throw new Error("No key found for item");return l}return i?`${i}.${n.index}`:`$.${n.index}`}getChildState(e,n){return{renderer:n.renderer||e.renderer}}*getFullNode(e,n,r,i){let s=e.element;if(!s&&e.value&&n&&n.renderer){let d=this.cache.get(e.value);if(d&&(!d.shouldInvalidate||!d.shouldInvalidate(this.context))){d.index=e.index,d.parentKey=i?i.key:null,yield d;return}s=n.renderer(e.value)}if(z.isValidElement(s)){let d=s.type;if(typeof d!="function"&&typeof d.getCollectionNode!="function"){let w=typeof s.type=="function"?s.type.name:s.type;throw new Error(`Unknown element <${w}> in collection.`)}let h=d.getCollectionNode(s.props,this.context),f=e.index,v=h.next();for(;!v.done&&v.value;){let w=v.value;e.index=f;let E=w.key;E||(E=w.element?null:this.getKey(s,e,n,r));let O=[...this.getFullNode({...w,key:E,index:f,wrapper:_xe(e.wrapper,w.wrapper)},this.getChildState(n,w),r?`${r}${s.key}`:s.key,i)];for(let M of O){if(M.value=w.value||e.value,M.value&&this.cache.set(M.value,M),e.type&&M.type!==e.type)throw new Error(`Unsupported type <${oB(M.type)}> in <${oB(i.type)}>. Only <${oB(e.type)}> is supported.`);f++,yield M}v=h.next(O)}return}if(e.key==null)return;let o=this,l={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:e.value,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:OY(function*(){if(!e.hasChildNodes)return;let d=0;for(let h of e.childNodes()){h.key!=null&&(h.key=`${l.key}${h.key}`),h.index=d;let f=o.getFullNode(h,o.getChildState(n,h),l.key,l);for(let v of f)d++,yield v}})};yield l}constructor(){this.cache=new WeakMap}}function OY(t){let e=[],n=null;return{*[Symbol.iterator](){for(let r of e)yield r;n||(n=t());for(let r of n)e.push(r),yield r}}}function _xe(t,e){if(t&&e)return n=>t(e(n));if(t)return t;if(e)return e}function oB(t){return t[0].toUpperCase()+t.slice(1)}function Jj(t,e,n,r=[]){let i=ee.exports.useMemo(()=>new bxe,[]),s=ee.exports.useRef(null);return ee.exports.useMemo(()=>{let o=i.build(t,n);return s.current=e(o,s.current),s.current},[i,t.children,t.items,n,...r])}var wxe={};dO(wxe,"getItemCount",()=>fO);const LY=new WeakMap;function fO(t){let e=LY.get(t);if(e!=null)return e;e=0;for(let n of t)n.type==="section"?e+=fO(n.childNodes):e++;return LY.set(t,e),e}const Exe="_inspector_x70z8_1",Sxe="_scrollContainer_x70z8_5",xxe="_sequenceDiagramViewer_x70z8_10",kxe="_selectInput_x70z8_17";var qS={inspector:Exe,scrollContainer:Sxe,sequenceDiagramViewer:xxe,selectInput:kxe};function x8(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Txe={};x8(Txe,"useSelectableCollection",()=>eK);function hse(t){return One()?t.altKey:t.ctrlKey}function J_(t){return Mw()?t.metaKey:t.ctrlKey}var Cxe={};x8(Cxe,"useTypeSelect",()=>Qj);function Qj(t){let{keyboardDelegate:e,selectionManager:n,onTypeSelect:r}=t,i=ee.exports.useRef({search:"",timeout:null}).current,s=o=>{let l=Ixe(o.key);if(!l||o.ctrlKey||o.metaKey)return;l===" "&&i.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),i.search+=l;let d=e.getKeyForSearch(i.search,n.focusedKey);d==null&&(d=e.getKeyForSearch(i.search)),d!=null&&(n.setFocusedKey(d),r&&r(d)),clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},500)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?s:null}}}function Ixe(t){return t.length===1||!/^[A-Z]/i.test(t)?t:""}function eK(t){let{selectionManager:e,keyboardDelegate:n,ref:r,autoFocus:i=!1,shouldFocusWrap:s=!1,disallowEmptySelection:o=!1,disallowSelectAll:l=!1,selectOnFocus:d=e.selectionBehavior==="replace",disallowTypeAhead:h=!1,shouldUseVirtualFocus:f,allowsTabNavigation:v=!1,isVirtualized:w,scrollRef:E=r}=t,{direction:C}=rm(),O=K=>{if(K.altKey&&K.key==="Tab"&&K.preventDefault(),!r.current.contains(K.target))return;const W=(Q,ae)=>{Q!=null&&(e.setFocusedKey(Q,ae),K.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(Q):d&&!hse(K)&&e.replaceSelection(Q))};switch(K.key){case"ArrowDown":if(n.getKeyBelow){var Z,ie;K.preventDefault();let Q=e.focusedKey!=null?n.getKeyBelow(e.focusedKey):(Z=n.getFirstKey)===null||Z===void 0?void 0:Z.call(n);Q==null&&s&&(Q=(ie=n.getFirstKey)===null||ie===void 0?void 0:ie.call(n,e.focusedKey)),W(Q)}break;case"ArrowUp":if(n.getKeyAbove){var se,oe;K.preventDefault();let Q=e.focusedKey!=null?n.getKeyAbove(e.focusedKey):(se=n.getLastKey)===null||se===void 0?void 0:se.call(n);Q==null&&s&&(Q=(oe=n.getLastKey)===null||oe===void 0?void 0:oe.call(n,e.focusedKey)),W(Q)}break;case"ArrowLeft":if(n.getKeyLeftOf){K.preventDefault();let Q=n.getKeyLeftOf(e.focusedKey);W(Q,C==="rtl"?"first":"last")}break;case"ArrowRight":if(n.getKeyRightOf){K.preventDefault();let Q=n.getKeyRightOf(e.focusedKey);W(Q,C==="rtl"?"last":"first")}break;case"Home":if(n.getFirstKey){K.preventDefault();let Q=n.getFirstKey(e.focusedKey,J_(K));e.setFocusedKey(Q),J_(K)&&K.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(Q):d&&e.replaceSelection(Q)}break;case"End":if(n.getLastKey){K.preventDefault();let Q=n.getLastKey(e.focusedKey,J_(K));e.setFocusedKey(Q),J_(K)&&K.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(Q):d&&e.replaceSelection(Q)}break;case"PageDown":if(n.getKeyPageBelow){K.preventDefault();let Q=n.getKeyPageBelow(e.focusedKey);W(Q)}break;case"PageUp":if(n.getKeyPageAbove){K.preventDefault();let Q=n.getKeyPageAbove(e.focusedKey);W(Q)}break;case"a":J_(K)&&e.selectionMode==="multiple"&&l!==!0&&(K.preventDefault(),e.selectAll());break;case"Escape":K.preventDefault(),o||e.clearSelection();break;case"Tab":if(!v){if(K.shiftKey)r.current.focus();else{let Q=Jl(r.current,{tabbable:!0}),ae,he;do he=Q.lastChild(),he&&(ae=he);while(he);ae&&!ae.contains(document.activeElement)&&dp(ae)}break}}},M=ee.exports.useRef({top:0,left:0});kj(E,"scroll",w?null:()=>{M.current={top:E.current.scrollTop,left:E.current.scrollLeft}});let A=K=>{if(e.isFocused){K.currentTarget.contains(K.target)||e.setFocused(!1);return}if(!!K.currentTarget.contains(K.target)){if(e.setFocused(!0),e.focusedKey==null){let ie=oe=>{oe!=null&&(e.setFocusedKey(oe),d&&e.replaceSelection(oe))},se=K.relatedTarget;var W,Z;se&&K.currentTarget.compareDocumentPosition(se)&Node.DOCUMENT_POSITION_FOLLOWING?ie((W=e.lastSelectedKey)!==null&&W!==void 0?W:n.getLastKey()):ie((Z=e.firstSelectedKey)!==null&&Z!==void 0?Z:n.getFirstKey())}else if(!w){E.current.scrollTop=M.current.top,E.current.scrollLeft=M.current.left;let ie=E.current.querySelector(`[data-key="${e.focusedKey}"]`);ie&&(dp(ie),RF(E.current,ie))}}},D=K=>{K.currentTarget.contains(K.relatedTarget)||e.setFocused(!1)};const U=ee.exports.useRef(i);ee.exports.useEffect(()=>{if(U.current){let K=null;i==="first"&&(K=n.getFirstKey()),i==="last"&&(K=n.getLastKey());let W=e.selectedKeys;W.size&&(K=W.values().next().value),e.setFocused(!0),e.setFocusedKey(K),K==null&&!f&&qy(r.current)}U.current=!1},[]),ee.exports.useEffect(()=>{if(!w&&e.focusedKey&&(E==null?void 0:E.current)){let K=E.current.querySelector(`[data-key="${e.focusedKey}"]`);K&&RF(E.current,K)}},[w,E,e.focusedKey]);let R={onKeyDown:O,onFocus:A,onBlur:D,onMouseDown(K){K.currentTarget.contains(K.target)&&K.preventDefault()}},{typeSelectProps:X}=Qj({keyboardDelegate:n,selectionManager:e});h||(R=di(X,R));let H;return f||(H=e.focusedKey==null?0:-1),{collectionProps:{...R,tabIndex:H}}}var Rxe={};x8(Rxe,"useSelectableItem",()=>hO);function hO(t){let{selectionManager:e,key:n,ref:r,shouldSelectOnPressUp:i,isVirtualized:s,shouldUseVirtualFocus:o,focus:l,isDisabled:d,onAction:h,allowsDifferentPressOrigin:f}=t,v=oe=>{if(oe.pointerType==="keyboard"&&hse(oe))e.toggleSelection(n);else{if(e.selectionMode==="none")return;e.selectionMode==="single"?e.isSelected(n)&&!e.disallowEmptySelection?e.toggleSelection(n):e.replaceSelection(n):oe&&oe.shiftKey?e.extendSelection(n):e.selectionBehavior==="toggle"||oe&&(J_(oe)||oe.pointerType==="touch"||oe.pointerType==="virtual")?e.toggleSelection(n):e.replaceSelection(n)}};ee.exports.useEffect(()=>{n===e.focusedKey&&e.isFocused&&!o&&document.activeElement!==r.current&&(l?l():qy(r.current))},[r,n,e.focusedKey,e.childFocusStrategy,e.isFocused,o]);let w={};o||(w={tabIndex:n===e.focusedKey?0:-1,onFocus(oe){oe.target===r.current&&e.setFocusedKey(n)}}),d=d||e.isDisabled(n);let E=!d&&e.canSelectItem(n),C=h&&!d,O=C&&(e.selectionBehavior==="replace"?!E:e.isEmpty),M=C&&E&&e.selectionBehavior==="replace",A=O||M,D=ee.exports.useRef(null),U=A&&E,R=ee.exports.useRef(!1),X=ee.exports.useRef(!1),H={};i?(H.onPressStart=oe=>{D.current=oe.pointerType,R.current=U,oe.pointerType==="keyboard"&&(!A||PY())&&v(oe)},f?(H.onPressUp=oe=>{oe.pointerType!=="keyboard"&&v(oe)},H.onPress=O?()=>h():null):H.onPress=oe=>{if(O||M&&oe.pointerType!=="mouse"){if(oe.pointerType==="keyboard"&&!AY())return;h()}else oe.pointerType!=="keyboard"&&v(oe)}):(H.onPressStart=oe=>{D.current=oe.pointerType,R.current=U,X.current=O,(oe.pointerType==="mouse"&&!O||oe.pointerType==="keyboard"&&(!h||PY()))&&v(oe)},H.onPress=oe=>{(oe.pointerType==="touch"||oe.pointerType==="pen"||oe.pointerType==="virtual"||oe.pointerType==="keyboard"&&A&&AY()||oe.pointerType==="mouse"&&X.current)&&(A?h():v(oe))}),s||(w["data-key"]=n),H.preventFocusOnPress=o;let{pressProps:K,isPressed:W}=hv(H),Z=M?oe=>{D.current==="mouse"&&(oe.stopPropagation(),oe.preventDefault(),h())}:void 0,{longPressProps:ie}=Oj({isDisabled:!U,onLongPress(oe){oe.pointerType==="touch"&&(v(oe),e.setSelectionBehavior("toggle"))}});return{itemProps:di(w,E||O?K:{},U?ie:{},{onDoubleClick:Z,onDragStart:oe=>{D.current==="touch"&&R.current&&oe.preventDefault()}}),isPressed:W,isSelected:e.isSelected(n),isDisabled:d,allowsSelection:E,hasAction:A}}function AY(){let t=window.event;return(t==null?void 0:t.key)==="Enter"}function PY(){let t=window.event;return(t==null?void 0:t.key)===" "||(t==null?void 0:t.code)==="Space"}var Mxe={};x8(Mxe,"useSelectableList",()=>nK);var Oxe={};x8(Oxe,"ListKeyboardDelegate",()=>tK);class tK{getKeyBelow(e){for(e=this.collection.getKeyAfter(e);e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}}getKeyAbove(e){for(e=this.collection.getKeyBefore(e);e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}}getFirstKey(){let e=this.collection.getFirstKey();for(;e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}}getLastKey(){let e=this.collection.getLastKey();for(;e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}}getItem(e){return this.ref.current.querySelector(`[data-key="${e}"]`)}getKeyPageAbove(e){let n=this.ref.current,r=this.getItem(e);if(!r)return null;let i=Math.max(0,r.offsetTop+r.offsetHeight-n.offsetHeight);for(;r&&r.offsetTop>i;)e=this.getKeyAbove(e),r=this.getItem(e);return e}getKeyPageBelow(e){let n=this.ref.current,r=this.getItem(e);if(!r)return null;let i=Math.min(n.scrollHeight,r.offsetTop-r.offsetHeight+n.offsetHeight);for(;r&&r.offsetTop<i;)e=this.getKeyBelow(e),r=this.getItem(e);return e}getKeyForSearch(e,n){if(!this.collator)return null;let r=this.collection,i=n||this.getFirstKey();for(;i!=null;){let s=r.getItem(i),o=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(o,e)===0)return i;i=this.getKeyBelow(i)}return null}constructor(e,n,r,i){this.collection=e,this.disabledKeys=n,this.ref=r,this.collator=i}}function nK(t){let{selectionManager:e,collection:n,disabledKeys:r,ref:i,keyboardDelegate:s,autoFocus:o,shouldFocusWrap:l,isVirtualized:d,disallowEmptySelection:h,selectOnFocus:f=!1,disallowTypeAhead:v,shouldUseVirtualFocus:w,allowsTabNavigation:E}=t,C=ZM({usage:"search",sensitivity:"base"}),O=ee.exports.useMemo(()=>s||new tK(n,r,i,C),[s,n,r,i,C]),{collectionProps:M}=eK({ref:i,selectionManager:e,keyboardDelegate:O,autoFocus:o,shouldFocusWrap:l,disallowEmptySelection:h,selectOnFocus:f,disallowTypeAhead:v,shouldUseVirtualFocus:w,allowsTabNavigation:E,isVirtualized:d,scrollRef:i});return{listProps:M}}function pse(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Lxe={};pse(Lxe,"useField",()=>gse);var Axe={};pse(Axe,"useLabel",()=>rK);function rK(t){let{id:e,label:n,"aria-labelledby":r,"aria-label":i,labelElementType:s="label"}=t;e=Nc(e);let o=Nc(),l={};n?(r=r?`${r} ${o}`:o,l={id:o,htmlFor:s==="label"?e:void 0}):!r&&!i&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let d=p8({id:e,"aria-label":i,"aria-labelledby":r});return{labelProps:l,fieldProps:d}}function gse(t){let{description:e,errorMessage:n,validationState:r}=t,{labelProps:i,fieldProps:s}=rK(t),o=yp([Boolean(e),Boolean(n),r]),l=yp([Boolean(e),Boolean(n),r]);return s=di(s,{"aria-describedby":[o,l,t["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:i,fieldProps:s,descriptionProps:{id:o},errorMessageProps:{id:l}}}function Pxe(t){return t&&t.__esModule?t.default:t}function pO(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Dxe={};pO(Dxe,"useMenuTrigger",()=>iK);var mse={},yse={};yse=JSON.parse('{"longPressMessage":"\u0627\u0636\u063A\u0637 \u0645\u0637\u0648\u0644\u0627\u064B \u0623\u0648 \u0627\u0636\u063A\u0637 \u0639\u0644\u0649 Alt + \u0627\u0644\u0633\u0647\u0645 \u0644\u0623\u0633\u0641\u0644 \u0644\u0641\u062A\u062D \u0627\u0644\u0642\u0627\u0626\u0645\u0629"}');var vse={};vse=JSON.parse('{"longPressMessage":"\u041D\u0430\u0442\u0438\u0441\u043D\u0435\u0442\u0435 \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E \u0438\u043B\u0438 \u043D\u0430\u0442\u0438\u0441\u043D\u0435\u0442\u0435 Alt+ \u0441\u0442\u0440\u0435\u043B\u043A\u0430 \u043D\u0430\u0434\u043E\u043B\u0443, \u0437\u0430 \u0434\u0430 \u043E\u0442\u0432\u043E\u0440\u0438\u0442\u0435 \u043C\u0435\u043D\u044E\u0442\u043E"}');var bse={};bse=JSON.parse('{"longPressMessage":"Dlouh\xFDm stiskem nebo stisknut\xEDm kl\xE1ves Alt + \u0161ipka dol\u016F otev\u0159ete nab\xEDdku"}');var _se={};_se=JSON.parse('{"longPressMessage":"Langt tryk eller tryk p\xE5 Alt + pil ned for at \xE5bne menuen"}');var wse={};wse=JSON.parse('{"longPressMessage":"Dr\xFCcken Sie lange oder dr\xFCcken Sie Alt + Nach-unten, um das Men\xFC zu \xF6ffnen"}');var Ese={};Ese=JSON.parse('{"longPressMessage":"\u03A0\u03B9\u03AD\u03C3\u03C4\u03B5 \u03C0\u03B1\u03C1\u03B1\u03C4\u03B5\u03C4\u03B1\u03BC\u03AD\u03BD\u03B1 \u03AE \u03C0\u03B1\u03C4\u03AE\u03C3\u03C4\u03B5 Alt + \u03BA\u03AC\u03C4\u03C9 \u03B2\u03AD\u03BB\u03BF\u03C2 \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03B1\u03BD\u03BF\u03AF\u03BE\u03B5\u03C4\u03B5 \u03C4\u03BF \u03BC\u03B5\u03BD\u03BF\u03CD"}');var Sse={};Sse=JSON.parse('{"longPressMessage":"Long press or press Alt + ArrowDown to open menu"}');var xse={};xse=JSON.parse('{"longPressMessage":"Mantenga pulsado o pulse Alt + flecha abajo para abrir el men\xFA"}');var kse={};kse=JSON.parse('{"longPressMessage":"Men\xFC\xFC avamiseks vajutage pikalt v\xF5i vajutage klahve Alt + allanool"}');var Tse={};Tse=JSON.parse('{"longPressMessage":"Avaa valikko painamalla pohjassa tai n\xE4pp\xE4inyhdistelm\xE4ll\xE4 Alt + Alanuoli"}');var Cse={};Cse=JSON.parse('{"longPressMessage":"Appuyez de mani\xE8re prolong\xE9e ou appuyez sur Alt\xA0+\xA0Fl\xE8che vers le bas pour ouvrir le menu."}');var Ise={};Ise=JSON.parse('{"longPressMessage":"\u05DC\u05D7\u05E5 \u05DC\u05D7\u05D9\u05E6\u05D4 \u05D0\u05E8\u05D5\u05DB\u05D4 \u05D0\u05D5 \u05D4\u05E7\u05E9 Alt + ArrowDown \u05DB\u05D3\u05D9 \u05DC\u05E4\u05EA\u05D5\u05D7 \u05D0\u05EA \u05D4\u05EA\u05E4\u05E8\u05D9\u05D8"}');var Rse={};Rse=JSON.parse('{"longPressMessage":"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"}');var Mse={};Mse=JSON.parse('{"longPressMessage":"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele ny\xEDl gombot a men\xFC megnyit\xE1s\xE1hoz"}');var Ose={};Ose=JSON.parse('{"longPressMessage":"Premere a lungo o premere Alt + Freccia gi\xF9 per aprire il menu"}');var Lse={};Lse=JSON.parse('{"longPressMessage":"\u9577\u62BC\u3057\u307E\u305F\u306F Alt+\u4E0B\u77E2\u5370\u30AD\u30FC\u3067\u30E1\u30CB\u30E5\u30FC\u3092\u958B\u304F"}');var Ase={};Ase=JSON.parse('{"longPressMessage":"\uAE38\uAC8C \uB204\uB974\uAC70\uB098 Alt + \uC544\uB798\uCABD \uD654\uC0B4\uD45C\uB97C \uB20C\uB7EC \uBA54\uB274 \uC5F4\uAE30"}');var Pse={};Pse=JSON.parse('{"longPressMessage":"Nor\u0117dami atidaryti meniu, nuspaud\u0119 palaikykite arba paspauskite \u201EAlt + ArrowDown\u201C."}');var Dse={};Dse=JSON.parse('{"longPressMessage":"Lai atv\u0113rtu izv\u0113lni, turiet nospiestu vai nospiediet tausti\u0146u kombin\u0101ciju Alt + lejupv\u0113rst\u0101 bulti\u0146a"}');var Nse={};Nse=JSON.parse('{"longPressMessage":"Langt trykk eller trykk Alt + PilNed for \xE5 \xE5pne menyen"}');var Bse={};Bse=JSON.parse('{"longPressMessage":"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"}');var $se={};$se=JSON.parse('{"longPressMessage":"Naci\u015Bnij i przytrzymaj lub naci\u015Bnij klawisze Alt + Strza\u0142ka w d\xF3\u0142, aby otworzy\u0107 menu"}');var Fse={};Fse=JSON.parse('{"longPressMessage":"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"}');var Use={};Use=JSON.parse('{"longPressMessage":"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"}');var Hse={};Hse=JSON.parse('{"longPressMessage":"Ap\u0103sa\u021Bi lung sau ap\u0103sa\u021Bi pe Alt + s\u0103geat\u0103 \xEEn jos pentru a deschide meniul"}');var jse={};jse=JSON.parse('{"longPressMessage":"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 Alt + \u0421\u0442\u0440\u0435\u043B\u043A\u0430 \u0432\u043D\u0438\u0437, \u0447\u0442\u043E\u0431\u044B \u043E\u0442\u043A\u0440\u044B\u0442\u044C \u043C\u0435\u043D\u044E"}');var Kse={};Kse=JSON.parse('{"longPressMessage":"Ponuku otvor\xEDte dlh\xFDm stla\u010Den\xEDm alebo stla\u010Den\xEDm kl\xE1vesu Alt + kl\xE1vesu so \u0161\xEDpkou nadol"}');var zse={};zse=JSON.parse('{"longPressMessage":"Za odprtje menija pritisnite in dr\u017Eite gumb ali pritisnite Alt+pu\u0161\u010Dica navzdol"}');var qse={};qse=JSON.parse('{"longPressMessage":"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"}');var Vse={};Vse=JSON.parse('{"longPressMessage":"H\xE5ll nedtryckt eller tryck p\xE5 Alt + pil ned\xE5t f\xF6r att \xF6ppna menyn"}');var Gse={};Gse=JSON.parse('{"longPressMessage":"Men\xFCy\xFC a\xE7mak i\xE7in uzun bas\u0131n veya Alt + A\u015Fa\u011F\u0131 Ok tu\u015Funa bas\u0131n"}');var Wse={};Wse=JSON.parse('{"longPressMessage":"\u0414\u043E\u0432\u0433\u043E \u0430\u0431\u043E \u0437\u0432\u0438\u0447\u0430\u0439\u043D\u043E \u043D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u043A\u043E\u043C\u0431\u0456\u043D\u0430\u0446\u0456\u044E \u043A\u043B\u0430\u0432\u0456\u0448 Alt \u0456 \u0441\u0442\u0440\u0456\u043B\u043A\u0430 \u0432\u043D\u0438\u0437, \u0449\u043E\u0431 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438 \u043C\u0435\u043D\u044E"}');var Yse={};Yse=JSON.parse('{"longPressMessage":"\u957F\u6309\u6216\u6309 Alt + \u5411\u4E0B\u65B9\u5411\u952E\u4EE5\u6253\u5F00\u83DC\u5355"}');var Xse={};Xse=JSON.parse('{"longPressMessage":"\u9577\u6309\u6216\u6309 Alt+\u5411\u4E0B\u9375\u4EE5\u958B\u555F\u529F\u80FD\u8868"}');mse={"ar-AE":yse,"bg-BG":vse,"cs-CZ":bse,"da-DK":_se,"de-DE":wse,"el-GR":Ese,"en-US":Sse,"es-ES":xse,"et-EE":kse,"fi-FI":Tse,"fr-FR":Cse,"he-IL":Ise,"hr-HR":Rse,"hu-HU":Mse,"it-IT":Ose,"ja-JP":Lse,"ko-KR":Ase,"lt-LT":Pse,"lv-LV":Dse,"nb-NO":Nse,"nl-NL":Bse,"pl-PL":$se,"pt-BR":Fse,"pt-PT":Use,"ro-RO":Hse,"ru-RU":jse,"sk-SK":Kse,"sl-SI":zse,"sr-SP":qse,"sv-SE":Vse,"tr-TR":Gse,"uk-UA":Wse,"zh-CN":Yse,"zh-TW":Xse};function iK(t,e,n){let{type:r="menu",isDisabled:i,trigger:s="press"}=t,o=Nc(),{triggerProps:l,overlayProps:d}=bre({type:r},e,n),h=E=>{if(!i&&!(s==="longPress"&&!E.altKey)&&n&&n.current)switch(E.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in E||E.stopPropagation(),E.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in E||E.stopPropagation(),E.preventDefault(),e.toggle("last");break}},f=Ij(Pxe(mse)),{longPressProps:v}=Oj({isDisabled:i||s!=="longPress",accessibilityDescription:f("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}});return l=di(l,s==="press"?{onPressStart(E){E.pointerType!=="touch"&&E.pointerType!=="keyboard"&&!i&&e.toggle(E.pointerType==="virtual"?"first":null)},onPress(E){E.pointerType==="touch"&&!i&&e.toggle()}}:v),{menuTriggerProps:{...l,id:o,onKeyDown:h},menuProps:{...d,"aria-labelledby":o}}}var Nxe={};pO(Nxe,"useMenu",()=>Zse);function Zse(t,e,n){let{shouldFocusWrap:r=!0,...i}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let s=dv(t,{labelable:!0}),{listProps:o}=nK({...i,ref:n,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:r});return{menuProps:di(s,{role:"menu",...o})}}var Bxe={};pO(Bxe,"useMenuItem",()=>Jse);function Jse(t,e,n){let{isSelected:r,isDisabled:i,key:s,onClose:o,closeOnSelect:l,isVirtualized:d,onAction:h}=t,f="menuitem";e.selectionManager.selectionMode==="single"?f="menuitemradio":e.selectionManager.selectionMode==="multiple"&&(f="menuitemcheckbox");let v=yp(),w=yp(),E=yp(),C={"aria-disabled":i,role:f,"aria-label":t["aria-label"],"aria-labelledby":v,"aria-describedby":[w,E].filter(Boolean).join(" ")||void 0};e.selectionManager.selectionMode!=="none"&&(C["aria-checked"]=r),d&&(C["aria-posinset"]=e.collection.getItem(s).index,C["aria-setsize"]=fO(e.collection));let O=X=>{if(!X.repeat)switch(X.key){case" ":!i&&e.selectionManager.selectionMode==="none"&&l!==!1&&o&&o();break;case"Enter":!i&&l!==!1&&o&&o();break}},M=X=>{X.pointerType==="keyboard"&&h&&h(s)},A=X=>{X.pointerType!=="keyboard"&&(h&&h(s),o&&(l!=null?l:e.selectionManager.selectionMode!=="multiple")&&o())},{itemProps:D}=hO({selectionManager:e.selectionManager,key:s,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0}),{pressProps:U}=hv({onPressStart:M,onPressUp:A,isDisabled:i}),{hoverProps:R}=y8({isDisabled:i,onHoverStart(){pv()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(s))}});return{menuItemProps:{...C,...di(D,U,R,{onKeyDown:O})},labelProps:{id:v},descriptionProps:{id:w},keyboardShortcutProps:{id:E}}}var $xe={};pO($xe,"useMenuSection",()=>Fxe);function Fxe(t){let{heading:e,"aria-label":n}=t,r=Nc();return{itemProps:{role:"presentation"},headingProps:e?{id:r,"aria-hidden":!0}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":e?r:void 0}}}function sK(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Uxe={};sK(Uxe,"useSelect",()=>Qse);function Qse(t,e,n){let{keyboardDelegate:r,isDisabled:i}=t,s=ZM({usage:"search",sensitivity:"base"}),o=ee.exports.useMemo(()=>r||new tK(e.collection,e.disabledKeys,null,s),[r,e.collection,e.disabledKeys,s]),{menuTriggerProps:l,menuProps:d}=iK({isDisabled:i,type:"listbox"},e,n),h=D=>{switch(D.key){case"ArrowLeft":{D.preventDefault();let U=e.selectedKey!=null?o.getKeyAbove(e.selectedKey):o.getFirstKey();U&&e.setSelectedKey(U);break}case"ArrowRight":{D.preventDefault();let U=e.selectedKey!=null?o.getKeyBelow(e.selectedKey):o.getFirstKey();U&&e.setSelectedKey(U);break}}},{typeSelectProps:f}=Qj({keyboardDelegate:o,selectionManager:e.selectionManager,onTypeSelect(D){e.setSelectedKey(D)}}),{labelProps:v,fieldProps:w,descriptionProps:E,errorMessageProps:C}=gse({...t,labelElementType:"span"});f.onKeyDown=f.onKeyDownCapture,delete f.onKeyDownCapture;let O=dv(t,{labelable:!0}),M=di(f,l,w),A=Nc();return{labelProps:{...v,onClick:()=>{t.isDisabled||(n.current.focus(),ure("keyboard"))}},triggerProps:di(O,{...M,onKeyDown:Ky(M.onKeyDown,h,t.onKeyDown),onKeyUp:t.onKeyUp,"aria-labelledby":[M["aria-labelledby"],M["aria-label"]&&!M["aria-labelledby"]?M.id:null,A].filter(Boolean).join(" "),onFocus(D){e.isFocused||(t.onFocus&&t.onFocus(D),t.onFocusChange&&t.onFocusChange(!0),e.setFocused(!0))},onBlur(D){e.isOpen||(t.onBlur&&t.onBlur(D),t.onFocusChange&&t.onFocusChange(!1),e.setFocused(!1))}}),valueProps:{id:A},menuProps:{...d,autoFocus:e.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,onBlur:D=>{D.currentTarget.contains(D.relatedTarget)||(t.onBlur&&t.onBlur(D),t.onFocusChange&&t.onFocusChange(!1),e.setFocused(!1))},"aria-labelledby":[w["aria-labelledby"],M["aria-label"]&&!w["aria-labelledby"]?M.id:null].filter(Boolean).join(" ")},descriptionProps:E,errorMessageProps:C}}var eoe={};sK(eoe,"useHiddenSelect",()=>toe);sK(eoe,"HiddenSelect",()=>noe);function toe(t,e,n){let{autoComplete:r,name:i,isDisabled:s}=t,o=dre(),{visuallyHiddenProps:l}=Lj();var d;return{containerProps:{...l,"aria-hidden":!0},inputProps:{type:"text",tabIndex:o==null||e.isFocused||e.isOpen?-1:0,style:{fontSize:16},onFocus:()=>n.current.focus(),disabled:s},selectProps:{tabIndex:-1,autoComplete:r,disabled:s,name:i,size:e.collection.size,value:(d=e.selectedKey)!==null&&d!==void 0?d:"",onChange:h=>e.setSelectedKey(h.target.value)}}}function noe(t){let{state:e,triggerRef:n,label:r,name:i,isDisabled:s}=t,{containerProps:o,inputProps:l,selectProps:d}=toe(t,e,n);return e.collection.size<=300?z.createElement("div",o,z.createElement("input",l),z.createElement("label",null,r,z.createElement("select",d,z.createElement("option",null),[...e.collection.getKeys()].map(h=>{let f=e.collection.getItem(h);if(f.type==="item")return z.createElement("option",{key:f.key,value:f.key},f.textValue)})))):i?z.createElement("input",{type:"hidden",autoComplete:d.autoComplete,name:i,disabled:s,value:e.selectedKey}):null}function Hxe(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var jxe={};Hxe(jxe,"useMenuTriggerState",()=>oK);function oK(t){let e=rO(t),[n,r]=ee.exports.useState(null);return{focusStrategy:n,...e,open(i=null){r(i),e.open()},toggle(i=null){r(i),e.toggle()}}}function roe(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Kxe={};roe(Kxe,"useMultipleSelectionState",()=>aK);class sd extends Set{constructor(e,n,r){super(e),e instanceof sd?(this.anchorKey=n||e.anchorKey,this.currentKey=r||e.currentKey):(this.anchorKey=n,this.currentKey=r)}}function zxe(t,e){if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}function aK(t){let{selectionMode:e="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:r,selectionBehavior:i="toggle",disabledBehavior:s="all"}=t,o=ee.exports.useRef(!1),[,l]=ee.exports.useState(!1),d=ee.exports.useRef(null),h=ee.exports.useRef(null),[,f]=ee.exports.useState(null),v=ee.exports.useMemo(()=>DY(t.selectedKeys),[t.selectedKeys]),w=ee.exports.useMemo(()=>DY(t.defaultSelectedKeys,new sd),[t.defaultSelectedKeys]),[E,C]=h8(v,w,t.onSelectionChange),O=ee.exports.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),[M,A]=ee.exports.useState(i);i==="replace"&&M==="toggle"&&typeof E=="object"&&E.size===0&&A("replace");let D=ee.exports.useRef(i);return ee.exports.useEffect(()=>{i!==D.current&&(A(i),D.current=i)},[i]),{selectionMode:e,disallowEmptySelection:n,selectionBehavior:M,setSelectionBehavior:A,get isFocused(){return o.current},setFocused(U){o.current=U,l(U)},get focusedKey(){return d.current},get childFocusStrategy(){return h.current},setFocusedKey(U,R="first"){d.current=U,h.current=R,f(U)},selectedKeys:E,setSelectedKeys(U){(r||!zxe(U,E))&&C(U)},disabledKeys:O,disabledBehavior:s}}function DY(t,e){return t?t==="all"?"all":new sd(t):e}var qxe={};roe(qxe,"SelectionManager",()=>lK);class lK{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,n){this.state.setFocusedKey(e,n)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return this.state.selectionMode==="none"?!1:(e=this.getKey(e),this.state.selectedKeys==="all"?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),n=this.state.selectedKeys;return this._isSelectAll=e.every(r=>n.has(r)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let n of this.state.selectedKeys){let r=this.collection.getItem(n);(!e||(r==null?void 0:r.index)<e.index)&&(e=r)}return e==null?void 0:e.key}get lastSelectedKey(){let e=null;for(let n of this.state.selectedKeys){let r=this.collection.getItem(n);(!e||(r==null?void 0:r.index)>e.index)&&(e=r)}return e==null?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}e=this.getKey(e);let n;if(this.state.selectedKeys==="all")n=new sd([e],e,e);else{let r=this.state.selectedKeys,i=r.anchorKey||e;n=new sd(r,i,e);for(let s of this.getKeyRange(i,r.currentKey||e))n.delete(s);for(let s of this.getKeyRange(e,i))this.canSelectItem(s)&&n.add(s)}this.state.setSelectedKeys(n)}getKeyRange(e,n){let r=this.collection.getItem(e),i=this.collection.getItem(n);return r&&i?r.index<=i.index?this.getKeyRangeInternal(e,n):this.getKeyRangeInternal(n,e):[]}getKeyRangeInternal(e,n){let r=[],i=e;for(;i;){let s=this.collection.getItem(i);if((s&&s.type==="item"||s.type==="cell"&&this.allowsCellSelection)&&r.push(i),i===n)return r;i=this.collection.getKeyAfter(i)}return[]}getKey(e){let n=this.collection.getItem(e);if(!n||n.type==="cell"&&this.allowsCellSelection)return e;for(;n.type!=="item"&&n.parentKey!=null;)n=this.collection.getItem(n.parentKey);return!n||n.type!=="item"?null:n.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}if(e=this.getKey(e),e==null)return;let n=new sd(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);n.has(e)?n.delete(e):this.canSelectItem(e)&&(n.add(e),n.anchorKey=e,n.currentKey=e),!(this.disallowEmptySelection&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(e){if(this.selectionMode==="none"||(e=this.getKey(e),e==null))return;let n=this.canSelectItem(e)?new sd([e],e,e):new sd;this.state.setSelectedKeys(n)}setSelectedKeys(e){if(this.selectionMode==="none")return;let n=new sd;for(let r of e)if(r=this.getKey(r),r!=null&&(n.add(r),this.selectionMode==="single"))break;this.state.setSelectedKeys(n)}getSelectAllKeys(){let e=[],n=r=>{for(;r;){if(this.canSelectItem(r)){let i=this.collection.getItem(r);i.type==="item"&&e.push(r),i.hasChildNodes&&(this.allowsCellSelection||i.type!=="item")&&n([...i.childNodes][0].key)}r=this.collection.getKeyAfter(r)}};return n(this.collection.getFirstKey()),e}selectAll(){this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new sd)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,n){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||n&&(n.pointerType==="touch"||n.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let n=this.selectedKeys;if(e.size!==n.size)return!1;for(let r of e)if(!n.has(r))return!1;for(let r of n)if(!e.has(r))return!1;return!0}canSelectItem(e){if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let n=this.collection.getItem(e);return!(!n||n.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&this.state.disabledBehavior==="all"}constructor(e,n,r){this.collection=e,this.state=n;var i;this.allowsCellSelection=(i=r==null?void 0:r.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null}}function cK(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Vxe={};cK(Vxe,"useListState",()=>ioe);var Gxe={};cK(Gxe,"ListCollection",()=>JF);var Wxe=Symbol.iterator;class JF{*[Wxe](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let n=this.keyMap.get(e);return n?n.prevKey:null}getKeyAfter(e){let n=this.keyMap.get(e);return n?n.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const n=[...this.getKeys()];return this.getItem(n[e])}constructor(e){this.keyMap=new Map,this.iterable=e;let n=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&s.type==="section")for(let o of s.childNodes)n(o)};for(let s of e)n(s);let r,i=0;for(let[s,o]of this.keyMap)r?(r.nextKey=s,o.prevKey=r.key):(this.firstKey=s,o.prevKey=void 0),o.type==="item"&&(o.index=i++),r=o,r.nextKey=void 0;this.lastKey=r==null?void 0:r.key}}function ioe(t){let{filter:e}=t,n=aK(t),r=ee.exports.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),i=l=>e?new JF(e(l)):new JF(l),s=ee.exports.useMemo(()=>({suppressTextValueWarning:t.suppressTextValueWarning}),[t.suppressTextValueWarning]),o=Jj(t,i,s,[e]);return ee.exports.useEffect(()=>{n.focusedKey!=null&&!o.getItem(n.focusedKey)&&n.setFocusedKey(null)},[o,n.focusedKey]),{collection:o,disabledKeys:r,selectionManager:new lK(o,n)}}var Yxe={};cK(Yxe,"useSingleSelectListState",()=>uK);function uK(t){var e;let[n,r]=h8(t.selectedKey,(e=t.defaultSelectedKey)!==null&&e!==void 0?e:null,t.onSelectionChange),i=ee.exports.useMemo(()=>n!=null?[n]:[],[n]),{collection:s,disabledKeys:o,selectionManager:l}=ioe({...t,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:i,onSelectionChange:h=>{let f=h.values().next().value;f===n&&t.onSelectionChange&&t.onSelectionChange(f),r(f)}}),d=n!=null?s.getItem(n):null;return{collection:s,disabledKeys:o,selectionManager:l,selectedKey:n,setSelectedKey:r,selectedItem:d}}function Xxe(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Zxe={};Xxe(Zxe,"useSelectState",()=>soe);function soe(t){let e=oK(t),n=uK({...t,onSelectionChange:s=>{t.onSelectionChange!=null&&t.onSelectionChange(s),e.close()}}),[r,i]=ee.exports.useState(!1);return{...n,...e,open(){n.collection.size!==0&&e.open()},toggle(s){n.collection.size!==0&&e.toggle(s)},isFocused:r,setFocused:i}}const Jxe="_popover_1hjt4_1";var Qxe={popover:Jxe};const ooe=ee.exports.forwardRef(({isOpen:t=!0,onClose:e,className:n,children:r,...i},s)=>{const o=Rw(s),{overlayProps:l}=Pj({isOpen:t,onClose:e,shouldCloseOnBlur:!0,isDismissable:!0},o);return z.createElement(Bj,{restoreFocus:!0},z.createElement("div",{...l,...i,className:qr(Qxe.popover,n),ref:o},r,z.createElement(iie,{onDismiss:e})))});function k8(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e8e={};k8(e8e,"useListBox",()=>coe);var aoe={};k8(aoe,"listData",()=>gO);k8(aoe,"getItemId",()=>loe);const gO=new WeakMap;function t8e(t){return typeof t=="string"?t.replace(/\s*/g,""):""+t}function loe(t,e){let n=gO.get(t);if(!n)throw new Error("Unknown list");return`${n.id}-option-${t8e(e)}`}function coe(t,e,n){let r=dv(t,{labelable:!0}),{listProps:i}=nK({...t,ref:n,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys}),{focusWithinProps:s}=QM({onFocusWithin:t.onFocus,onBlurWithin:t.onBlur,onFocusWithinChange:t.onFocusChange}),o=Nc(t.id);gO.set(e,{id:o,shouldUseVirtualFocus:t.shouldUseVirtualFocus,shouldSelectOnPressUp:t.shouldSelectOnPressUp,shouldFocusOnHover:t.shouldFocusOnHover,isVirtualized:t.isVirtualized});let{labelProps:l,fieldProps:d}=rK({...t,id:o,labelElementType:"span"});return{labelProps:l,listBoxProps:di(r,s,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...di(d,i)})}}var n8e={};k8(n8e,"useOption",()=>uoe);function uoe(t,e,n){let{key:r}=t,i=gO.get(e);var s;let o=(s=t.isDisabled)!==null&&s!==void 0?s:e.disabledKeys.has(r);var l;let d=(l=t.isSelected)!==null&&l!==void 0?l:e.selectionManager.isSelected(r),h=e.selectionManager.focusedKey===r;var f;let v=(f=t.shouldSelectOnPressUp)!==null&&f!==void 0?f:i.shouldSelectOnPressUp;var w;let E=(w=t.shouldFocusOnHover)!==null&&w!==void 0?w:i.shouldFocusOnHover;var C;let O=(C=t.shouldUseVirtualFocus)!==null&&C!==void 0?C:i.shouldUseVirtualFocus;var M;let A=(M=t.isVirtualized)!==null&&M!==void 0?M:i.isVirtualized,D=yp(),U=yp(),R={role:"option","aria-disabled":o,"aria-selected":e.selectionManager.selectionMode!=="none"?d:void 0};Mw()&&Lne()||(R["aria-label"]=t["aria-label"],R["aria-labelledby"]=D,R["aria-describedby"]=U),A&&(R["aria-posinset"]=e.collection.getItem(r).index+1,R["aria-setsize"]=fO(e.collection));let{itemProps:X,isPressed:H}=hO({selectionManager:e.selectionManager,key:r,ref:n,shouldSelectOnPressUp:v,allowsDifferentPressOrigin:v,isVirtualized:A,shouldUseVirtualFocus:O,isDisabled:o}),{hoverProps:K}=y8({isDisabled:o||!E,onHoverStart(){pv()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(r))}});return{optionProps:{...R,...di(X,K),id:loe(e,r)},labelProps:{id:D},descriptionProps:{id:U},isFocused:h,isSelected:d,isDisabled:o,isPressed:H}}var r8e={};k8(r8e,"useListBoxSection",()=>i8e);function i8e(t){let{heading:e,"aria-label":n}=t,r=Nc();return{itemProps:{role:"presentation"},headingProps:e?{id:r,"aria-hidden":!0}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":e?r:void 0}}}const s8e="_listBox_e139i_1",o8e="_option_e139i_13",a8e="_focused_e139i_26",l8e="_disabled_e139i_30";var pS={listBox:s8e,option:o8e,focused:a8e,disabled:l8e};function c8e({state:t,optionClassName:e,className:n,listBoxRef:r,...i}){const s=ee.exports.useRef();r||(r=s);const{listBoxProps:o}=coe(i,t,r);return z.createElement("ul",{...o,ref:r,className:qr(pS.listBox,n)},[...t.collection].map(l=>z.createElement(u8e,{key:l.key,item:l,state:t,className:e})))}function u8e({item:t,state:e,className:n}){const r=ee.exports.useRef(),{optionProps:i,isSelected:s,isFocused:o,isDisabled:l}=uoe({key:t.key},e,r);return z.createElement("li",{...i,ref:r,className:qr(pS.option,n,{[pS.selected]:s,[pS.focused]:o,[pS.disables]:l})},t.rendered)}const d8e="_selectInput_15fnl_1",f8e="_label_15fnl_8",h8e="_selectTrigger_15fnl_15",p8e="_selectedItem_15fnl_34",g8e="_popover_15fnl_41";var L_={selectInput:d8e,label:f8e,selectTrigger:h8e,selectedItem:p8e,popover:g8e};function R3(t){const{t:e}=Ir(),n=soe(t),r=ee.exports.useRef(),{labelProps:i,triggerProps:s,valueProps:o,menuProps:l}=Qse(t,n,r),{buttonProps:d}=Lw(s,r);return z.createElement("div",{className:qr(L_.selectInput,t.className)},z.createElement("h4",{...i,className:L_.label},t.label),z.createElement(noe,{state:n,triggerRef:r,label:t.label,name:t.name}),z.createElement("button",{...d,ref:r,className:L_.selectTrigger},z.createElement("span",{...o,className:L_.selectedItem},n.selectedItem?n.selectedItem.rendered:e("Select an option")),z.createElement(mie,null)),n.isOpen&&z.createElement(ooe,{isOpen:n.isOpen,onClose:n.close,className:L_.popover},z.createElement(c8e,{...l,state:n,optionClassName:L_.option})))}const m8e=["org.matrix.msc3401.call","org.matrix.msc3401.call.member","calls","callStats","hangupCalls","toDeviceEvents","sentVoipEvents","content"];function y8e({name:t}){return m8e.includes(t)}function xC(t){const e=t.match(/@([^:]+):/);return e&&e.length>0?e[1].replace("-"," ").replace(/\W/g,""):t.replace(/\W/g,"")}function v8e(t,e){var n;if(t==="m.call.hangup")return`callId: ${e.call_id.slice(-4)} reason: ${e.reason} senderSID: ${e.sender_session_id} destSID: ${e.dest_session_id}`;if(t.startsWith("m.call."))return`callId: ${(n=e.call_id)==null?void 0:n.slice(-4)} senderSID: ${e.sender_session_id} destSID: ${e.dest_session_id}`;if(t==="org.matrix.msc3401.call.member"){const r=e["m.calls"]&&e["m.calls"].length>0&&e["m.calls"][0],i=r&&r["m.devices"]&&r["m.devices"].length>0&&r["m.devices"][0];return`conf_id: ${r&&r["m.call_id"].slice(-4)} sessionId: ${i&&i.session_id}`}else return""}const b8e=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3});function _8e(t){return b8e.format(t)}const mO=ee.exports.createContext(void 0);function w8e({children:t}){const e=ee.exports.useState({});return z.createElement(mO.Provider,{value:e},t)}function doe({localUserId:t,remoteUserIds:e,selectedUserId:n,onSelectUserId:r,events:i}){const s=ee.exports.useRef();return ee.exports.useEffect(()=>{MY.initialize({startOnLoad:!0,theme:"dark",sequence:{showSequenceNumbers:!0}})},[]),ee.exports.useEffect(()=>{const o=`sequenceDiagram
      participant ${xC(t)}
      participant Room
      participant ${n?xC(n):"unknown"}
      ${i?i.map(({to:l,from:d,timestamp:h,type:f,content:v,ignored:w})=>`${xC(d)} ${w?"-x":"->>"} ${xC(l)}: ${_8e(h)} ${f} ${v8e(f,v)}`).join(`
  `):""}
    `;MY.mermaidAPI.render("mermaid",o,l=>{s.current.innerHTML=l})},[i,t,n]),z.createElement("div",{className:qS.scrollContainer},z.createElement("div",{className:qS.sequenceDiagramViewer},z.createElement(R3,{className:qS.selectInput,label:"Remote User",selectedKey:n,onSelectionChange:r},e.map(o=>z.createElement(Wa,{key:o},o))),z.createElement("div",{id:"mermaid"}),z.createElement("div",{ref:s})))}function E8e(t,e){switch(e.type){case Ci.Events:{const{event:n,callStateEvent:r,memberStateEvents:i}=e;let s=t.eventsByUserId,o=t.remoteUserIds;if(n){const l=n.getStateKey();if(o=l===t.localUserId||s[l]?t.remoteUserIds:[...t.remoteUserIds,l],s={...t.eventsByUserId},n.getStateKey()===t.localUserId)for(const d in s)s[d]=[...s[d]||[],{from:l,to:"Room",type:n.getType(),content:n.getContent(),timestamp:n.getTs()||Date.now(),ignored:!1}];else s[l]=[...s[l]||[],{from:l,to:"Room",type:n.getType(),content:n.getContent(),timestamp:n.getTs()||Date.now(),ignored:!1}]}return{...t,eventsByUserId:s,remoteUserIds:o,callStateEvent:r.getContent(),memberStateEvents:Object.fromEntries(i.map(l=>[l.getStateKey(),l.getContent()]))}}case sr.ReceivedVoipEvent:{const n=e.event,r={...t.eventsByUserId},i=n.getSender(),s=t.localUserId,o=n.getContent(),l=r[i]?t.remoteUserIds:[...t.remoteUserIds,i];return r[i]=[...r[i]||[],{from:i,to:s,type:n.getType(),content:o,timestamp:n.getTs()||Date.now(),ignored:t.localSessionId!==o.dest_session_id}],{...t,eventsByUserId:r,remoteUserIds:l}}case fa.SendVoipEvent:{const n=e.rawEvent,r={...t.eventsByUserId},i=t.localUserId,s=n.userId,o=r[s]?t.remoteUserIds:[...t.remoteUserIds,s];return r[s]=[...r[s]||[],{from:i,to:s,type:n.eventType,content:n.content,timestamp:Date.now(),ignored:!1}],{...t,eventsByUserId:r,remoteUserIds:o}}default:return t}}function S8e(t,e,n){const[r,i]=ee.exports.useReducer(E8e,{localUserId:t.getUserId(),localSessionId:t.getSessionId(),eventsByUserId:{},remoteUserIds:[],callStateEvent:null,memberStateEvents:{}});return ee.exports.useEffect(()=>{function s(d){const h=e.room.currentState.getStateEvents("org.matrix.msc3401.call",e.groupCallId),f=e.room.currentState.getStateEvents("org.matrix.msc3401.call.member");i({type:Ci.Events,event:d,callStateEvent:h,memberStateEvents:f})}function o(d){i({type:sr.ReceivedVoipEvent,event:d})}function l(d){i({type:fa.SendVoipEvent,rawEvent:d})}return t.on(Ci.Events,s),e.on(fa.SendVoipEvent,l),t.on(sr.ReceivedVoipEvent,o),s(),()=>{t.removeListener(Ci.Events,s),e.removeListener(fa.SendVoipEvent,l),t.removeListener(sr.ReceivedVoipEvent,o)}},[t,e]),r}function foe({client:t,groupCall:e,show:n}){const[r,i]=ee.exports.useState("sequence-diagrams"),[s,o]=ee.exports.useState(),l=S8e(t,e),[d,h]=ee.exports.useContext(mO);return ee.exports.useEffect(()=>{h(l)},[h,l]),n?z.createElement(dxe,{enable:{top:!0},defaultSize:{height:200,width:void 0},className:qS.inspector},z.createElement("div",{className:qS.toolbar},z.createElement("button",{onClick:()=>i("sequence-diagrams")},"Sequence Diagrams"),z.createElement("button",{onClick:()=>i("inspector")},"Inspector")),r==="sequence-diagrams"&&z.createElement(doe,{localUserId:l.localUserId,selectedUserId:s,onSelectUserId:o,remoteUserIds:l.remoteUserIds,events:l.eventsByUserId[s]}),r==="inspector"&&z.createElement(fxe,{theme:"monokai",src:l,name:null,indentWidth:2,shouldCollapse:y8e,displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!0,style:{height:"100%",overflowY:"scroll"}})):null}function dK(){const t=_d().client,[e]=ee.exports.useContext(mO),[{sending:n,sent:r,error:i},s]=ee.exports.useState({sending:!1,sent:!1,error:null});return{submitRageshake:ee.exports.useCallback(async l=>{if(!n)try{s({sending:!0,sent:!1,error:null});let d="UNKNOWN";window.navigator&&window.navigator.userAgent&&(d=window.navigator.userAgent);let h="UNKNOWN";try{h=String(window.matchMedia("(pointer: coarse)").matches)}catch{}const f=new FormData;if(f.append("text",l.description||"User did not supply any additional text."),f.append("app","matrix-video-chat"),f.append("version",{}.VITE_APP_VERSION||"dev"),f.append("user_agent",d),f.append("installed_pwa","false"),f.append("touch_input",h),t){const v=t.getUserId(),w=t.getUser(v);if(f.append("display_name",w==null?void 0:w.displayName),f.append("user_id",t.credentials.userId),f.append("device_id",t.deviceId),l.roomId&&f.append("room_id",l.roomId),t.isCryptoEnabled()){const E=[`ed25519:${t.getDeviceEd25519Key()}`];t.getDeviceCurve25519Key&&E.push(`curve25519:${t.getDeviceCurve25519Key()}`),f.append("device_keys",E.join(", ")),f.append("cross_signing_key",t.getCrossSigningId());const C=t.crypto.crossSigningInfo,O=t.crypto.secretStorage;f.append("cross_signing_ready",String(await t.isCrossSigningReady())),f.append("cross_signing_supported_by_hs",String(await t.doesServerSupportUnstableFeature("org.matrix.e2e_cross_signing"))),f.append("cross_signing_key",C.getId()),f.append("cross_signing_privkey_in_secret_storage",String(!!await C.isStoredInSecretStorage(O)));const M=t.getCrossSigningCacheCallbacks();f.append("cross_signing_master_privkey_cached",String(!!(M&&await M.getCrossSigningKeyCache("master")))),f.append("cross_signing_self_signing_privkey_cached",String(!!(M&&await M.getCrossSigningKeyCache("self_signing")))),f.append("cross_signing_user_signing_privkey_cached",String(!!(M&&await M.getCrossSigningKeyCache("user_signing")))),f.append("secret_storage_ready",String(await t.isSecretStorageReady())),f.append("secret_storage_key_in_account",String(!!await O.hasKey())),f.append("session_backup_key_in_secret_storage",String(!!await t.isKeyBackupKeyStored()));const A=await t.crypto.getSessionBackupPrivateKey();f.append("session_backup_key_cached",String(!!A)),f.append("session_backup_key_well_formed",String(A instanceof Uint8Array))}}if(l.label&&f.append("label",l.label),navigator.storage&&navigator.storage.persisted)try{f.append("storageManager_persisted",String(await navigator.storage.persisted()))}catch{}else if(document.hasStorageAccess)try{f.append("storageManager_persisted",String(await document.hasStorageAccess()))}catch{}if(navigator.storage&&navigator.storage.estimate)try{const v=await navigator.storage.estimate();f.append("storageManager_quota",String(v.quota)),f.append("storageManager_usage",String(v.usage)),v.usageDetails&&Object.keys(v.usageDetails).forEach(w=>{f.append(`storageManager_usage_${w}`,String(v.usageDetails[w]))})}catch{}if(l.sendLogs){const v=await txe();for(const w of v){let E=new TextEncoder().encode(w.lines);E=WSe.gzip(E),f.append("compressed-log",new Blob([E]),w.id)}e&&f.append("file",new Blob([JSON.stringify(e)],{type:"text/plain"}),"groupcall.txt")}l.rageshakeRequestId&&f.append("group_call_rageshake_request_id",l.rageshakeRequestId),await fetch({}.VITE_RAGESHAKE_SUBMIT_URL||"https://element.io/bugreports/submit",{method:"POST",body:f}),s({sending:!1,sent:!0,error:null})}catch(d){s({sending:!1,sent:!1,error:d}),console.error(d)}},[t,e,n]),sending:n,sent:r,error:i}}function x8e(){const t=ee.exports.useContext(mO);return ee.exports.useCallback(()=>{const n=new Blob([JSON.stringify(t)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="groupcall.json",i.style.display="none",document.body.appendChild(i),i.click(),setTimeout(()=>{URL.revokeObjectURL(r),i.parentNode.removeChild(i)},0)},[t])}function k8e(){const{client:t}=_d();return ee.exports.useCallback((n,r)=>{t.sendEvent(n,"org.matrix.rageshake_request",{request_id:r})},[t])}function T8e(t){const{modalState:e,modalProps:n}=yu(),r=_d().client,[i,s]=ee.exports.useState();return ee.exports.useEffect(()=>{const o=l=>{l.getType()==="org.matrix.rageshake_request"&&t===l.getRoomId()&&r.getUserId()!==l.getSender()&&(s(l.getContent().request_id),e.open())};return r.on(sr.Event,o),()=>{r.removeListener(sr.Event,o)}},[e.open,t,r,e]),{modalState:e,modalProps:{...n,rageshakeRequestId:i}}}const C8e="_fieldRow_1lscb_1",I8e="_field_1lscb_1",R8e="_rightAlign_1lscb_14",M8e="_inputField_1lscb_26",O8e="_disabled_1lscb_45",L8e="_prefix_1lscb_100",A8e="_checkboxField_1lscb_118",P8e="_checkbox_1lscb_118",D8e="_errorMessage_1lscb_175",N8e="_description_1lscb_182";var lf={fieldRow:C8e,field:I8e,rightAlign:R8e,inputField:M8e,disabled:O8e,prefix:L8e,checkboxField:A8e,checkbox:P8e,errorMessage:D8e,description:N8e};class fK extends Error{constructor(e,n){super(n(e,{lng:"en-GB"})),this.translatedMessage=n(e)}}class B8e extends fK{}const Jy=(t,e)=>new B8e(t,e);function yi({children:t,rightAlign:e,className:n}){return z.createElement("div",{className:qr(lf.fieldRow,{[lf.rightAlign]:e},n)},t)}function hoe({children:t,className:e}){return z.createElement("div",{className:qr(lf.field,e)},t)}const Ya=ee.exports.forwardRef(({id:t,label:e,className:n,type:r,checked:i,prefix:s,suffix:o,description:l,disabled:d,...h},f)=>z.createElement(hoe,{className:qr(r==="checkbox"?lf.checkboxField:lf.inputField,{[lf.prefix]:!!s,[lf.disabled]:d},n)},s&&z.createElement("span",null,s),r==="textarea"?z.createElement("textarea",{id:t,ref:f,disabled:d,...h}):z.createElement("input",{id:t,ref:f,type:r,checked:i,disabled:d,...h}),z.createElement("label",{htmlFor:t},r==="checkbox"&&z.createElement("div",{className:lf.checkbox},z.createElement(nw,null)),e),o&&z.createElement("span",null,o),l&&z.createElement("p",{className:lf.description},l))),Ip=({error:t})=>z.createElement("p",{className:lf.errorMessage},t instanceof fK?t.translatedMessage:t.message),$8e="_page_jdao5_1",F8e="_header_jdao5_9",U8e="_container_jdao5_13",H8e="_content_jdao5_21",j8e="_wideButton_jdao5_40",K8e="_sendLogsSection_jdao5_45";var $g={page:$8e,header:F8e,container:U8e,content:H8e,wideButton:j8e,sendLogsSection:K8e};function rw({className:t,children:e}){return z.createElement("div",{className:qr($g.page,t)},z.createElement(sm,null,z.createElement(om,null,z.createElement(Gy,null)),z.createElement(am,null)),z.createElement("div",{className:$g.container},z.createElement("div",{className:$g.content},e)))}function T8({error:t}){const e=tm(),{t:n}=Ir();ee.exports.useEffect(()=>{console.error(t)},[t]);const r=ee.exports.useCallback(()=>{window.location.href="/"},[]);return z.createElement(rw,null,z.createElement("h1",null,"Error"),z.createElement("p",null,t instanceof fK?t.translatedMessage:t.message),e.pathname==="/"?z.createElement(Di,{size:"lg",variant:"default",className:$g.homeLink,onPress:r},n("Return to home screen")):z.createElement(Kj,{size:"lg",variant:"default",className:$g.homeLink,to:"/"},n("Return to home screen")))}function z8e(){const{t}=Ir(),{submitRageshake:e,sending:n,sent:r,error:i}=dK(),s=ee.exports.useCallback(()=>{e({description:"**Soft Crash**",sendLogs:!0})},[e]),o=ee.exports.useCallback(()=>{window.location.href="/"},[]);let l=null;return r?l=z.createElement("div",null,t("Thanks! We'll get right on it.")):n?l=z.createElement("div",null,t("Sending\u2026")):l=z.createElement(Di,{size:"lg",variant:"default",onPress:s,className:$g.wideButton},t("Send debug logs")),z.createElement(rw,null,z.createElement(xf,null,z.createElement("h1",null,"Oops, something's gone wrong."),z.createElement("p",null,"Submitting debug logs will help us track down the problem.")),z.createElement("div",{className:$g.sendLogsSection},l),i&&z.createElement(Ip,{error:Jy("Couldn't send debug logs!",t)}),z.createElement(Di,{size:"lg",variant:"default",className:$g.wideButton,onPress:o},t("Return to home screen")))}function yO(){const{t}=Ir();return z.createElement(rw,null,z.createElement("h1",null,t("Loading\u2026")))}class q8e extends Ile{constructor(){super(...arguments),this.eventBacklogs=new Map}emit(e,...n){const r=super.emit(e,...n);if(!r){const i=this.eventBacklogs.get(e);i?i.push(n):this.eventBacklogs.set(e,[n])}return r}on(e,n){super.on(e,n);const r=this.eventBacklogs.get(e);if(r){for(const i of r)super.emit(e,...i);this.eventBacklogs.delete(e)}return this}addListener(e,n){return this.on(e,n)}once(e,n){super.once(e,n);const r=this.eventBacklogs.get(e);return r&&(super.emit(e,...r[0]),r.length===1?this.eventBacklogs.delete(e):r.shift()),this}}var ru=(t=>(t.JoinCall="io.element.join",t.HangupCall="im.vector.hangup",t.TileLayout="io.element.tile_layout",t.SpotlightLayout="io.element.spotlight_layout",t))(ru||{});const os=(()=>{try{const t=new URLSearchParams(window.location.search),e=t.get("widgetId"),n=t.get("parentUrl");if(e&&n){const r=new URL(n).origin;V.info("Widget API is available");const i=new Phe(e,r);i.requestCapability(BU.AlwaysOnScreen);const s=new q8e;["io.element.join","im.vector.hangup","io.element.tile_layout","io.element.spotlight_layout"].forEach(O=>{i.on(`action:${O}`,M=>{M.preventDefault(),s.emit(O,M)})});const{roomId:o,userId:l,deviceId:d,baseUrl:h}=oO();if(!o)throw new Error("Room ID must be supplied");if(!l)throw new Error("User ID must be supplied");if(!d)throw new Error("Device ID must be supplied");if(!h)throw new Error("Base URL must be supplied");const f=[{eventType:Ot.GroupCallPrefix},{eventType:Ot.GroupCallMemberPrefix,stateKey:l}],v=[{eventType:Ot.RoomMember},{eventType:Ot.GroupCallPrefix},{eventType:Ot.GroupCallMemberPrefix}],w=[Ot.CallInvite,Ot.CallCandidates,Ot.CallAnswer,Ot.CallHangup,Ot.CallReject,Ot.CallSelectAnswer,Ot.CallNegotiate,Ot.CallSDPStreamMetadataChanged,Ot.CallSDPStreamMetadataChangedPrefix,Ot.CallReplaces],E=nQ(i,{sendState:f,receiveState:v,sendToDevice:w,receiveToDevice:w,turnServers:!0},o,{baseUrl:h,userId:l,deviceId:d,timelineSupport:!0}),C=E.startClient().then(()=>E);return{api:i,lazyActions:s,client:C}}else return V.info("No widget API available"),null}catch(t){return V.warn("Continuing without the widget API",t),null}})(),NY=()=>{const t=localStorage.getItem("matrix-auth-store");return t?JSON.parse(t):null},BY=t=>localStorage.setItem("matrix-auth-store",JSON.stringify(t)),aB=()=>localStorage.removeItem("matrix-auth-store"),poe=ee.exports.createContext(null),V8e=({children:t})=>{const e=Tp(),[{loading:n,isAuthenticated:r,isPasswordlessUser:i,client:s,userName:o,error:l},d]=ee.exports.useState({loading:!0,isAuthenticated:!1,isPasswordlessUser:!1,client:void 0,userName:null,error:void 0});ee.exports.useEffect(()=>{(async()=>{if(os)return V.log("Using a matryoshka client"),{client:await os.client,isPasswordlessUser:!1};try{const O=NY();if(!O)return{client:void 0,isPasswordlessUser:!1};V.log("Using a standalone client");const{user_id:M,device_id:A,access_token:D,passwordlessUser:U}=O;try{return{client:await RR({baseUrl:Vy,accessToken:D,userId:M,deviceId:A},!0),isPasswordlessUser:U}}catch(R){if(R instanceof pI)try{await(await RR({baseUrl:Vy,accessToken:D,userId:M,deviceId:A},!1)).logout(!0)}catch{V.warn("The previous session was lost, and we couldn't log it out, either")}throw R}}catch(O){throw aB(),O}})().then(({client:O,isPasswordlessUser:M})=>{d({client:O,loading:!1,isAuthenticated:Boolean(O),isPasswordlessUser:M,userName:O==null?void 0:O.getUserIdLocalpart(),error:void 0})}).catch(O=>{V.error(O),d({client:void 0,loading:!1,isAuthenticated:!1,isPasswordlessUser:!1,userName:null,error:void 0})})},[]);const h=ee.exports.useCallback(async C=>{const{tempPassword:O,...M}=NY();await s.setPassword({type:"m.login.password",identifier:{type:"m.id.user",user:M.user_id},user:M.user_id,password:O},C),BY({...M,passwordlessUser:!1}),d({client:s,loading:!1,isAuthenticated:!0,isPasswordlessUser:!1,userName:s.getUserIdLocalpart(),error:void 0})},[s]),f=ee.exports.useCallback((C,O)=>{s&&s!==C&&s.stopClient(),C?(BY(O),d({client:C,loading:!1,isAuthenticated:!0,isPasswordlessUser:O.passwordlessUser,userName:C.getUserIdLocalpart(),error:void 0})):(aB(),d({client:void 0,loading:!1,isAuthenticated:!1,isPasswordlessUser:!1,userName:null,error:void 0}))},[s]),v=ee.exports.useCallback(async()=>{await s.logout(!0),await s.clearStores(),aB(),d({client:void 0,loading:!1,isAuthenticated:!1,isPasswordlessUser:!0,userName:"",error:void 0}),e.push("/")},[e,s]),{t:w}=Ir();ee.exports.useEffect(()=>{if(!os&&s){const C=Date.now(),O=M=>{if(M.getType()!=="org.matrix.call_duplicate_session")return;const A=M.getContent();A.session_id!==s.getSessionId()&&A.timestamp>C&&(s==null||s.stopClient(),d(D=>({...D,error:Jy("This application has been opened in another tab.",w)})))};return s.on(sr.ToDeviceEvent,O),s.sendToDevice("org.matrix.call_duplicate_session",{[s.getUserId()]:{"*":{session_id:s.getSessionId(),timestamp:C}}}),()=>{s==null||s.removeListener(sr.ToDeviceEvent,O)}}},[s,w]);const E=ee.exports.useMemo(()=>({loading:n,isAuthenticated:r,isPasswordlessUser:i,client:s,changePassword:h,logout:v,userName:o,setClient:f,error:void 0}),[n,r,i,s,h,v,o,f]);return ee.exports.useEffect(()=>{window.matrixclient=s},[s]),l?z.createElement(T8,{error:l}):z.createElement(poe.Provider,{value:E},t)},_d=()=>ee.exports.useContext(poe);function vO(t){const[{loading:e,displayName:n,avatarUrl:r,error:i,success:s},o]=ee.exports.useState(()=>{const d=t==null?void 0:t.getUser(t.getUserId());return{success:!1,loading:!1,displayName:d==null?void 0:d.rawDisplayName,avatarUrl:d==null?void 0:d.avatarUrl,error:null}});ee.exports.useEffect(()=>{const d=(f,{displayName:v,avatarUrl:w})=>{o({success:!1,loading:!1,displayName:v,avatarUrl:w,error:null})};let h;if(t){const f=t.getUserId();h=t.getUser(f),h.on(Ic.DisplayName,d),h.on(Ic.AvatarUrl,d)}return()=>{h&&(h.removeListener(Ic.DisplayName,d),h.removeListener(Ic.AvatarUrl,d))}},[t]);const l=ee.exports.useCallback(async({displayName:d,avatar:h,removeAvatar:f})=>{if(t){o(v=>({...v,loading:!0,error:null,success:!1}));try{await t.setDisplayName(d);let v;f?await t.setAvatarUrl(""):h&&({content_uri:v}=await t.uploadContent(h),await t.setAvatarUrl(v)),o(w=>({...w,displayName:d,avatarUrl:f?null:v!=null?v:w.avatarUrl,loading:!1,success:!0}))}catch(v){o(w=>({...w,loading:!1,error:v instanceof Error?v:Error(v),success:!1}))}}else console.error("Client not initialized before calling saveProfile")},[t]);return{loading:e,error:i,displayName:n,avatarUrl:r,saveProfile:l,success:s}}function G8e(t){return ee.exports.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M2.64856 7.35501C2.65473 7.31601 2.67231 7.27972 2.69908 7.25069L8.40377 1.06442C8.47865 0.983217 8.60518 0.978093 8.68638 1.05297L9.8626 2.13763C9.9438 2.21251 9.94893 2.33904 9.87405 2.42024L4.16936 8.60651C4.1426 8.63554 4.10783 8.656 4.06946 8.6653L2.66781 9.00511C2.52911 9.03873 2.40084 8.92044 2.42315 8.77948L2.64856 7.35501Z",fill:"white"}),ee.exports.createElement("path",{d:"M1.75 9.44346C1.33579 9.44346 1 9.77925 1 10.1935C1 10.6077 1.33579 10.9435 1.75 10.9435L10.75 10.9435C11.1642 10.9435 11.5 10.6077 11.5 10.1935C11.5 9.77925 11.1642 9.44346 10.75 9.44346L1.75 9.44346Z",fill:"white"}))}const W8e="_avatarInputField_1xemn_1",Y8e="_avatarContainer_1xemn_7",X8e="_fileInput_1xemn_12",Z8e="_fileInputButton_1xemn_21",J8e="_removeButton_1xemn_39";var zE={avatarInputField:W8e,avatarContainer:Y8e,fileInput:X8e,fileInputButton:Z8e,removeButton:J8e};const Q8e=ee.exports.forwardRef(({id:t,label:e,className:n,avatarUrl:r,displayName:i,onRemoveAvatar:s,...o},l)=>{const{t:d}=Ir(),[h,f]=ee.exports.useState(!1),[v,w]=ee.exports.useState(null),E=Rw(l);ee.exports.useEffect(()=>{const O=E.current,M=A=>{const D=A;D.target.files.length>0?(w(URL.createObjectURL(D.target.files[0])),f(!1)):w(null)};return O.addEventListener("change",M),()=>{O==null||O.removeEventListener("change",M)}});const C=ee.exports.useCallback(()=>{f(!0),s()},[s]);return z.createElement("div",{className:qr(zE.avatarInputField,n)},z.createElement("div",{className:zE.avatarContainer},z.createElement(_p,{size:fu.XL,src:h?null:v||r,fallback:i.slice(0,1).toUpperCase()}),z.createElement("input",{id:t,accept:"image/png, image/jpeg",ref:E,type:"file",className:zE.fileInput,role:"button","aria-label":e,...o}),z.createElement("label",{htmlFor:t,className:zE.fileInputButton},z.createElement(G8e,null))),(r||v)&&!h&&z.createElement(Di,{className:zE.removeButton,variant:"icon",onPress:C},d("Remove")))}),e7e="_avatarFieldRow_43lvy_1";var t7e={avatarFieldRow:e7e};function n7e({client:t,...e}){const{onClose:n}=e,{t:r}=Ir(),{success:i,error:s,loading:o,displayName:l,avatarUrl:d,saveProfile:h}=vO(t),[f,v]=ee.exports.useState(l||""),[w,E]=ee.exports.useState(!1),C=ee.exports.useCallback(()=>{E(!0)},[]),O=ee.exports.useCallback(A=>{v(A.target.value)},[v]),M=ee.exports.useCallback(A=>{A.preventDefault();const D=new FormData(A.target),U=D.get("displayName"),R=D.get("avatar"),X=typeof R=="string"?R.length:R.size,H=typeof U=="string"?U:U.name;h({displayName:H,avatar:R&&X>0?R:void 0,removeAvatar:w&&(!R||X===0)})},[h,w]);return ee.exports.useEffect(()=>{i&&n()},[i,n]),z.createElement(im,{title:r("Profile"),isDismissable:!0,...e},z.createElement(Aw,null,z.createElement("form",{onSubmit:M},z.createElement(yi,{className:t7e.avatarFieldRow},z.createElement(Q8e,{id:"avatar",name:"avatar",label:r("Avatar"),avatarUrl:d,displayName:f,onRemoveAvatar:C})),z.createElement(yi,null,z.createElement(Ya,{id:"userId",name:"userId",label:r("User ID"),type:"text",disabled:!0,value:t.getUserId()})),z.createElement(yi,null,z.createElement(Ya,{id:"displayName",name:"displayName",label:r("Display name"),type:"text",required:!0,autoComplete:"off",placeholder:r("Display name"),value:f,onChange:O})),s&&z.createElement(yi,null,z.createElement(Ip,{error:s})),z.createElement(yi,{rightAlign:!0},z.createElement(Di,{type:"button",variant:"secondary",onPress:n},"Cancel"),z.createElement(Di,{type:"submit",disabled:o},r(o?"Saving\u2026":"Save"))))))}const r7e="_popoverMenuTrigger_uix67_1";var i7e={popoverMenuTrigger:r7e};const bO=ee.exports.forwardRef(({children:t,placement:e,className:n,disableOnState:r,...i},s)=>{const o=oK(i),l=Rw(s),{menuTriggerProps:d,menuProps:h}=iK({},o,l),f=ee.exports.useRef(),{overlayProps:v}=Aj({targetRef:l,overlayRef:f,placement:e||"top",offset:5,isOpen:o.isOpen});if(!Array.isArray(t)||t.length>2||typeof t[1]!="function")throw new Error("PopoverMenu must have two props. The first being a button and the second being a render prop.");const[w,E]=t;return z.createElement("div",{className:qr(i7e.popoverMenuTrigger,n)},z.createElement(w.type,{...di(w.props,d),on:!r&&o.isOpen,ref:l}),o.isOpen&&z.createElement(eO,null,z.createElement(ooe,{...v,isOpen:o.isOpen,onClose:o.close,ref:f},E({...h,autoFocus:o.focusStrategy,onClose:o.close}))))});function s7e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var o7e={};s7e(o7e,"useTreeState",()=>goe);var a7e=Symbol.iterator;class l7e{*[a7e](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let n=this.keyMap.get(e);return n?n.prevKey:null}getKeyAfter(e){let n=this.keyMap.get(e);return n?n.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const n=[...this.getKeys()];return this.getItem(n[e])}constructor(e,{expandedKeys:n}={}){this.keyMap=new Map,this.iterable=e,n=n||new Set;let r=o=>{if(this.keyMap.set(o.key,o),o.childNodes&&(o.type==="section"||n.has(o.key)))for(let l of o.childNodes)r(l)};for(let o of e)r(o);let i,s=0;for(let[o,l]of this.keyMap)i?(i.nextKey=o,l.prevKey=i.key):(this.firstKey=o,l.prevKey=void 0),l.type==="item"&&(l.index=s++),i=l,i.nextKey=void 0;this.lastKey=i==null?void 0:i.key}}function goe(t){let[e,n]=h8(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,t.onExpandedChange),r=aK(t),i=ee.exports.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),s=Jj(t,l=>new l7e(l,{expandedKeys:e}),null,[e]);return ee.exports.useEffect(()=>{r.focusedKey!=null&&!s.getItem(r.focusedKey)&&r.setFocusedKey(null)},[s,r.focusedKey]),{collection:s,expandedKeys:e,disabledKeys:i,toggleKey:l=>{n(c7e(e,l))},selectionManager:new lK(s,r)}}function c7e(t,e){let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}const u7e="_menu_1fanh_1",d7e="_menuItem_1fanh_8",f7e="_focused_1fanh_26",h7e="_checkIcon_1fanh_43";var Qy={menu:u7e,menuItem:d7e,focused:f7e,checkIcon:h7e};function _O({className:t,onAction:e,onClose:n,label:r,...i}){const s=goe({...i,selectionMode:"none"}),o=ee.exports.useRef(),{menuProps:l}=Zse(i,s,o);return z.createElement("ul",{...di(l,i),ref:o,className:qr(Qy.menu,t)},[...s.collection].map(d=>z.createElement(p7e,{key:d.key,item:d,state:s,onAction:e,onClose:n})))}function p7e({item:t,state:e,onAction:n,onClose:r}){const i=ee.exports.useRef(),{menuItemProps:s}=Jse({key:t.key,onAction:n,onClose:r},e,i),[o,l]=ee.exports.useState(!1),{focusProps:d}=m8({onFocusChange:l});return z.createElement("li",{...di(s,d),ref:i,className:qr(Qy.menuItem,{[Qy.focused]:o})},t.rendered)}function $Y(t){return ee.exports.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("mask",{id:"path-1-inside-1_898_2641",fill:"white"},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1502 20.1214C15.3946 21.3074 13.2782 22 11 22C8.52367 22 6.23845 21.1817 4.4 19.8008C1.72821 17.794 0 14.5988 0 11C0 4.92487 4.92487 0 11 0C17.0751 0 22 4.92487 22 11C22 14.797 20.0762 18.1446 17.1502 20.1214ZM11 11.55C12.8225 11.55 14.3 9.94942 14.3 7.975C14.3 6.00058 12.8225 4.4 11 4.4C9.17746 4.4 7.7 6.00058 7.7 7.975C7.7 9.94942 9.17746 11.55 11 11.55ZM11 19.8C13.3782 19.8 15.536 18.8566 17.1197 17.3237C16.1403 14.9056 13.7693 13.2 11 13.2C8.23066 13.2 5.85969 14.9056 4.88028 17.3237C6.46399 18.8566 8.62183 19.8 11 19.8Z"})),ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1502 20.1214C15.3946 21.3074 13.2782 22 11 22C8.52367 22 6.23845 21.1817 4.4 19.8008C1.72821 17.794 0 14.5988 0 11C0 4.92487 4.92487 0 11 0C17.0751 0 22 4.92487 22 11C22 14.797 20.0762 18.1446 17.1502 20.1214ZM11 11.55C12.8225 11.55 14.3 9.94942 14.3 7.975C14.3 6.00058 12.8225 4.4 11 4.4C9.17746 4.4 7.7 6.00058 7.7 7.975C7.7 9.94942 9.17746 11.55 11 11.55ZM11 19.8C13.3782 19.8 15.536 18.8566 17.1197 17.3237C16.1403 14.9056 13.7693 13.2 11 13.2C8.23066 13.2 5.85969 14.9056 4.88028 17.3237C6.46399 18.8566 8.62183 19.8 11 19.8Z",fill:"white"}),ee.exports.createElement("path",{d:"M17.1502 20.1214L17.9339 21.2814L17.1502 20.1214ZM4.4 19.8008L3.55919 20.9202H3.55919L4.4 19.8008ZM17.1197 17.3237L18.0934 18.3296L18.7717 17.6731L18.4173 16.7981L17.1197 17.3237ZM4.88028 17.3237L3.58268 16.7981L3.22829 17.6731L3.90659 18.3296L4.88028 17.3237ZM11 23.4C13.5662 23.4 15.9541 22.619 17.9339 21.2814L16.3665 18.9613C14.835 19.9959 12.9902 20.6 11 20.6V23.4ZM3.55919 20.9202C5.63176 22.477 8.21011 23.4 11 23.4V20.6C8.83723 20.6 6.84514 19.8865 5.24081 18.6814L3.55919 20.9202ZM-1.4 11C-1.4 15.0577 0.55052 18.6603 3.55919 20.9202L5.24081 18.6814C2.90591 16.9276 1.4 14.1399 1.4 11H-1.4ZM11 -1.4C4.15167 -1.4 -1.4 4.15167 -1.4 11H1.4C1.4 5.69807 5.69807 1.4 11 1.4V-1.4ZM23.4 11C23.4 4.15167 17.8483 -1.4 11 -1.4V1.4C16.3019 1.4 20.6 5.69807 20.6 11H23.4ZM17.9339 21.2814C21.2288 19.0554 23.4 15.2815 23.4 11H20.6C20.6 14.3124 18.9236 17.2337 16.3665 18.9613L17.9339 21.2814ZM12.9 7.975C12.9 9.28384 11.9459 10.15 11 10.15V12.95C13.6991 12.95 15.7 10.615 15.7 7.975H12.9ZM11 5.8C11.9459 5.8 12.9 6.66616 12.9 7.975H15.7C15.7 5.335 13.6991 3 11 3V5.8ZM9.1 7.975C9.1 6.66616 10.0541 5.8 11 5.8V3C8.30086 3 6.3 5.335 6.3 7.975H9.1ZM11 10.15C10.0541 10.15 9.1 9.28384 9.1 7.975H6.3C6.3 10.615 8.30086 12.95 11 12.95V10.15ZM16.146 16.3178C14.8129 17.6081 13.0004 18.4 11 18.4V21.2C13.756 21.2 16.2591 20.1051 18.0934 18.3296L16.146 16.3178ZM11 14.6C13.1797 14.6 15.0494 15.9415 15.8221 17.8493L18.4173 16.7981C17.2312 13.8697 14.359 11.8 11 11.8V14.6ZM6.17788 17.8493C6.95058 15.9415 8.8203 14.6 11 14.6V11.8C7.64102 11.8 4.7688 13.8697 3.58268 16.7981L6.17788 17.8493ZM11 18.4C8.99963 18.4 7.18709 17.6081 5.85397 16.3178L3.90659 18.3296C5.74088 20.1051 8.24402 21.2 11 21.2V18.4Z",fill:"white",mask:"url(#path-1-inside-1_898_2641)"}))}function g7e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.49966 2.38889C7.49966 1.89797 7.89763 1.5 8.38855 1.5H20.1108C20.6017 1.5 20.9997 1.89797 20.9997 2.38889V21.6111C20.9997 22.102 20.6017 22.5 20.1108 22.5H8.38855C7.89763 22.5 7.49966 22.102 7.49966 21.6111V12.6667H7.49089H7.4821H7.47331H7.46452H7.45573H7.44694H7.43815H7.42936H7.42057H7.41178H7.403H7.39421H7.38542H7.37663H7.36784H7.35905H7.35026H7.34147H7.33268H7.32389H7.3151H7.30632H7.29753H7.28874H7.27995H7.27116H7.26237H7.25358H7.24479H7.236H7.22721H7.21842H7.20964H7.20085H7.19206H7.18327H7.17448H7.16569H7.1569H7.14811H7.13932H7.13053H7.12175H7.11296H7.10417H7.09538H7.08659H7.0778H7.06901H7.06022H7.05143H7.04264H7.03385H7.02507H7.01628H7.00749H6.9987H6.98991H6.98112H6.97233H6.96354H6.95475H6.94596H6.93717H6.92839H6.9196H6.91081H6.90202H6.89323H6.88444H6.87565H6.86686H6.85807H6.84928H6.8405H6.83171H6.82292H6.81413H6.80534H6.79655H6.78776H6.77897H6.77018H6.76139H6.7526H6.74382H6.73503H6.72624H6.71745H6.70866H6.69987H6.69108H6.68229H6.6735H6.66471H6.65592H6.64714H6.63835H6.62956H6.62077H6.61198H6.60319H6.5944H6.58561H6.57682H6.56803H6.55925H6.55046H6.54167H6.53288H6.52409H6.5153H6.50651H6.49772H6.48893H6.48014H6.47135H6.46257H6.45378H6.44499H6.4362H6.42741H6.41862H6.40983H6.40104H6.39225H6.38346H6.37467H6.36589H6.3571H6.34831H6.33952H6.33073H6.32194H6.31315H6.30436H6.29557H6.28678H6.27799H6.26921H6.26042H6.25163H6.24284H6.23405H6.22526H6.21647H6.20768H6.19889H6.1901H6.18132H6.17253H6.16374H6.15495H6.14616H6.13737H6.12858H6.11979H6.111H6.10221H6.09342H6.08464H6.07585H6.06706H6.05827H6.04948H6.04069H6.0319H6.02311H6.01432H6.00553H5.99674H5.98796H5.97917H5.97038H5.96159H5.9528H5.94401H5.93522H5.92643H5.91764H5.90885H5.90007H5.89128H5.88249H5.8737H5.86491H5.85612H5.84733H5.83854H5.82975H5.82096H5.81217H5.80339H5.7946H5.78581H5.77702H5.76823H5.75944H5.75065H5.74186H5.73307H5.72428H5.71549H5.70671H5.69792H5.68913H5.68034H5.67155H5.66276H5.65397H5.64518H5.63639H5.6276H5.61882H5.61003H5.60124H5.59245H5.58366H5.57487H5.56608H5.55729H5.5485H5.53971H5.53092H5.52214H5.51335H5.50456H5.49577H5.48698H5.47819H5.4694H5.46061H5.45182H5.44303H5.43424H5.42546H5.41667H5.40788H5.39909H5.3903H5.38151H5.37272H5.36393H5.35514H5.34635H5.33757H5.32878H5.31999H5.3112H5.30241H5.29362H5.28483H5.27604H5.26725H5.25846H5.24967H5.24089H5.2321H5.22331H5.21452H5.20573H5.19694H5.18815H5.17936H5.17057H5.16178H5.15299H5.14421H5.13542H5.12663H5.11784H5.10905H5.10026H5.09147H5.08268H5.07389H5.0651H5.05632H5.04753H5.03874H5.02995H5.02116H5.01237H5.00358H4.99479H4.986H4.97721H4.96842H4.95964H4.95085H4.94206H4.93327H4.92448H4.91569H4.9069H4.89811H4.88932H4.88053H4.87174H4.86296H4.85417H4.84538H4.83659H4.8278H4.81901H4.81022H4.80143H4.79264H4.78385H4.77507H4.76628H4.75749H4.7487H4.73991H4.73112H4.72233H4.71354H4.70475H4.69596H4.68717H4.67839H4.6696H4.66081H4.65202H4.64323H4.63444H4.62565H4.61686H4.60807H4.59928H4.59049H4.58171H4.57292H4.56413H4.55534H4.54655H4.53776H4.52897H4.52018H4.51139H4.5026H4.49382H4.48503H4.47624H4.46745H4.45866H4.44987H4.44108H4.43229H4.4235H4.41471H4.40592H4.39714H4.38835H4.37956H4.37077H4.36198H4.35319H4.3444H4.33561H4.32682H4.31803H4.30924H4.30046H4.29167H4.28288H4.27409H4.2653H4.25651H4.24772H4.23893H4.23014H4.22135H4.21257H4.20378H4.19499H4.1862H4.17741H4.16862H4.15983H4.15104H4.14225H4.13346H4.12467H4.11589H4.1071H4.09831H4.08952H4.08073H4.07194H4.06315H4.05436H4.04557H4.03678H4.02799H4.01921H4.01042H4.00163H3.99284H3.98405H3.97526H3.96647H3.95768H3.94889H3.9401H3.93132H3.92253H3.91374H3.90495H3.89616H3.88737H3.87858H3.86979H3.861H3.85221H3.84342H3.83464H3.82585H3.81706H3.80827H3.79948H3.79069H3.7819H3.77311H3.76432H3.75553H3.74674H3.73796H3.72917H3.72038H3.71159H3.7028H3.69401H3.68522H3.67643H3.66764H3.65885H3.65007H3.64128H3.63249H3.6237H3.61491H3.60612H3.59733H3.58854H3.57975H3.57096H3.56217H3.55339H3.5446H3.53581H3.52702H3.51823H3.50944H3.50065H3.49186H3.48307H3.47428H3.46549H3.45671H3.44792H3.43913H3.43034H3.42155H3.41276H3.40397H3.39518H3.38639H3.3776H3.36882H3.36003H3.35124H3.34245H3.33366H3.32487H3.31608H3.30729H3.2985H3.28971H3.28092H3.27214H3.26335H3.25456H3.24577H3.23698H3.22819H3.2194H3.21061H3.20182H3.19303H3.18424H3.17546H3.16667H3.15788H3.14909H3.1403H3.13151H3.12272H3.11393H3.10514H3.09635H3.08757H3.07878H3.06999H3.0612H3.05241H3.04362H3.03483H3.02604H3.01725H3.00846H2.99967C2.63148 12.6667 2.33301 12.3682 2.33301 12C2.33301 11.6318 2.63148 11.3333 2.99967 11.3333H3.00846H3.01725H3.02604H3.03483H3.04362H3.05241H3.0612H3.06999H3.07878H3.08757H3.09635H3.10514H3.11393H3.12272H3.13151H3.1403H3.14909H3.15788H3.16667H3.17546H3.18424H3.19303H3.20182H3.21061H3.2194H3.22819H3.23698H3.24577H3.25456H3.26335H3.27214H3.28092H3.28971H3.2985H3.30729H3.31608H3.32487H3.33366H3.34245H3.35124H3.36003H3.36882H3.3776H3.38639H3.39518H3.40397H3.41276H3.42155H3.43034H3.43913H3.44792H3.45671H3.46549H3.47428H3.48307H3.49186H3.50065H3.50944H3.51823H3.52702H3.53581H3.5446H3.55339H3.56217H3.57096H3.57975H3.58854H3.59733H3.60612H3.61491H3.6237H3.63249H3.64128H3.65007H3.65885H3.66764H3.67643H3.68522H3.69401H3.7028H3.71159H3.72038H3.72917H3.73796H3.74674H3.75553H3.76432H3.77311H3.7819H3.79069H3.79948H3.80827H3.81706H3.82585H3.83464H3.84342H3.85221H3.861H3.86979H3.87858H3.88737H3.89616H3.90495H3.91374H3.92253H3.93132H3.9401H3.94889H3.95768H3.96647H3.97526H3.98405H3.99284H4.00163H4.01042H4.01921H4.02799H4.03678H4.04557H4.05436H4.06315H4.07194H4.08073H4.08952H4.09831H4.1071H4.11589H4.12467H4.13346H4.14225H4.15104H4.15983H4.16862H4.17741H4.1862H4.19499H4.20378H4.21257H4.22135H4.23014H4.23893H4.24772H4.25651H4.2653H4.27409H4.28288H4.29167H4.30046H4.30924H4.31803H4.32682H4.33561H4.3444H4.35319H4.36198H4.37077H4.37956H4.38835H4.39714H4.40592H4.41471H4.4235H4.43229H4.44108H4.44987H4.45866H4.46745H4.47624H4.48503H4.49382H4.5026H4.51139H4.52018H4.52897H4.53776H4.54655H4.55534H4.56413H4.57292H4.58171H4.59049H4.59928H4.60807H4.61686H4.62565H4.63444H4.64323H4.65202H4.66081H4.6696H4.67839H4.68717H4.69596H4.70475H4.71354H4.72233H4.73112H4.73991H4.7487H4.75749H4.76628H4.77507H4.78385H4.79264H4.80143H4.81022H4.81901H4.8278H4.83659H4.84538H4.85417H4.86296H4.87174H4.88053H4.88932H4.89811H4.9069H4.91569H4.92448H4.93327H4.94206H4.95085H4.95964H4.96842H4.97721H4.986H4.99479H5.00358H5.01237H5.02116H5.02995H5.03874H5.04753H5.05631H5.0651H5.07389H5.08268H5.09147H5.10026H5.10905H5.11784H5.12663H5.13542H5.14421H5.15299H5.16178H5.17057H5.17936H5.18815H5.19694H5.20573H5.21452H5.22331H5.2321H5.24089H5.24967H5.25846H5.26725H5.27604H5.28483H5.29362H5.30241H5.3112H5.31999H5.32878H5.33757H5.34635H5.35514H5.36393H5.37272H5.38151H5.3903H5.39909H5.40788H5.41667H5.42546H5.43424H5.44303H5.45182H5.46061H5.4694H5.47819H5.48698H5.49577H5.50456H5.51335H5.52214H5.53092H5.53971H5.5485H5.55729H5.56608H5.57487H5.58366H5.59245H5.60124H5.61003H5.61882H5.6276H5.63639H5.64518H5.65397H5.66276H5.67155H5.68034H5.68913H5.69792H5.70671H5.71549H5.72428H5.73307H5.74186H5.75065H5.75944H5.76823H5.77702H5.78581H5.7946H5.80339H5.81217H5.82096H5.82975H5.83854H5.84733H5.85612H5.86491H5.8737H5.88249H5.89128H5.90007H5.90885H5.91764H5.92643H5.93522H5.94401H5.9528H5.96159H5.97038H5.97917H5.98796H5.99674H6.00553H6.01432H6.02311H6.0319H6.04069H6.04948H6.05827H6.06706H6.07585H6.08464H6.09342H6.10221H6.111H6.11979H6.12858H6.13737H6.14616H6.15495H6.16374H6.17253H6.18132H6.1901H6.19889H6.20768H6.21647H6.22526H6.23405H6.24284H6.25163H6.26042H6.26921H6.27799H6.28678H6.29557H6.30436H6.31315H6.32194H6.33073H6.33952H6.34831H6.3571H6.36589H6.37467H6.38346H6.39225H6.40104H6.40983H6.41862H6.42741H6.4362H6.44499H6.45378H6.46257H6.47135H6.48014H6.48893H6.49772H6.50651H6.5153H6.52409H6.53288H6.54167H6.55046H6.55925H6.56803H6.57682H6.58561H6.5944H6.60319H6.61198H6.62077H6.62956H6.63835H6.64714H6.65592H6.66471H6.6735H6.68229H6.69108H6.69987H6.70866H6.71745H6.72624H6.73503H6.74382H6.7526H6.76139H6.77018H6.77897H6.78776H6.79655H6.80534H6.81413H6.82292H6.83171H6.8405H6.84928H6.85807H6.86686H6.87565H6.88444H6.89323H6.90202H6.91081H6.9196H6.92839H6.93717H6.94596H6.95475H6.96354H6.97233H6.98112H6.98991H6.9987H7.00749H7.01628H7.02507H7.03385H7.04264H7.05143H7.06022H7.06901H7.0778H7.08659H7.09538H7.10417H7.11296H7.12175H7.13053H7.13932H7.14811H7.1569H7.16569H7.17448H7.18327H7.19206H7.20085H7.20964H7.21842H7.22721H7.236H7.24479H7.25358H7.26237H7.27116H7.27995H7.28874H7.29753H7.30632H7.3151H7.32389H7.33268H7.34147H7.35026H7.35905H7.36784H7.37663H7.38542H7.39421H7.403H7.41178H7.42057H7.42936H7.43815H7.44694H7.45573H7.46452H7.47331H7.4821H7.49089H7.49966V2.38889ZM13.3687 6.24853C13.1172 5.9796 12.7095 5.9796 12.458 6.24853C12.2065 6.51747 12.2065 6.9535 12.458 7.22243L16.3022 11.3336L16.2894 11.3336L16.2726 11.3336L16.2558 11.3336L16.239 11.3335L16.2223 11.3335L16.2055 11.3335L16.1887 11.3335L16.1719 11.3335L16.1552 11.3334L16.1384 11.3334L16.1216 11.3334L16.1048 11.3334L16.088 11.3334L16.0713 11.3333L16.0545 11.3333L16.0377 11.3333L16.0209 11.3333L16.0041 11.3333L15.9874 11.3332L15.9706 11.3332L15.9538 11.3332L15.937 11.3332L15.9202 11.3332L15.9035 11.3331L15.8867 11.3331L15.8699 11.3331L15.8531 11.3331L15.8364 11.3331L15.8196 11.333L15.8028 11.333L15.786 11.333L15.7692 11.333L15.7525 11.333L15.7357 11.3329L15.7189 11.3329L15.7021 11.3329L15.6853 11.3329L15.6686 11.3329L15.6518 11.3328L15.635 11.3328L15.6182 11.3328L15.6014 11.3328L15.5847 11.3328L15.5679 11.3327L15.5511 11.3327L15.5343 11.3327L15.5175 11.3327L15.5008 11.3327L15.484 11.3326L15.4672 11.3326L15.4504 11.3326L15.4337 11.3326L15.4169 11.3326L15.4001 11.3325L15.3833 11.3325L15.3665 11.3325L15.3498 11.3325L15.333 11.3324L15.3162 11.3324L15.2994 11.3324L15.2826 11.3324L15.2659 11.3324L15.2491 11.3323L15.2323 11.3323L15.2155 11.3323L15.1987 11.3323L15.182 11.3323L15.1652 11.3322L15.1484 11.3322L15.1316 11.3322L15.1148 11.3322L15.0981 11.3322L15.0813 11.3321L15.0645 11.3321L15.0477 11.3321L15.031 11.3321L15.0142 11.3321L14.9974 11.332L14.9806 11.332L14.9638 11.332L14.9471 11.332L14.9303 11.332L14.9135 11.3319L14.8967 11.3319L14.8799 11.3319L14.8632 11.3319L14.8464 11.3319L14.8296 11.3318L14.8128 11.3318L14.796 11.3318L14.7793 11.3318L14.7625 11.3318L14.7457 11.3317L14.7289 11.3317L14.7122 11.3317L14.6954 11.3317L14.6786 11.3317L14.6618 11.3316L14.645 11.3316L14.6283 11.3316L14.6115 11.3316L14.5947 11.3316L14.5779 11.3315L14.5611 11.3315L14.5444 11.3315L14.5276 11.3315L14.5108 11.3315L14.494 11.3314L14.4772 11.3314L14.4605 11.3314L14.4437 11.3314L14.4269 11.3314L14.4101 11.3313L14.3933 11.3313L14.3766 11.3313L14.3598 11.3313L14.343 11.3313L14.3262 11.3312L14.3095 11.3312L14.2927 11.3312L14.2759 11.3312L14.2591 11.3312L14.2423 11.3311L14.2256 11.3311L14.2088 11.3311L14.192 11.3311L14.1752 11.3311L14.1584 11.331L14.1417 11.331L14.1249 11.331L14.1081 11.331L14.0913 11.331L14.0745 11.3309L14.0578 11.3309L14.041 11.3309L14.0242 11.3309L14.0074 11.3309L13.9906 11.3308L13.9739 11.3308L13.9571 11.3308L13.9403 11.3308L13.9235 11.3308L13.9068 11.3307L13.89 11.3307L13.8732 11.3307L13.8564 11.3307L13.8396 11.3307L13.8229 11.3306L13.8061 11.3306L13.7893 11.3306L13.7725 11.3306L13.7557 11.3306L13.739 11.3305L13.7222 11.3305L13.7054 11.3305L13.6886 11.3305L13.6718 11.3305L13.6551 11.3304L13.6383 11.3304L13.6215 11.3304L13.6047 11.3304L13.5879 11.3304L13.5712 11.3303L13.5544 11.3303L13.5376 11.3303L13.5208 11.3303L13.5041 11.3303L13.4873 11.3302L13.4705 11.3302L13.4537 11.3302L13.4369 11.3302L13.4202 11.3302L13.4034 11.3301L13.3866 11.3301L13.3698 11.3301L13.353 11.3301L13.3363 11.33L13.3195 11.33L13.3027 11.33L13.2859 11.33L13.2691 11.33L13.2524 11.3299L13.2356 11.3299L13.2188 11.3299L13.202 11.3299L13.1853 11.3299L13.1685 11.3298L13.1517 11.3298L13.1349 11.3298L13.1181 11.3298L13.1014 11.3298L13.0846 11.3297L13.0678 11.3297L13.051 11.3297L13.0342 11.3297L13.0175 11.3297L13.0007 11.3296L12.9839 11.3296L12.9671 11.3296L12.9503 11.3296L12.9336 11.3296L12.9168 11.3295L12.9 11.3295L12.8832 11.3295L12.8664 11.3295L12.8497 11.3295L12.8329 11.3294L12.8161 11.3294L12.7993 11.3294L12.7826 11.3294L12.7658 11.3294L12.749 11.3293L12.7322 11.3293L12.7154 11.3293L12.6987 11.3293L12.6819 11.3293L12.6651 11.3292L12.6483 11.3292L12.6315 11.3292L12.6148 11.3292L12.598 11.3292L12.5812 11.3291L12.5644 11.3291L12.5476 11.3291L12.5309 11.3291L12.5141 11.3291L12.4973 11.329L12.4805 11.329L12.4637 11.329L12.447 11.329L12.4302 11.329L12.4134 11.3289L12.3966 11.3289L12.3799 11.3289L12.3631 11.3289L12.3463 11.3289L12.3295 11.3288L12.3127 11.3288L12.296 11.3288L12.2792 11.3288L12.2624 11.3288L12.2456 11.3287L12.2288 11.3287L12.2121 11.3287L12.1953 11.3287L12.1785 11.3287L12.1617 11.3286L12.1449 11.3286L12.1282 11.3286L12.1114 11.3286L12.0946 11.3286L12.0778 11.3285L12.0611 11.3285L12.0443 11.3285L12.0275 11.3285L12.0107 11.3285L11.9939 11.3284L11.9772 11.3284L11.9604 11.3284L11.9436 11.3284L11.9268 11.3284L11.91 11.3283L11.8933 11.3283L11.8765 11.3283L11.8597 11.3283L11.8429 11.3283L11.8261 11.3282L11.8094 11.3282L11.7926 11.3282L11.7758 11.3282L11.759 11.3282L11.7422 11.3281L11.7255 11.3281L11.7087 11.3281L11.6919 11.3281L11.6751 11.3281L11.6583 11.328L11.6416 11.328L11.6248 11.328L11.608 11.328L11.5912 11.328L11.5745 11.3279L11.5577 11.3279L11.5409 11.3279L11.5241 11.3279L11.5073 11.3279L11.4906 11.3278L11.4738 11.3278L11.457 11.3278L11.4402 11.3278L11.4234 11.3278L11.4067 11.3277L11.3899 11.3277L11.3731 11.3277L11.3563 11.3277L11.3395 11.3277L11.3228 11.3276L11.306 11.3276L11.2892 11.3276L11.2724 11.3276L11.2557 11.3275L11.2389 11.3275L11.2221 11.3275L11.2053 11.3275L11.1885 11.3275L11.1718 11.3274L11.155 11.3274L11.1382 11.3274L11.1214 11.3274L11.1046 11.3274L11.0879 11.3273L11.0711 11.3273L11.0543 11.3273L11.0375 11.3273L11.0207 11.3273L11.004 11.3272L10.9872 11.3272L10.9704 11.3272L10.9536 11.3272L10.9368 11.3272L10.9201 11.3271L10.9033 11.3271L10.8865 11.3271L10.8697 11.3271L10.853 11.3271L10.8362 11.327L10.8194 11.327L10.8026 11.327L10.7858 11.327L10.7691 11.327L10.7523 11.3269L10.7355 11.3269L10.7187 11.3269L10.7019 11.3269L10.6852 11.3269L10.6684 11.3268L10.6516 11.3268L10.6348 11.3268L10.618 11.3268L10.6013 11.3268L10.5845 11.3267L10.5677 11.3267L10.5509 11.3267L10.5341 11.3267L10.5174 11.3267L10.5006 11.3266L10.4838 11.3266L10.467 11.3266L10.4503 11.3266L10.4335 11.3266L10.4167 11.3265L10.3999 11.3265L10.3831 11.3265L10.3664 11.3265L10.3496 11.3265L10.3328 11.3264L10.316 11.3264L10.2992 11.3264L10.2825 11.3264L10.2657 11.3264L10.2489 11.3263L10.2321 11.3263L10.2153 11.3263L10.1986 11.3263L10.1818 11.3263L10.165 11.3262L10.1482 11.3262L10.1315 11.3262L10.1147 11.3262L10.0979 11.3262L10.0811 11.3261L10.0643 11.3261L10.0476 11.3261L10.0308 11.3261L10.014 11.3261L9.99722 11.326L9.98044 11.326L9.96366 11.326L9.94688 11.326L9.9301 11.326L9.91332 11.3259L9.89654 11.3259L9.87977 11.3259L9.86299 11.3259L9.84621 11.3259L9.82943 11.3258L9.81265 11.3258L9.79587 11.3258L9.77909 11.3258L9.76231 11.3258L9.74553 11.3257L9.72875 11.3257L9.71197 11.3257L9.69519 11.3257L9.67841 11.3257L9.66163 11.3256L9.64486 11.3256L9.62808 11.3256L9.6113 11.3256L9.59452 11.3256L9.57774 11.3255L9.56096 11.3255L9.54418 11.3255L9.5274 11.3255L9.51062 11.3255L9.49384 11.3254L9.47706 11.3254L9.46029 11.3254L9.44351 11.3254L9.42673 11.3254L9.40995 11.3253L9.39317 11.3253L9.37639 11.3253L9.35961 11.3253L9.34283 11.3253L9.32605 11.3252L9.30927 11.3252L9.29249 11.3252L9.27572 11.3252L9.25894 11.3252L9.24216 11.3251L9.22538 11.3251L9.2086 11.3251L9.19182 11.3251L9.17504 11.325L9.15826 11.325L9.14148 11.325L9.1247 11.325L9.10792 11.325L9.09115 11.3249L9.07437 11.3249L9.05759 11.3249L9.04081 11.3249L9.02403 11.3249L9.00725 11.3248L8.99047 11.3248L8.97369 11.3248L8.95691 11.3248L8.94013 11.3248L8.92335 11.3247L8.90658 11.3247L8.8898 11.3247L8.87302 11.3247L8.85624 11.3247L8.83946 11.3246L8.82268 11.3246L8.8059 11.3246L8.78912 11.3246L8.77234 11.3246L8.75556 11.3245L8.73878 11.3245L8.722 11.3245L8.70523 11.3245L8.68845 11.3245L8.67167 11.3244L8.65489 11.3244L8.63811 11.3244L8.62133 11.3244L8.60455 11.3244L8.58777 11.3243L8.57099 11.3243L8.55421 11.3243L8.53743 11.3243L8.52066 11.3243L8.50388 11.3242L8.4871 11.3242L8.47032 11.3242L8.45354 11.3242L8.43676 11.3242L8.41998 11.3241L8.4032 11.3241L8.38642 11.3241L8.36964 11.3241L8.35286 11.3241L8.33608 11.324L8.31931 11.324L8.30253 11.324L8.28575 11.324L8.26897 11.324L8.25219 11.3239L8.23541 11.3239L8.21863 11.3239L8.20185 11.3239L8.18507 11.3239L8.16829 11.3238L8.15151 11.3238L8.13474 11.3238L8.11796 11.3238L8.10118 11.3238L8.0844 11.3237L8.06762 11.3237L8.05084 11.3237L8.03406 11.3237L8.01728 11.3237L8.0005 11.3236L7.99885 12.657L8.01563 12.657L8.03241 12.657L8.04919 12.657L8.06597 12.6571L8.08274 12.6571L8.09952 12.6571L8.1163 12.6571L8.13308 12.6571L8.14986 12.6572L8.16664 12.6572L8.18342 12.6572L8.2002 12.6572L8.21698 12.6572L8.23376 12.6573L8.25054 12.6573L8.26731 12.6573L8.28409 12.6573L8.30087 12.6573L8.31765 12.6574L8.33443 12.6574L8.35121 12.6574L8.36799 12.6574L8.38477 12.6574L8.40155 12.6575L8.41833 12.6575L8.43511 12.6575L8.45189 12.6575L8.46866 12.6575L8.48544 12.6576L8.50222 12.6576L8.519 12.6576L8.53578 12.6576L8.55256 12.6576L8.56934 12.6577L8.58612 12.6577L8.6029 12.6577L8.61968 12.6577L8.63646 12.6577L8.65323 12.6578L8.67001 12.6578L8.68679 12.6578L8.70357 12.6578L8.72035 12.6578L8.73713 12.6579L8.75391 12.6579L8.77069 12.6579L8.78747 12.6579L8.80425 12.6579L8.82103 12.658L8.83781 12.658L8.85458 12.658L8.87136 12.658L8.88814 12.658L8.90492 12.6581L8.9217 12.6581L8.93848 12.6581L8.95526 12.6581L8.97204 12.6581L8.98882 12.6582L9.0056 12.6582L9.02238 12.6582L9.03915 12.6582L9.05593 12.6582L9.07271 12.6583L9.08949 12.6583L9.10627 12.6583L9.12305 12.6583L9.13983 12.6583L9.15661 12.6584L9.17339 12.6584L9.19017 12.6584L9.20695 12.6584L9.22373 12.6584L9.2405 12.6585L9.25728 12.6585L9.27406 12.6585L9.29084 12.6585L9.30762 12.6585L9.3244 12.6586L9.34118 12.6586L9.35796 12.6586L9.37474 12.6586L9.39152 12.6586L9.4083 12.6587L9.42507 12.6587L9.44185 12.6587L9.45863 12.6587L9.47541 12.6587L9.49219 12.6588L9.50897 12.6588L9.52575 12.6588L9.54253 12.6588L9.55931 12.6588L9.57609 12.6589L9.59287 12.6589L9.60964 12.6589L9.62642 12.6589L9.6432 12.6589L9.65998 12.659L9.67676 12.659L9.69354 12.659L9.71032 12.659L9.7271 12.659L9.74388 12.6591L9.76066 12.6591L9.77744 12.6591L9.79421 12.6591L9.81099 12.6591L9.82777 12.6592L9.84455 12.6592L9.86133 12.6592L9.87811 12.6592L9.89489 12.6592L9.91167 12.6593L9.92845 12.6593L9.94523 12.6593L9.96201 12.6593L9.97879 12.6594L9.99556 12.6594L10.0123 12.6594L10.0291 12.6594L10.0459 12.6594L10.0627 12.6595L10.0795 12.6595L10.0962 12.6595L10.113 12.6595L10.1298 12.6595L10.1466 12.6596L10.1634 12.6596L10.1801 12.6596L10.1969 12.6596L10.2137 12.6596L10.2305 12.6597L10.2473 12.6597L10.264 12.6597L10.2808 12.6597L10.2976 12.6597L10.3144 12.6598L10.3311 12.6598L10.3479 12.6598L10.3647 12.6598L10.3815 12.6598L10.3983 12.6599L10.415 12.6599L10.4318 12.6599L10.4486 12.6599L10.4654 12.6599L10.4822 12.66L10.4989 12.66L10.5157 12.66L10.5325 12.66L10.5493 12.66L10.5661 12.6601L10.5828 12.6601L10.5996 12.6601L10.6164 12.6601L10.6332 12.6601L10.65 12.6602L10.6667 12.6602L10.6835 12.6602L10.7003 12.6602L10.7171 12.6602L10.7338 12.6603L10.7506 12.6603L10.7674 12.6603L10.7842 12.6603L10.801 12.6603L10.8177 12.6604L10.8345 12.6604L10.8513 12.6604L10.8681 12.6604L10.8849 12.6604L10.9016 12.6605L10.9184 12.6605L10.9352 12.6605L10.952 12.6605L10.9688 12.6605L10.9855 12.6606L11.0023 12.6606L11.0191 12.6606L11.0359 12.6606L11.0526 12.6606L11.0694 12.6607L11.0862 12.6607L11.103 12.6607L11.1198 12.6607L11.1365 12.6607L11.1533 12.6608L11.1701 12.6608L11.1869 12.6608L11.2037 12.6608L11.2204 12.6608L11.2372 12.6609L11.254 12.6609L11.2708 12.6609L11.2876 12.6609L11.3043 12.6609L11.3211 12.661L11.3379 12.661L11.3547 12.661L11.3715 12.661L11.3882 12.661L11.405 12.6611L11.4218 12.6611L11.4386 12.6611L11.4553 12.6611L11.4721 12.6611L11.4889 12.6612L11.5057 12.6612L11.5225 12.6612L11.5392 12.6612L11.556 12.6612L11.5728 12.6613L11.5896 12.6613L11.6064 12.6613L11.6231 12.6613L11.6399 12.6613L11.6567 12.6614L11.6735 12.6614L11.6903 12.6614L11.707 12.6614L11.7238 12.6614L11.7406 12.6615L11.7574 12.6615L11.7742 12.6615L11.7909 12.6615L11.8077 12.6615L11.8245 12.6616L11.8413 12.6616L11.858 12.6616L11.8748 12.6616L11.8916 12.6616L11.9084 12.6617L11.9252 12.6617L11.9419 12.6617L11.9587 12.6617L11.9755 12.6617L11.9923 12.6618L12.0091 12.6618L12.0258 12.6618L12.0426 12.6618L12.0594 12.6618L12.0762 12.6619L12.093 12.6619L12.1097 12.6619L12.1265 12.6619L12.1433 12.662L12.1601 12.662L12.1768 12.662L12.1936 12.662L12.2104 12.662L12.2272 12.6621L12.244 12.6621L12.2607 12.6621L12.2775 12.6621L12.2943 12.6621L12.3111 12.6622L12.3279 12.6622L12.3446 12.6622L12.3614 12.6622L12.3782 12.6622L12.395 12.6623L12.4118 12.6623L12.4285 12.6623L12.4453 12.6623L12.4621 12.6623L12.4789 12.6624L12.4957 12.6624L12.5124 12.6624L12.5292 12.6624L12.546 12.6624L12.5628 12.6625L12.5795 12.6625L12.5963 12.6625L12.6131 12.6625L12.6299 12.6625L12.6467 12.6626L12.6634 12.6626L12.6802 12.6626L12.697 12.6626L12.7138 12.6626L12.7306 12.6627L12.7473 12.6627L12.7641 12.6627L12.7809 12.6627L12.7977 12.6627L12.8145 12.6628L12.8312 12.6628L12.848 12.6628L12.8648 12.6628L12.8816 12.6628L12.8984 12.6629L12.9151 12.6629L12.9319 12.6629L12.9487 12.6629L12.9655 12.6629L12.9822 12.663L12.999 12.663L13.0158 12.663L13.0326 12.663L13.0494 12.663L13.0661 12.6631L13.0829 12.6631L13.0997 12.6631L13.1165 12.6631L13.1333 12.6631L13.15 12.6632L13.1668 12.6632L13.1836 12.6632L13.2004 12.6632L13.2172 12.6632L13.2339 12.6633L13.2507 12.6633L13.2675 12.6633L13.2843 12.6633L13.3011 12.6633L13.3178 12.6634L13.3346 12.6634L13.3514 12.6634L13.3682 12.6634L13.3849 12.6634L13.4017 12.6635L13.4185 12.6635L13.4353 12.6635L13.4521 12.6635L13.4688 12.6635L13.4856 12.6636L13.5024 12.6636L13.5192 12.6636L13.536 12.6636L13.5527 12.6636L13.5695 12.6637L13.5863 12.6637L13.6031 12.6637L13.6199 12.6637L13.6366 12.6637L13.6534 12.6638L13.6702 12.6638L13.687 12.6638L13.7038 12.6638L13.7205 12.6638L13.7373 12.6639L13.7541 12.6639L13.7709 12.6639L13.7876 12.6639L13.8044 12.6639L13.8212 12.664L13.838 12.664L13.8548 12.664L13.8715 12.664L13.8883 12.664L13.9051 12.6641L13.9219 12.6641L13.9387 12.6641L13.9554 12.6641L13.9722 12.6641L13.989 12.6642L14.0058 12.6642L14.0226 12.6642L14.0393 12.6642L14.0561 12.6642L14.0729 12.6643L14.0897 12.6643L14.1064 12.6643L14.1232 12.6643L14.14 12.6644L14.1568 12.6644L14.1736 12.6644L14.1903 12.6644L14.2071 12.6644L14.2239 12.6645L14.2407 12.6645L14.2575 12.6645L14.2742 12.6645L14.291 12.6645L14.3078 12.6646L14.3246 12.6646L14.3414 12.6646L14.3581 12.6646L14.3749 12.6646L14.3917 12.6647L14.4085 12.6647L14.4253 12.6647L14.442 12.6647L14.4588 12.6647L14.4756 12.6648L14.4924 12.6648L14.5091 12.6648L14.5259 12.6648L14.5427 12.6648L14.5595 12.6649L14.5763 12.6649L14.593 12.6649L14.6098 12.6649L14.6266 12.6649L14.6434 12.665L14.6602 12.665L14.6769 12.665L14.6937 12.665L14.7105 12.665L14.7273 12.6651L14.7441 12.6651L14.7608 12.6651L14.7776 12.6651L14.7944 12.6651L14.8112 12.6652L14.828 12.6652L14.8447 12.6652L14.8615 12.6652L14.8783 12.6652L14.8951 12.6653L14.9118 12.6653L14.9286 12.6653L14.9454 12.6653L14.9622 12.6653L14.979 12.6654L14.9957 12.6654L15.0125 12.6654L15.0293 12.6654L15.0461 12.6654L15.0629 12.6655L15.0796 12.6655L15.0964 12.6655L15.1132 12.6655L15.13 12.6655L15.1468 12.6656L15.1635 12.6656L15.1803 12.6656L15.1971 12.6656L15.2139 12.6656L15.2306 12.6657L15.2474 12.6657L15.2642 12.6657L15.281 12.6657L15.2978 12.6657L15.3145 12.6658L15.3313 12.6658L15.3481 12.6658L15.3649 12.6658L15.3817 12.6658L15.3984 12.6659L15.4152 12.6659L15.432 12.6659L15.4488 12.6659L15.4656 12.6659L15.4823 12.666L15.4991 12.666L15.5159 12.666L15.5327 12.666L15.5495 12.666L15.5662 12.6661L15.583 12.6661L15.5998 12.6661L15.6166 12.6661L15.6333 12.6661L15.6501 12.6662L15.6669 12.6662L15.6837 12.6662L15.7005 12.6662L15.7172 12.6662L15.734 12.6663L15.7508 12.6663L15.7676 12.6663L15.7844 12.6663L15.8011 12.6663L15.8179 12.6664L15.8347 12.6664L15.8515 12.6664L15.8683 12.6664L15.885 12.6664L15.9018 12.6665L15.9186 12.6665L15.9354 12.6665L15.9522 12.6665L15.9689 12.6665L15.9857 12.6666L16.0025 12.6666L16.0193 12.6666L16.036 12.6666L16.0528 12.6666L16.0696 12.6667L16.0864 12.6667L16.1032 12.6667L16.1199 12.6667L16.1367 12.6667L16.1535 12.6668L16.1703 12.6668L16.1871 12.6668L16.2038 12.6668L16.2206 12.6669L16.2374 12.6669L16.2542 12.6669L16.271 12.6669L16.2836 12.6669L12.458 16.7581C12.2065 17.0271 12.2065 17.4631 12.458 17.732C12.7095 18.001 13.1172 18.001 13.3687 17.732L18.2822 12.4772C18.5337 12.2083 18.5337 11.7723 18.2822 11.5033L13.3687 6.24853Z",fill:"white"}))}function m7e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2139 2.44646L12 3.99992H5.4375C4.64359 3.99992 4 4.64352 4 5.43742V18.5624C4 19.3563 4.64359 19.9999 5.4375 19.9999H12L18.2139 21.5534C19.1211 21.7802 20 21.094 20 20.1588V3.84104C20 2.90584 19.1211 2.21964 18.2139 2.44646ZM12 17.9999V5.99992H6V17.9999H12Z",fill:"white"}))}const y7e="_menuIcon_ulcg9_1",v7e="_userButton_ulcg9_6",b7e="_avatar_ulcg9_10";var lB={menuIcon:y7e,userButton:v7e,avatar:b7e};function _7e({preventNavigation:t,isAuthenticated:e,isPasswordlessUser:n,displayName:r,avatarUrl:i,onAction:s}){const{t:o}=Ir(),l=tm(),d=ee.exports.useMemo(()=>{const f=[];return e&&(f.push({key:"user",icon:$Y,label:r}),n&&!t&&f.push({key:"login",label:o("Sign in"),icon:g7e}),!n&&!t&&f.push({key:"logout",label:o("Sign out"),icon:m7e})),f},[e,n,r,t,o]),h=ee.exports.useCallback(()=>o("Profile"),[o]);return e?z.createElement(bO,{placement:"bottom right"},z.createElement(Af,{tooltip:h,placement:"bottom left"},z.createElement(Di,{variant:"icon",className:lB.userButton},e&&(!n||i)?z.createElement(_p,{size:fu.SM,className:lB.avatar,src:i,fallback:r.slice(0,1).toUpperCase()}):z.createElement($Y,null))),f=>z.createElement(_O,{...f,label:o("User menu"),onAction:s},d.map(({key:v,icon:w,label:E})=>z.createElement(Wa,{key:v,textValue:E},z.createElement(w,{width:24,height:24,className:lB.menuIcon}),z.createElement(Ja,{overflowEllipsis:!0},E))))):z.createElement(Kj,{to:{pathname:"/login",state:{from:l}}},"Log in")}function C8({preventNavigation:t=!1}){const e=tm(),n=Tp(),{isAuthenticated:r,isPasswordlessUser:i,logout:s,userName:o,client:l}=_d(),{displayName:d,avatarUrl:h}=vO(l),{modalState:f,modalProps:v}=yu(),w=ee.exports.useCallback(E=>{switch(E){case"user":f.open();break;case"logout":s();break;case"login":n.push("/login",{state:{from:e}});break}},[n,e,s,f]);return z.createElement(z.Fragment,null,z.createElement(_7e,{preventNavigation:t,isAuthenticated:r,isPasswordlessUser:i,avatarUrl:h,onAction:w,displayName:d||(o?o.replace("@",""):void 0)}),f.isOpen&&z.createElement(n7e,{client:l,...v}))}const hK=()=>{const[t,e]=ee.exports.useState(),[n,r]=ee.exports.useState(),i=ee.exports.useRef();i.current||(i.current=iM({baseUrl:Vy})),ee.exports.useEffect(()=>{i.current.registerRequest({}).catch(o=>{var l,d,h,f,v,w,E;e((v=(f=(h=(d=(l=o.data)==null?void 0:l.params["m.login.terms"])==null?void 0:d.policies)==null?void 0:h.privacy_policy)==null?void 0:f.en)==null?void 0:v.url),r((E=(w=o.data)==null?void 0:w.params["m.login.recaptcha"])==null?void 0:E.public_key)})},[]);const s=ee.exports.useCallback(async(o,l,d,h,f)=>{const v=new $U({matrixClient:i.current,doRequest:D=>i.current.registerRequest({username:o,password:l,auth:D||void 0}),stateUpdated:(D,U)=>{if(U.error)throw new Error(U.error);D==="m.login.terms"?v.submitAuthDict({type:"m.login.terms"}):D==="m.login.recaptcha"&&v.submitAuthDict({type:"m.login.recaptcha",response:h})},requestEmailToken:null}),{user_id:w,access_token:E,device_id:C}=await v.attemptAuth(),O=await RR({baseUrl:Vy,accessToken:E,userId:w,deviceId:C},!1);await O.setDisplayName(d);const M={user_id:w,device_id:C,access_token:E,passwordlessUser:f};f&&(M.tempPassword=l);const A=O.getUser(O.getUserId());return A.setRawDisplayName(d),A.setDisplayName(d),[O,M]},[]);return[t,n,s]},w7e="_buttons_adwp6_1";var E7e={buttons:w7e};function moe({onJoin:t,onClose:e,...n}){const{t:r}=Ir();return z.createElement(im,{title:r("Join existing call?"),isDismissable:!0,...n},z.createElement(Aw,null,z.createElement("p",null,r("This call already exists, would you like to join?")),z.createElement(yi,{rightAlign:!0,className:E7e.buttons},z.createElement(Di,{onPress:e},r("No")),z.createElement(Di,{onPress:t},r("Yes, join call")))))}const FY="https://www.recaptcha.net/recaptcha/api.js?onload=mxOnRecaptchaLoaded&render=explicit",pK=t=>{const{t:e}=Ir(),[n]=ee.exports.useState(()=>vd(16)),r=ee.exports.useRef();ee.exports.useEffect(()=>{var l;if(!t)return;const o=()=>{!document.getElementById(n)||window.grecaptcha.render(n,{sitekey:t,size:"invisible",callback:d=>{var h;return(h=r.current)==null?void 0:h.resolve(d)},"error-callback":()=>{var d;return(d=r.current)==null?void 0:d.reject(new Error)}})};if(typeof((l=window.grecaptcha)==null?void 0:l.render)=="function")o();else if(window.mxOnRecaptchaLoaded=o,!document.querySelector(`script[src="${FY}"]`)){const d=document.createElement("script");d.src=FY,d.async=!0,document.body.appendChild(d)}},[n,t]);const i=ee.exports.useCallback(()=>t?window.grecaptcha?new Promise((o,l)=>{var f,v;const d=new MutationObserver(w=>{var E,C;for(const O of w)if(((C=(E=O.target)==null?void 0:E.style)==null?void 0:C.visibility)!=="visible"){l(Jy("Recaptcha dismissed",e)),d.disconnect();return}});r.current={resolve:w=>{o(w),d.disconnect()},reject:w=>{l(w),d.disconnect()}},window.grecaptcha.execute();const h=document.querySelector('iframe[src*="recaptcha/api2/bframe"]');(f=h==null?void 0:h.parentNode)!=null&&f.parentNode&&d.observe((v=h==null?void 0:h.parentNode)==null?void 0:v.parentNode,{attributes:!0})}):(console.log("Recaptcha not loaded"),Promise.reject(Jy("Recaptcha not loaded",e))):Promise.resolve(null),[t,e]),s=ee.exports.useCallback(()=>{var o;(o=window.grecaptcha)==null||o.reset()},[]);return{execute:i,reset:s,recaptchaId:n}},S7e="_form_jpfz7_1";var x7e={form:S7e};const gK=ee.exports.forwardRef(({children:t,className:e,onSubmit:n},r)=>z.createElement("form",{onSubmit:n,className:qr(x7e.form,e),ref:r},t)),k7e="_label_1vxnr_1";var T7e={label:k7e};const C7e="_container_177bh_1",I7e="_main_177bh_8",R7e="_logo_177bh_16",M7e="_headline_177bh_21";var My={container:C7e,main:I7e,logo:R7e,headline:M7e},Oy=(t=>(t.Video="video",t.Radio="radio",t))(Oy||{});const yoe=({callType:t,setCallType:e})=>{const{t:n}=Ir();return z.createElement(bO,{placement:"bottom"},z.createElement(Di,{variant:"dropdown",className:My.headline},z.createElement(zj,{className:T7e.label},n(t==="video"?"Video call":"Walkie-talkie call"))),r=>z.createElement(_O,{...r,label:n("Call type menu"),onAction:e},z.createElement(Wa,{key:"video",textValue:n("Video call")},z.createElement(iO,null),z.createElement("span",null,n("Video call")),t==="video"&&z.createElement(nw,{className:Qy.checkIcon})),z.createElement(Wa,{key:"radio",textValue:n("Walkie-talkie call")},z.createElement(Uj,null),z.createElement("span",null,n("Walkie-talkie call")),t==="radio"&&z.createElement(nw,{className:Qy.checkIcon}))))},O7e="_footer_1ol4j_1",L7e="_mobileLoginLink_1ol4j_12",A7e="_form_1ol4j_17";var cB={footer:O7e,mobileLoginLink:L7e,form:A7e};const UY=t=>{t=1831565813+(t|=0)|0;let e=Math.imul(t^t>>>15,1|t);return e=e+Math.imul(e^e>>>7,61|e)^e,((e^e>>>14)>>>0)/4294967296};class P7e{constructor(e){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:n,separator:r,dictionaries:i,style:s,seed:o}=e;this.dictionaries=i,this.separator=r,this.length=n,this.style=s,this.seed=o}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let e=this.seed;return this.dictionaries.slice(0,this.length).reduce((n,r)=>{let i;e?(i=(o=>{if(typeof o=="string"){const l=o.split("").map(h=>h.charCodeAt(0)).reduce((h,f)=>h+f,1),d=Math.floor(Number(l));return UY(d)}return UY(o)})(e),e=4294967296*i):i=Math.random();let s=r[Math.floor(i*r.length)]||"";if(this.style==="lowerCase")s=s.toLowerCase();else if(this.style==="capital"){const[o,...l]=s.split("");s=o.toUpperCase()+l.join("")}else this.style==="upperCase"&&(s=s.toUpperCase());return n?`${n}${this.separator}${s}`:`${s}`},"")}}const HY={separator:"_",dictionaries:[]},D7e=t=>{const e=[...t&&t.dictionaries||HY.dictionaries],n={...HY,...t,length:t&&t.length||e.length,dictionaries:e};if(!t||!t.dictionaries||!t.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new P7e(n).generate()};var N7e=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],B7e=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"],$7e=["amaranth","amber","amethyst","apricot","aqua","aquamarine","azure","beige","black","blue","blush","bronze","brown","chocolate","coffee","copper","coral","crimson","cyan","emerald","fuchsia","gold","gray","green","harlequin","indigo","ivory","jade","lavender","lime","magenta","maroon","moccasin","olive","orange","peach","pink","plum","purple","red","rose","salmon","sapphire","scarlet","silver","tan","teal","tomato","turquoise","violet","white","yellow"];const F7e=["hydrogen","helium","lithium","beryllium","boron","carbon","nitrogen","oxygen","fluorine","neon","sodium","magnesium","aluminum","silicon","phosphorus","sulfur","chlorine","argon","potassium","calcium","scandium","titanium","vanadium","chromium","manganese","iron","cobalt","nickel","copper","zinc","gallium","germanium","arsenic","selenium","bromine","krypton","rubidium","strontium","yttrium","zirconium","niobium","molybdenum","technetium","ruthenium","rhodium","palladium","silver","cadmium","indium","tin","antimony","tellurium","iodine","xenon","cesium","barium","lanthanum","cerium","praseodymium","neodymium","promethium","samarium","europium","gadolinium","terbium","dysprosium","holmium","erbium","thulium","ytterbium","lutetium","hafnium","tantalum","wolfram","rhenium","osmium","iridium","platinum","gold","mercury","thallium","lead","bismuth","polonium","astatine","radon","francium","radium","actinium","thorium","protactinium","uranium","neptunium","plutonium","americium","curium","berkelium","californium","einsteinium","fermium","mendelevium","nobelium","lawrencium","rutherfordium","dubnium","seaborgium","bohrium","hassium","meitnerium","darmstadtium","roentgenium","copernicium","nihonium","flerovium","moscovium","livermorium","tennessine","oganesson"];function voe(){return D7e({dictionaries:[$7e,N7e,B7e,F7e],style:"lowerCase",length:3,separator:"-"})}const U7e=()=>{const{setClient:t}=_d(),[e,n]=ee.exports.useState(Oy.Video),[r,i]=ee.exports.useState(!1),[s,o]=ee.exports.useState(),[l,d,h]=hK(),{execute:f,reset:v,recaptchaId:w}=pK(d),{modalState:E,modalProps:C}=yu(),[O,M]=ee.exports.useState(),A=Tp(),{t:D}=Ir(),U=ee.exports.useCallback(X=>{X.preventDefault();const H=new FormData(X.target),K=H.get("callName"),W=H.get("displayName"),Z=e===Oy.Radio;async function ie(){o(void 0),i(!0);const se=await f(),oe=voe(),[Q,ae]=await h(oe,vd(16),W,se,!0);let he;try{[he]=await qj(Q,K,Z)}catch(Ee){if(Ee.errcode==="M_ROOM_IN_USE"){M(()=>{t(Q,ae);const De=aO(K),[,qe]=Q.getUserId().split(":");A.push(`/room/#${De}:${qe}`)}),i(!1),E.open();return}else throw Ee}t(Q,ae),A.push(`/room/${he}`)}ie().catch(se=>{console.error(se),i(!1),o(se),v()})},[h,v,f,A,e,E,t]),R=e===Oy.Video?D("Video call name"):D("Walkie-talkie call name");return z.createElement(z.Fragment,null,z.createElement(sm,null,z.createElement(om,null,z.createElement(Gy,null)),z.createElement(am,{hideMobile:!0},z.createElement(C8,null))),z.createElement("div",{className:My.container},z.createElement("main",{className:My.main},z.createElement(Gy,{className:My.logo}),z.createElement(yoe,{callType:e,setCallType:n}),z.createElement(gK,{className:cB.form,onSubmit:U},z.createElement(yi,null,z.createElement(Ya,{id:"callName",name:"callName",label:R,placeholder:R,type:"text",required:!0,autoComplete:"off"})),z.createElement(yi,null,z.createElement(Ya,{id:"displayName",name:"displayName",label:D("Display name"),placeholder:D("Display name"),type:"text",required:!0,autoComplete:"off"})),z.createElement(sO,null,z.createElement(xf,null,'By clicking "Go", you agree to our'," ",z.createElement(cu,{href:l},"Terms and conditions"))),s&&z.createElement(yi,null,z.createElement(Ip,{error:s})),z.createElement(Di,{type:"submit",size:"lg",disabled:r},D(r?"Loading\u2026":"Go")),z.createElement("div",{id:w}))),z.createElement("footer",{className:cB.footer},z.createElement(Ja,{className:cB.mobileLoginLink},z.createElement(cu,{color:"primary",to:"/login"},D("Login to your account"))),z.createElement(Ja,null,z.createElement(xf,null,"Not registered yet?"," ",z.createElement(cu,{color:"primary",to:"/register"},"Create an account"))))),E.isOpen&&z.createElement(moe,{onJoin:O,...C}))},A_={};function jY(t,e){if(A_[e.roomId])return A_[e.roomId];if(!e||!e.timeline){const i=Number.MAX_SAFE_INTEGER;return A_[e.roomId]=i,i}const n=t.getUserId();if(e.getMyMembership()!=="join"){const i=e.currentState.getStateEvents("m.room.member",n);if(i&&!Array.isArray(i)){const s=i.getTs();return A_[e.roomId]=s,s}}for(let i=e.timeline.length-1;i>=0;--i){const o=e.timeline[i].getTs();if(o)return A_[e.roomId]=o,o}const r=Number.MAX_SAFE_INTEGER;return A_[e.roomId]=r,r}function H7e(t,e){return e.sort((n,r)=>jY(t,r)-jY(t,n))}function j7e(t){const[e,n]=ee.exports.useState([]);return ee.exports.useEffect(()=>{function r(){const i=t.groupCallEventHandler.groupCalls.values(),s=Array.from(i).map(d=>d.room),l=H7e(t,s).map(d=>{const h=t.getGroupCallForRoom(d.roomId);return{roomId:d.getCanonicalAlias()||d.roomId,roomName:d.name,avatarUrl:d.getMxcAvatarUrl(),room:d,groupCall:h,participants:[...h.participants]}});n(l)}return r(),t.on(ud.Incoming,r),t.on(ud.Participants,r),()=>{t.removeListener(ud.Incoming,r),t.removeListener(ud.Participants,r)}},[t]),e}const K7e="_form_9vuq6_1",z7e="_fieldRow_9vuq6_9",q7e="_button_9vuq6_17",V7e="_recentCallsTitle_9vuq6_21";var qE={form:K7e,fieldRow:z7e,button:q7e,recentCallsTitle:V7e};const G7e="_facepile_s577a_1",W7e="_xs_s577a_6",Y7e="_sm_s577a_10",X7e="_md_s577a_14",Z7e="_avatar_s577a_18";var kC={facepile:G7e,xs:W7e,sm:Y7e,md:X7e,avatar:Z7e};const J7e={[fu.XS]:2,[fu.SM]:4,[fu.MD]:8};function boe({className:t,client:e,participants:n,max:r=3,size:i=fu.XS,...s}){const{t:o}=Ir(),l=Rie.get(i),d=J7e[i],h=ee.exports.useMemo(()=>n.reduce((f,v)=>f===null?v.name:o("{{names}}, {{name}}",{names:f,name:v.name}),null),[n,o]);return z.createElement("div",{className:qr(kC.facepile,kC[i],t),title:h,style:{width:Math.min(n.length,r+1)*(l-d)+d},...s},n.slice(0,r).map((f,v)=>{var E;const w=(E=f.user)==null?void 0:E.avatarUrl;return z.createElement(_p,{key:f.userId,size:i,src:w,fallback:f.name.slice(0,1).toUpperCase(),className:kC.avatar,style:{left:v*(l-d)}})}),n.length>r&&z.createElement(_p,{key:"additional",size:i,fallback:`+${n.length-r}`,className:kC.avatar,style:{left:r*(l-d)}}))}const Q7e="_callTileSpacer_s07xo_1",eke="_callTile_s07xo_1",tke="_callTileLink_s07xo_21",nke="_avatar_s07xo_29",rke="_copyButtonSpacer_s07xo_30",ike="_callInfo_s07xo_34",ske="_facePile_s07xo_47",oke="_copyButton_s07xo_30",ake="_callList_s07xo_63";var sf={callTileSpacer:Q7e,callTile:eke,callTileLink:tke,avatar:nke,copyButtonSpacer:rke,callInfo:ike,facePile:ske,copyButton:oke,callList:ake};function lke({rooms:t,client:e,disableFacepile:n}){return z.createElement(z.Fragment,null,z.createElement("div",{className:sf.callList},t.map(({roomId:r,roomName:i,avatarUrl:s,participants:o})=>z.createElement(cke,{key:r,client:e,name:i,avatarUrl:s,roomId:r,participants:o,disableFacepile:n})),t.length>3&&z.createElement(z.Fragment,null,z.createElement("div",{className:sf.callTileSpacer}),z.createElement("div",{className:sf.callTileSpacer}))))}function cke({name:t,avatarUrl:e,roomId:n,participants:r,client:i,disableFacepile:s}){return z.createElement("div",{className:sf.callTile},z.createElement(jy,{to:`/room/${n}`,className:sf.callTileLink},z.createElement(_p,{size:fu.LG,bgKey:t,src:e,fallback:t.slice(0,1).toUpperCase(),className:sf.avatar}),z.createElement("div",{className:sf.callInfo},z.createElement(Ja,{overflowEllipsis:!0,fontWeight:"semiBold"},t),z.createElement(sO,{overflowEllipsis:!0},MR(n)),r&&!s&&z.createElement(boe,{className:sf.facePile,client:i,participants:r})),z.createElement("div",{className:sf.copyButtonSpacer})),z.createElement(jj,{className:sf.copyButton,variant:"icon",value:MR(n)}))}function uke({client:t,isPasswordlessUser:e}){const[n,r]=ee.exports.useState(Oy.Video),[i,s]=ee.exports.useState(!1),[o,l]=ee.exports.useState(),d=Tp(),{t:h}=Ir(),{modalState:f,modalProps:v}=yu(),w=ee.exports.useCallback(D=>{D.preventDefault();const R=new FormData(D.target).get("callName"),X=typeof R=="string"?R:"",H=n===Oy.Radio;async function K(){l(void 0),s(!0);const[W]=await qj(t,X,H);W&&d.push(`/room/${W}`)}K().catch(W=>{W.errcode==="M_ROOM_IN_USE"?(O(aO(X)),s(!1),l(void 0),f.open()):(console.error(W),s(!1),l(W))})},[t,d,f,n]),E=j7e(t),[C,O]=ee.exports.useState(),M=ee.exports.useCallback(()=>{d.push(`/${C}`)},[d,C]),A=n===Oy.Video?h("Video call name"):h("Walkie-talkie call name");return z.createElement(z.Fragment,null,z.createElement(sm,null,z.createElement(om,null,z.createElement(Gy,null)),z.createElement(am,null,z.createElement(C8,null))),z.createElement("div",{className:My.container},z.createElement("main",{className:My.main},z.createElement(Gy,{className:My.logo}),z.createElement(yoe,{callType:n,setCallType:r}),z.createElement(gK,{className:qE.form,onSubmit:w},z.createElement(yi,{className:qE.fieldRow},z.createElement(Ya,{id:"callName",name:"callName",label:A,placeholder:A,type:"text",required:!0,autoComplete:"off"}),z.createElement(Di,{type:"submit",size:"lg",className:qE.button,disabled:i},h(i?"Loading\u2026":"Go"))),o&&z.createElement(yi,{className:qE.fieldRow},z.createElement(Ip,{error:o}))),E.length>0&&z.createElement(z.Fragment,null,z.createElement(S6e,{className:qE.recentCallsTitle},h("Your recent calls")),z.createElement(lke,{rooms:E,client:t,disableFacepile:!0})))),f.isOpen&&z.createElement(moe,{onJoin:M,...v}))}function I8(t){ee.exports.useEffect(()=>{const e={}.VITE_PRODUCT_NAME||"Matrix Video Chat";document.title=t?`${e} | ${t}`:e},[t])}function dke(){const{t}=Ir();I8(t("Home"));const{isAuthenticated:e,isPasswordlessUser:n,loading:r,error:i,client:s}=_d();return r?z.createElement(yO,null):i?z.createElement(T8,{error:i}):e?z.createElement(uke,{isPasswordlessUser:n,client:s}):z.createElement(U7e,null)}function _oe(t){return ee.exports.createElement("svg",{width:300,height:66,viewBox:"0 0 300 66",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("circle",{cx:32.6901,cy:32.6904,r:23.496,fill:"white"}),ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.6137 65.2274C50.6257 65.2274 65.2274 50.6257 65.2274 32.6137C65.2274 14.6016 50.6257 0 32.6137 0C14.6016 0 0 14.6016 0 32.6137C0 50.6257 14.6016 65.2274 32.6137 65.2274ZM26.6511 15.1961C26.6511 13.8796 27.7205 12.8124 29.0397 12.8124C37.9808 12.8124 45.2291 20.0456 45.2291 28.9681C45.2291 30.2846 44.1596 31.3518 42.8405 31.3518C41.5213 31.3518 40.4519 30.2846 40.4519 28.9681C40.4519 22.6785 35.3425 17.5797 29.0397 17.5797C27.7205 17.5797 26.6511 16.5125 26.6511 15.1961ZM52.4139 28.9683C52.4139 27.6518 51.3445 26.5846 50.0253 26.5846C48.7061 26.5846 47.6367 27.6518 47.6367 28.9683C47.6367 35.2579 42.5274 40.3567 36.2246 40.3567C34.9054 40.3567 33.836 41.4239 33.836 42.7404C33.836 44.0568 34.9054 45.124 36.2246 45.124C45.1657 45.124 52.4139 37.8909 52.4139 28.9683ZM38.6134 50.031C38.6134 51.3475 37.544 52.4146 36.2248 52.4146C27.2837 52.4146 20.0355 45.1815 20.0355 36.2589C20.0355 34.9425 21.1049 33.8753 22.4241 33.8753C23.7432 33.8753 24.8127 34.9425 24.8127 36.2589C24.8127 42.5486 29.922 47.6474 36.2248 47.6474C37.544 47.6474 38.6134 48.7146 38.6134 50.031ZM12.8113 36.2589C12.8113 37.5754 13.8808 38.6426 15.1999 38.6426C16.5191 38.6426 17.5885 37.5754 17.5885 36.2589C17.5885 29.9693 22.6979 24.8705 29.0007 24.8705C30.3198 24.8705 31.3893 23.8033 31.3893 22.4869C31.3893 21.1704 30.3198 20.1032 29.0007 20.1032C20.0595 20.1032 12.8113 27.3364 12.8113 36.2589Z",fill:"#0DBD8B"}),ee.exports.createElement("path",{d:"M114.73 36.9816H91.7256C91.9974 39.3888 92.871 41.3107 94.3464 42.7472C95.8217 44.1449 97.763 44.8438 100.17 44.8438C101.762 44.8438 103.199 44.4555 104.48 43.679C105.761 42.9025 106.674 41.8542 107.217 40.5341H114.206C113.274 43.6014 111.527 46.0862 108.964 47.9887C106.441 49.8523 103.451 50.7842 99.9955 50.7842C95.4917 50.7842 91.8421 49.2894 89.0466 46.2998C86.29 43.3102 84.9117 39.5247 84.9117 34.9432C84.9117 30.4783 86.3094 26.7316 89.1049 23.7032C91.9003 20.6747 95.5111 19.1605 99.9373 19.1605C104.363 19.1605 107.935 20.6553 110.653 23.6449C113.41 26.5957 114.788 30.323 114.788 34.8267L114.73 36.9816ZM99.9373 24.8097C97.763 24.8097 95.9576 25.4503 94.5211 26.7316C93.0845 28.0128 92.1915 29.7212 91.8421 31.8566H107.916C107.605 29.7212 106.751 28.0128 105.353 26.7316C103.956 25.4503 102.15 24.8097 99.9373 24.8097Z",fill:"white"}),ee.exports.createElement("path",{d:"M119.557 41.0583V6.40625H126.488V41.1748C126.488 42.7278 127.342 43.5043 129.05 43.5043L130.273 43.4461V50.0271C129.613 50.1435 128.914 50.2018 128.177 50.2018C125.187 50.2018 122.993 49.4447 121.596 47.9305C120.237 46.4163 119.557 44.1255 119.557 41.0583Z",fill:"white"}),ee.exports.createElement("path",{d:"M162.549 36.9816H139.545C139.817 39.3888 140.69 41.3107 142.166 42.7472C143.641 44.1449 145.582 44.8438 147.99 44.8438C149.582 44.8438 151.018 44.4555 152.299 43.679C153.581 42.9025 154.493 41.8542 155.037 40.5341H162.025C161.093 43.6014 159.346 46.0862 156.784 47.9887C154.26 49.8523 151.27 50.7842 147.815 50.7842C143.311 50.7842 139.662 49.2894 136.866 46.2998C134.109 43.3102 132.731 39.5247 132.731 34.9432C132.731 30.4783 134.129 26.7316 136.924 23.7032C139.72 20.6747 143.331 19.1605 147.757 19.1605C152.183 19.1605 155.755 20.6553 158.473 23.6449C161.229 26.5957 162.608 30.323 162.608 34.8267L162.549 36.9816ZM147.757 24.8097C145.582 24.8097 143.777 25.4503 142.341 26.7316C140.904 28.0128 140.011 29.7212 139.662 31.8566H155.735C155.425 29.7212 154.571 28.0128 153.173 26.7316C151.775 25.4503 149.97 24.8097 147.757 24.8097Z",fill:"white"}),ee.exports.createElement("path",{d:"M193.817 32.7302V50.0853H186.887V31.973C186.887 27.3916 184.984 25.1009 181.179 25.1009C179.122 25.1009 177.471 25.7609 176.229 27.081C175.025 28.4011 174.424 30.2065 174.424 32.4972V50.0853H167.493V19.8594H173.9V23.8779C174.637 22.519 175.763 21.393 177.277 20.5C178.792 19.607 180.675 19.1605 182.927 19.1605C187.12 19.1605 190.148 20.7524 192.012 23.9361C194.574 20.7524 197.991 19.1605 202.262 19.1605C205.795 19.1605 208.513 20.2671 210.415 22.4801C212.318 24.6544 213.269 27.5275 213.269 31.0995V50.0853H206.338V31.973C206.338 27.3916 204.436 25.1009 200.631 25.1009C198.535 25.1009 196.865 25.7803 195.623 27.1392C194.419 28.4593 193.817 30.323 193.817 32.7302Z",fill:"white"}),ee.exports.createElement("path",{d:"M247.735 36.9816H224.731C225.002 39.3888 225.876 41.3107 227.351 42.7472C228.827 44.1449 230.768 44.8438 233.175 44.8438C234.767 44.8438 236.204 44.4555 237.485 43.679C238.766 42.9025 239.678 41.8542 240.222 40.5341H247.211C246.279 43.6014 244.532 46.0862 241.969 47.9887C239.446 49.8523 236.456 50.7842 233 50.7842C228.497 50.7842 224.847 49.2894 222.052 46.2998C219.295 43.3102 217.917 39.5247 217.917 34.9432C217.917 30.4783 219.314 26.7316 222.11 23.7032C224.905 20.6747 228.516 19.1605 232.942 19.1605C237.368 19.1605 240.94 20.6553 243.658 23.6449C246.415 26.5957 247.793 30.323 247.793 34.8267L247.735 36.9816ZM232.942 24.8097C230.768 24.8097 228.963 25.4503 227.526 26.7316C226.089 28.0128 225.196 29.7212 224.847 31.8566H240.921C240.61 29.7212 239.756 28.0128 238.358 26.7316C236.961 25.4503 235.155 24.8097 232.942 24.8097Z",fill:"white"}),ee.exports.createElement("path",{d:"M259.085 19.8594V23.8779C259.784 22.5578 260.929 21.4513 262.521 20.5583C264.152 19.6264 266.113 19.1605 268.403 19.1605C271.975 19.1605 274.732 20.2477 276.673 22.4219C278.653 24.5961 279.643 27.4887 279.643 31.0995V50.0853H272.713V31.973C272.713 29.8376 272.208 28.1681 271.199 26.9645C270.228 25.7221 268.733 25.1009 266.714 25.1009C264.501 25.1009 262.754 25.7609 261.473 27.081C260.23 28.4011 259.609 30.2259 259.609 32.5554V50.0853H252.679V19.8594H259.085Z",fill:"white"}),ee.exports.createElement("path",{d:"M299.884 43.912V49.9106C299.029 50.1435 297.826 50.26 296.273 50.26C290.371 50.26 287.42 47.2898 287.42 41.3495V25.3921H282.82V19.8594H287.42V11.9972H294.351V19.8594H300V25.3921H294.351V40.6506C294.351 43.019 295.477 44.2032 297.729 44.2032L299.884 43.912Z",fill:"white"}))}const fke="_logo_9t5rn_1",hke="_container_9t5rn_7",pke="_content_9t5rn_15",gke="_formContainer_9t5rn_23",mke="_authLinks_9t5rn_55";var ff={logo:fke,container:hke,content:pke,formContainer:gke,authLinks:mke};const yke=()=>ee.exports.useCallback(async(t,e,n)=>{const r=iM({baseUrl:t}),i=new $U({matrixClient:r,doRequest:()=>r.login("m.login.password",{identifier:{type:"m.id.user",user:e},password:n}),stateUpdated:null,requestEmailToken:null}),{user_id:s,access_token:o,device_id:l}=await i.attemptAuth(),d={user_id:s,access_token:o,device_id:l,passwordlessUser:!1};return[await RR({baseUrl:Vy,accessToken:o,userId:s,deviceId:l},!1),d]},[]),vke=()=>{const{t}=Ir();I8(t("Login"));const{setClient:e}=_d(),n=yke(),r=Vy,i=ee.exports.useRef(),s=ee.exports.useRef(),o=Tp(),l=tm(),[d,h]=ee.exports.useState(!1),[f,v]=ee.exports.useState(),w=ee.exports.useCallback(C=>{C.preventDefault(),h(!0),n(r,i.current.value,s.current.value).then(([O,M])=>{e(O,M),l.state&&l.state.from?o.push(l.state.from):o.push("/")}).catch(O=>{v(O),h(!1)})},[n,l,o,r,e]),E=ee.exports.useMemo(()=>{try{return new URL(r).host}catch{return b8}},[r]);return z.createElement(z.Fragment,null,z.createElement("div",{className:ff.container},z.createElement("div",{className:ff.content},z.createElement("div",{className:ff.formContainer},z.createElement(_oe,{width:"auto",height:"auto",className:ff.logo}),z.createElement("h2",null,"Log In"),z.createElement("h4",null,"To continue to Element"),z.createElement("form",{onSubmit:w},z.createElement(yi,null,z.createElement(Ya,{type:"text",ref:i,placeholder:t("Username"),label:t("Username"),autoCorrect:"off",autoCapitalize:"none",prefix:"@",suffix:`:${E}`})),z.createElement(yi,null,z.createElement(Ya,{type:"password",ref:s,placeholder:t("Password"),label:t("Password")})),f&&z.createElement(yi,null,z.createElement(Ip,{error:f})),z.createElement(yi,null,z.createElement(Di,{type:"submit",disabled:d},t(d?"Logging in\u2026":"Login"))))),z.createElement("div",{className:ff.authLinks},z.createElement("p",null,"Not registered yet?"),z.createElement("p",null,z.createElement(xf,null,z.createElement(jy,{to:"/register"},"Create an account")," Or ",z.createElement(jy,{to:"/"},"Access as a guest")))))))},bke=()=>{const{t}=Ir();I8(t("Register"));const{loading:e,isAuthenticated:n,isPasswordlessUser:r,client:i,setClient:s}=_d(),o=ee.exports.useRef(),l=Tp(),d=tm(),[h,f]=ee.exports.useState(!1),[v,w]=ee.exports.useState(),[E,C]=ee.exports.useState(""),[O,M]=ee.exports.useState(""),[A,D,U]=hK(),{execute:R,reset:X,recaptchaId:H}=pK(D),K=ee.exports.useCallback(W=>{W.preventDefault();const Z=new FormData(W.target),ie=Z.get("userName"),se=Z.get("password"),oe=Z.get("passwordConfirmation");if(se!==oe)return;(async()=>{f(!0);const ae=await R(),[he,Ee]=await U(ie,se,ie,ae);if(i&&r)for(const De of i.groupCallEventHandler.groupCalls.values()){const qe=De.room.roomId;try{await he.joinRoom(qe)}catch(_e){_e.errcode==="M_LIMIT_EXCEEDED"?(await N3(_e.data.retry_after_ms),await he.joinRoom(qe)):(xx(_e),console.error(`Couldn't join room ${qe}`,_e))}}s(he,Ee)})().then(()=>{var ae,he;(ae=d.state)!=null&&ae.from?l.push((he=d.state)==null?void 0:he.from):l.push("/")}).catch(ae=>{w(ae),f(!1),X()})},[U,d,l,r,X,R,i,s]);return ee.exports.useEffect(()=>{var W,Z;E&&O&&E!==O?(W=o.current)==null||W.setCustomValidity(t("Passwords must match")):(Z=o.current)==null||Z.setCustomValidity("")},[E,O,t]),ee.exports.useEffect(()=>{!e&&n&&!r&&!h&&l.push("/")},[e,l,n,r,h]),e?z.createElement(yO,null):z.createElement(z.Fragment,null,z.createElement("div",{className:ff.container},z.createElement("div",{className:ff.content},z.createElement("div",{className:ff.formContainer},z.createElement(_oe,{width:"auto",height:"auto",className:ff.logo}),z.createElement("h2",null,"Create your account"),z.createElement("form",{onSubmit:K},z.createElement(yi,null,z.createElement(Ya,{type:"text",name:"userName",placeholder:t("Username"),label:t("Username"),autoCorrect:"off",autoCapitalize:"none",prefix:"@",suffix:`:${b8}`})),z.createElement(yi,null,z.createElement(Ya,{required:!0,name:"password",type:"password",onChange:W=>C(W.target.value),value:E,placeholder:t("Password"),label:t("Password")})),z.createElement(yi,null,z.createElement(Ya,{required:!0,type:"password",name:"passwordConfirmation",onChange:W=>M(W.target.value),value:O,placeholder:t("Confirm password"),label:t("Confirm password"),ref:o})),z.createElement(sO,null,z.createElement(xf,null,"This site is protected by ReCAPTCHA and the Google"," ",z.createElement(cu,{href:"https://www.google.com/policies/privacy/"},"Privacy Policy")," ","and"," ",z.createElement(cu,{href:"https://policies.google.com/terms"},"Terms of Service")," ","apply.",z.createElement("br",null),'By clicking "Register", you agree to our'," ",z.createElement(cu,{href:A},"Terms and conditions"))),v&&z.createElement(yi,null,z.createElement(Ip,{error:v})),z.createElement(yi,null,z.createElement(Di,{type:"submit",disabled:h},t(h?"Registering\u2026":"Register"))),z.createElement("div",{id:H}))),z.createElement("div",{className:ff.authLinks},z.createElement(xf,null,z.createElement("p",null,"Already have an account?"),z.createElement("p",null,z.createElement(cu,{to:"/login"},"Log in")," Or ",z.createElement(cu,{to:"/"},"Access as a guest")))))))},_ke="_form_1yyw0_1",wke="_headline_1yyw0_11",Eke="_callEndedContent_1yyw0_16",Ske="_callEndedButton_1yyw0_25",xke="_container_1yyw0_30",kke="_main_1yyw0_38",Tke="_logo_1yyw0_46",Cke="_footer_1yyw0_55";var VE={form:_ke,headline:wke,callEndedContent:Eke,callEndedButton:Ske,container:xke,main:kke,logo:Tke,footer:Cke};function woe(){const{setClient:t}=_d(),[e,n,r]=hK(),{execute:i,reset:s,recaptchaId:o}=pK(n),l=ee.exports.useCallback(async d=>{try{const h=await i(),f=voe(),[v,w]=await r(f,vd(16),d,h,!0);t(v,w)}catch(h){throw s(),h}},[i,s,r,t]);return{privacyPolicyUrl:e,registerPasswordlessUser:l,recaptchaId:o}}function Ike(){const[t,e]=ee.exports.useState(!1),[n,r]=ee.exports.useState(),{registerPasswordlessUser:i,recaptchaId:s,privacyPolicyUrl:o}=woe(),l=ee.exports.useCallback(f=>{f.preventDefault();const w=new FormData(f.target).get("displayName");i(typeof w=="string"?w:"").catch(C=>{console.error("Failed to register passwordless user",f),e(!1),r(C)})},[i]),{t:d}=Ir(),h=tm();return z.createElement(z.Fragment,null,z.createElement(sm,null,z.createElement(om,null,z.createElement(Gy,null)),z.createElement(am,null,z.createElement(C8,{preventNavigation:!0}))),z.createElement("div",{className:VE.container},z.createElement("main",{className:VE.main},z.createElement(zj,{className:VE.headline},d("Join call")),z.createElement(gK,{className:VE.form,onSubmit:l},z.createElement(yi,null,z.createElement(Ya,{id:"displayName",name:"displayName",label:d("Display name"),placeholder:d("Display name"),type:"text",required:!0,autoComplete:"off"})),z.createElement(sO,null,z.createElement(xf,null,'By clicking "Join call now", you agree to our'," ",z.createElement(cu,{href:o},"Terms and conditions"))),n&&z.createElement(yi,null,z.createElement(Ip,{error:n})),z.createElement(Di,{type:"submit",size:"lg",disabled:t},d(t?"Loading\u2026":"Join call now")),z.createElement("div",{id:s}))),z.createElement(Ja,{className:VE.footer},z.createElement(xf,null,"Not registered yet?"," ",z.createElement(cu,{color:"primary",to:{pathname:"/login",state:{from:h}}},"Create an account")))))}const Rke=(t,e,n,r)=>{const{t:i}=Ir(),[s,o]=ee.exports.useState({loading:!0});return ee.exports.useEffect(()=>{o({loading:!0});const l=async()=>{try{const f=await t.joinRoom(e,{viaServers:n});return V.info(`Joined ${e}, waiting room to be ready for group calls`),await t.waitUntilRoomReadyForGroupCalls(f.roomId),V.info(`${e}, is ready for group calls`),f}catch(f){if(A6e(e)&&(f.errcode==="M_NOT_FOUND"||f.message&&f.message.indexOf("Failed to fetch alias")!==-1)){const[,v]=await qj(t,L6e(e),r);return await t.waitUntilRoomReadyForGroupCalls(v),t.getRoom(v)}else throw f}},d=async()=>{const f=await l();V.debug(`Fetched / joined room ${e}`);const v=t.getGroupCallForRoom(f.roomId);return V.debug("Got group call",v==null?void 0:v.groupCallId),v||(f.currentState.mayClientSendStateEvent(Ot.GroupCallPrefix,t)?(console.log(`No call found in ${e}: creating ${r?"PTT":"video"} call`),await t.createGroupCall(f.roomId,r?Hg.Voice:Hg.Video,r,Qx.Room)):new Promise((w,E)=>{const C=M=>{(M==null?void 0:M.room.roomId)===f.roomId&&(clearTimeout(O),t.off(ud.Incoming,C),w(M))};t.on(ud.Incoming,C);const O=setTimeout(()=>{t.off(ud.Incoming,C),E(Jy("Fetching group call timed out.",i))},3e4)}))};(async()=>{t.getSyncState()!==Ka.Syncing&&(V.debug("useLoadGroupCall: waiting for client to start syncing..."),await new Promise(f=>{const v=()=>{if(t.getSyncState()===Ka.Syncing)return t.off(sr.Sync,v),f()};t.on(sr.Sync,v)}),V.debug("useLoadGroupCall: client is now syncing."))})().then(d).then(f=>o(v=>({...v,loading:!1,groupCall:f}))).catch(f=>o(v=>({...v,loading:!1,error:f})))},[t,e,n,r,i]),s};function Mke({client:t,roomIdOrAlias:e,viaServers:n,children:r,createPtt:i}){const{t:s}=Ir(),{loading:o,error:l,groupCall:d}=Rke(t,e,n,i);return I8(d?d.room.name:s("Loading\u2026")),o?z.createElement(rw,null,z.createElement("h1",null,s("Loading room\u2026"))):l?z.createElement(T8,{error:l}):z.createElement(z.Fragment,null,r(d))}function Oke(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Lke(t){ee.exports.useEffect(()=>{let e;function n(r){r.type==="visibilitychange"?document.visibilityState==="visible"?clearTimeout(e):e=setTimeout(()=>{t()},5e3):t()}return Oke()&&(window.addEventListener("pagehide",n),document.addEventListener("visibilitychange",n)),window.addEventListener("beforeunload",n),()=>{window.removeEventListener("pagehide",n),document.removeEventListener("visibilitychange",n),window.removeEventListener("beforeunload",n),clearTimeout(e)}},[t])}function Ake(t){const[{state:e,calls:n,localCallFeed:r,activeSpeaker:i,userMediaFeeds:s,error:o,microphoneMuted:l,localVideoMuted:d,isScreensharing:h,screenshareFeeds:f,localScreenshareFeed:v,localDesktopCapturerSourceId:w,participants:E,hasLocalParticipant:C,requestingScreenshare:O},M]=ee.exports.useState({state:Yo.LocalCallFeedUninitialized,calls:[],localCallFeed:null,activeSpeaker:null,userMediaFeeds:[],error:null,microphoneMuted:!1,localVideoMuted:!1,isScreensharing:!1,screenshareFeeds:[],localScreenshareFeed:null,localDesktopCapturerSourceId:null,requestingScreenshare:!1,participants:[],hasLocalParticipant:!1}),[A,D]=ee.exports.useReducer((se,oe)=>new Set(se).add(oe),new Set),U=se=>M(oe=>({...oe,...se}));ee.exports.useEffect(()=>{function se(){U({state:t.state,calls:[...t.calls],localCallFeed:t.localCallFeed,activeSpeaker:t.activeSpeaker,userMediaFeeds:[...t.userMediaFeeds],microphoneMuted:t.isMicrophoneMuted(),localVideoMuted:t.isLocalVideoMuted(),isScreensharing:t.isScreensharing(),localScreenshareFeed:t.localScreenshareFeed,localDesktopCapturerSourceId:t.localDesktopCapturerSourceId,screenshareFeeds:[...t.screenshareFeeds],participants:[...t.participants]})}function oe(xe){U({userMediaFeeds:[...xe]})}function Q(xe){U({screenshareFeeds:[...xe]})}function ae(xe){U({activeSpeaker:xe})}function he(xe,Se){U({microphoneMuted:xe,localVideoMuted:Se})}function Ee(xe,Se,Ie){U({isScreensharing:xe,localScreenshareFeed:Se,localDesktopCapturerSourceId:Ie})}function De(xe){U({calls:[...xe]})}function qe(xe){U({participants:[...xe],hasLocalParticipant:t.hasLocalParticipant()})}function _e(xe){xe.code===SU.UnknownDevice&&D(xe.userId)}return t.on(bs.GroupCallStateChanged,se),t.on(bs.UserMediaFeedsChanged,oe),t.on(bs.ScreenshareFeedsChanged,Q),t.on(bs.ActiveSpeakerChanged,ae),t.on(bs.LocalMuteStateChanged,he),t.on(bs.LocalScreenshareStateChanged,Ee),t.on(bs.CallsChanged,De),t.on(bs.ParticipantsChanged,qe),t.on(bs.Error,_e),U({error:null,state:t.state,calls:[...t.calls],localCallFeed:t.localCallFeed,activeSpeaker:t.activeSpeaker,userMediaFeeds:[...t.userMediaFeeds],microphoneMuted:t.isMicrophoneMuted(),localVideoMuted:t.isLocalVideoMuted(),isScreensharing:t.isScreensharing(),localScreenshareFeed:t.localScreenshareFeed,localDesktopCapturerSourceId:t.localDesktopCapturerSourceId,screenshareFeeds:[...t.screenshareFeeds],participants:[...t.participants],hasLocalParticipant:t.hasLocalParticipant()}),()=>{t.removeListener(bs.GroupCallStateChanged,se),t.removeListener(bs.UserMediaFeedsChanged,oe),t.removeListener(bs.ScreenshareFeedsChanged,Q),t.removeListener(bs.ActiveSpeakerChanged,ae),t.removeListener(bs.LocalMuteStateChanged,he),t.removeListener(bs.LocalScreenshareStateChanged,Ee),t.removeListener(bs.CallsChanged,De),t.removeListener(bs.ParticipantsChanged,qe),t.removeListener(bs.Error,_e),t.leave()}},[t]),Lke(()=>{t.leave()});const R=ee.exports.useCallback(()=>t.initLocalCallFeed(),[t]),X=ee.exports.useCallback(()=>{t.state!==Yo.LocalCallFeedUninitialized&&t.state!==Yo.LocalCallFeedInitialized||t.enter().catch(se=>{console.error(se),U({error:se})})},[t]),H=ee.exports.useCallback(()=>t.leave(),[t]),K=ee.exports.useCallback(()=>{t.setLocalVideoMuted(!t.isLocalVideoMuted())},[t]),W=ee.exports.useCallback(()=>{t.setMicrophoneMuted(!t.isMicrophoneMuted())},[t]),Z=ee.exports.useCallback(()=>{U({requestingScreenshare:!0}),t.setScreensharingEnabled(!t.isScreensharing(),{audio:!0}).then(()=>{U({requestingScreenshare:!1})})},[t]),{t:ie}=Ir();return ee.exports.useEffect(()=>{if(window.RTCPeerConnection===void 0){const se=Jy("WebRTC is not supported or is being blocked in this browser.",ie);console.error(se),U({error:se})}},[ie]),{state:e,calls:n,localCallFeed:r,activeSpeaker:i,userMediaFeeds:s,microphoneMuted:l,localVideoMuted:d,error:o,initLocalCallFeed:R,enter:X,leave:H,toggleLocalVideoMuted:K,toggleMicrophoneMuted:W,toggleScreensharing:Z,requestingScreenshare:O,isScreensharing:h,screenshareFeeds:f,localScreenshareFeed:v,localDesktopCapturerSourceId:w,participants:E,hasLocalParticipant:C,unencryptedEventsFromUsers:A}}const Pke="_room_13aez_17",Dke="_joinRoom_13aez_25",Nke="_joinRoomContent_13aez_34",Bke="_joinRoomFooter_13aez_41",$ke="_homeLink_13aez_45",Fke="_joinCallButton_13aez_49",Uke="_copyButton_13aez_61";var P_={room:Pke,joinRoom:Dke,joinRoomContent:Nke,joinRoomFooter:Bke,homeLink:$ke,joinCallButton:Fke,copyButton:Uke};function KY(t){return{member:t?t.getMember():null,isLocal:t?t.isLocal():!1,speaking:t?t.isSpeaking():!1,videoMuted:t?t.isVideoMuted():!0,audioMuted:t?t.isAudioMuted():!0,localVolume:t?t.getLocalVolume():0,disposed:t?t.disposed:void 0,stream:t?t.stream:void 0,purpose:t?t.purpose:void 0}}function R8(t){const[e,n]=ee.exports.useState(()=>KY(t));return ee.exports.useEffect(()=>{function r(l){n(d=>({...d,speaking:l}))}function i(l,d){n(h=>({...h,audioMuted:l,videoMuted:d}))}function s(l){n(d=>({...d,localVolume:l}))}function o(){n(KY(t))}return t&&(t.on(zl.Speaking,r),t.on(zl.MuteStateChanged,i),t.on(zl.LocalVolumeChanged,s),t.on(zl.NewStream,o),t.on(zl.Disposed,o)),o(),()=>{t&&(t.removeListener(zl.Speaking,r),t.removeListener(zl.MuteStateChanged,i),t.removeListener(zl.LocalVolumeChanged,s),t.removeListener(zl.NewStream,o))}},[t]),e}function Eoe(t=!1){const e=Tp();ee.exports.useEffect(()=>{let n;return t&&(n=e.block(r=>{const i=new URL(r.pathname,window.location.href);i.search=r.search,i.hash=r.hash,window.location.href=i.href})),()=>{n&&n()}},[e,t])}const Soe=ee.exports.createContext(void 0);function QF(){const t=localStorage.getItem("matrix-media-preferences");if(t)try{return JSON.parse(t)}catch{return}else return}function TC(t){const e=QF();localStorage.setItem("matrix-media-preferences",JSON.stringify({...e,...t}))}function Hke({client:t,children:e}){const[{audioInput:n,videoInput:r,audioInputs:i,videoInputs:s,audioOutput:o,audioOutputs:l},d]=ee.exports.useState(()=>{const E=QF(),C=t.getMediaHandler();return C.restoreMediaSettings(E==null?void 0:E.audioInput,E==null?void 0:E.videoInput),{audioInput:C.audioInput,videoInput:C.videoInput,audioOutput:void 0,audioInputs:[],videoInputs:[],audioOutputs:[]}});ee.exports.useEffect(()=>{const E=t.getMediaHandler();function C(){navigator.mediaDevices.enumerateDevices().then(O=>{const M=QF(),A=O.filter(Z=>Z.kind==="audioinput"),D=A.some(Z=>Z.deviceId===E.audioInput);let U=E.audioInput;!D&&A.length>0&&(U=A[0].deviceId);const R=O.filter(Z=>Z.kind==="videoinput"),X=R.some(Z=>Z.deviceId===E.videoInput);let H=E.videoInput;!X&&R.length>0&&(H=R[0].deviceId);const K=O.filter(Z=>Z.kind==="audiooutput");let W;M&&K.some(Z=>Z.deviceId===M.audioOutput)&&(W=M.audioOutput),(E.videoInput!==H||E.audioInput!==U)&&E.setMediaInputs(U,H),TC({audioInput:U,videoInput:H,audioOutput:W}),d({audioInput:U,videoInput:H,audioOutput:W,audioInputs:A,videoInputs:R,audioOutputs:K})})}return C(),E.on(g$.LocalStreamsChanged,C),navigator.mediaDevices.addEventListener("devicechange",C),()=>{E.removeListener(g$.LocalStreamsChanged,C),navigator.mediaDevices.removeEventListener("devicechange",C),E.stopAllStreams()}},[t]);const h=ee.exports.useCallback(E=>{TC({audioInput:E}),d(C=>({...C,audioInput:E})),t.getMediaHandler().setAudioInput(E)},[t]),f=ee.exports.useCallback(E=>{TC({videoInput:E}),d(C=>({...C,videoInput:E})),t.getMediaHandler().setVideoInput(E)},[t]),v=ee.exports.useCallback(E=>{TC({audioOutput:E}),d(C=>({...C,audioOutput:E}))},[]),w=ee.exports.useMemo(()=>({audioInput:n,audioInputs:i,setAudioInput:h,videoInput:r,videoInputs:s,setVideoInput:f,audioOutput:o,audioOutputs:l,setAudioOutput:v}),[n,i,h,r,s,f,o,l,v]);return z.createElement(Soe.Provider,{value:w},e)}function M8(){return ee.exports.useContext(Soe)}function eU(t,e,n){var r,i,s,o,l;e==null&&(e=100);function d(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(d,e-f):(r=null,n||(l=t.apply(s,i),s=i=null))}var h=function(){s=this,i=arguments,o=Date.now();var f=n&&!r;return r||(r=setTimeout(d,e)),f&&(l=t.apply(s,i),s=i=null),l};return h.clear=function(){r&&(clearTimeout(r),r=null)},h.flush=function(){r&&(l=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},h}eU.debounce=eU;var zY=eU;function wO(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,l]=ee.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=ee.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),h=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,v=ee.exports.useRef(!1);ee.exports.useEffect(()=>(v.current=!0,()=>void(v.current=!1)));const[w,E,C]=ee.exports.useMemo(()=>{const D=()=>{if(!d.current.element)return;const{left:U,top:R,width:X,height:H,bottom:K,right:W,x:Z,y:ie}=d.current.element.getBoundingClientRect(),se={left:U,top:R,width:X,height:H,bottom:K,right:W,x:Z,y:ie};d.current.element instanceof HTMLElement&&i&&(se.height=d.current.element.offsetHeight,se.width=d.current.element.offsetWidth),Object.freeze(se),v.current&&!qke(d.current.lastBounds,se)&&l(d.current.lastBounds=se)};return[D,f?zY(D,f):D,h?zY(D,h):D]},[l,i,h,f]);function O(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(D=>D.removeEventListener("scroll",C,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function M(){!d.current.element||(d.current.resizeObserver=new s(C),d.current.resizeObserver.observe(d.current.element),n&&d.current.scrollContainers&&d.current.scrollContainers.forEach(D=>D.addEventListener("scroll",C,{capture:!0,passive:!0})))}const A=D=>{!D||D===d.current.element||(O(),d.current.element=D,d.current.scrollContainers=xoe(D),M())};return Kke(C,Boolean(n)),jke(E),ee.exports.useEffect(()=>{O(),M()},[n,C,E]),ee.exports.useEffect(()=>O,[]),[A,o,w]}function jke(t){ee.exports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Kke(t,e){ee.exports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function xoe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...xoe(t.parentElement)]}const zke=["x","y","top","bottom","left","right","width","height"],qke=(t,e)=>zke.every(n=>t[n]===e[n]);var Ly=[],Vke=function(){return Ly.some(function(t){return t.activeTargets.length>0})},Gke=function(){return Ly.some(function(t){return t.skippedTargets.length>0})},qY="ResizeObserver loop completed with undelivered notifications.",Wke=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:qY}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=qY),window.dispatchEvent(t)},Bx;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Bx||(Bx={}));var Ay=function(t){return Object.freeze(t)},Yke=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,Ay(this)}return t}(),koe=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ay(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,s=e.right,o=e.bottom,l=e.left,d=e.width,h=e.height;return{x:n,y:r,top:i,right:s,bottom:o,left:l,width:d,height:h}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),mK=function(t){return t instanceof SVGElement&&"getBBox"in t},Toe=function(t){if(mK(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||t.getClientRects().length)},VY=function(t){var e,n;if(t instanceof Element)return!0;var r=(n=(e=t)===null||e===void 0?void 0:e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},Xke=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},VS=typeof window!="undefined"?window:{},CC=new WeakMap,GY=/auto|scroll/,Zke=/^tb|vertical/,Jke=/msie|trident/i.test(VS.navigator&&VS.navigator.userAgent),tf=function(t){return parseFloat(t||"0")},M3=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new Yke((n?e:t)||0,(n?t:e)||0)},WY=Ay({devicePixelContentBoxSize:M3(),borderBoxSize:M3(),contentBoxSize:M3(),contentRect:new koe(0,0,0,0)}),Coe=function(t,e){if(e===void 0&&(e=!1),CC.has(t)&&!e)return CC.get(t);if(Toe(t))return CC.set(t,WY),WY;var n=getComputedStyle(t),r=mK(t)&&t.ownerSVGElement&&t.getBBox(),i=!Jke&&n.boxSizing==="border-box",s=Zke.test(n.writingMode||""),o=!r&&GY.test(n.overflowY||""),l=!r&&GY.test(n.overflowX||""),d=r?0:tf(n.paddingTop),h=r?0:tf(n.paddingRight),f=r?0:tf(n.paddingBottom),v=r?0:tf(n.paddingLeft),w=r?0:tf(n.borderTopWidth),E=r?0:tf(n.borderRightWidth),C=r?0:tf(n.borderBottomWidth),O=r?0:tf(n.borderLeftWidth),M=v+h,A=d+f,D=O+E,U=w+C,R=l?t.offsetHeight-U-t.clientHeight:0,X=o?t.offsetWidth-D-t.clientWidth:0,H=i?M+D:0,K=i?A+U:0,W=r?r.width:tf(n.width)-H-X,Z=r?r.height:tf(n.height)-K-R,ie=W+M+X+D,se=Z+A+R+U,oe=Ay({devicePixelContentBoxSize:M3(Math.round(W*devicePixelRatio),Math.round(Z*devicePixelRatio),s),borderBoxSize:M3(ie,se,s),contentBoxSize:M3(W,Z,s),contentRect:new koe(v,d,W,Z)});return CC.set(t,oe),oe},Ioe=function(t,e,n){var r=Coe(t,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(e){case Bx.DEVICE_PIXEL_CONTENT_BOX:return o;case Bx.BORDER_BOX:return i;default:return s}},Qke=function(){function t(e){var n=Coe(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Ay([n.borderBoxSize]),this.contentBoxSize=Ay([n.contentBoxSize]),this.devicePixelContentBoxSize=Ay([n.devicePixelContentBoxSize])}return t}(),Roe=function(t){if(Toe(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},e9e=function(){var t=1/0,e=[];Ly.forEach(function(o){if(o.activeTargets.length!==0){var l=[];o.activeTargets.forEach(function(h){var f=new Qke(h.target),v=Roe(h.target);l.push(f),h.lastReportedSize=Ioe(h.target,h.observedBox),v<t&&(t=v)}),e.push(function(){o.callback.call(o.observer,l,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},YY=function(t){Ly.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Roe(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},t9e=function(){var t=0;for(YY(t);Vke();)t=e9e(),YY(t);return Gke()&&Wke(),t>0},uB,Moe=[],n9e=function(){return Moe.splice(0).forEach(function(t){return t()})},r9e=function(t){if(!uB){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return n9e()}).observe(n,r),uB=function(){n.textContent=""+(e?e--:e++)}}Moe.push(t),uB()},i9e=function(t){r9e(function(){requestAnimationFrame(t)})},bI=0,s9e=function(){return!!bI},o9e=250,a9e={attributes:!0,characterData:!0,childList:!0,subtree:!0},XY=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ZY=function(t){return t===void 0&&(t=0),Date.now()+t},dB=!1,l9e=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=o9e),!dB){dB=!0;var r=ZY(e);i9e(function(){var i=!1;try{i=t9e()}finally{if(dB=!1,e=r-ZY(),!s9e())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,a9e)};document.body?n():VS.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),XY.forEach(function(n){return VS.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),XY.forEach(function(n){return VS.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),tU=new l9e,JY=function(t){!bI&&t>0&&tU.start(),bI+=t,!bI&&tU.stop()},c9e=function(t){return!mK(t)&&!Xke(t)&&getComputedStyle(t).display==="inline"},u9e=function(){function t(e,n){this.target=e,this.observedBox=n||Bx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Ioe(this.target,this.observedBox,!0);return c9e(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),d9e=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),IC=new WeakMap,QY=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},RC=function(){function t(){}return t.connect=function(e,n){var r=new d9e(e,n);IC.set(e,r)},t.observe=function(e,n,r){var i=IC.get(e),s=i.observationTargets.length===0;QY(i.observationTargets,n)<0&&(s&&Ly.push(i),i.observationTargets.push(new u9e(n,r&&r.box)),JY(1),tU.schedule())},t.unobserve=function(e,n){var r=IC.get(e),i=QY(r.observationTargets,n),s=r.observationTargets.length===1;i>=0&&(s&&Ly.splice(Ly.indexOf(r),1),r.observationTargets.splice(i,1),JY(-1))},t.disconnect=function(e){var n=this,r=IC.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),EO=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");RC.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!VY(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");RC.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!VY(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");RC.unobserve(this,e)},t.prototype.disconnect=function(){RC.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const fB=new iv.exports.EventEmitter,Ooe=(t,e)=>{const n=ee.exports.useMemo(()=>`matrix-setting-${t}`,[t]),[r,i]=ee.exports.useState(()=>{const s=localStorage.getItem(n);return s==null?e:JSON.parse(s)});return ee.exports.useEffect(()=>(fB.on(t,i),()=>{fB.off(t,i)}),[t,i]),[r,ee.exports.useCallback(s=>{i(s),localStorage.setItem(n,JSON.stringify(s)),fB.emit(t,s)},[t,n,i])]},yK=()=>Ooe("spatial-audio",!1),Loe=()=>Ooe("show-inspector",!1),ip=(t,e,n,r)=>{ee.exports.useEffect(()=>{if(t)return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)},[t,e,n,r])},f9e=(t,e,n)=>{ee.exports.useEffect(()=>(t.on(e,n),()=>{t.off(e,n)}),[t,e,n])};function Aoe(t,e){ee.exports.useEffect(()=>{t.current&&t.current!==void 0&&e&&(t.current.setSinkId?(console.log(`useMediaStream setting output setSinkId ${e}`),t.current.setSinkId(e)):console.log("Can't set output - no setsinkid"))},[t,e])}const Poe=t=>{const[e,n]=ee.exports.useState(t.getAudioTracks().length),[r,i]=ee.exports.useState(t.getVideoTracks().length),s=ee.exports.useCallback(()=>{n(t.getAudioTracks().length),i(t.getVideoTracks().length)},[t]);return ip(t,"addtrack",s),ip(t,"removetrack",s),[e,r]},vK=(t,e,n=!1,r)=>{const i=ee.exports.useRef();return Aoe(i,e),ee.exports.useEffect(()=>{if(console.log(`useMediaStream update stream mediaRef.current ${!!i.current} stream ${t&&t.id}`),i.current){const s=i.current;if(t){s.muted=n,s.srcObject=t,s.play();const o=()=>{s.muted=n};return s.addEventListener("volumechange",o),()=>s.removeEventListener("volumechange",o)}else i.current.srcObject=null}},[t,n]),ee.exports.useEffect(()=>{!i.current||r!=null&&(i.current.volume=r)},[r]),ee.exports.useEffect(()=>{const s=i.current;return()=>{s&&(s.srcObject=null)}},[]),i},h9e=async t=>{const e=new RTCPeerConnection,n=new RTCPeerConnection,r=new MediaStream;e.addEventListener("icecandidate",({candidate:l})=>{l&&n.addIceCandidate(new RTCIceCandidate(l))}),n.addEventListener("icecandidate",({candidate:l})=>{l&&e.addIceCandidate(new RTCIceCandidate(l))}),n.addEventListener("track",({track:l})=>r.addTrack(l)),t.getTracks().forEach(l=>e.addTrack(l));const i=await e.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});await e.setLocalDescription(i),await n.setRemoteDescription(i);const s=await n.createAnswer(),o=iJ(s.sdp);return o.media.forEach(l=>l.fmtp.forEach(d=>d.config+=";stereo=1;cbr=0;maxaveragebitrate=510000;")),s.sdp=rJ(o),await n.setLocalDescription(s),await e.setRemoteDescription(s),r},p9e=()=>{const t=ee.exports.useRef(),e=ee.exports.useRef(),n=ee.exports.useRef();return ee.exports.useEffect(()=>{if(n.current&&!t.current)if(t.current=sJ(),window.chrome){const r=t.current.createMediaStreamDestination();e.current=r;const i=n.current;return(async()=>(i.srcObject=await h9e(r.stream),await i.play()))(),()=>{i.srcObject=null,e$()}}else return e.current=t.current.destination,e$},[]),[t.current,e.current,n]},g9e=(t,e,n,r=!1,i)=>{const s=ee.exports.useRef(),[o]=yK(),l=vK(t,void 0,!0,void 0),[d]=Poe(t),h=ee.exports.useRef(),f=ee.exports.useRef(),v=ee.exports.useRef();return ee.exports.useEffect(()=>{if(o&&s.current&&!r&&d>0){f.current||(f.current=new PannerNode(e,{panningModel:"HRTF",refDistance:3})),h.current||(h.current=new GainNode(e,{gain:i})),v.current||(v.current=e.createMediaStreamSource(t));const w=s.current,E=v.current,C=h.current,O=f.current,M=()=>{const A=w.getBoundingClientRect(),D=Math.max(window.innerWidth,window.innerHeight);f.current.positionX.value=(A.x+A.width/2)/D-.5,f.current.positionY.value=(A.y+A.height/2)/D-.5,f.current.positionZ.value=-2};return C.gain.value=i,M(),E.connect(C).connect(O).connect(n),w.addEventListener("transitionrun",M),()=>{w.removeEventListener("transitionrun",M),E.disconnect(),C.disconnect(),O.disconnect()}}},[t,o,e,n,r,i,d]),[s,l]};function m9e(t){return ee.exports.createElement("svg",{width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M8.33398 15C8.33398 16.3807 7.2147 17.5 5.83398 17.5C4.45327 17.5 3.33398 16.3807 3.33398 15C3.33398 13.6193 4.45327 12.5 5.83398 12.5C7.2147 12.5 8.33398 13.6193 8.33398 15Z",fill:"white"}),ee.exports.createElement("path",{d:"M17.5002 15C17.5002 16.3807 16.381 17.5 15.0002 17.5C13.6195 17.5 12.5002 16.3807 12.5002 15C12.5002 13.6193 13.6195 12.5 15.0002 12.5C16.381 12.5 17.5002 13.6193 17.5002 15Z",fill:"white"}),ee.exports.createElement("path",{d:"M24.1665 17.5C25.5472 17.5 26.6665 16.3807 26.6665 15C26.6665 13.6193 25.5472 12.5 24.1665 12.5C22.7858 12.5 21.6665 13.6193 21.6665 15C21.6665 16.3807 22.7858 17.5 24.1665 17.5Z",fill:"white"}))}function y9e(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.283 21.4401C17.6495 21.4401 21.9999 17.0881 21.9999 11.7196C21.9999 6.3511 17.6495 1.99908 12.283 1.99908C6.91643 1.99908 2.566 6.3511 2.566 11.7196C2.566 13.2234 2.90739 14.6476 3.51687 15.9186L2.04468 20.7049C1.80806 21.4742 2.5308 22.1936 3.29898 21.9535L8.04564 20.4696C9.32625 21.0914 10.7639 21.4401 12.283 21.4401Z",fill:"#ffffff"}))}const v9e="_settingsModal_ulut3_1",b9e="_tabContainer_ulut3_6",_9e="_fieldRowText_ulut3_10";var hB={settingsModal:v9e,tabContainer:b9e,fieldRowText:_9e};function bK(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var w9e={};bK(w9e,"useTab",()=>Noe);const Doe=new WeakMap;function DR(t,e,n){return typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${Doe.get(t)}-${n}-${e}`}function Noe(t,e,n){let{key:r,isDisabled:i}=t,{selectionManager:s,selectedKey:o}=e,l=r===o,d=i||e.disabledKeys.has(r),{itemProps:h}=hO({selectionManager:s,key:r,ref:n,isDisabled:d}),f=DR(e,r,"tab"),v=DR(e,r,"tabpanel"),{tabIndex:w}=h;return{tabProps:{...h,id:f,"aria-selected":l,"aria-disabled":d||void 0,"aria-controls":l?v:void 0,tabIndex:d?void 0:w,role:"tab"}}}var E9e={};bK(E9e,"useTabPanel",()=>Boe);function Boe(t,e,n){let[r,i]=ee.exports.useState(0);Ea(()=>{if(n!=null&&n.current){let l=()=>{let h=Jl(n.current,{tabbable:!0});i(h.nextNode()?void 0:0)};l();let d=new MutationObserver(l);return d.observe(n.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{d.disconnect()}}},[n]);const s=DR(e,e==null?void 0:e.selectedKey,"tabpanel"),o=p8({...t,id:s,"aria-labelledby":DR(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:di(o,{tabIndex:r,role:"tabpanel","aria-describedby":t["aria-describedby"],"aria-details":t["aria-details"]})}}var S9e={};bK(S9e,"useTabList",()=>$oe);class x9e{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.orientation==="horizontal"?this.getPreviousKey(e):null}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.orientation==="horizontal"?this.getNextKey(e):null}getKeyAbove(e){return this.orientation==="vertical"?this.getPreviousKey(e):null}getKeyBelow(e){return this.orientation==="vertical"?this.getNextKey(e):null}getFirstKey(){let e=this.collection.getFirstKey();return this.disabledKeys.has(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return this.disabledKeys.has(e)&&(e=this.getPreviousKey(e)),e}getNextKey(e){do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(this.disabledKeys.has(e));return e}getPreviousKey(e){do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(this.disabledKeys.has(e));return e}constructor(e,n,r,i=new Set){this.collection=e,this.flipDirection=n==="rtl"&&r==="horizontal",this.orientation=r,this.disabledKeys=i}}function $oe(t,e,n){let{orientation:r="horizontal",keyboardActivation:i="automatic"}=t,{collection:s,selectionManager:o,disabledKeys:l}=e,{direction:d}=rm(),h=ee.exports.useMemo(()=>new x9e(s,d,r,l),[s,l,r,d]),{collectionProps:f}=eK({ref:n,selectionManager:o,keyboardDelegate:h,selectOnFocus:i==="automatic",disallowEmptySelection:!0,scrollRef:n}),v=Nc();Doe.set(e,v);let w=p8({...t,id:v});return{tabListProps:{...di(f,w),role:"tablist","aria-orientation":r,tabIndex:void 0}}}function k9e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var T9e={};k9e(T9e,"useTabListState",()=>Foe);function Foe(t){let e=uK({...t,suppressTextValueWarning:!0}),{selectionManager:n,collection:r,selectedKey:i}=e,s=ee.exports.useRef(i),o=i;if(n.isEmpty||!r.getItem(o)){for(o=r.getFirstKey();e.disabledKeys.has(o)&&o!==r.getLastKey();)o=r.getKeyAfter(o);e.disabledKeys.has(o)&&o===r.getLastKey()&&(o=r.getFirstKey()),n.setSelectedKeys([o])}return(n.focusedKey==null||!n.isFocused&&o!==s.current)&&n.setFocusedKey(o),s.current=o,e}const C9e="_tabContainer_stl6i_1",I9e="_tabList_stl6i_7",R9e="_tab_stl6i_1",M9e="_selected_stl6i_40",O9e="_disabled_stl6i_52",L9e="_tabPanel_stl6i_55";var O3={tabContainer:C9e,tabList:I9e,tab:R9e,selected:M9e,disabled:O9e,tabPanel:L9e};function A9e(t){var i;const e=Foe(t),n=ee.exports.useRef(),{tabListProps:r}=$oe(t,e,n);return z.createElement("div",{className:qr(O3.tabContainer,t.className)},z.createElement("ul",{...r,ref:n,className:O3.tabList},[...e.collection].map(s=>z.createElement(P9e,{item:s,state:e}))),z.createElement(D9e,{key:(i=e.selectedItem)==null?void 0:i.key,state:e}))}function P9e({item:t,state:e}){const{key:n,rendered:r}=t,i=ee.exports.useRef(),{tabProps:s}=Noe({key:n},e,i);return z.createElement("li",{...s,ref:i,className:qr(O3.tab,{[O3.selected]:e.selectedKey===n,[O3.disabled]:e.disabledKeys.has(n)})},r)}function D9e({state:t,...e}){var i;const n=ee.exports.useRef(),{tabPanelProps:r}=Boe(e,t,n);return z.createElement("div",{...r,ref:n,className:O3.tabPanel},(i=t.selectedItem)==null?void 0:i.props.children)}const pB=Wa;function N9e(t){return ee.exports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3C2.23858 3 0 5.23858 0 8C0 10.7614 2.23858 13 5 13H11C13.7614 13 16 10.7614 16 8C16 5.23858 13.7614 3 11 3H5ZM8 8C8 9.65685 6.65685 11 5 11C3.34315 11 2 9.65685 2 8C2 6.34315 3.34315 5 5 5C6.65685 5 8 6.34315 8 8Z",fill:"#A9B2BC"}))}const B9e=t=>{const{t:e}=Ir(),{audioInput:n,audioInputs:r,setAudioInput:i,videoInput:s,videoInputs:o,setVideoInput:l,audioOutput:d,audioOutputs:h,setAudioOutput:f}=M8(),[v,w]=yK(),[E,C]=Loe(),O=x8e();return z.createElement(im,{title:e("Settings"),isDismissable:!0,mobileFullScreen:!0,className:hB.settingsModal,...t},z.createElement(A9e,{className:hB.tabContainer},z.createElement(pB,{title:z.createElement(z.Fragment,null,z.createElement(Hj,{width:16,height:16}),z.createElement("span",null,e("Audio")))},z.createElement(R3,{label:e("Microphone"),selectedKey:n,onSelectionChange:i},r.map(({deviceId:M,label:A},D)=>z.createElement(Wa,{key:M},!!A&&A.trim().length>0?A:e("Microphone {{n}}",{n:D+1})))),h.length>0&&z.createElement(R3,{label:e("Speaker"),selectedKey:d,onSelectionChange:f},h.map(({deviceId:M,label:A},D)=>z.createElement(Wa,{key:M},!!A&&A.trim().length>0?A:e("Speaker {{n}}",{n:D+1})))),z.createElement(yi,null,z.createElement(Ya,{id:"spatialAudio",label:e("Spatial audio"),type:"checkbox",checked:v,description:e("This will make a speaker's audio seem as if it is coming from where their tile is positioned on screen. (Experimental feature: this may impact the stability of audio.)"),onChange:M=>w(M.target.checked)}))),z.createElement(pB,{title:z.createElement(z.Fragment,null,z.createElement(iO,{width:16,height:16}),z.createElement("span",null,e("Video")))},z.createElement(R3,{label:e("Camera"),selectedKey:s,onSelectionChange:l},o.map(({deviceId:M,label:A},D)=>z.createElement(Wa,{key:M},!!A&&A.trim().length>0?A:e("Camera {{n}}",{n:D+1}))))),z.createElement(pB,{title:z.createElement(z.Fragment,null,z.createElement(N9e,{width:16,height:16}),z.createElement("span",null,e("Developer")))},z.createElement(yi,null,z.createElement(Ja,{className:hB.fieldRowText},e("Version: {{version}}",{version:{}.VITE_APP_VERSION||"dev"}))),z.createElement(yi,null,z.createElement(Ya,{id:"showInspector",name:"inspector",label:e("Show call inspector"),type:"checkbox",checked:E,onChange:M=>C(M.target.checked)})),z.createElement(yi,null,z.createElement(Di,{onPress:O},e("Download debug logs"))))))},$9e="_inviteModal_1dtxj_1",F9e="_copyButton_1dtxj_5";var eX={inviteModal:$9e,copyButton:F9e};const Uoe=({roomIdOrAlias:t,...e})=>{const{t:n}=Ir();return z.createElement(im,{title:n("Invite people"),isDismissable:!0,className:eX.inviteModal,...e},z.createElement(Aw,null,z.createElement("p",null,n("Copy and share this call link")),z.createElement(jj,{className:eX.copyButton,value:MR(t)})))};function U9e({inCall:t,roomId:e,onClose:n,...r}){const{t:i}=Ir(),{submitRageshake:s,sending:o,sent:l,error:d}=dK(),h=k8e(),f=ee.exports.useCallback(v=>{v.preventDefault();const w=new FormData(v.target),E=w.get("description"),C=typeof E=="string"?E:"",O=Boolean(w.get("sendLogs")),M=vd(16);s({description:C,sendLogs:O,rageshakeRequestId:M,roomId:e}),t&&O&&h(e,M)},[t,s,e,h]);return ee.exports.useEffect(()=>{l&&n()},[l,n]),z.createElement(im,{title:i("Submit feedback"),isDismissable:!0,onClose:n,...r},z.createElement(Aw,null,z.createElement(Ja,null,i("Having trouble? Help us fix it.")),z.createElement("form",{onSubmit:f},z.createElement(yi,null,z.createElement(Ya,{id:"description",name:"description",label:i("Description (optional)"),type:"textarea"})),z.createElement(yi,null,z.createElement(Ya,{id:"sendLogs",name:"sendLogs",label:i("Include debug logs"),type:"checkbox",defaultChecked:!0})),d&&z.createElement(yi,null,z.createElement(Ip,{error:d})),z.createElement(yi,null,z.createElement(Di,{type:"submit",disabled:o},i(o?"Submitting feedback\u2026":"Submit feedback"))))))}function _K({roomIdOrAlias:t,inCall:e,groupCall:n,showInvite:r,feedbackModalState:i,feedbackModalProps:s}){const{t:o}=Ir(),{modalState:l,modalProps:d}=yu(),{modalState:h,modalProps:f}=yu(),v=ee.exports.useCallback(E=>{switch(E){case"invite":l.open();break;case"settings":h.open();break;case"feedback":i.open();break}},[i,l,h]),w=ee.exports.useCallback(()=>o("More"),[o]);return z.createElement(z.Fragment,null,z.createElement(bO,{disableOnState:!0},z.createElement(Af,{tooltip:w,placement:"top"},z.createElement(Di,{variant:"toolbar"},z.createElement(m9e,null))),E=>z.createElement(_O,{...E,label:o("More menu"),onAction:v},r&&z.createElement(Wa,{key:"invite",textValue:o("Invite people")},z.createElement(gie,null),z.createElement("span",null,o("Invite people"))),z.createElement(Wa,{key:"settings",textValue:o("Settings")},z.createElement(j5e,null),z.createElement("span",null,o("Settings"))),z.createElement(Wa,{key:"feedback",textValue:o("Submit feedback")},z.createElement(y9e,null),z.createElement("span",null,o("Submit feedback"))))),h.isOpen&&z.createElement(B9e,{...f}),l.isOpen&&z.createElement(Uoe,{roomIdOrAlias:t,...d}),i.isOpen&&z.createElement(U9e,{...s,roomId:n==null?void 0:n.room.roomId,inCall:e}))}const H9e="_preview_e6jxq_1",j9e="_avatarContainer_e6jxq_19",K9e="_cameraPermissions_e6jxq_31",z9e="_previewButtons_e6jxq_40";var GE={preview:H9e,avatarContainer:j9e,cameraPermissions:K9e,previewButtons:z9e};function q9e({client:t,state:e,roomIdOrAlias:n,microphoneMuted:r,localVideoMuted:i,toggleLocalVideoMuted:s,toggleMicrophoneMuted:o,audioOutput:l,stream:d}){const{t:h}=Ir(),f=vK(d,l,!0),{displayName:v,avatarUrl:w}=vO(t),[E,C]=wO({polyfill:EO}),O=(C.height-66)/2,{modalState:M,modalProps:A}=yu();return z.createElement("div",{className:GE.preview,ref:E},z.createElement("video",{ref:f,muted:!0,playsInline:!0,disablePictureInPicture:!0}),e===Yo.LocalCallFeedUninitialized&&z.createElement(Ja,{fontWeight:"semiBold",className:GE.cameraPermissions},h("Camera/microphone permissions needed to join the call.")),e===Yo.InitializingLocalCallFeed&&z.createElement(Ja,{fontWeight:"semiBold",className:GE.cameraPermissions},h("Accept camera/microphone permissions to join the call.")),e===Yo.LocalCallFeedInitialized&&z.createElement(z.Fragment,null,i&&z.createElement("div",{className:GE.avatarContainer},z.createElement(_p,{size:O,src:w,fallback:v.slice(0,1).toUpperCase()})),z.createElement("div",{className:GE.previewButtons},z.createElement(xie,{muted:r,onPress:o}),z.createElement(kie,{muted:i,onPress:s}),z.createElement(_K,{roomIdOrAlias:n,feedbackModalState:M,feedbackModalProps:A,inCall:!1,groupCall:void 0,showInvite:!1}))))}const V9e="_preview_1e0e3_1",G9e="_inputField_1e0e3_9",W9e="_microphonePermissions_1e0e3_17";var WE={preview:V9e,inputField:G9e,microphonePermissions:W9e};function Y9e({state:t,roomName:e,audioInput:n,audioInputs:r,setAudioInput:i,audioOutput:s,audioOutputs:o,setAudioOutput:l}){const{t:d}=Ir();return z.createElement(z.Fragment,null,z.createElement("h1",null,d("{{roomName}} - Walkie-talkie call",{roomName:e})),z.createElement("div",{className:WE.preview},t===Yo.LocalCallFeedUninitialized&&z.createElement(Ja,{fontWeight:"semiBold",className:WE.microphonePermissions},d("Microphone permissions needed to join the call.")),t===Yo.InitializingLocalCallFeed&&z.createElement(Ja,{fontWeight:"semiBold",className:WE.microphonePermissions},d("Accept microphone permissions to join the call.")),t===Yo.LocalCallFeedInitialized&&z.createElement(z.Fragment,null,z.createElement(R3,{label:d("Microphone"),selectedKey:n,onSelectionChange:i,className:WE.inputField},r.map(({deviceId:h,label:f},v)=>z.createElement(Wa,{key:h},!!f&&f.trim().length>0?f:d("Microphone {{n}}",{n:v+1})))),o.length>0&&z.createElement(R3,{label:d("Speaker"),selectedKey:s,onSelectionChange:l,className:WE.inputField},o.map(({deviceId:h,label:f},v)=>z.createElement(Wa,{key:h},!!f&&f.trim().length>0?f:d("Speaker {{n}}",{n:v+1})))))))}function X9e({client:t,groupCall:e,roomName:n,avatarUrl:r,state:i,onInitLocalCallFeed:s,onEnter:o,localCallFeed:l,microphoneMuted:d,localVideoMuted:h,toggleLocalVideoMuted:f,toggleMicrophoneMuted:v,roomIdOrAlias:w,isEmbedded:E,hideHeader:C}){const{t:O}=Ir(),{stream:M}=R8(l),{audioInput:A,audioInputs:D,setAudioInput:U,audioOutput:R,audioOutputs:X,setAudioOutput:H}=M8();ee.exports.useEffect(()=>{s()},[s]),Eoe(i===Yo.InitializingLocalCallFeed);const K=ee.exports.useRef();return ee.exports.useEffect(()=>{i===Yo.LocalCallFeedInitialized&&K.current.focus()},[i]),z.createElement("div",{className:P_.room},!C&&z.createElement(sm,null,z.createElement(om,null,z.createElement(OR,{roomName:n,avatarUrl:r})),z.createElement(am,null,z.createElement(C8,null))),z.createElement("div",{className:P_.joinRoom},z.createElement("div",{className:P_.joinRoomContent},e.isPtt?z.createElement(Y9e,{roomName:n,state:i,audioInput:A,audioInputs:D,setAudioInput:U,audioOutput:R,audioOutputs:X,setAudioOutput:H}):z.createElement(q9e,{state:i,client:t,roomIdOrAlias:w,microphoneMuted:d,localVideoMuted:h,toggleLocalVideoMuted:f,toggleMicrophoneMuted:v,stream:M,audioOutput:R}),z.createElement(Di,{ref:K,className:P_.copyButton,size:"lg",disabled:i!==Yo.LocalCallFeedInitialized,onPress:o},"Join call now"),z.createElement(Ja,null,"Or"),z.createElement(jj,{variant:"secondaryCopy",value:MR(w),className:P_.copyButton,copiedMessage:O("Call link copied")},O("Copy call link and join later"))),!E&&z.createElement(Ja,{className:P_.joinRoomFooter},z.createElement(cu,{color:"primary",to:"/"},O("Take me Home")))))}const Z9e="_inRoom_w56pi_17",J9e="_centerMessage_w56pi_28",Q9e="_footer_w56pi_41",eTe="_maximised_w56pi_57",tTe="_avatar_w56pi_63";var YE={inRoom:Z9e,centerMessage:J9e,footer:Q9e,maximised:eTe,avatar:tTe};function nTe(t,e,n){return Math.max(e,Math.min(t,n))}const hs={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function tX(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function nX(t,e,n,r=.15){return r===0?nTe(t,e,n):t<e?-tX(e-t,n-e,r)+e:t>n?+tX(t-n,n-e,r)+n:t}function rTe(t,[e,n],[r,i]){const[[s,o],[l,d]]=t;return[nX(e,s,o,r),nX(n,l,d,i)]}function po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rX(Object(n),!0).forEach(function(r){po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Hoe={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function iX(t){return t?t[0].toUpperCase()+t.slice(1):""}const iTe=["enter","leave"];function sTe(t=!1,e){return t&&!iTe.includes(e)}function oTe(t,e="",n=!1){const r=Hoe[t],i=r&&r[e]||e;return"on"+iX(t)+iX(i)+(sTe(n,i)?"Capture":"")}const aTe=["gotpointercapture","lostpointercapture"];function lTe(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=aTe.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function cTe(t,e=""){const n=Hoe[t],r=n&&n[e]||e;return t+r}function SO(t){return"touches"in t}function joe(t){return SO(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function uTe(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function dTe(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function Koe(t){return SO(t)?dTe(t)[0]:t}function nU(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,s=(e.clientY+t.clientY)/2,o=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:o,origin:[i,s]}}function fTe(t){return uTe(t).map(e=>e.identifier)}function sX(t,e){const[n,r]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return nU(n,r)}function gB(t){const e=Koe(t);return SO(t)?e.identifier:e.pointerId}function iw(t){const e=Koe(t);return[e.clientX,e.clientY]}const oX=40,aX=800;function zoe(t){let{deltaX:e,deltaY:n,deltaMode:r}=t;return r===1?(e*=oX,n*=oX):r===2&&(e*=aX,n*=aX),[e,n]}function hTe(t){var e,n;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=t.currentTarget;return[(e=r!=null?r:s)!==null&&e!==void 0?e:0,(n=i!=null?i:o)!==null&&n!==void 0?n:0]}function pTe(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function NR(t,...e){return typeof t=="function"?t(...e):t}function gTe(){}function mTe(...t){return t.length===0?gTe:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function lX(t,e){return Object.assign({},e,t||{})}const yTe=32;class qoe{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?NR(r.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=e.timeStamp}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,pTe(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const H=n._delta.map(Math.abs);hs.addTo(n._distance,H)}this.axisIntent&&this.axisIntent(e);const[o,l]=n._movement,[d,h]=r.threshold,{_step:f,values:v}=n;if(r.hasCustomTransform?(f[0]===!1&&(f[0]=Math.abs(o)>=d&&v[0]),f[1]===!1&&(f[1]=Math.abs(l)>=h&&v[1])):(f[0]===!1&&(f[0]=Math.abs(o)>=d&&Math.sign(o)*d),f[1]===!1&&(f[1]=Math.abs(l)>=h&&Math.sign(l)*h)),n.intentional=f[0]!==!1||f[1]!==!1,!n.intentional)return;const w=[0,0];if(r.hasCustomTransform){const[H,K]=v;w[0]=f[0]!==!1?H-f[0]:0,w[1]=f[1]!==!1?K-f[1]:0}else w[0]=f[0]!==!1?o-f[0]:0,w[1]=f[1]!==!1?l-f[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(w);const E=n.offset,C=n._active&&!n._blocked||n.active;C&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=NR(r.bounds,n)),this.setup&&this.setup()),n.movement=w,this.computeOffset()));const[O,M]=n.offset,[[A,D],[U,R]]=n._bounds;n.overflow=[O<A?-1:O>D?1:0,M<U?-1:M>R?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const X=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=rTe(n._bounds,n.offset,X),n.delta=hs.sub(n.offset,E),this.computeMovement(),C&&(!n.last||s>yTe)){n.delta=hs.sub(n.offset,E);const H=n.delta.map(Math.abs);hs.addTo(n.distance,H),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[H[0]/s,H[1]/s])}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(As(As(As({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function vTe([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class O8 extends qoe{constructor(...e){super(...e),po(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=hs.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=hs.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[joe(e)]:r.axisThreshold;n.axis=vTe(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const bTe=t=>t,cX=.15,Voe={enabled(t=!0){return t},eventOptions(t,e,n){return As(As({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[cX,cX];case!1:return[0,0];default:return hs.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return hs.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||bTe},threshold(t){return hs.toVector(t,0)}},_Te=0,yv=As(As({},Voe),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=_Te){return t},bounds(t={}){if(typeof t=="function")return s=>yv.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),MC=10,uX={ArrowRight:(t=1)=>[MC*t,0],ArrowLeft:(t=1)=>[-MC*t,0],ArrowUp:(t=1)=>[0,-MC*t],ArrowDown:(t=1)=>[0,MC*t]};class wTe extends O8{constructor(...e){super(...e),po(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=yv.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=gB(e),r._pointerActive=!0,this.computeValues(iw(e)),this.computeInitial(),n.preventScrollAxis&&joe(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive||n.type===e.type&&e.timeStamp===n.timeStamp)return;const i=gB(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=iw(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=hs.sub(s,n._values),this.computeValues(s)),hs.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=gB(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[l,d]=n.direction,[h,f]=n.velocity,[v,w]=n.movement,[E,C]=r.swipe.velocity,[O,M]=r.swipe.distance,A=r.swipe.duration;n.elapsedTime<A&&(Math.abs(h)>E&&Math.abs(v)>O&&(n.swipe[0]=l),Math.abs(f)>C&&Math.abs(w)>M&&(n.swipe[1]=d))}this.emit()}pointerClick(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,ETe(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=uX[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(i),r._keyboardActive=!0,hs.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in uX&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function ETe(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const L8=typeof window!="undefined"&&window.document&&window.document.createElement;function STe(){return L8&&"ontouchstart"in window}function dX(){return STe()||L8&&window.navigator.maxTouchPoints>1}function xTe(){return L8&&"onpointerdown"in window}function kTe(){return L8&&"exitPointerLock"in window.document}function TTe(){try{return"constructor"in GestureEvent}catch{return!1}}const iu={isBrowser:L8,gesture:TTe(),touch:dX(),touchscreen:dX(),pointer:xTe(),pointerLock:kTe()},CTe=250,ITe=180,RTe=.5,MTe=50,OTe=250,fX={mouse:0,touch:0,pen:8},LTe=As(As({},yv),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&iu.pointerLock,iu.touch&&n?"touch":this.pointerLock?"mouse":iu.pointer&&!i?"pointer":iu.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?CTe:void 0,!(!iu.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=hs.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=RTe,distance:e=MTe,duration:n=OTe}={}){return{velocity:this.transform(hs.toVector(t)),distance:this.transform(hs.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return ITe;case!1:return 0;default:return t}},axisThreshold(t){return t?As(As({},fX),t):fX}}),ATe=30,PTe=100;class DTe extends qoe{constructor(...e){super(...e),po(this,"ingKey","pinching"),po(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:n,lastOffset:r}=this.state;e==="wheel"?this.state.offset=hs.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){const e=this.state,[n,r]=e._movement;if(!e.axis){const i=Math.abs(n)*ATe-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);const i=sX(e,n._touchIds);this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2))return;this.start(e);const s=nU(...Array.from(r.values()));this.pinchStart(e,s)}pinchStart(e,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const n=sX(e,this.state._touchIds);this.pinchMove(e,n)}pointerMove(e){const n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;const r=nU(...Array.from(n.values()));this.pinchMove(e,r)}pinchMove(e,n){const r=this.state,i=r._values[1],s=n.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([n.distance,n.angle-360*o]),r.origin=n.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),!!this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),!!n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const n=this.state;n._active||(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];const r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=hs.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){!this.state._active||(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const n=this.config.modifierKey;n&&!e[n]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-zoe(e)[1]/PTe*r.offset[0],0],hs.addTo(r._movement,r._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(e){const n=this.config.device;n?(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this))):e("wheel","",this.wheel.bind(this),{passive:!1})}}const NTe=As(As({},Voe),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!iu.touch&&iu.gesture)return"gesture";if(iu.touch&&r)return"touch";if(iu.touchscreen){if(iu.pointer)return"pointer";if(iu.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const l=lX(NR(n,o),{min:-1/0,max:1/0});return[l.min,l.max]},s=o=>{const l=lX(NR(r,o),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",hs.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t}});class BTe extends O8{constructor(...e){super(...e),po(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(iw(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const n=iw(e),r=this.state;r._delta=hs.sub(n,r._values),hs.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}moveEnd(e){!this.state._active||(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const $Te=As(As({},yv),{},{mouseOnly:(t=!0)=>t});class FTe extends O8{constructor(...e){super(...e),po(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const n=this.state,r=hTe(e);n._delta=hs.sub(r,n._values),hs.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const UTe=yv;class HTe extends O8{constructor(...e){super(...e),po(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const n=this.state;n._delta=zoe(e),hs.addTo(n._movement,n._delta);const[r,i]=n.overflow,[s,o]=n._delta,[l,d]=n._direction;(r<0&&s>0&&l<0||r>0&&s<0&&l>0)&&(n._movement[0]=n._movementBound[0]),(i<0&&o>0&&d<0||i>0&&o<0&&d>0)&&(n._movement[1]=n._movementBound[1]),this.compute(e),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const jTe=yv;class KTe extends O8{constructor(...e){super(...e),po(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(iw(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=iw(e);n._movement=n._delta=hs.sub(r,n._values),this.computeValues(r),this.compute(e),n.delta=n.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const zTe=As(As({},yv),{},{mouseOnly:(t=!0)=>t}),wK=new Map,rU=new Map;function Goe(t){wK.set(t.key,t.engine),rU.set(t.key,t.resolver)}const Woe={key:"drag",engine:wTe,resolver:LTe},qTe={key:"hover",engine:KTe,resolver:zTe},VTe={key:"move",engine:BTe,resolver:$Te},GTe={key:"pinch",engine:DTe,resolver:NTe},WTe={key:"scroll",engine:FTe,resolver:UTe},YTe={key:"wheel",engine:HTe,resolver:jTe};function XTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZTe(t,e){if(t==null)return{};var n=XTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}const JTe={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=iu.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},QTe=["target","eventOptions","window","enabled","transform"];function _I(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=_I(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function eCe(t,e){const n=t,{target:r,eventOptions:i,window:s,enabled:o,transform:l}=n,d=ZTe(n,QTe),h={shared:_I({target:r,eventOptions:i,window:s,enabled:o,transform:l},JTe)};if(e){const f=rU.get(e);h[e]=_I(As({shared:h.shared},d),f)}else for(const f in d){const v=rU.get(f);v&&(h[f]=_I(As({shared:h.shared},d[f]),v))}return h}class Yoe{constructor(e,n){po(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,l=cTe(n,r),d=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},h=As(As({},d),s);e.addEventListener(l,i,h);const f=()=>{e.removeEventListener(l,i,h),o.delete(f)};return o.add(f),f}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class tCe{constructor(){po(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class nCe{constructor(e){po(this,"gestures",new Set),po(this,"_targetEventStore",new Yoe(this)),po(this,"gestureEventStores",{}),po(this,"gestureTimeoutStores",{}),po(this,"handlers",{}),po(this,"config",{}),po(this,"pointerIds",new Set),po(this,"touchIds",new Set),po(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),rCe(this,e)}setEventIds(e){if(SO(e))return this.touchIds=new Set(fTe(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=eCe(e,n)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const l=this.config[o],d=hX(r,l.eventOptions,!!i);if(l.enabled){const h=wK.get(o);new h(this,e,o).bind(d)}}const s=hX(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",l=>this.nativeHandlers[o](As(As({},this.state.shared),{},{event:l,args:e})),void 0,!0)}for(const s in r)r[s]=mTe(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:l,passive:d}=lTe(s);this._targetEventStore.add(i,o,"",r[s],{capture:l,passive:d})}}}}function D_(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Yoe(t,e),t.gestureTimeoutStores[e]=new tCe}function rCe(t,e){e.drag&&D_(t,"drag"),e.wheel&&D_(t,"wheel"),e.scroll&&D_(t,"scroll"),e.move&&D_(t,"move"),e.pinch&&D_(t,"pinch"),e.hover&&D_(t,"hover")}const hX=(t,e,n)=>(r,i,s,o={},l=!1)=>{var d,h;const f=(d=o.capture)!==null&&d!==void 0?d:e.capture,v=(h=o.passive)!==null&&h!==void 0?h:e.passive;let w=l?r:oTe(r,i,f);n&&v&&(w+="Passive"),t[w]=t[w]||[],t[w].push(s)},iCe=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function sCe(t){const e={},n={},r=new Set;for(let i in t)iCe.test(i)?(r.add(RegExp.lastMatch),n[i]=t[i]):e[i]=t[i];return[n,e,r]}function N_(t,e,n,r,i,s){if(!t.has(n)||!wK.has(r))return;const o=n+"Start",l=n+"End",d=h=>{let f;return h.first&&o in e&&e[o](h),n in e&&(f=e[n](h)),h.last&&l in e&&e[l](h),f};i[r]=d,s[r]=s[r]||{}}function oCe(t,e){const[n,r,i]=sCe(t),s={};return N_(i,n,"onDrag","drag",s,e),N_(i,n,"onWheel","wheel",s,e),N_(i,n,"onScroll","scroll",s,e),N_(i,n,"onPinch","pinch",s,e),N_(i,n,"onMove","move",s,e),N_(i,n,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function Xoe(t,e={},n,r){const i=z.useMemo(()=>new nCe(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),z.useEffect(i.effect.bind(i)),z.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function aCe(t,e){return Goe(Woe),Xoe({drag:t},e||{},"drag")}function lCe(t){return t.forEach(Goe),function(n,r){const{handlers:i,nativeHandlers:s,config:o}=oCe(n,r||{});return Xoe(i,o,void 0,s)}}function cCe(t,e){return lCe([Woe,GTe,WTe,YTe,VTe,qTe])(t,e||{})}let EK=P8();const Fr=t=>A8(t,EK);let SK=P8();Fr.write=t=>A8(t,SK);let xO=P8();Fr.onStart=t=>A8(t,xO);let xK=P8();Fr.onFrame=t=>A8(t,xK);let kK=P8();Fr.onFinish=t=>A8(t,kK);let L3=[];Fr.setTimeout=(t,e)=>{let n=Fr.now()+e,r=()=>{let s=L3.findIndex(o=>o.cancel==r);~s&&L3.splice(s,1),wg-=~s?1:0},i={time:n,handler:t,cancel:r};return L3.splice(Zoe(n),0,i),wg+=1,Joe(),i};let Zoe=t=>~(~L3.findIndex(e=>e.time>t)||~L3.length);Fr.cancel=t=>{xO.delete(t),xK.delete(t),EK.delete(t),SK.delete(t),kK.delete(t)};Fr.sync=t=>{iU=!0,Fr.batchedUpdates(t),iU=!1};Fr.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Fr.onStart(n)}return r.handler=t,r.cancel=()=>{xO.delete(n),e=null},r};let TK=typeof window!="undefined"?window.requestAnimationFrame:()=>{};Fr.use=t=>TK=t;Fr.now=typeof performance!="undefined"?()=>performance.now():Date.now;Fr.batchedUpdates=t=>t();Fr.catch=console.error;Fr.frameLoop="always";Fr.advance=()=>{Fr.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):eae()};let _g=-1,wg=0,iU=!1;function A8(t,e){iU?(e.delete(t),t(0)):(e.add(t),Joe())}function Joe(){_g<0&&(_g=0,Fr.frameLoop!=="demand"&&TK(Qoe))}function uCe(){_g=-1}function Qoe(){~_g&&(TK(Qoe),Fr.batchedUpdates(eae))}function eae(){let t=_g;_g=Fr.now();let e=Zoe(_g);e&&(tae(L3.splice(0,e),n=>n.handler()),wg-=e),xO.flush(),EK.flush(t?Math.min(64,_g-t):16.667),xK.flush(),SK.flush(),kK.flush(),wg||uCe()}function P8(){let t=new Set,e=t;return{add(n){wg+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return wg-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,wg-=e.size,tae(e,r=>r(n)&&t.add(r)),wg+=t.size,e=t)}}}function tae(t,e){t.forEach(n=>{try{e(n)}catch(r){Fr.catch(r)}})}function sU(){}const dCe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Mn={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Qh(t,e){if(Mn.arr(t)){if(!Mn.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const ui=(t,e)=>t.forEach(e);function Tf(t,e,n){if(Mn.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}const Lc=t=>Mn.und(t)?[]:Mn.arr(t)?t:[t];function GS(t,e){if(t.size){const n=Array.from(t);t.clear(),ui(n,e)}}const gS=(t,...e)=>GS(t,n=>n(...e)),nae=()=>typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let CK,rae,Fg=null,iae=!1,IK=sU;const fCe=t=>{t.to&&(rae=t.to),t.now&&(Fr.now=t.now),t.colors!==void 0&&(Fg=t.colors),t.skipAnimation!=null&&(iae=t.skipAnimation),t.createStringInterpolator&&(CK=t.createStringInterpolator),t.requestAnimationFrame&&Fr.use(t.requestAnimationFrame),t.batchedUpdates&&(Fr.batchedUpdates=t.batchedUpdates),t.willAdvance&&(IK=t.willAdvance),t.frameLoop&&(Fr.frameLoop=t.frameLoop)};var Cf=Object.freeze({__proto__:null,get createStringInterpolator(){return CK},get to(){return rae},get colors(){return Fg},get skipAnimation(){return iae},get willAdvance(){return IK},assign:fCe});const WS=new Set;let uu=[],mB=[],BR=0;const kO={get idle(){return!WS.size&&!uu.length},start(t){BR>t.priority?(WS.add(t),Fr.onStart(hCe)):(sae(t),Fr(oU))},advance:oU,sort(t){if(BR)Fr.onFrame(()=>kO.sort(t));else{const e=uu.indexOf(t);~e&&(uu.splice(e,1),oae(t))}},clear(){uu=[],WS.clear()}};function hCe(){WS.forEach(sae),WS.clear(),Fr(oU)}function sae(t){uu.includes(t)||oae(t)}function oae(t){uu.splice(pCe(uu,e=>e.priority>t.priority),0,t)}function oU(t){const e=mB;for(let n=0;n<uu.length;n++){const r=uu[n];BR=r.priority,r.idle||(IK(r),r.advance(t),r.idle||e.push(r))}return BR=0,mB=uu,mB.length=0,uu=e,uu.length>0}function pCe(t,e){const n=t.findIndex(e);return n<0?t.length:n}const gCe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},hd="[-+]?\\d*\\.?\\d+",$R=hd+"%";function TO(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const mCe=new RegExp("rgb"+TO(hd,hd,hd)),yCe=new RegExp("rgba"+TO(hd,hd,hd,hd)),vCe=new RegExp("hsl"+TO(hd,$R,$R)),bCe=new RegExp("hsla"+TO(hd,$R,$R,hd)),_Ce=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wCe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ECe=/^#([0-9a-fA-F]{6})$/,SCe=/^#([0-9a-fA-F]{8})$/;function xCe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=ECe.exec(t))?parseInt(e[1]+"ff",16)>>>0:Fg&&Fg[t]!==void 0?Fg[t]:(e=mCe.exec(t))?(B_(e[1])<<24|B_(e[2])<<16|B_(e[3])<<8|255)>>>0:(e=yCe.exec(t))?(B_(e[1])<<24|B_(e[2])<<16|B_(e[3])<<8|mX(e[4]))>>>0:(e=_Ce.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=SCe.exec(t))?parseInt(e[1],16)>>>0:(e=wCe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=vCe.exec(t))?(pX(gX(e[1]),OC(e[2]),OC(e[3]))|255)>>>0:(e=bCe.exec(t))?(pX(gX(e[1]),OC(e[2]),OC(e[3]))|mX(e[4]))>>>0:null}function yB(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pX(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=yB(i,r,t+1/3),o=yB(i,r,t),l=yB(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(l*255)<<8}function B_(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function gX(t){return(parseFloat(t)%360+360)%360/360}function mX(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function OC(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function yX(t){let e=xCe(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}const $x=(t,e,n)=>{if(Mn.fun(t))return t;if(Mn.arr(t))return $x({range:t,output:e,extrapolate:n});if(Mn.str(t.output[0]))return CK(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",d=r.easing||(h=>h);return h=>{const f=TCe(h,s);return kCe(h,s[f],s[f+1],i[f],i[f+1],d,o,l,r.map)}};function kCe(t,e,n,r,i,s,o,l,d){let h=d?d(t):t;if(h<e){if(o==="identity")return h;o==="clamp"&&(h=e)}if(h>n){if(l==="identity")return h;l==="clamp"&&(h=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?h=-h:n===1/0?h=h-e:h=(h-e)/(n-e),h=s(h),r===-1/0?h=-h:i===1/0?h=h+r:h=h*(i-r)+r,h)}function TCe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}function aU(){return aU=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aU.apply(this,arguments)}const sw=Symbol.for("FluidValue.get"),ev=Symbol.for("FluidValue.observers"),su=t=>Boolean(t&&t[sw]),Wl=t=>t&&t[sw]?t[sw]():t,vX=t=>t[ev]||null;function CCe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Fx(t,e){let n=t[ev];n&&n.forEach(r=>{CCe(r,e)})}class aae{constructor(e){if(this[sw]=void 0,this[ev]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");ICe(this,e)}}const ICe=(t,e)=>lae(t,sw,e);function Nw(t,e){if(t[sw]){let n=t[ev];n||lae(t,ev,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function Ux(t,e){let n=t[ev];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[ev]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const lae=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),wI=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,RCe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,bX=new RegExp(`(${wI.source})(%|[a-z]+)`,"i"),MCe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,CO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,cae=t=>{const[e,n]=OCe(t);if(!e||nae())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&CO.test(n))return cae(n);if(n)return n}return t},OCe=t=>{const e=CO.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]};let vB;const LCe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,uae=t=>{vB||(vB=Fg?new RegExp(`(${Object.keys(Fg).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Wl(s).replace(CO,cae).replace(RCe,yX).replace(vB,yX)),n=e.map(s=>s.match(wI).map(Number)),i=n[0].map((s,o)=>n.map(l=>{if(!(o in l))throw Error('The arity of each "output" value must be equal');return l[o]})).map(s=>$x(aU({},t,{output:s})));return s=>{var o;const l=!bX.test(e[0])&&((o=e.find(h=>bX.test(h)))==null?void 0:o.replace(wI,""));let d=0;return e[0].replace(wI,()=>`${i[d++](s)}${l||""}`).replace(MCe,LCe)}},RK="react-spring: ",dae=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${RK}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},ACe=dae(console.warn);function PCe(){ACe(`${RK}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const DCe=dae(console.warn);function NCe(){DCe(`${RK}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function IO(t){return Mn.str(t)&&(t[0]=="#"||/\d/.test(t)||!nae()&&CO.test(t)||t in(Fg||{}))}const MK=typeof window!="undefined"&&window.document&&window.document.createElement?ee.exports.useLayoutEffect:ee.exports.useEffect,BCe=()=>{const t=ee.exports.useRef(!1);return MK(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function fae(){const t=ee.exports.useState()[1],e=BCe();return()=>{e.current&&t(Math.random())}}function $Ce(t,e){const[n]=ee.exports.useState(()=>({inputs:e,result:t()})),r=ee.exports.useRef(),i=r.current;let s=i;return s?Boolean(e&&s.inputs&&FCe(e,s.inputs))||(s={inputs:e,result:t()}):s=n,ee.exports.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function FCe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const hae=t=>ee.exports.useEffect(t,UCe),UCe=[];function _X(t){const e=ee.exports.useRef();return ee.exports.useEffect(()=>{e.current=t}),e.current}const Hx=Symbol.for("Animated:node"),HCe=t=>!!t&&t[Hx]===t,of=t=>t&&t[Hx],OK=(t,e)=>dCe(t,Hx,e),RO=t=>t&&t[Hx]&&t[Hx].getPayload();class pae{constructor(){this.payload=void 0,OK(this,this)}getPayload(){return this.payload||[]}}class Bw extends pae{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,Mn.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Bw(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return Mn.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Mn.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class ow extends Bw{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=$x({output:[e,e]})}static create(e){return new ow(e)}getValue(){let e=this._string;return e==null?this._string=this._toString(this._value):e}setValue(e){if(Mn.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=$x({output:[this.getValue(),e]})),this._value=0,super.reset()}}const FR={dependencies:null};class MO extends pae{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return Tf(this.source,(r,i)=>{HCe(r)?n[i]=r.getValue(e):su(r)?n[i]=Wl(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ui(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return Tf(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){FR.dependencies&&su(e)&&FR.dependencies.add(e);const n=RO(e);n&&ui(n,r=>this.add(r))}}class LK extends MO{constructor(e){super(e)}static create(e){return new LK(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(jCe)),!0)}}function jCe(t){return(IO(t)?ow:Bw).create(t)}function lU(t){const e=of(t);return e?e.constructor:Mn.arr(t)?LK:IO(t)?ow:Bw}function UR(){return UR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UR.apply(this,arguments)}const wX=(t,e)=>{const n=!Mn.fun(t)||t.prototype&&t.prototype.isReactComponent;return ee.exports.forwardRef((r,i)=>{const s=ee.exports.useRef(null),o=n&&ee.exports.useCallback(C=>{s.current=qCe(i,C)},[i]),[l,d]=zCe(r,e),h=fae(),f=()=>{const C=s.current;if(n&&!C)return;(C?e.applyAnimatedValues(C,l.getValue(!0)):!1)===!1&&h()},v=new KCe(f,d),w=ee.exports.useRef();MK(()=>(w.current=v,ui(d,C=>Nw(C,v)),()=>{w.current&&(ui(w.current.deps,C=>Ux(C,w.current)),Fr.cancel(w.current.update))})),ee.exports.useEffect(f,[]),hae(()=>()=>{const C=w.current;ui(C.deps,O=>Ux(O,C))});const E=e.getComponentProps(l.getValue());return ee.exports.createElement(t,UR({},E,{ref:o}))})};class KCe{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){e.type=="change"&&Fr.write(this.update)}}function zCe(t,e){const n=new Set;return FR.dependencies=n,t.style&&(t=UR({},t,{style:e.createAnimatedStyle(t.style)})),t=new MO(t),FR.dependencies=null,[t,n]}function qCe(t,e){return t&&(Mn.fun(t)?t(e):t.current=e),e}const EX=Symbol.for("AnimatedComponent"),VCe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new MO(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const l=SX(o)||"Anonymous";return Mn.str(o)?o=s[o]||(s[o]=wX(o,i)):o=o[EX]||(o[EX]=wX(o,i)),o.displayName=`Animated(${l})`,o};return Tf(t,(o,l)=>{Mn.arr(t)&&(l=SX(o)),s[l]=s(o)}),{animated:s}},SX=t=>Mn.str(t)?t:t&&Mn.str(t.displayName)?t.displayName:Mn.fun(t)&&t.name||null;function Wo(){return Wo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(this,arguments)}function fy(t,...e){return Mn.fun(t)?t(...e):t}const YS=(t,e)=>t===!0||!!(e&&t&&(Mn.fun(t)?t(e):Lc(t).includes(e))),gae=(t,e)=>Mn.obj(t)?e&&t[e]:t,mae=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,GCe=t=>t,AK=(t,e=GCe)=>{let n=WCe;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Mn.und(s)||(r[i]=s)}return r},WCe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],YCe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function XCe(t){const e={};let n=0;if(Tf(t,(r,i)=>{YCe[i]||(e[i]=r,n++)}),n)return e}function yae(t){const e=XCe(t);if(e){const n={to:e};return Tf(t,(r,i)=>i in e||(n[i]=r)),n}return Wo({},t)}function jx(t){return t=Wl(t),Mn.arr(t)?t.map(jx):IO(t)?Cf.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function ZCe(t){for(const e in t)return!0;return!1}function cU(t){return Mn.fun(t)||Mn.arr(t)&&Mn.obj(t[0])}function JCe(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function QCe(t,e){if(e&&t.ref!==e){var n;(n=t.ref)==null||n.delete(t),e.add(t),t.ref=e}}const eIe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},HR=1.70158,LC=HR*1.525,xX=HR+1,kX=2*Math.PI/3,TX=2*Math.PI/4.5,AC=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,tIe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>xX*t*t*t-HR*t*t,easeOutBack:t=>1+xX*Math.pow(t-1,3)+HR*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((LC+1)*2*t-LC)/2:(Math.pow(2*t-2,2)*((LC+1)*(t*2-2)+LC)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*kX),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*kX)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*TX))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*TX)/2+1,easeInBounce:t=>1-AC(1-t),easeOutBounce:AC,easeInOutBounce:t=>t<.5?(1-AC(1-2*t))/2:(1+AC(2*t-1))/2},uU=Wo({},eIe.default,{mass:1,damping:1,easing:tIe.linear,clamp:!1});class nIe{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,uU)}}function rIe(t,e,n){n&&(n=Wo({},n),CX(n,e),e=Wo({},n,e)),CX(t,e),Object.assign(t,e);for(const o in uU)t[o]==null&&(t[o]=uU[o]);let{mass:r,frequency:i,damping:s}=t;return Mn.und(i)||(i<.01&&(i=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/i,2)*r,t.friction=4*Math.PI*s*r/i),t}function CX(t,e){if(!Mn.und(e.decay))t.duration=void 0;else{const n=!Mn.und(e.tension)||!Mn.und(e.friction);(n||!Mn.und(e.frequency)||!Mn.und(e.damping)||!Mn.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}const IX=[];class iIe{constructor(){this.changed=!1,this.values=IX,this.toValues=null,this.fromValues=IX,this.to=void 0,this.from=void 0,this.config=new nIe,this.immediate=!1}}function vae(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,l)=>{var d;let h,f,v=YS((d=n.cancel)!=null?d:r==null?void 0:r.cancel,e);if(v)C();else{Mn.und(n.pause)||(i.paused=YS(n.pause,e));let O=r==null?void 0:r.pause;O!==!0&&(O=i.paused||YS(O,e)),h=fy(n.delay||0,e),O?(i.resumeQueue.add(E),s.pause()):(s.resume(),E())}function w(){i.resumeQueue.add(E),i.timeouts.delete(f),f.cancel(),h=f.time-Fr.now()}function E(){h>0&&!Cf.skipAnimation?(i.delayed=!0,f=Fr.setTimeout(C,h),i.pauseQueue.add(w),i.timeouts.add(f)):C()}function C(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(w),i.timeouts.delete(f),t<=(i.cancelId||0)&&(v=!0);try{s.start(Wo({},n,{callId:t,cancel:v}),o)}catch(O){l(O)}}})}const PK=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?A3(t.get()):e.every(n=>n.noop)?bae(t.get()):cd(t.get(),e.every(n=>n.finished)),bae=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),cd=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),A3=t=>({value:t,cancelled:!0,finished:!1});function _ae(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:l,promise:d}=n;return!s&&t===l&&!e.reset?d:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const h=AK(e,(M,A)=>A==="onRest"?void 0:M);let f,v;const w=new Promise((M,A)=>(f=M,v=A)),E=M=>{const A=i<=(n.cancelId||0)&&A3(r)||i!==n.asyncId&&cd(r,!1);if(A)throw M.result=A,v(M),M},C=(M,A)=>{const D=new RX,U=new MX;return(async()=>{if(Cf.skipAnimation)throw Kx(n),U.result=cd(r,!1),v(U),U;E(D);const R=Mn.obj(M)?Wo({},M):Wo({},A,{to:M});R.parentId=i,Tf(h,(H,K)=>{Mn.und(R[K])&&(R[K]=H)});const X=await r.start(R);return E(D),n.paused&&await new Promise(H=>{n.resumeQueue.add(H)}),X})()};let O;if(Cf.skipAnimation)return Kx(n),cd(r,!1);try{let M;Mn.arr(t)?M=(async A=>{for(const D of A)await C(D)})(t):M=Promise.resolve(t(C,r.stop.bind(r))),await Promise.all([M.then(f),w]),O=cd(r.get(),!0,!1)}catch(M){if(M instanceof RX)O=M.result;else if(M instanceof MX)O=M.result;else throw M}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?l:void 0,n.promise=s?d:void 0)}return Mn.fun(o)&&Fr.batchedUpdates(()=>{o(O,r,r.item)}),O})()}function Kx(t,e){GS(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class RX extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class MX extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const dU=t=>t instanceof DK;let sIe=1;class DK extends aae{constructor(...e){super(...e),this.id=sIe++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=of(this);return e&&e.getValue()}to(...e){return Cf.to(this,e)}interpolate(...e){return PCe(),Cf.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){Fx(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||kO.sort(this),Fx(this,{type:"priority",parent:this,priority:e})}}const tv=Symbol.for("SpringPhase"),wae=1,fU=2,hU=4,bB=t=>(t[tv]&wae)>0,tg=t=>(t[tv]&fU)>0,XE=t=>(t[tv]&hU)>0,OX=(t,e)=>e?t[tv]|=fU|wae:t[tv]&=~fU,LX=(t,e)=>e?t[tv]|=hU:t[tv]&=~hU;class oIe extends DK{constructor(e,n){if(super(),this.key=void 0,this.animation=new iIe,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Mn.und(e)||!Mn.und(n)){const r=Mn.obj(e)?Wo({},e):Wo({},n,{from:e});Mn.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(tg(this)||this._state.asyncTo)||XE(this)}get goal(){return Wl(this.animation.to)}get velocity(){const e=of(this);return e instanceof Bw?e.lastVelocity||0:e.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return bB(this)}get isAnimating(){return tg(this)}get isPaused(){return XE(this)}get isDelayed(){return this._state.delayed}advance(e){let n=!0,r=!1;const i=this.animation;let{config:s,toValues:o}=i;const l=RO(i.to);!l&&su(i.to)&&(o=Lc(Wl(i.to))),i.values.forEach((f,v)=>{if(f.done)return;const w=f.constructor==ow?1:l?l[v].lastPosition:o[v];let E=i.immediate,C=w;if(!E){if(C=f.lastPosition,s.tension<=0){f.done=!0;return}let O=f.elapsedTime+=e;const M=i.fromValues[v],A=f.v0!=null?f.v0:f.v0=Mn.arr(s.velocity)?s.velocity[v]:s.velocity;let D;if(Mn.und(s.duration))if(s.decay){const U=s.decay===!0?.998:s.decay,R=Math.exp(-(1-U)*O);C=M+A/(1-U)*(1-R),E=Math.abs(f.lastPosition-C)<.1,D=A*R}else{D=f.lastVelocity==null?A:f.lastVelocity;const U=s.precision||(M==w?.005:Math.min(1,Math.abs(w-M)*.001)),R=s.restVelocity||U/10,X=s.clamp?0:s.bounce,H=!Mn.und(X),K=M==w?f.v0>0:M<w;let W,Z=!1;const ie=1,se=Math.ceil(e/ie);for(let oe=0;oe<se&&(W=Math.abs(D)>R,!(!W&&(E=Math.abs(w-C)<=U,E)));++oe){H&&(Z=C==w||C>w==K,Z&&(D=-D*X,C=w));const Q=-s.tension*1e-6*(C-w),ae=-s.friction*.001*D,he=(Q+ae)/s.mass;D=D+he*ie,C=C+D*ie}}else{let U=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,f.durationProgress>0&&(f.elapsedTime=s.duration*f.durationProgress,O=f.elapsedTime+=e)),U=(s.progress||0)+O/this._memoizedDuration,U=U>1?1:U<0?0:U,f.durationProgress=U),C=M+s.easing(U)*(w-M),D=(C-f.lastPosition)/e,E=U==1}f.lastVelocity=D,Number.isNaN(C)&&(console.warn("Got NaN while animating:",this),E=!0)}l&&!l[v].done&&(E=!1),E?f.done=!0:n=!1,f.setValue(C,s.round)&&(r=!0)});const d=of(this),h=d.getValue();if(n){const f=Wl(i.to);(h!==f||r)&&!s.decay?(d.setValue(f),this._onChange(f)):r&&s.decay&&this._onChange(h),this._stop()}else r&&this._onChange(h)}set(e){return Fr.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(tg(this)){const{to:e,config:n}=this.animation;Fr.batchedUpdates(()=>{this._onStart(),n.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,n){let r;return Mn.und(e)?(r=this.queue||[],this.queue=[]):r=[Mn.obj(e)?e:Wo({},n,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>PK(this,i))}stop(e){const{to:n}=this.animation;return this._focus(this.get()),Kx(this._state,e&&this._lastCallId),Fr.batchedUpdates(()=>this._stop(n,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const n=this.key||"";let{to:r,from:i}=e;r=Mn.obj(r)?r[n]:r,(r==null||cU(r))&&(r=void 0),i=Mn.obj(i)?i[n]:i,i==null&&(i=void 0);const s={to:r,from:i};return bB(this)||(e.reverse&&([r,i]=[i,r]),i=Wl(i),Mn.und(i)?of(this)||this._set(r):this._set(i)),s}_update(e,n){let r=Wo({},e);const{key:i,defaultProps:s}=this;r.default&&Object.assign(s,AK(r,(d,h)=>/^on/.test(h)?gae(d,i):d)),PX(this,r,"onProps"),JE(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const l=this._state;return vae(++this._lastCallId,{key:i,props:r,defaultProps:s,state:l,actions:{pause:()=>{XE(this)||(LX(this,!0),gS(l.pauseQueue),JE(this,"onPause",cd(this,ZE(this,this.animation.to)),this))},resume:()=>{XE(this)&&(LX(this,!1),tg(this)&&this._resume(),gS(l.resumeQueue),JE(this,"onResume",cd(this,ZE(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(d=>{if(r.loop&&d.finished&&!(n&&d.noop)){const h=Eae(r);if(h)return this._update(h,!0)}return d})}_merge(e,n,r){if(n.cancel)return this.stop(!0),r(A3(this));const i=!Mn.und(e.to),s=!Mn.und(e.from);if(i||s)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(A3(this));const{key:o,defaultProps:l,animation:d}=this,{to:h,from:f}=d;let{to:v=h,from:w=f}=e;s&&!i&&(!n.default||Mn.und(v))&&(v=w),n.reverse&&([v,w]=[w,v]);const E=!Qh(w,f);E&&(d.from=w),w=Wl(w);const C=!Qh(v,h);C&&this._focus(v);const O=cU(n.to),{config:M}=d,{decay:A,velocity:D}=M;(i||s)&&(M.velocity=0),n.config&&!O&&rIe(M,fy(n.config,o),n.config!==l.config?fy(l.config,o):void 0);let U=of(this);if(!U||Mn.und(v))return r(cd(this,!0));const R=Mn.und(n.reset)?s&&!n.default:!Mn.und(w)&&YS(n.reset,o),X=R?w:this.get(),H=jx(v),K=Mn.num(H)||Mn.arr(H)||IO(H),W=!O&&(!K||YS(l.immediate||n.immediate,o));if(C){const oe=lU(v);if(oe!==U.constructor)if(W)U=this._set(H);else throw Error(`Cannot animate between ${U.constructor.name} and ${oe.name}, as the "to" prop suggests`)}const Z=U.constructor;let ie=su(v),se=!1;if(!ie){const oe=R||!bB(this)&&E;(C||oe)&&(se=Qh(jx(X),H),ie=!se),(!Qh(d.immediate,W)&&!W||!Qh(M.decay,A)||!Qh(M.velocity,D))&&(ie=!0)}if(se&&tg(this)&&(d.changed&&!R?ie=!0:ie||this._stop(h)),!O&&((ie||su(h))&&(d.values=U.getPayload(),d.toValues=su(v)?null:Z==ow?[1]:Lc(H)),d.immediate!=W&&(d.immediate=W,!W&&!R&&this._set(h)),ie)){const{onRest:oe}=d;ui(lIe,ae=>PX(this,n,ae));const Q=cd(this,ZE(this,h));gS(this._pendingCalls,Q),this._pendingCalls.add(r),d.changed&&Fr.batchedUpdates(()=>{d.changed=!R,oe==null||oe(Q,this),R?fy(l.onRest,Q):d.onStart==null||d.onStart(Q,this)})}R&&this._set(X),O?r(_ae(n.to,n,this._state,this)):ie?this._start():tg(this)&&!C?this._pendingCalls.add(r):r(bae(X))}_focus(e){const n=this.animation;e!==n.to&&(vX(this)&&this._detach(),n.to=e,vX(this)&&this._attach())}_attach(){let e=0;const{to:n}=this.animation;su(n)&&(Nw(n,this),dU(n)&&(e=n.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;su(e)&&Ux(e,this)}_set(e,n=!0){const r=Wl(e);if(!Mn.und(r)){const i=of(this);if(!i||!Qh(r,i.getValue())){const s=lU(r);!i||i.constructor!=s?OK(this,s.create(r)):i.setValue(r),i&&Fr.batchedUpdates(()=>{this._onChange(r,n)})}}return of(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,JE(this,"onStart",cd(this,ZE(this,e.to)),this))}_onChange(e,n){n||(this._onStart(),fy(this.animation.onChange,e,this)),fy(this.defaultProps.onChange,e,this),super._onChange(e,n)}_start(){const e=this.animation;of(this).reset(Wl(e.to)),e.immediate||(e.fromValues=e.values.map(n=>n.lastPosition)),tg(this)||(OX(this,!0),XE(this)||this._resume())}_resume(){Cf.skipAnimation?this.finish():kO.start(this)}_stop(e,n){if(tg(this)){OX(this,!1);const r=this.animation;ui(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Fx(this,{type:"idle",parent:this});const i=n?A3(this.get()):cd(this.get(),ZE(this,e!=null?e:r.to));gS(this._pendingCalls,i),r.changed&&(r.changed=!1,JE(this,"onRest",i,this))}}}function ZE(t,e){const n=jx(e),r=jx(t.get());return Qh(r,n)}function Eae(t,e=t.loop,n=t.to){let r=fy(e);if(r){const i=r!==!0&&yae(r),s=(i||t).reverse,o=!i||i.reset;return zx(Wo({},t,{loop:e,default:!1,pause:void 0,to:!s||cU(n)?n:void 0,from:o?t.from:void 0,reset:o},i))}}function zx(t){const{to:e,from:n}=t=yae(t),r=new Set;return Mn.obj(e)&&AX(e,r),Mn.obj(n)&&AX(n,r),t.keys=r.size?Array.from(r):null,t}function aIe(t){const e=zx(t);return Mn.und(e.default)&&(e.default=AK(e)),e}function AX(t,e){Tf(t,(n,r)=>n!=null&&e.add(r))}const lIe=["onStart","onRest","onChange","onPause","onResume"];function PX(t,e,n){t.animation[n]=e[n]!==mae(e,n)?gae(e[n],t.key):void 0}function JE(t,e,...n){var r,i,s,o;(r=(i=t.animation)[e])==null||r.call(i,...n),(s=(o=t.defaultProps)[e])==null||s.call(o,...n)}const cIe=["onStart","onChange","onRest"];let uIe=1;class dIe{constructor(e,n){this.id=uIe++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(Wo({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(const n in e){const r=e[n];Mn.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(zx(e)),this}start(e){let{queue:n}=this;return e?n=Lc(e).map(zx):this.queue=[],this._flush?this._flush(this,n):(Cae(this,n),pU(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const r=this.springs;ui(Lc(n),i=>r[i].stop(!!e))}else Kx(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(Mn.und(e))this.start({pause:!0});else{const n=this.springs;ui(Lc(e),r=>n[r].pause())}return this}resume(e){if(Mn.und(e))this.start({pause:!1});else{const n=this.springs;ui(Lc(e),r=>n[r].resume())}return this}each(e){Tf(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,GS(e,([d,h])=>{h.value=this.get(),d(h,this,this._item)}));const o=!i&&this._started,l=s||o&&r.size?this.get():null;s&&n.size&&GS(n,([d,h])=>{h.value=l,d(h,this,this._item)}),o&&(this._started=!1,GS(r,([d,h])=>{h.value=l,d(h,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Fr.onFrame(this._onFrame)}}function pU(t,e){return Promise.all(e.map(n=>Sae(t,n))).then(n=>PK(t,n))}async function Sae(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:l,onResolve:d}=e,h=Mn.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const f=Mn.arr(i)||Mn.fun(i)?i:void 0;f?(e.to=void 0,e.onRest=void 0,h&&(h.onRest=void 0)):ui(cIe,O=>{const M=e[O];if(Mn.fun(M)){const A=t._events[O];e[O]=({finished:D,cancelled:U})=>{const R=A.get(M);R?(D||(R.finished=!1),U&&(R.cancelled=!0)):A.set(M,{value:null,finished:D||!1,cancelled:U||!1})},h&&(h[O]=e[O])}});const v=t._state;e.pause===!v.paused?(v.paused=e.pause,gS(e.pause?v.pauseQueue:v.resumeQueue)):v.paused&&(e.pause=!0);const w=(r||Object.keys(t.springs)).map(O=>t.springs[O].start(e)),E=e.cancel===!0||mae(e,"cancel")===!0;(f||E&&v.asyncId)&&w.push(vae(++t._lastAsyncId,{props:e,state:v,actions:{pause:sU,resume:sU,start(O,M){E?(Kx(v,t._lastAsyncId),M(A3(t))):(O.onRest=l,M(_ae(f,O,v,t)))}}})),v.paused&&await new Promise(O=>{v.resumeQueue.add(O)});const C=PK(t,await Promise.all(w));if(o&&C.finished&&!(n&&C.noop)){const O=Eae(e,o,i);if(O)return Cae(t,[O]),Sae(t,O,!0)}return d&&Fr.batchedUpdates(()=>d(C,t,t.item)),C}function DX(t,e){const n=Wo({},t.springs);return e&&ui(Lc(e),r=>{Mn.und(r.keys)&&(r=zx(r)),Mn.obj(r.to)||(r=Wo({},r,{to:void 0})),Tae(n,r,i=>kae(i))}),xae(t,n),n}function xae(t,e){Tf(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Nw(n,t))})}function kae(t,e){const n=new oIe;return n.key=t,e&&Nw(n,e),n}function Tae(t,e,n){e.keys&&ui(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function Cae(t,e){ui(e,n=>{Tae(t.springs,n,r=>kae(r,t))})}function fIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const hIe=["children"],OO=t=>{let{children:e}=t,n=fIe(t,hIe);const r=ee.exports.useContext(jR),i=n.pause||!!r.pause,s=n.immediate||!!r.immediate;n=$Ce(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=jR;return ee.exports.createElement(o,{value:n},e)},jR=pIe(OO,{});OO.Provider=jR.Provider;OO.Consumer=jR.Consumer;function pIe(t,e){return Object.assign(t,ee.exports.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const gIe=()=>{const t=[],e=function(i){NCe();const s=[];return ui(t,(o,l)=>{if(Mn.und(i))s.push(o.start());else{const d=n(i,o,l);d&&s.push(o.start(d))}}),s};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return ui(t,r=>r.pause(...arguments)),this},e.resume=function(){return ui(t,r=>r.resume(...arguments)),this},e.set=function(r){ui(t,i=>i.set(r))},e.start=function(r){const i=[];return ui(t,(s,o)=>{if(Mn.und(r))i.push(s.start());else{const l=this._getProps(r,s,o);l&&i.push(s.start(l))}}),i},e.stop=function(){return ui(t,r=>r.stop(...arguments)),this},e.update=function(r){return ui(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(i,s,o){return Mn.fun(i)?i(o,s):i};return e._getProps=n,e};function Iae(t,e,n){const r=Mn.fun(e)&&e;r&&!n&&(n=[]);const i=ee.exports.useMemo(()=>r||arguments.length==3?gIe():void 0,[]),s=ee.exports.useRef(0),o=fae(),l=ee.exports.useMemo(()=>({ctrls:[],queue:[],flush(A,D){const U=DX(A,D);return s.current>0&&!l.queue.length&&!Object.keys(U).some(X=>!A.springs[X])?pU(A,D):new Promise(X=>{xae(A,U),l.queue.push(()=>{X(pU(A,D))}),o()})}}),[]),d=ee.exports.useRef([...l.ctrls]),h=[],f=_X(t)||0;ee.exports.useMemo(()=>{ui(d.current.slice(t,f),A=>{JCe(A,i),A.stop(!0)}),d.current.length=t,v(f,t)},[t]),ee.exports.useMemo(()=>{v(0,Math.min(f,t))},n);function v(A,D){for(let U=A;U<D;U++){const R=d.current[U]||(d.current[U]=new dIe(null,l.flush)),X=r?r(U,R):e[U];X&&(h[U]=aIe(X))}}const w=d.current.map((A,D)=>DX(A,h[D])),E=ee.exports.useContext(OO),C=_X(E),O=E!==C&&ZCe(E);MK(()=>{s.current++,l.ctrls=d.current;const{queue:A}=l;A.length&&(l.queue=[],ui(A,D=>D())),ui(d.current,(D,U)=>{i==null||i.add(D),O&&D.start({default:E});const R=h[U];R&&(QCe(D,R.ref),D.ref?D.queue.push(R):D.start(R))})}),hae(()=>()=>{ui(l.ctrls,A=>A.stop(!0))});const M=w.map(A=>Wo({},A));return i?[M,i]:M}function mIe(t,e){const n=Mn.fun(t),[[r],i]=Iae(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}let NX;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(NX||(NX={}));class yIe extends DK{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=$x(...n);const r=this._get(),i=lU(r);OK(this,i.create(r))}advance(e){const n=this._get(),r=this.get();Qh(n,r)||(of(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&BX(this._active)&&_B(this)}_get(){const e=Mn.arr(this.source)?this.source.map(Wl):Lc(Wl(this.source));return this.calc(...e)}_start(){this.idle&&!BX(this._active)&&(this.idle=!1,ui(RO(this),e=>{e.done=!1}),Cf.skipAnimation?(Fr.batchedUpdates(()=>this.advance()),_B(this)):kO.start(this))}_attach(){let e=1;ui(Lc(this.source),n=>{su(n)&&Nw(n,this),dU(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){ui(Lc(this.source),e=>{su(e)&&Ux(e,this)}),this._active.clear(),_B(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Lc(this.source).reduce((n,r)=>Math.max(n,(dU(r)?r.priority:0)+1),0))}}function vIe(t){return t.idle!==!1}function BX(t){return!t.size||Array.from(t).every(vIe)}function _B(t){t.idle||(t.idle=!0,ui(RO(t),e=>{e.done=!0}),Fx(t,{type:"idle",parent:t}))}Cf.assign({createStringInterpolator:uae,to:(t,e)=>new yIe(t,e)});function NK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const bIe=["style","children","scrollTop","scrollLeft"],Rae=/^--/;function _Ie(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!Rae.test(t)&&!(XS.hasOwnProperty(t)&&XS[t])?e+"px":(""+e).trim()}const $X={};function wIe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",r=e,{style:i,children:s,scrollTop:o,scrollLeft:l}=r,d=NK(r,bIe),h=Object.values(d),f=Object.keys(d).map(v=>n||t.hasAttribute(v)?v:$X[v]||($X[v]=v.replace(/([A-Z])/g,w=>"-"+w.toLowerCase())));s!==void 0&&(t.textContent=s);for(let v in i)if(i.hasOwnProperty(v)){const w=_Ie(v,i[v]);Rae.test(v)?t.style.setProperty(v,w):t.style[v]=w}f.forEach((v,w)=>{t.setAttribute(v,h[w])}),o!==void 0&&(t.scrollTop=o),l!==void 0&&(t.scrollLeft=l)}let XS={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const EIe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),SIe=["Webkit","Ms","Moz","O"];XS=Object.keys(XS).reduce((t,e)=>(SIe.forEach(n=>t[EIe(n,e)]=t[e]),t),XS);const xIe=["x","y","z"],kIe=/^(matrix|translate|scale|rotate|skew)/,TIe=/^(translate)/,CIe=/^(rotate|skew)/,wB=(t,e)=>Mn.num(t)&&t!==0?t+e:t,EI=(t,e)=>Mn.arr(t)?t.every(n=>EI(n,e)):Mn.num(t)?t===e:parseFloat(t)===e;class IIe extends MO{constructor(e){let{x:n,y:r,z:i}=e,s=NK(e,xIe);const o=[],l=[];(n||r||i)&&(o.push([n||0,r||0,i||0]),l.push(d=>[`translate3d(${d.map(h=>wB(h,"px")).join(",")})`,EI(d,0)])),Tf(s,(d,h)=>{if(h==="transform")o.push([d||""]),l.push(f=>[f,f===""]);else if(kIe.test(h)){if(delete s[h],Mn.und(d))return;const f=TIe.test(h)?"px":CIe.test(h)?"deg":"";o.push(Lc(d)),l.push(h==="rotate3d"?([v,w,E,C])=>[`rotate3d(${v},${w},${E},${wB(C,f)})`,EI(C,0)]:v=>[`${h}(${v.map(w=>wB(w,f)).join(",")})`,EI(v,h.startsWith("scale")?1:0)])}}),o.length&&(s.transform=new RIe(o,l)),super(s)}}class RIe extends aae{constructor(e,n){super(),this._value=null,this.inputs=e,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let e="",n=!0;return ui(this.inputs,(r,i)=>{const s=Wl(r[0]),[o,l]=this.transforms[i](Mn.arr(s)?s:r.map(Wl));e+=" "+o,n=n&&l}),n?"none":e}observerAdded(e){e==1&&ui(this.inputs,n=>ui(n,r=>su(r)&&Nw(r,this)))}observerRemoved(e){e==0&&ui(this.inputs,n=>ui(n,r=>su(r)&&Ux(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Fx(this,e)}}const MIe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],OIe=["scrollTop","scrollLeft"];Cf.assign({batchedUpdates:sM.exports.unstable_batchedUpdates,createStringInterpolator:uae,colors:gCe});const LIe=VCe(MIe,{applyAnimatedValues:wIe,createAnimatedStyle:t=>new IIe(t),getComponentProps:t=>NK(t,OIe)}),Mae=LIe.animated,AIe="_videoGrid_kb50q_1";var PIe={videoGrid:AIe};function DIe(t){const e=ee.exports.useRef("freedom"),n=ee.exports.useRef("freedom"),r=ee.exports.useRef(t),[,i]=ee.exports.useState({}),s=ee.exports.useCallback(o=>{n.current=o,e.current=o,i({})},[]);return r.current!==t&&(t?e.current="spotlight":e.current=n.current),r.current=t,{layout:e.current,setLayout:s}}const Vi=8;function NIe(){const t=ee.exports.useRef(!1);return ee.exports.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function BIe([t,e],n){const r=n.x,i=n.y,s=n.y+n.height,o=n.x+n.width;return!(t<r||t>o||e<i||e>s)}const Oae=t=>t<1?12:24;function EB(t,e,n,r,i,s,o,l){return l==="freedom"?t===2&&!n?$Ie(r,i,s,o):Lae(t,e,r,i):FIe(t,r,i)}function $Ie(t,e,n,r){const[i]=Lae(1,0,t,e),s=t/e,o=s<1?114:230,l=s<1?163:155,d=Oae(s),h=i.x+d,f=i.y+d,v=i.x+i.width-o-d,w=i.y+i.height-l-d;return[{x:h+n*(v-h),y:f+r*(w-f),width:o,height:l,zIndex:1},i]}function FIe(t,e,n){const r=[];if(e/n<1){const s=t>1?(n-Vi*3)*.8:n-Vi*2,o=t>1?n-Vi*3-s:0;for(let l=0;l<t;l++)l===0?r.push({x:Vi,y:Vi,width:e-Vi*2,height:s,zIndex:0}):r.push({x:(Vi+o)*(l-1)+Vi,y:s+Vi*2,width:o,height:o,zIndex:0})}else{const s=t>1?(e-Vi*3)*4/5:e-Vi*2,o=t>1?e-Vi*3-s:0,l=o*(9/16);for(let d=0;d<t;d++)d===0?r.push({x:Vi,y:Vi,width:s,height:n-Vi*2,zIndex:0}):r.push({x:Vi*2+s,y:(Vi+l)*(d-1)+Vi,width:o,height:l,zIndex:0})}return r}function Lae(t,e,n,r){if(t===0)return[];t>12&&console.warn("Over 12 tiles is not currently supported");const{layoutDirection:i,itemGridRatio:s}=UIe(t,e,n,r);let o,l;i==="vertical"?(o=n,l=Math.round(r*s)):(o=Math.round(n*s),l=r);const d=t-e,{columnCount:h,rowCount:f,tileAspectRatio:v}=FX(d,o,l),w=UX(d,h,f,v,o,l),E=Aae(w);let C,O;e===0?(C=0,O=0):i==="vertical"?(C=n,O=r-(E.height+(d?Vi*2:0))):(C=n-(E.width+(d?Vi*2:0)),O=r);const{columnCount:M,rowCount:A,tileAspectRatio:D}=FX(e,C,O),U=UX(e,M,A,D,C,O),R=[...U,...w];return SB(U,C,O,0,0),i==="vertical"?SB(w,n,r-O,0,O):SB(w,n-C,r,C,0),R}function Aae(t){let e=0,n=0,r=0,i=0;for(let s=0;s<t.length;s++){const{x:o,y:l,width:d,height:h}=t[s];s===0?(e=o,n=o+d,r=l,i=l+h):(o<e&&(e=o),l<r&&(r=l),o+d>n&&(n=o+d),l+h>i&&(i=l+h))}return{left:e,right:n,top:r,bottom:i,width:n-e,height:i-r}}function gU(t,e){return t/e<1}function UIe(t,e,n,r){let i="horizontal",s=1;return e===0?{itemGridRatio:s,layoutDirection:i}:(gU(n,r)?(i="vertical",s=1/3):(i="horizontal",s=1/3),{itemGridRatio:s,layoutDirection:i})}function SB(t,e,n,r,i){const s=Aae(t),o=Math.round((e-s.width)/2)+r,l=Math.round((n-s.height)/2)+i;return HIe(t,o,l),t}function HIe(t,e,n){for(const r of t)r.x+=e,r.y+=n;return t}function FX(t,e,n){const r=e/n;let i,s,o=16/9;return r<3/4?t===1?(i=1,s=1,o=0):t<=4?(i=1,s=t):t<=12?(i=2,s=Math.ceil(t/i),o=0):(i=3,s=Math.ceil(t/i),o=1):r<1?t===1?(i=1,s=1,o=0):t<=4?(i=1,s=t):t<=12?(i=2,s=Math.ceil(t/i)):(i=3,s=Math.ceil(t/i),o=1):r<17/9?t===1?(i=1,s=1):t===2?(i=2,s=1):t<=4?(i=2,s=2):t<=6?(i=3,s=2):t<=8?(i=4,s=2,o=1):t<=12?(i=4,s=3,o=1):(i=4,s=4):r<=32/9?t===1?(i=1,s=1):t===2?(i=2,s=1):t<=4?(i=2,s=2):t<=6?(i=3,s=2):t<=8?(i=4,s=2):t<=12?(i=4,s=3):(i=4,s=4):t<=6?(i=t,s=1):(i=Math.ceil(t/2),s=2),{columnCount:i,rowCount:s,tileAspectRatio:o}}function UX(t,e,n,r,i,s){if(t===0)return[];const o=[],l=Math.round((i-Vi*(e+1))/e),d=Math.round((s-Vi*(n+1))/n);let h,f;r?l/d>r?(h=d*r,f=d):(h=l,f=l/r):(h=l,f=d);for(let v=0;v<t;v++){const w=Math.floor(v/e),E=w*Vi+w*f;let C;w+1===n&&t%e!==0?C=t%e:C=e;const O=v%e;let M=0;if(C<e){const D=h*e+(Vi*e-1);M=Math.round((D-(h*C+(Vi*C-1)))/2)}const A=M+Vi*O+h*O;o.push({width:h,height:f,x:A,y:E,zIndex:0})}return o}function PC(t,e){if(e==="freedom"&&t.length===2&&!t.some(n=>n.presenter))t.forEach(n=>n.order=n.item.isLocal?0:1);else{const n=[],r=[],i=new Array(t.length);t.forEach(s=>i[s.order]=s),i.forEach(s=>(s.focused?n:r).push(s)),[...n,...r].forEach((s,o)=>s.order=o)}}function Pae({items:t,layout:e,disableAnimations:n,children:r}){const[i,s]=ee.exports.useState(1),[o,l]=ee.exports.useState(1),[{tiles:d,tilePositions:h},f]=ee.exports.useState({tiles:[],tilePositions:[]}),[v,w]=ee.exports.useState(0),E=ee.exports.useRef(null),C=ee.exports.useRef({}),O=ee.exports.useRef(e),M=NIe(),[A,D]=wO({polyfill:EO});ee.exports.useEffect(()=>{f(({tiles:ie,...se})=>{var he;const oe=[],Q=new Set;for(const Ee of ie){let De=t.find(xe=>xe.id===Ee.key),qe=!1;De||(qe=!0,De=Ee.item,Q.add(Ee.key));let _e;e==="spotlight"?_e=De.focused:_e=e===O.current?Ee.focused:!1,oe.push({key:De.id,order:Ee.order,item:De,remove:qe,focused:_e,presenter:De.presenter})}for(const Ee of t){const De=oe.findIndex(({key:xe})=>Ee.id===xe),qe=oe[De];if(qe&&!qe.remove)continue;const _e={key:Ee.id,order:(he=qe==null?void 0:qe.order)!=null?he:oe.length,item:Ee,remove:!1,focused:e==="spotlight"&&Ee.focused,presenter:Ee.presenter};qe?oe.splice(De,1,_e):oe.push(_e)}PC(oe,e),Q.size>0&&setTimeout(()=>{!M.current||f(({tiles:Ee,...De})=>{const qe=Ee.filter(xe=>!Q.has(xe.key)).map(xe=>({...xe}));PC(qe,e);const _e=qe.reduce((xe,Se)=>xe+(Se.focused?1:0),0);return{...De,tiles:qe,tilePositions:EB(qe.length,_e,qe.some(xe=>xe.presenter),D.width,D.height,i,o,e)}})},250);const ae=oe.reduce((Ee,De)=>Ee+(De.focused?1:0),0);return O.current=e,{...se,tiles:oe,tilePositions:EB(oe.length,ae,oe.some(Ee=>Ee.presenter),D.width,D.height,i,o,e)}})},[t,D,e,M,i,o]);const U=ee.exports.useCallback(ie=>se=>{const oe=ie[se],Q=h[oe.order],ae=E.current,he=ae&&oe.key===ae.key,Ee=oe.remove;if(he)return{width:Q.width,height:Q.height,x:ae.offsetX+ae.x,y:ae.offsetY+ae.y,scale:1.1,opacity:1,zIndex:2,shadow:15,immediate:De=>n||De==="zIndex"||De==="x"||De==="y"||De==="shadow",from:{shadow:0,scale:0,opacity:0},reset:!1};{const De=gU(D.width,D.height);return{x:Q.x+(e==="spotlight"&&oe.order!==0&&De?v:0),y:Q.y+(e==="spotlight"&&oe.order!==0&&!De?v:0),width:Q.width,height:Q.height,scale:Ee?0:1,opacity:Ee?0:1,zIndex:Q.zIndex,shadow:1,from:{shadow:1,scale:0,opacity:0},reset:!1,immediate:qe=>n||qe==="zIndex"||qe==="shadow",delay:qe=>qe==="zIndex"?500:0}}},[h,n,v,e,D]),[R,X]=Iae(d.length,U(d),[h,d,v]),H=ee.exports.useCallback(ie=>{const se=C.current[ie];if(!se||Date.now()-se>500){C.current[ie]=Date.now();return}C.current[ie]=0;const oe=d.find(ae=>ae.key===ie);if(!oe||e!=="freedom")return;const Q=oe.item;f(({tiles:ae,...he})=>{let Ee=0;const De=ae.map(qe=>{const _e={...qe};return qe.item===Q&&(_e.focused=!qe.focused),_e.focused&&Ee++,_e});return PC(De,e),{...he,tiles:De,tilePositions:EB(De.length,Ee,De.some(qe=>qe.presenter),D.width,D.height,i,o,e)}})},[d,e,D.width,D.height,i,o]),K=aCe(({args:[ie],active:se,xy:oe,movement:Q,tap:ae,last:he,event:Ee})=>{if(Ee.preventDefault(),ae){H(ie);return}if(e!=="freedom")return;const De=d.findIndex(Ie=>Ie.key===ie),qe=d[De],_e=h[qe.order],xe=[oe[0]-D.left,oe[1]-D.top];let Se=d;if(d.length===2&&!d.some(Ie=>Ie.presenter)){if(!qe.item.isLocal)return;if(he){const Ie=h[1],Ye=Oae(D.width/D.height),Le=Ie.x+Ye,Nt=Ie.y+Ye,pt=Ie.x+Ie.width-_e.width-Ye,ze=Ie.y+Ie.height-_e.height-Ye,nt=(_e.x+Q[0]-Le)/(pt-Le),me=(_e.y+Q[1]-Nt)/(ze-Nt);s(Math.max(0,Math.min(1,nt))),l(Math.max(0,Math.min(1,me)))}}else{const Ie=d.find(Ye=>Ye.key!==ie&&BIe(xe,h[Ye.order]));Ie&&(Se=Se.map(Ye=>{let Le=Ye.order;Le<qe.order?Le>=Ie.order&&Le++:Le>qe.order?Le<=Ie.order&&Le--:Le=Ie.order;let Nt;return Ye===Ie?Nt=qe.focused:Ye===qe?Nt=Ie.focused:Nt=Ye.focused,{...Ye,order:Le,focused:Nt}}),PC(Se,e),f(Ye=>({...Ye,tiles:Se})))}se?E.current?(E.current.x=Q[0],E.current.y=Q[1]):E.current={key:qe.key,offsetX:_e.x,offsetY:_e.y,x:Q[0],y:Q[1]}:E.current=null,X.start(U(Se))},{filterTaps:!0,pointer:{buttons:[1]}}),W=ee.exports.useCallback((ie,se)=>{if(e!=="spotlight")return;const oe=gU(D.width,D.height);let Q=ie.delta[oe?0:1];se&&(Q=-Q);let ae=0;if(h.length>1){const he=h[h.length-1];ae=oe?D.width-he.x-he.width-Vi:D.height-he.y-he.height-Vi}w(he=>Math.min(Math.max(Q+he,ae),0))},[e,D,h]),Z=cCe({onWheel:ie=>W(ie,!0),onDrag:ie=>W(ie,!1)},{});return z.createElement("div",{className:PIe.videoGrid,ref:A,...Z()},R.map(({shadow:ie,...se},oe)=>{const Q=d[oe],ae=h[Q.order];return r({...K(Q.key),key:Q.key,style:{boxShadow:ie.to(he=>`rgba(0, 0, 0, 0.5) 0px ${he}px ${2*he}px 0px`),...se},width:ae.width,height:ae.height,item:Q.item})}))}Pae.defaultProps={layout:"freedom"};function jIe(t){const[e,n]=ee.exports.useState({name:t.name,rawDisplayName:t.rawDisplayName});return ee.exports.useEffect(()=>{function r(){n({name:t.name,rawDisplayName:t.rawDisplayName})}return r(),t.on(Mc.Name,r),()=>{t.removeListener(Mc.Name,r)}},[t]),e}const KIe="_videoTile_1xy5c_1",zIe="_isLocal_1xy5c_28",qIe="_screenshare_1xy5c_28",VIe="_speaking_1xy5c_32",GIe="_maximised_1xy5c_43",WIe="_infoBubble_1xy5c_54",YIe="_toolbar_1xy5c_70",XIe="_presenterLabel_1xy5c_93",ZIe="_button_1xy5c_97",JIe="_memberName_1xy5c_106",QIe="_videoMutedAvatar_1xy5c_128",eRe="_videoMutedOverlay_1xy5c_135",tRe="_screensharePIP_1xy5c_157";var xc={videoTile:KIe,isLocal:zIe,screenshare:qIe,speaking:VIe,maximised:GIe,infoBubble:WIe,toolbar:YIe,presenterLabel:XIe,button:ZIe,memberName:JIe,videoMutedAvatar:QIe,videoMutedOverlay:eRe,screensharePIP:tRe};function nRe(t){return ee.exports.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M1.9206 1.0544C1.68141 0.815201 1.29359 0.815201 1.0544 1.0544C0.815201 1.29359 0.815201 1.68141 1.0544 1.9206L4.55 5.41621V7C4.55 8.3531 5.6469 9.45 7 9.45C7.45436 9.45 7.87983 9.32632 8.24458 9.11079L9.12938 9.99558C8.52863 10.4234 7.7937 10.675 7 10.675C4.97035 10.675 3.325 9.02965 3.325 7C3.325 6.66173 3.05077 6.3875 2.7125 6.3875C2.37423 6.3875 2.1 6.66173 2.1 7C2.1 9.49877 3.97038 11.5607 6.3875 11.8621V12.5125C6.3875 12.8508 6.66173 13.125 7 13.125C7.33827 13.125 7.6125 12.8508 7.6125 12.5125V11.8621C8.50718 11.7505 9.32696 11.3978 10.0047 10.8709L12.0794 12.9456C12.3186 13.1848 12.7064 13.1848 12.9456 12.9456C13.1848 12.7064 13.1848 12.3186 12.9456 12.0794L1.9206 1.0544Z",fill:"white"}),ee.exports.createElement("path",{d:"M10.5474 7.96338L11.5073 8.92525C11.7601 8.33424 11.9 7.68346 11.9 7C11.9 6.66173 11.6258 6.3875 11.2875 6.3875C10.9492 6.3875 10.675 6.66173 10.675 7C10.675 7.33336 10.6306 7.65634 10.5474 7.96338Z",fill:"white"}),ee.exports.createElement("path",{d:"M4.81385 2.21784L9.45 6.86366V3.325C9.45 1.9719 8.3531 0.875 7 0.875C6.04532 0.875 5.21818 1.42104 4.81385 2.21784Z",fill:"white"}))}function rRe(t){return ee.exports.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{d:"M0.20333 0.963373C0.474437 0.690007 0.913989 0.690007 1.1851 0.963373L11.5983 11.4633C11.8694 11.7367 11.8694 12.1799 11.5983 12.4533C11.3272 12.7267 10.8876 12.7267 10.6165 12.4533L0.20333 1.95332C-0.0677768 1.67995 -0.0677768 1.23674 0.20333 0.963373Z",fill:"white"}),ee.exports.createElement("path",{d:"M0.418261 3.63429C0.226267 3.95219 0.115674 4.32557 0.115674 4.725V9.85832C0.115674 11.0181 1.0481 11.9583 2.19831 11.9583H8.65411L0.447396 3.66596C0.437225 3.65568 0.427513 3.64511 0.418261 3.63429Z",fill:"white"}),ee.exports.createElement("path",{d:"M9.95036 4.725V8.33212L4.30219 2.625H7.86772C9.01793 2.625 9.95036 3.5652 9.95036 4.725Z",fill:"white"}),ee.exports.createElement("path",{d:"M12.8721 4.11817L11.1074 5.54167V9.04166L12.8721 10.4652C13.3266 10.8318 14 10.5055 14 9.91855V4.66478C14 4.07782 13.3266 3.7515 12.8721 4.11817Z",fill:"white"}))}const iRe=ee.exports.forwardRef(({name:t,speaking:e,audioMuted:n,videoMuted:r,screenshare:i,avatar:s,mediaRef:o,onOptionsPress:l,localVolume:d,maximised:h,fullscreen:f,onFullscreen:v,className:w,showOptions:E,isLocal:C,disableSpeakingIndicator:O,...M},A)=>{const{t:D}=Ir(),U=[];return C||(U.push(z.createElement(i6e,{className:xc.button,volume:d,onPress:l})),i&&U.push(z.createElement(s6e,{className:xc.button,fullscreen:f,onPress:v}))),z.createElement(Mae.div,{className:qr(xc.videoTile,w,{[xc.isLocal]:C,[xc.speaking]:e,[xc.muted]:n,[xc.screenshare]:i,[xc.maximised]:h}),ref:A,...M},U.length>0&&!h&&z.createElement("div",{className:qr(xc.toolbar)},U),r&&z.createElement(z.Fragment,null,z.createElement("div",{className:xc.videoMutedOverlay}),s),!h&&(i?z.createElement("div",{className:xc.presenterLabel},z.createElement("span",null,D("{{name}} is presenting",{name:t}))):z.createElement("div",{className:qr(xc.infoBubble,xc.memberName)},n&&!r&&z.createElement(nRe,null),r&&z.createElement(rRe,null),z.createElement("span",{title:t},t))),z.createElement("video",{ref:o,playsInline:!0,disablePictureInPicture:!0}))}),sRe="_videoTileSettingsModal_rrpkk_1",oRe="_content_rrpkk_7",aRe="_localVolumePercentage_rrpkk_16",lRe="_localVolumeSlider_rrpkk_20";var mU={videoTileSettingsModal:sRe,content:oRe,localVolumePercentage:aRe,localVolumeSlider:lRe};const cRe=({feed:t})=>{const[e,n]=ee.exports.useState(t.getLocalVolume()),r=i=>{const s=+i.target.value;n(s),t.setLocalVolume(s)};return z.createElement(z.Fragment,null,z.createElement(yi,null,z.createElement(wie,{volume:e}),z.createElement("input",{className:mU.localVolumeSlider,type:"range",min:"0",max:"1",step:"0.01",value:e,onChange:r})))},uRe=({feed:t,...e})=>{const{t:n}=Ir();return z.createElement(im,{className:mU.videoTileSettingsModal,title:n("Local volume"),isDismissable:!0,mobileFullScreen:!0,...e},z.createElement("div",{className:mU.content},z.createElement(cRe,{feed:t})))};function HX({item:t,width:e,height:n,getAvatar:r,audioContext:i,audioDestination:s,disableSpeakingIndicator:o,maximised:l,fullscreen:d,onFullscreen:h,...f}){const{isLocal:v,audioMuted:w,videoMuted:E,localVolume:C,speaking:O,stream:M,purpose:A,member:D}=R8(t.callFeed),{rawDisplayName:U}=jIe(D),[R,X]=g9e(M,i,s,v,C),{modalState:H,modalProps:K}=yu(),W=()=>{H.open()},Z=ee.exports.useCallback(()=>{h(t)},[h,t]);return z.createElement(z.Fragment,null,z.createElement(iRe,{isLocal:v,speaking:O&&!o,audioMuted:w,videoMuted:E,screenshare:A===is.Screenshare,name:U,ref:R,mediaRef:X,avatar:r&&r(D,e,n),onOptionsPress:W,localVolume:C,maximised:l,fullscreen:d,onFullscreen:Z,...f}),H.isOpen&&!l&&z.createElement(uRe,{...K,feed:t.callFeed}))}function jX(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 17.8689V2.51551C4 2.06669 4.53728 1.83452 4.86986 2.13591C8.18767 5.14263 10.9111 7.48209 13.102 9.36399L13.102 9.36403C18.3295 13.8544 20.5243 15.7398 20.5243 17.8689C20.5243 19.4181 19.6538 20.0153 18.1044 20.79C16.5549 21.5648 14.4534 22 12.2621 22C10.0709 22 7.96938 21.5648 6.41992 20.79C4.87047 20.0153 4 18.9646 4 17.8689ZM12.2621 20.9673C16.2548 20.9673 19.4915 19.5801 19.4915 17.869C19.4915 16.1578 16.2548 14.7707 12.2621 14.7707C8.26947 14.7707 5.03277 16.1578 5.03277 17.869C5.03277 19.5801 8.26947 20.9673 12.2621 20.9673ZM16.2618 8.67876C16.1718 8.64549 16.1718 8.51831 16.2618 8.48504L17.84 7.90103C17.8683 7.89057 17.8906 7.86828 17.901 7.84001L18.4851 6.26174C18.5183 6.17182 18.6455 6.17182 18.6788 6.26174L19.2628 7.84001C19.2733 7.86828 19.2955 7.89057 19.3238 7.90103L20.9021 8.48504C20.992 8.51831 20.992 8.64549 20.9021 8.67876L19.3238 9.26277C19.2955 9.27323 19.2733 9.29552 19.2628 9.32379L18.6788 10.9021C18.6455 10.992 18.5183 10.992 18.4851 10.9021L17.901 9.32379C17.8906 9.29552 17.8683 9.27323 17.84 9.26277L16.2618 8.67876ZM13.2618 5.45232C13.1718 5.48559 13.1718 5.61276 13.2618 5.64604L14.0862 5.95111C14.1145 5.96157 14.1368 5.98386 14.1472 6.01213L14.4523 6.83657C14.4856 6.92649 14.6127 6.92649 14.646 6.83657L14.9511 6.01213C14.9615 5.98386 14.9838 5.96157 15.0121 5.95111L15.8365 5.64603C15.9265 5.61276 15.9265 5.48559 15.8365 5.45232L15.0121 5.14725C14.9838 5.13679 14.9615 5.1145 14.9511 5.08623L14.646 4.26178C14.6127 4.17187 14.4856 4.17187 14.4523 4.26178L14.1472 5.08623C14.1368 5.1145 14.1145 5.13679 14.0862 5.14725L13.2618 5.45232Z",fill:"white"}))}function KX(t){return ee.exports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ee.exports.createElement("rect",{x:13,y:11,width:5,height:5,rx:1.16667,fill:"white"}),ee.exports.createElement("rect",{x:13,y:5,width:5,height:5,rx:1.16667,fill:"white"}),ee.exports.createElement("rect",{x:7,y:5,width:5,height:5,rx:1.16667,fill:"white"}),ee.exports.createElement("rect",{x:4,y:11,width:8,height:8,rx:1.14286,fill:"white"}))}function dRe({layout:t,setLayout:e}){const{t:n}=Ir(),r=ee.exports.useCallback(()=>n("Change layout"),[n]);return z.createElement(bO,{placement:"bottom right"},z.createElement(Af,{tooltip:r},z.createElement(Di,{variant:"icon"},t==="spotlight"?z.createElement(jX,null):z.createElement(KX,null))),i=>z.createElement(_O,{...i,label:n("Grid layout menu"),onAction:e},z.createElement(Wa,{key:"freedom",textValue:n("Freedom")},z.createElement(KX,null),z.createElement("span",null,"Freedom"),t==="freedom"&&z.createElement(nw,{className:Qy.checkIcon})),z.createElement(Wa,{key:"spotlight",textValue:n("Spotlight")},z.createElement(jX,null),z.createElement("span",null,"Spotlight"),t==="spotlight"&&z.createElement(nw,{className:Qy.checkIcon}))))}const fRe=({rageshakeRequestId:t,roomIdOrAlias:e,...n})=>{const{t:r}=Ir(),{submitRageshake:i,sending:s,sent:o,error:l}=dK();return ee.exports.useEffect(()=>{o&&n.onClose()},[o,n]),z.createElement(im,{title:r("Debug log request"),isDismissable:!0,...n},z.createElement(Aw,null,z.createElement(Ja,null,r("Another user on this call is having an issue. In order to better diagnose these issues we'd like to collect a debug log.")),z.createElement(yi,null,z.createElement(Di,{onPress:()=>i({sendLogs:!0,rageshakeRequestId:t,roomId:e}),disabled:s},r(s?"Sending debug logs\u2026":"Send debug logs"))),l&&z.createElement(yi,null,z.createElement(Ip,{error:l}))))};function hRe(t){const[e,n]=ee.exports.useState(null),{disposed:r}=R8(e==null?void 0:e.callFeed),i=ee.exports.useCallback(o=>{if(e)document.exitFullscreen(),n(null);else try{t.current.requestFullscreen(),n(o)}catch(l){console.warn("Failed to fullscreen:",l)}},[e,n,t]),s=ee.exports.useCallback(()=>{document.fullscreenElement||n(null)},[n]);return ip(t.current,"fullscreenchange",s),ee.exports.useEffect(()=>{r&&(document.exitFullscreen(),n(null))},[r]),{toggleFullscreen:i,fullscreenParticipant:e}}const pRe=({item:t,audioContext:e,audioDestination:n})=>{const{stream:r,localVolume:i}=R8(t.callFeed),[s]=Poe(r),o=ee.exports.useRef(),l=ee.exports.useRef();return ee.exports.useEffect(()=>{if(!t.isLocal&&e&&s>0){o.current||(o.current=new GainNode(e,{gain:i})),l.current||(l.current=e.createMediaStreamSource(r));const d=l.current,h=o.current;return h.gain.value=i,d.connect(h).connect(n),()=>{d.disconnect(),h.disconnect()}}},[t,e,n,r,i,s]),null},gRe=({items:t,...e})=>z.createElement(z.Fragment,null,t.filter(n=>!n.isLocal).map(n=>z.createElement(pRe,{key:n.id,item:n,...e}))),Dae=(t,e)=>{const[n,r]=ee.exports.useState(0);return f9e(t,Ci.Update,ee.exports.useCallback(()=>r(i=>i+1),[r])),ee.exports.useMemo(()=>e(t.currentState),[t,e,n])},mRe=t=>Dae(t,ee.exports.useCallback(e=>e.getJoinRule(),[]));var VX;const yRe="getDisplayMedia"in((VX=navigator.mediaDevices)!=null?VX:{}),zX=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function vRe({client:t,groupCall:e,roomName:n,avatarUrl:r,microphoneMuted:i,localVideoMuted:s,toggleLocalVideoMuted:o,toggleMicrophoneMuted:l,userMediaFeeds:d,activeSpeaker:h,onLeave:f,toggleScreensharing:v,isScreensharing:w,screenshareFeeds:E,localScreenshareFeed:C,roomIdOrAlias:O,unencryptedEventsFromUsers:M,hideHeader:A}){const{t:D}=Ir();Dj();const U=mRe(e.room),R=ee.exports.useRef(null),[X,H]=wO({polyfill:EO}),K=ee.exports.useCallback(me=>{R.current=me,X(me)},[R,X]),{layout:W,setLayout:Z}=DIe(E.length>0),{toggleFullscreen:ie,fullscreenParticipant:se}=hRe(R),[oe]=yK(),[Q,ae,he]=p9e(),{audioOutput:Ee}=M8(),[De]=Loe(),{modalState:qe,modalProps:_e}=yu();Aoe(he,Ee);const{hideScreensharing:xe}=Iie();ee.exports.useEffect(()=>{os==null||os.api.transport.send(W==="freedom"?ru.TileLayout:ru.SpotlightLayout,{})},[W]),ee.exports.useEffect(()=>{if(os){const me=async Ve=>{Z("freedom"),await os.api.transport.reply(Ve.detail,{})},ut=async Ve=>{Z("spotlight"),await os.api.transport.reply(Ve.detail,{})};return os.lazyActions.on(ru.TileLayout,me),os.lazyActions.on(ru.SpotlightLayout,ut),()=>{os.lazyActions.off(ru.TileLayout,me),os.lazyActions.off(ru.SpotlightLayout,ut)}}},[Z]);const Se=ee.exports.useMemo(()=>{const me=[];for(const ut of d)me.push({id:ut.stream.id,callFeed:ut,focused:E.length===0&&ut.userId===h,isLocal:ut.isLocal(),presenter:!1});for(const ut of E){const Ve=me.find(dt=>dt.callFeed.userId===ut.userId);Ve&&(Ve.presenter=!0),me.push({id:ut.stream.id,callFeed:ut,focused:!0,isLocal:ut.isLocal(),presenter:!1})}return me},[d,h,E]),Ie=ee.exports.useMemo(()=>{var me,ut;return se!=null?se:H.height<=400&&H.width<=400&&(ut=(me=Se.find(Ve=>Ve.focused))!=null?me:Se.find(Ve=>Ve.callFeed))!=null?ut:null},[se,H,Se]),Ye=H.width<=400,Le=ee.exports.useCallback((me,ut,Ve)=>{var Ze;const dt=(Ze=me.user)==null?void 0:Ze.avatarUrl,ot=Math.round(Math.min(ut,Ve)/2);return z.createElement(_p,{key:me.userId,size:ot,src:dt,fallback:me.name.slice(0,1).toUpperCase(),className:YE.avatar})},[]),Nt=()=>Se.length===0?z.createElement("div",{className:YE.centerMessage},z.createElement("p",null,D("Waiting for other participants\u2026"))):Ie?z.createElement(HX,{height:H.height,width:H.width,key:Ie.id,item:Ie,getAvatar:Le,audioContext:Q,audioDestination:ae,disableSpeakingIndicator:!0,maximised:Boolean(Ie),fullscreen:Ie===se,onFullscreen:ie}):z.createElement(Pae,{items:Se,layout:W,disableAnimations:zX},({item:me,...ut})=>z.createElement(HX,{key:me.id,item:me,getAvatar:Le,audioContext:Q,audioDestination:ae,disableSpeakingIndicator:Se.length<3,maximised:!1,fullscreen:!1,onFullscreen:ie,...ut})),{modalState:pt,modalProps:ze}=T8e(e.room.roomId),nt=qr(YE.inRoom,{[YE.maximised]:Ie});return z.createElement("div",{className:nt,ref:K},z.createElement("audio",{ref:he}),(!oe||Ie)&&z.createElement(gRe,{items:Se,audioContext:Q,audioDestination:ae}),!A&&!Ie&&z.createElement(sm,null,z.createElement(om,null,z.createElement(OR,{roomName:n,avatarUrl:r}),z.createElement(V6e,{users:M,room:e.room})),z.createElement(am,null,z.createElement(dRe,{layout:W,setLayout:Z}),z.createElement(C8,{preventNavigation:!0}))),Nt(),z.createElement("div",{className:YE.footer},z.createElement(xie,{muted:i,onPress:l}),z.createElement(kie,{muted:s,onPress:o}),yRe&&!xe&&!zX&&!Ye&&z.createElement(n6e,{enabled:w,onPress:v}),!Ye&&z.createElement(_K,{inCall:!0,roomIdOrAlias:O,groupCall:e,showInvite:U===tM.Public,feedbackModalState:qe,feedbackModalProps:_e}),z.createElement(Tie,{onPress:f})),z.createElement(foe,{client:t,groupCall:e,show:De}),pt.isOpen&&z.createElement(fRe,{...ze,roomIdOrAlias:O}))}const bRe=t=>{const[e,n]=ee.exports.useState(t),r=ee.exports.useRef();r.current||(r.current=new Set);const i=ee.exports.useCallback((o,l)=>{const d=setTimeout(()=>{n(o),r.current.delete(d)},l);r.current.add(d)},[n,r]),s=ee.exports.useCallback(o=>{for(const l of r.current)clearTimeout(l);r.current.clear(),n(o)},[n,r]);return[e,i,s]},_Re="_pttCallView_1mpay_1",wRe="_center_1mpay_19",ERe="_participants_1mpay_27",SRe="_facepile_1mpay_39",xRe="_talkingInfo_1mpay_43",kRe="_speakerIcon_1mpay_52",TRe="_pttButtonContainer_1mpay_56",CRe="_actionTip_1mpay_64",IRe="_footer_1mpay_70";var Zu={pttCallView:_Re,center:wRe,participants:ERe,facepile:SRe,talkingInfo:xRe,speakerIcon:kRe,pttButtonContainer:TRe,actionTip:CRe,footer:IRe};const RRe="_pttButton_1yiik_1",MRe="_micIcon_1yiik_16",ORe="_avatar_1yiik_20",LRe="_talking_1yiik_26",ARe="_networkWaiting_1yiik_31",PRe="_error_1yiik_37";var $_={pttButton:RRe,micIcon:MRe,avatar:ORe,talking:LRe,networkWaiting:ARe,error:PRe};const DRe=({enabled:t,showTalkOverError:e,activeSpeakerUserId:n,activeSpeakerDisplayName:r,activeSpeakerAvatarUrl:i,activeSpeakerIsLocalUser:s,activeSpeakerVolume:o,size:l,startTalking:d,stopTalking:h,networkWaiting:f,enqueueNetworkWaiting:v,setNetworkWaiting:w})=>{const E=ee.exports.useRef(),[C,O]=ee.exports.useState(null),[M,A]=ee.exports.useState(!1),D=ee.exports.useCallback(()=>{M||(A(!0),v(!0,100),d())},[v,d,M]),U=ee.exports.useCallback(()=>{A(!1),w(!1),h()},[w,h]),R=ee.exports.useCallback(K=>{K.preventDefault(),D()},[D]);ip(window,"mouseup",U),ip(window,"touchend",ee.exports.useCallback(K=>{let W=!1;for(let Z=0;Z<K.changedTouches.length;++Z)if(K.changedTouches.item(Z).identifier===C){W=!0;break}!W||(K.preventDefault(),U(),O(null))},[U,C,O])),ip(E.current,"touchstart",ee.exports.useCallback(K=>{K.preventDefault(),D(),O(K.changedTouches.item(0).identifier)},[D,O]),{passive:!1}),ip(window,"keydown",ee.exports.useCallback(K=>{if(K.code==="Space"){if(!t)return;K.preventDefault(),D()}},[t,D])),ip(window,"keyup",ee.exports.useCallback(K=>{K.code==="Space"&&(K.preventDefault(),U())},[U])),ip(window,"blur",U);const{shadow:X}=mIe({shadow:(Math.max(o,-70)+70)*.6,config:{clamp:!0,tension:300}}),H=e?"var(--alert-20)":f?"var(--tertiary-content-20)":"var(--accent-20)";return z.createElement(Mae.button,{className:qr($_.pttButton,{[$_.talking]:n,[$_.networkWaiting]:f,[$_.error]:e}),style:{boxShadow:X.to(K=>`0px 0px 0px ${K}px ${H}, 0px 0px 0px ${2*K}px ${H}`)},onMouseDown:R,ref:E},s||!n?z.createElement(Uj,{className:$_.micIcon,width:l/3,height:l/3}):z.createElement(_p,{key:n,size:l-12,src:i,fallback:r.slice(0,1).toUpperCase(),className:$_.avatar}))},NRe="_audioFeed_12m25_1";var BRe={audioFeed:NRe};function $Re({callFeed:t,audioOutputDevice:e}){const{isLocal:n,stream:r}=R8(t),i=vK(r,e,n);return z.createElement("audio",{ref:i,className:BRe.audioFeed,playsInline:!0})}var Q_=(t=>(t[t.START_TALKING_LOCAL=0]="START_TALKING_LOCAL",t[t.START_TALKING_REMOTE=1]="START_TALKING_REMOTE",t[t.END_TALKING=2]="END_TALKING",t[t.BLOCKED=3]="BLOCKED",t))(Q_||{});const FRe=()=>{const[t]=ee.exports.useState(z.createRef()),[e]=ee.exports.useState(z.createRef()),[n]=ee.exports.useState(z.createRef()),[r]=ee.exports.useState(z.createRef()),i=ee.exports.useCallback(async s=>{let o;switch(s){case 0:o=t;break;case 1:o=e;break;case 2:o=n;break;case 3:o=r;break}if(o.current)try{o.current.currentTime=0,await o.current.play()}catch(l){console.log("Couldn't play sound effect",l)}else console.log("No media element found")},[t,e,n,r]);return{startTalkingLocalRef:t,startTalkingRemoteRef:e,endTalkingRef:n,blockedRef:r,playClip:i}};function DC(t,e){const n=t.filter(o=>!o.isAudioMuted()),r=new Intl.Collator("en",{sensitivity:"variant",usage:"sort",ignorePunctuation:!1});n.sort((o,l)=>r.compare(o.userId,l.userId));let i=null,s=null;for(const o of n){const l=e.room.getMember(o.userId);(s===null||l.powerLevel>s)&&(s=l.powerLevel,i=o)}return i}const URe=(t,e,n,r)=>{const[i,s]=ee.exports.useState(Promise.resolve(!1)),o=ee.exports.useCallback(H=>{s(i.then(()=>e.setMicrophoneMuted(H).catch(K=>{V.error("Failed to unmute microphone",K)})))},[e,i]),[{pttButtonHeld:l,isAdmin:d,talkOverEnabled:h,activeSpeakerUserId:f,activeSpeakerVolume:v,transmitBlocked:w},E]=ee.exports.useState(()=>{const H=e.room.getMember(t.getUserId()),K=DC(n,e);return{isAdmin:H.powerLevel>=100,talkOverEnabled:!1,pttButtonHeld:!1,activeSpeakerUserId:K?K.userId:null,activeSpeakerVolume:-1/0,transmitBlocked:!1}}),C=ee.exports.useCallback(()=>{const H=DC(n,e);let K=w;f===null&&H!==null?H.userId===t.getUserId()?r(Q_.START_TALKING_LOCAL):r(Q_.START_TALKING_REMOTE):f!==null&&H===null?r(Q_.END_TALKING):l&&(H==null?void 0:H.userId)!==t.getUserId()&&!w&&(o(!0),K=!0,r(Q_.BLOCKED)),E(W=>({...W,activeSpeakerUserId:H?H.userId:null,transmitBlocked:K}))},[r,e,l,f,t,n,o,w]);ee.exports.useEffect(()=>{for(const K of n)K.on(zl.MuteStateChanged,C);const H=DC(n,e);return E(K=>({...K,activeSpeakerUserId:H?H.userId:null})),()=>{for(const K of n)K.off(zl.MuteStateChanged,C)}},[n,C,e]);const O=ee.exports.useCallback(H=>{E(K=>({...K,activeSpeakerVolume:H}))},[]);ee.exports.useEffect(()=>{const H=DC(n,e);return H==null||H.on(zl.VolumeChanged,O),()=>{H==null||H.off(zl.VolumeChanged,O),E(K=>({...K,activeSpeakerVolume:-1/0}))}},[f,O,n,e]);const M=ee.exports.useCallback(async()=>{if(l)return;let H=!1;f&&!(d&&h)&&(r(Q_.BLOCKED),H=!0),E(K=>({...K,pttButtonHeld:!0,transmitBlocked:H})),!H&&e.isMicrophoneMuted()&&o(!1)},[l,e,f,d,h,E,r,o]),A=ee.exports.useCallback(async()=>{E(H=>({...H,pttButtonHeld:!1,transmitBlocked:!1})),o(!0)},[o]),[D,U]=ee.exports.useState(!0),R=ee.exports.useCallback(H=>{U(H!==Ka.Error)},[U]);ee.exports.useEffect(()=>(t.on(sr.Sync,R),()=>{t.removeListener(sr.Sync,R)}),[t,R]);const X=ee.exports.useCallback(H=>{E(K=>({...K,talkOverEnabled:H}))},[]);return{pttButtonHeld:l,isAdmin:d,talkOverEnabled:h,setTalkOverEnabled:X,activeSpeakerUserId:f,activeSpeakerVolume:v,startTalking:M,stopTalking:A,transmitBlocked:w,connected:D}};function xB(t){return t<10?"0"+t:""+t}function HRe(t){const e=t/1e3,n=Math.floor(e/3600),r=Math.floor(e/60)-n*60,i=Math.floor(e-n*3600-r*60);return`${xB(n)}:${xB(r)}:${xB(i)}`}function jRe({value:t}){const[e,n]=ee.exports.useState();return ee.exports.useEffect(()=>{const r=performance.now();let i;function s(o){const l=o-r;n(HRe(l)),i=requestAnimationFrame(s)}return s(r),()=>{cancelAnimationFrame(i)}},[t]),z.createElement("p",null,e)}const KRe="_toggle_1witp_1",zRe="_button_1witp_6",qRe="_ball_1witp_19",VRe="_label_1witp_30",GRe="_on_1witp_36";var F_={toggle:KRe,button:zRe,ball:qRe,label:VRe,on:GRe};function WRe({id:t,label:e,className:n,onChange:r,isSelected:i}){const s=ee.exports.useRef(),o=ee.exports.useCallback(()=>{r(!i)},[i,r]),l=hie({isSelected:i},{isSelected:i,setSelected:void 0,toggle:o},s);return z.createElement(hoe,{className:qr(F_.toggle,{[F_.on]:i},n)},z.createElement("button",{...l,ref:s,id:t,className:qr(F_.button,{[F_.isPressed]:i})},z.createElement("div",{className:F_.ball})),z.createElement("label",{className:F_.label,htmlFor:t},e))}var YRe="/assets/start_talk_local.fa98370e.ogg",XRe="/assets/start_talk_local.f7286fd5.mp3",ZRe="/assets/start_talk_remote.039edfba.ogg",JRe="/assets/start_talk_remote.27052e34.mp3",QRe="/assets/end_talk.636119e9.ogg",eMe="/assets/end_talk.b3118885.mp3",tMe="/assets/blocked.b410abf2.ogg",nMe="/assets/blocked.eadd18fc.mp3";const rMe="_pttClip_1xmxe_17";var NC={pttClip:rMe};const iMe=({startTalkingLocalRef:t,startTalkingRemoteRef:e,endTalkingRef:n,blockedRef:r})=>z.createElement(z.Fragment,null,z.createElement("audio",{preload:"auto",className:NC.pttClip,ref:t},z.createElement("source",{type:"audio/ogg",src:YRe}),z.createElement("source",{type:"audio/mpeg",src:XRe})),z.createElement("audio",{preload:"auto",className:NC.pttClip,ref:e},z.createElement("source",{type:"audio/ogg",src:ZRe}),z.createElement("source",{type:"audio/mpeg",src:JRe})),z.createElement("audio",{preload:"auto",className:NC.pttClip,ref:n},z.createElement("source",{type:"audio/ogg",src:QRe}),z.createElement("source",{type:"audio/mpeg",src:eMe})),z.createElement("audio",{preload:"auto",className:NC.pttClip,ref:r},z.createElement("source",{type:"audio/ogg",src:tMe}),z.createElement("source",{type:"audio/mpeg",src:nMe})));function sMe(t,e,n,r,i,s,o,l,d){if(!l)return d("Connection lost");const h=Boolean(window.ontouchstart!==void 0);return t?d("Waiting for network"):e?d("You can't talk at the same time"):n&&r?d(h?"Release to stop":"Release spacebar key to stop"):i&&s&&!r?h?d("Press and hold to talk over {{name}}",{name:o}):d("Press and hold spacebar to talk over {{name}}",{name:o}):d(h?"Press and hold to talk":"Press and hold spacebar to talk")}const oMe=({client:t,roomIdOrAlias:e,roomName:n,avatarUrl:r,groupCall:i,participants:s,userMediaFeeds:o,onLeave:l,isEmbedded:d,hideHeader:h})=>{const{t:f}=Ir(),{modalState:v,modalProps:w}=yu(),{modalState:E,modalProps:C}=yu(),[O,M]=wO({polyfill:EO}),A=M.width<800?fu.SM:fu.MD,D=M.height>500,U=232,{audioOutput:R}=M8(),{startTalkingLocalRef:X,startTalkingRemoteRef:H,blockedRef:K,endTalkingRef:W,playClip:Z}=FRe(),{pttButtonHeld:ie,isAdmin:se,talkOverEnabled:oe,setTalkOverEnabled:Q,activeSpeakerUserId:ae,activeSpeakerVolume:he,startTalking:Ee,stopTalking:De,transmitBlocked:qe,connected:_e}=URe(t,i,o,Z),[xe,Se,Ie]=bRe(!1),Ye=ie&&qe,Le=xe&&!ae&&!Ye,Nt=ae===t.getUserId(),pt=ae?t.getUser(ae):null,ze=pt==null?void 0:pt.avatarUrl,nt=pt?pt.displayName:"";return ee.exports.useEffect(()=>{Ie(Nt)},[Nt,Ie]),z.createElement("div",{className:Zu.pttCallView,ref:O},z.createElement(iMe,{startTalkingLocalRef:X,startTalkingRemoteRef:H,endTalkingRef:W,blockedRef:K}),z.createElement(foe,{client:t,groupCall:i,show:!1}),!h&&D&&z.createElement(sm,{className:Zu.header},z.createElement(om,null,z.createElement(q6e,{roomName:n,avatarUrl:r,onPress:l,isEmbedded:d})),z.createElement(am,null)),z.createElement("div",{className:Zu.center},D&&z.createElement(z.Fragment,null,z.createElement("div",{className:Zu.participants},z.createElement("p",null,f("{{count}} people connected",{count:s.length})),z.createElement(boe,{size:A,max:8,className:Zu.facepile,client:t,participants:s})),z.createElement("div",{className:Zu.footer},z.createElement(_K,{inCall:!0,roomIdOrAlias:e,groupCall:i,showInvite:!1,feedbackModalState:E,feedbackModalProps:C}),!d&&z.createElement(Tie,{onPress:l}),z.createElement(r6e,{onPress:()=>v.open()}))),z.createElement("div",{className:Zu.pttButtonContainer},D&&(ae?z.createElement("div",{className:Zu.talkingInfo},z.createElement("h2",null,!Nt&&z.createElement(Hj,{className:Zu.speakerIcon}),Nt?f("Talking\u2026"):f("{{name}} is talking\u2026",{name:nt})),z.createElement(jRe,{value:ae})):z.createElement("div",{className:Zu.talkingInfo})),z.createElement(DRe,{enabled:!E.isOpen,showTalkOverError:Ye,activeSpeakerUserId:ae,activeSpeakerDisplayName:nt,activeSpeakerAvatarUrl:ze,activeSpeakerIsLocalUser:Nt,activeSpeakerVolume:he,size:U,startTalking:Ee,stopTalking:De,networkWaiting:Le,enqueueNetworkWaiting:Se,setNetworkWaiting:Ie}),D&&z.createElement("p",{className:Zu.actionTip},sMe(Le,Ye,ie,Nt,oe,ae,nt,_e,f)),o.map(me=>z.createElement($Re,{key:me.userId,callFeed:me,audioOutputDevice:R})),se&&D&&z.createElement(WRe,{isSelected:oe,onChange:Q,label:f("Talk over speaker"),id:"talkOverEnabled"}))),v.isOpen&&D&&z.createElement(Uoe,{roomIdOrAlias:e,...w}))},aMe="_headline_1q4ce_17",lMe="_callEndedContent_1q4ce_22",cMe="_callEndedButton_1q4ce_31",uMe="_container_1q4ce_36",dMe="_main_1q4ce_44",fMe="_logo_1q4ce_51",hMe="_footer_1q4ce_60";var U_={headline:aMe,callEndedContent:lMe,callEndedButton:cMe,container:uMe,main:dMe,logo:fMe,footer:hMe};function pMe({client:t}){const{t:e}=Ir(),{displayName:n}=vO(t);return z.createElement(z.Fragment,null,z.createElement(sm,null,z.createElement(om,null,z.createElement(Gy,null)),z.createElement(am,null)),z.createElement("div",{className:U_.container},z.createElement("main",{className:U_.main},z.createElement(zj,{className:U_.headline},e("{{displayName}}, your call is now ended",{displayName:n})),z.createElement("div",{className:U_.callEndedContent},z.createElement(xf,null,z.createElement(VF,null,"Why not finish by setting up a password to keep your account?"),z.createElement(VF,null,"You'll be able to keep your name and set an avatar for use on future calls")),z.createElement(Kj,{className:U_.callEndedButton,size:"lg",variant:"default",to:"/register"},e("Create account")))),z.createElement(Ja,{className:U_.footer},z.createElement(cu,{color:"primary",to:"/"},e("Not now, return to home screen")))))}const gMe=t=>Dae(t,ee.exports.useCallback(()=>t.getMxcAvatarUrl(),[t]));function mMe(t){ee.exports.useEffect(()=>{function e(r){r.hangupReason==="ice_failed"&&xx(new Error("Call hangup due to ICE failure."))}function n(r){xx(r)}return t&&(t.on(fa.Hangup,e),t.on(bs.Error,n)),()=>{t&&(t.removeListener(fa.Hangup,e),t.removeListener(bs.Error,n))}},[t])}async function qX(t,e,n){const r=n.find(i=>i.kind===e&&i.label===t);return r==null?void 0:r.deviceId}async function yMe(){let t;try{t=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){throw V.info("Couldn't get media stream for enumerateDevices: failing"),e}try{return await navigator.mediaDevices.enumerateDevices()}catch(e){V.warn("Unable to refresh WebRTC Devices: ",e)}finally{for(const e of t.getTracks())e.stop()}}function vMe({client:t,isPasswordlessUser:e,isEmbedded:n,preload:r,hideHeader:i,roomIdOrAlias:s,groupCall:o}){const{state:l,error:d,activeSpeaker:h,userMediaFeeds:f,microphoneMuted:v,localVideoMuted:w,localCallFeed:E,initLocalCallFeed:C,enter:O,leave:M,toggleLocalVideoMuted:A,toggleMicrophoneMuted:D,toggleScreensharing:U,requestingScreenshare:R,isScreensharing:X,localScreenshareFeed:H,screenshareFeeds:K,participants:W,unencryptedEventsFromUsers:Z}=Ake(o),{t:ie}=Ir(),{setAudioInput:se,setVideoInput:oe}=M8(),Q=gMe(o.room);ee.exports.useEffect(()=>(window.groupCall=o,()=>{delete window.groupCall}),[o]),ee.exports.useEffect(()=>{if(os&&r){const qe=async _e=>{const xe=await yMe(),{audioInput:Se,videoInput:Ie}=_e.detail.data;if(Se!==null){const Ye=await qX(Se,"audioinput",xe);Ye?(V.debug(`Found audio input ID ${Ye} for name ${Se}`),se(Ye)):V.warn("Unknown audio input: "+Se)}if(Ie!==null){const Ye=await qX(Ie,"videoinput",xe);Ye?(V.debug(`Found video input ID ${Ye} for name ${Ie}`),oe(Ye)):V.warn("Unknown video input: "+Ie)}await Promise.all([o.setMicrophoneMuted(Se===null),o.setLocalVideoMuted(Ie===null)]),await o.enter(),await Promise.all([os.api.setAlwaysOnScreen(!0),os.api.transport.reply(_e.detail,{})])};return os.lazyActions.on(ru.JoinCall,qe),()=>{os.lazyActions.off(ru.JoinCall,qe)}}},[o,r,se,oe]),ee.exports.useEffect(()=>{n&&!r&&o.enter()},[o,n,r]),mMe(o),Eoe(R);const[ae,he]=ee.exports.useState(!1),Ee=Tp(),De=ee.exports.useCallback(()=>{he(!0),M(),os&&(os.api.transport.send(ru.HangupCall,{}),os.api.setAlwaysOnScreen(!1)),!e&&!n&&Ee.push("/")},[M,e,n,Ee]);return ee.exports.useEffect(()=>{if(os&&l===Yo.Entered){const qe=async _e=>{M(),await os.api.transport.reply(_e.detail,{}),os.api.setAlwaysOnScreen(!1)};return os.lazyActions.once(ru.HangupCall,qe),()=>{os.lazyActions.off(ru.HangupCall,qe)}}},[o,l,M]),d?z.createElement(T8,{error:d}):l===Yo.Entered?o.isPtt?z.createElement(oMe,{client:t,roomIdOrAlias:s,roomName:o.room.name,avatarUrl:Q,groupCall:o,participants:W,userMediaFeeds:f,onLeave:De,isEmbedded:n,hideHeader:i}):z.createElement(vRe,{groupCall:o,client:t,roomName:o.room.name,avatarUrl:Q,microphoneMuted:v,localVideoMuted:w,toggleLocalVideoMuted:A,toggleMicrophoneMuted:D,userMediaFeeds:f,activeSpeaker:h,onLeave:De,toggleScreensharing:U,isScreensharing:X,localScreenshareFeed:H,screenshareFeeds:K,roomIdOrAlias:s,unencryptedEventsFromUsers:Z,hideHeader:i}):l===Yo.Entering?z.createElement(rw,null,z.createElement("h1",null,ie("Entering room\u2026"))):ae?e?z.createElement(pMe,{client:t}):null:r?null:n?z.createElement(rw,null,z.createElement("h1",null,ie("Loading room\u2026"))):z.createElement(X9e,{client:t,groupCall:o,roomName:o.room.name,avatarUrl:Q,state:l,onInitLocalCallFeed:C,localCallFeed:E,onEnter:O,microphoneMuted:v,localVideoMuted:w,toggleLocalVideoMuted:A,toggleMicrophoneMuted:D,roomIdOrAlias:s,isEmbedded:n,hideHeader:i})}const bMe=()=>{const{t}=Ir(),{loading:e,isAuthenticated:n,error:r,client:i,isPasswordlessUser:s}=_d(),{roomAlias:o,roomId:l,viaServers:d,isEmbedded:h,preload:f,hideHeader:v,isPtt:w,displayName:E}=Iie(),C=l!=null?l:o;if(!C)throw Jy("No room specified",t);const{registerPasswordlessUser:O}=woe(),[M,A]=ee.exports.useState(!1);ee.exports.useEffect(()=>{!n&&E&&(A(!0),O(E).finally(()=>{A(!1)}))},[n,E,A,O]);const D=ee.exports.useCallback(U=>z.createElement(vMe,{client:i,roomIdOrAlias:C,groupCall:U,isPasswordlessUser:s,isEmbedded:h,preload:f,hideHeader:v}),[i,C,s,h,f,v]);return e||M?z.createElement(yO,null):r?z.createElement(T8,{error:r}):n?z.createElement(Hke,{client:i},z.createElement(Mke,{client:i,roomIdOrAlias:C,viaServers:d,createPtt:w},D)):z.createElement(Ike,null)};function _Me(){const{pathname:t}=tm(),e=Tp();return ee.exports.useEffect(()=>{let n=t;t.startsWith("/")&&(n=n.substring(1,n.length)),!n.startsWith("#")&&!n.startsWith("!")&&(n=`#${n}:${b8}`),e.replace(`/room/${n.toLowerCase()}`)},[t,e]),z.createElement(yO,null)}const wMe="_hideFocus_4fael_1";var BC={hideFocus:wMe};function EMe(){const{isFocusVisible:t}=fre();ee.exports.useEffect(()=>{const e=document.body.classList,n=e.contains(BC.hideFocus);return t&&n?e.remove(BC.hideFocus):!t&&!n&&e.add(BC.hideFocus),()=>{e.remove(BC.hideFocus)}},[t])}function SMe(){const{t}=Ir();I8(t("Inspector"));const[e,n]=ee.exports.useState(),[r,i]=ee.exports.useState(),s=ee.exports.useCallback(o=>{o.target.files&&o.target.files.length>0&&o.target.files[0].text().then(l=>{n(JSON.parse(l))})},[]);return z.createElement("div",{style:{marginTop:20}},z.createElement(yi,null,z.createElement(Ya,{type:"file",id:"debugLog",name:"debugLog",label:t("Debug log"),onChange:s})),e&&z.createElement(doe,{localUserId:e.localUserId,selectedUserId:r,onSelectUserId:i,remoteUserIds:e.remoteUserIds,events:e.eventsByUserId[r]}))}const H_=_ye(pbe);function xMe({history:t}){EMe();const e=z.createElement(z8e,null);return z.createElement(vbe,{history:t},z.createElement(ee.exports.Suspense,{fallback:null},z.createElement(V8e,null,z.createElement(w8e,null,z.createElement(mye,{fallback:e},z.createElement(Nj,null,z.createElement(ybe,null,z.createElement(H_,{exact:!0,path:"/"},z.createElement(dke,null)),z.createElement(H_,{exact:!0,path:"/login"},z.createElement(vke,null)),z.createElement(H_,{exact:!0,path:"/register"},z.createElement(bke,null)),z.createElement(H_,{path:"/room/:roomId?"},z.createElement(bMe,null)),z.createElement(H_,{path:"/inspector"},z.createElement(SMe,null)),z.createElement(H_,{path:"*"},z.createElement(_Me,null)))))))))}QSe();console.info(`matrix-video-chat ${{}.VITE_APP_VERSION||"dev"}`);if(!window.isSecureContext)throw new Error(`This app cannot run in an insecure context. To fix this, access the app via a local loopback address, or serve it over HTTPS.
https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts`);if({}.VITE_CUSTOM_THEME){const t=document.documentElement.style;t.setProperty("--accent",{}.VITE_THEME_ACCENT),t.setProperty("--accent-20",{}.VITE_THEME_ACCENT_20),t.setProperty("--alert",{}.VITE_THEME_ALERT),t.setProperty("--alert-20",{}.VITE_THEME_ALERT_20),t.setProperty("--links",{}.VITE_THEME_LINKS),t.setProperty("--primary-content",{}.VITE_THEME_PRIMARY_CONTENT),t.setProperty("--secondary-content",{}.VITE_THEME_SECONDARY_CONTENT),t.setProperty("--tertiary-content",{}.VITE_THEME_TERTIARY_CONTENT),t.setProperty("--tertiary-content-20",{}.VITE_THEME_TERTIARY_CONTENT_20),t.setProperty("--quaternary-content",{}.VITE_THEME_QUATERNARY_CONTENT),t.setProperty("--quinary-content",{}.VITE_THEME_QUINARY_CONTENT),t.setProperty("--system",{}.VITE_THEME_SYSTEM),t.setProperty("--background",{}.VITE_THEME_BACKGROUND),t.setProperty("--background-85",{}.VITE_THEME_BACKGROUND_85)}const Nae=Jee();var GX;Q0e({dsn:{}.VITE_SENTRY_DSN,environment:(GX={}.VITE_SENTRY_ENVIRONMENT)!=null?GX:"production",integrations:[new ive({routingInstrumentation:yye(Nae)})],tracesSampleRate:1});const Bae=new lne;Bae.addDetector({name:"urlFragment",lookup:()=>{var t;return(t=oO().lang)!=null?t:void 0}});xl.use(one).use(Bae).use(s2e).init({fallbackLng:"en-GB",defaultNS:"app",keySeparator:!1,nsSeparator:!1,pluralSeparator:"|",contextSeparator:"|",interpolation:{escapeValue:!1},detection:{order:["urlFragment","navigator"],caches:[]}});Gee.render(z.createElement(z.StrictMode,null,z.createElement(xMe,{history:Nae})),document.getElementById("root"))});export default kMe();
//# sourceMappingURL=index.c30e761a.js.map
